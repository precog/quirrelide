/**
 * @license RequireJS text 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */
/*!
 * jQuery UI @VERSION
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
/*!
 * jQuery UI Position @VERSION
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Position
 */
/*!
 * jQuery UI Widget @VERSION
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
/*!
 * jQuery UI Mouse @VERSION
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
/*!
 * jQuery UI Resizable @VERSION
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Resizables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
/*!
 * jQuery UI Button @VERSION
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Button
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
/*!
 * jQuery UI Sortable @VERSION
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Sortables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
/*!
 * jQuery UI Draggable @VERSION
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
/*!
 * jQuery UI Progressbar @VERSION
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Progressbar
 *
 * Depends:
 *   jquery.ui.core.js
 *   jquery.ui.widget.js
 */
/*!
 * jQuery UI Tabs @VERSION
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Tabs
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
/*!
 * jQuery UI Menu @VERSION
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Menu
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */
/*!
 * jQuery UI Dialog @VERSION
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Dialog
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *  jquery.ui.button.js
 *	jquery.ui.draggable.js
 *	jquery.ui.mouse.js
 *	jquery.ui.position.js
 *	jquery.ui.resizable.js
 */
/*!
    Copyright (c) 2009, 280 North Inc. http://280north.com/
    MIT License. http://github.com/280north/narwhal/blob/master/README.md
*/
/*!
    Copyright (c) 2009, 280 North Inc. http://280north.com/
    MIT License. http://github.com/280north/narwhal/blob/master/README.md
*/
/*! @license
==========================================================================
SproutCore -- JavaScript Application Framework
copyright 2006-2009, Sprout Systems Inc., Apple Inc. and contributors.

Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the "Software"),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.

SproutCore and the SproutCore logo are trademarks of Sprout Systems, Inc.

For more information about SproutCore, visit http://www.sproutcore.com


==========================================================================
@license */
/*
 * based on code from:
 * 
 * @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */
/*! 
 * jquery.event.drag - v 2.0.0 
 * Copyright (c) 2010 Three Dub Media - http://threedubmedia.com
 * Open Source MIT License - http://threedubmedia.com/code/license
 */
/**
 * @license
 * (c) 2009-2012 Michael Leibman
 * michael{dot}leibman{at}gmail{dot}com
 * http://github.com/mleibman/slickgrid
 *
 * Distributed under MIT license.
 * All rights reserved.
 *
 * SlickGrid v2.1
 *
 * NOTES:
 *     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
 *     This increases the speed dramatically, but can only be done safely because there are no event handlers
 *     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
 *     and do proper cleanup.
 */
define("app/util/traverse",[],function(){function a(a){return a.split(/\./g)}return{get:function(b,c){var d=a(c),e=b,f=d.shift();while(f&&e)e=e[f],f=d.shift();return"undefined"==typeof e?e:JSON.parse(JSON.stringify(e))},set:function(b,c,d){var e=a(c),f=b,g=e.shift();while(e.length>0)"undefined"==typeof f[g]&&(f[g]={}),f=f[g],g=e.shift();var h=JSON.stringify(d);return JSON.stringify(f[g])!==h?(f[g]=JSON.parse(h),!0):!1},remove:function(b,c){var d=a(c),e=b,f=d.shift(),g;while(d.length>0){g=d.shift(),e=e[f];if("undefined"==typeof e)return;f=g}delete e[f]}}}),function(a){function k(){var a=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),a=!0,window.localStorage.removeItem("_tmptest")}catch(b){}if(a)try{window.localStorage&&(c=window.localStorage,h="localStorage")}catch(e){}else if("globalStorage"in window)try{window.globalStorage&&(c=window.globalStorage[window.location.hostname],h="globalStorage")}catch(f){}else{d=document.createElement("link");if(!d.addBehavior){d=null;return}d.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(d),d.load("jStorage");var g="{}";try{g=d.getAttribute("jStorage")}catch(i){}c.jStorage=g,h="userDataBehavior"}l(),o()}function l(){if(c.jStorage)try{b=g(String(c.jStorage))}catch(a){c.jStorage="{}"}else c.jStorage="{}";e=c.jStorage?String(c.jStorage).length:0}function m(){try{c.jStorage=f(b),d&&(d.setAttribute("jStorage",c.jStorage),d.save("jStorage")),e=c.jStorage?String(c.jStorage).length:0}catch(a){}}function n(a){if(!a||typeof a!="string"&&typeof a!="number")throw new TypeError("Key name must be string or numeric");if(a=="__jstorage_meta")throw new TypeError("Reserved key name");return!0}function o(){var a,c,d,e=Infinity,f=!1;clearTimeout(i);if(!b.__jstorage_meta||typeof b.__jstorage_meta.TTL!="object")return;a=+(new Date),d=b.__jstorage_meta.TTL;for(c in d)d.hasOwnProperty(c)&&(d[c]<=a?(delete d[c],delete b[c],f=!0):d[c]<e&&(e=d[c]));e!=Infinity&&(i=setTimeout(o,e-a)),f&&m()}if(!a||!(a.toJSON||Object.toJSON||window.JSON))throw new Error("jQuery, MooTools or Prototype needs to be loaded before jStorage!");var b={},c={jStorage:"{}"},d=null,e=0,f=a.toJSON||Object.toJSON||window.JSON&&(JSON.encode||JSON.stringify),g=a.evalJSON||window.JSON&&(JSON.decode||JSON.parse)||function(a){return String(a).evalJSON()},h=!1,i,j={isXML:function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1},encode:function(a){if(!this.isXML(a))return!1;try{return(new XMLSerializer).serializeToString(a)}catch(b){try{return a.xml}catch(c){}}return!1},decode:function(a){var b="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(a){var b=new ActiveXObject("Microsoft.XMLDOM");return b.async="false",b.loadXML(a),b},c;return b?(c=b.call("DOMParser"in window&&new DOMParser||window,a,"text/xml"),this.isXML(c)?c:!1):!1}};a.jStorage={version:"0.1.7.0",set:function(a,c,d){return n(a),d=d||{},j.isXML(c)?c={_is_xml:!0,xml:j.encode(c)}:typeof c=="function"?c=null:c&&typeof c=="object"&&(c=g(f(c))),b[a]=c,isNaN(d.TTL)?m():this.setTTL(a,d.TTL),c},get:function(a,c){return n(a),a in b?b[a]&&typeof b[a]=="object"&&b[a]._is_xml&&b[a]._is_xml?j.decode(b[a].xml):b[a]:typeof c=="undefined"?null:c},deleteKey:function(a){return n(a),a in b?(delete b[a],b.__jstorage_meta&&typeof b.__jstorage_meta.TTL=="object"&&a in b.__jstorage_meta.TTL&&delete b.__jstorage_meta.TTL[a],m(),!0):!1},setTTL:function(a,c){var d=+(new Date);return n(a),c=Number(c)||0,a in b?(b.__jstorage_meta||(b.__jstorage_meta={}),b.__jstorage_meta.TTL||(b.__jstorage_meta.TTL={}),c>0?b.__jstorage_meta.TTL[a]=d+c:delete b.__jstorage_meta.TTL[a],m(),o(),!0):!1},flush:function(){return b={},m(),!0},storageObj:function(){function a(){}return a.prototype=b,new a},index:function(){var a=[],c;for(c in b)b.hasOwnProperty(c)&&c!="__jstorage_meta"&&a.push(c);return a},storageSize:function(){return e},currentBackend:function(){return h},storageAvailable:function(){return!!h},reInit:function(){var a,b;if(d&&d.addBehavior){a=document.createElement("link"),d.parentNode.replaceChild(a,d),d=a,d.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(d),d.load("jStorage"),b="{}";try{b=d.getAttribute("jStorage")}catch(e){}c.jStorage=b,h="userDataBehavior"}l()}},k()}(window.$||window.jQuery),define("libs/jquery/jstorage/jstorage",function(){}),define("app/util/storage",["app/util/traverse","libs/jquery/jstorage/jstorage"],function(a){return function(b,c){function g(a,b){if(null==a||"object"!=typeof a)return a;if(a instanceof Date){var c=new Date;return c.setTime(a.getTime()),c}if(a instanceof Array){var c=[],d=a.length;d>b&&(d=b);for(var e=0;e<d;++e)c[e]=g(a[e],b);return c}if(a instanceof Object){var c={};for(var f in a)a.hasOwnProperty(f)&&(c[f]=g(a[f],b));return c}throw new Error("Unable to copy obj! Its type isn't supported.")}function h(){var a=g(f,d),c=$.jStorage.set(b,a);e=!1}function i(){k&&console.log("Load Storage Data"),$.jStorage.reInit();var a=$.jStorage.get(b);$.extend(f,a)}function l(a,b,c){if(!k)return;var d="undefined"!=typeof c&&JSON.stringify(c)||"",e=100,f="...";d.length>e-f.length&&(d=d.substr(0,e-f.length)+f),console.log((a&&a+" "||"")+b+(d&&": "+d||""))}var d=500,e=!1,f=$.extend({},c),j=function(){e=!0,clearInterval(this.killDelayedSave),this.killDelayedSave=setTimeout(function(){h()},100)};i();var k=!1,m={get:function(b,c){var d=a.get(f,b);return l("get",b,d),"undefined"==typeof d?c:d},set:function(b,c,d){a.set(f,b,c)&&(l("set",b,c),this.save(d))},remove:function(b,c){l("del",b),a.remove(f,b),this.save(c)},keys:function(b){var c=a.get(f,b);if(c&&"object"==typeof c){var d=[];for(var e in c)c.hasOwnProperty(e)&&d.push(e);return d}return[]},save:function(a){a?h():j()},load:function(){i()},clear:function(){$.jStorage.flush()},toString:function(){return JSON.stringify(f)},all:function(){return f},dirty:function(){return e}};return m}}),define("app/util/utils",[],function(){return{arrayDiff:function(a,b){return a.filter(function(a){return!(b.indexOf(a)>-1)})},guid:function(){var a=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},sortNodes:function(a,b){var c=$(a).map(function(){return this});c.sort(b);var d=c[0]&&c[0].parentNode;$(c).each(function(a){d.appendChild(c[a])})},truncate:function(a,b,c){return b=b||25,c=c||"...",a.length>=b&&(a=a.substr(0,b-c.length)+c),a},normalizeQueryName:function(a){return a=a.trim().toLowerCase(),a.substr(0,1)==="/"&&(a=a.substr(1)),a.replace(/[ \-.]+/g,"_"),a},arrayRemove:function(a,b){var c=a.indexOf(b);return c<0?a:(a.splice(c,1),a)},validateQueryName:function(a,b,c){return a.match(/^[a-z0-9][a-z0-9 ]*[a-z0-9]$/i)?c.queryExist(b)?"a query with this identifier already exists":null:"the name can only include alpha-numeric characters, white spaces (but not in the beginning and at the end) and must be at least 2 characters long."}}}),define("app/util/storagemonitor",["app/util/traverse","app/util/storage","app/util/utils"],function(a,b,c){function g(a,b){if(typeof a!=typeof b)return!1;if(a instanceof Array){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(!g(a[c],b[c]))return!1;return!0}if(a instanceof Object){var d=$.map(a,function(a,b){return b}),e=$.map(b,function(a,b){return b});if(!g(d,e))return!1;for(var c=0;c<d.length;c++)if(!g(a[d[c]],b[d[c]]))return!1;return!0}return a===b}function h(){var b=!1;for(var c=0;c<d.length;c++){f=d[c];if(f.monitor.paths.length==0||f.dirty())return;b||($.jStorage.reInit(),b=!0);var e=f.all(),h=f.monitor.paths.length,i=$.jStorage.get(f.monitor.key,{}),j,k;for(var l=0;l<h;l++){j=f.monitor.paths[l],k=a.get(i,j);if("undefined"==typeof f.monitor.last[j]){f.monitor.last[j]=k;continue}if(g(f.monitor.last[j],k))continue;if(g(k,a.get(e,j)))continue;f.monitor.last[j]=k,a.set(e,j,k),$(f).trigger(j,[k])}}}function i(a){return d.indexOf(a)>=0}function j(a){c.arrayRemove(d,a).push(a),d.length===1&&setInterval(h,5e3)}function k(a){c.arrayRemove(d,a),d.length===0&&clearInterval(e)}var d=[],e,f;return function(a,c){var d=b(a,c),e;return d.monitor=e=function(){var b={};return{paths:[],last:{},key:a,start:function(a){j(d)},end:function(){k()},monitoring:function(){return i(d)},bind:function(a,c){b[a]=b[a]&&++b[a]||1,b[a]===1&&d.monitor.paths.push(a),$(d).on(a,c)},unbind:function(a,c){if(!b[a])return;b[a]--,b[a]===0&&d.monitor.paths.splice(d.monitor.paths.indexOf(a),1),$(d).off(a,c)}}}(),d}}),define("app/util/config",["app/util/storagemonitor"],function(a){var b="pg-labcoat-config",c={theme:"gray",indentUsingSpaces:!1,tabSize:2,softTabs:!0,disableClientCache:!0,ioPanesVertical:!0,queryLimit:1e3};return a(b,c)}),define("rtext",["module"],function(a){var b=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],c=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,d=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,e=typeof location!="undefined"&&location.href,f=e&&location.protocol&&location.protocol.replace(/\:/,""),g=e&&location.hostname,h=e&&(location.port||undefined),i=[],j=a.config&&a.config()||{},k,l;return k={version:"2.0.1",strip:function(a){if(a){a=a.replace(c,"");var b=a.match(d);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:j.createXhr||function(){var a,c,d;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(c=0;c<3;c+=1){d=b[c];try{a=new ActiveXObject(d)}catch(e){}if(a){b=[d];break}}return a},parseName:function(a){var b=!1,c=a.indexOf("."),d=a.substring(0,c),e=a.substring(c+1,a.length);return c=e.indexOf("!"),c!==-1&&(b=e.substring(c+1,e.length),b=b==="strip",e=e.substring(0,c)),{moduleName:d,ext:e,strip:b}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,b,c,d){var e=k.xdRegExp.exec(a),f,g,h;return e?(f=e[2],g=e[3],g=g.split(":"),h=g[1],g=g[0],(!f||f===b)&&(!g||g.toLowerCase()===c.toLowerCase())&&(!h&&!g||h===d)):!0},finishLoad:function(a,b,c,d){c=b?k.strip(c):c,j.isBuild&&(i[a]=c),d(c)},load:function(a,b,c,d){if(d.isBuild&&!d.inlineText){c();return}j.isBuild=d.isBuild;var i=k.parseName(a),l=i.moduleName+"."+i.ext,m=b.toUrl(l),n=j.useXhr||k.useXhr;!e||n(m,f,g,h)?k.get(m,function(b){k.finishLoad(a,i.strip,b,c)},function(a){c.error&&c.error(a)}):b([l],function(a){k.finishLoad(i.moduleName+"."+i.ext,i.strip,a,c)})},write:function(a,b,c,d){if(i.hasOwnProperty(b)){var e=k.jsEscape(i[b]);c.asModule(a+"!"+b,"define(function () { return '"+e+"';});\n")}},writeFile:function(a,b,c,d,e){var f=k.parseName(b),g=f.moduleName+"."+f.ext,h=c.toUrl(f.moduleName+"."+f.ext)+".js";k.load(g,c,function(b){var c=function(a){return d(h,a)};c.asModule=function(a,b){return d.asModule(a,h,b)},k.write(a,g,c,e)},e)}},typeof process!="undefined"&&process.versions&&!!process.versions.node?(l=require.nodeRequire("fs"),k.get=function(a,b){var c=l.readFileSync(a,"utf8");c.indexOf("ï»¿")===0&&(c=c.substring(1)),b(c)}):k.createXhr()?k.get=function(a,b,c){var d=k.createXhr();d.open("GET",a,!0),j.onXhr&&j.onXhr(d,a),d.onreadystatechange=function(e){var f,g;d.readyState===4&&(f=d.status,f>399&&f<600?(g=new Error(a+" HTTP status: "+f),g.xhr=d,c(g)):b(d.responseText))},d.send(null)}:typeof Packages!="undefined"&&(k.get=function(a,b){var c="utf-8",d=new java.io.File(a),e=java.lang.System.getProperty("line.separator"),f=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(d),c)),g,h,i="";try{g=new java.lang.StringBuffer,h=f.readLine(),h&&h.length()&&h.charAt(0)===65279&&(h=h.substring(1)),g.append(h);while((h=f.readLine())!==null)g.append(e),g.append(h);i=String(g.toString())}finally{f.close()}b(i)}),k}),define("rtext!templates/layout.full.html",[],function(){return'<div class="pg-labcoat ui-layout-center">\n    <div class="pg-mainbar ui-layout-north pg-pane ui-widget-header"></div>\n    <div class="pg-system ui-layout-west pg-pane">\n        <div class="pg-folders ui-layout-center pg-pane">\n            <div class="pg-toolbar ui-layout-north pg-pane ui-widget-header"></div>\n            <div class="pg-tree ui-layout-center pg-pane"></div>\n        </div>\n        <div class="pg-queries ui-layout-south pg-pane">\n            <div class="pg-toolbar ui-layout-north pg-pane ui-widget-header"></div>\n            <div class="pg-queries ui-layout-center pg-pane"></div>\n        </div>\n    </div>\n    <div class="pg-main ui-layout-center pg-pane">\n        <div class="pg-editor-support ui-layout-center pg-pane">\n            <div class="pg-editor ui-layout-center pg-pane">\n                <div class="pg-io ui-layout-center pg-pane">\n                    <div class="pg-input ui-layout-center pg-pane">\n                        <div class="pg-toolbar ui-layout-north pg-pane ui-widget-header"></div>\n                        <div class="pg-code-editor ui-layout-center pg-pane"></div>\n                    </div>\n                    <div class="pg-output ui-layout-south pg-pane">\n                        <div class="pg-toolbar ui-layout-north pg-pane ui-widget-header"></div>\n                        <div class="pg-result ui-layout-center pg-pane"></div>\n                    </div>\n                </div>\n                <div class="pg-statusbar ui-layout-south pg-pane ui-widget-header"></div>\n            </div>\n            <div class="pg-support ui-layout-east pg-pane"></div>\n        </div>\n<!--\n        <div class="ui-layout-south pg-pane"></div>\n-->\n    </div>\n</div>'}),function(a,b){function e(b,c){var d,e,g,h=b.nodeName.toLowerCase();return"area"===h?(d=b.parentNode,e=d.name,!b.href||!e||d.nodeName.toLowerCase()!=="map"?!1:(g=a("img[usemap=#"+e+"]")[0],!!g&&f(g))):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&f(b)}function f(b){return!a(b).parents().andSelf().filter(function(){return a.css(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}var c=0,d=/^ui-id-\d+$/;a.ui=a.ui||{};if(a.ui.version)return;a.extend(a.ui,{version:"@VERSION",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0)return f}d=d.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++c)})},removeUniqueId:function(){return this.each(function(){d.test(this.id)&&a(this).removeAttr("id")})},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return e(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var c=a.attr(b,"tabindex"),d=isNaN(c);return(d||c>=0)&&e(b,!d)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart"in c,b.removeChild(c).style.display="none"}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(!e||!a.element[0].parentNode||a.element[0].parentNode.nodeType===11)return;for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},contains:a.contains,hasScroll:function(b,c){if(a(b).css("overflow")==="hidden")return!1;var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})}(jQuery),define("libs/jquery/ui/jquery.ui.core",function(){}),function(a,b){function m(a,b,c){return[parseInt(a[0],10)*(k.test(a[0])?b/100:1),parseInt(a[1],10)*(k.test(a[1])?c/100:1)]}function n(b,c){return parseInt(a.css(b,c),10)||0}a.ui=a.ui||{};var c,d=Math.max,e=Math.abs,f=Math.round,g=/left|center|right/,h=/top|center|bottom/,i=/[\+\-]\d+%?/,j=/^\w+/,k=/%$/,l=a.fn.position;a.position={scrollbarWidth:function(){if(c!==b)return c;var d,e,f=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=f.children()[0];return a("body").append(f),d=g.offsetWidth,f.css("overflow","scroll"),e=g.offsetWidth,d===e&&(e=f[0].clientWidth),f.remove(),c=d-e},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),e=c==="scroll"||c==="auto"&&b.width<b.element[0].scrollWidth,f=d==="scroll"||d==="auto"&&b.height<b.element[0].scrollHeight;return{width:e?a.position.scrollbarWidth():0,height:f?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return l.apply(this,arguments);b=a.extend({},b);var c,k,o,p,q,r=a(b.of),s=a.position.getWithinInfo(b.within),t=a.position.getScrollInfo(s),u=r[0],v=(b.collision||"flip").split(" "),w={};return u.nodeType===9?(k=r.width(),o=r.height(),p={top:0,left:0}):a.isWindow(u)?(k=r.width(),o=r.height(),p={top:r.scrollTop(),left:r.scrollLeft()}):u.preventDefault?(b.at="left top",k=o=0,p={top:u.pageY,left:u.pageX}):(k=r.outerWidth(),o=r.outerHeight(),p=r.offset()),q=a.extend({},p),a.each(["my","at"],function(){var a=(b[this]||"").split(" "),c,d;a.length===1&&(a=g.test(a[0])?a.concat(["center"]):h.test(a[0])?["center"].concat(a):["center","center"]),a[0]=g.test(a[0])?a[0]:"center",a[1]=h.test(a[1])?a[1]:"center",c=i.exec(a[0]),d=i.exec(a[1]),w[this]=[c?c[0]:0,d?d[0]:0],b[this]=[j.exec(a[0])[0],j.exec(a[1])[0]]}),v.length===1&&(v[1]=v[0]),b.at[0]==="right"?q.left+=k:b.at[0]==="center"&&(q.left+=k/2),b.at[1]==="bottom"?q.top+=o:b.at[1]==="center"&&(q.top+=o/2),c=m(w.at,k,o),q.left+=c[0],q.top+=c[1],this.each(function(){var g,h,i=a(this),j=i.outerWidth(),l=i.outerHeight(),u=n(this,"marginLeft"),x=n(this,"marginTop"),y=j+u+n(this,"marginRight")+t.width,z=l+x+n(this,"marginBottom")+t.height,A=a.extend({},q),B=m(w.my,i.outerWidth(),i.outerHeight());b.my[0]==="right"?A.left-=j:b.my[0]==="center"&&(A.left-=j/2),b.my[1]==="bottom"?A.top-=l:b.my[1]==="center"&&(A.top-=l/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=f(A.left),A.top=f(A.top)),g={marginLeft:u,marginTop:x},a.each(["left","top"],function(d,e){a.ui.position[v[d]]&&a.ui.position[v[d]][e](A,{targetWidth:k,targetHeight:o,elemWidth:j,elemHeight:l,collisionPosition:g,collisionWidth:y,collisionHeight:z,offset:[c[0]+B[0],c[1]+B[1]],my:b.my,at:b.at,within:s,elem:i})}),a.fn.bgiframe&&i.bgiframe(),b.using&&(h=function(a){var c=p.left-A.left,f=c+k-j,g=p.top-A.top,h=g+o-l,m={target:{element:r,left:p.left,top:p.top,width:k,height:o},element:{element:i,left:A.left,top:A.top,width:j,height:l},horizontal:f<0?"left":c>0?"right":"center",vertical:h<0?"top":g>0?"bottom":"middle"};k<j&&e(c+f)<k&&(m.horizontal="center"),o<l&&e(g+h)<o&&(m.vertical="middle"),d(e(c),e(f))>d(e(g),e(h))?m.important="horizontal":m.important="vertical",b.using.call(this,a,m)}),i.offset(a.extend(A,{using:h}))})},a.ui.position={fit:{left:function(a,b){var c=b.within,e=c.isWindow?c.scrollLeft:c.offset.left,f=c.width,g=a.left-b.collisionPosition.marginLeft,h=e-g,i=g+b.collisionWidth-f-e,j;b.collisionWidth>f?h>0&&i<=0?(j=a.left+h+b.collisionWidth-f-e,a.left+=h-j):i>0&&h<=0?a.left=e:h>i?a.left=e+f-b.collisionWidth:a.left=e:h>0?a.left+=h:i>0?a.left-=i:a.left=d(a.left-g,a.left)},top:function(a,b){var c=b.within,e=c.isWindow?c.scrollTop:c.offset.top,f=b.within.height,g=a.top-b.collisionPosition.marginTop,h=e-g,i=g+b.collisionHeight-f-e,j;b.collisionHeight>f?h>0&&i<=0?(j=a.top+h+b.collisionHeight-f-e,a.top+=h-j):i>0&&h<=0?a.top=e:h>i?a.top=e+f-b.collisionHeight:a.top=e:h>0?a.top+=h:i>0?a.top-=i:a.top=d(a.top-g,a.top)}},flip:{left:function(a,b){var c=b.within,d=c.offset.left+c.scrollLeft,f=c.width,g=c.isWindow?0:c.offset.left,h=a.left-b.collisionPosition.marginLeft,i=h-g,j=h+b.collisionWidth-f-g,k=b.my[0]==="left"?-b.elemWidth:b.my[0]==="right"?b.elemWidth:0,l=b.at[0]==="left"?b.targetWidth:b.at[0]==="right"?-b.targetWidth:0,m=-2*b.offset[0],n,o;if(i<0){n=a.left+k+l+m+b.collisionWidth-f-d;if(n<0||n<e(i))a.left+=k+l+m}else if(j>0){o=a.left-b.collisionPosition.marginLeft+k+l+m-g;if(o>0||e(o)<j)a.left+=k+l+m}},top:function(a,b){var c=b.within,d=c.offset.top+c.scrollTop,f=c.height,g=c.isWindow?0:c.offset.top,h=a.top-b.collisionPosition.marginTop,i=h-g,j=h+b.collisionHeight-f-g,k=b.my[1]==="top",l=k?-b.elemHeight:b.my[1]==="bottom"?b.elemHeight:0,m=b.at[1]==="top"?b.targetHeight:b.at[1]==="bottom"?-b.targetHeight:0,n=-2*b.offset[1],o,p;i<0?(p=a.top+l+m+n+b.collisionHeight-f-d,a.top+l+m+n>i&&(p<0||p<e(i))&&(a.top+=l+m+n)):j>0&&(o=a.top-b.collisionPosition.marginTop+l+m+n-g,a.top+l+m+n>j&&(o>0||e(o)<j)&&(a.top+=l+m+n))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&e<11,b.innerHTML="",c.removeChild(b)}(),a.uiBackCompat!==!1&&function(a){var c=a.fn.position;a.fn.position=function(d){if(!d||!d.offset)return c.call(this,d);var e=d.offset.split(" "),f=d.at.split(" ");return e.length===1&&(e[1]=e[0]),/^\d/.test(e[0])&&(e[0]="+"+e[0]),/^\d/.test(e[1])&&(e[1]="+"+e[1]),f.length===1&&(/left|center|right/.test(f[0])?f[1]="center":(f[1]=f[0],f[0]="center")),c.call(this,a.extend(d,{at:f[0]+e[0]+" "+f[1]+e[1],offset:b}))}}(jQuery)}(jQuery),define("libs/jquery/ui/jquery.ui.position",function(){}),function(a,b){var c=Array.prototype.slice,d=a.cleanData;a.cleanData=function(b){for(var c=0,e;(e=b[c])!=null;c++)try{a(e).triggerHandler("remove")}catch(f){}d(b)},a.widget=function(b,c,d){var e,f,g,h,i=b.split(".")[0];b=b.split(".")[1],e=i+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e]=function(b){return!!a.data(b,e)},a[i]=a[i]||{},f=a[i][b],g=a[i][b]=function(a,b){if(!this._createWidget)return new g(a,b);arguments.length&&this._createWidget(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,e){a.isFunction(e)&&(d[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},d=function(a){return c.prototype[b].apply(this,a)};return function(){var b=this._super,c=this._superApply,f;return this._super=a,this._superApply=d,f=e.apply(this,arguments),this._super=b,this._superApply=c,f}}())}),g.prototype=a.widget.extend(h,{widgetEventPrefix:b},d,{constructor:g,namespace:i,widgetName:b,widgetBaseClass:e,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(d){var e=c.call(arguments,1),f=0,g=e.length,h,i;for(;f<g;f++)for(h in e[f])i=e[f][h],e[f].hasOwnProperty(h)&&i!==b&&(d[h]=a.isPlainObject(i)?a.widget.extend({},d[h],i):i);return d},a.widget.bridge=function(d,e){var f=e.prototype.widgetFullName;a.fn[d]=function(g){var h=typeof g=="string",i=c.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var c,e=a.data(this,f);if(!e)return a.error("cannot call methods on "+d+" prior to initialization; "+"attempted to call method '"+g+"'");if(!a.isFunction(e[g])||g.charAt(0)==="_")return a.error("no such method '"+g+"' for "+d+" widget instance");c=e[g].apply(e,i);if(c!==e&&c!==b)return j=c&&c.jquery?j.pushStack(c.get()):c,!1}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():new e(g,this)}),j}},a.Widget=function(a,b){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,c){c=a(c||this.defaultElement||this)[0],this.element=a(c),this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),c!==this&&(a.data(c,this.widgetName,this),a.data(c,this.widgetFullName,this),this._bind({remove:"destroy"}),this.document=a(c.style?c.ownerDocument:c.document||c),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind("."+this.widgetName).removeData(this.widgetName).removeData(this.widgetFullName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind("."+this.widgetName),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e=c,f,g,h;if(arguments.length===0)return a.widget.extend({},this.options);if(typeof c=="string"){e={},f=c.split("."),c=f.shift();if(f.length){g=e[c]=a.widget.extend({},this.options[c]);for(h=0;h<f.length-1;h++)g[f[h]]=g[f[h]]||{},g=g[f[h]];c=f.pop();if(d===b)return g[c]===b?null:g[c];g[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];e[c]=d}}return this._setOptions(e),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_bind:function(b,c){c?(b=a(b),this.bindings=this.bindings.add(b)):(c=b,b=this.element);var d=this;a.each(c,function(c,e){function f(){if(d.options.disabled===!0||a(this).hasClass("ui-state-disabled"))return;return(typeof e=="string"?d[e]:e).apply(d,arguments)}typeof e!="string"&&(f.guid=e.guid=e.guid||f.guid||jQuery.guid++);var g=c.match(/^(\w+)\s*(.*)$/),h=g[1]+"."+d.widgetName,i=g[2];i?d.widget().delegate(i,h,f):b.bind(h,f)})},_delay:function(a,b){function c(){return(typeof a=="string"?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._bind(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._bind(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){typeof e=="string"&&(e={effect:e});var g,h=e?e===!0||typeof e=="number"?c:e.effect||c:b;e=e||{},typeof e=="number"&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&(a.effects.effect[h]||a.uiBackCompat!==!1&&a.effects[h])?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}}),a.uiBackCompat!==!1&&(a.Widget.prototype._getCreateOptions=function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]})}(jQuery),define("libs/jquery/ui/jquery.ui.widget",function(){}),function(a,b){var c=!1;a(document).mouseup(function(a){c=!1}),a.widget("ui.mouse",{version:"@VERSION",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(c)return;this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=b.which===1,f=typeof this.options.cancel=="string"&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==!1;if(!this._mouseStarted)return b.preventDefault(),!0}return!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0},_mouseMove:function(b){return!a.browser.msie||document.documentMode>=9||!!b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return!0}})}(jQuery),define("libs/jquery/ui/jquery.ui.mouse",function(){}),function(a,b){a.widget("ui.resizable",a.ui.mouse,{version:"@VERSION",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var b=this,c=this.options;this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var d=this.handles.split(",");this.handles={};for(var e=0;e<d.length;e++){var f=a.trim(d[e]),g="ui-resizable-"+f,h=a('<div class="ui-resizable-handle '+g+'"></div>');h.css({zIndex:c.zIndex}),"se"==f&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),e=0;e=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth();var f=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");b.css(f,e),this._proportionallyResize()}if(!a(this.handles[c]).length)continue}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=a&&a[1]?a[1]:"se"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(c.disabled)return;a(this).removeClass("ui-resizable-autohide"),b._handles.show()}).mouseleave(function(){if(c.disabled)return;b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(b){var c=!1;for(var d in this.handles)a(this.handles[d])[0]==b.target&&(c=!0);return!this.options.disabled&&c},_mouseStart:function(b){var d=this.options,e=this.element.position(),f=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(f.is(".ui-draggable")||/absolute/.test(f.css("position")))&&f.css({position:"absolute",top:e.top,left:e.left}),this._renderProxy();var g=c(this.helper.css("left")),h=c(this.helper.css("top"));d.containment&&(g+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:h},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:h},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio=typeof d.aspectRatio=="number"?d.aspectRatio:this.originalSize.width/this.originalSize.height||1;var i=a(".ui-resizable-"+this.axis).css("cursor");return a("body").css("cursor",i=="auto"?this.axis+"-resize":i),f.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(a){var b=this.helper,c=this.options,d={},e=this,f=this.originalMousePosition,g=this.axis,h=a.pageX-f.left||0,i=a.pageY-f.top||0,j=this._change[g];if(!j)return!1;var k=j.apply(this,[a,h,i]);this._updateVirtualBoundaries(a.shiftKey);if(this._aspectRatio||a.shiftKey)k=this._updateRatio(k,a);return k=this._respectSize(k,a),this._propagate("resize",a),b.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(k),this._trigger("resize",a,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var e=this._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:d.sizeDiff.height,h=f?0:d.sizeDiff.width,i={width:d.helper.width()-h,height:d.helper.height()-g},j=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,k=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(i,{top:k,left:j})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}return a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b=this.options,c,e,f,g,h;h={minWidth:d(b.minWidth)?b.minWidth:0,maxWidth:d(b.maxWidth)?b.maxWidth:Infinity,minHeight:d(b.minHeight)?b.minHeight:0,maxHeight:d(b.maxHeight)?b.maxHeight:Infinity};if(this._aspectRatio||a)c=h.minHeight*this.aspectRatio,f=h.minWidth/this.aspectRatio,e=h.maxHeight*this.aspectRatio,g=h.maxWidth/this.aspectRatio,c>h.minWidth&&(h.minWidth=c),f>h.minHeight&&(h.minHeight=f),e<h.maxWidth&&(h.maxWidth=e),g<h.maxHeight&&(h.maxHeight=g);this._vBoundaries=h},_updateCache:function(a){var b=this.options;this.offset=this.helper.offset(),d(a.left)&&(this.position.left=a.left),d(a.top)&&(this.position.top=a.top),d(a.height)&&(this.size.height=a.height),d(a.width)&&(this.size.width=a.width)},_updateRatio:function(a,b){var c=this.options,e=this.position,f=this.size,g=this.axis;return d(a.height)?a.width=a.height*this.aspectRatio:d(a.width)&&(a.height=a.width/this.aspectRatio),g=="sw"&&(a.left=e.left+(f.width-a.width),a.top=null),g=="nw"&&(a.top=e.top+(f.height-a.height),a.left=e.left+(f.width-a.width)),a},_respectSize:function(a,b){var c=this.helper,e=this._vBoundaries,f=this._aspectRatio||b.shiftKey,g=this.axis,h=d(a.width)&&e.maxWidth&&e.maxWidth<a.width,i=d(a.height)&&e.maxHeight&&e.maxHeight<a.height,j=d(a.width)&&e.minWidth&&e.minWidth>a.width,k=d(a.height)&&e.minHeight&&e.minHeight>a.height;j&&(a.width=e.minWidth),k&&(a.height=e.minHeight),h&&(a.width=e.maxWidth),i&&(a.height=e.maxHeight);var l=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,n=/sw|nw|w/.test(g),o=/nw|ne|n/.test(g);j&&n&&(a.left=l-e.minWidth),h&&n&&(a.left=l-e.maxWidth),k&&o&&(a.top=m-e.minHeight),i&&o&&(a.top=m-e.maxHeight);var p=!a.width&&!a.height;return p&&!a.left&&a.top?a.top=null:p&&!a.top&&a.left&&(a.left=null),a},_proportionallyResize:function(){var b=this.options;if(!this._proportionallyResizeElements.length)return;var c=this.helper||this.element;for(var d=0;d<this._proportionallyResizeElements.length;d++){var e=this._proportionallyResizeElements[d];if(!this.borderDif){var f=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],g=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];this.borderDif=a.map(f,function(a,b){var c=parseInt(a,10)||0,d=parseInt(g[b],10)||0;return c+d})}if(!(!a.browser.msie||!a(c).is(":hidden")&&!a(c).parents(":hidden").length))continue;e.css({height:c.height()-this.borderDif[0]-this.borderDif[2]||0,width:c.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var d=a.browser.msie&&a.browser.version<7,e=d?1:0,f=d?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+f,height:this.element.outerHeight()+f,position:"absolute",left:this.elementOffset.left-e+"px",top:this.elementOffset.top-e+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(a,b,c){return{width:this.originalSize.width+b}},w:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{left:f.left+b,width:e.width-b}},n:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{top:f.top+c,height:e.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),b!="resize"&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","alsoResize",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};typeof e.alsoResize=="object"&&!e.alsoResize.parentNode?e.alsoResize.length?(e.alsoResize=e.alsoResize[0],f(e.alsoResize)):a.each(e.alsoResize,function(a){f(a)}):f(e.alsoResize)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data("resizable-alsoresize"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?a.each(e.alsoResize,function(a,b){i(a,b)}):i(e.alsoResize)},stop:function(b,c){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName),h=g&&a.ui.hasScroll(f[0],"left")?0:d.sizeDiff.height,i=g?0:d.sizeDiff.width,j={width:d.size.width-i,height:d.size.height-h},k=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(a.extend(j,l&&k?{top:l,left:k}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var c={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),10)};f&&f.length&&a(f[0]).css({width:c.width,height:c.height}),d._updateCache(c),d._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(b,d){var e=a(this).data("resizable"),f=e.options,g=e.element,h=f.containment,i=h instanceof a?h.get(0):/parent/.test(h)?g.parent().get(0):h;if(!i)return;e.containerElement=a(i);if(/document/.test(h)||h==document)e.containerOffset={left:0,top:0},e.containerPosition={left:0,top:0},e.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var j=a(i),k=[];a(["Top","Right","Left","Bottom"]).each(function(a,b){k[a]=c(j.css("padding"+b))}),e.containerOffset=j.offset(),e.containerPosition=j.position(),e.containerSize={height:j.innerHeight()-k[3],width:j.innerWidth()-k[1]};var l=e.containerOffset,m=e.containerSize.height,n=e.containerSize.width,o=a.ui.hasScroll(i,"left")?i.scrollWidth:n,p=a.ui.hasScroll(i)?i.scrollHeight:m;e.parentData={element:i,left:l.left,top:l.top,width:o,height:p}}},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.containerSize,g=d.containerOffset,h=d.size,i=d.position,j=d._aspectRatio||b.shiftKey,k={top:0,left:0},l=d.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(k=g),i.left<(d._helper?g.left:0)&&(d.size.width=d.size.width+(d._helper?d.position.left-g.left:d.position.left-k.left),j&&(d.size.height=d.size.width/d.aspectRatio),d.position.left=e.helper?g.left:0),i.top<(d._helper?g.top:0)&&(d.size.height=d.size.height+(d._helper?d.position.top-g.top:d.position.top),j&&(d.size.width=d.size.height*d.aspectRatio),d.position.top=d._helper?g.top:0),d.offset.left=d.parentData.left+d.position.left,d.offset.top=d.parentData.top+d.position.top;var m=Math.abs((d._helper?d.offset.left-k.left:d.offset.left-k.left)+d.sizeDiff.width),n=Math.abs((d._helper?d.offset.top-k.top:d.offset.top-g.top)+d.sizeDiff.height),o=d.containerElement.get(0)==d.element.parent().get(0),p=/relative|absolute/.test(d.containerElement.css("position"));o&&p&&(m-=d.parentData.left),m+d.size.width>=d.parentData.width&&(d.size.width=d.parentData.width-m,j&&(d.size.height=d.size.width/d.aspectRatio)),n+d.size.height>=d.parentData.height&&(d.size.height=d.parentData.height-n,j&&(d.size.width=d.size.height*d.aspectRatio))},stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.position,g=d.containerOffset,h=d.containerPosition,i=d.containerElement,j=a(d.helper),k=j.offset(),l=j.outerWidth()-d.sizeDiff.width,m=j.outerHeight()-d.sizeDiff.height;d._helper&&!e.animate&&/relative/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m}),d._helper&&!e.animate&&/static/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m})}}),a.ui.plugin.add("resizable","ghost",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size;d.ghost=d.originalElement.clone(),d.ghost.css({opacity:.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof e.ghost=="string"?e.ghost:""),d.ghost.appendTo(d.helper)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size,g=d.originalSize,h=d.originalPosition,i=d.axis,j=e._aspectRatio||b.shiftKey;e.grid=typeof e.grid=="number"?[e.grid,e.grid]:e.grid;var k=Math.round((f.width-g.width)/(e.grid[0]||1))*(e.grid[0]||1),l=Math.round((f.height-g.height)/(e.grid[1]||1))*(e.grid[1]||1);/^(se|s|e)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l):/^(ne)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l):/^(sw)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.left=h.left-k):(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l,d.position.left=h.left-k)}});var c=function(a){return parseInt(a,10)||0},d=function(a){return!isNaN(parseInt(a,10))}}(jQuery),define("libs/jquery/ui/jquery.ui.resizable",function(){}),function(a,b){var c,d,e,f,g="ui-button ui-widget ui-state-default ui-corner-all",h="ui-state-hover ui-state-active ",i="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},k=function(b){var c=b.name,d=b.form,e=a([]);return c&&(d?e=a(d).find("[name='"+c+"']"):e=a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{version:"@VERSION",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",j),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,h=this.options,i=this.type==="checkbox"||this.type==="radio",l="ui-state-hover"+(i?"":" ui-state-active"),m="ui-state-focus";h.label===null&&(h.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this.buttonElement.addClass(g).attr("role","button").bind("mouseenter.button",function(){if(h.disabled)return;a(this).addClass("ui-state-hover"),this===c&&a(this).addClass("ui-state-active")}).bind("mouseleave.button",function(){if(h.disabled)return;a(this).removeClass(l)}).bind("click.button",function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus.button",function(){b.buttonElement.addClass(m)}).bind("blur.button",function(){b.buttonElement.removeClass(m)}),i&&(this.element.bind("change.button",function(){if(f)return;b.refresh()}),this.buttonElement.bind("mousedown.button",function(a){if(h.disabled)return;f=!1,d=a.pageX,e=a.pageY}).bind("mouseup.button",function(a){if(h.disabled)return;if(d!==a.pageX||e!==a.pageY)f=!0})),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(h.disabled||f)return!1;a(this).toggleClass("ui-state-active"),b.buttonElement.attr("aria-pressed",b.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(h.disabled||f)return!1;a(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed","true");var c=b.element[0];k(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(h.disabled)return!1;a(this).addClass("ui-state-active"),c=this,b.document.one("mouseup",function(){c=null})}).bind("mouseup.button",function(){if(h.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown.button",function(b){if(h.disabled)return!1;(b.keyCode===a.ui.keyCode.SPACE||b.keyCode===a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){var a,b,c;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button",this.type==="checkbox"||this.type==="radio"?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(g+" "+h+" "+i).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){this._super(a,b);if(a==="disabled"){b?this.element.prop("disabled",!0):this.element.prop("disabled",!1);return}this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b),this.type==="radio"?k(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var b=this.buttonElement.removeClass(i),c=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",c))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}),a.widget("ui.buttonset",{version:"@VERSION",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){a==="disabled"&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var b=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),define("libs/jquery/ui/jquery.ui.button",function(){}),function(a,b){a.widget("ui.sortable",a.ui.mouse,{version:"@VERSION",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?a.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){b==="disabled"?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(b);var e=null,f=a(b.target).parents().each(function(){if(a.data(this,d.widgetName+"-item")==d)return e=a(this),!1});a.data(b.target,d.widgetName+"-item")==d&&(e=a(b.target));if(!e)return!1;if(this.options.handle&&!c){var g=!1;a(this.options.handle,e).find("*").andSelf().each(function(){this==b.target&&(g=!0)});if(!g)return!1}return this.currentItem=e,this._removeCurrentsFromItems(),!0},_mouseStart:function(b,c,d){var e=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),e.containment&&this._setContainment(),e.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",e.cursor)),e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity)),e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!d)for(var f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],g=f.item[0],h=this._intersectsWithPointer(f);if(!h)continue;if(g!=this.currentItem[0]&&this.placeholder[h==1?"next":"prev"]()[0]!=g&&!a.contains(this.placeholder[0],g)&&(this.options.type=="semi-dynamic"?!a.contains(this.element[0],g):!0)){this.direction=h==1?"down":"up";if(this.options.tolerance!="pointer"&&!this._intersectsWithSides(f))break;this._rearrange(b,f),this._trigger("change",b,this._uiHash());break}}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(!b)return;a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var d=this,e=this.placeholder.offset();this.reverting=!0,a(this.helper).animate({left:e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&d+j<i&&b+k>f&&b+k<g;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c=this.options.axis==="x"||a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),d=this.options.axis==="y"||a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&g=="right"||f=="down"?2:1:f&&(f=="down"?2:1):!1},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?f=="right"&&d||f=="left"&&!d:e&&(e=="down"&&c||e=="up"&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=[],d=[],e=this._connectWith();if(e&&b)for(var f=e.length-1;f>=0;f--){var g=a(e[f]);for(var h=g.length-1;h>=0;h--){var i=a.data(g[h],this.widgetName);i&&i!=this&&!i.options.disabled&&d.push([a.isFunction(i.options.items)?i.options.items.call(i.element):a(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i])}}d.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var f=d.length-1;f>=0;f--)d[f][0].each(function(){c.push(this)});return a(c)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");for(var b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,d=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],e=this._connectWith();if(e&&this.ready)for(var f=e.length-1;f>=0;f--){var g=a(e[f]);for(var h=g.length-1;h>=0;h--){var i=a.data(g[h],this.widgetName);i&&i!=this&&!i.options.disabled&&(d.push([a.isFunction(i.options.items)?i.options.items.call(i.element[0],b,{item:this.currentItem}):a(i.options.items,i.element),i]),this.containers.push(i))}}for(var f=d.length-1;f>=0;f--){var j=d[f][1],k=d[f][0];for(var h=0,l=k.length;h<l;h++){var m=a(k[h]);m.data(this.widgetName+"-item",j),c.push({item:m,instance:j,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var d=this.items[c];if(d.instance!=this.currentContainer&&this.currentContainer&&d.item[0]!=this.currentItem[0])continue;var e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());var f=e.offset();d.left=f.left,d.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var c=this.containers.length-1;c>=0;c--){var f=this.containers[c].element.offset();this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}return this},_createPlaceholder:function(b){b=b||this;var c=b.options;if(!c.placeholder||c.placeholder.constructor==String){var d=c.placeholder;c.placeholder={element:function(){var c=a(document.createElement(b.currentItem[0].nodeName)).addClass(d||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return d||(c.style.visibility="hidden"),c},update:function(a,e){if(d&&!c.forcePlaceholderSize)return;e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}}}b.placeholder=a(c.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),c.placeholder.update(b,b.placeholder)},_contactContainers:function(b){var c=null,d=null;for(var e=this.containers.length-1;e>=0;e--){if(a.contains(this.currentItem[0],this.containers[e].element[0]))continue;if(this._intersectsWith(this.containers[e].containerCache)){if(c&&a.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0)}if(!c)return;if(this.containers.length===1)this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1;else if(this.currentContainer!=this.containers[d]){var f=1e4,g=null,h=this.positionAbs[this.containers[d].floating?"left":"top"];for(var i=this.items.length-1;i>=0;i--){if(!a.contains(this.containers[d].element[0],this.items[i].item[0]))continue;var j=this.containers[d].floating?this.items[i].item.offset().left:this.items[i].item.offset().top;Math.abs(j-h)<f&&(f=Math.abs(j-h),g=this.items[i],this.direction=j-h>0?"down":"up")}if(!g&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[d],g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem;return d.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(d[0].style.width==""||c.forceHelperSize)&&d.width(this.currentItem.width()),(d[0].style.height==""||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],d=a(b.containment).offset(),e=a(c).css("overflow")!="hidden";this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var f=b.pageX,g=b.pageY;if(this.originalPosition){this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top));if(c.grid){var h=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h;var i=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0];f=this.containment?i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2]?i-this.offset.click.left<this.containment[0]?i+c.grid[0]:i-c.grid[0]:i:i}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e==this.counter&&this.refreshPositions(!d)})},_clear:function(b,c){this.reverting=!1;var d=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS)if(this._storedCSS[e]=="auto"||this._storedCSS[e]=="static")this._storedCSS[e]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&d.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.contains(this.element[0],this.currentItem[0])){c||d.push(function(a){this._trigger("remove",a,this._uiHash())});for(var e=this.containers.length-1;e>=0;e--)a.contains(this.containers[e].element[0],this.currentItem[0])&&!c&&(d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[e])),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[e])))}for(var e=this.containers.length-1;e>=0;e--)c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[e])),this.containers[e].containerCache.over=0);this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(var e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}return!1}c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!c){for(var e=0;e<d.length;e++)d[e].call(this,b);this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})}(jQuery),define("libs/jquery/ui/jquery.ui.sortable",function(){}),function(a,b){a.widget("ui.draggable",a.ui.mouse,{version:"@VERSION",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute");if(!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);var d=this.element[0],e=!1;while(d&&(d=d.parentNode))d==document&&(e=!0);if(!e&&this.options.helper==="original")return!1;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",b)!==!1&&f._clear()})}else this._trigger("stop",b)!==!1&&this._clear();return!1},_mouseUp:function(b){return this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window")this.containment=[b.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(b.containment=="document"?0:a(window).scrollLeft())+a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment=="document"?0:a(window).scrollTop())+(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){var c=a(b.containment),d=c[0];if(!d)return;var e=c.offset(),f=a(d).css("overflow")!="hidden";this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}else b.containment.constructor==Array&&(this.containment=b.containment)},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else h=this.containment;b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;g=h?j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3]?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j:j;var k=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;f=h?k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2]?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),b=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,d.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this,f=function(b){var c=this.offset.click.top,d=this.offset.click.left,e=this.positionAbs.top,f=this.positionAbs.left,g=b.height,h=b.width,i=b.top,j=b.left;return a.ui.isOver(e+c,f+d,i,j,g,h)};a.each(d.sortables,function(f){this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c){var d=a("body"),e=a(this).data("draggable").options;d.css("cursor")&&(e._cursor=d.css("cursor")),d.css("cursor",e.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(b,c){var d=a(this).data("draggable");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!="x")d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed);if(!e.axis||e.axis!="y")d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed)}else{if(!e.axis||e.axis!="x")b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed));if(!e.axis||e.axis!="y")b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c){var d=a(this).data("draggable"),e=d.options;d.snapElements=[],a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height;for(var k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(!(l-f<g&&g<m+f&&n-f<i&&i<o+f||l-f<g&&g<m+f&&n-f<j&&j<o+f||l-f<h&&h<m+f&&n-f<i&&i<o+f||l-f<h&&h<m+f&&n-f<j&&j<o+f)){d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1;continue}if(e.snapMode!="inner"){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if(e.snapMode!="outer"){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}}}),a.ui.plugin.add("draggable","stack",{start:function(b,c){var d=a(this).data("draggable").options,e=a.makeArray(a(d.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(!e.length)return;var f=parseInt(e[0].style.zIndex)||0;a(e).each(function(a){this.style.zIndex=f+a}),this[0].style.zIndex=f+e.length}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),define("libs/jquery/ui/jquery.ui.draggable",function(){}),function($){function isStr(a){return $.type(a)==="string"}function runPluginCallbacks(Instance,a_fn){if($.isArray(a_fn))for(var i=0,c=a_fn.length;i<c;i++){var fn=a_fn[i];try{isStr(fn)&&(fn=eval(fn)),$.isFunction(fn)&&fn(Instance)}catch(ex){}}}var min=Math.min,max=Math.max,round=Math.floor;$.layout={version:"1.3.rc30.51",revision:.033005,language:{Open:"Open",Close:"Close",Resize:"Resize",Slide:"Slide Open",Pin:"Pin",Unpin:"Un-Pin",noRoomToOpenTip:"Not enough room to show this pane.",minSizeWarning:"Panel has reached its minimum size",maxSizeWarning:"Panel has reached its maximum size",pane:"pane",selector:"selector",errButton:"Error Adding Button \n\nInvalid ",errContainerMissing:"UI Layout Initialization Error\n\nThe specified layout-container does not exist.",errCenterPaneMissing:"UI Layout Initialization Error\n\nThe center-pane element does not exist.\n\nThe center-pane is a required element.",errContainerHeight:"UI Layout Initialization Warning\n\nThe layout-container \"CONTAINER\" has no height.\n\nTherefore the layout is 0-height and hence 'invisible'!"},browser:{mozilla:!!$.browser.mozilla,webkit:!!$.browser.webkit||!!$.browser.safari,msie:!!$.browser.msie,isIE6:!!$.browser.msie&&$.browser.version==6,version:$.browser.version},effects:{slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{duration:"slow"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}},blind:{},clip:{},explode:{},fade:{},fold:{},puff:{},size:{all:{easing:"swing"}}},config:{optionRootKeys:"effects,panes,north,south,west,east,center".split(","),allPanes:"north,south,west,east,center".split(","),borderPanes:"north,south,west,east".split(","),oppositeEdge:{north:"south",south:"north",east:"west",west:"east"},offscreenCSS:{left:"-99999px",right:"auto"},offscreenReset:"offscreenReset",hidden:{visibility:"hidden"},visible:{visibility:"visible"},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden"},cssDemo:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDemo:{background:"#AAA"}},content:{cssReq:{position:"relative"},cssDemo:{overflow:"auto",padding:"10px"},cssDemoPane:{overflow:"hidden",padding:0}},panes:{cssReq:{position:"absolute",margin:0},cssDemo:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{side:"Top",sizeType:"Height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,width:"auto"}},south:{side:"Bottom",sizeType:"Height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"}},east:{side:"Right",sizeType:"Width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"}},west:{side:"Left",sizeType:"Width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"}},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},callbacks:{},getParentPaneElem:function(a){var b=$(a),c=b.data("layout")||b.data("parentLayout");if(c){var d=c.container;if(d.data("layoutPane"))return d;var e=d.closest("."+$.layout.defaults.panes.paneClass);if(e.data("layoutPane"))return e}return null},getParentPaneInstance:function(a){var b=$.layout.getParentPaneElem(a);return b?b.data("layoutPane"):null},getParentLayoutInstance:function(a){var b=$.layout.getParentPaneElem(a);return b?b.data("parentLayout"):null},getEventObject:function(a){return typeof a=="object"&&a.stopPropagation?a:null},parsePaneName:function(a){var b=$.layout.getEventObject(a);return b?(b.stopPropagation(),$(this).data("layoutEdge")):a},plugins:{draggable:!!$.fn.draggable,effects:{core:!!$.effects,slide:$.effects&&$.effects.slide}},onCreate:[],onLoad:[],onReady:[],onDestroy:[],onUnload:[],afterOpen:[],afterClose:[],scrollbarWidth:function(){return window.scrollbarWidth||$.layout.getScrollbarSize("width")},scrollbarHeight:function(){return window.scrollbarHeight||$.layout.getScrollbarSize("height")},getScrollbarSize:function(a){var b=$('<div style="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 100px; overflow: scroll;"></div>').appendTo("body"),c={width:b.width()-b[0].clientWidth,height:b.height()-b[0].clientHeight};return b.remove(),window.scrollbarWidth=c.width,window.scrollbarHeight=c.height,a.match(/^(width|height)$/)?c[a]:c},showInvisibly:function(a,b){if(!a)return{};a.jquery||(a=$(a));var c={display:a.css("display"),visibility:a.css("visibility")};return b||c.display==="none"?(a.css({display:"block",visibility:"hidden"}),c):{}},getElementDimensions:function(a){var b={},c=b.css={},d={},e,f,g=$.layout.cssNum,h=a.offset();return b.offsetLeft=h.left,b.offsetTop=h.top,$.each("Left,Right,Top,Bottom".split(","),function(g,h){e=c["border"+h]=$.layout.borderWidth(a,h),f=c["padding"+h]=$.layout.cssNum(a,"padding"+h),d[h]=e+f,b["inset"+h]=f}),b.offsetWidth=a.innerWidth(),b.offsetHeight=a.innerHeight(),b.outerWidth=a.outerWidth(),b.outerHeight=a.outerHeight(),b.innerWidth=max(0,b.outerWidth-d.Left-d.Right),b.innerHeight=max(0,b.outerHeight-d.Top-d.Bottom),c.width=a.width(),c.height=a.height(),c.top=g(a,"top",!0),c.bottom=g(a,"bottom",!0),c.left=g(a,"left",!0),c.right=g(a,"right",!0),b},getElementCSS:function(a,b){var c={},d=a[0].style,e=b.split(","),f="Top,Bottom,Left,Right".split(","),g="Color,Style,Width".split(","),h,i,j,k,l,m;for(k=0;k<e.length;k++){h=e[k];if(h.match(/(border|padding|margin)$/))for(l=0;l<4;l++){i=f[l];if(h==="border")for(m=0;m<3;m++)j=g[m],c[h+i+j]=d[h+i+j];else c[h+i]=d[h+i]}else c[h]=d[h]}return c},cssWidth:function(a,b){var c=$.layout.borderWidth,d=$.layout.cssNum;if(b<=0)return 0;if(!$.support.boxModel)return b;var e=b-c(a,"Left")-c(a,"Right")-d(a,"paddingLeft")-d(a,"paddingRight");return max(0,e)},cssHeight:function(a,b){var c=$.layout.borderWidth,d=$.layout.cssNum;if(b<=0)return 0;if(!$.support.boxModel)return b;var e=b-c(a,"Top")-c(a,"Bottom")-d(a,"paddingTop")-d(a,"paddingBottom");return max(0,e)},cssNum:function(a,b,c){a.jquery||(a=$(a));var d=$.layout.showInvisibly(a),e=$.curCSS(a[0],b,!0),f=c&&e=="auto"?e:parseInt(e,10)||0;return a.css(d),f},borderWidth:function(a,b){a.jquery&&(a=a[0]);var c="border"+b.substr(0,1).toUpperCase()+b.substr(1);return $.curCSS(a,c+"Style",!0)==="none"?0:parseInt($.curCSS(a,c+"Width",!0),10)||0},isMouseOverElem:function(a,b){var c=$(b||this),d=c.offset(),e=d.top,f=d.left,g=f+c.outerWidth(),h=e+c.outerHeight(),i=a.pageX,j=a.pageY;return $.layout.browser.msie&&i<0&&j<0||i>=f&&i<=g&&j>=e&&j<=h},msg:function(a,b,c,d){function i(){var a=$.support.fixedPosition?"fixed":"absolute",b=$('<div id="layoutLogger" style="position: '+a+'; top: 5px; z-index: 999999; max-width: 25%; overflow: hidden; border: 1px solid #000; border-radius: 5px; background: #FBFBFB; box-shadow: 0 2px 10px rgba(0,0,0,0.3);">'+'<div style="font-size: 13px; font-weight: bold; padding: 5px 10px; background: #F6F6F6; border-radius: 5px 5px 0 0; cursor: move;">'+'<span style="float: right; padding-left: 7px; cursor: pointer;" title="Remove Console" onclick="$(this).closest(\'#layoutLogger\').remove()">X</span>Layout console.log</div>'+'<ul style="font-size: 13px; font-weight: none; list-style: none; margin: 0; padding: 0 0 2px;"></ul>'+"</div>").appendTo("body");return b.css("left",$(window).width()-b.outerWidth()-5),$.ui.draggable&&b.draggable({handle:":first-child"}),b}if($.isPlainObject(a)&&window.debugData){typeof b=="string"?(d=c,c=b):typeof c=="object"&&(d=c,c=null);var e=c||"log( <object> )",f=$.extend({sort:!1,returnHTML:!1,display:!1},d);b===!0||f.display?debugData(a,e,f):window.console&&console.log(debugData(a,e,f))}else if(b)alert(a);else if(window.console)console.log(a);else{var g="#layoutLogger",h=$(g);h.length||(h=i()),h.children("ul").append('<li style="padding: 4px 10px; margin: 0; border-top: 1px solid #CCC;">'+a.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</li>")}}};var lang=$.layout.language;$.layout.defaults={name:"",containerSelector:"",containerClass:"ui-layout-container",scrollToBookmarkOnLoad:!0,resizeWithWindow:!0,resizeWithWindowDelay:200,resizeWithWindowMaxDelay:0,onresizeall_start:null,onresizeall_end:null,onload_start:null,onload_end:null,onunload_start:null,onunload_end:null,autoBindCustomButtons:!1,initPanes:!0,showErrorMessages:!0,showDebugMessages:!1,zIndex:null,zIndexes:{pane_normal:0,content_mask:1,resizer_normal:2,pane_sliding:100,pane_animate:1e3,resizer_drag:1e4},panes:{applyDemoStyles:!1,closable:!0,resizable:!0,slidable:!0,initClosed:!1,initHidden:!1,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",findNestedContent:!1,paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",minSize:0,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerTip_open:lang.Close,togglerTip_closed:lang.Open,togglerContent_open:"",togglerContent_closed:"",resizerDblClickToggle:!0,autoResize:!0,autoReopen:!0,resizerDragOpacity:1,maskContents:!1,maskObjects:!1,maskZindex:null,resizingGrid:!1,livePaneResizing:!1,liveContentResizing:!1,liveResizingTolerance:1,noRoomToOpenTip:lang.noRoomToOpenTip,resizerTip:lang.Resize,sliderTip:lang.Slide,sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseleave",slideDelay_open:300,slideDelay_close:300,hideTogglerOnSlide:!1,preventQuickSlideClose:$.layout.browser.webkit,preventPrematureSlideClose:!1,showOverflowOnHover:!1,enableCursorHotkey:!0,customHotkeyModifier:"SHIFT",fxName:"slide",fxSpeed:null,fxSettings:{},fxOpacityFix:!0,animatePaneSizing:!1,childOptions:null,initChildLayout:!0,destroyChildLayout:!0,resizeChildLayout:!0,triggerEventsOnLoad:!1,triggerEventsDuringLiveResize:!0,onshow_start:null,onshow_end:null,onhide_start:null,onhide_end:null,onopen_start:null,onopen_end:null,onclose_start:null,onclose_end:null,onresize_start:null,onresize_end:null,onsizecontent_start:null,onsizecontent_end:null,onswap_start:null,onswap_end:null,ondrag_start:null,ondrag_end:null},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize",customHotkey:""},south:{paneSelector:".ui-layout-south",size:"auto",resizerCursor:"s-resize",customHotkey:""},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize",customHotkey:""},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize",customHotkey:""},center:{paneSelector:".ui-layout-center",minWidth:0,minHeight:0}},$.layout.optionsMap={layout:"stateManagement,effects,zIndexes,name,zIndex,scrollToBookmarkOnLoad,showErrorMessages,resizeWithWindow,resizeWithWindowDelay,resizeWithWindowMaxDelay,onresizeall,onresizeall_start,onresizeall_end,onload,onunload,autoBindCustomButtons".split(","),center:"paneClass,contentSelector,contentIgnoreSelector,findNestedContent,applyDemoStyles,triggerEventsOnLoad,showOverflowOnHover,maskContents,maskObjects,liveContentResizing,childOptions,initChildLayout,resizeChildLayout,destroyChildLayout,onresize,onresize_start,onresize_end,onsizecontent,onsizecontent_start,onsizecontent_end".split(","),noDefault:"paneSelector,resizerCursor,customHotkey".split(",")},$.layout.transformData=function(a){var b={panes:{},center:{}},c,d,e,f,g,h,i,j;if(typeof a!="object")return b;for(e in a){d=b,c=$.layout.optionsMap.layout,h=a[e],f=e.split("__"),j=f.length-1;for(i=0;i<=j;i++)g=f[i],i===j?d[g]=h:d[g]||(d[g]={}),d=d[g]}return b},$.layout.backwardCompatibility={map:{applyDefaultStyles:"applyDemoStyles",resizeNestedLayout:"resizeChildLayout",resizeWhileDragging:"livePaneResizing",resizeContentWhileDragging:"liveContentResizing",triggerEventsWhileDragging:"triggerEventsDuringLiveResize",maskIframesOnResize:"maskContents",useStateCookie:"stateManagement.enabled","cookie.autoLoad":"stateManagement.autoLoad","cookie.autoSave":"stateManagement.autoSave","cookie.keys":"stateManagement.stateKeys","cookie.name":"stateManagement.cookie.name","cookie.domain":"stateManagement.cookie.domain","cookie.path":"stateManagement.cookie.path","cookie.expires":"stateManagement.cookie.expires","cookie.secure":"stateManagement.cookie.secure"},renameOptions:function(a){function g(b,c){var d=b.split("."),e=d.length-1,f={branch:a,key:d[e]},g=0,h,i;for(;g<e;g++)h=d[g],f.branch[h]==undefined?c?f.branch=f.branch[h]={}:f.branch={}:f.branch=f.branch[h];return f}var b=$.layout.backwardCompatibility.map,c,d,e;for(var f in b)c=g(f),e=c.branch[c.key],e!==undefined&&(d=g(b[f],!0),d.branch[d.key]=e,delete c.branch[c.key])},renameAllOptions:function(a){var b=$.layout.backwardCompatibility.renameOptions;return b(a),a.defaults&&(typeof a.panes!="object"&&(a.panes={}),$.extend(!0,a.panes,a.defaults),delete a.defaults),a.panes&&b(a.panes),$.each($.layout.config.allPanes,function(c,d){a[d]&&b(a[d])}),a}},$.fn.layout=function(opts){function keyDown(a){if(!a)return!0;var b=a.keyCode;if(b<33)return!0;var c={38:"north",40:"south",37:"west",39:"east"},d=a.altKey,e=a.shiftKey,f=a.ctrlKey,g=f&&b>=37&&b<=40,h,i,j,k;return g&&options[c[b]].enableCursorHotkey?k=c[b]:(f||e)&&$.each(_c.borderPanes,function(a,c){h=options[c],i=h.customHotkey,j=h.customHotkeyModifier;if(e&&j=="SHIFT"||f&&j=="CTRL"||f&&e)if(i&&b===(isNaN(i)||i<=9?i.toUpperCase().charCodeAt(0):i))return k=c,!1}),!k||!$Ps[k]||!options[k].closable||state[k].isHidden?!0:(toggle(k),a.stopPropagation(),a.returnValue=!1,!1)}function allowOverflow(a){if(!isInitialized())return;this&&this.tagName&&(a=this);var b;isStr(a)?b=$Ps[a]:$(a).data("layoutRole")?b=$(a):$(a).parents().each(function(){if($(this).data("layoutRole"))return b=$(this),!1});if(!b||!b.length)return;var c=b.data("layoutEdge"),d=state[c];d.cssSaved&&resetOverflow(c);if(d.isSliding||d.isResizing||d.isClosed){d.cssSaved=!1;return}var e={zIndex:options.zIndexes.resizer_normal+1},f={},g=b.css("overflow"),h=b.css("overflowX"),i=b.css("overflowY");g!="visible"&&(f.overflow=g,e.overflow="visible"),h&&!h.match(/visible|auto/)&&(f.overflowX=h,e.overflowX="visible"),i&&!i.match(/visible|auto/)&&(f.overflowY=h,e.overflowY="visible"),d.cssSaved=f,b.css(e),$.each(_c.allPanes,function(a,b){b!=c&&resetOverflow(b)})}function resetOverflow(a){if(!isInitialized())return;this&&this.tagName&&(a=this);var b;isStr(a)?b=$Ps[a]:$(a).data("layoutRole")?b=$(a):$(a).parents().each(function(){if($(this).data("layoutRole"))return b=$(this),!1});if(!b||!b.length)return;var c=b.data("layoutEdge"),d=state[c],e=d.cssSaved||{};!d.isSliding&&!d.isResizing&&b.css("zIndex",options.zIndexes.pane_normal),b.css(e),d.cssSaved=!1}var browser=$.layout.browser,lang=$.layout.language,_c=$.layout.config,cssW=$.layout.cssWidth,cssH=$.layout.cssHeight,elDims=$.layout.getElementDimensions,elCSS=$.layout.getElementCSS,evtObj=$.layout.getEventObject,evtPane=$.layout.parsePaneName,options=$.extend(!0,{},$.layout.defaults),effects=options.effects=$.extend(!0,{},$.layout.effects),state={id:"layout"+$.now(),initialized:!1,container:{},north:{},south:{},east:{},west:{},center:{}},children={north:null,south:null,east:null,west:null,center:null},timer={data:{},set:function(a,b,c){timer.clear(a),timer.data[a]=setTimeout(b,c)},clear:function(a){var b=timer.data;b[a]&&(clearTimeout(b[a]),delete b[a])}},_log=function(a,b){$.layout.msg(options.name+" / "+a,b&&options.showErrorMessages)},_runCallbacks=function(evtName,pane,skipBoundEvents){var o=pane?options[pane]:options,lng=evtName+(evtName.match(/_/)?"":"_end"),shrt=lng.match(/_end$/)?lng.substr(0,lng.length-4):"",fn=o[lng],retVal="NC",args=[];return!fn&&shrt&&(fn=o[shrt]),fn&&(isStr(fn)&&(fn.match(/,/)?(args=fn.split(","),fn=eval(args[0])):fn=eval(fn)),$.isFunction(fn)&&(args.length?retVal=fn(args[1]):pane&&$Ps[pane]?retVal=fn(pane,$Ps[pane],state[pane],options[pane],options.name):retVal=fn(Instance,state,options,options.name))),!skipBoundEvents&&retVal!==!1&&(pane?($Ps[pane].triggerHandler("layoutpane"+lng,[pane,$Ps[pane],state[pane],options[pane],options.name]),shrt&&$Ps[pane].triggerHandler("layoutpane"+shrt,[pane,$Ps[pane],state[pane],options[pane],options.name])):$N.triggerHandler("layout"+lng,[pane,$Ps[pane],state[pane],options[pane],options.name])),(evtName==="onresize_end"||evtName==="onsizecontent_end")&&resizeChildLayout(pane),retVal},_fixIframe=function(a){if(browser.mozilla)return;var b=$Ps[a];state[a].tagName==="IFRAME"?b.css(_c.hidden).css(_c.visible):b.find("IFRAME").css(_c.hidden).css(_c.visible)},cssSize=function(a,b){var c=_c[a].dir=="horz"?cssH:cssW;return c($Ps[a],b)},cssMinDims=function(a){var b=$Ps[a],c=_c[a].dir,d={minWidth:1001-cssW(b,1e3),minHeight:1001-cssH(b,1e3)};return c==="horz"&&(d.minSize=d.minHeight),c==="vert"&&(d.minSize=d.minWidth),d},setOuterWidth=function(a,b,c){var d=a,e;isStr(a)?d=$Ps[a]:a.jquery||(d=$(a)),e=cssW(d,b),d.css({width:e}),e>0?c&&d.data("autoHidden")&&d.innerHeight()>0&&(d.show().data("autoHidden",!1),browser.mozilla||d.css(_c.hidden).css(_c.visible)):c&&!d.data("autoHidden")&&d.hide().data("autoHidden",!0)},setOuterHeight=function(a,b,c){var d=a,e;isStr(a)?d=$Ps[a]:a.jquery||(d=$(a)),e=cssH(d,b),d.css({height:e,visibility:"visible"}),e>0&&d.innerWidth()>0?c&&d.data("autoHidden")&&(d.show().data("autoHidden",!1),browser.mozilla||d.css(_c.hidden).css(_c.visible)):c&&!d.data("autoHidden")&&d.hide().data("autoHidden",!0)},setOuterSize=function(a,b,c){_c[pane].dir=="horz"?setOuterHeight(a,b,c):setOuterWidth(a,b,c)},_parseSize=function(a,b,c){c||(c=_c[a].dir),isStr(b)&&b.match(/%/)&&(b=b==="100%"?-1:parseInt(b,10)/100);if(b===0)return 0;if(b>=1)return parseInt(b,10);var d=options,e=0;c=="horz"?e=sC.innerHeight-($Ps.north?d.north.spacing_open:0)-($Ps.south?d.south.spacing_open:0):c=="vert"&&(e=sC.innerWidth-($Ps.west?d.west.spacing_open:0)-($Ps.east?d.east.spacing_open:0));if(b===-1)return e;if(b>0)return round(e*b);if(a=="center")return 0;var f=c==="horz"?"height":"width",g=$Ps[a],h=f==="height"?$Cs[a]:!1,i=$.layout.showInvisibly(g),j=g.css(f),k=h?h.css(f):0;return g.css(f,"auto"),h&&h.css(f,"auto"),b=f==="height"?g.outerHeight():g.outerWidth(),g.css(f,j).css(i),h&&h.css(f,k),b},getPaneSize=function(a,b){var c=$Ps[a],d=options[a],e=state[a],f=b?d.spacing_open:0,g=b?d.spacing_closed:0;return!c||e.isHidden?0:e.isClosed||e.isSliding&&b?g:_c[a].dir==="horz"?c.outerHeight()+f:c.outerWidth()+f},setSizeLimits=function(a,b){if(!isInitialized())return;var c=options[a],d=state[a],e=_c[a],f=e.dir,g=e.side.toLowerCase(),h=e.sizeType.toLowerCase(),i=b!=undefined?b:d.isSliding,j=$Ps[a],k=c.spacing_open,l=_c.oppositeEdge[a],m=state[l],n=$Ps[l],o=!n||m.isVisible===!1||m.isSliding?0:f=="horz"?n.outerHeight():n.outerWidth(),p=(!n||m.isHidden?0:options[l][m.isClosed!==!1?"spacing_closed":"spacing_open"])||0,q=f=="horz"?sC.innerHeight:sC.innerWidth,r=cssMinDims("center"),s=f=="horz"?max(options.center.minHeight,r.minHeight):max(options.center.minWidth,r.minWidth),t=q-k-(i?0:_parseSize("center",s,f)+o+p),u=d.minSize=max(_parseSize(a,c.minSize),cssMinDims(a).minSize),v=d.maxSize=min(c.maxSize?_parseSize(a,c.maxSize):1e5,t),w=d.resizerPosition={},x=sC.insetTop,y=sC.insetLeft,z=sC.innerWidth,A=sC.innerHeight,B=c.spacing_open;switch(a){case"north":w.min=x+u,w.max=x+v;break;case"west":w.min=y+u,w.max=y+v;break;case"south":w.min=x+A-v-B,w.max=x+A-u-B;break;case"east":w.min=y+z-v-B,w.max=y+z-u-B}},calcNewCenterPaneDims=function(){var a={top:getPaneSize("north",!0),bottom:getPaneSize("south",!0),left:getPaneSize("west",!0),right:getPaneSize("east",!0),width:0,height:0};return a.width=sC.innerWidth-a.left-a.right,a.height=sC.innerHeight-a.bottom-a.top,a.top+=sC.insetTop,a.bottom+=sC.insetBottom,a.left+=sC.insetLeft,a.right+=sC.insetRight,a},getHoverClasses=function(a,b){var c=$(a),d=c.data("layoutRole"),e=c.data("layoutEdge"),f=options[e],g=f[d+"Class"],h="-"+e,i="-open",j="-closed",k="-sliding",l="-hover ",m=c.hasClass(g+j)?j:i,n=m===j?i:j,o=g+l+(g+h+l)+(g+m+l)+(g+h+m+l);return b&&(o+=g+n+l+(g+h+n+l)),d=="resizer"&&c.hasClass(g+k)&&(o+=g+k+l+(g+h+k+l)),$.trim(o)},addHover=function(a,b){var c=$(b||this);a&&c.data("layoutRole")==="toggler"&&a.stopPropagation(),c.addClass(getHoverClasses(c))},removeHover=function(a,b){var c=$(b||this);c.removeClass(getHoverClasses(c,!0))},onResizerEnter=function(a){$.fn.disableSelection&&$("body").disableSelection()},onResizerLeave=function(a,b){var c=b||this,d=$(c).data("layoutEdge"),e=d+"ResizerLeave";timer.clear(d+"_openSlider"),timer.clear(e),b?!state[d].isResizing&&$.fn.enableSelection&&$("body").enableSelection():timer.set(e,function(){onResizerLeave(a,c)},200)},_create=function(){initOptions();var a=options;return state.creatingLayout=!0,runPluginCallbacks(Instance,$.layout.onCreate),!1===_runCallbacks("onload_start")?"cancel":(_initContainer(),initHotkeys(),$(window).bind("unload."+sID,unload),runPluginCallbacks(Instance,$.layout.onLoad),a.initPanes&&_initLayoutElements(),delete state.creatingLayout,state.initialized)},isInitialized=function(){return state.initialized||state.creatingLayout?!0:_initLayoutElements()},_initLayoutElements=function(a){var b=options;if(!$N.is(":visible"))return!a&&browser.webkit&&$N[0].tagName==="BODY"&&setTimeout(function(){_initLayoutElements(!0)},50),!1;if(!getPane("center").length)return options.showErrorMessages&&_log(lang.errCenterPaneMissing,!0),!1;state.creatingLayout=!0,$.extend(sC,elDims($N)),initPanes();if(b.scrollToBookmarkOnLoad){var c=self.location;c.hash&&c.replace(c.hash)}return Instance.hasParentLayout?b.resizeWithWindow=!1:b.resizeWithWindow&&$(window).bind("resize."+sID,windowResize),delete state.creatingLayout,state.initialized=!0,runPluginCallbacks(Instance,$.layout.onReady),_runCallbacks("onload_end"),!0},_initChildLayouts=function(){$.each(_c.allPanes,function(a,b){options[b].initChildLayout&&createChildLayout(b)})},createChildLayout=function(a,b){var c=evtPane.call(this,a),d=$Ps[c],e=children;if(d){var f=$Cs[c],g=b||options[c].childOptions,h="layout",i=g.containerSelector?d.find(g.containerSelector):f||d,j=i.length,k=j?e[c]=i.data(h)||null:null;!k&&j&&g&&(k=e[c]=i.eq(0).layout(g)||null),k&&(k.hasParentLayout=!0)}Instance[c].child=e[c]},windowResize=function(){var a=Number(options.resizeWithWindowDelay);a<10&&(a=100),timer.clear("winResize"),timer.set("winResize",function(){timer.clear("winResize"),timer.clear("winResizeRepeater");var a=elDims($N);(a.innerWidth!==sC.innerWidth||a.innerHeight!==sC.innerHeight)&&resizeAll()},a),timer.data.winResizeRepeater||setWindowResizeRepeater()},setWindowResizeRepeater=function(){var a=Number(options.resizeWithWindowMaxDelay);a>0&&timer.set("winResizeRepeater",function(){setWindowResizeRepeater(),resizeAll()},a)},unload=function(){var a=options;_runCallbacks("onunload_start"),runPluginCallbacks(Instance,$.layout.onUnload),_runCallbacks("onunload_end")},_initContainer=function(){var a=$N[0],b=sC.tagName=a.tagName,c=sC.id=a.id,d=sC.className=a.className,e=options,f=e.name,g=b==="BODY",h="overflow,position,margin,padding,border",i="layoutCSS",j={},k="hidden",l=$N.data("parentLayout"),m=$N.data("layoutEdge"),n=l&&m;sC.selector=$N.selector.split(".slice")[0],sC.ref=(e.name?e.name+" layout / ":"")+b+(c?"#"+c:d?".["+d+"]":""),$N.data({layout:Instance,layoutContainer:sID}).addClass(e.containerClass);var o={destroy:"",initPanes:"",resizeAll:"resizeAll",resize:"resizeAll"},f;for(f in o)$N.bind("layout"+f.toLowerCase()+"."+sID,Instance[o[f]||f]);n&&(Instance.hasParentLayout=!0,l[m].child=l.children[m]=$N.data("layout"));if(!$N.data(i)){if(g){j=$.extend(elCSS($N,h),{height:$N.css("height"),overflow:$N.css("overflow"),overflowX:$N.css("overflowX"),overflowY:$N.css("overflowY")});var p=$("html");p.data(i,{height:"auto",overflow:p.css("overflow"),overflowX:p.css("overflowX"),overflowY:p.css("overflowY")})}else j=elCSS($N,h+",top,bottom,left,right,width,height,overflow,overflowX,overflowY");$N.data(i,j)}try{if(g)$("html").css({height:"100%",overflow:k,overflowX:k,overflowY:k}),$("body").css({position:"relative",height:"100%",overflow:k,overflowX:k,overflowY:k,margin:0,padding:0,border:"none"}),$.extend(sC,elDims($N));else{j={overflow:k,overflowX:k,overflowY:k};var q=$N.css("position"),r=$N.css("height");!n&&(!q||!q.match(/fixed|absolute|relative/))&&(j.position="relative"),$N.css(j),$N.is(":visible")&&($.extend(sC,elDims($N)),e.showErrorMessages&&sC.innerHeight<1&&_log(lang.errContainerHeight.replace(/CONTAINER/,sC.ref),!0))}}catch(s){}},initHotkeys=function(a){a=a?a.split(","):_c.borderPanes,$.each(a,function(a,b){var c=options[b];if(c.enableCursorHotkey||c.customHotkey)return $(document).bind("keydown."+sID,keyDown),!1})},initOptions=function(){function l(a){var b=options[a],c=options.panes;b.fxSettings||(b.fxSettings={}),c.fxSettings||(c.fxSettings={}),$.each(["_open","_close","_size"],function(d,e){var f="fxName"+e,g="fxSpeed"+e,h="fxSettings"+e,i=b[f]=b[f]||c[f]||b.fxName||c.fxName||"none";if(i==="none"||!$.effects||!$.effects[i]||!options.effects[i])i=b[f]="none";var j=options.effects[i]||{},k=j.all||null,l=j[a]||null;b[g]=b[g]||c[g]||b.fxSpeed||c.fxSpeed||null,b[h]=$.extend({},k,l,c.fxSettings,b.fxSettings,c[h],b[h])}),delete b.fxName,delete b.fxSpeed,delete b.fxSettings}var a,b,c,d,e,f,g,h;opts=$.layout.transformData(opts),opts=$.layout.backwardCompatibility.renameAllOptions(opts);if(!$.isEmptyObject(opts.panes)){a=$.layout.optionsMap.noDefault;for(f=0,g=a.length;f<g;f++)d=a[f],delete opts.panes[d];a=$.layout.optionsMap.layout;for(f=0,g=a.length;f<g;f++)d=a[f],delete opts.panes[d]}a=$.layout.optionsMap.layout;var i=$.layout.config.optionRootKeys;for(d in opts)e=opts[d],$.inArray(d,i)<0&&$.inArray(d,a)<0&&(opts.panes[d]||(opts.panes[d]=$.isPlainObject(e)?$.extend(!0,{},e):e),delete opts[d]);$.extend(!0,options,opts),$.each(_c.allPanes,function(c,e){_c[e]=$.extend(!0,{},_c.panes,_c[e]),b=options.panes,h=options[e];if(e==="center"){a=$.layout.optionsMap.center;for(c=0,g=a.length;c<g;c++)d=a[c],!opts.center[d]&&(opts.panes[d]||!h[d])&&(h[d]=b[d])}else h=options[e]=$.extend({},b,h),l(e),h.resizerClass||(h.resizerClass="ui-layout-resizer"),h.togglerClass||(h.togglerClass="ui-layout-toggler");h.paneClass||(h.paneClass="ui-layout-pane")});var j=opts.zIndex,k=options.zIndexes;j>0&&(k.pane_normal=j,k.content_mask=max(j+1,k.content_mask),k.resizer_normal=max(j+2,k.resizer_normal)),delete options.panes},getPane=function(a){var b=options[a].paneSelector;if(b.substr(0,1)==="#")return $N.find(b).eq(0);var c=$N.children(b).eq(0);return c.length?c:$N.children("form:first").children(b).eq(0)},initPanes=function(){$.each(_c.allPanes,function(a,b){addPane(b,!0)}),initHandles(),$.each(_c.borderPanes,function(a,b){$Ps[b]&&state[b].isVisible&&(setSizeLimits(b),makePaneFit(b))}),sizeMidPanes("center"),$.each(_c.allPanes,function(a,b){var c=options[b];$Ps[b]&&(state[b].isVisible&&(sizeContent(b),c.triggerEventsOnLoad?_runCallbacks("onresize_end",b):resizeChildLayout(b)),c.initChildLayout&&c.childOptions&&createChildLayout(b))})},addPane=function(a,b){if(!b&&!isInitialized())return;var c=options[a],d=state[a],e=_c[a],f=d.fx,g=e.dir,h=c.spacing_open||0,i=a==="center",j={},k=$Ps[a],l,m,n;k?removePane(a,!1,!0,!1):$Cs[a]=!1,k=$Ps[a]=getPane(a);if(!k.length){$Ps[a]=!1;return}if(!k.data("layoutCSS")){var o="position,top,left,bottom,right,width,height,overflow,zIndex,display,backgroundColor,padding,margin,border";k.data("layoutCSS",elCSS(k,o))}Instance[a]={name:a,pane:$Ps[a],content:$Cs[a],options:options[a],state:state[a],child:children[a]},k.data({parentLayout:Instance,layoutPane:Instance[a],layoutEdge:a,layoutRole:"pane"}).css(e.cssReq).css("zIndex",options.zIndexes.pane_normal).css(c.applyDemoStyles?e.cssDemo:{}).addClass(c.paneClass+" "+c.paneClass+"-"+a).bind("mouseenter."+sID,addHover).bind("mouseleave."+sID,removeHover);var p={hide:"",show:"",toggle:"",close:"",open:"",slideOpen:"",slideClose:"",slideToggle:"",size:"manualSizePane",sizePane:"manualSizePane",sizeContent:"",sizeHandles:"",enableClosable:"",disableClosable:"",enableSlideable:"",disableSlideable:"",enableResizable:"",disableResizable:"",swapPanes:"swapPanes",swap:"swapPanes",move:"swapPanes",removePane:"removePane",remove:"removePane",createChildLayout:"",resizeChildLayout:"",resizeAll:"resizeAll",resizeLayout:"resizeAll"},q;for(q in p)k.bind("layoutpane"+q.toLowerCase()+"."+sID,Instance[p[q]||q]);initContent(a,!1),i||(l=d.size=_parseSize(a,c.size),m=_parseSize(a,c.minSize)||1,n=_parseSize(a,c.maxSize)||1e5,l>0&&(l=max(min(l,n),m)),d.isClosed=!1,d.isSliding=!1,d.isResizing=!1,d.isHidden=!1,d.pins||(d.pins=[])),d.tagName=k[0].tagName,d.edge=a,d.noRoom=!1,d.isVisible=!0;switch(a){case"north":j.top=sC.insetTop,j.left=sC.insetLeft,j.right=sC.insetRight;break;case"south":j.bottom=sC.insetBottom,j.left=sC.insetLeft,j.right=sC.insetRight;break;case"west":j.left=sC.insetLeft;break;case"east":j.right=sC.insetRight;break;case"center":}g==="horz"?j.height=cssH(k,l):g==="vert"&&(j.width=cssW(k,l)),k.css(j),g!="horz"&&sizeMidPanes(a,!0),c.initClosed&&c.closable&&!c.initHidden?close(a,!0,!0):c.initHidden||c.initClosed?hide(a):d.noRoom||k.css("display","block"),k.css("visibility","visible"),c.showOverflowOnHover&&k.hover(allowOverflow,resetOverflow),state.initialized&&(initHandles(a),initHotkeys(a),resizeAll(),d.isVisible&&(c.triggerEventsOnLoad?_runCallbacks("onresize_end",a):resizeChildLayout(a)),c.initChildLayout&&c.childOptions&&createChildLayout(a))},initHandles=function(a){a=a?a.split(","):_c.borderPanes,$.each(a,function(a,b){var c=$Ps[b];$Rs[b]=!1,$Ts[b]=!1;if(!c)return;var d=options[b],e=state[b],f=_c[b],g=d.resizerClass,h=d.togglerClass,i=f.side.toLowerCase(),j=e.isVisible?d.spacing_open:d.spacing_closed,k="-"+b,l=e.isVisible?"-open":"-closed",m=Instance[b],n=m.resizer=$Rs[b]=$("<div></div>"),o=m.toggler=d.closable?$Ts[b]=$("<div></div>"):!1;!e.isVisible&&d.slidable&&n.attr("title",d.sliderTip).css("cursor",d.sliderCursor),n.attr("id",d.paneSelector.substr(0,1)=="#"?d.paneSelector.substr(1)+"-resizer":"").data({parentLayout:Instance,layoutPane:Instance[b],layoutEdge:b,layoutRole:"resizer"}).css(_c.resizers.cssReq).css("zIndex",options.zIndexes.resizer_normal).css(d.applyDemoStyles?_c.resizers.cssDemo:{}).addClass(g+" "+g+k).hover(addHover,removeHover).hover(onResizerEnter,onResizerLeave).appendTo($N),o&&(o.attr("id",d.paneSelector.substr(0,1)=="#"?d.paneSelector.substr(1)+"-toggler":"").data({parentLayout:Instance,layoutPane:Instance[b],layoutEdge:b,layoutRole:"toggler"}).css(_c.togglers.cssReq).css(d.applyDemoStyles?_c.togglers.cssDemo:{}).addClass(h+" "+h+k).hover(addHover,removeHover).bind("mouseenter",onResizerEnter).appendTo(n),d.togglerContent_open&&$("<span>"+d.togglerContent_open+"</span>").data({layoutEdge:b,layoutRole:"togglerContent"}).data("layoutRole","togglerContent").data("layoutEdge",b).addClass("content content-open").css("display","none").appendTo(o),d.togglerContent_closed&&$("<span>"+d.togglerContent_closed+"</span>").data({layoutEdge:b,layoutRole:"togglerContent"}).addClass("content content-closed").css("display","none").appendTo(o),enableClosable(b)),initResizable(b),e.isVisible?setAsOpen(b):(setAsClosed(b),bindStartSlidingEvent(b,!0))}),sizeHandles()},initContent=function(a,b){if(!isInitialized())return;var c=options[a],d=c.contentSelector,e=Instance[a],f=$Ps[a],g;d&&(g=e.content=$Cs[a]=c.findNestedContent?f.find(d).eq(0):f.children(d).eq(0)),g&&g.length?(g.data("layoutRole","content"),g.data("layoutCSS")||g.data("layoutCSS",elCSS(g,"height")),g.css(_c.content.cssReq),c.applyDemoStyles&&(g.css(_c.content.cssDemo),f.css(_c.content.cssDemoPane)),state[a].content={},b!==!1&&sizeContent(a)):e.content=$Cs[a]=!1},initResizable=function(a){var b=$.layout.plugins.draggable,c;a=a?a.split(","):_c.borderPanes,$.each(a,function(a,c){var e=options[c];if(!b||!$Ps[c]||!e.resizable)return e.resizable=!1,!0;var f=state[c],g=options.zIndexes,h=_c[c],i=h.dir=="horz"?"top":"left",j=_c.oppositeEdge[c],k=c+",center,"+j+(h.dir=="horz"?",west,east":""),l=$Ps[c],m=$Rs[c],n=e.resizerClass,o=0,p,q,r=n+"-drag",s=n+"-"+c+"-drag",t=n+"-dragging",u=n+"-"+c+"-dragging",v=n+"-dragging-limit",w=n+"-"+c+"-dragging-limit",x=!1;f.isClosed||m.attr("title",e.resizerTip).css("cursor",e.resizerCursor),m.draggable({containment:$N[0],axis:h.dir=="horz"?"y":"x",delay:0,distance:1,grid:e.resizingGrid,helper:"clone",opacity:e.resizerDragOpacity,addClasses:!1,zIndex:g.resizer_drag,start:function(a,b){e=options[c],f=state[c],q=e.livePaneResizing;if(!1===_runCallbacks("ondrag_start",c))return!1;f.isResizing=!0,timer.clear(c+"_closeSlider"),setSizeLimits(c),p=f.resizerPosition,o=b.position[i],m.addClass(r+" "+s),x=!1,$("body").disableSelection(),showMasks(k)},drag:function(a,b){x||(b.helper.addClass(t+" "+u).css({right:"auto",bottom:"auto"}).children().css("visibility","hidden"),x=!0,f.isSliding&&$Ps[c].css("zIndex",g.pane_sliding));var h=0;b.position[i]<p.min?(b.position[i]=p.min,h=-1):b.position[i]>p.max&&(b.position[i]=p.max,h=1),h?(b.helper.addClass(v+" "+w),window.defaultStatus=h>0&&c.match(/north|west/)||h<0&&c.match(/south|east/)?lang.maxSizeWarning:lang.minSizeWarning):(b.helper.removeClass(v+" "+w),window.defaultStatus=""),q&&Math.abs(b.position[i]-o)>=e.liveResizingTolerance&&(o=b.position[i],d(a,b,c))},stop:function(a,b){$("body").enableSelection(),window.defaultStatus="",m.removeClass(r+" "+s),f.isResizing=!1,d(a,b,c,!0,k)}})});var d=function(a,b,c,d,e){var f=b.position,g=_c[c],h=options[c],i=state[c],j;switch(c){case"north":j=f.top;break;case"west":j=f.left;break;case"south":j=sC.offsetHeight-f.top-h.spacing_open;break;case"east":j=sC.offsetWidth-f.left-h.spacing_open}var k=j-sC["inset"+g.side];if(!d){if(Math.abs(k-i.size)<h.liveResizingTolerance)return;manualSizePane(c,k,!1,!0),sizeMasks()}else!1!==_runCallbacks("ondrag_end",c)&&manualSizePane(c,k,!1,!0),hideMasks(),i.isSliding&&e&&showMasks(e,!0)}},sizeMask=function(){var a=$(this),b=a.data("layoutMask"),c=state[b];c.tagName=="IFRAME"&&c.isVisible&&a.css({top:c.offsetTop,left:c.offsetLeft,width:c.outerWidth,height:c.outerHeight})},sizeMasks=function(){$Ms.each(sizeMask)},showMasks=function(a,b){var c=a?a.split(","):$.layout.config.allPanes,d=options.zIndexes,e,f;$.each(c,function(a,c){f=state[c],e=options[c],f.isVisible&&(!b&&e.maskContents||e.maskObjects)&&getMasks(c).each(function(){sizeMask.call(this),this.style.zIndex=f.isSliding?d.pane_sliding+1:d.pane_normal+1,this.style.display="block"})})},hideMasks=function(){var a;$.each($.layout.config.borderPanes,function(b,c){if(state[c].isResizing)return a=!0,!1}),a||$Ms.hide()},getMasks=function(a){var b=$([]),c,d=0,e=$Ms.length;for(;d<e;d++)c=$Ms.eq(d),c.data("layoutMask")===a&&(b=b.add(c));return b.length?b:createMasks(a)},createMasks=function(a){var b=$Ps[a],c=state[a],d=options[a],e=options.zIndexes,f=$([]),g,h,i,j,k;if(!d.maskContents&&!d.maskObjects)return f;for(k=0;k<(d.maskObjects?2:1);k++)g=d.maskObjects&&k==0,h=document.createElement(g?"iframe":"div"),i=$(h).data("layoutMask",a),h.className="ui-layout-mask ui-layout-mask-"+a,j=h.style,j.display="block",j.position="absolute",g&&(h.frameborder=0,h.src="about:blank",j.opacity=0,j.filter="Alpha(Opacity='0')",j.border=0),c.tagName=="IFRAME"?(j.zIndex=e.pane_normal+1,$N.append(h)):(i.addClass("ui-layout-mask-inside-pane"),j.zIndex=d.maskZindex||e.content_mask,j.top=0,j.left=0,j.width="100%",j.height="100%",b.append(h)),f=f.add(h),$Ms=$Ms.add(h);return f},destroy=function(a){$(window).unbind("."+sID),$(document).unbind("."+sID),$N.clearQueue().removeData("layout").removeData("layoutContainer").removeClass(options.containerClass).unbind("."+sID),$Ms.remove(),$.each(_c.allPanes,function(b,c){removePane(c,!1,!0,a)});var b="layoutCSS";$N.data(b)&&!$N.data("layoutRole")&&$N.css($N.data(b)).removeData(b),sC.tagName==="BODY"&&($N=$("html")).data(b)&&$N.css($N.data(b)).removeData(b),runPluginCallbacks(Instance,$.layout.onDestroy),unload();for(n in Instance)n.match(/^(container|options)$/)||delete Instance[n];return Instance.destroyed=!0,Instance},removePane=function(a,b,c,d){if(!isInitialized())return;var e=evtPane.call(this,a),f=$Ps[e],g=$Cs[e],h=$Rs[e],i=$Ts[e];f&&$.isEmptyObject(f.data())&&(f=!1),g&&$.isEmptyObject(g.data())&&(g=!1),h&&$.isEmptyObject(h.data())&&(h=!1),i&&$.isEmptyObject(i.data())&&(i=!1),f&&f.stop(!0,!0);var j=options[e],k=state[e],l="layout",m="layoutCSS",n=children[e]||(f?f.data(l):0)||(g?g.data(l):0)||null,o=d!==undefined?d:j.destroyChildLayout;o&&n&&!n.destroyed&&(n.destroy(!0),n.destroyed&&(n=null));if(f&&b&&!n)f.remove();else if(f&&f[0]){var p=j.paneClass,q=p+"-"+e,r="-open",s="-sliding",t="-closed",u=[p,p+r,p+t,p+s,q,q+r,q+t,q+s];$.merge(u,getHoverClasses(f,!0)),f.removeClass(u.join(" ")).removeData("parentLayout").removeData("layoutPane").removeData("layoutRole").removeData("layoutEdge").removeData("autoHidden").unbind("."+sID),g&&g.data(l)?(g.width(g.width()),n.resizeAll()):g&&g.css(g.data(m)).removeData(m).removeData("layoutRole"),f.data(l)||f.css(f.data(m)).removeData(m)}i&&i.remove(),h&&h.remove(),Instance[e]=$Ps[e]=$Cs[e]=$Rs[e]=$Ts[e]=children[e]=!1,k={removed:!0},c||resizeAll()},_hidePane=function(a){var b=$Ps[a],c=options[a],d=b[0].style;c.useOffscreenClose?(b.data(_c.offscreenReset)||b.data(_c.offscreenReset,{left:d.left,right:d.right}),b.css(_c.offscreenCSS)):b.hide().removeData(_c.offscreenReset)},_showPane=function(a){var b=$Ps[a],c=options[a],d=_c.offscreenCSS,e=b.data(_c.offscreenReset),f=b[0].style;b.show().removeData(_c.offscreenReset),c.useOffscreenClose&&e&&(f.left==d.left&&(f.left=e.left),f.right==d.right&&(f.right=e.right))},hide=function(a,b){if(!isInitialized())return;var c=evtPane.call(this,a),d=options[c],e=state[c],f=$Ps[c],g=$Rs[c];if(!f||e.isHidden)return;if(state.initialized&&!1===_runCallbacks("onhide_start",c))return;e.isSliding=!1,g&&g.hide(),!state.initialized||e.isClosed?(e.isClosed=!0,e.isHidden=!0,e.isVisible=!1,state.initialized||_hidePane(c),sizeMidPanes(_c[c].dir==="horz"?"":"center"),(state.initialized||d.triggerEventsOnLoad)&&_runCallbacks("onhide_end",c)):(e.isHiding=!0,close(c,!1,b))},show=function(a,b,c,d){if(!isInitialized())return;var e=evtPane.call(this,a),f=options[e],g=state[e],h=$Ps[e],i=$Rs[e];if(!h||!g.isHidden)return;if(!1===_runCallbacks("onshow_start",e))return;g.isSliding=!1,g.isShowing=!0,b===!1?close(e,!0):open(e,!1,c,d)},toggle=function(a,b){if(!isInitialized())return;var c=evtObj(a),d=evtPane.call(this,a),e=state[d];c&&c.stopImmediatePropagation(),e.isHidden?show(d):e.isClosed?open(d,!!b):close(d)},_closePane=function(a,b){var c=$Ps[a],d=state[a];_hidePane(a),d.isClosed=!0,d.isVisible=!1},close=function(a,b,c,d){function p(){j.isMoving=!1,bindStartSlidingEvent(e,!0);var a=_c.oppositeEdge[e];state[a].noRoom&&(setSizeLimits(a),makePaneFit(a)),hideMasks(),!d&&(state.initialized||i.triggerEventsOnLoad)&&(m||_runCallbacks("onclose_end",e),m&&_runCallbacks("onshow_end",e),n&&_runCallbacks("onhide_end",e))}var e=evtPane.call(this,a);if(!state.initialized&&$Ps[e]){_closePane(e);return}if(!isInitialized())return;var f=$Ps[e],g=$Rs[e],h=$Ts[e],i=options[e],j=state[e],k=_c[e],l,m,n,o;$N.queue(function(a){if(!f||!i.closable&&!j.isShowing&&!j.isHiding||!b&&j.isClosed&&!j.isShowing)return a();var d=!j.isShowing&&!1===_runCallbacks("onclose_start",e);m=j.isShowing,n=j.isHiding,o=j.isSliding,delete j.isShowing,delete j.isHiding;if(d)return a();l=!c&&!j.isClosed&&i.fxName_close!="none",j.isMoving=!0,j.isClosed=!0,j.isVisible=!1,n?j.isHidden=!0:m&&(j.isHidden=!1),j.isSliding?bindStopSlidingEvents(e,!1):sizeMidPanes(_c[e].dir==="horz"?"":"center",!1),setAsClosed(e);if(l){var g="center"+(k.dir=="horz"?",west,east":"");showMasks(g,!0),lockPaneForFX(e,!0),f.hide(i.fxName_close,i.fxSettings_close,i.fxSpeed_close,function(){lockPaneForFX(e,!1),j.isClosed&&p(),a()})}else _hidePane(e),p(),a()})},setAsClosed=function(a){var b=$Ps[a],c=$Rs[a],d=$Ts[a],e=options[a],f=state[a],g=_c[a].side.toLowerCase(),h="inset"+_c[a].side,i=e.resizerClass,j=e.togglerClass,k="-"+a,l="-open",m="-sliding",n="-closed";c.css(g,sC[h]).removeClass(i+l+" "+i+k+l).removeClass(i+m+" "+i+k+m).addClass(i+n+" "+i+k+n).unbind("dblclick."+sID),e.resizable&&$.layout.plugins.draggable&&c.draggable("disable").removeClass("ui-state-disabled").css("cursor","default").attr("title",""),d&&(d.removeClass(j+l+" "+j+k+l).addClass(j+n+" "+j+k+n).attr("title",e.togglerTip_closed),d.children(".content-open").hide(),d.children(".content-closed").css("display","block")),syncPinBtns(a,!1),state.initialized&&sizeHandles()},open=function(a,b,c,d){function n(){j.isMoving=!1,_fixIframe(e),j.isSliding||(hideMasks(),sizeMidPanes(_c[e].dir=="vert"?"center":"",!1)),setAsOpen(e)}if(!isInitialized())return;var e=evtPane.call(this,a),f=$Ps[e],g=$Rs[e],h=$Ts[e],i=options[e],j=state[e],k=_c[e],l,m;$N.queue(function(a){if(!f||!i.resizable&&!i.closable&&!j.isShowing||j.isVisible&&!j.isSliding)return a();if(j.isHidden&&!j.isShowing){a(),show(e,!0);return}i.autoResize&&j.size!=i.size?sizePane(e,i.size,!0,!0,!0):setSizeLimits(e,b);var g=_runCallbacks("onopen_start",e);if(g==="abort")return a();g!=="NC"&&setSizeLimits(e,b);if(j.minSize>j.maxSize)return syncPinBtns(e,!1),!d&&i.noRoomToOpenTip&&alert(i.noRoomToOpenTip),a();b?bindStopSlidingEvents(e,!0):j.isSliding?bindStopSlidingEvents(e,!1):i.slidable&&bindStartSlidingEvent(e,!1),j.noRoom=!1,makePaneFit(e),m=j.isShowing,delete j.isShowing,l=!c&&j.isClosed&&i.fxName_open!="none",j.isMoving=!0,j.isVisible=!0,j.isClosed=!1,m&&(j.isHidden=!1);if(l){var h="center"+(k.dir=="horz"?",west,east":"");j.isSliding&&(h+=","+_c.oppositeEdge[e]),showMasks(h,!0),lockPaneForFX(e,!0),f.show(i.fxName_open,i.fxSettings_open,i.fxSpeed_open,function(){lockPaneForFX(e,!1),j.isVisible&&n(),a()})}else _showPane(e),n(),a()})},setAsOpen=function(a,b){var c=$Ps[a],d=$Rs[a],e=$Ts[a],f=options[a],g=state[a],h=_c[a].side.toLowerCase(),i="inset"+_c[a].side,j=f.resizerClass,k=f.togglerClass,l="-"+a,m="-open",n="-closed",o="-sliding";d.css(h,sC[i]+getPaneSize(a)).removeClass(j+n+" "+j+l+n).addClass(j+m+" "+j+l+m),g.isSliding?d.addClass(j+o+" "+j+l+o):d.removeClass(j+o+" "+j+l+o),f.resizerDblClickToggle&&d.bind("dblclick",toggle),removeHover(0,d),f.resizable&&$.layout.plugins.draggable?d.draggable("enable").css("cursor",f.resizerCursor).attr("title",f.resizerTip):g.isSliding||d.css("cursor","default"),e&&(e.removeClass(k+n+" "+k+l+n).addClass(k+m+" "+k+l+m).attr("title",f.togglerTip_open),removeHover(0,e),e.children(".content-closed").hide(),e.children(".content-open").css("display","block")),syncPinBtns(a,!g.isSliding),$.extend(g,elDims(c)),state.initialized&&(sizeHandles(),sizeContent(a,!0)),!b&&(state.initialized||f.triggerEventsOnLoad)&&c.is(":visible")&&(_runCallbacks("onopen_end",a),g.isShowing&&_runCallbacks("onshow_end",a),state.initialized&&_runCallbacks("onresize_end",a))},slideOpen=function(a){function f(){d.isClosed?d.isMoving||open(c,!0):bindStopSlidingEvents(c,!0)}if(!isInitialized())return;var b=evtObj(a),c=evtPane.call(this,a),d=state[c],e=options[c].slideDelay_open;b&&b.stopImmediatePropagation(),d.isClosed&&b&&b.type==="mouseenter"&&e>0?timer.set(c+"_openSlider",f,e):f()},slideClose=function(a){function g(){e.isClosed?bindStopSlidingEvents(c,!1):e.isMoving||close(c)}if(!isInitialized())return;var b=evtObj(a),c=evtPane.call(this,a),d=options[c],e=state[c],f=e.isMoving?1e3:300;if(e.isClosed||e.isResizing)return;if(d.slideTrigger_close==="click")g();else{if(d.preventQuickSlideClose&&e.isMoving)return;if(d.preventPrematureSlideClose&&b&&$.layout.isMouseOverElem(b,$Ps[c]))return;b?timer.set(c+"_closeSlider",g,max(d.slideDelay_close,f)):g()}},slideToggle=function(a){var b=evtPane.call(this,a);toggle(b,!0)},lockPaneForFX=function(a,b){var c=$Ps[a],d=state[a],e=options[a],f=options.zIndexes;b?(c.css({zIndex:f.pane_animate}),a=="south"?c.css({top:sC.insetTop+sC.innerHeight-c.outerHeight()}):a=="east"&&c.css({left:sC.insetLeft+sC.innerWidth-c.outerWidth()})):(c.css({zIndex:d.isSliding?f.pane_sliding:f.pane_normal}),a=="south"?c.css({top:"auto"}):a=="east"&&!c.css("left").match(/\-99999/)&&c.css({left:"auto"}),browser.msie&&e.fxOpacityFix&&e.fxName_open!="slide"&&c.css("filter")&&c.css("opacity")==1&&c[0].style.removeAttribute("filter"))},bindStartSlidingEvent=function(a,b){var c=options[a],d=$Ps[a],e=$Rs[a],f=c.slideTrigger_open.toLowerCase();if(!e||b&&!c.slidable)return;f.match(/mouseover/)?f=c.slideTrigger_open="mouseenter":f.match(/click|dblclick|mouseenter/)||(f=c.slideTrigger_open="click"),e[b?"bind":"unbind"](f+"."+sID,slideOpen).css("cursor",b?c.sliderCursor:"default").attr("title",b?c.sliderTip:"")},bindStopSlidingEvents=function(a,b){function k(b){timer.clear(a+"_closeSlider"),b.stopPropagation()}var c=options[a],d=state[a],e=_c[a],f=options.zIndexes,g=c.slideTrigger_close.toLowerCase(),h=b?"bind":"unbind",i=$Ps[a],j=$Rs[a];d.isSliding=b,timer.clear(a+"_closeSlider"),b&&bindStartSlidingEvent(a,!1),i.css("zIndex",b?f.pane_sliding:f.pane_normal),j.css("zIndex",b?f.pane_sliding+2:f.resizer_normal),g.match(/click|mouseleave/)||(g=c.slideTrigger_close="mouseleave"),j[h](g,slideClose),g==="mouseleave"&&(i[h]("mouseleave."+sID,slideClose),j[h]("mouseenter."+sID,k),i[h]("mouseenter."+sID,k)),b?g==="click"&&!c.resizable&&(j.css("cursor",b?c.sliderCursor:"default"),j.attr("title",b?c.togglerTip_open:"")):timer.clear(a+"_closeSlider")},makePaneFit=function(a,b,c,d){var e=options[a],f=state[a],g=_c[a],h=$Ps[a],i=$Rs[a],j=g.dir==="vert",k=!1;if(a==="center"||j&&f.noVerticalRoom)k=f.maxHeight>=0,k&&f.noRoom?(_showPane(a),i&&i.show(),f.isVisible=!0,f.noRoom=!1,j&&(f.noVerticalRoom=!1),_fixIframe(a)):!k&&!f.noRoom&&(_hidePane(a),i&&i.hide(),f.isVisible=!1,f.noRoom=!0);if(a!=="center")if(f.minSize<=f.maxSize){k=!0;if(f.size>f.maxSize)sizePane(a,f.maxSize,c,d,!0);else if(f.size<f.minSize)sizePane(a,f.minSize,c,d,!0);else if(i&&f.isVisible&&h.is(":visible")){var l=g.side.toLowerCase(),m=f.size+sC["inset"+g.side];$.layout.cssNum(i,l)!=m&&i.css(l,m)}f.noRoom&&(f.wasOpen&&e.closable?e.autoReopen?open(a,!1,!0,!0):f.noRoom=!1:show(a,f.wasOpen,!0,!0))}else f.noRoom||(f.noRoom=!0,f.wasOpen=!f.isClosed&&!f.isSliding,f.isClosed||(e.closable?close(a,!0,!0):hide(a,!0)))},manualSizePane=function(a,b,c,d){if(!isInitialized())return;var e=evtPane.call(this,a),f=options[e],g=state[e],h=f.livePaneResizing&&!g.isResizing;f.autoResize=!1,sizePane(e,b,c,h,d)},sizePane=function(a,b,c,d,e){function r(){var a=l==="width"?i.outerWidth():i.outerHeight(),e=[{pane:f,count:1,target:b,actual:a,correct:b===a,attempt:b,cssSize:q}],g=e[0],o="Inaccurate size after resizing the "+f+"-pane.";while(!g.correct){thisTry={pane:f,count:g.count+1,target:b},g.actual>b?thisTry.attempt=max(0,g.attempt-(g.actual-b)):thisTry.attempt=max(0,g.attempt+(b-g.actual)),thisTry.cssSize=cssSize(f,thisTry.attempt),i.css(l,thisTry.cssSize),thisTry.actual=l=="width"?i.outerWidth():i.outerHeight(),thisTry.correct=b===thisTry.actual,options.showDebugMessages&&(e.length===1&&(_log(o,!1),_log(g,!1)),_log(thisTry,!1));if(e.length>3)break;e.push(thisTry),g=e[e.length-1]}h.size=b,$.extend(h,elDims(i)),h.isVisible&&i.is(":visible")&&(j&&j.css(k,b+sC[m]),sizeContent(f)),!c&&!n&&state.initialized&&h.isVisible&&_runCallbacks("onresize_end",f),c||(h.isSliding||sizeMidPanes(_c[f].dir=="horz"?"":"center",n,d),sizeHandles());var r=_c.oppositeEdge[f];b<p&&state[r].noRoom&&(setSizeLimits(r),makePaneFit(r,!1,c)),options.showDebugMessages&&e.length>1&&_log(o+"\nSee the Error Console for details.",!0)}if(!isInitialized())return;var f=evtPane.call(this,a),g=options[f],h=state[f],i=$Ps[f],j=$Rs[f],k=_c[f].side.toLowerCase(),l=_c[f].sizeType.toLowerCase(),m="inset"+_c[f].side,n=h.isResizing&&!g.triggerEventsDuringLiveResize,o=e!==!0&&g.animatePaneSizing,p,q;$N.queue(function(a){setSizeLimits(f),p=h.size,b=_parseSize(f,b),b=max(b,_parseSize(f,g.minSize)),b=min(b,h.maxSize);if(b<h.minSize){a(),makePaneFit(f,!1,c);return}if(!d&&b===p)return a();!c&&state.initialized&&h.isVisible&&_runCallbacks("onresize_start",f),q=cssSize(f,b);if(o&&i.is(":visible")){var e=$.layout.effects.size[f]||$.layout.effects.size.all,j=g.fxSettings_size.easing||e.easing,k=options.zIndexes,m={};m[l]=q+"px",h.isMoving=!0,i.css({zIndex:k.pane_animate}).show().animate(m,g.fxSpeed_size,j,function(){i.css({zIndex:h.isSliding?k.pane_sliding:k.pane_normal}),h.isMoving=!1,r(),a()})}else i.css(l,q),i.is(":visible")?r():(h.size=b,$.extend(h,elDims(i))),a()})},sizeMidPanes=function(a,b,c){a=(a?a:"east,west,center").split(","),$.each(a,function(a,d){if(!$Ps[d])return;var e=options[d],f=state[d],g=$Ps[d],h=$Rs[d],i=d=="center",j=!0,k={},l=calcNewCenterPaneDims();$.extend(f,elDims(g));if(d==="center"){if(!c&&f.isVisible&&l.width===f.outerWidth&&l.height===f.outerHeight)return!0;$.extend(f,cssMinDims(d),{maxWidth:l.width,maxHeight:l.height}),k=l,k.width=cssW(g,k.width),k.height=cssH(g,k.height),j=k.width>=0&&k.height>=0;if(!state.initialized&&e.minWidth>f.outerWidth){var m=e.minWidth-f.outerWidth,n=options.east.minSize||0,o=options.west.minSize||0,p=state.east.size,q=state.west.size,r=p,s=q;m>0&&state.east.isVisible&&p>n&&(r=max(p-n,p-m),m-=p-r),m>0&&state.west.isVisible&&q>o&&(s=max(q-o,q-m),m-=q-s);if(m===0){p!=n&&sizePane("east",r,!0,c,!0),q!=o&&sizePane("west",s,!0,c,!0),sizeMidPanes("center",b,c);return}}}else{f.isVisible&&!f.noVerticalRoom&&$.extend(f,elDims(g),cssMinDims(d));if(!c&&!f.noVerticalRoom&&l.height===f.outerHeight)return!0;k.top=l.top,k.bottom=l.bottom,k.height=cssH(g,l.height),f.maxHeight=k.height,j=f.maxHeight>=0,j||(f.noVerticalRoom=!0)}j?(!b&&state.initialized&&_runCallbacks("onresize_start",d),g.css(k),sizeHandles(d),f.noRoom&&!f.isClosed&&!f.isHidden&&makePaneFit(d),f.isVisible&&($.extend(f,elDims(g)),state.initialized&&sizeContent(d))):!f.noRoom&&f.isVisible&&makePaneFit(d);if(!f.isVisible)return!0;if(d==="center"){var t=$.layout.browser,u=t.isIE6||t.msie&&!$.support.boxModel;$Ps.north&&(u||state.north.tagName=="IFRAME")&&$Ps.north.css("width",cssW($Ps.north,sC.innerWidth)),$Ps.south&&(u||state.south.tagName=="IFRAME")&&$Ps.south.css("width",cssW($Ps.south,sC.innerWidth))}!b&&state.initialized&&_runCallbacks("onresize_end",d)})},resizeAll=function(){if(!state.initialized){_initLayoutElements();return}var a=sC.innerWidth,b=sC.innerHeight;if(!$N.is(":visible:"))return;$.extend(state.container,elDims($N));if(!sC.outerHeight)return;if(!1===_runCallbacks("onresizeall_start"))return!1;var c=sC.innerHeight<b,d=sC.innerWidth<a,e,f,g,h;$.each(["south","north","east","west"],function(a,b){if(!$Ps[b])return;g=state[b],f=options[b],h=_c[b].dir,f.autoResize&&g.size!=f.size?sizePane(b,f.size,!0,!0,!0):(setSizeLimits(b),makePaneFit(b,!1,!0,!0))}),sizeMidPanes("",!0,!0),sizeHandles(),f=options,$.each(_c.allPanes,function(a,b){e=$Ps[b];if(!e)return;state[b].isVisible&&_runCallbacks("onresize_end",b)}),_runCallbacks("onresizeall_end")},resizeChildLayout=function(a){var b=evtPane.call(this,a);if(!options[b].resizeChildLayout)return;var c=$Ps[b],d=$Cs[b],e="layout",f=Instance[b],g=children[b];if(f.child&&!g){var h=f.child.container;g=children[b]=(h?h.data(e):0)||null}g&&g.destroyed&&(g=children[b]=null),g||(g=children[b]=c.data(e)||(d?d.data(e):0)||null),f.child=children[b],g&&g.resizeAll()},sizeContent=function(a,b){if(!isInitialized())return;var c=evtPane.call(this,a);c=c?c.split(","):_c.allPanes,$.each(c,function(a,c){function j(a){return max(g.css.paddingBottom,parseInt(a.css("marginBottom"),10)||0)}function k(){var a=options[c].contentIgnoreSelector,b=e.nextAll().not(a||":lt(0)"),d=b.filter(":visible"),f=d.filter(":last");h={top:e[0].offsetTop,height:e.outerHeight(),numFooters:b.length,hiddenFooters:b.length-d.length,spaceBelow:0},h.spaceAbove=h.top,h.bottom=h.top+h.height,f.length?h.spaceBelow=f[0].offsetTop+f.outerHeight()-h.bottom+j(f):h.spaceBelow=j(e)}var d=$Ps[c],e=$Cs[c],f=options[c],g=state[c],h=g.content;if(!d||!e||!d.is(":visible"))return!0;if(!e.length){initContent(c,!1);if(!e)return}if(!1===_runCallbacks("onsizecontent_start",c))return;if(!g.isMoving&&!g.isResizing||f.liveContentResizing||b||h.top==undefined)k(),h.hiddenFooters>0&&d.css("overflow")==="hidden"&&(d.css("overflow","visible"),k(),d.css("overflow","hidden"));var i=g.innerHeight-(h.spaceAbove-g.css.paddingTop)-(h.spaceBelow-g.css.paddingBottom);if(!e.is(":visible")||h.height!=i)setOuterHeight(e,i,!0),h.height=i;state.initialized&&_runCallbacks("onsizecontent_end",c)})},sizeHandles=function(a){var b=evtPane.call(this,a);b=b?b.split(","):_c.borderPanes,$.each(b,function(a,b){var c=options[b],d=state[b],e=$Ps[b],f=$Rs[b],g=$Ts[b],h;if(!e||!f)return;var i=_c[b].dir,j=d.isClosed?"_closed":"_open",k=c["spacing"+j],l=c["togglerAlign"+j],m=c["togglerLength"+j],n,o,p,q={};if(k===0){f.hide();return}!d.noRoom&&!d.isHidden&&f.show(),i==="horz"?(n=sC.innerWidth,d.resizerLength=n,o=$.layout.cssNum(e,"left"),f.css({width:cssW(f,n),height:cssH(f,k),left:o>-9999?o:sC.insetLeft})):(n=e.outerHeight(),d.resizerLength=n,f.css({height:cssH(f,n),width:cssW(f,k),top:sC.insetTop+getPaneSize("north",!0)})),removeHover(c,f);if(g){if(m===0||d.isSliding&&c.hideTogglerOnSlide){g.hide();return}g.show();if(!(m>0)||m==="100%"||m>n)m=n,p=0;else if(isStr(l))switch(l){case"top":case"left":p=0;break;case"bottom":case"right":p=n-m;break;case"middle":case"center":default:p=round((n-m)/2)}else{var r=parseInt(l,10);l>=0?p=r:p=n-m+r}if(i==="horz"){var s=cssW(g,m);g.css({width:s,height:cssH(g,k),left:p,top:0}),g.children(".content").each(function(){h=$(this),h.css("marginLeft",round((s-h.outerWidth())/2))})}else{var t=cssH(g,m);g.css({height:t,width:cssW(g,k),top:p,left:0}),g.children(".content").each(function(){h=$(this),h.css("marginTop",round((t-h.outerHeight())/2))})}removeHover(0,g)}!state.initialized&&(c.initHidden||d.noRoom)&&(f.hide(),g&&g.hide())})},enableClosable=function(a){if(!isInitialized())return;var b=evtPane.call(this,a),c=$Ts[b],d=options[b];if(!c)return;d.closable=!0,c.bind("click."+sID,function(a){a.stopPropagation(),toggle(b)}).css("visibility","visible").css("cursor","pointer").attr("title",state[b].isClosed?d.togglerTip_closed:d.togglerTip_open).show()},disableClosable=function(a,b){if(!isInitialized())return;var c=evtPane.call(this,a),d=$Ts[c];if(!d)return;options[c].closable=!1,state[c].isClosed&&open(c,!1,!0),d.unbind("."+sID).css("visibility",b?"hidden":"visible").css("cursor","default").attr("title","")},enableSlidable=function(a){if(!isInitialized())return;var b=evtPane.call(this,a),c=$Rs[b];if(!c||!c.data("draggable"))return;options[b].slidable=!0,s.isClosed&&bindStartSlidingEvent(b,!0)},disableSlidable=function(a){if(!isInitialized())return;var b=evtPane.call(this,a),c=$Rs[b];if(!c)return;options[b].slidable=!1,state[b].isSliding?close(b,!1,!0):(bindStartSlidingEvent(b,!1),c.css("cursor","default").attr("title",""),removeHover(null,c[0]))},enableResizable=function(a){if(!isInitialized())return;var b=evtPane.call(this,a),c=$Rs[b],d=options[b];if(!c||!c.data("draggable"))return;d.resizable=!0,c.draggable("enable"),state[b].isClosed||c.css("cursor",d.resizerCursor).attr("title",d.resizerTip)},disableResizable=function(a){if(!isInitialized())return;var b=evtPane.call(this,a),c=$Rs[b];if(!c||!c.data("draggable"))return;options[b].resizable=!1,c.draggable("disable").css("cursor","default").attr("title",""),removeHover(null,c[0])},swapPanes=function(a,b){function g(a){var b=$Ps[a],c=$Cs[a];return b?{pane:a,P:b?b[0]:!1,C:c?c[0]:!1,state:$.extend(!0,{},state[a]),options:$.extend(!0,{},options[a])}:!1}function h(a,b){if(!a)return;var c=a.P,d=a.C,e=a.pane,g=_c[b],h=g.side.toLowerCase(),i="inset"+g.side,j=$.extend({},state[b]),k=options[b],l={resizerCursor:k.resizerCursor},m,n,o;$.each("fxName,fxSpeed,fxSettings".split(","),function(a,b){l[b+"_open"]=k[b+"_open"],l[b+"_close"]=k[b+"_close"],l[b+"_size"]=k[b+"_size"]}),$Ps[b]=$(c).data({layoutPane:Instance[b],layoutEdge:b}).css(_c.hidden).css(g.cssReq),$Cs[b]=d?$(d):!1,options[b]=$.extend({},a.options,l),state[b]=$.extend({},a.state),m=new RegExp(k.paneClass+"-"+e,"g"),c.className=c.className.replace(m,k.paneClass+"-"+b),initHandles(b),g.dir!=_c[e].dir?(n=f[b]||0,setSizeLimits(b),n=max(n,state[b].minSize),manualSizePane(b,n,!0,!0)):$Rs[b].css(h,sC[i]+(state[b].isVisible?getPaneSize(b):0)),a.state.isVisible&&!j.isVisible?setAsOpen(b,!0):(setAsClosed(b),bindStartSlidingEvent(b,!0)),a=null}if(!isInitialized())return;var c=evtPane.call(this,a);state[c].edge=b,state[b].edge=c;if(!1===_runCallbacks("onswap_start",c)||!1===_runCallbacks("onswap_start",b)){state[c].edge=c,state[b].edge=b;return}var d=g(c),e=g(b),f={};f[c]=d?d.state.size:0,f[b]=e?e.state.size:0,$Ps[c]=!1,$Ps[b]=!1,state[c]={},state[b]={},$Ts[c]&&$Ts[c].remove(),$Ts[b]&&$Ts[b].remove(),$Rs[c]&&$Rs[c].remove(),$Rs[b]&&$Rs[b].remove(),$Rs[c]=$Rs[b]=$Ts[c]=$Ts[b]=!1,h(d,b),h(e,c),d=e=f=null,$Ps[c]&&$Ps[c].css(_c.visible),$Ps[b]&&$Ps[b].css(_c.visible),resizeAll(),_runCallbacks("onswap_end",c),_runCallbacks("onswap_end",b);return},syncPinBtns=function(a,b){$.layout.plugins.buttons&&$.each(state[a].pins,function(c,d){$.layout.buttons.setPinState(Instance,$(d),a,b)})},$N=$(this).eq(0);if(!$N.length)return options.showErrorMessages&&_log(lang.errContainerMissing,!0),null;if($N.data("layoutContainer")&&$N.data("layout"))return $N.data("layout");var $Ps={},$Cs={},$Rs={},$Ts={},$Ms=$([]),sC=state.container,sID=state.id,Instance={options:options,state:state,container:$N,panes:$Ps,contents:$Cs,resizers:$Rs,togglers:$Ts,hide:hide,show:show,toggle:toggle,open:open,close:close,slideOpen:slideOpen,slideClose:slideClose,slideToggle:slideToggle,setSizeLimits:setSizeLimits,_sizePane:sizePane,sizePane:manualSizePane,sizeContent:sizeContent,swapPanes:swapPanes,initContent:initContent,addPane:addPane,removePane:removePane,createChildLayout:createChildLayout,enableClosable:enableClosable,disableClosable:disableClosable,enableSlidable:enableSlidable,disableSlidable:disableSlidable,enableResizable:enableResizable,disableResizable:disableResizable,allowOverflow:allowOverflow,resetOverflow:resetOverflow,destroy:destroy,initPanes:isInitialized,resizeAll:resizeAll,runCallbacks:_runCallbacks,hasParentLayout:!1,children:children,north:!1,south:!1,west:!1,east:!1,center:!1};return _create()==="cancel"?null:Instance},$.ui||($.ui={}),$.ui.cookie={acceptsCookies:!!navigator.cookieEnabled,read:function(a){var b=document.cookie,c=b?b.split(";"):[],d;for(var e=0,f=c.length;e<f;e++){d=$.trim(c[e]).split("=");if(d[0]==a)return decodeURIComponent(d[1])}return null},write:function(a,b,c){var d="",e="",f=!1,g=c||{},h=g.expires;if(h&&h.toUTCString)e=h;else if(h===null||typeof h=="number")e=new Date,h>0?e.setDate(e.getDate()+h):(e.setFullYear(1970),f=!0);e&&(d+=";expires="+e.toUTCString()),g.path&&(d+=";path="+g.path),g.domain&&(d+=";domain="+g.domain),g.secure&&(d+=";secure"),document.cookie=a+"="+(f?"":encodeURIComponent(b))+d},clear:function(a){$.ui.cookie.write(a,"",{expires:-1})}},$.cookie||($.cookie=function(a,b,c){var d=$.ui.cookie;if(b===null)d.clear(a);else{if(b===undefined)return d.read(a);d.write(a,b,c)}}),$.layout.plugins.stateManagement=!0,$.layout.config.optionRootKeys.push("stateManagement"),$.layout.defaults.stateManagement={enabled:!1,autoSave:!0,autoLoad:!0,stateKeys:"north.size,south.size,east.size,west.size,north.isClosed,south.isClosed,east.isClosed,west.isClosed,north.isHidden,south.isHidden,east.isHidden,west.isHidden",cookie:{name:"",domain:"",path:"",expires:"",secure:!1}},$.layout.optionsMap.layout.push("stateManagement"),$.layout.state={saveCookie:function(a,b,c){var d=a.options,e=d.stateManagement,f=$.extend(!0,{},e.cookie,c||null),g=a.state.stateData=a.readState(b||e.stateKeys);return $.ui.cookie.write(f.name||d.name||"Layout",$.layout.state.encodeJSON(g),f),$.extend(!0,{},g)},deleteCookie:function(a){var b=a.options;$.ui.cookie.clear(b.stateManagement.cookie.name||b.name||"Layout")},readCookie:function(a){var b=a.options,c=$.ui.cookie.read(b.stateManagement.cookie.name||b.name||"Layout");return c?$.layout.state.decodeJSON(c):{}},loadCookie:function(a){var b=$.layout.state.readCookie(a);return b&&(a.state.stateData=$.extend(!0,{},b),a.loadState(b)),b},loadState:function(a,b,c){b=$.layout.transformData(b);if($.isEmptyObject(b))return;$.extend(!0,a.options,b);if(a.state.initialized){var d,e,f,g,h,i,j=c===!1;$.each($.layout.config.borderPanes,function(c,d){state=a.state[d],f=b[d];if(typeof f!="object")return;g=f.size,i=f.initClosed,h=f.initHidden,e=state.isVisible,e||a.sizePane(d,g,!1,!1),h===!0?a.hide(d,j):i===!1?a.open(d,!1,j):i===!0?a.close(d,!1,j):h===!1&&a.show(d,!1,j),e&&a.sizePane(d,g,!1,j)})}},readState:function(a,b){var c={},d={isClosed:"initClosed",isHidden:"initHidden"},e=a.state,f=$.layout.config.allPanes,g,h,i,j;b||(b=a.options.stateManagement.stateKeys),$.isArray(b)&&(b=b.join(",")),b=b.replace(/__/g,".").split(",");for(var k=0,l=b.length;k<l;k++){g=b[k].split("."),h=g[0],i=g[1];if($.inArray(h,f)<0)continue;j=e[h][i];if(j==undefined)continue;i=="isClosed"&&e[h].isSliding&&(j=!0),(c[h]||(c[h]={}))[d[i]?d[i]:i]=j}return c},encodeJSON:function(a){function b(a){var c=[],d=0,e,f,g;for(e in a)f=a[e],g=typeof f,g=="string"?f='"'+f+'"':g=="object"&&(f=b(f)),c[d++]='"'+e+'":'+f;return"{"+c.join(",")+"}"}return b(a)},decodeJSON:function(a){try{return $.parseJSON?$.parseJSON(a):window.eval("("+a+")")||{}}catch(b){return{}}},_create:function(a){var b=$.layout.state;$.extend(a,{readCookie:function(){return b.readCookie(a)},deleteCookie:function(){b.deleteCookie(a)},saveCookie:function(c,d){return b.saveCookie(a,c,d)},loadCookie:function(){return b.loadCookie(a)},loadState:function(c,d){b.loadState(a,c,d)},readState:function(c){return b.readState(a,c)},encodeJSON:b.encodeJSON,decodeJSON:b.decodeJSON}),a.state.stateData={};var c=a.options.stateManagement;c.enabled&&(c.autoLoad?a.loadCookie():a.state.stateData=a.readCookie())},_unload:function(a){var b=a.options.stateManagement;b.enabled&&(b.autoSave?a.saveCookie():a.state.stateData=a.readState())}},$.layout.onCreate.push($.layout.state._create),$.layout.onUnload.push($.layout.state._unload),$.layout.plugins.buttons=!0,$.layout.defaults.autoBindCustomButtons=!1,$.layout.optionsMap.layout.push("autoBindCustomButtons");var lang=$.layout.language;$.layout.buttons={init:function(a){var b="ui-layout-button-",c=a.options.name||"",d;$.each("toggle,open,close,pin,toggle-slide,open-slide".split(","),function(e,f){$.each($.layout.config.borderPanes,function(e,g){$("."+b+f+"-"+g).each(function(){d=$(this).data("layoutName")||$(this).attr("layoutName"),(d==undefined||d===c)&&a.bindButton(this,f,g)})})})},get:function(a,b,c,d){var e=$(b),f=a.options,g=f.showErrorMessages;if(!e.length)g&&$.layout.msg(lang.errButton+lang.selector+": "+b,!0);else if($.inArray(c,$.layout.config.borderPanes)<0)g&&$.layout.msg(lang.errButton+lang.pane+": "+c,!0),e=$("");else{var h=f[c].buttonClass+"-"+d;e.addClass(h+" "+h+"-"+c).data("layoutName",f.name)}return e},bind:function(a,b,c,d){var e=$.layout.buttons;switch(c.toLowerCase()){case"toggle":e.addToggle(a,b,d);break;case"open":e.addOpen(a,b,d);break;case"close":e.addClose(a,b,d);break;case"pin":e.addPin(a,b,d);break;case"toggle-slide":e.addToggle(a,b,d,!0);break;case"open-slide":e.addOpen(a,b,d,!0)}return a},addToggle:function(a,b,c,d){return $.layout.buttons.get(a,b,c,"toggle").click(function(b){a.toggle(c,!!d),b.stopPropagation()}),a},addOpen:function(a,b,c,d){return $.layout.buttons.get(a,b,c,"open").attr("title",lang.Open).click(function(b){a.open(c,!!d),b.stopPropagation()}),a},addClose:function(a,b,c){return $.layout.buttons.get(a,b,c,"close").attr("title",lang.Close).click(function(b){a.close(c),b.stopPropagation()}),a},addPin:function(a,b,c){var d=$.layout.buttons,e=d.get(a,b,c,"pin");if(e.length){var f=a.state[c];e.click(function(b){d.setPinState(a,$(this),c,f.isSliding||f.isClosed),f.isSliding||f.isClosed?a.open(c):a.close(c),b.stopPropagation()}),d.setPinState(a,e,c,!f.isClosed&&!f.isSliding),f.pins.push(b)}return a},setPinState:function(a,b,c,d){var e=b.attr("pin");if(e&&d===(e=="down"))return;var f=a.options[c].buttonClass+"-pin",g=f+"-"+c,h=f+"-up "+g+"-up",i=f+"-down "+g+"-down";b.attr("pin",d?"down":"up").attr("title",d?lang.Unpin:lang.Pin).removeClass(d?h:i).addClass(d?i:h)},syncPinBtns:function(a,b,c){$.each(state[b].pins,function(d,e){$.layout.buttons.setPinState(a,$(e),b,c)})},_load:function(a){var b=$.layout.buttons;$.extend(a,{bindButton:function(c,d,e){return b.bind(a,c,d,e)},addToggleBtn:function(c,d,e){return b.addToggle(a,c,d,e)},addOpenBtn:function(c,d,e){return b.addOpen(a,c,d,e)},addCloseBtn:function(c,d){return b.addClose(a,c,d)},addPinBtn:function(c,d){return b.addPin(a,c,d)}});for(var c=0;c<4;c++){var d=$.layout.config.borderPanes[c];a.state[d].pins=[]}a.options.autoBindCustomButtons&&b.init(a)},_unload:function(a){}},$.layout.onLoad.push($.layout.buttons._load),$.layout.plugins.browserZoom=!0,$.layout.defaults.browserZoomCheckInterval=1e3,$.layout.optionsMap.layout.push("browserZoomCheckInterval"),$.layout.browserZoom={_init:function(a){$.layout.browserZoom.ratio()!==!1&&$.layout.browserZoom._setTimer(a)},_setTimer:function(a){if(a.destroyed)return;var b=a.options,c=a.state,d=a.hasParentLayout?5e3:Math.max(b.browserZoomCheckInterval,100);setTimeout(function(){if(a.destroyed||!b.resizeWithWindow)return;var d=$.layout.browserZoom.ratio();d!==c.browserZoom&&(c.browserZoom=d,a.resizeAll()),$.layout.browserZoom._setTimer(a)},d)},ratio:function(){function j(a,b){return(parseInt(a,10)/parseInt(b,10)*100).toFixed()}var a=window,b=screen,c=document,d=c.documentElement||c.body,e=$.layout.browser,f=e.version,g,h,i;return e.msie&&f>8||!e.msie?!1:b.deviceXDPI?j(b.deviceXDPI,b.systemXDPI):e.webkit&&(g=c.body.getBoundingClientRect)?j(g.left-g.right,c.body.offsetWidth):e.webkit&&(h=a.outerWidth)?j(h,a.innerWidth):(h=b.width)&&(i=d.clientWidth)?j(h,i):!1}},$.layout.onReady.push($.layout.browserZoom._init)}(jQuery),define("libs/jquery/layout/jquery.layout",function(){}),define("app/layout",["rtext!templates/layout.full.html","libs/jquery/ui/jquery.ui.core","libs/jquery/ui/jquery.ui.position","libs/jquery/ui/jquery.ui.widget","libs/jquery/ui/jquery.ui.mouse","libs/jquery/ui/jquery.ui.resizable","libs/jquery/ui/jquery.ui.button","libs/jquery/ui/jquery.ui.sortable","libs/jquery/ui/jquery.ui.draggable","libs/jquery/layout/jquery.layout"],function(a){var b=38,c=36,d=50,e=24;return function(f,g){function n(){for(var a=0;a<i.length;a++)i[a].resizeAll()}function r(a){var b;o&&(i.splice(i.indexOf(o),1),i.splice(i.indexOf(p),1),i.splice(i.indexOf(q),1),o.destroy()),a?(f.find(".pg-output").removeClass("ui-layout-east").addClass("ui-layout-south"),b={defaults:j,south:{size:"50%",closable:!1}}):(f.find(".pg-output").removeClass("ui-layout-south").addClass("ui-layout-east"),b={defaults:j,east:{size:"50%",closable:!1}}),i.push(o=f.find(".pg-io").layout(b)),i.push(q=f.find(".pg-output").layout({defaults:j,north:k})),i.push(p=f.find(".pg-input").layout({defaults:j,north:k,onresize:function(){$(h).trigger("resizeCodeEditor")}})),f.find(".ui-layout-resizer").addClass("ui-widget-shadow"),g=a,$(h).trigger("resizeCodeEditor"),$(h).trigger("ioOrientationChanged",g)}var h,i=[];f!==!0&&f!==!1||"undefined"!=typeof g?f=f&&$(f)||$("body"):(g=f,f=$("body")),f.append(a),i.push(f.layout());var j={initClosed:!1,resizable:!0,slidable:!0},k={resizable:!1,closable:!1,slidable:!1,size:c,spacing_open:0,spacing_closed:0},l={resizable:!1,closable:!1,slidable:!1,size:d,spacing_open:0,spacing_closed:0},m=$.extend({},k,{size:e});i.push(f.find(".pg-labcoat").layout({defaults:j,north:$.extend({},k,{size:b}),west:{size:220,initClosed:!1}})),i.push(f.find(".pg-system").layout({defaults:j,south:{size:"50%",initClosed:!1}})),i.push(f.find(".pg-folders").layout({defaults:j,north:l})),i.push(f.find(".pg-queries").layout({defaults:j,north:l})),i.push(f.find(".pg-main").layout({defaults:j,south:{size:"15%",initClosed:!0}})),i.push(f.find(".pg-editor-support").layout({defaults:j,east:{size:"40%",maxSize:800,minSize:305,initClosed:!1,maskIframesOnResize:!0}})),i.push(f.find(".pg-editor").layout({defaults:j,south:m}));var o,p,q;return r(g),f.addClass("ui-widget-content"),f.find(".pg-pane").addClass("ui-widget-content"),f.find(".ui-layout-toggler").mouseenter(function(){$(this).addClass("ui-state-hover")}).mouseleave(function(){$(this).removeClass("ui-state-hover")}).addClass("ui-widget-header"),f.find(".ui-layout-resizer-dragging").addClass("ui-state-hover"),h={container:f,refresh:n,getContainer:function(){return f.find(".pg-labcoat")},getInput:function(){return f.find(".pg-input")},getBarEditor:function(){return f.find(".pg-input .pg-toolbar")},getBarMain:function(){return f.find(".pg-mainbar")},getCodeEditor:function(){return f.find(".pg-input .pg-code-editor")},getOutput:function(){return f.find(".pg-output")},getStatusBar:function(){return f.find(".pg-statusbar")},getSystem:function(){return f.find(".pg-folders")},getQueries:function(){return f.find(".pg-queries")},getSupport:function(){return f.find(".pg-support")},setIoVertical:r,isIoVertical:function(){return g}}}}),define("app/util/md5",[],function(){var a={bitOR:function(a,b){var c=a&1|b&1,d=a>>>1|b>>>1;return d<<1|c},bitXOR:function(a,b){var c=a&1^b&1,d=a>>>1^b>>>1;return d<<1|c},bitAND:function(a,b){var c=a&1&(b&1),d=a>>>1&b>>>1;return d<<1|c},addme:function(a,b){var c=(a&65535)+(b&65535),d=(a>>16)+(b>>16)+(c>>16);return d<<16|c&65535},rhex:function(a){var b="",c="0123456789abcdef",d=0;while(d<4){var e=d++;b+=c.charAt(a>>e*8+4&15)+c.charAt(a>>e*8&15)}return b},str2blks:function(a){var b=(a.length+8>>6)+1,c=[],d=0,e=b*16;while(d<e)c[++d]=0;var f=0;while(f<a.length)c[f>>2]|=a.charCodeAt(f)<<(a.length*8+f)%4*8,f++;c[f>>2]|=128<<(a.length*8+f)%4*8;var g=a.length*8,h=b*16-2;return c[h]=g&255,c[h]|=(g>>>8&255)<<8,c[h]|=(g>>>16&255)<<16,c[h]|=(g>>>24&255)<<24,c},rol:function(a,b){return a<<b|a>>>32-b},cmn:function(a,b,c,d,e,f){return this.addme(this.rol(this.addme(this.addme(b,a),this.addme(d,f)),e),c)},ff:function(a,b,c,d,e,f,g){return this.cmn(this.bitOR(this.bitAND(b,c),this.bitAND(~b,d)),a,b,e,f,g)},gg:function(a,b,c,d,e,f,g){return this.cmn(this.bitOR(this.bitAND(b,d),this.bitAND(c,~d)),a,b,e,f,g)},hh:function(a,b,c,d,e,f,g){return this.cmn(this.bitXOR(this.bitXOR(b,c),d),a,b,e,f,g)},ii:function(a,b,c,d,e,f,g){return this.cmn(this.bitXOR(c,this.bitOR(b,~d)),a,b,e,f,g)},doEncode:function(a){var b=this.str2blks(a),c=1732584193,d=-271733879,e=-1732584194,f=271733878,g,h=0;while(h<b.length){var i=c,j=d,k=e,l=f;g=0,c=this.ff(c,d,e,f,b[h],7,-680876936),f=this.ff(f,c,d,e,b[h+1],12,-389564586),e=this.ff(e,f,c,d,b[h+2],17,606105819),d=this.ff(d,e,f,c,b[h+3],22,-1044525330),c=this.ff(c,d,e,f,b[h+4],7,-176418897),f=this.ff(f,c,d,e,b[h+5],12,1200080426),e=this.ff(e,f,c,d,b[h+6],17,-1473231341),d=this.ff(d,e,f,c,b[h+7],22,-45705983),c=this.ff(c,d,e,f,b[h+8],7,1770035416),f=this.ff(f,c,d,e,b[h+9],12,-1958414417),e=this.ff(e,f,c,d,b[h+10],17,-42063),d=this.ff(d,e,f,c,b[h+11],22,-1990404162),c=this.ff(c,d,e,f,b[h+12],7,1804603682),f=this.ff(f,c,d,e,b[h+13],12,-40341101),e=this.ff(e,f,c,d,b[h+14],17,-1502002290),d=this.ff(d,e,f,c,b[h+15],22,1236535329),c=this.gg(c,d,e,f,b[h+1],5,-165796510),f=this.gg(f,c,d,e,b[h+6],9,-1069501632),e=this.gg(e,f,c,d,b[h+11],14,643717713),d=this.gg(d,e,f,c,b[h],20,-373897302),c=this.gg(c,d,e,f,b[h+5],5,-701558691),f=this.gg(f,c,d,e,b[h+10],9,38016083),e=this.gg(e,f,c,d,b[h+15],14,-660478335),d=this.gg(d,e,f,c,b[h+4],20,-405537848),c=this.gg(c,d,e,f,b[h+9],5,568446438),f=this.gg(f,c,d,e,b[h+14],9,-1019803690),e=this.gg(e,f,c,d,b[h+3],14,-187363961),d=this.gg(d,e,f,c,b[h+8],20,1163531501),c=this.gg(c,d,e,f,b[h+13],5,-1444681467),f=this.gg(f,c,d,e,b[h+2],9,-51403784),e=this.gg(e,f,c,d,b[h+7],14,1735328473),d=this.gg(d,e,f,c,b[h+12],20,-1926607734),c=this.hh(c,d,e,f,b[h+5],4,-378558),f=this.hh(f,c,d,e,b[h+8],11,-2022574463),e=this.hh(e,f,c,d,b[h+11],16,1839030562),d=this.hh(d,e,f,c,b[h+14],23,-35309556),c=this.hh(c,d,e,f,b[h+1],4,-1530992060),f=this.hh(f,c,d,e,b[h+4],11,1272893353),e=this.hh(e,f,c,d,b[h+7],16,-155497632),d=this.hh(d,e,f,c,b[h+10],23,-1094730640),c=this.hh(c,d,e,f,b[h+13],4,681279174),f=this.hh(f,c,d,e,b[h],11,-358537222),e=this.hh(e,f,c,d,b[h+3],16,-722521979),d=this.hh(d,e,f,c,b[h+6],23,76029189),c=this.hh(c,d,e,f,b[h+9],4,-640364487),f=this.hh(f,c,d,e,b[h+12],11,-421815835),e=this.hh(e,f,c,d,b[h+15],16,530742520),d=this.hh(d,e,f,c,b[h+2],23,-995338651),c=this.ii(c,d,e,f,b[h],6,-198630844),f=this.ii(f,c,d,e,b[h+7],10,1126891415),e=this.ii(e,f,c,d,b[h+14],15,-1416354905),d=this.ii(d,e,f,c,b[h+5],21,-57434055),c=this.ii(c,d,e,f,b[h+12],6,1700485571),f=this.ii(f,c,d,e,b[h+3],10,-1894986606),e=this.ii(e,f,c,d,b[h+10],15,-1051523),d=this.ii(d,e,f,c,b[h+1],21,-2054922799),c=this.ii(c,d,e,f,b[h+8],6,1873313359),f=this.ii(f,c,d,e,b[h+15],10,-30611744),e=this.ii(e,f,c,d,b[h+6],15,-1560198380),d=this.ii(d,e,f,c,b[h+13],21,1309151649),c=this.ii(c,d,e,f,b[h+4],6,-145523070),f=this.ii(f,c,d,e,b[h+11],10,-1120210379),e=this.ii(e,f,c,d,b[h+2],15,718787259),d=this.ii(d,e,f,c,b[h+9],21,-343485551),c=this.addme(c,i),d=this.addme(d,j),e=this.addme(e,k),f=this.addme(f,l),h+=16}return this.rhex(c)+this.rhex(d)+this.rhex(e)+this.rhex(f)}};return function(b){return a.doEncode(b)}}),define("app/util/dom",[],function(){return{selectText:function(a,b,c){b=b||0,c=c||$(a).text().length;if(a.setSelectionRange)a.focus(),a.setSelectionRange(b,c);else if(a.createTextRange){var d=a.createTextRange();d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",b),d.select()}},canSelect:function(a){return!!a.setSelectionRange||!!a.createTextRange}}}),function(a){var b,c,d,e=a(window),f={jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert",closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s",hi_menu:"ui-state-default ui-corner-bottom",hi_btn:"ui-state-default ui-corner-all",hi_btnhov:"ui-state-hover",hi_hnd:"ui-icon ui-icon-grip-dotted-horizontal"},bootstrap:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign",closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play",hi_menu:"well",hi_btn:"btn",hi_btnhov:"",hi_hnd:"icon-chevron-down"}},g=function(){d=a("body"),e=a(window),e.bind("resize",function(){c&&clearTimeout(c),c=setTimeout(a.pnotify_position_all,10)})};document.body?g():a(g),a.extend({pnotify_remove_all:function(){var b=e.data("pnotify");b&&b.length&&a.each(b,function(){this.pnotify_remove&&this.pnotify_remove()})},pnotify_position_all:function(){c&&clearTimeout(c),c=null;var b=e.data("pnotify");if(!b||!b.length)return;a.each(b,function(){var a=this.opts.stack;if(!a)return;a.nextpos1=a.firstpos1,a.nextpos2=a.firstpos2,a.addpos2=0,a.animation=!0}),a.each(b,function(){this.pnotify_position()})},pnotify:function(g){var h,i;typeof g!="object"?(i=a.extend({},a.pnotify.defaults),i.text=g):i=a.extend({},a.pnotify.defaults,g);for(var j in i)typeof j=="string"&&j.match(/^pnotify_/)&&(i[j.replace(/^pnotify_/,"")]=i[j]);if(i.before_init&&i.before_init(i)===!1)return null;var k,m=function(b,c){o.css("display","none");var d=document.elementFromPoint(b.clientX,b.clientY);o.css("display","block");var e=a(d),f=e.css("cursor");o.css("cursor",f!="auto"?f:"default");if(!k||k.get(0)!=d)k&&(l.call(k.get(0),"mouseleave",b.originalEvent),l.call(k.get(0),"mouseout",b.originalEvent)),l.call(d,"mouseenter",b.originalEvent),l.call(d,"mouseover",b.originalEvent);l.call(d,c,b.originalEvent),k=e},n=f[i.styling],o=a("<div />",{"class":"ui-pnotify "+i.addclass,css:{display:"none"},mouseenter:function(a){i.nonblock&&a.stopPropagation(),i.mouse_reset&&h=="out"&&(o.stop(!0),h="in",o.css("height","auto").animate({width:i.width,opacity:i.nonblock?i.nonblock_opacity:i.opacity},"fast")),i.nonblock&&o.animate({opacity:i.nonblock_opacity},"fast"),i.hide&&i.mouse_reset&&o.pnotify_cancel_remove(),i.sticker&&!i.nonblock&&o.sticker.trigger("pnotify_icon").css("visibility","visible"),i.closer&&!i.nonblock&&o.closer.css("visibility","visible")},mouseleave:function(b){i.nonblock&&b.stopPropagation(),k=null,o.css("cursor","auto"),i.nonblock&&h!="out"&&o.animate({opacity:i.opacity},"fast"),i.hide&&i.mouse_reset&&o.pnotify_queue_remove(),i.sticker_hover&&o.sticker.css("visibility","hidden"),i.closer_hover&&o.closer.css("visibility","hidden"),a.pnotify_position_all()},mouseover:function(a){i.nonblock&&a.stopPropagation()},mouseout:function(a){i.nonblock&&a.stopPropagation()},mousemove:function(a){i.nonblock&&(a.stopPropagation(),m(a,"onmousemove"))},mousedown:function(a){i.nonblock&&(a.stopPropagation(),a.preventDefault(),m(a,"onmousedown"))},mouseup:function(a){i.nonblock&&(a.stopPropagation(),a.preventDefault(),m(a,"onmouseup"))},click:function(a){i.nonblock&&(a.stopPropagation(),m(a,"onclick"))},dblclick:function(a){i.nonblock&&(a.stopPropagation(),m(a,"ondblclick"))}});o.opts=i,o.container=a("<div />",{"class":n.container+" ui-pnotify-container "+(i.type=="error"?n.error:i.type=="info"?n.info:i.type=="success"?n.success:n.notice)}).appendTo(o),i.cornerclass!=""&&o.container.removeClass("ui-corner-all").addClass(i.cornerclass),i.shadow&&o.container.addClass("ui-pnotify-shadow"),o.pnotify_version="1.2.0",o.pnotify=function(b){var c=i;typeof b=="string"?i.text=b:i=a.extend({},i,b);for(var d in i)typeof d=="string"&&d.match(/^pnotify_/)&&(i[d.replace(/^pnotify_/,"")]=i[d]);o.opts=i,i.cornerclass!=c.cornerclass&&o.container.removeClass("ui-corner-all").addClass(i.cornerclass),i.shadow!=c.shadow&&(i.shadow?o.container.addClass("ui-pnotify-shadow"):o.container.removeClass("ui-pnotify-shadow")),i.addclass===!1?o.removeClass(c.addclass):i.addclass!==c.addclass&&o.removeClass(c.addclass).addClass(i.addclass),i.title===!1?o.title_container.slideUp("fast"):i.title!==c.title&&(i.title_escape?o.title_container.text(i.title).slideDown(200):o.title_container.html(i.title).slideDown(200)),i.text===!1?o.text_container.slideUp("fast"):i.text!==c.text&&(i.text_escape?o.text_container.text(i.text).slideDown(200):o.text_container.html(i.insert_brs?String(i.text).replace(/\n/g,"<br />"):i.text).slideDown(200)),o.pnotify_history=i.history,o.pnotify_hide=i.hide,i.type!=c.type&&o.container.removeClass(n.error+" "+n.notice+" "+n.success+" "+n.info).addClass(i.type=="error"?n.error:i.type=="info"?n.info:i.type=="success"?n.success:n.notice);if(i.icon!==c.icon||i.icon===!0&&i.type!=c.type)o.container.find("div.ui-pnotify-icon").remove(),i.icon!==!1&&a("<div />",{"class":"ui-pnotify-icon"}).append(a("<span />",{"class":i.icon===!0?i.type=="error"?n.error_icon:i.type=="info"?n.info_icon:i.type=="success"?n.success_icon:n.notice_icon:i.icon})).prependTo(o.container);return i.width!==c.width&&o.animate({width:i.width}),i.min_height!==c.min_height&&o.container.animate({minHeight:i.min_height}),i.opacity!==c.opacity&&o.fadeTo(i.animate_speed,i.opacity),!i.closer||i.nonblock?o.closer.css("display","none"):o.closer.css("display","block"),!i.sticker||i.nonblock?o.sticker.css("display","none"):o.sticker.css("display","block"),o.sticker.trigger("pnotify_icon"),i.sticker_hover?o.sticker.css("visibility","hidden"):i.nonblock||o.sticker.css("visibility","visible"),i.closer_hover?o.closer.css("visibility","hidden"):i.nonblock||o.closer.css("visibility","visible"),i.hide?c.hide||o.pnotify_queue_remove():o.pnotify_cancel_remove(),o.pnotify_queue_position(),o},o.pnotify_position=function(a){var b=o.opts.stack;if(!b)return;b.nextpos1||(b.nextpos1=b.firstpos1),b.nextpos2||(b.nextpos2=b.firstpos2),b.addpos2||(b.addpos2=0);var c=o.css("display")=="none";if(!c||a){var d,f,g={},h;switch(b.dir1){case"down":h="top";break;case"up":h="bottom";break;case"left":h="right";break;case"right":h="left"}d=parseInt(o.css(h)),isNaN(d)&&(d=0),typeof b.firstpos1=="undefined"&&!c&&(b.firstpos1=d,b.nextpos1=b.firstpos1);var i;switch(b.dir2){case"down":i="top";break;case"up":i="bottom";break;case"left":i="right";break;case"right":i="left"}f=parseInt(o.css(i)),isNaN(f)&&(f=0),typeof b.firstpos2=="undefined"&&!c&&(b.firstpos2=f,b.nextpos2=b.firstpos2);if(b.dir1=="down"&&b.nextpos1+o.height()>e.height()||b.dir1=="up"&&b.nextpos1+o.height()>e.height()||b.dir1=="left"&&b.nextpos1+o.width()>e.width()||b.dir1=="right"&&b.nextpos1+o.width()>e.width())b.nextpos1=b.firstpos1,b.nextpos2+=b.addpos2+(typeof b.spacing2=="undefined"?25:b.spacing2),b.addpos2=0;if(b.animation&&b.nextpos2<f)switch(b.dir2){case"down":g.top=b.nextpos2+"px";break;case"up":g.bottom=b.nextpos2+"px";break;case"left":g.right=b.nextpos2+"px";break;case"right":g.left=b.nextpos2+"px"}else o.css(i,b.nextpos2+"px");switch(b.dir2){case"down":case"up":o.outerHeight(!0)>b.addpos2&&(b.addpos2=o.height());break;case"left":case"right":o.outerWidth(!0)>b.addpos2&&(b.addpos2=o.width())}if(b.nextpos1)if(b.animation&&(d>b.nextpos1||g.top||g.bottom||g.right||g.left))switch(b.dir1){case"down":g.top=b.nextpos1+"px";break;case"up":g.bottom=b.nextpos1+"px";break;case"left":g.right=b.nextpos1+"px";break;case"right":g.left=b.nextpos1+"px"}else o.css(h,b.nextpos1+"px");(g.top||g.bottom||g.right||g.left)&&o.animate(g,{duration:500,queue:!1});switch(b.dir1){case"down":case"up":b.nextpos1+=o.height()+(typeof b.spacing1=="undefined"?25:b.spacing1);break;case"left":case"right":b.nextpos1+=o.width()+(typeof b.spacing1=="undefined"?25:b.spacing1)}}},o.pnotify_queue_position=function(b){c&&clearTimeout(c),b||(b=10),c=setTimeout(a.pnotify_position_all,b)},o.pnotify_display=function(){o.parent().length||o.appendTo(d);if(i.before_open&&i.before_open(o)===!1)return;i.stack.push!="top"&&o.pnotify_position(!0),i.animation=="fade"||i.animation.effect_in=="fade"?o.show().fadeTo(0,0).hide():i.opacity!=1&&o.show().fadeTo(0,i.opacity).hide(),o.animate_in(function(){i.after_open&&i.after_open(o),o.pnotify_queue_position(),i.hide&&o.pnotify_queue_remove()})},o.pnotify_remove=function(){o.timer&&(window.clearTimeout(o.timer),o.timer=null);if(i.before_close&&i.before_close(o)===!1)return;o.animate_out(function(){if(i.after_close&&i.after_close(o)===!1)return;o.pnotify_queue_position(),i.remove&&o.detach()})},o.animate_in=function(a){h="in";var b;typeof i.animation.effect_in!="undefined"?b=i.animation.effect_in:b=i.animation,b=="none"?(o.show(),a()):b=="show"?o.show(i.animate_speed,a):b=="fade"?o.show().fadeTo(i.animate_speed,i.opacity,a):b=="slide"?o.slideDown(i.animate_speed,a):typeof b=="function"?b("in",a,o):o.show(b,typeof i.animation.options_in=="object"?i.animation.options_in:{},i.animate_speed,a)},o.animate_out=function(a){h="out";var b;typeof i.animation.effect_out!="undefined"?b=i.animation.effect_out:b=i.animation,b=="none"?(o.hide(),a()):b=="show"?o.hide(i.animate_speed,a):b=="fade"?o.fadeOut(i.animate_speed,a):b=="slide"?o.slideUp(i.animate_speed,a):typeof b=="function"?b("out",a,o):o.hide(b,typeof i.animation.options_out=="object"?i.animation.options_out:{},i.animate_speed,a)},o.pnotify_cancel_remove=function(){o.timer&&window.clearTimeout(o.timer)},o.pnotify_queue_remove=function(){o.pnotify_cancel_remove(),o.timer=window.setTimeout(function(){o.pnotify_remove()},isNaN(i.delay)?0:i.delay)},o.closer=a("<div />",{"class":"ui-pnotify-closer",css:{cursor:"pointer",visibility:i.closer_hover?"hidden":"visible"},click:function(){o.pnotify_remove(),o.sticker.css("visibility","hidden"),o.closer.css("visibility","hidden")}}).append(a("<span />",{"class":n.closer})).appendTo(o.container),(!i.closer||i.nonblock)&&o.closer.css("display","none"),o.sticker=a("<div />",{"class":"ui-pnotify-sticker",css:{cursor:"pointer",visibility:i.sticker_hover?"hidden":"visible"},click:function(){i.hide=!i.hide,i.hide?o.pnotify_queue_remove():o.pnotify_cancel_remove(),a(this).trigger("pnotify_icon")}}).bind("pnotify_icon",function(){a(this).children().removeClass(n.pin_up+" "+n.pin_down).addClass(i.hide?n.pin_up:n.pin_down)}).append(a("<span />",{"class":n.pin_up})).appendTo(o.container),(!i.sticker||i.nonblock)&&o.sticker.css("display","none"),i.icon!==!1&&a("<div />",{"class":"ui-pnotify-icon"}).append(a("<span />",{"class":i.icon===!0?i.type=="error"?n.error_icon:i.type=="info"?n.info_icon:i.type=="success"?n.success_icon:n.notice_icon:i.icon})).prependTo(o.container),o.title_container=a("<h4 />",{"class":"ui-pnotify-title"}).appendTo(o.container),i.title===!1?o.title_container.hide():i.title_escape?o.title_container.text(i.title):o.title_container.html(i.title),o.text_container=a("<div />",{"class":"ui-pnotify-text"}).appendTo(o.container),i.text===!1?o.text_container.hide():i.text_escape?o.text_container.text(i.text):o.text_container.html(i.insert_brs?String(i.text).replace(/\n/g,"<br />"):i.text),typeof i.width=="string"&&o.css("width",i.width),typeof i.min_height=="string"&&o.container.css("min-height",i.min_height),o.pnotify_history=i.history,o.pnotify_hide=i.hide;var p=e.data("pnotify");if(p==null||typeof p!="object")p=[];i.stack.push=="top"?p=a.merge([o],p):p=a.merge(p,[o]),e.data("pnotify",p),i.stack.push=="top"&&o.pnotify_queue_position(1),i.after_init&&i.after_init(o);if(i.history){var q=e.data("pnotify_history");if(typeof q=="undefined"){q=a("<div />",{"class":"ui-pnotify-history-container "+n.hi_menu,mouseleave:function(){q.animate({top:"-"+b+"px"},{duration:100,queue:!1})}}).append(a("<div />",{"class":"ui-pnotify-history-header",text:"Redisplay"})).append(a("<button />",{"class":"ui-pnotify-history-all "+n.hi_btn,text:"All",mouseenter:function(){a(this).addClass(n.hi_btnhov)},mouseleave:function(){a(this).removeClass(n.hi_btnhov)},click:function(){return a.each(p,function(){this.pnotify_history&&(this.is(":visible")?this.pnotify_hide&&this.pnotify_queue_remove():this.pnotify_display&&this.pnotify_display())}),!1}})).append(a("<button />",{"class":"ui-pnotify-history-last "+n.hi_btn,text:"Last",mouseenter:function(){a(this).addClass(n.hi_btnhov)},mouseleave:function(){a(this).removeClass(n.hi_btnhov)},click:function(){var a=-1,b;do{a==-1?b=p.slice(a):b=p.slice(a,a+1);if(!b[0])break;a--}while(!b[0].pnotify_history||b[0].is(":visible"));return b[0]?(b[0].pnotify_display&&b[0].pnotify_display(),!1):!1}})).appendTo(d);var r=a("<span />",{"class":"ui-pnotify-history-pulldown "+n.hi_hnd,mouseenter:function(){q.animate({top:"0"},{duration:100,queue:!1})}}).appendTo(q);b=r.offset().top+2,q.css({top:"-"+b+"px"}),e.data("pnotify_history",q)}}return i.stack.animation=!1,o.pnotify_display(),o}});var h=/^on/,i=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,j=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,k=/^(scroll|resize|(un)?load|abort|error)$/,l=function(b,c){var d;b=b.toLowerCase();if(document.createEvent&&this.dispatchEvent){b=b.replace(h,""),b.match(i)?(a(this).offset(),d=document.createEvent("MouseEvents"),d.initMouseEvent(b,c.bubbles,c.cancelable,c.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget)):b.match(j)?(d=document.createEvent("UIEvents"),d.initUIEvent(b,c.bubbles,c.cancelable,c.view,c.detail)):b.match(k)&&(d=document.createEvent("HTMLEvents"),d.initEvent(b,c.bubbles,c.cancelable));if(!d)return;this.dispatchEvent(d)}else b.match(h)||(b="on"+b),d=document.createEventObject(c),this.fireEvent(b,d)};a.pnotify.defaults={title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"bootstrap",addclass:"",cornerclass:"",nonblock:!1,nonblock_opacity:.2,history:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,animation:"fade",animate_speed:"slow",opacity:1,shadow:!0,closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,stack:{dir1:"down",dir2:"left",push:"bottom",spacing1:25,spacing2:25}}}(jQuery),define("libs/jquery/pnotify/jquery.pnotify",function(){}),define("app/util/notification",["app/util/dom","libs/jquery/pnotify/jquery.pnotify"],function(a){function e(a){return a}function g(a,b,c){for(var d=0;d<c.length;d++)"undefined"!=typeof a[c[d].src]&&(b[c[d].dst]=c[d].handler(a[c[d].src]))}var b=5e3,c=2500,d=1e4,f=[{src:"text",dst:"text",handler:e},{src:"type",dst:"type",handler:e},{src:"icon",dst:"notice_icon",handler:function(a){return"ui-icon "+a}},{src:"timeout",dst:"delay",handler:e},{src:"hide",dst:"hide",handler:e},{src:"before_open",dst:"before_open",handler:e},{src:"before_close",dst:"before_close",handler:e},{src:"after_open",dst:"after_open",handler:e},{src:"after_close",dst:"after_close",handler:e},{src:"history",dst:"history",handler:e},{src:"sticker",dst:"sticker",handler:e},{src:"width",dst:"width",handler:e},{src:"min_height",dst:"min_height",handler:e},{src:"opacity",dst:"opacity",handler:e},{src:"stack",dst:"stack",handler:e},{src:"shadow",dst:"shadow",handler:e}];return{error:function(a,b){return b=b||{},b.type="error",this.success(a,b)},success:function(a,c){c=c||{};var d={title:a,shadow:!0,delay:b,sticker:!1,insert_brs:!1,styling:"jqueryui",title_escape:!1,text_escape:!1};return g(c,d,f),d.text||(d.text=""),d.text+='\n<div class="pg-clear"></div>',$.pnotify(d)},context:function(a,b){b=b||{},b.voffset=b.voffset||25,b.width=b.width||"420px";var c=this.tip(a,b),d=function(){$("body").off("mousedown",d),c.remove()};return c.mousedown(function(a){a.stopPropagation()}),$("body").on("mousedown",d),c},copier:function(b,c){c=c||{};var d=navigator.userAgent.indexOf("Mac OS X")!=-1?"CMD+C":"CTRL+C";c.text='<div class="pg-message">'+c.text+'</div><div class="pg-textarea"><textarea>'+c.copy+'</textarea></div><div class="pg-footer">'+d+" to copy the link</div>";var e=this.context(b,c),f=e.find("textarea");return f.click(function(){a.selectText(f.get(0))}),setTimeout(function(){a.selectText(f.get(0))},500),e},tip:function(a,b){function e(){var a=$(c).offset(),e=$(c).outerWidth(),f=d.outerWidth(),g=(e-f)/2+a.left;g<b.hoffset?g=b.hoffset:g+f+b.hoffset>$(window).width()&&(g=$(window).width()-b.hoffset-f),d.css({left:g+"px",top:a.top+b.voffset+"px"})}function f(){$(window).off("resize",e)}b=b||{},b.history=!1,b.sticker=!1,b.hide=!1,b.stack=!1,b.shadow=!0,b.type=b.type||"info",b.opacity=.95,b.voffset=b.voffset||40,b.hoffset=b.hoffset||10;var c=b.target||document.body,d=this.success(a,b);$(window).on("resize",e);var g=b.before_close;return b.before_close=function(a){console.log(g),g&&g.apply(this,a),f(this,a)},setTimeout(e,0),d},main:function(a,b){function e(){var a=$(window).width(),b=$(window).height(),c=d.outerWidth(),e=d.outerHeight();d.css({left:(a-c)/2+"px",top:(b-e)/2+"px"})}function f(){$(window).off("resize",e)}b=b||{},b.history=!1,b.sticker=!1,b.width="500px",b.min_height||(b.min_height="300px"),b.hide=!1,b.stack=!1,b.shadow=!0,b.type="info",b.opacity=.95;var c=b.before_close;b.before_close=function(a){c&&c.apply(this,a),f(this,a)};var d=this.success(a,b);return $(window).on("resize",e),setTimeout(e,0),d},quick:function(a,b){return b=b||{},b.timeout=c,this.success(a,b)},progress:function(a,b){var c=1,e,f,g,h=b.text||"",i;return b.hide=!1,b.text='<div class="pg-message">'+h+'</div><div class="pg-progress-bar"></div>',b.before_open=function(a){e=a,f=a.find("div.pg-progress-bar"),g=a.find("div.pg-message")},b.progressStart=function(a){clearInterval(i),e.show(),g.removeClass("ui-state-error"),g.html(a),f.show(),f.progressbar({value:0})},b.progressStep=function(a){var b=a*100;b>100&&(b=100),f.progressbar({value:b})},b.progressComplete=function(a){g.html(a),f.hide(),i=setTimeout(function(){e.hide()},d)},b.progressError=function(a){f.hide(),g.addClass("ui-state-error").html(a),i=setTimeout(function(){e.hide()},d)},b.el=this.success(a,b)}}}),function(a,b){a.widget("ui.progressbar",{version:"@VERSION",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return a===b?this._value():(this._setOption("value",a),this)},_setOption:function(a,b){a==="value"&&(this.options.value=b,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(a,b)},_value:function(){var a=this.options.value;return typeof a!="number"&&(a=0),Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.attr("aria-valuenow",a)}})}(jQuery),define("libs/jquery/ui/jquery.ui.progressbar",function(){}),function(a,b){function e(){return++c}function f(a){return a=a.cloneNode(!1),a.hash.length>1&&a.href.replace(d,"")===location.href.replace(d,"")}var c=0,d=/#.*$/;a.widget("ui.tabs",{version:"@VERSION",options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b,c=this,d=this.options,e=d.active;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this._processTabs();if(e===null){location.hash&&this.anchors.each(function(a,b){if(b.hash===location.hash)return e=a,!1}),e===null&&(e=this.lis.filter(".ui-tabs-active").index());if(e===null||e===-1)e=this.lis.length?0:!1}e!==!1&&(e=this.lis.eq(e).index(),e===-1&&(e=d.collapsible?!1:0)),d.active=e,!d.collapsible&&d.active===!1&&this.anchors.length&&(d.active=0),a.isArray(d.disabled)&&(d.disabled=a.unique(d.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a){return c.lis.index(a)}))).sort()),this._refresh(),this.panels.hide(),this.lis.removeClass("ui-tabs-active ui-state-active"),d.active!==!1&&this.anchors.length?(this.active=this._findActive(d.active),b=this._getPanelForTab(this.active),b.show(),this.lis.eq(d.active).addClass("ui-tabs-active ui-state-active"),this.load(d.active)):this.active=a()},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_setOption:function(a,b){if(a==="active"){this._activate(b);return}if(a==="disabled"){this._setupDisabled(b);return}this._super(a,b),a==="collapsible"&&!b&&this.options.active===!1&&this._activate(0),a==="event"&&this._setupEvents(b),a==="heightStyle"&&this._setupHeightStyle(b)},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+e()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b,c=this.options,d=this.list.children(":has(a[href])");c.disabled=a.map(d.filter(".ui-state-disabled"),function(a){return d.index(a)}),this._processTabs(),this._refresh(),this.panels.not(this._getPanelForTab(this.active)).hide(),c.active===!1||!this.anchors.length?(c.active=!1,this.active=a()):this.active.length&&!a.contains(this.list[0],this.active[0])?(b=c.active-1,this._activate(b>=0?b:0)):c.active=this.lis.index(this.active)},_refresh:function(){var a=this.options;this.element.toggleClass("ui-tabs-collapsible",a.collapsible),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.anchors.addClass("ui-tabs-anchor"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),this._setupDisabled(a.disabled),this._setupEvents(a.event),this._setupHeightStyle(a.heightStyle),this.lis.unbind(".tabs"),this._focusable(this.lis),this._hoverable(this.lis)},_processTabs:function(){var b=this;this.list=this._getList(),this.lis=this.list.find("> li:has(a[href])"),this.anchors=this.lis.map(function(){return a("a",this)[0]}),this.panels=a(),this.anchors.each(function(c,d){var e,g,h,i=a(d).closest("li");f(d)?(e=d.hash,g=b.element.find(b._sanitizeSelector(e))):(h=b._tabId(i),e="#"+h,g=b.element.find(e),g.length||(g=b._createPanel(h),g.insertAfter(b.panels[c-1]||b.list))),g.length&&(b.panels=b.panels.add(g)),i.data("ui-tabs-aria-controls",i.attr("aria-controls")).attr("aria-controls",e.substring(1))})},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c=0,d;d=this.lis[c];c++)a(d).toggleClass("ui-state-disabled",b===!0||a.inArray(c,b)!==-1);this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this.anchors.unbind(".tabs"),this._bind(this.anchors,c)},_setupHeightStyle:function(b){var c,d,e=this.element.parent();b==="fill"?(a.support.minHeight||(d=e.css("overflow"),e.css("overflow","hidden")),c=e.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");if(d==="absolute"||d==="fixed")return;c-=b.outerHeight(!0)}),d&&e.css("overflow",d),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):b==="auto"&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault();if(f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1)return;c.active=h?!1:this.lis.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),!j.length&&!i.length&&a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.lis.index(f),b),this._toggle(b,k)},_toggle:function(a,b){function f(){c.running=!1,c._trigger("activate",a,b)}function g(){b.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),d.length&&c.options.show?c._show(d,c.options.show,f):(d.show(),f())}var c=this,d=b.newPanel,e=b.oldPanel;this.running=!0,e.length&&this.options.hide?this._hide(e,this.options.hide,function(){b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),g()}):(b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e.hide(),g())},_activate:function(b){var c,d=this._findActive(b);if(d[0]===this.active[0])return;d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop})},_findActive:function(b){return b===!1?a():this.lis.eq(b)},_getIndex:function(a){return typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){return this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.removeClass("ui-tabs-anchor").unbind(".tabs").removeData("href.tabs").removeData("load.tabs"),this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-active","ui-state-active","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom"].join(" "))}),this.lis.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c):b.removeAttr("aria-controls")}),this.options.heightStyle!=="content"&&this.panels.css("height",""),this},enable:function(c){var d=this.options.disabled;if(d===!1)return;c===b?d=!1:(c=this._getIndex(c),a.isArray(d)?d=a.map(d,function(a){return a!==c?a:null}):d=a.map(this.lis,function(a,b){return b!==c?b:null})),this._setupDisabled(d)},disable:function(c){var d=this.options.disabled;if(d===!0)return;if(c===b)d=!0;else{c=this._getIndex(c);if(a.inArray(c,d)!==-1)return;a.isArray(d)?d=a.merge([c],d).sort():d=[c]}this._setupDisabled(d)},load:function(b,c){b=this._getIndex(b);var d=this,e=this.lis.eq(b),g=e.find(".ui-tabs-anchor"),h=this._getPanelForTab(e),i={tab:e,panel:h};if(f(g[0]))return;this.xhr=a.ajax({url:g.attr("href"),beforeSend:function(b,e){return d._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:e},i))}}),this.xhr&&this.xhr.statusText!=="canceled"&&(e.addClass("ui-tabs-loading"),this.xhr.success(function(a){setTimeout(function(){h.html(a),d._trigger("load",c,i)},1)}).complete(function(a,b){setTimeout(function(){b==="abort"&&d.panels.stop(!1,!0),e.removeClass("ui-tabs-loading"),a===d.xhr&&delete d.xhr},1)}))},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}}),a.uiBackCompat!==!1&&(a.ui.tabs.prototype._ui=function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},a.widget("ui.tabs",a.ui.tabs,{url:function(a,b){this.anchors.eq(a).attr("href",b)}}),a.widget("ui.tabs",a.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var b=this;this.element.bind("tabsbeforeload.tabs",function(c,d){if(a.data(d.tab[0],"cache.tabs")){c.preventDefault();return}a.extend(d.ajaxSettings,b.options.ajaxOptions,{error:function(a,c,e){try{b.options.ajaxOptions.error(a,c,d.tab.closest("li").index(),d.tab[0])}catch(e){}}}),d.jqXHR.success(function(){b.options.cache&&a.data(d.tab[0],"cache.tabs",!0)})})},_setOption:function(a,b){a==="cache"&&b===!1&&this.anchors.removeData("cache.tabs"),this._super(a,b)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(a,b){this.anchors.eq(a).removeData("cache.tabs"),this._superApply(arguments)}}),a.widget("ui.tabs",a.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),a.widget("ui.tabs",a.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._bind({tabsbeforeload:function(a,b){if(!this.options.spinner)return;var c=b.tab.find("span"),d=c.html();c.html(this.options.spinner),b.jqXHR.complete(function(){c.html(d)})}})}}),a.widget("ui.tabs",a.ui.tabs,{options:{enable:null,disable:null},enable:function(b){var c=this.options,d;if(b&&c.disabled===!0||a.isArray(c.disabled)&&a.inArray(b,c.disabled)!==-1)d=!0;this._superApply(arguments),d&&this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b]))},disable:function(b){var c=this.options,d;if(b&&c.disabled===!1||a.isArray(c.disabled)&&a.inArray(b,c.disabled)===-1)d=!0;this._superApply(arguments),d&&this._trigger("disable",null,this._ui(this.anchors[b],this.panels[b]))}}),a.widget("ui.tabs",a.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(c,d,e){e===b&&(e=this.anchors.length);var f,g,h=this.options,i=a(h.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),j=c.indexOf("#")?this._tabId(i):c.replace("#","");return i.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),i.attr("aria-controls",j),f=e>=this.lis.length,g=this.element.find("#"+j),g.length||(g=this._createPanel(j),f?e>0?g.insertAfter(this.panels.eq(-1)):g.appendTo(this.element):g.insertBefore(this.panels[e])),g.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),f?i.appendTo(this.list):i.insertBefore(this.lis[e]),h.disabled=a.map(h.disabled,function(a){return a>=e?++a:a}),this.refresh(),this.lis.length===1&&h.active===!1&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e])),this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.lis.eq(b).remove(),e=this._getPanelForTab(d).remove();return d.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a){return a!==b}),function(a){return a>=b?--a:a}),this.refresh(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0])),this}}),a.widget("ui.tabs",a.ui.tabs,{length:function(){return this.anchors.length}}),a.widget("ui.tabs",a.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(b){var c=b.is("li")?b.find("a[href]"):b;return c=c[0],a(c).closest("li").attr("aria-controls")||c.title&&c.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+e()}}),a.widget("ui.tabs",a.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(b){return a(this.options.panelTemplate).attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),a.widget("ui.tabs",a.ui.tabs,{_create:function(){var a=this.options;a.active===null&&a.selected!==b&&(a.active=a.selected===-1?!1:a.selected),this._super(),a.selected=a.active,a.selected===!1&&(a.selected=-1)},_setOption:function(a,b){if(a!=="selected")return this._super(a,b);var c=this.options;this._super("active",b===-1?!1:b),c.selected=c.active,c.selected===!1&&(c.selected=-1)},_eventHandler:function(a){this._superApply(arguments),this.options.selected=this.options.active,this.options.selected===!1&&(this.options.selected=-1)}}),a.widget("ui.tabs",a.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),this.options.active!==!1&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(a,b,c){var d=this._superApply(arguments);return d?(a==="beforeActivate"&&c.newTab.length?d=this._super("select",b,{tab:c.newTab.find(".ui-tabs-anchor")[0],panel:c.newPanel[0],index:c.newTab.closest("li").index()}):a==="activate"&&c.newTab.length&&(d=this._super("show",b,{tab:c.newTab.find(".ui-tabs-anchor")[0],panel:c.newPanel[0],index:c.newTab.closest("li").index()})),d):!1}}),a.widget("ui.tabs",a.ui.tabs,{select:function(a){a=this._getIndex(a);if(a===-1){if(!this.options.collapsible||this.options.selected===-1)return;a=this.options.selected}this.anchors.eq(a).trigger(this.options.event+".tabs")}}),function(){var b=0;a.widget("ui.tabs",a.ui.tabs,{options:{cookie:null},_create:function(){var a=this.options,b;a.active==null&&a.cookie&&(b=parseInt(this._cookie(),10),b===-1&&(b=!1),a.active=b),this._super()},_cookie:function(c){var d=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++b)];return arguments.length&&(d.push(c===!1?-1:c),d.push(this.options.cookie)),a.cookie.apply(null,d)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(a){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),a.widget("ui.tabs",a.ui.tabs,{_trigger:function(b,c,d){var e=a.extend({},d);return b==="load"&&(e.panel=e.panel[0],e.tab=e.tab.find(".ui-tabs-anchor")[0]),this._super(b,c,e)}}),a.widget("ui.tabs",a.ui.tabs,{options:{fx:null},_getFx:function(){var b,c,d=this.options.fx;return d&&(a.isArray(d)?(b=d[0],c=d[1]):b=c=d),d?{show:c,hide:b}:null},_toggle:function(a,b){function g(){c.running=!1,c._trigger("activate",a,b)}function h(){b.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),d.length&&f.show?d.animate(f.show,f.show.duration,function(){g()}):(d.show(),g())}var c=this,d=b.newPanel,e=b.oldPanel,f=this._getFx();if(!f)return this._super(a,b);c.running=!0,e.length&&f.hide?e.animate(f.hide,f.hide.duration,function(){b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h()}):(b.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e.hide(),h())}}))}(jQuery),define("libs/jquery/ui/jquery.ui.tabs",function(){}),function(a){var b=null;a.widget("ui.menu",{version:"@VERSION",defaultElement:"<ul>",delay:300,options:{menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click.menu",a.proxy(function(a){this.options.disabled&&a.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._bind({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(c){var d=a(c.target);d[0]!==b&&(b=d[0],d.one("click.menu",function(a){b=null}),d.closest(".ui-menu-item").is(".ui-state-disabled")||(this.select(c),this._delay(function(){this.element.is(":focus")||this.element.focus()},20)))},"mouseenter .ui-menu-item":function(b){var c=a(b.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(b,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(b){var c=this.element,d=c.children(".ui-menu-item").eq(0);this._hasScroll()&&!this.active?c.children().each(function(){var b=a(this);if(b.offset().top-c.offset().top>=0)return d=b,!1}):this.active&&(d=this.active),this.focus(b,d)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._bind(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b)}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content"),a(b).unbind("click.menu")},_keydown:function(b){function h(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var c,d,e,f,g=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active.is(".ui-state-disabled")||this.expand(b);break;case a.ui.keyCode.ENTER:this._activate(b);break;case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:g=!1,d=this.previousFilter||"",e=String.fromCharCode(b.keyCode),f=!1,clearTimeout(this.filterTimer),e===d?f=!0:e=d+e,c=this.activeMenu.children(".ui-menu-item").filter(function(){return(new RegExp("^"+h(e),"i")).test(a(this).children("a").text())}),c=f&&c.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):c,c.length||(e=String.fromCharCode(b.keyCode),c=this.activeMenu.children(".ui-menu-item").filter(function(){return(new RegExp("^"+h(e),"i")).test(a(this).children("a").text())})),c.length?(this.focus(b,c),c.length>1?(this.previousFilter=e,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}g&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b,c=this.element.find(this.options.menus+":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"});b=c.add(this.element),b.children(":not( .ui-menu-item ):has( a )").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),b.children(":not(.ui-menu-item)").each(function(){var b=a(this);/[^\-ââ\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")}),b.children(".ui-state-disabled").attr("aria-disabled","true"),c.each(function(){var b=a(this),c=b.prev("a"),d=a('<span class="ui-menu-icon ui-icon ui-icon-carat-1-e"></span>').data("ui-menu-submenu-carat",!0);c.attr("aria-haspopup","true").prepend(d),b.attr("aria-labelledby",c.attr("id"))})},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(b,c){var d,e;this.blur(b,b&&b.type==="focus"),this._scrollIntoView(c),this.active=c.first(),e=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",e.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),b&&b.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),d=a("> .ui-menu",c),d.length&&/^mouse/.test(b.type)&&this._startOpening(d),this.activeMenu=c.parent(),this._trigger("focus",b,{item:c})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.height(),e<0?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,b){b||clearTimeout(this.timer);if(!this.active)return;this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active})},_startOpening:function(a){clearTimeout(this.timer);if(a.attr("aria-hidden")!=="true")return;this.timer=this._delay(function(){this._close(),this._open(a)},this.delay)},_open:function(b){var c=a.extend({of:this.active},a.type(this.options.position)==="function"?this.options.position(this.active):this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents()).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(b&&b.length)return this._close(),this.focus(a,b),!0},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();if(b&&b.length)return this._open(b.parent()),this._delay(function(){this.focus(a,b)},20),!0},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(a==="first"||a==="last"?d=this.active[a==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):d=this.active[a+"All"](".ui-menu-item").eq(0));if(!d||!d.length||!this.active)d=this.activeMenu.children(".ui-menu-item")[b]();this.focus(c,d)},nextPage:function(b){if(!this.active){this._move("next","first",b);return}if(this.isLastItem())return;if(this._hasScroll()){var c=this.active.offset().top,d=this.element.height(),e;this.active.nextAll(".ui-menu-item").each(function(){return e=a(this),a(this).offset().top-c-d<0}),this.focus(b,e)}else this.focus(b,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())},previousPage:function(b){if(!this.active){this._move("next","first",b);return}if(this.isFirstItem())return;if(this._hasScroll()){var c=this.active.offset().top,d=this.element.height(),e;this.active.prevAll(".ui-menu-item").each(function(){return e=a(this),a(this).offset().top-c+d>0}),this.focus(b,e)}else this.focus(b,this.activeMenu.children(".ui-menu-item").first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(a){var b={item:this.active};this.collapseAll(a,!0),this._trigger("select",a,b)}})}(jQuery),define("libs/jquery/ui/jquery.ui.menu",function(){}),define("app/util/ui",["app/util/dom","app/util/notification","jquery","libs/jquery/ui/jquery.ui.core","libs/jquery/ui/jquery.ui.position","libs/jquery/ui/jquery.ui.widget","libs/jquery/ui/jquery.ui.mouse","libs/jquery/ui/jquery.ui.resizable","libs/jquery/ui/jquery.ui.button","libs/jquery/ui/jquery.ui.progressbar","libs/jquery/ui/jquery.ui.tabs","libs/jquery/ui/jquery.ui.menu"],function(a,b){var c,d=0;return $.fn.outerHTML=function(){return this.length?this[0].outerHTML||function(a){var b=document.createElement("div");b.appendChild(a.cloneNode(!0));var c=b.innerHTML;return b=null,c}(this[0]):this},c={clickOrDoubleClick:function(a,b,c){var d=0;a.click(function(a){d++,d===1?setTimeout(function(){if(d!==1){d=0;return}d=0,b.call(this,a)},200):(d=0,c.call(this,a))})},button:function(a,b){a=$(a),b=$.extend({disabled:!1,label:"",text:!1,handler:function(){},icons:null},b);var d={disabled:b.disabled,text:b.text,label:b.label,icons:b.icon?{primary:b.icon}:b.icons};d.icons||delete d.icons;var e=a.append("<button></button>").find("button:last").button(d).click(function(a){return b.handler.apply(e.get(0)),a.preventDefault(),!1});return b.description&&c.tooltip(e,b.description),e},menu:function(a,b){return a=$(a),b=$.extend({disabled:!1},b),a.menu({disabled:b.disabled})},contextmenu:function(a,b){"string"==typeof a?a=$("body").append(a).find("div:last ul"):a=$(a);var c=a.parent(),b=this.menu(a,b);return c.hide(),c.mouseleave(function(){c.hide()}).click(function(){c.hide()}),c},tabs:function(a,b){return a=$(a),a.tabs(b)},radios:function(a,b){var e;a=$(a),b&&(a.find("*").remove(),d++,$(b).each(function(f,g){var h=g.group,i="pg-buttonset-"+d+"-"+f,j=g.label;g.btn=a.append('<input type="radio" id="'+i+'" name="'+h+'" '+(g.checked?'checked="checked" ':"")+'/><label for="'+i+'">'+j+"</label>").find("#"+i),g.btn.click(function(){$(b).each(function(a,b){b.checked=b.token===g.token}),g.handler(g)}),g.checked&&(e=g.btn),g.description&&c.tooltip(btn,g.description)}));var f=a.buttonset();return e&&setTimeout(function(){e.click()},100),f},checks:function(a,b){return a=$(a),b&&(a.find("*").remove(),d++,$(b).each(function(b,e){var f=e.name||"",g=e.checked||!1,h="pg-buttonset-"+d+"-"+b,i=e.label,j=a.append('<input type="checkbox" id="'+h+'" name="'+f+'" '+(g?'checked="checked" ':"")+'/><label for="'+h+'">'+i+"</label>").find("#"+h);j.click(function(a){e.checked=!!j.attr("checked"),e.handler&&e.handler.call(j,a,e)}),e.description&&c.tooltip(j,e.description)})),a.buttonset()},buttonset:function(a){return a=$(a),a.buttonset()},progressbar:function(a){return a=$(a),a.progressbar()},tooltip:function(a,b){var c="function"==typeof b?b:function(){return b};return $(a).attr("title",c.apply($(a),[])),a},edit:function(c,d){function i(){h&&h.remove(),c.html(f),d.cancel()}c=$(c),d=$.extend({handler:function(a){return null},cancel:function(){}},d);var e=d.text||c.text().trim(),f=c.html(),g=c.html('<input type="text" name="pg-editable" id="pg-editable" value="'+e+'" />').find("#pg-editable"),h;$(document.body).one("mousedown",function(){i()}),g.change(function(){var a=g.val();if(a===e)return i();d.handler(a,function(d){h&&h.remove();if(d){h=b.tip("invalid value",{target:c,text:d,type:"error"});return}c.html(a)})}).keyup(function(a){switch(a.which){case 9:case 13:g.trigger("change");break;case 27:i()}}),g.focus();var j=c.get(0);a.canSelect(j)||(j=g.get(0)),a.selectText(j,0,e.length)}}}),define("rtext!templates/toolbar.main.html",[],function(){return'<div class="pg-toolbar-actions">\n    <a class="pg-brand" href="#" target="_blank"><span class="pg-logo"></span></a>\n</div>\n<div class="pg-toolbar-context">\n\n</div>'}),define("app/util/fullscreen",[],function(){function d(){a=!window.screenTop&&!window.screenY,$(".pg-precog-labcoat .pg-fullscreen span.k-link").text(a?"reduce":"fullscreen")}var a,b,c;return document.documentElement.requestFullscreen?b=function(a){a.requestFullscreen()}:document.documentElement.mozRequestFullScreen?b=function(a){a.mozRequestFullScreen()}:document.documentElement.webkitRequestFullScreen?b=function(a){a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT),document.webkitCurrentFullScreenElement||a.webkitRequestFullScreen()}:(setTimeout(function(){$(".pg-precog-labcoat .pg-fullscreen").hide()},20),b=function(){console.log("your browser doesn't support the FullScreen option")}),document.exitFullscreen?c=function(){document.exitFullscreen()}:document.mozCancelFullScreen?c=function(){document.mozCancelFullScreen()}:document.webkitCancelFullScreen?c=function(a){a.webkitRequestFullScreen(),document.webkitCancelFullScreen()}:c=function(){console.log("your browser doesn't support the FullScreen option")},document.addEventListener&&(document.addEventListener("fullscreenchange",d,!1),document.addEventListener("mozfullscreenchange",d,!1),document.addEventListener("webkitfullscreenchange",d,!1)),d(),{toggle:function(d){d=d||document.documentElement,a?c(d):b(d)},isFullScreen:function(){return a}}}),define("rtext!templates/dialog.confirm.html",[],function(){return'<div class="pg-dialog-confirm">\n    <div class="pg-message"></div>\n</div>'}),define("app/util/numbercaptcha",[],function(){function a(a,b){return a+Math.floor(Math.random()*(1+b-a))}return function(b){var c=Math.round(b),d=["+","-","/","*"][a(0,3)],e=a(1,c),f,g;switch(d){case"+":f=a(1,c),g=f+e;break;case"-":f=a(1,c);if(f<e){var h=f;f=e,e=h}g=f-e;break;case"*":f=a(2,10),g=f*e;if(a(0,1)){var h=f;f=e,e=h}break;case"/":f=e*a(2,10),g=f/e}return{first:f,second:e,operator:d,result:g,description:f+" "+d+" "+e}}}),function(a,b){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"@VERSION",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1e3},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var b=this,d=this.options,e=d.title||"&#160;",f=(this.uiDialog=a("<div>")).addClass(c+d.dialogClass).css({display:"none",outline:0,zIndex:d.zIndex}).attr("tabIndex",-1).keydown(function(c){d.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}).mousedown(function(a){b.moveToTop(!1,a)}).appendTo("body"),g=this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(f),h=(this.uiDialogTitlebar=a("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").prependTo(f),i=a("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(a){a.preventDefault(),b.close(a)}).appendTo(h),j=(this.uiDialogTitlebarCloseText=a("<span>")).addClass("ui-icon ui-icon-closethick").text(d.closeText).appendTo(i),k=a("<span>").uniqueId().addClass("ui-dialog-title").html(e).prependTo(h),l=(this.uiDialogButtonPane=a("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),m=(this.uiButtonSet=a("<div>")).addClass("ui-dialog-buttonset").appendTo(l);f.attr({role:"dialog","aria-labelledby":k.attr("id")}),h.find("*").add(h).disableSelection(),this._hoverable(i),this._focusable(i),d.draggable&&a.fn.draggable&&this._makeDraggable(),d.resizable&&a.fn.resizable&&this._makeResizable(),this._createButtons(d.buttons),this._isOpen=!1,a.fn.bgiframe&&f.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var a,b=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(b){var c=this,d,e;if(!this._isOpen)return;if(!1===this._trigger("beforeClose",b))return;return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.uiDialog.unbind("keypress.ui-dialog"),this.options.hide?this.uiDialog.hide(this.options.hide,function(){c._trigger("close",b)}):(this.uiDialog.hide(),this._trigger("close",b)),a.ui.dialog.overlay.resize(),this.options.modal&&(d=0,a(".ui-dialog").each(function(){this!==c.uiDialog[0]&&(e=a(this).css("z-index"),isNaN(e)||(d=Math.max(d,e)))}),a.ui.dialog.maxZ=d),this},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this.options,e;return d.modal&&!b||!d.stack&&!d.modal?this._trigger("focus",c):(d.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=d.zIndex),this.overlay&&(a.ui.dialog.maxZ+=1,a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ,this.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ)),e={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},a.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",a.ui.dialog.maxZ),this.element.attr(e),this._trigger("focus",c),this)},open:function(){if(this._isOpen)return;var b,c=this.options,d=this.uiDialog;return this._size(),this._position(c.position),d.show(c.show),this.overlay=c.modal?new a.ui.dialog.overlay(this):null,this.moveToTop(!0),c.modal&&d.bind("keydown.ui-dialog",function(b){if(b.keyCode!==a.ui.keyCode.TAB)return;var c=a(":tabbable",this),d=c.filter(":first"),e=c.filter(":last");if(b.target===e[0]&&!b.shiftKey)return d.focus(1),!1;if(b.target===d[0]&&b.shiftKey)return e.focus(1),!1}),b=this.element.find(":tabbable"),b.length||(b=this.uiDialogButtonPane.find(":tabbable"),b.length||(b=d)),b.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this},_createButtons:function(b){var c,d,e=this,f=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),typeof b=="object"&&b!==null&&a.each(b,function(){return!(f=!0)}),f?(a.each(b,function(b,c){c=a.isFunction(c)?{click:c,text:b}:c;var d=a("<button type='button'>").attr(c,!0).unbind("click").click(function(){c.click.apply(e.element[0],arguments)}).appendTo(e.uiButtonSet);a.fn.button&&d.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function d(a){return{position:a.position,offset:a.offset}}var b=this,c=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(c,e){a(this).addClass("ui-dialog-dragging"),b._trigger("dragStart",c,d(e))},drag:function(a,c){b._trigger("drag",a,d(c))},stop:function(e,f){c.position=[f.position.left-b.document.scrollLeft(),f.position.top-b.document.scrollTop()],a(this).removeClass("ui-dialog-dragging"),b._trigger("dragStop",e,d(f)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function h(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var d=this,e=this.options,f=this.uiDialog.css("position"),g=typeof c=="string"?c:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:this._minHeight(),handles:g,start:function(b,c){a(this).addClass("ui-dialog-resizing"),d._trigger("resizeStart",b,h(c))},resize:function(a,b){d._trigger("resize",a,h(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),e.height=a(this).height(),e.width=a(this).width(),d._trigger("resizeStop",b,h(c)),a.ui.dialog.overlay.resize()}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],e;if(b){if(typeof b=="string"||typeof b=="object"&&"0"in b)c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:d.join(" ")};b=a.extend({},a.ui.dialog.prototype.options.position,b)}else b=a.ui.dialog.prototype.options.position;e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(b),e||this.uiDialog.hide()},_setOptions:function(b){var c=this,f={},g=!1;a.each(b,function(a,b){c._setOption(a,b),a in d&&(g=!0),a in e&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,d){var e,f,g=this.uiDialog;switch(b){case"buttons":this._createButtons(d);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+d);break;case"dialogClass":g.removeClass(this.options.dialogClass).addClass(c+d);break;case"disabled":d?g.addClass("ui-dialog-disabled"):g.removeClass("ui-dialog-disabled");break;case"draggable":e=g.is(":data(draggable)"),e&&!d&&g.draggable("destroy"),!e&&d&&this._makeDraggable();break;case"position":this._position(d);break;case"resizable":f=g.is(":data(resizable)"),f&&!d&&g.resizable("destroy"),f&&typeof d=="string"&&g.resizable("option","handles",d),!f&&d!==!1&&this._makeResizable(d);break;case"title":a(".ui-dialog-title",this.uiDialogTitlebar).html(""+(d||"&#160;"))}this._super(b,d)},_size:function(){var b,c,d,e=this.options,f=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),e.minWidth>e.width&&(e.width=e.minWidth),b=this.uiDialog.css({height:"auto",width:e.width}).outerHeight(),c=Math.max(0,e.minHeight-b),e.height==="auto"?a.support.minHeight?this.element.css({minHeight:c,height:"auto"}):(this.uiDialog.show(),d=this.element.css("height","auto").height(),f||this.uiDialog.hide(),this.element.height(Math.max(d,c))):this.element.height(Math.max(e.height-b,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");return b||(this.uuid+=1,b=this.uuid),"ui-dialog-title-"+b},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){this.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ)return!1})},1),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=this.oldInstances.pop()||a("<div>").addClass("ui-widget-overlay");return a(document).bind("keydown.dialog-overlay",function(d){var e=a.ui.dialog.overlay.instances;e.length!==0&&e[e.length-1]===c&&b.options.closeOnEscape&&!d.isDefaultPrevented()&&d.keyCode&&d.keyCode===a.ui.keyCode.ESCAPE&&(b.close(d),d.preventDefault())}),c.appendTo(document.body).css({width:this.width(),height:this.height()}),a.fn.bgiframe&&c.bgiframe(),this.instances.push(c),c},destroy:function(b){var c=a.inArray(b,this.instances),d=0;c!==-1&&this.oldInstances.push(this.instances.splice(c,1)[0]),this.instances.length===0&&a([document,window]).unbind(".dialog-overlay"),b.height(0).width(0).remove(),a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;return a.browser.msie?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),b<c?a(window).height()+"px":b+"px"):a(document).height()+"px"},width:function(){var b,c;return a.browser.msie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),b<c?a(window).width()+"px":b+"px"):a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),define("libs/jquery/ui/jquery.ui.dialog",function(){}),define("app/util/dialog-confirm",["rtext!templates/dialog.confirm.html","app/util/ui","app/util/dom","app/util/numbercaptcha","libs/jquery/ui/jquery.ui.core","libs/jquery/ui/jquery.ui.position","libs/jquery/ui/jquery.ui.widget","libs/jquery/ui/jquery.ui.mouse","libs/jquery/ui/jquery.ui.resizable","libs/jquery/ui/jquery.ui.button","libs/jquery/ui/jquery.ui.sortable","libs/jquery/ui/jquery.ui.draggable","libs/jquery/ui/jquery.ui.dialog"],function(a,b,c,d){function i(){e.dialog("option","position","center")}function j(){function b(a,b){$(window).off("resize",i)}e=$("body").append(a).find(".pg-dialog-confirm:last").dialog({modal:!0,autoOpen:!1,resizable:!1,dialogClass:"pg-el",closeOnEscape:!0,buttons:[{text:"OK",click:function(){return e.dialog("close"),f&&f(),!0},ref:"ok"},{text:"Cancel",click:function(){$(this).dialog("close"),b(),g&&g()},ref:"cancel"}]}),e.bind("dialogopen",function(){$(window).on("resize",i)}),e.bind("dialogclose",b)}var e,f,g,h,k=!1,l,m;return function(a,b,c,h){h=h||{},k||(j(),k=!0),f=c,e.dialog("option","position","center"),e.dialog("option","title",a),e.dialog("option","width",h.width&&h.width||300),e.dialog("option","height",h.height&&h.height||"auto"),e.dialog("open"),g=h.cancel;var i=e.parent().find("button[ref=ok]"),n=e.find(".pg-message");l&&l.detach(),m&&m.detach(),l=b=!b||"string"==typeof b?$("<div>"+(b||"")+"</div>"):b,n.append(b);if(h.captcha){i.button("disable");var o=m=$('<div class="captcha"></div>'),p=d(100);o.append('<div class="ui-widget"><div class="ui-state-highlight"><p>Solve this simple problem if you want to delete the data: <b>'+p.description+" is equal to?</b></p></div></div>");var q=$('<input type="number" step="1">').keyup(function(){var a=$(this).attr("value");a===""+p.result&&(o.children("*").remove(),o.append('<div class="ui-widget"><div class="ui-state-highlight"><p>Good Job! Now click OK to confirm</p></div></div>'),i.button("enable"))});o.append($('<div class="ui-widget"></div>').append("<p></p>").append(q)),n.append(o)}else i.button("enable")}}),define("rtext!templates/dialog.global.settings.html",[],function(){return'<div>\n    <dl class="labcoat-url-generator">\n\n        <dt class="header">Account Settings</dt>\n        <dt><label for="apiKey">API Key</label></dt>\n        <dd class="ui-widget-content ui-corner-all">\n            <input id="apiKey" value="" type="text" class="api-key">\n            <div class="input-error ui-state-error ui-corner-all" style="display:none"></div>\n        </dd>\n\n        <dt><label for="basePath">Base Path</label></dt>\n        <dd class="ui-widget-content ui-corner-all">\n            <input id="basePath" type="text" class="path">\n            <div class="input-error ui-state-error ui-corner-all" style="display:none"></div>\n        </dd>\n\n        <dt class="header">User Preferences</dt>\n        <dt><label for="limit">Limit</label></dt>\n        <dd class="ui-widget-content ui-corner-all">\n            <input id="limit" type="text" class="int">\n            <div class="input-error ui-state-error ui-corner-all" style="display:none"></div>\n        </dd>\n\n        <dt><label for="theme">Theme</label></dt>\n        <dd class="ui-widget-content ui-corner-all">\n            <select id="theme"></select>\n            <div class="input-error ui-state-error ui-corner-all" style="display:none"></div>\n        </dd>\n\n        <dt class="header">Server Settings</dt>\n        <dt>Analytics Service</dt>\n        <dd class="ui-widget-content ui-corner-all">\n            https://<input id="analyticsService" value="" type="text" class="url">\n            <div class="input-error ui-state-error ui-corner-all" style="display:none"></div>\n        </dd>\n\n        <dt>Labcoat Host</dt>\n        <dd class="ui-widget-content ui-corner-all">\n            https://<input id="labcoatHost" value="" type="text" class="url">\n            <div class="input-error ui-state-error ui-corner-all" style="display:none"></div>\n        </dd>\n\n        <dt class="full-line output header">Labcoat Url</dt>\n        <dd class="full-line ui-widget-content ui-corner-all output ui-state-highlight"><a href="" class="labcoatUrl" target="_blank"></a></dd>\n    </dl>\n</div>'}),define("app/util/dispatcher",[],function(){function a(a,b){var c=a.length,d=[];for(var e=b;e<c;e++)d.push(a[e]);return d}return function(){var b={},c;return c={emit:function(c,d){var e=b[d]||[];for(var f=0;f<e.length;f++)if(e[f].apply(c,a(arguments,2))===!1)break},on:function(a,c){var d=b[a]||(b[a]=[]);return d.indexOf(c)>=0?!1:(d.push(c),!0)},off:function(a,c){var d=b[a],e;return(!d||(e=d.indexOf(c))<0)&&!1,d.splice(e,1),!0}}}}),define("app/util/valuemodel",["app/util/dispatcher"],function(a){return function(b,c,d){var e,f=b,g=c||function(){return null},h=d||function(a){return a},i=a(),j;return e={set:function(a){if((j=g(a))!==null)return i.emit(this,"validation.error",j,a),!1;var b=f;return f=h(a),i.emit(this,"value.change",f,b),!0},setDefault:function(a){var c=b;return b=h(a),i.emit(this,"default.change",b,c),this.set(a),!0},reset:function(){return b===f?!1:this.set(b)?(i.emit(this,"value.reset",b),!0):!1},get:function(a){return f!==null&&typeof f!="undefined"&&f||a},getDefault:function(){return b},validate:function(a){return g(a)==null},lastError:function(){return j},on:function(a,b){i.on(a,b)},off:function(a,b){i.off(a,b)},setValidator:function(a){g=a||function(){return null},i.emit(this,"validator.change",g)},setFilter:function(a){h=a||function(){return null},i.emit(this,"filter.change",a)},isDefault:function(){return f===b}}}}),define("app/util/objectmodel",["app/util/dispatcher"],function(a){return function(){function g(){for(key in e)if(e.hasOwnProperty(key))return!1;return!0}var b={},c=a(),d,e={},f=!0;return d={addField:function(a,d){this.removeField(a),b[a]=d,d.on("value.change",function(){c.emit(this,"value.change",a,d),f||(delete e[a],f=g()),f&&c.emit(this,"validation.success",a,d),c.emit(this,"object.change",a,d)}),d.on("validation.error",function(){f=!1,e[a]=!0,c.emit(this,"validation.error",a,d)}),c.emit(this,"field.add",a,d)},removeField:function(a){if(!this.hasField(a))return!1;var d=b[a];delete b[a],c.emit(this,"field.remove",a,d)},hasField:function(a){return!!b[a]},getField:function(a){return b[a]},get:function(a){var b=this.getField(a);return null==b?null:b.get()},on:function(a,b){c.on(a,b)},off:function(a,b){c.off(a,b)},isValid:function(){return f},reset:function(){for(name in b)b.hasOwnProperty(name)&&b[name].reset()},hasChanged:function(){for(name in b)if(b.hasOwnProperty(name)&&!b[name].isDefault())return!0;return!1}}}}),define("app/util/converters",[],function(){function a(a){var b=[],c=0;while(c>=0){var d=a.indexOf(a,c);!(d<0)}return b}return{jsonToCsv:function(a){function l(a){return a.replace(h,"\\n").replace(i,"\\r").replace(j,'""')}function m(a){return"string"==typeof a?a.match(g)?'"'+l(a)+'"':a:a instanceof Array||a instanceof Object?m(JSON.stringify(a)):""+a}if(!a)return"";var b=[],c=a[0],d,e,f=[],g=/[",\n\r]/g,h=/\n/g,i=/\r/g,j=/"/g,k;d=[];if(c instanceof Object){for(e in c)c.hasOwnProperty(e)&&(f.push(e),d.push(m(e)));b.push(d.join(","));for(k=0;k<a.length;k++){d=[],c=a[k];for(var n=0;n<f.length;n++)d.push(m(c[f[n]]));b.push(d.join(","))}}else{b.push(m("value"));for(k=0;k<a.length;k++)b.push(m(a[k]))}return b.join("\n")},minifyQuirrel:function(a){function e(a,b,c){if(b.escape){var d=b.escape.length,e;for(;;){e=a.indexOf(b.close,c);if(e<0)return e;c=e+b.close.length;if(a.substr(e-d,d)===b.escape)continue;break}return e}return a.indexOf(b.close,c)}function f(a,b,c){var d=b.length,f,g;for(var h=0;h<a.length;h++)f=b.indexOf(a[h].open,c),f>=0&&f<d&&(g=a[h],g.start=d=f);return g?(g.end=e(b,g,g.start+g.open.length),g):null}function g(a,b){var c="",e,g=0,h=20;do{e=f(a,b,g);if(!e)break;e.start>g&&(c+=d(b.substr(g,e.start-g))),e.end>=0?(c+=e.handler(b.substr(e.start+e.open.length,e.end-(e.start+e.open.length))),g=e.end+e.close.length):g=-1,h--;if(h<0){console.log("GUARD REACHED",b);break}}while(e&&g<b.length&&g>=0);return e?c+=e.handler(b.substr(e.start+e.open.length)):c+=d(b.substr(g)),c.trim()}var b=[{open:'"',close:'"',escape:"\\",start:-1,end:-1,handler:function(a){return'"'+a+'"'}}],c=b.concat([{open:"--",close:"\n",escape:!1,start:-1,end:-1,handler:function(a){return" "}},{open:"(-",close:"-)",escape:!1,start:-1,end:-1,handler:function(a){return" "}}]),d=function(a){return a.replace(/(\s+)/g," ")};return g(b,g(c,a))}}}),define("rtext!templates/dialog.export.html",[],function(){return'<div class="pg-dialog-export">\n    <div class="pg-toolbar pg-actions"></div>\n    <div class="pg-toolbar pg-options"></div>\n    <form method="POST">\n        <div class="pg-export">\n            <textarea name="code" class="ui-widget-content"></textarea>\n            <input type="hidden" name="name" value="">\n        </div>\n    </form>\n</div>'}),function(a){a.fn.zclip=function(b){if(typeof b=="object"&&!b.length){var c=a.extend({path:"ZeroClipboard.swf",copy:null,beforeCopy:null,afterCopy:null,clickAfter:!0,setHandCursor:!0,setCSSEffects:!0},b);return this.each(function(){var b=a(this);if(b.is(":visible")&&(typeof c.copy=="string"||a.isFunction(c.copy))){ZeroClipboard.setMoviePath(c.path);var d=new ZeroClipboard.Client;a.isFunction(c.copy)&&b.bind("zClip_copy",c.copy),a.isFunction(c.beforeCopy)&&b.bind("zClip_beforeCopy",c.beforeCopy),a.isFunction(c.afterCopy)&&b.bind("zClip_afterCopy",c.afterCopy),d.setHandCursor(c.setHandCursor),d.setCSSEffects(c.setCSSEffects),d.addEventListener("mouseOver",function(a){b.trigger("mouseenter")}),d.addEventListener("mouseOut",function(a){b.trigger("mouseleave")}),d.addEventListener("mouseDown",function(e){b.trigger("mousedown"),a.isFunction(c.copy)?d.setText(b.triggerHandler("zClip_copy")):d.setText(c.copy),a.isFunction(c.beforeCopy)&&b.trigger("zClip_beforeCopy")}),d.addEventListener("complete",function(d,e){a.isFunction(c.afterCopy)?b.trigger("zClip_afterCopy"):(e.length>500&&(e=e.substr(0,500)+"...\n\n("+(e.length-500)+" characters not shown)"),b.removeClass("hover"),alert("Copied text to clipboard:\n\n "+e)),c.clickAfter&&b.trigger("click")}),d.glue(b[0],b.parent()[0]),a(window).bind("load resize",function(){d.reposition()})}})}if(typeof b=="string")return this.each(function(){var c=a(this);b=b.toLowerCase();var d=c.data("zclipId"),e=a("#"+d+".zclip");b=="remove"?(e.remove(),c.removeClass("active hover")):b=="hide"?(e.hide(),c.removeClass("active hover")):b=="show"&&e.show()})}}(jQuery);var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(a){return typeof a=="string"&&(a=document.getElementById(a)),a.addClass||(a.hide=function(){this.style.display="none"},a.show=function(){this.style.display=""},a.addClass=function(a){this.removeClass(a),this.className+=" "+a},a.removeClass=function(a){var b=this.className.split(/\s+/),c=-1;for(var d=0;d<b.length;d++)b[d]==a&&(c=d,d=b.length);return c>-1&&(b.splice(c,1),this.className=b.join(" ")),this},a.hasClass=function(a){return!!this.className.match(new RegExp("\\s*"+a+"\\s*"))}),a},setMoviePath:function(a){this.moviePath=a},dispatch:function(a,b,c){var d=this.clients[a];d&&d.receiveEvent(b,c)},register:function(a,b){this.clients[a]=b},getDOMObjectPosition:function(a,b){var c={left:0,top:0,width:a.width?a.width:a.offsetWidth,height:a.height?a.height:a.offsetHeight};return a&&a!=b&&(c.left+=a.offsetLeft,c.top+=a.offsetTop),c},Client:function(a){this.handlers={},this.id=ZeroClipboard.nextId++,this.movieId="ZeroClipboardMovie_"+this.id,ZeroClipboard.register(this.id,this),a&&this.glue(a)}};ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(a,b,c){this.domElement=ZeroClipboard.$(a);var d=99;this.domElement.style.zIndex&&(d=parseInt(this.domElement.style.zIndex,10)+1),typeof b=="string"?b=ZeroClipboard.$(b):typeof b=="undefined"&&(b=document.getElementsByTagName("body")[0]);var e=ZeroClipboard.getDOMObjectPosition(this.domElement,b);this.div=document.createElement("div"),this.div.className="zclip",this.div.id="zclip-"+this.movieId,$(this.domElement).data("zclipId","zclip-"+this.movieId);var f=this.div.style;f.position="absolute",f.left=""+e.left+"px",f.top=""+e.top+"px",f.width=""+e.width+"px",f.height=""+e.height+"px",f.zIndex=d;if(typeof c=="object")for(addedStyle in c)f[addedStyle]=c[addedStyle];b.appendChild(this.div),this.div.innerHTML=this.getHTML(e.width,e.height)},getHTML:function(a,b){var c="",d="id="+this.id+"&width="+a+"&height="+b;if(navigator.userAgent.match(/MSIE/)){var e=location.href.match(/^https/i)?"https://":"http://";c+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+e+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+a+'" height="'+b+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+d+'"/><param name="wmode" value="transparent"/></object>'}else c+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+a+'" height="'+b+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+d+'" wmode="transparent" />';return c},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide(),this.div.innerHTML="";var a=document.getElementsByTagName("body")[0];try{a.removeChild(this.div)}catch(b){}this.domElement=null,this.div=null}},reposition:function(a){a&&(this.domElement=ZeroClipboard.$(a),this.domElement||this.hide());if(this.domElement&&this.div){var b=ZeroClipboard.getDOMObjectPosition(this.domElement),c=this.div.style;c.left=""+b.left+"px",c.top=""+b.top+"px"}},setText:function(a){this.clipText=a,this.ready&&this.movie.setText(a)},addEventListener:function(a,b){a=a.toString().toLowerCase().replace(/^on/,""),this.handlers[a]||(this.handlers[a]=[]),this.handlers[a].push(b)},setHandCursor:function(a){this.handCursorEnabled=a,this.ready&&this.movie.setHandCursor(a)},setCSSEffects:function(a){this.cssEffects=!!a},receiveEvent:function(a,b){a=a.toString().toLowerCase().replace(/^on/,"");switch(a){case"load":this.movie=document.getElementById(this.movieId);if(!this.movie){var c=this;setTimeout(function(){c.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var c=this;setTimeout(function(){c.receiveEvent("load",null)},100),this.ready=!0;return}this.ready=!0;try{this.movie.setText(this.clipText)}catch(d){}try{this.movie.setHandCursor(this.handCursorEnabled)}catch(d){}break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[a])for(var e=0,f=this.handlers[a].length;e<f;e++){var g=this.handlers[a][e];typeof g=="function"?g(this,b):typeof g=="object"&&g.length==2?g[0][g[1]](this,b):typeof g=="string"&&window[g](this,b)}}},define("libs/jquery/zclip/jquery.zclip",function(){}),define("app/util/dialog-export",["rtext!templates/dialog.export.html","app/util/ui","app/util/dom","app/util/notification","libs/jquery/ui/jquery.ui.core","libs/jquery/ui/jquery.ui.position","libs/jquery/ui/jquery.ui.widget","libs/jquery/ui/jquery.ui.mouse","libs/jquery/ui/jquery.ui.resizable","libs/jquery/ui/jquery.ui.button","libs/jquery/ui/jquery.ui.sortable","libs/jquery/ui/jquery.ui.draggable","libs/jquery/ui/jquery.ui.dialog","libs/jquery/zclip/jquery.zclip"],function(a,b,c,d){function m(){setTimeout(function(){c.selectText(f.get(0))},100)}function n(){g.dialog("option","position","center")}function o(){g=$("body").append(a).find(".pg-dialog-export").dialog({modal:!0,autoOpen:!1,resizable:!1,width:820,height:480,dialogClass:"pg-el",closeOnEscape:!0,buttons:[{text:"Copy",click:function(){return g.dialog("close"),!0}},{text:"Download",click:function(){d.quick("code downloaded"),i.submit(),g.dialog("close")}}]}),h=g.find(".pg-actions"),elOptions=g.find(".pg-options"),f=g.find(".pg-export textarea"),i=g.find("form"),i.attr("action",e),i.submit(function(a){return k?k.call(this,f.text(),l):!0}),f.click(function(){m()}),g.bind("dialogopen",function(){$(window).on("resize",n)}),g.bind("dialogclose",function(){$(window).off("resize",n)})}var e="http://api.reportgrid.com/services/viz/proxy/download-code.php",f,g,h,i,j,k,l,p=!1;return function(a,c,e,i,n){function q(a){g.find("input[name=name]").val("precog."+a.token),elOptions.find("*").remove(),a.buildOptions&&a.buildOptions(elOptions,function(){f.text(a.handler(e,a.options)),m()}),f.text(a.handler(e,a.options)),m()}k=n,p||(o(),p=!0),h.find("*").remove(),elOptions.find("*").remove(),i=i||c[0].token,b.radios(h,$(c).map(function(a,b){return b.token===i&&(l=b),{label:b.name,handler:function(){return l=b,q(b),!0},group:"actions",checked:b.token===i}})),h.find(".ui-button:first").click(),g.dialog("option","position","center"),g.dialog("option","title",a),g.dialog("open"),j?$(window).trigger("resize"):j=g.dialog("widget").find(".ui-dialog-buttonpane button.ui-button:first").css({zIndex:1e6}).zclip({path:"js/libs/jquery/zclip/ZeroClipboard.swf",copy:function(){return""+f.val()},afterCopy:function(){d.quick("copied to clipboard")}})}}),define("rtext!templates/dialog.lineinput.html",[],function(){return'<div class="pg-dialog-lineinput">\n    <div class="pg-message ui-content ui-state-highlight ui-corner-all"></div>\n    <div class="pg-lineinput">\n        <label for="pg-input-lineinput"></label> <input id="pg-input-lineinput" type="text" name="value" class="ui-widget-content" multiple/>\n    </div>\n    <div class="pg-error ui-content ui-state-error ui-corner-all"></div>\n</div>'}),define("app/util/dialog-lineinput",["rtext!templates/dialog.lineinput.html","app/util/ui","app/util/dom","libs/jquery/ui/jquery.ui.core","libs/jquery/ui/jquery.ui.position","libs/jquery/ui/jquery.ui.widget","libs/jquery/ui/jquery.ui.mouse","libs/jquery/ui/jquery.ui.resizable","libs/jquery/ui/jquery.ui.button","libs/jquery/ui/jquery.ui.sortable","libs/jquery/ui/jquery.ui.draggable","libs/jquery/ui/jquery.ui.dialog"],function(a,b,c){function i(a){d.find(".pg-error").hide();var b=d.find(".pg-lineinput input[type="+g+"]").val();if(f){var c=f(b);if(c)return d.find(".pg-error").html(c).show(),a&&a.preventDefault(),!1}e&&e(b,h),d.dialog("close")}function j(){d.dialog("option","position","center")}function k(){d=$("body").append(a).find(".pg-dialog-lineinput:last").dialog({modal:!0,autoOpen:!1,resizable:!1,dialogClass:"pg-el",width:"400px",closeOnEscape:!0,buttons:[{text:"Close",click:function(){return d.dialog("close"),!0}},{text:"OK",click:i}]}),d.bind("dialogopen",function(){$(window).on("resize",j)}),d.bind("dialogclose",function(){$(window).off("resize",j)})}var d,e,f,g,h,l=!1;return function(a,b,c,j,m,n,o){o||(o="text"),g=o,l||(k(),l=!0);var p=d.find("input").outerHTML().replace(/type=["'][^"']*["']/,'type="'+o+'"');d.find("input").replaceWith(p),f=m,e=n,d.find(".pg-message").html(b||""),d.find(".pg-lineinput input[type="+g+"]").val(j||"").keyup(function(a){a.keyCode==13&&i()}).change(function(a){h=a.target.files}),d.find(".pg-error").hide(),d.find("label").html(c&&c+":"||""),d.dialog("option","position","center"),d.dialog("option","title",a),d.dialog("open")}}),define("rtext!templates/toolbar.editor.html",[],function(){return'<div class="pg-toolbar-actions pg-tabs-container">\n    <div class="pg-editor-tabs">\n        <ul></ul>\n    </div>\n</div>\n<div class="pg-toolbar-context">\n</div>'}),function(a,b){function A(a,b){this._d=a,this._isUTC=!!b}function B(a){return a<0?Math.ceil(a):Math.floor(a)}function C(a){var b=this._data={},c=a.years||a.y||0,d=a.months||a.M||0,e=a.weeks||a.w||0,f=a.days||a.d||0,g=a.hours||a.h||0,h=a.minutes||a.m||0,i=a.seconds||a.s||0,j=a.milliseconds||a.ms||0;this._milliseconds=j+i*1e3+h*6e4+g*36e5,this._days=f+e*7,this._months=d+c*12,b.milliseconds=j%1e3,i+=B(j/1e3),b.seconds=i%60,h+=B(i/60),b.minutes=h%60,g+=B(h/60),b.hours=g%24,f+=B(g/24),f+=e*7,b.days=f%30,d+=B(f/30),b.months=d%12,c+=B(d/12),b.years=c}function D(a,b){var c=a+"";while(c.length<b)c="0"+c;return c}function E(a,b,c){var d=b._milliseconds,e=b._days,f=b._months,g;d&&a._d.setTime(+a+d*c),e&&a.date(a.date()+e*c),f&&(g=a.date(),a.date(1).month(a.month()+f*c).date(Math.min(g,a.daysInMonth())))}function F(a){return Object.prototype.toString.call(a)==="[object Array]"}function G(b){return new a(b[0],b[1]||0,b[2]||1,b[3]||0,b[4]||0,b[5]||0,b[6]||0)}function H(b,d){function q(d){var l,r;switch(d){case"M":return e+1;case"Mo":return e+1+o(e+1);case"MM":return D(e+1,2);case"MMM":return c.monthsShort[e];case"MMMM":return c.months[e];case"D":return f;case"Do":return f+o(f);case"DD":return D(f,2);case"DDD":return l=new a(g,e,f),r=new a(g,0,1),~~((l-r)/864e5+1.5);case"DDDo":return l=q("DDD"),l+o(l);case"DDDD":return D(q("DDD"),3);case"d":return h;case"do":return h+o(h);case"ddd":return c.weekdaysShort[h];case"dddd":return c.weekdays[h];case"w":return l=new a(g,e,f-h+5),r=new a(l.getFullYear(),0,4),~~((l-r)/864e5/7+1.5);case"wo":return l=q("w"),l+o(l);case"ww":return D(q("w"),2);case"YY":return D(g%100,2);case"YYYY":return g;case"a":return p?p(i,j,!1):i>11?"pm":"am";case"A":return p?p(i,j,!0):i>11?"PM":"AM";case"H":return i;case"HH":return D(i,2);case"h":return i%12||12;case"hh":return D(i%12||12,2);case"m":return j;case"mm":return D(j,2);case"s":return k;case"ss":return D(k,2);case"S":return~~(m/100);case"SS":return D(~~(m/10),2);case"SSS":return D(m,3);case"Z":return(n<0?"-":"+")+D(~~(Math.abs(n)/60),2)+":"+D(~~(Math.abs(n)%60),2);case"ZZ":return(n<0?"-":"+")+D(~~(10*Math.abs(n)/6),4);case"L":case"LL":case"LLL":case"LLLL":case"LT":return H(b,c.longDateFormat[d]);default:return d.replace(/(^\[)|(\\)|\]$/g,"")}}var e=b.month(),f=b.date(),g=b.year(),h=b.day(),i=b.hours(),j=b.minutes(),k=b.seconds(),m=b.milliseconds(),n=-b.zone(),o=c.ordinal,p=c.meridiem;return d.replace(l,q)}function I(a){switch(a){case"DDDD":return p;case"YYYY":return q;case"S":case"SS":case"SSS":case"DDD":return o;case"MMM":case"MMMM":case"ddd":case"dddd":case"a":case"A":return r;case"Z":case"ZZ":return s;case"T":return t;case"MM":case"DD":case"dd":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return n;default:return new RegExp(a.replace("\\",""))}}function J(a,b,d,e){var f;switch(a){case"M":case"MM":d[1]=b==null?0:~~b-1;break;case"MMM":case"MMMM":for(f=0;f<12;f++)if(c.monthsParse[f].test(b)){d[1]=f;break}break;case"D":case"DD":case"DDD":case"DDDD":d[2]=~~b;break;case"YY":b=~~b,d[0]=b+(b>70?1900:2e3);break;case"YYYY":d[0]=~~Math.abs(b);break;case"a":case"A":e.isPm=(b+"").toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":d[3]=~~b;break;case"m":case"mm":d[4]=~~b;break;case"s":case"ss":d[5]=~~b;break;case"S":case"SS":case"SSS":d[6]=~~(("0."+b)*1e3);break;case"Z":case"ZZ":e.isUTC=!0,f=(b+"").match(x),f&&f[1]&&(e.tzh=~~f[1]),f&&f[2]&&(e.tzm=~~f[2]),f&&f[0]==="+"&&(e.tzh=-e.tzh,e.tzm=-e.tzm)}}function K(b,c){var d=[0,0,1,0,0,0,0],e={tzh:0,tzm:0},f=c.match(l),g,h;for(g=0;g<f.length;g++)h=(I(f[g]).exec(b)||[])[0],b=b.replace(I(f[g]),""),J(f[g],h,d,e);return e.isPm&&d[3]<12&&(d[3]+=12),e.isPm===!1&&d[3]===12&&(d[3]=0),d[3]+=e.tzh,d[4]+=e.tzm,e.isUTC?new a(a.UTC.apply({},d)):G(d)}function L(a,b){var c=Math.min(a.length,b.length),d=Math.abs(a.length-b.length),e=0,f;for(f=0;f<c;f++)~~a[f]!==~~b[f]&&e++;return e+d}function M(a,b){var c,d=a.match(m)||[],e,f=99,g,h,i;for(g=0;g<b.length;g++)h=K(a,b[g]),e=H(new A(h),b[g]).match(m)||[],i=L(d,e),i<f&&(f=i,c=h);return c}function N(b){var c="YYYY-MM-DDT",d;if(u.exec(b)){for(d=0;d<4;d++)if(w[d][1].exec(b)){c+=w[d][0];break}return s.exec(b)?K(b,c+" Z"):K(b,c)}return new a(b)}function O(a,b,d,e){var f=c.relativeTime[a];return typeof f=="function"?f(b||1,!!d,a,e):f.replace(/%d/i,b||1)}function P(a,b){var c=e(Math.abs(a)/1e3),d=e(c/60),f=e(d/60),g=e(f/24),h=e(g/365),i=c<45&&["s",c]||d===1&&["m"]||d<45&&["mm",d]||f===1&&["h"]||f<22&&["hh",f]||g===1&&["d"]||g<=25&&["dd",g]||g<=45&&["M"]||g<345&&["MM",e(g/30)]||h===1&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,O.apply({},i)}function Q(a,b){c.fn[a]=function(a){var c=this._isUTC?"UTC":"";return a!=null?(this._d["set"+c+b](a),this):this._d["get"+c+b]()}}function R(a){c.duration.fn[a]=function(){return this._data[a]}}function S(a,b){c.duration.fn["as"+a]=function(){return+this/b}}var c,d="1.6.2",e=Math.round,f,g={},h="en",i=typeof module!="undefined",j="months|monthsShort|monthsParse|weekdays|weekdaysShort|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),k=/^\/?Date\((\-?\d+)/i,l=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|LT|LL?L?L?)/g,m=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,n=/\d\d?/,o=/\d{1,3}/,p=/\d{3}/,q=/\d{4}/,r=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,s=/Z|[\+\-]\d\d:?\d\d/i,t=/T/i,u=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,v="YYYY-MM-DDTHH:mm:ssZ",w=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],x=/([\+\-]|\d\d)/gi,y="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),z={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6};c=function(d,e){if(d===null||d==="")return null;var f,g,h;return c.isMoment(d)?(f=new a(+d._d),h=d._isUTC):e?F(e)?f=M(d,e):f=K(d,e):(g=k.exec(d),f=d===b?new a:g?new a(+g[1]):d instanceof a?d:F(d)?G(d):typeof d=="string"?N(d):new a(d)),new A(f,h)},c.utc=function(b,d){return F(b)?new A(new a(a.UTC.apply({},b)),!0):d&&b?c(b+" +0000",d+" Z").utc():c(b&&!s.exec(b)?b+"+0000":b).utc()},c.unix=function(a){return c(a*1e3)},c.duration=function(a,b){var d=c.isDuration(a),e=typeof a=="number",f=d?a._data:e?{}:a;return e&&(b?f[b]=a:f.milliseconds=a),new C(f)},c.humanizeDuration=function(a,b,d){return c.duration(a,b===!0?null:b).humanize(b===!0?!0:d)},c.version=d,c.defaultFormat=v,c.lang=function(a,b){var d,e,f=[];if(!a)return h;if(b){for(d=0;d<12;d++)f[d]=new RegExp("^"+b.months[d]+"|^"+b.monthsShort[d].replace(".",""),"i");b.monthsParse=b.monthsParse||f,g[a]=b}if(g[a]){for(d=0;d<j.length;d++)c[j[d]]=g[a][j[d]]||g.en[j[d]];h=a}else i&&(e=require("./lang/"+a),c.lang(a,e))},c.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:!1,calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return~~(a%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th"}}),c.isMoment=function(a){return a instanceof A},c.isDuration=function(a){return a instanceof C},c.fn=A.prototype={clone:function(){return c(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(a){return H(this,a?a:c.defaultFormat)},add:function(a,b){var d=b?c.duration(+b,a):c.duration(a);return E(this,d,1),this},subtract:function(a,b){var d=b?c.duration(+b,a):c.duration(a);return E(this,d,-1),this},diff:function(a,b,d){var f=this._isUTC?c(a).utc():c(a).local(),g=(this.zone()-f.zone())*6e4,h=this._d-f._d-g,i=this.year()-f.year(),j=this.month()-f.month(),k=this.date()-f.date(),l;return b==="months"?l=i*12+j+k/30:b==="years"?l=i+(j+k/30)/12:l=b==="seconds"?h/1e3:b==="minutes"?h/6e4:b==="hours"?h/36e5:b==="days"?h/864e5:b==="weeks"?h/6048e5:h,d?l:e(l)},from:function(a,b){return c.duration(this.diff(a)).humanize(!b)},fromNow:function(a){return this.from(c(),a)},calendar:function(){var a=this.diff(c().sod(),"days",!0),b=c.calendar,d=b.sameElse,e=a<-6?d:a<-1?b.lastWeek:a<0?b.lastDay:a<1?b.sameDay:a<2?b.nextDay:a<7?b.nextWeek:d;return this.format(typeof e=="function"?e.apply(this):e)},isLeapYear:function(){var a=this.year();return a%4===0&&a%100!==0||a%400===0},isDST:function(){return this.zone()<c([this.year()]).zone()||this.zone()<c([this.year(),5]).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return a==null?b:this.add({d:a-b})},sod:function(){return c(this).hours(0).minutes(0).seconds(0).milliseconds(0)},eod:function(){return this.sod().add({d:1,ms:-1})},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return c(this).month(this.month()+1).date(0).date()}};for(f=0;f<y.length;f++)Q(y[f].toLowerCase(),y[f]);Q("year","FullYear"),c.duration.fn=C.prototype={weeks:function(){return B(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months*2592e6},humanize:function(a){var b=+this,d=c.relativeTime,e=P(b,!a);return a&&(e=(b<=0?d.past:d.future).replace(/%s/i,e)),e}};for(f in z)z.hasOwnProperty(f)&&(S(f,z[f]),R(f.toLowerCase()));S("Weeks",6048e5),i&&(module.exports=c),typeof window!="undefined"&&typeof ender=="undefined"&&(window.moment=c),typeof define=="function"&&define.amd&&define("moment",[],function(){return c})}(Date),define("libs/moment/moment",function(){}),define("rtext!templates/toolbar.status.html",[],function(){return'<div class="pg-toolbar-actions pg-tabs-container">\n    <button class="pg-editor-settings-trigger ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-secondary" role="button" aria-disabled="false">\n        <span class="ui-button-text">tab size: <span class="pg-tab-size"></span></span>\n        <span class="ui-button-icon-secondary ui-icon ui-icon-triangle-1-n"></span>\n    </button>\n    |\n    line: <span class="pg-line">1</span>,\n    column: <span class="pg-column">1</span>\n    |\n    words: <span class="pg-words">0</span>,\n    characters: <span class="pg-characters">0</span>\n</div>\n<div class="pg-toolbar-context">\n    <div class="pg-container pg-progressbar"></div>\n    <div class="pg-container pg-execution-time"></div>\n</div>'}),define("rtext!templates/menu.editor.status.html",[],function(){return'<div class="pg-el pg-menu-editor-status">\n    <ul>\n        <li class="pg-change-orientation"><a href="#">change orientation</a></li>\n        <li class="pg-soft-tabs"><a href="#">indent using spaces</a></li>\n        <li data-tab-size="1" class="pg-tab-size-option"><a href="#">tab size: 1</a></li>\n        <li data-tab-size="2" class="pg-tab-size-option"><a href="#">tab size: 2</a></li>\n        <li data-tab-size="3" class="pg-tab-size-option"><a href="#">tab size: 3</a></li>\n        <li data-tab-size="4" class="pg-tab-size-option"><a href="#">tab size: 4</a></li>\n        <li data-tab-size="5" class="pg-tab-size-option"><a href="#">tab size: 5</a></li>\n        <li data-tab-size="6" class="pg-tab-size-option"><a href="#">tab size: 6</a></li>\n        <li data-tab-size="7" class="pg-tab-size-option"><a href="#">tab size: 7</a></li>\n        <li data-tab-size="8" class="pg-tab-size-option k-last"><a href="#">tab size: 8</a></li>\n    </ul>\n</div>'}),define("app/bar-status",["app/util/ui","rtext!templates/toolbar.status.html","rtext!templates/menu.editor.status.html"],function(a,b,c){return function(d,e,f){function i(){var a=""+e.getTabSize();d.find(".pg-tab-size").text(a),h.find(".pg-tab-size-option").each(function(){$(this).attr("data-tab-size")===a?$(this).addClass("ui-state-active"):$(this).removeClass("ui-state-active")})}function j(){var a=e.getUseSoftTabs();h.find(".pg-soft-tabs").each(function(){a?$(this).addClass("ui-state-active"):$(this).removeClass("ui-state-active")})}var g;d.append(b);var h=a.contextmenu(c);d.find(".pg-editor-settings-trigger").click(function(){if(h.is(":visible")){h.hide();return}var a=$(this).offset();h.css({position:"absolute",top:a.top-h.outerHeight()+"px",left:a.left+"px"}).show()}),h.find(".pg-tab-size-option").click(function(){e.setTabSize(parseInt($(this).attr("data-tab-size")))}),h.find(".pg-soft-tabs").click(function(){e.setUseSoftTabs(!e.getUseSoftTabs())}),h.find(".pg-change-orientation").click(function(){f.setIoVertical(!f.isIoVertical())}),$(e).on("tabSizeChanged",i),$(e).on("useSoftTabsChanged",j),$(e).on("change",function(a,b){d.find(".pg-words").text(b.split(/\b[a-z0-9]+?\b/gi).length-1),d.find(".pg-characters").text(b.length)}),$(e).on("changeCursor",function(a,b){d.find(".pg-line").text(b.row+1),d.find(".pg-column").text(b.column+1)}),i(),j();var k=a.progressbar(d.find(".pg-progressbar"));k.hide();var l=d.find(".pg-execution-time");l.hide();var m=0,n={startTime:null,killProgress:null,lastExecution:2e3,start:function(){m++,clearInterval(n.killProgress),n.startTime=(new Date).getTime(),n.update(),n.killProgress=setInterval(function(){n.update()},50),l.hide(),k.show()},update:function(){var a=(new Date).getTime()-n.startTime,b=parseInt(a/n.lastExecution*1e3)/10;b>100?b=100:b<0&&(b=0),k.progressbar("value",b)},end:function(a){a&&(n.lastExecution=(new Date).getTime()-n.startTime,l.html("query time "+n.lastExecution+" ms")),m--;if(m>0)return;k.hide(),l.show(),clearInterval(n.killProgress)}},o=2;return g={startRequest:function(){n.start()},endRequest:function(a){n.end(a)}}}}),define("app/config/themes",[],function(){return[{token:"gray",name:"gray",ui:"gray",group:"light",editor:{ace:"tomorrow"}},{token:"blue",name:"blue",ui:"blue",group:"light",editor:{ace:"idle_fingers"}},{token:"dark",name:"dark",ui:"dark",group:"dark",editor:{ace:"solarized_dark"}},{token:"black",name:"black",ui:"black",group:"dark",editor:{ace:"merbivore"}}]}),define("app/theme",["app/config/themes"],function(a){function e(a){return b+a+"/jquery-ui.css"}function f(a,b){function c(){try{var d=document.styleSheets;for(var e=0,f=d.length;e<f;e++)d[e].href==a&&d[e].cssRules;setTimeout(b,0)}catch(g){setTimeout(c,50)}}c()}function g(a,b){var c=e(a),d=$('<link href="'+c+'" type="text/css" rel="Stylesheet" class="ui-theme" />');$.browser.safari?f(c,b):d.on("load",b),$("head").append(d),$("link.ui-theme").size()>3&&$("link.ui-theme:first").remove()}var b="css/jquery/ui/",c={},d={};$.each(a,function(){c[this.token]=this,d[this.group]=d[this.group]||{},d[this.group][this.token]=this});var h={current:null,set:function(a){if(this.current===a)return;this.current=a,$(h).trigger("change",a),g(c[a].ui,function(){$(h).trigger("changed",a)})},list:function(){return a},map:function(){return c},groups:function(){return d},getEditorTheme:function(a,b){return c[a].editor[b]}};return h}),define("ace/lib/regexp",["require","exports","module"],function(a,b,c){function g(a){return(a.global?"g":"")+(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.extended?"x":"")+(a.sticky?"y":"")}function h(a,b,c){if(Array.prototype.indexOf)return a.indexOf(b,c);for(var d=c||0;d<a.length;d++)if(a[d]===b)return d;return-1}var d={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},e=d.exec.call(/()??/,"")[1]===undefined,f=function(){var a=/^/g;return d.test.call(a,""),!a.lastIndex}();if(f&&e)return;RegExp.prototype.exec=function(a){var b=d.exec.apply(this,arguments),c,i;if(typeof a=="string"&&b){!e&&b.length>1&&h(b,"")>-1&&(i=RegExp(this.source,d.replace.call(g(this),"g","")),d.replace.call(a.slice(b.index),i,function(){for(var a=1;a<arguments.length-2;a++)arguments[a]===undefined&&(b[a]=undefined)}));if(this._xregexp&&this._xregexp.captureNames)for(var j=1;j<b.length;j++)c=this._xregexp.captureNames[j-1],c&&(b[c]=b[j]);!f&&this.global&&!b[0].length&&this.lastIndex>b.index&&this.lastIndex--}return b},f||(RegExp.prototype.test=function(a){var b=d.exec.call(this,a);return b&&this.global&&!b[0].length&&this.lastIndex>b.index&&this.lastIndex--,!!b})}),define("ace/lib/es5-shim",["require","exports","module"],function(a,b,c){function p(a){try{return Object.defineProperty(a,"sentinel",{}),"sentinel"in a}catch(b){}}Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=g.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,h=c.apply(f,d.concat(g.call(arguments)));return h!==null&&Object(h)===h?h:f}return c.apply(b,d.concat(g.call(arguments)))};return e});var d=Function.prototype.call,e=Array.prototype,f=Object.prototype,g=e.slice,h=d.bind(f.toString),i=d.bind(f.hasOwnProperty),j,k,l,m,n;if(n=i(f,"__defineGetter__"))j=d.bind(f.__defineGetter__),k=d.bind(f.__defineSetter__),l=d.bind(f.__lookupGetter__),m=d.bind(f.__lookupSetter__);Array.isArray||(Array.isArray=function(b){return h(b)=="[object Array]"}),Array.prototype.forEach||(Array.prototype.forEach=function(b){var c=G(this),d=arguments[1],e=0,f=c.length>>>0;if(h(b)!="[object Function]")throw new TypeError;while(e<f)e in c&&b.call(d,c[e],e,c),e++}),Array.prototype.map||(Array.prototype.map=function(b){var c=G(this),d=c.length>>>0,e=Array(d),f=arguments[1];if(h(b)!="[object Function]")throw new TypeError;for(var g=0;g<d;g++)g in c&&(e[g]=b.call(f,c[g],g,c));return e}),Array.prototype.filter||(Array.prototype.filter=function(b){var c=G(this),d=c.length>>>0,e=[],f=arguments[1];if(h(b)!="[object Function]")throw new TypeError;for(var g=0;g<d;g++)g in c&&b.call(f,c[g],g,c)&&e.push(c[g]);return e}),Array.prototype.every||(Array.prototype.every=function(b){var c=G(this),d=c.length>>>0,e=arguments[1];if(h(b)!="[object Function]")throw new TypeError;for(var f=0;f<d;f++)if(f in c&&!b.call(e,c[f],f,c))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(b){var c=G(this),d=c.length>>>0,e=arguments[1];if(h(b)!="[object Function]")throw new TypeError;for(var f=0;f<d;f++)if(f in c&&b.call(e,c[f],f,c))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(b){var c=G(this),d=c.length>>>0;if(h(b)!="[object Function]")throw new TypeError;if(!d&&arguments.length==1)throw new TypeError;var e=0,f;if(arguments.length>=2)f=arguments[1];else do{if(e in c){f=c[e++];break}if(++e>=d)throw new TypeError}while(!0);for(;e<d;e++)e in c&&(f=b.call(void 0,f,c[e],e,c));return f}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(b){var c=G(this),d=c.length>>>0;if(h(b)!="[object Function]")throw new TypeError;if(!d&&arguments.length==1)throw new TypeError;var e,f=d-1;if(arguments.length>=2)e=arguments[1];else do{if(f in c){e=c[f--];break}if(--f<0)throw new TypeError}while(!0);do f in this&&(e=b.call(void 0,e,c[f],f,c));while(f--);return e}),Array.prototype.indexOf||(Array.prototype.indexOf=function(b){var c=G(this),d=c.length>>>0;if(!d)return-1;var e=0;arguments.length>1&&(e=E(arguments[1])),e=e>=0?e:Math.max(0,d+e);for(;e<d;e++)if(e in c&&c[e]===b)return e;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(b){var c=G(this),d=c.length>>>0;if(!d)return-1;var e=d-1;arguments.length>1&&(e=Math.min(e,E(arguments[1]))),e=e>=0?e:d-Math.abs(e);for(;e>=0;e--)if(e in c&&b===c[e])return e;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(b){return b.__proto__||(b.constructor?b.constructor.prototype:f)});if(!Object.getOwnPropertyDescriptor){var o="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(b,c){if(typeof b!="object"&&typeof b!="function"||b===null)throw new TypeError(o+b);if(!i(b,c))return;var d,e,g;d={enumerable:!0,configurable:!0};if(n){var h=b.__proto__;b.__proto__=f;var e=l(b,c),g=m(b,c);b.__proto__=h;if(e||g)return e&&(d.get=e),g&&(d.set=g),d}return d.value=b[c],d}}Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(b){return Object.keys(b)}),Object.create||(Object.create=function(b,c){var d;if(b===null)d={__proto__:null};else{if(typeof b!="object")throw new TypeError("typeof prototype["+typeof b+"] != 'object'");var e=function(){};e.prototype=b,d=new e,d.__proto__=b}return c!==void 0&&Object.defineProperties(d,c),d});if(Object.defineProperty){var q=p({}),r=typeof document=="undefined"||p(document.createElement("div"));if(!q||!r)var s=Object.defineProperty}if(!Object.defineProperty||s){var t="Property description must be an object: ",u="Object.defineProperty called on non-object: ",v="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(b,c,d){if(typeof b!="object"&&typeof b!="function"||b===null)throw new TypeError(u+b);if(typeof d!="object"&&typeof d!="function"||d===null)throw new TypeError(t+d);if(s)try{return s.call(Object,b,c,d)}catch(e){}if(i(d,"value"))if(n&&(l(b,c)||m(b,c))){var g=b.__proto__;b.__proto__=f,delete b[c],b[c]=d.value,b.__proto__=g}else b[c]=d.value;else{if(!n)throw new TypeError(v);i(d,"get")&&j(b,c,d.get),i(d,"set")&&k(b,c,d.set)}return b}}Object.defineProperties||(Object.defineProperties=function(b,c){for(var d in c)i(c,d)&&Object.defineProperty(b,d,c[d]);return b}),Object.seal||(Object.seal=function(b){return b}),Object.freeze||(Object.freeze=function(b){return b});try{Object.freeze(function(){})}catch(w){Object.freeze=function(b){return function(c){return typeof c=="function"?c:b(c)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(b){return b}),Object.isSealed||(Object.isSealed=function(b){return!1}),Object.isFrozen||(Object.isFrozen=function(b){return!1}),Object.isExtensible||(Object.isExtensible=function(b){if(Object(b)===b)throw new TypeError;var c="";while(i(b,c))c+="?";b[c]=!0;var d=i(b,c);return delete b[c],d});if(!Object.keys){var x=!0,y=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],z=y.length;for(var A in{toString:null})x=!1;Object.keys=function H(a){if(typeof a!="object"&&typeof a!="function"||a===null)throw new TypeError("Object.keys called on a non-object");var H=[];for(var b in a)i(a,b)&&H.push(b);if(x)for(var c=0,d=z;c<d;c++){var e=y[c];i(a,e)&&H.push(e)}return H}}if(!Date.prototype.toISOString||(new Date(-621987552e5)).toISOString().indexOf("-000001")===-1)Date.prototype.toISOString=function(){var b,c,d,e;if(!isFinite(this))throw new RangeError;b=[this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],e=this.getUTCFullYear(),e=(e<0?"-":e>9999?"+":"")+("00000"+Math.abs(e)).slice(0<=e&&e<=9999?-4:-6),c=b.length;while(c--)d=b[c],d<10&&(b[c]="0"+d);return e+"-"+b.slice(0,2).join("-")+"T"+b.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"};Date.now||(Date.now=function(){return(new Date).getTime()}),Date.prototype.toJSON||(Date.prototype.toJSON=function(b){if(typeof this.toISOString!="function")throw new TypeError;return this.toISOString()}),Date.parse("+275760-09-13T00:00:00.000Z")!==864e13&&(Date=function(a){var b=function e(b,c,d,f,g,h,i){var j=arguments.length;if(this instanceof a){var k=j==1&&String(b)===b?new a(e.parse(b)):j>=7?new a(b,c,d,f,g,h,i):j>=6?new a(b,c,d,f,g,h):j>=5?new a(b,c,d,f,g):j>=4?new a(b,c,d,f):j>=3?new a(b,c,d):j>=2?new a(b,c):j>=1?new a(b):new a;return k.constructor=e,k}return a.apply(this,arguments)},c=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");for(var d in a)b[d]=a[d];return b.now=a.now,b.UTC=a.UTC,b.prototype=a.prototype,b.prototype.constructor=b,b.parse=function(d){var e=c.exec(d);if(e){e.shift();for(var f=1;f<7;f++)e[f]=+(e[f]||(f<3?1:0)),f==1&&e[f]--;var g=+e.pop(),h=+e.pop(),i=e.pop(),j=0;if(i){if(h>23||g>59)return NaN;j=(h*60+g)*6e4*(i=="+"?-1:1)}var k=+e[0];return 0<=k&&k<=99?(e[0]=k+400,a.UTC.apply(this,e)+j-126227808e5):a.UTC.apply(this,e)+j}return a.parse.apply(this,arguments)},b}(Date));var B="	\n\f\r Â áá ââââââââââââ¯âã\u2028\u2029ï»¿";if(!String.prototype.trim||B.trim()){B="["+B+"]";var C=new RegExp("^"+B+B+"*"),D=new RegExp(B+B+"*$");String.prototype.trim=function(){return String(this).replace(C,"").replace(D,"")}}var E=function(a){return a=+a,a!==a?a=0:a!==0&&a!==1/0&&a!==-Infinity&&(a=(a>0||-1)*Math.floor(Math.abs(a))),a},F="a"[0]!="a",G=function(a){if(a==null)throw new TypeError;return F&&typeof a=="string"&&a?a.split(""):Object(a)}}),define("ace/lib/fixoldbrowsers",["require","exports","module","./regexp","./es5-shim"],function(a,b,c){a("./regexp"),a("./es5-shim")}),define("ace/lib/dom",["require","exports","module"],function(a,b,c){var d="http://www.w3.org/1999/xhtml";b.createElement=function(a,b){return document.createElementNS?document.createElementNS(b||d,a):document.createElement(a)},b.setText=function(a,b){a.innerText!==undefined&&(a.innerText=b),a.textContent!==undefined&&(a.textContent=b)},b.hasCssClass=function(a,b){var c=a.className.split(/\s+/g);return c.indexOf(b)!==-1},b.addCssClass=function(a,c){b.hasCssClass(a,c)||(a.className+=" "+c)},b.removeCssClass=function(a,b){var c=a.className.split(/\s+/g);for(;;){var d=c.indexOf(b);if(d==-1)break;c.splice(d,1)}a.className=c.join(" ")},b.toggleCssClass=function(a,b){var c=a.className.split(/\s+/g),d=!0;for(;;){var e=c.indexOf(b);if(e==-1)break;d=!1,c.splice(e,1)}return d&&c.push(b),a.className=c.join(" "),d},b.setCssClass=function(a,c,d){d?b.addCssClass(a,c):b.removeCssClass(a,c)},b.hasCssString=function(a,b){var c=0,d;b=b||document;if(b.createStyleSheet&&(d=b.styleSheets)){while(c<d.length)if(d[c++].owningElement.id===a)return!0}else if(d=b.getElementsByTagName("style"))while(c<d.length)if(d[c++].id===a)return!0;return!1},b.importCssString=function(c,e,f){f=f||document;if(e&&b.hasCssString(e,f))return null;var g;if(f.createStyleSheet)g=f.createStyleSheet(),g.cssText=c,e&&(g.owningElement.id=e);else{g=f.createElementNS?f.createElementNS(d,"style"):f.createElement("style"),g.appendChild(f.createTextNode(c)),e&&(g.id=e);var h=f.getElementsByTagName("head")[0]||f.documentElement;h.appendChild(g)}},b.importCssStylsheet=function(a,c){if(c.createStyleSheet)c.createStyleSheet(a);else{var d=b.createElement("link");d.rel="stylesheet",d.href=a;var e=c.getElementsByTagName("head")[0]||c.documentElement;e.appendChild(d)}},b.getInnerWidth=function(a){return parseInt(b.computedStyle(a,"paddingLeft"),10)+parseInt(b.computedStyle(a,"paddingRight"),10)+a.clientWidth},b.getInnerHeight=function(a){return parseInt(b.computedStyle(a,"paddingTop"),10)+parseInt(b.computedStyle(a,"paddingBottom"),10)+a.clientHeight},window.pageYOffset!==undefined?(b.getPageScrollTop=function(){return window.pageYOffset},b.getPageScrollLeft=function(){return window.pageXOffset}):(b.getPageScrollTop=function(){return document.body.scrollTop},b.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?b.computedStyle=function(a,b){return b?(window.getComputedStyle(a,"")||{})[b]||"":window.getComputedStyle(a,"")||{}}:b.computedStyle=function(a,b){return b?a.currentStyle[b]:a.currentStyle},b.scrollbarWidth=function(a){var c=b.createElement("p");c.style.width="100%",c.style.minWidth="0px",c.style.height="200px";var d=b.createElement("div"),e=d.style;e.position="absolute",e.left="-10000px",e.overflow="hidden",e.width="200px",e.minWidth="0px",e.height="150px",d.appendChild(c);var f=a.body||a.documentElement;f.appendChild(d);var g=c.offsetWidth;e.overflow="scroll";var h=c.offsetWidth;return g==h&&(h=d.clientWidth),f.removeChild(d),g-h},b.setInnerHtml=function(a,b){var c=a.cloneNode(!1);return c.innerHTML=b,a.parentNode.replaceChild(c,a),c},b.setInnerText=function(a,b){var c=a.ownerDocument;c.body&&"textContent"in c.body?a.textContent=b:a.innerText=b},b.getInnerText=function(a){var b=a.ownerDocument;return b.body&&"textContent"in b.body?a.textContent:a.innerText||a.textContent||""},b.getParentWindow=function(a){return a.defaultView||a.parentWindow}}),define("ace/lib/oop",["require","exports","module"],function(a,b,c){b.inherits=function(){var a=function(){};return function(b,c){a.prototype=c.prototype,b.super_=c.prototype,b.prototype=new a,b.prototype.constructor=b}}(),b.mixin=function(a,b){for(var c in b)a[c]=b[c]},b.implement=function(a,c){b.mixin(a,c)}}),define("ace/lib/keys",["require","exports","module","./oop"],function(a,b,c){var d=a("./oop"),e=function(){var a={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,meta:8,command:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}};for(var b in a.FUNCTION_KEYS){var c=a.FUNCTION_KEYS[b].toUpperCase();a[c]=parseInt(b,10)}return d.mixin(a,a.MODIFIER_KEYS),d.mixin(a,a.PRINTABLE_KEYS),d.mixin(a,a.FUNCTION_KEYS),a}();d.mixin(b,e),b.keyCodeToString=function(a){return(e[a]||String.fromCharCode(a)).toLowerCase()}}),define("ace/lib/useragent",["require","exports","module"],function(a,b,c){var d=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),e=navigator.userAgent;b.isWin=d=="win",b.isMac=d=="mac",b.isLinux=d=="linux",b.isIE=navigator.appName=="Microsoft Internet Explorer"&&parseFloat(navigator.userAgent.match(/MSIE ([0-9]+[\.0-9]+)/)[1]),b.isOldIE=b.isIE&&b.isIE<9,b.isGecko=b.isMozilla=window.controllers&&window.navigator.product==="Gecko",b.isOldGecko=b.isGecko&&parseInt((navigator.userAgent.match(/rv\:(\d+)/)||[])[1],10)<4,b.isOpera=window.opera&&Object.prototype.toString.call(window.opera)=="[object Opera]",b.isWebKit=parseFloat(e.split("WebKit/")[1])||undefined,b.isChrome=parseFloat(e.split(" Chrome/")[1])||undefined,b.isAIR=e.indexOf("AdobeAIR")>=0,b.isIPad=e.indexOf("iPad")>=0,b.isTouchPad=e.indexOf("TouchPad")>=0,b.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},b.getOS=function(){return b.isMac?b.OS.MAC:b.isLinux?b.OS.LINUX:b.OS.WINDOWS}}),define("ace/lib/event",["require","exports","module","./keys","./useragent","./dom"],function(a,b,c){function g(a,b,c){var f=0;!e.isOpera||"KeyboardEvent"in window||!e.isMac?f=0|(b.ctrlKey?1:0)|(b.altKey?2:0)|(b.shiftKey?4:0)|(b.metaKey?8:0):f=0|(b.metaKey?1:0)|(b.altKey?2:0)|(b.shiftKey?4:0)|(b.ctrlKey?8:0);if(c in d.MODIFIER_KEYS){switch(d.MODIFIER_KEYS[c]){case"Alt":f=2;break;case"Shift":f=4;break;case"Ctrl":f=1;break;default:f=8}c=0}return f&8&&(c==91||c==93)&&(c=0),!!f||c in d.FUNCTION_KEYS||c in d.PRINTABLE_KEYS?a(b,f,c):!1}var d=a("./keys"),e=a("./useragent"),f=a("./dom");b.addListener=function(a,b,c){if(a.addEventListener)return a.addEventListener(b,c,!1);if(a.attachEvent){var d=function(){c(window.event)};c._wrapper=d,a.attachEvent("on"+b,d)}},b.removeListener=function(a,b,c){if(a.removeEventListener)return a.removeEventListener(b,c,!1);a.detachEvent&&a.detachEvent("on"+b,c._wrapper||c)},b.stopEvent=function(a){return b.stopPropagation(a),b.preventDefault(a),!1},b.stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},b.preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},b.getButton=function(a){return a.type=="dblclick"?0:a.type=="contextmenu"||a.ctrlKey&&e.isMac?2:a.preventDefault?a.button:{1:0,2:2,4:1}[a.button]},document.documentElement.setCapture?b.capture=function(a,c,d){function e(a){return c(a),b.stopPropagation(a)}function g(e){c(e),f||(f=!0,d(e)),b.removeListener(a,"mousemove",c),b.removeListener(a,"mouseup",g),b.removeListener(a,"losecapture",g),a.releaseCapture()}var f=!1;b.addListener(a,"mousemove",c),b.addListener(a,"mouseup",g),b.addListener(a,"losecapture",g),a.setCapture()}:b.capture=function(a,b,c){function d(a){b(a),a.stopPropagation()}function e(a){b&&b(a),c&&c(a),document.removeEventListener("mousemove",d,!0),document.removeEventListener("mouseup",e,!0),a.stopPropagation()}document.addEventListener("mousemove",d,!0),document.addEventListener("mouseup",e,!0)},b.addMouseWheelListener=function(a,c){var d=8,e=function(a){a.wheelDelta!==undefined?a.wheelDeltaX!==undefined?(a.wheelX=-a.wheelDeltaX/d,a.wheelY=-a.wheelDeltaY/d):(a.wheelX=0,a.wheelY=-a.wheelDelta/d):a.axis&&a.axis==a.HORIZONTAL_AXIS?(a.wheelX=(a.detail||0)*5,a.wheelY=0):(a.wheelX=0,a.wheelY=(a.detail||0)*5),c(a)};b.addListener(a,"DOMMouseScroll",e),b.addListener(a,"mousewheel",e)},b.addMultiMouseDownListener=function(a,c,d,f){var g=0,h,i,j,k={2:"dblclick",3:"tripleclick",4:"quadclick"},l=function(a){if(b.getButton(a)!=0)g=0;else{var e=Math.abs(a.clientX-h)>5||Math.abs(a.clientY-i)>5;if(!j||e)g=0;g+=1,j&&clearTimeout(j),j=setTimeout(function(){j=null},c[g-1]||600)}g==1&&(h=a.clientX,i=a.clientY),d[f]("mousedown",a);if(g>4)g=0;else if(g>1)return d[f](k[g],a)};b.addListener(a,"mousedown",l),e.isOldIE&&b.addListener(a,"dblclick",l)},b.addCommandKeyListener=function(a,c){var d=b.addListener;if(e.isOldGecko||e.isOpera&&!("KeyboardEvent"in window)){var f=null;d(a,"keydown",function(a){f=a.keyCode}),d(a,"keypress",function(a){return g(c,a,f)})}else{var h=null;d(a,"keydown",function(a){return h=a.keyIdentifier||a.keyCode,g(c,a,a.keyCode)})}};if(window.postMessage){var h=1;b.nextTick=function(a,c){c=c||window;var d="zero-timeout-message-"+h;b.addListener(c,"message",function e(f){f.data==d&&(b.stopPropagation(f),b.removeListener(c,"message",e),a())}),c.postMessage(d,"*")}}else b.nextTick=function(a,b){b=b||window,window.setTimeout(a,0)}}),define("ace/lib/lang",["require","exports","module"],function(a,b,c){b.stringReverse=function(a){return a.split("").reverse().join("")},b.stringRepeat=function(a,b){return(new Array(b+1)).join(a)};var d=/^\s\s*/,e=/\s\s*$/;b.stringTrimLeft=function(a){return a.replace(d,"")},b.stringTrimRight=function(a){return a.replace(e,"")},b.copyObject=function(a){var b={};for(var c in a)b[c]=a[c];return b},b.copyArray=function(a){var b=[];for(var c=0,d=a.length;c<d;c++)a[c]&&typeof a[c]=="object"?b[c]=this.copyObject(a[c]):b[c]=a[c];return b},b.deepCopy=function(a){if(typeof a!="object")return a;var b=a.constructor();for(var c in a)typeof a[c]=="object"?b[c]=this.deepCopy(a[c]):b[c]=a[c];return b},b.arrayToMap=function(a){var b={};for(var c=0;c<a.length;c++)b[a[c]]=1;return b},b.arrayRemove=function(a,b){for(var c=0;c<=a.length;c++)b===a[c]&&a.splice(c,1)},b.escapeRegExp=function(a){return a.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},b.getMatchOffsets=function(a,b){var c=[];return a.replace(b,function(a){c.push({offset:arguments[arguments.length-2],length:a.length})}),c},b.deferredCall=function(a){var b=null,c=function(){b=null,a()},d=function(a){return d.cancel(),b=setTimeout(c,a||0),d};return d.schedule=d,d.call=function(){return this.cancel(),a(),d},d.cancel=function(){return clearTimeout(b),b=null,d},d}}),define("ace/keyboard/textinput",["require","exports","module","../lib/event","../lib/useragent","../lib/dom"],function(a,b,c){var d=a("../lib/event"),e=a("../lib/useragent"),f=a("../lib/dom"),g=function(a,b){function l(a){try{a?(c.value=g,c.selectionStart=0,c.selectionEnd=1):c.select()}catch(b){}}function m(a){if(!i){var d=a||c.value;d&&(d.length>1&&(d.charAt(0)==g?d=d.substr(1):d.charAt(d.length-1)==g&&(d=d.slice(0,-1))),d&&d!=g&&(j?b.onPaste(d):b.onTextInput(d)))}i=!1,j=!1,l(!0)}function u(){return document.activeElement===c}function v(){setTimeout(function(){k&&(c.style.cssText=k,k=""),m(),b.renderer.$keepTextAreaAtCursor==null&&(b.renderer.$keepTextAreaAtCursor=!0,b.renderer.$moveTextAreaToCursor())},0)}var c=f.createElement("textarea");e.isTouchPad&&c.setAttribute("x-palm-disable-auto-cap",!0),c.setAttribute("wrap","off"),c.style.top="-2em",a.insertBefore(c,a.firstChild);var g=e.isIE?"":"";m();var h=!1,i=!1,j=!1,k="",n=function(a){h||m(a.data),setTimeout(function(){h||l(!0)},0)},o=function(a){setTimeout(function(){h||m()},0)},p=function(a){h=!0,b.onCompositionStart(),setTimeout(q,0)},q=function(){if(!h)return;b.onCompositionUpdate(c.value)},r=function(a){h=!1,b.onCompositionEnd()},s=function(a){i=!0;var d=b.getCopyText();d?c.value=d:a.preventDefault(),l(),setTimeout(function(){m()},0)},t=function(a){i=!0;var d=b.getCopyText();d?(c.value=d,b.onCut()):a.preventDefault(),l(),setTimeout(function(){m()},0)};d.addCommandKeyListener(c,b.onCommandKey.bind(b)),d.addListener(c,"input",e.isIE?o:n),d.addListener(c,"paste",function(a){j=!0,a.clipboardData&&a.clipboardData.getData?(m(a.clipboardData.getData("text/plain")),a.preventDefault()):o()}),"onbeforecopy"in c&&typeof clipboardData!="undefined"?(d.addListener(c,"beforecopy",function(a){if(k)return;var c=b.getCopyText();c?clipboardData.setData("Text",c):a.preventDefault()}),d.addListener(a,"keydown",function(a){if(a.ctrlKey&&a.keyCode==88){var c=b.getCopyText();c&&(clipboardData.setData("Text",c),b.onCut()),d.preventDefault(a)}}),d.addListener(c,"cut",t)):e.isOpera?d.addListener(a,"keydown",function(a){if(e.isMac&&!a.metaKey||!a.ctrlKey)return;if(a.keyCode==88||a.keyCode==67){var d=b.getCopyText();d&&(c.value=d,c.select(),a.keyCode==88&&b.onCut())}}):(d.addListener(c,"copy",s),d.addListener(c,"cut",t)),d.addListener(c,"compositionstart",p),e.isGecko&&d.addListener(c,"text",q),e.isWebKit&&d.addListener(c,"keyup",q),d.addListener(c,"compositionend",r),d.addListener(c,"blur",function(){b.onBlur()}),d.addListener(c,"focus",function(){b.onFocus(),l()}),this.focus=function(){l(),c.focus()},this.blur=function(){c.blur()},this.isFocused=u,this.getElement=function(){return c},this.onContextMenu=function(a){k||(k=c.style.cssText),c.style.cssText="position:fixed; z-index:100000;left:"+(a.clientX-2)+"px; top:"+(a.clientY-2)+"px;",b.selection.isEmpty()&&(c.value="");if(a.type!="mousedown")return;b.renderer.$keepTextAreaAtCursor&&(b.renderer.$keepTextAreaAtCursor=null),e.isGecko&&e.isWin&&d.capture(b.container,function(a){c.style.left=a.clientX-2+"px",c.style.top=a.clientY-2+"px"},v)},this.onContextMenuClose=v,e.isGecko||d.addListener(c,"contextmenu",function(a){b.textInput.onContextMenu(a),v()})};b.TextInput=g}),define("ace/mouse/default_handlers",["require","exports","module","../lib/dom","../lib/useragent"],function(a,b,c){function g(a){a.$clickSelection=null;var b=a.editor;b.setDefaultHandler("mousedown",this.onMouseDown.bind(a)),b.setDefaultHandler("dblclick",this.onDoubleClick.bind(a)),b.setDefaultHandler("tripleclick",this.onTripleClick.bind(a)),b.setDefaultHandler("quadclick",this.onQuadClick.bind(a)),b.setDefaultHandler("mousewheel",this.onScroll.bind(a));var c=["select","startSelect","drag","dragEnd","dragWait","dragWaitEnd","startDrag","focusWait"];c.forEach(function(b){a[b]=this[b]},this),a.selectByLines=this.extendSelectionBy.bind(a,"getLineRange"),a.selectByWords=this.extendSelectionBy.bind(a,"getWordRange"),a.$focusWaitTimout=250}function h(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))}function i(a,b){if(a.start.row==a.end.row)var c=2*b.column-a.start.column-a.end.column;else var c=2*b.row-a.start.row-a.end.row;return c<0?{cursor:a.start,anchor:a.end}:{cursor:a.end,anchor:a.start}}var d=a("../lib/dom"),e=a("../lib/useragent"),f=5;(function(){this.onMouseDown=function(a){var b=a.inSelection(),c=a.getDocumentPosition();this.mousedownEvent=a;var d=this.editor,e=a.getButton();if(e!==0){var f=d.getSelectionRange(),g=f.isEmpty();g&&(d.moveCursorToPosition(c),d.selection.clearSelection()),d.textInput.onContextMenu(a.domEvent);return}if(b&&!d.isFocused()){d.focus();if(this.$focusWaitTimout&&!this.$clickSelection)return this.setState("focusWait"),this.captureMouse(a),a.preventDefault()}return!b||this.$clickSelection||a.getShiftKey()?this.startSelect(c):b&&(this.mousedownEvent.time=(new Date).getTime(),this.setState("dragWait")),this.captureMouse(a),a.preventDefault()},this.startSelect=function(a){a=a||this.editor.renderer.screenToTextCoordinates(this.x,this.y),this.mousedownEvent.getShiftKey()?this.editor.selection.selectToPosition(a):this.$clickSelection||(this.editor.moveCursorToPosition(a),this.editor.selection.clearSelection()),this.setState("select")},this.select=function(){var a,b=this.editor,c=b.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var d=this.$clickSelection.comparePoint(c);if(d==-1)a=this.$clickSelection.end;else if(d==1)a=this.$clickSelection.start;else{var e=i(this.$clickSelection,c);c=e.cursor,a=e.anchor}b.selection.setSelectionAnchor(a.row,a.column)}b.selection.selectToPosition(c),b.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(a){var b,c=this.editor,d=c.renderer.screenToTextCoordinates(this.x,this.y),e=c.selection[a](d.row,d.column);if(this.$clickSelection){var f=this.$clickSelection.comparePoint(e.start),g=this.$clickSelection.comparePoint(e.end);if(f==-1&&g<=0){b=this.$clickSelection.end;if(e.end.row!=d.row||e.end.column!=d.column)d=e.start}else if(g==1&&f>=0){b=this.$clickSelection.start;if(e.start.row!=d.row||e.start.column!=d.column)d=e.end}else if(f==-1&&g==1)d=e.end,b=e.start;else{var h=i(this.$clickSelection,d);d=h.cursor,b=h.anchor}c.selection.setSelectionAnchor(b.row,b.column)}c.selection.selectToPosition(d),c.renderer.scrollCursorIntoView()},this.startDrag=function(){var a=this.editor;this.setState("drag"),this.dragRange=a.getSelectionRange();var b=a.getSelectionStyle();this.dragSelectionMarker=a.session.addMarker(this.dragRange,"ace_selection",b),a.clearSelection(),d.addCssClass(a.container,"ace_dragging"),this.$dragKeybinding||(this.$dragKeybinding={handleKeyboard:function(a,b,c,d){if(c=="esc")return{command:this.command}},command:{exec:function(a){var b=a.$mouseHandler;b.dragCursor=null,b.dragEnd(),b.startSelect()}}}),a.keyBinding.addKeyboardHandler(this.$dragKeybinding)},this.focusWait=function(){var a=h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),b=(new Date).getTime();(a>f||b-this.mousedownEvent.time>this.$focusWaitTimout)&&this.startSelect()},this.dragWait=function(a){var b=h(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),c=(new Date).getTime(),d=this.editor;b>f?this.startSelect():c-this.mousedownEvent.time>d.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(a){this.mousedownEvent.domEvent=a,this.startSelect()},this.drag=function(){var a=this.editor;this.dragCursor=a.renderer.screenToTextCoordinates(this.x,this.y),a.moveCursorToPosition(this.dragCursor),a.renderer.scrollCursorIntoView()},this.dragEnd=function(a){var b=this.editor,c=this.dragCursor,e=this.dragRange;d.removeCssClass(b.container,"ace_dragging"),b.session.removeMarker(this.dragSelectionMarker),b.keyBinding.removeKeyboardHandler(this.$dragKeybinding);if(!c)return;b.clearSelection();if(a&&(a.ctrlKey||a.altKey)){var f=b.session,g=e;g.end=f.insert(c,f.getTextRange(e)),g.start=c}else{if(e.contains(c.row,c.column))return;var g=b.moveText(e,c)}if(!g)return;b.selection.setSelectionRange(g)},this.onDoubleClick=function(a){var b=a.getDocumentPosition(),c=this.editor,d=c.session,e=d.getBracketRange(b);if(e){e.isEmpty()&&(e.start.column--,e.end.column++),this.$clickSelection=e,this.setState("select");return}this.$clickSelection=c.selection.getWordRange(b.row,b.column),this.setState("selectByWords")},this.onTripleClick=function(a){var b=a.getDocumentPosition(),c=this.editor;this.setState("selectByLines"),this.$clickSelection=c.selection.getLineRange(b.row)},this.onQuadClick=function(a){var b=this.editor;b.selectAll(),this.$clickSelection=b.getSelectionRange(),this.setState("null")},this.onScroll=function(a){var b=this.editor,c=b.renderer.isScrollableBy(a.wheelX*a.speed,a.wheelY*a.speed);if(c)this.$passScrollEvent=!1;else{if(this.$passScrollEvent)return;if(!this.$scrollStopTimeout){var d=this;this.$scrollStopTimeout=setTimeout(function(){d.$passScrollEvent=!0,d.$scrollStopTimeout=null},200)}}return b.renderer.scrollBy(a.wheelX*a.speed,a.wheelY*a.speed),a.preventDefault()}}).call(g.prototype),b.DefaultHandlers=g}),define("ace/mouse/default_gutter_handler",["require","exports","module","../lib/dom"],function(a,b,c){function e(a){var b=a.editor;a.editor.setDefaultHandler("guttermousedown",function(c){var e=c.domEvent.target;if(e.className.indexOf("ace_gutter-cell")==-1)return;if(!b.isFocused())return;var f=parseInt(d.computedStyle(e).paddingLeft);if(c.x<f+e.getBoundingClientRect().left+1)return;var g=c.getDocumentPosition().row,h=b.session.selection;return c.getShiftKey()?h.selectTo(g,0):a.$clickSelection=b.selection.getLineRange(g),a.captureMouse(c,"selectByLines"),c.preventDefault()})}var d=a("../lib/dom");b.GutterHandler=e}),define("ace/mouse/mouse_event",["require","exports","module","../lib/event","../lib/useragent"],function(a,b,c){var d=a("../lib/event"),e=a("../lib/useragent"),f=b.MouseEvent=function(a,b){this.domEvent=a,this.editor=b,this.x=this.clientX=a.clientX,this.y=this.clientY=a.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){d.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){d.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var a=this.editor;if(a.getReadOnly())this.$inSelection=!1;else{var b=a.getSelectionRange();if(b.isEmpty())this.$inSelection=!1;else{var c=this.getDocumentPosition();this.$inSelection=b.contains(c.row,c.column)}}return this.$inSelection},this.getButton=function(){return d.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=e.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(f.prototype)}),define("ace/mouse/dragdrop",["require","exports","module","../lib/event"],function(a,b,c){var d=a("../lib/event"),e=function(a){var b=a.editor,c,e,f,g,h,i,j,k=0,l=b.container;d.addListener(l,"dragenter",function(a){k++;if(!c){h=b.getSelectionRange(),i=b.selection.isBackwards();var e=b.getSelectionStyle();c=b.session.addMarker(h,"ace_selection",e),b.clearSelection(),clearInterval(g),g=setInterval(m,20)}return d.preventDefault(a)}),d.addListener(l,"dragover",function(a){return e=a.clientX,f=a.clientY,d.preventDefault(a)});var m=function(){j=b.renderer.screenToTextCoordinates(e,f),b.moveCursorToPosition(j),b.renderer.scrollCursorIntoView()};d.addListener(l,"dragleave",function(a){k--;if(k>0)return;return console.log(a.type,k,a.target),clearInterval(g),b.session.removeMarker(c),c=null,b.selection.setSelectionRange(h,i),d.preventDefault(a)}),d.addListener(l,"drop",function(a){return console.log(a.type,k,a.target),k=0,clearInterval(g),b.session.removeMarker(c),c=null,h.end=b.session.insert(j,a.dataTransfer.getData("Text")),h.start=j,b.focus(),b.selection.setSelectionRange(h),d.preventDefault(a)})};b.DragdropHandler=e}),define("ace/mouse/mouse_handler",["require","exports","module","../lib/event","./default_handlers","./default_gutter_handler","./mouse_event","./dragdrop"],function(a,b,c){var d=a("../lib/event"),e=a("./default_handlers").DefaultHandlers,f=a("./default_gutter_handler").GutterHandler,g=a("./mouse_event").MouseEvent,h=a("./dragdrop").DragdropHandler,i=function(a){this.editor=a,new e(this),new f(this),new h(this),d.addListener(a.container,"mousedown",function(b){return a.focus(),d.preventDefault(b)});var b=a.renderer.getMouseEventTarget();d.addListener(b,"click",this.onMouseEvent.bind(this,"click")),d.addListener(b,"mousemove",this.onMouseMove.bind(this,"mousemove")),d.addMultiMouseDownListener(b,[300,300,250],this,"onMouseEvent"),d.addMouseWheelListener(a.container,this.onMouseWheel.bind(this,"mousewheel"));var c=a.renderer.$gutter;d.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),d.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick")),d.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),d.addListener(c,"mousemove",this.onMouseMove.bind(this,"gutter"))};(function(){this.$scrollSpeed=1,this.setScrollSpeed=function(a){this.$scrollSpeed=a},this.getScrollSpeed=function(){return this.$scrollSpeed},this.onMouseEvent=function(a,b){this.editor._emit(a,new g(b,this.editor))},this.$dragDelay=250,this.setDragDelay=function(a){this.$dragDelay=a},this.getDragDelay=function(){return this.$dragDelay},this.onMouseMove=function(a,b){var c=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;if(!c||!c.length)return;this.editor._emit(a,new g(b,this.editor))},this.onMouseWheel=function(a,b){var c=new g(b,this.editor);c.speed=this.$scrollSpeed*2,c.wheelX=b.wheelX,c.wheelY=b.wheelY,this.editor._emit(a,c)},this.setState=function(a){this.state=a},this.captureMouse=function(a,b){b&&this.setState(b),this.x=a.x,this.y=a.y;var c=this.editor.renderer;c.$keepTextAreaAtCursor&&(c.$keepTextAreaAtCursor=null);var e=this,f=function(a){e.x=a.clientX,e.y=a.clientY},g=function(a){clearInterval(i),e[e.state+"End"]&&e[e.state+"End"](a),e.$clickSelection=null,c.$keepTextAreaAtCursor==null&&(c.$keepTextAreaAtCursor=!0,c.$moveTextAreaToCursor())},h=function(){e[e.state]&&e[e.state]()};d.capture(this.editor.container,f,g);var i=setInterval(h,20)}}).call(i.prototype),b.MouseHandler=i}),define("ace/mouse/fold_handler",["require","exports","module"],function(a,b,c){function d(a){a.on("click",function(b){var c=b.getDocumentPosition(),d=a.session,e=d.getFoldAt(c.row,c.column,1);e&&(b.getAccelKey()?d.removeFold(e):d.expandFold(e),b.stop())}),a.on("gutterclick",function(b){if(b.domEvent.target.className.indexOf("ace_fold-widget")!=-1){var c=b.getDocumentPosition().row;a.session.onFoldWidgetClick(c,b.domEvent),b.stop()}})}b.FoldHandler=d}),define("ace/keyboard/keybinding",["require","exports","module","../lib/keys","../lib/event"],function(a,b,c){var d=a("../lib/keys"),e=a("../lib/event"),f=function(a){this.$editor=a,this.$data={},this.$handlers=[],this.setDefaultHandler(a.commands)};(function(){this.setDefaultHandler=function(a){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=a,this.addKeyboardHandler(a,0),this.$data={editor:this.$editor}},this.setKeyboardHandler=function(a){if(this.$handlers[this.$handlers.length-1]==a)return;while(this.$handlers[1])this.removeKeyboardHandler(this.$handlers[1]);this.addKeyboardHandler(a,1)},this.addKeyboardHandler=function(a,b){if(!a)return;var c=this.$handlers.indexOf(a);c!=-1&&this.$handlers.splice(c,1),b==undefined?this.$handlers.push(a):this.$handlers.splice(b,0,a),c==-1&&a.attach&&a.attach(this.$editor)},this.removeKeyboardHandler=function(a){var b=this.$handlers.indexOf(a);return b==-1?!1:(this.$handlers.splice(b,1),a.detach&&a.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.$callKeyboardHandlers=function(a,b,c,d){var f;for(var g=this.$handlers.length;g--;){f=this.$handlers[g].handleKeyboard(this.$data,a,b,c,d);if(f&&f.command)break}if(!f||!f.command)return!1;var h=!1,i=this.$editor.commands;return f.command!="null"?h=i.exec(f.command,this.$editor,f.args,d):h=f.passEvent!=1,h&&d&&a!=-1&&e.stopEvent(d),h},this.onCommandKey=function(a,b,c){var e=d.keyCodeToString(c);this.$callKeyboardHandlers(b,e,c,a)},this.onTextInput=function(a){var b=this.$callKeyboardHandlers(-1,a);b||this.$editor.commands.exec("insertstring",this.$editor,a)}}).call(f.prototype),b.KeyBinding=f}),define("ace/range",["require","exports","module"],function(a,b,c){var d=function(a,b,c,d){this.start={row:a,column:b},this.end={row:c,column:d}};(function(){this.isEqual=function(a){return this.start.row==a.start.row&&this.end.row==a.end.row&&this.start.column==a.start.column&&this.end.column==a.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(a,b){return this.compare(a,b)==0},this.compareRange=function(a){var b,c=a.end,d=a.start;return b=this.compare(c.row,c.column),b==1?(b=this.compare(d.row,d.column),b==1?2:b==0?1:0):b==-1?-2:(b=this.compare(d.row,d.column),b==-1?-1:b==1?42:0)},this.comparePoint=function(a){return this.compare(a.row,a.column)},this.containsRange=function(a){return this.comparePoint(a.start)==0&&this.comparePoint(a.end)==0},this.intersects=function(a){var b=this.compareRange(a);return b==-1||b==0||b==1},this.isEnd=function(a,b){return this.end.row==a&&this.end.column==b},this.isStart=function(a,b){return this.start.row==a&&this.start.column==b},this.setStart=function(a,b){typeof a=="object"?(this.start.column=a.column,this.start.row=a.row):(this.start.row=a,this.start.column=b)},this.setEnd=function(a,b){typeof a=="object"?(this.end.column=a.column,this.end.row=a.row):(this.end.row=a,this.end.column=b)},this.inside=function(a,b){return this.compare(a,b)==0?this.isEnd(a,b)||this.isStart(a,b)?!1:!0:!1},this.insideStart=function(a,b){return this.compare(a,b)==0?this.isEnd(a,b)?!1:!0:!1},this.insideEnd=function(a,b){return this.compare(a,b)==0?this.isStart(a,b)?!1:!0:!1},this.compare=function(a,b){return!this.isMultiLine()&&a===this.start.row?b<this.start.column?-1:b>this.end.column?1:0:a<this.start.row?-1:a>this.end.row?1:this.start.row===a?b>=this.start.column?0:-1:this.end.row===a?b<=this.end.column?0:1:0},this.compareStart=function(a,b){return this.start.row==a&&this.start.column==b?-1:this.compare(a,b)},this.compareEnd=function(a,b){return this.end.row==a&&this.end.column==b?1:this.compare(a,b)},this.compareInside=function(a,b){return this.end.row==a&&this.end.column==b?1:this.start.row==a&&this.start.column==b?-1:this.compare(a,b)},this.clipRows=function(a,b){if(this.end.row>b)var c={row:b+1,column:0};if(this.start.row>b)var e={row:b+1,column:0};if(this.start.row<a)var e={row:a,column:0};if(this.end.row<a)var c={row:a,column:0};return d.fromPoints(e||this.start,c||this.end)},this.extend=function(a,b){var c=this.compare(a,b);if(c==0)return this;if(c==-1)var e={row:a,column:b};else var f={row:a,column:b};return d.fromPoints(e||this.start,f||this.end)},this.isEmpty=function(){return this.start.row==this.end.row&&this.start.column==this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return d.fromPoints(this.start,this.end)},this.collapseRows=function(){return this.end.column==0?new d(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new d(this.start.row,0,this.end.row,0)},this.toScreenRange=function(a){var b=a.documentToScreenPosition(this.start),c=a.documentToScreenPosition(this.end);return new d(b.row,b.column,c.row,c.column)}}).call(d.prototype),d.fromPoints=function(a,b){return new d(a.row,a.column,b.row,b.column)},b.Range=d}),define("ace/search",["require","exports","module","./lib/lang","./lib/oop","./range"],function(a,b,c){var d=a("./lib/lang"),e=a("./lib/oop"),f=a("./range").Range,g=function(){this.$options={}};(function(){this.set=function(a){return e.mixin(this.$options,a),this},this.getOptions=function(){return d.copyObject(this.$options)},this.setOptions=function(a){this.$options=a},this.find=function(a){var b=this.$matchIterator(a,this.$options);if(!b)return!1;var c=null;return b.forEach(function(a,b,d){if(!a.start){var e=a.offset+(d||0);c=new f(b,e,b,e+a.length)}else c=a;return!0}),c},this.findAll=function(a){var b=this.$options;if(!b.needle)return[];this.$assembleRegExp(b);if(b.range)var c=b.range,e=a.getLines(c.start.row,c.end.row);else var e=a.doc.getAllLines();var g=[],h=b.re;if(b.$isMultiLine){var i=h.length,j=e.length-i;for(var k=h.offset||0;k<j;k++){for(var l=0;l<h.length;l++)if(e[k+l].search(h[l])==-1)break;var m=e[k+l].match(h[0])[0].length,n=line.match(h[i-1])[0].length;g.push(new f(k,startLine.length-m,k+i-1,n))}}else for(var o=0;o<e.length;o++){var p=d.getMatchOffsets(e[o],h);for(var l=0;l<p.length;l++){var q=p[l];g.push(new f(o,q.offset,o,q.offset+q.length))}}if(b.range){var r=c.start.column,s=c.start.column,o=0,l=g.length-1;while(o<l&&g[o].start.column<r&&g[o].start.row==c.start.row)o++;while(o<l&&g[l].end.column>s&&g[l].end.row==c.end.row)l--;return g.slice(o,l+1)}return g},this.replace=function(a,b){var c=this.$options,d=this.$assembleRegExp(c);if(c.$isMultiLine)return b;if(!d)return;var e=d.exec(a);if(!e||e[0].length!=a.length)return null;b=a.replace(d,b);if(c.preserveCase){b=b.split("");for(var f=Math.min(a.length,a.length);f--;){var g=a[f];g&&g.toLowerCase()!=g?b[f]=b[f].toUpperCase():b[f]=b[f].toLowerCase()}b=b.join("")}return b},this.$matchIterator=function(a,b){var c=this.$assembleRegExp(b);if(!c)return!1;var e=this,g,h=b.backwards;if(b.$isMultiLine)var i=c.length,j=function(b,d,e){var h=b.search(c[0]);if(h==-1)return;for(var j=1;j<i;j++){b=a.getLine(d+j);if(b.search(c[j])==-1)return}var k=b.match(c[i-1])[0].length,l=new f(d,h,d+i-1,k);c.offset==1?(l.start.row--,l.start.column=Number.MAX_VALUE):e&&(l.start.column+=e);if(g(l))return!0};else if(h)var j=function(a,b,e){var f=d.getMatchOffsets(a,c);for(var h=f.length-1;h>=0;h--)if(g(f[h],b,e))return!0};else var j=function(a,b,e){var f=d.getMatchOffsets(a,c);for(var h=0;h<f.length;h++)if(g(f[h],b,e))return!0};return{forEach:function(c){g=c,e.$lineIterator(a,b).forEach(j)}}},this.$assembleRegExp=function(a){if(a.needle instanceof RegExp)return a.re=a.needle;var b=a.needle;if(!a.needle)return a.re=!1;a.regExp||(b=d.escapeRegExp(b)),a.wholeWord&&(b="\\b"+b+"\\b");var c=a.caseSensitive?"g":"gi";a.$isMultiLine=/[\n\r]/.test(b);if(a.$isMultiLine)return a.re=this.$assembleMultilineRegExp(b,c);try{var e=new RegExp(b,c)}catch(f){var e=!1}return a.re=e},this.$assembleMultilineRegExp=function(a,b){var c=a.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),d=[];for(var e=0;e<c.length;e++)try{d.push(new RegExp(c[e],b))}catch(f){return!1}return c[0]==""?(d.shift(),d.offset=1):d.offset=0,d},this.$lineIterator=function(a,b){var c=b.range,d=b.backwards==1,e=b.skipCurrent!=0,c=b.range,f=b.start;f||(f=c?c[d?"end":"start"]:a.selection.getRange()),f.start&&(f=f[e!=d?"end":"start"]);var g=c?c.start.row:0,h=c?c.start.column:0,i=c?c.end.row:a.getLength()-1;if(!d)var j=function(c){var d=f.row,e=a.getLine(d).substr(f.column);if(c(e,d,f.column))return;for(d+=1;d<=i;d++)if(c(a.getLine(d),d))return;if(b.wrap==0)return;for(d=g,i=f.row;d<=i;d++)if(c(a.getLine(d),d))return};else var j=function(c){var d=f.row,e=a.getLine(d).substring(0,f.column);if(c(e,d))return;for(d--;d>=g;d--)if(c(a.getLine(d),d))return;if(b.wrap==0)return;for(d=i,g=f.row;d>=g;d--)if(c(a.getLine(d),d))return};return{forEach:j}}}).call(g.prototype),b.Search=g}),define("ace/lib/event_emitter",["require","exports","module"],function(a,b,c){var d={};d._emit=d._dispatchEvent=function(a,b){this._eventRegistry=this._eventRegistry||{},this._defaultHandlers=this._defaultHandlers||{};var c=this._eventRegistry[a]||[],d=this._defaultHandlers[a];if(!c.length&&!d)return;b=b||{},b.type=a,b.stopPropagation||(b.stopPropagation=function(){this.propagationStopped=!0}),b.preventDefault||(b.preventDefault=function(){this.defaultPrevented=!0});for(var e=0;e<c.length;e++){c[e](b);if(b.propagationStopped)break}if(d&&!b.defaultPrevented)return d(b)},d.setDefaultHandler=function(a,b){this._defaultHandlers=this._defaultHandlers||{};if(this._defaultHandlers[a])throw new Error("The default handler for '"+a+"' is already set");this._defaultHandlers[a]=b},d.on=d.addEventListener=function(a,b){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[a];c||(c=this._eventRegistry[a]=[]),c.indexOf(b)==-1&&c.push(b)},d.removeListener=d.removeEventListener=function(a,b){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[a];if(!c)return;var d=c.indexOf(b);d!==-1&&c.splice(d,1)},d.removeAllListeners=function(a){this._eventRegistry&&(this._eventRegistry[a]=[])},b.EventEmitter=d}),define("ace/commands/default_commands",["require","exports","module","../lib/lang"],function(a,b,c){function e(a,b){return{win:a,mac:b}}var d=a("../lib/lang");b.commands=[{name:"selectall",bindKey:e("Ctrl-A","Command-A"),exec:function(a){a.selectAll()},readOnly:!0},{name:"centerselection",bindKey:e(null,"Ctrl-L"),exec:function(a){a.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:e("Ctrl-L","Command-L"),exec:function(a){var b=parseInt(prompt("Enter line number:"),10);isNaN(b)||a.gotoLine(b)},readOnly:!0},{name:"fold",bindKey:e("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(a){a.session.toggleFold(!1)},readOnly:!0},{name:"unfold",bindKey:e("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(a){a.session.toggleFold(!0)},readOnly:!0},{name:"foldall",bindKey:e("Alt-0","Command-Option-0"),exec:function(a){a.session.foldAll()},readOnly:!0},{name:"unfoldall",bindKey:e("Alt-Shift-0","Command-Option-Shift-0"),exec:function(a){a.session.unfold()},readOnly:!0},{name:"findnext",bindKey:e("Ctrl-K","Command-G"),exec:function(a){a.findNext()},readOnly:!0},{name:"findprevious",bindKey:e("Ctrl-Shift-K","Command-Shift-G"),exec:function(a){a.findPrevious()},readOnly:!0},{name:"find",bindKey:e("Ctrl-F","Command-F"),exec:function(a){var b=prompt("Find:",a.getCopyText());a.find(b)},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(a){a.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:e("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(a){a.getSelection().selectFileStart()},readOnly:!0},{name:"gotostart",bindKey:e("Ctrl-Home","Command-Home|Command-Up"),exec:function(a){a.navigateFileStart()},readOnly:!0},{name:"selectup",bindKey:e("Shift-Up","Shift-Up"),exec:function(a){a.getSelection().selectUp()},multiSelectAction:"forEach",readOnly:!0},{name:"golineup",bindKey:e("Up","Up|Ctrl-P"),exec:function(a,b){a.navigateUp(b.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selecttoend",bindKey:e("Ctrl-Shift-End","Command-Shift-Down"),exec:function(a){a.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"gotoend",bindKey:e("Ctrl-End","Command-End|Command-Down"),exec:function(a){a.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"selectdown",bindKey:e("Shift-Down","Shift-Down"),exec:function(a){a.getSelection().selectDown()},multiSelectAction:"forEach",readOnly:!0},{name:"golinedown",bindKey:e("Down","Down|Ctrl-N"),exec:function(a,b){a.navigateDown(b.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectwordleft",bindKey:e("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(a){a.getSelection().selectWordLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"gotowordleft",bindKey:e("Ctrl-Left","Option-Left"),exec:function(a){a.navigateWordLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttolinestart",bindKey:e("Alt-Shift-Left","Command-Shift-Left"),exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"gotolinestart",bindKey:e("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(a){a.navigateLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"selectleft",bindKey:e("Shift-Left","Shift-Left"),exec:function(a){a.getSelection().selectLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"gotoleft",bindKey:e("Left","Left|Ctrl-B"),exec:function(a,b){a.navigateLeft(b.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectwordright",bindKey:e("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(a){a.getSelection().selectWordRight()},multiSelectAction:"forEach",readOnly:!0},{name:"gotowordright",bindKey:e("Ctrl-Right","Option-Right"),exec:function(a){a.navigateWordRight()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttolineend",bindKey:e("Alt-Shift-Right","Command-Shift-Right"),exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"gotolineend",bindKey:e("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(a){a.navigateLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"selectright",bindKey:e("Shift-Right","Shift-Right"),exec:function(a){a.getSelection().selectRight()},multiSelectAction:"forEach",readOnly:!0},{name:"gotoright",bindKey:e("Right","Right|Ctrl-F"),exec:function(a,b){a.navigateRight(b.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(a){a.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:e(null,"Option-PageDown"),exec:function(a){a.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:e("PageDown","PageDown|Ctrl-V"),exec:function(a){a.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(a){a.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:e(null,"Option-PageUp"),exec:function(a){a.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(a){a.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:e("Ctrl-Up",null),exec:function(a){a.renderer.scrollBy(0,-2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:e("Ctrl-Down",null),exec:function(a){a.renderer.scrollBy(0,2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"togglerecording",bindKey:e("Ctrl-Alt-E","Command-Option-E"),exec:function(a){a.commands.toggleRecording()},readOnly:!0},{name:"replaymacro",bindKey:e("Ctrl-Shift-E","Command-Shift-E"),exec:function(a){a.commands.replay(a)},readOnly:!0},{name:"jumptomatching",bindKey:e("Ctrl-P","Ctrl-Shift-P"),exec:function(a){a.jumpToMatching()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttomatching",bindKey:e("Ctrl-Shift-P",null),exec:function(a){a.jumpToMatching(!0)},readOnly:!0},{name:"cut",exec:function(a){var b=a.getSelectionRange();a._emit("cut",b),a.selection.isEmpty()||(a.session.remove(b),a.clearSelection())},multiSelectAction:"forEach"},{name:"removeline",bindKey:e("Ctrl-D","Command-D"),exec:function(a){a.removeLines()},multiSelectAction:"forEach"},{name:"duplicateSelection",bindKey:e("Ctrl-Shift-D","Command-Shift-D"),exec:function(a){a.duplicateSelection()},multiSelectAction:"forEach"},{name:"togglecomment",bindKey:e("Ctrl-/","Command-/"),exec:function(a){a.toggleCommentLines()},multiSelectAction:"forEach"},{name:"replace",bindKey:e("Ctrl-R","Command-Option-F"),exec:function(a){var b=prompt("Find:",a.getCopyText());if(!b)return;var c=prompt("Replacement:");if(!c)return;a.replace(c,{needle:b})}},{name:"replaceall",bindKey:e("Ctrl-Shift-R","Command-Shift-Option-F"),exec:function(a){var b=prompt("Find:");if(!b)return;var c=prompt("Replacement:");if(!c)return;a.replaceAll(c,{needle:b})}},{name:"undo",bindKey:e("Ctrl-Z","Command-Z"),exec:function(a){a.undo()}},{name:"redo",bindKey:e("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(a){a.redo()}},{name:"copylinesup",bindKey:e("Alt-Shift-Up","Command-Option-Up"),exec:function(a){a.copyLinesUp()}},{name:"movelinesup",bindKey:e("Alt-Up","Option-Up"),exec:function(a){a.moveLinesUp()}},{name:"copylinesdown",bindKey:e("Alt-Shift-Down","Command-Option-Down"),exec:function(a){a.copyLinesDown()}},{name:"movelinesdown",bindKey:e("Alt-Down","Option-Down"),exec:function(a){a.moveLinesDown()}},{name:"del",bindKey:e("Delete","Delete|Ctrl-D"),exec:function(a){a.remove("right")},multiSelectAction:"forEach"},{name:"backspace",bindKey:e("Command-Backspace|Option-Backspace|Shift-Backspace|Backspace","Ctrl-Backspace|Command-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(a){a.remove("left")},multiSelectAction:"forEach"},{name:"removetolinestart",bindKey:e("Alt-Backspace","Command-Backspace"),exec:function(a){a.removeToLineStart()},multiSelectAction:"forEach"},{name:"removetolineend",bindKey:e("Alt-Delete","Ctrl-K"),exec:function(a){a.removeToLineEnd()},multiSelectAction:"forEach"},{name:"removewordleft",bindKey:e("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(a){a.removeWordLeft()},multiSelectAction:"forEach"},{name:"removewordright",bindKey:e("Ctrl-Delete","Alt-Delete"),exec:function(a){a.removeWordRight()},multiSelectAction:"forEach"},{name:"outdent",bindKey:e("Shift-Tab","Shift-Tab"),exec:function(a){a.blockOutdent()},multiSelectAction:"forEach"},{name:"indent",bindKey:e("Tab","Tab"),exec:function(a){a.indent()},multiSelectAction:"forEach"},{name:"insertstring",exec:function(a,b){a.insert(b)},multiSelectAction:"forEach"},{name:"inserttext",exec:function(a,b){a.insert(d.stringRepeat(b.text||"",b.times||1))},multiSelectAction:"forEach"},{name:"splitline",bindKey:e(null,"Ctrl-O"),exec:function(a){a.splitLine()},multiSelectAction:"forEach"},{name:"transposeletters",bindKey:e("Ctrl-T","Ctrl-T"),exec:function(a){a.transposeLetters()},multiSelectAction:function(a){a.transposeSelections(1)}},{name:"touppercase",bindKey:e("Ctrl-U","Ctrl-U"),exec:function(a){a.toUpperCase()},multiSelectAction:"forEach"},{name:"tolowercase",bindKey:e("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(a){a.toLowerCase()},multiSelectAction:"forEach"}]}),define("ace/lib/net",["require","exports","module"],function(a,b,c){b.get=function(a,c){var d=b.createXhr();d.open("GET",a,!0),d.onreadystatechange=function(a){d.readyState===4&&c(d.responseText)},d.send(null)};var d=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];b.createXhr=function(){var a,b,c;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(b=0;b<3;b++){c=d[b];try{a=new ActiveXObject(c)}catch(e){}if(a){d=[c];break}}if(!a)throw new Error("createXhr(): XMLHttpRequest not available");return a},b.loadScript=function(a,b){var c=document.getElementsByTagName("head")[0],d=document.createElement("script");d.src=a,c.appendChild(d),d.onload=b}}),define("ace/selection",["require","exports","module","./lib/oop","./lib/lang","./lib/event_emitter","./range"],function(a,b,c){var d=a("./lib/oop"),e=a("./lib/lang"),f=a("./lib/event_emitter").EventEmitter,g=a("./range").Range,h=function(a){this.session=a,this.doc=a.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var b=this;this.lead.on("change",function(a){b._emit("changeCursor"),b.$isEmpty||b._emit("changeSelection"),!b.$keepDesiredColumnOnChange&&a.old.column!=a.value.column&&(b.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){b.$isEmpty||b._emit("changeSelection")})};(function(){d.implement(this,f),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(a,b){this.anchor.setPosition(a,b),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(a){if(this.$isEmpty){this.moveCursorTo(this.lead.row,this.lead.column+a);return}var b=this.getSelectionAnchor(),c=this.getSelectionLead(),d=this.isBackwards();(!d||b.column!==0)&&this.setSelectionAnchor(b.row,b.column+a),(d||c.column!==0)&&this.$moveSelection(function(){this.moveCursorTo(c.row,c.column+a)})},this.isBackwards=function(){var a=this.anchor,b=this.lead;return a.row>b.row||a.row==b.row&&a.column>b.column},this.getRange=function(){var a=this.anchor,b=this.lead;return this.isEmpty()?g.fromPoints(b,b):this.isBackwards()?g.fromPoints(b,a):g.fromPoints(a,b)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var a=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(a,this.doc.getLine(a).length)},this.setRange=this.setSelectionRange=function(a,b){b?(this.setSelectionAnchor(a.end.row,a.end.column),this.selectTo(a.start.row,a.start.column)):(this.setSelectionAnchor(a.start.row,a.start.column),this.selectTo(a.end.row,a.end.column)),this.$desiredColumn=null},this.$moveSelection=function(a){var b=this.lead;this.$isEmpty&&this.setSelectionAnchor(b.row,b.column),a.call(this)},this.selectTo=function(a,b){this.$moveSelection(function(){this.moveCursorTo(a,b)})},this.selectToPosition=function(a){this.$moveSelection(function(){this.moveCursorToPosition(a)})},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(a,b){if(typeof b=="undefined"){var c=a||this.lead;a=c.row,b=c.column}return this.session.getWordRange(a,b)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var a=this.getCursor(),b=this.session.getAWordRange(a.row,a.column);this.setSelectionRange(b)},this.getLineRange=function(a,b){var c=typeof a=="number"?a:this.lead.row,d,e=this.session.getFoldLine(c);return e?(c=e.start.row,d=e.end.row):d=c,b?new g(c,0,d,this.session.getLine(d).length):new g(c,0,d+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var a=this.lead.getPosition(),b;if(b=this.session.getFoldAt(a.row,a.column,-1))this.moveCursorTo(b.start.row,b.start.column);else if(a.column==0)a.row>0&&this.moveCursorTo(a.row-1,this.doc.getLine(a.row-1).length);else{var c=this.session.getTabSize();this.session.isTabStop(a)&&this.doc.getLine(a.row).slice(a.column-c,a.column).split(" ").length-1==c?this.moveCursorBy(0,-c):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var a=this.lead.getPosition(),b;if(b=this.session.getFoldAt(a.row,a.column,1))this.moveCursorTo(b.end.row,b.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var c=this.session.getTabSize(),a=this.lead;this.session.isTabStop(a)&&this.doc.getLine(a.row).slice(a.column,a.column+c).split(" ").length-1==c?this.moveCursorBy(0,c):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var a=this.lead.row,b=this.lead.column,c=this.session.documentToScreenRow(a,b),d=this.session.screenToDocumentPosition(c,0),e=this.session.getDisplayLine(a,null,d.row,d.column),f=e.match(/^\s*/);f[0].length==b?this.moveCursorTo(d.row,d.column):this.moveCursorTo(d.row,d.column+f[0].length)},this.moveCursorLineEnd=function(){var a=this.lead,b=this.session.getDocumentLastRowColumnPosition(a.row,a.column);this.moveCursorTo(b.row,b.column)},this.moveCursorFileEnd=function(){var a=this.doc.getLength()-1,b=this.doc.getLine(a).length;this.moveCursorTo(a,b)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var a=this.lead.row,b=this.lead.column,c=this.doc.getLine(a),d=c.substring(b),e;this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var f=this.session.getFoldAt(a,b,1);if(f){this.moveCursorTo(f.end.row,f.end.column);return}if(e=this.session.nonTokenRe.exec(d))b+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,d=c.substring(b);if(b>=c.length){this.moveCursorTo(a,c.length),this.moveCursorRight(),a<this.doc.getLength()-1&&this.moveCursorWordRight();return}if(e=this.session.tokenRe.exec(d))b+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0;this.moveCursorTo(a,b)},this.moveCursorLongWordLeft=function(){var a=this.lead.row,b=this.lead.column,c;if(c=this.session.getFoldAt(a,b,-1)){this.moveCursorTo(c.start.row,c.start.column);return}var d=this.session.getFoldStringAt(a,b,-1);d==null&&(d=this.doc.getLine(a).substring(0,b));var f=e.stringReverse(d),g;this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;if(g=this.session.nonTokenRe.exec(f))b-=this.session.nonTokenRe.lastIndex,f=f.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0;if(b<=0){this.moveCursorTo(a,0),this.moveCursorLeft(),a>0&&this.moveCursorWordLeft();return}if(g=this.session.tokenRe.exec(f))b-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0;this.moveCursorTo(a,b)},this.$shortWordEndIndex=function(a){var b,c=0,d,e=/\s/,f=this.session.tokenRe;f.lastIndex=0;if(b=this.session.tokenRe.exec(a))c=this.session.tokenRe.lastIndex;else{while((d=a[c])&&e.test(d))c++;if(c<=1){f.lastIndex=0;while((d=a[c])&&!f.test(d)){f.lastIndex=0,c++;if(e.test(d)){if(c>2){c--;break}while((d=a[c])&&e.test(d))c++;if(c>2)break}}}}return f.lastIndex=0,c},this.moveCursorShortWordRight=function(){var a=this.lead.row,b=this.lead.column,c=this.doc.getLine(a),d=c.substring(b),e=this.session.getFoldAt(a,b,1);if(e)return this.moveCursorTo(e.end.row,e.end.column);if(b==c.length){var f=this.doc.getLength();do a++,d=this.doc.getLine(a);while(a<f&&/^\s*$/.test(d));/^\s+/.test(d)||(d=""),b=0}var g=this.$shortWordEndIndex(d);this.moveCursorTo(a,b+g)},this.moveCursorShortWordLeft=function(){var a=this.lead.row,b=this.lead.column,c;if(c=this.session.getFoldAt(a,b,-1))return this.moveCursorTo(c.start.row,c.start.column);var d=this.session.getLine(a).substring(0,b);if(b==0){do a--,d=this.doc.getLine(a);while(a>0&&/^\s*$/.test(d));b=d.length,/\s+$/.test(d)||(d="")}var f=e.stringReverse(d),g=this.$shortWordEndIndex(f);return this.moveCursorTo(a,b-g)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(a,b){var c=this.session.documentToScreenPosition(this.lead.row,this.lead.column);b===0&&(this.$desiredColumn?c.column=this.$desiredColumn:this.$desiredColumn=c.column);var d=this.session.screenToDocumentPosition(c.row+a,c.column);this.moveCursorTo(d.row,d.column+b,b===0)},this.moveCursorToPosition=function(a){this.moveCursorTo(a.row,a.column)},this.moveCursorTo=function(a,b,c){var d=this.session.getFoldAt(a,b,1);d&&(a=d.start.row,b=d.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(a,b),this.$keepDesiredColumnOnChange=!1,c||(this.$desiredColumn=null)},this.moveCursorToScreen=function(a,b,c){var d=this.session.screenToDocumentPosition(a,b);this.moveCursorTo(d.row,d.column,c)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(a){this.setSelectionRange(a,a.cursor==a.start),this.$desiredColumn=a.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(a){var b=this.getRange();return a?(a.start.column=b.start.column,a.start.row=b.start.row,a.end.column=b.end.column,a.end.row=b.end.row):a=b,a.cursor=this.isBackwards()?a.start:a.end,a.desiredColumn=this.$desiredColumn,a}}).call(h.prototype),b.Selection=h}),define("ace/tokenizer",["require","exports","module"],function(a,b,c){var d=function(a,b){b=b?"g"+b:"g",this.rules=a,this.regExps={},this.matchMappings={};for(var c in this.rules){var d=this.rules[c],e=d,f=[],g=0,h=this.matchMappings[c]={};for(var i=0;i<e.length;i++){e[i].regex instanceof RegExp&&(e[i].regex=e[i].regex.toString().slice(1,-1));var j=(new RegExp("(?:("+e[i].regex+")|(.))")).exec("a").length-2,k=e[i].regex.replace(/\\([0-9]+)/g,function(a,b){return"\\"+(parseInt(b,10)+g+1)});if(j>1&&e[i].token.length!==j-1)throw new Error("Matching groups and length of the token array don't match in rule #"+i+" of state "+c);h[g]={rule:i,len:j},g+=j,f.push(k)}this.regExps[c]=new RegExp("(?:("+f.join(")|(")+")|(.))",b)}};(function(){this.getLineTokens=function(a,b){var c=b||"start",d=this.rules[c],e=this.matchMappings[c],f=this.regExps[c];f.lastIndex=0;var g,h=[],i=0,j={type:null,value:""};while(g=f.exec(a)){var k="text",l=null,m=[g[0]];for(var n=0;n<g.length-2;n++){if(g[n+1]===undefined)continue;l=d[e[n].rule],e[n].len>1&&(m=g.slice(n+2,n+1+e[n].len)),typeof l.token=="function"?k=l.token.apply(this,m):k=l.token,l.next&&(c=l.next,d=this.rules[c],e=this.matchMappings[c],i=f.lastIndex,f=this.regExps[c],f.lastIndex=i);break}if(m[0]){typeof k=="string"&&(m=[m.join("")],k=[k]);for(var n=0;n<m.length;n++){if(!m[n])continue;(!l||l.merge||k[n]==="text")&&j.type===k[n]?j.value+=m[n]:(j.type&&h.push(j),j={type:k[n],value:m[n]})}}if(i==a.length)break;i=f.lastIndex}return j.type&&h.push(j),{tokens:h,state:c}}}).call(d.prototype),b.Tokenizer=d}),define("ace/mode/text_highlight_rules",["require","exports","module","../lib/lang"],function(a,b,c){var d=a("../lib/lang"),e=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{token:"text",regex:".+"}]}};(function(){this.addRules=function(a,b){for(var c in a){var d=a[c];for(var e=0;e<d.length;e++){var f=d[e];f.next&&(f.next=b+f.next)}this.$rules[b+c]=d}},this.getRules=function(){return this.$rules},this.embedRules=function(a,b,c,e){var f=(new a).getRules();if(e)for(var g=0;g<e.length;g++)e[g]=b+e[g];else{e=[];for(var h in f)e.push(b+h)}this.addRules(f,b);for(var g=0;g<e.length;g++)Array.prototype.unshift.apply(this.$rules[e[g]],d.deepCopy(c));this.$embeds||(this.$embeds=[]),this.$embeds.push(b)},this.getEmbeds=function(){return this.$embeds}}).call(e.prototype),b.TextHighlightRules=e}),define("ace/mode/behaviour",["require","exports","module"],function(a,b,c){var d=function(){this.$behaviours={}};(function(){this.add=function(a,b,c){switch(undefined){case this.$behaviours:this.$behaviours={};case this.$behaviours[a]:this.$behaviours[a]={}}this.$behaviours[a][b]=c},this.addBehaviours=function(a){for(var b in a)for(var c in a[b])this.add(b,c,a[b][c])},this.remove=function(a){this.$behaviours&&this.$behaviours[a]&&delete this.$behaviours[a]},this.inherit=function(a,b){if(typeof a=="function")var c=(new a).getBehaviours(b);else var c=a.getBehaviours(b);this.addBehaviours(c)},this.getBehaviours=function(a){if(!a)return this.$behaviours;var b={};for(var c=0;c<a.length;c++)this.$behaviours[a[c]]&&(b[a[c]]=this.$behaviours[a[c]]);return b}}).call(d.prototype),b.Behaviour=d}),define("ace/unicode",["require","exports","module"],function(a,b,c){function d(a){var c=/\w{4}/g;for(var d in a)b.packages[d]=a[d].replace(c,"\\u$&")}b.packages={},d({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),define("ace/mode/text",["require","exports","module","../tokenizer","./text_highlight_rules","./behaviour","../unicode"],function(a,b,c){var d=a("../tokenizer").Tokenizer,e=a("./text_highlight_rules").TextHighlightRules,f=a("./behaviour").Behaviour,g=a("../unicode"),h=function(){this.$tokenizer=new d((new e).getRules()),this.$behaviour=new f};(function(){this.tokenRe=new RegExp("^["+g.packages.L+g.packages.Mn+g.packages.Mc+g.packages.Nd+g.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+g.packages.L+g.packages.Mn+g.packages.Mc+g.packages.Nd+g.packages.Pc+"\\$_]|s])+","g"),this.getTokenizer=function(){return this.$tokenizer},this.toggleCommentLines=function(a,b,c,d){},this.getNextLineIndent=function(a,b,c){return""},this.checkOutdent=function(a,b,c){return!1},this.autoOutdent=function(a,b,c){},this.$getIndent=function(a){var b=a.match(/^(\s+)/);return b?b[1]:""},this.createWorker=function(a){return null},this.createModeDelegates=function(a){if(!this.$embeds)return;this.$modes={};for(var b=0;b<this.$embeds.length;b++)a[this.$embeds[b]]&&(this.$modes[this.$embeds[b]]=new a[this.$embeds[b]]);var c=["toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction"];for(var b=0;b<c.length;b++)(function(a){var d=c[b],e=a[d];a[c[b]]=function(){return this.$delegator(d,arguments,e)}})(this)},this.$delegator=function(a,b,c){var d=b[0];for(var e=0;e<this.$embeds.length;e++){if(!this.$modes[this.$embeds[e]])continue;var f=d.split(this.$embeds[e]);if(!f[0]&&f[1]){b[0]=f[1];var g=this.$modes[this.$embeds[e]];return g[a].apply(g,b)}}var h=c.apply(this,b);return c?h:undefined},this.transformAction=function(a,b,c,d,e){if(this.$behaviour){var f=this.$behaviour.getBehaviours();for(var g in f)if(f[g][b]){var h=f[g][b].apply(this,arguments);if(h)return h}}}}).call(h.prototype),b.Mode=h}),define("ace/anchor",["require","exports","module","./lib/oop","./lib/event_emitter"],function(a,b,c){var d=a("./lib/oop"),e=a("./lib/event_emitter").EventEmitter,f=b.Anchor=function(a,b,c){this.document=a,typeof c=="undefined"?this.setPosition(b.row,b.column):this.setPosition(b,c),this.$onChange=this.onChange.bind(this),a.on("change",this.$onChange)};(function(){d.implement(this,e),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.onChange=function(a){var b=a.data,c=b.range;if(c.start.row==c.end.row&&c.start.row!=this.row)return;if(c.start.row>this.row)return;if(c.start.row==this.row&&c.start.column>this.column)return;var d=this.row,e=this.column;b.action==="insertText"?c.start.row===d&&c.start.column<=e?c.start.row===c.end.row?e+=c.end.column-c.start.column:(e-=c.start.column,d+=c.end.row-c.start.row):c.start.row!==c.end.row&&c.start.row<d&&(d+=c.end.row-c.start.row):b.action==="insertLines"?c.start.row<=d&&(d+=c.end.row-c.start.row):b.action=="removeText"?c.start.row==d&&c.start.column<e?c.end.column>=e?e=c.start.column:e=Math.max(0,e-(c.end.column-c.start.column)):c.start.row!==c.end.row&&c.start.row<d?(c.end.row==d&&(e=Math.max(0,e-c.end.column)+c.start.column),d-=c.end.row-c.start.row):c.end.row==d&&(d-=c.end.row-c.start.row,e=Math.max(0,e-c.end.column)+c.start.column):b.action=="removeLines"&&c.start.row<=d&&(c.end.row<=d?d-=c.end.row-c.start.row:(d=c.start.row,e=0)),this.setPosition(d,e,!0)},this.setPosition=function(a,b,c){var d;c?d={row:a,column:b}:d=this.$clipPositionToDocument(a,b);if(this.row==d.row&&this.column==d.column)return;var e={row:this.row,column:this.column};this.row=d.row,this.column=d.column,this._emit("change",{old:e,value:d})},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.$clipPositionToDocument=function(a,b){var c={};return a>=this.document.getLength()?(c.row=Math.max(0,this.document.getLength()-1),c.column=this.document.getLine(c.row).length):a<0?(c.row=0,c.column=0):(c.row=a,c.column=Math.min(this.document.getLine(c.row).length,Math.max(0,b))),b<0&&(c.column=0),c}}).call(f.prototype)}),define("ace/document",["require","exports","module","./lib/oop","./lib/event_emitter","./range","./anchor"],function(a,b,c){var d=a("./lib/oop"),e=a("./lib/event_emitter").EventEmitter,f=a("./range").Range,g=a("./anchor").Anchor,h=function(a){this.$lines=[],a.length==0?this.$lines=[""]:Array.isArray(a)?this.insertLines(0,a):this.insert({row:0,column:0},a)};(function(){d.implement(this,e),this.setValue=function(a){var b=this.getLength();this.remove(new f(0,0,b,this.getLine(b-1).length)),this.insert({row:0,column:0},a)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(a,b){return new g(this,a,b)},"aaa".split(/a/).length==0?this.$split=function(a){return a.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(a){return a.split(/\r\n|\r|\n/)},this.$detectNewLine=function(a){var b=a.match(/^.*?(\r\n|\r|\n)/m);b?this.$autoNewLine=b[1]:this.$autoNewLine="\n"},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";case"auto":return this.$autoNewLine}},this.$autoNewLine="\n",this.$newLineMode="auto",this.setNewLineMode=function(a){if(this.$newLineMode===a)return;this.$newLineMode=a},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(a){return a=="\r\n"||a=="\r"||a=="\n"},this.getLine=function(a){return this.$lines[a]||""},this.getLines=function(a,b){return this.$lines.slice(a,b+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(a){if(a.start.row==a.end.row)return this.$lines[a.start.row].substring(a.start.column,a.end.column);var b=this.getLines(a.start.row+1,a.end.row-1);return b.unshift((this.$lines[a.start.row]||"").substring(a.start.column)),b.push((this.$lines[a.end.row]||"").substring(0,a.end.column)),b.join(this.getNewLineCharacter())},this.$clipPosition=function(a){var b=this.getLength();return a.row>=b&&(a.row=Math.max(0,b-1),a.column=this.getLine(b-1).length),a},this.insert=function(a,b){if(!b||b.length===0)return a;a=this.$clipPosition(a),this.getLength()<=1&&this.$detectNewLine(b);var c=this.$split(b),d=c.splice(0,1)[0],e=c.length==0?null:c.splice(c.length-1,1)[0];return a=this.insertInLine(a,d),e!==null&&(a=this.insertNewLine(a),a=this.insertLines(a.row,c),a=this.insertInLine(a,e||"")),a},this.insertLines=function(a,b){if(b.length==0)return{row:a,column:0};if(b.length>65535){var c=this.insertLines(a,b.slice(65535));b=b.slice(0,65535)}var d=[a,0];d.push.apply(d,b),this.$lines.splice.apply(this.$lines,d);var e=new f(a,0,a+b.length,0),g={action:"insertLines",range:e,lines:b};return this._emit("change",{data:g}),c||e.end},this.insertNewLine=function(a){a=this.$clipPosition(a);var b=this.$lines[a.row]||"";this.$lines[a.row]=b.substring(0,a.column),this.$lines.splice(a.row+1,0,b.substring(a.column,b.length));var c={row:a.row+1,column:0},d={action:"insertText",range:f.fromPoints(a,c),text:this.getNewLineCharacter()};return this._emit("change",{data:d}),c},this.insertInLine=function(a,b){if(b.length==0)return a;var c=this.$lines[a.row]||"";this.$lines[a.row]=c.substring(0,a.column)+b+c.substring(a.column);var d={row:a.row,column:a.column+b.length},e={action:"insertText",range:f.fromPoints(a,d),text:b};return this._emit("change",{data:e}),d},this.remove=function(a){a.start=this.$clipPosition(a.start),a.end=this.$clipPosition(a.end);if(a.isEmpty())return a.start;var b=a.start.row,c=a.end.row;if(a.isMultiLine()){var d=a.start.column==0?b:b+1,e=c-1;a.end.column>0&&this.removeInLine(c,0,a.end.column),e>=d&&this.removeLines(d,e),d!=b&&(this.removeInLine(b,a.start.column,this.getLine(b).length),this.removeNewLine(a.start.row))}else this.removeInLine(b,a.start.column,a.end.column);return a.start},this.removeInLine=function(a,b,c){if(b==c)return;var d=new f(a,b,a,c),e=this.getLine(a),g=e.substring(b,c),h=e.substring(0,b)+e.substring(c,e.length);this.$lines.splice(a,1,h);var i={action:"removeText",range:d,text:g};return this._emit("change",{data:i}),d.start},this.removeLines=function(a,b){var c=new f(a,0,b+1,0),d=this.$lines.splice(a,b-a+1),e={action:"removeLines",range:c,nl:this.getNewLineCharacter(),lines:d};return this._emit("change",{data:e}),d},this.removeNewLine=function(a){var b=this.getLine(a),c=this.getLine(a+1),d=new f(a,b.length,a+1,0),e=b+c;this.$lines.splice(a,2,e);var g={action:"removeText",range:d,text:this.getNewLineCharacter()};this._emit("change",{data:g})},this.replace=function(a,b){if(b.length==0&&a.isEmpty())return a.start;if(b==this.getTextRange(a))return a.end;this.remove(a);if(b)var c=this.insert(a.start,b);else c=a.start;return c},this.applyDeltas=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=f.fromPoints(c.range.start,c.range.end);c.action=="insertLines"?this.insertLines(d.start.row,c.lines):c.action=="insertText"?this.insert(d.start,c.text):c.action=="removeLines"?this.removeLines(d.start.row,d.end.row-1):c.action=="removeText"&&this.remove(d)}},this.revertDeltas=function(a){for(var b=a.length-1;b>=0;b--){var c=a[b],d=f.fromPoints(c.range.start,c.range.end);c.action=="insertLines"?this.removeLines(d.start.row,d.end.row-1):c.action=="insertText"?this.remove(d):c.action=="removeLines"?this.insertLines(d.start.row,c.lines):c.action=="removeText"&&this.insert(d.start,c.text)}}}).call(h.prototype),b.Document=h}),define("ace/background_tokenizer",["require","exports","module","./lib/oop","./lib/event_emitter"],function(a,b,c){var d=a("./lib/oop"),e=a("./lib/event_emitter").EventEmitter,f=5e3,g=function(a,b){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=a;var c=this;this.$worker=function(){if(!c.running)return;var a=new Date,b=c.currentLine,d=c.doc,e=0,f=d.getLength();while(c.currentLine<f){c.$tokenizeRow(c.currentLine);while(c.lines[c.currentLine])c.currentLine++;e++;if(e%5==0&&new Date-a>20){c.fireUpdateEvent(b,c.currentLine-1),c.running=setTimeout(c.$worker,20);return}}c.running=!1,c.fireUpdateEvent(b,f-1)}};(function(){d.implement(this,e),this.setTokenizer=function(a){this.tokenizer=a,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(a){this.doc=a,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(a,b){var c={first:a,last:b};this._emit("update",{data:c})},this.start=function(a){this.currentLine=Math.min(a||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.$updateOnChange=function(a){var b=a.range,c=b.start.row,d=b.end.row-c;if(d===0)this.lines[c]=null;else if(a.action=="removeText"||a.action=="removeLines")this.lines.splice(c,d+1,null),this.states.splice(c,d+1,null);else{var e=Array(d+1);e.unshift(c,1),this.lines.splice.apply(this.lines,e),this.states.splice.apply(this.states,e)}this.currentLine=Math.min(c,this.currentLine,this.doc.getLength()),this.stop(),this.running=setTimeout(this.$worker,700)},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(a){return this.lines[a]||this.$tokenizeRow(a)},this.getState=function(a){return this.currentLine==a&&this.$tokenizeRow(a),this.states[a]||"start"},this.$tokenizeRow=function(a){var b=this.doc.getLine(a),c=this.states[a-1];if(b.length>f){var d={value:b.substr(f),type:"text"};b=b.slice(0,f)}var e=this.tokenizer.getLineTokens(b,c);return d&&(e.tokens.push(d),e.state="start"),this.states[a]!==e.state?(this.states[a]=e.state,this.lines[a+1]=null,this.currentLine>a+1&&(this.currentLine=a+1)):this.currentLine==a&&(this.currentLine=a+1),this.lines[a]=e.tokens}}).call(g.prototype),b.BackgroundTokenizer=g}),define("ace/search_highlight",["require","exports","module","./lib/lang","./lib/oop","./range"],function(a,b,c){var d=a("./lib/lang"),e=a("./lib/oop"),f=a("./range").Range,g=function(a,b,c){this.setRegexp(a),this.clazz=b,this.type=c||"text"};(function(){this.setRegexp=function(a){if(this.regExp+""==a+"")return;this.regExp=a,this.cache=[]},this.update=function(a,b,c,e){if(!this.regExp)return;var g=e.firstRow,h=e.lastRow;for(var i=g;i<=h;i++){var j=this.cache[i];j==null&&(j=d.getMatchOffsets(c.getLine(i),this.regExp),j=j.map(function(a){return new f(i,a.offset,i,a.offset+a.length)}),this.cache[i]=j.length?j:"");for(var k=j.length;k--;)b.drawSingleLineMarker(a,j[k].toScreenRange(c),this.clazz,e,null,this.type)}}}).call(g.prototype),b.SearchHighlight=g}),define("ace/edit_session/fold_line",["require","exports","module","../range"],function(a,b,c){function e(a,b){this.foldData=a,Array.isArray(b)?this.folds=b:b=this.folds=[b];var c=b[b.length-1];this.range=new d(b[0].start.row,b[0].start.column,c.end.row,c.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(a){a.setFoldLine(this)},this)}var d=a("../range").Range;(function(){this.shiftRow=function(a){this.start.row+=a,this.end.row+=a,this.folds.forEach(function(b){b.start.row+=a,b.end.row+=a})},this.addFold=function(a){if(a.sameRow){if(a.start.row<this.startRow||a.endRow>this.endRow)throw"Can't add a fold to this FoldLine as it has no connection";this.folds.push(a),this.folds.sort(function(a,b){return-a.range.compareEnd(b.start.row,b.start.column)}),this.range.compareEnd(a.start.row,a.start.column)>0?(this.end.row=a.end.row,this.end.column=a.end.column):this.range.compareStart(a.end.row,a.end.column)<0&&(this.start.row=a.start.row,this.start.column=a.start.column)}else if(a.start.row==this.end.row)this.folds.push(a),this.end.row=a.end.row,this.end.column=a.end.column;else{if(a.end.row!=this.start.row)throw"Trying to add fold to FoldRow that doesn't have a matching row";this.folds.unshift(a),this.start.row=a.start.row,this.start.column=a.start.column}a.foldLine=this},this.containsRow=function(a){return a>=this.start.row&&a<=this.end.row},this.walk=function(a,b,c){var d=0,e=this.folds,f,g,h,i=!0;b==null&&(b=this.end.row,c=this.end.column);for(var j=0;j<e.length;j++){f=e[j],g=f.range.compareStart(b,c);if(g==-1){a(null,b,c,d,i);return}h=a(null,f.start.row,f.start.column,d,i),h=!h&&a(f.placeholder,f.start.row,f.start.column,d);if(h||g==0)return;i=!f.sameRow,d=f.end.column}a(null,b,c,d,i)},this.getNextFoldTo=function(a,b){var c,d;for(var e=0;e<this.folds.length;e++){c=this.folds[e],d=c.range.compareEnd(a,b);if(d==-1)return{fold:c,kind:"after"};if(d==0)return{fold:c,kind:"inside"}}return null},this.addRemoveChars=function(a,b,c){var d=this.getNextFoldTo(a,b),e,f;if(d){e=d.fold;if(d.kind=="inside"&&e.start.column!=b&&e.start.row!=a)window.console&&window.console.log(a,b,e);else if(e.start.row==a){f=this.folds;var g=f.indexOf(e);g==0&&(this.start.column+=c);for(g;g<f.length;g++){e=f[g],e.start.column+=c;if(!e.sameRow)return;e.end.column+=c}this.end.column+=c}}},this.split=function(a,b){var c=this.getNextFoldTo(a,b).fold,d=this.folds,f=this.foldData;if(!c)return null;var g=d.indexOf(c),h=d[g-1];this.end.row=h.end.row,this.end.column=h.end.column,d=d.splice(g,d.length-g);var i=new e(f,d);return f.splice(f.indexOf(this)+1,0,i),i},this.merge=function(a){var b=a.folds;for(var c=0;c<b.length;c++)this.addFold(b[c]);var d=this.foldData;d.splice(d.indexOf(a),1)},this.toString=function(){var a=[this.range.toString()+": ["];return this.folds.forEach(function(b){a.push("  "+b.toString())}),a.push("]"),a.join("\n")},this.idxToPosition=function(a){var b=0,c;for(var d=0;d<this.folds.length;d++){var c=this.folds[d];a-=c.start.column-b;if(a<0)return{row:c.start.row,column:c.start.column+a};a-=c.placeholder.length;if(a<0)return c.start;b=c.end.column}return{row:this.end.row,column:this.end.column+a}}}).call(e.prototype),b.FoldLine=e}),define("ace/edit_session/fold",["require","exports","module"],function(a,b,c){var d=b.Fold=function(a,b){this.foldLine=null,this.placeholder=b,this.range=a,this.start=a.start,this.end=a.end,this.sameRow=a.start.row==a.end.row,this.subFolds=[]};(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(a){this.foldLine=a,this.subFolds.forEach(function(b){b.setFoldLine(a)})},this.clone=function(){var a=this.range.clone(),b=new d(a,this.placeholder);return this.subFolds.forEach(function(a){b.subFolds.push(a.clone())}),b},this.addSubFold=function(a){if(this.range.isEqual(a))return this;if(!this.range.containsRange(a))throw"A fold can't intersect already existing fold"+a.range+this.range;var b=a.range.start.row,c=a.range.start.column;for(var d=0,e=-1;d<this.subFolds.length;d++){e=this.subFolds[d].range.compare(b,c);if(e!=1)break}var f=this.subFolds[d];if(e==0)return f.addSubFold(a);var b=a.range.end.row,c=a.range.end.column;for(var g=d,e=-1;g<this.subFolds.length;g++){e=this.subFolds[g].range.compare(b,c);if(e!=1)break}var h=this.subFolds[g];if(e==0)throw"A fold can't intersect already existing fold"+a.range+this.range;var i=this.subFolds.splice(d,g-d,a);return a.setFoldLine(this.foldLine),a}}).call(d.prototype)}),define("ace/token_iterator",["require","exports","module"],function(a,b,c){var d=function(a,b,c){this.$session=a,this.$row=b,this.$rowTokens=a.getTokens(b);var d=a.getTokenAt(b,c);this.$tokenIndex=d?d.index:-1};(function(){this.stepBackward=function(){this.$tokenIndex-=1;while(this.$tokenIndex<0){this.$row-=1;if(this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var a=this.$session.getLength();this.$tokenIndex+=1;while(this.$tokenIndex>=this.$rowTokens.length){this.$row+=1;if(this.$row>=a)return this.$row=a-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var a=this.$rowTokens,b=this.$tokenIndex,c=a[b].start;if(c!==undefined)return c;c=0;while(b>0)b-=1,c+=a[b].value.length;return c}}).call(d.prototype),b.TokenIterator=d}),define("ace/edit_session/folding",["require","exports","module","../range","./fold_line","./fold","../token_iterator"],function(a,b,c){function h(){this.getFoldAt=function(a,b,c){var d=this.getFoldLine(a);if(!d)return null;var e=d.folds;for(var f=0;f<e.length;f++){var g=e[f];if(g.range.contains(a,b)){if(c==1&&g.range.isEnd(a,b))continue;if(c==-1&&g.range.isStart(a,b))continue;return g}}},this.getFoldsInRange=function(a){a=a.clone();var b=a.start,c=a.end,d=this.$foldData,e=[];b.column+=1,c.column-=1;for(var f=0;f<d.length;f++){var g=d[f].range.compareRange(a);if(g==2)continue;if(g==-2)break;var h=d[f].folds;for(var i=0;i<h.length;i++){var j=h[i];g=j.range.compareRange(a);if(g==-2)break;if(g==2)continue;if(g==42)break;e.push(j)}}return e},this.getAllFolds=function(){function c(b){a.push(b);if(!b.subFolds)return;for(var d=0;d<b.subFolds.length;d++)c(b.subFolds[d])}var a=[],b=this.$foldData;for(var d=0;d<b.length;d++)for(var e=0;e<b[d].folds.length;e++)c(b[d].folds[e]);return a},this.getFoldStringAt=function(a,b,c,d){d=d||this.getFoldLine(a);if(!d)return null;var e={end:{column:0}},f,g;for(var h=0;h<d.folds.length;h++){g=d.folds[h];var i=g.range.compareEnd(a,b);if(i==-1){f=this.getLine(g.start.row).substring(e.end.column,g.start.column);break}if(i===0)return null;e=g}return f||(f=this.getLine(g.start.row).substring(e.end.column)),c==-1?f.substring(0,b-e.end.column):c==1?f.substring(b-e.end.column):f},this.getFoldLine=function(a,b){var c=this.$foldData,d=0;b&&(d=c.indexOf(b)),d==-1&&(d=0);for(d;d<c.length;d++){var e=c[d];if(e.start.row<=a&&e.end.row>=a)return e;if(e.end.row>a)return null}return null},this.getNextFoldLine=function(a,b){var c=this.$foldData,d=0;b&&(d=c.indexOf(b)),d==-1&&(d=0);for(d;d<c.length;d++){var e=c[d];if(e.end.row>=a)return e}return null},this.getFoldedRowCount=function(a,b){var c=this.$foldData,d=b-a+1;for(var e=0;e<c.length;e++){var f=c[e],g=f.end.row,h=f.start.row;if(g>=b){h<b&&(h>=a?d-=b-h:d=0);break}g>=a&&(h>=a?d-=g-h:d-=g-a+1)}return d},this.$addFoldLine=function(a){return this.$foldData.push(a),this.$foldData.sort(function(a,b){return a.start.row-b.start.row}),a},this.addFold=function(a,b){var c=this.$foldData,d=!1,g;a instanceof f?g=a:g=new f(b,a),this.$clipRangeToDocument(g.range);var h=g.start.row,i=g.start.column,j=g.end.row,k=g.end.column;if(g.placeholder.length<2)throw"Placeholder has to be at least 2 characters";if(h==j&&k-i<2)throw"The range has to be at least 2 characters width";var l=this.getFoldAt(h,i,1),m=this.getFoldAt(j,k,-1);if(l&&m==l)return l.addSubFold(g);if(l&&!l.range.isStart(h,i)||m&&!m.range.isEnd(j,k))throw"A fold can't intersect already existing fold"+g.range+l.range;var n=this.getFoldsInRange(g.range);n.length>0&&(this.removeFolds(n),g.subFolds=n);for(var o=0;o<c.length;o++){var p=c[o];if(j==p.start.row){p.addFold(g),d=!0;break}if(h==p.end.row){p.addFold(g),d=!0;if(!g.sameRow){var q=c[o+1];if(q&&q.start.row==j){p.merge(q);break}}break}if(j<=p.start.row)break}return d||(p=this.$addFoldLine(new e(this.$foldData,g))),this.$useWrapMode?this.$updateWrapData(p.start.row,p.start.row):this.$updateRowLengthCache(p.start.row,p.start.row),this.$modified=!0,this._emit("changeFold",{data:g}),g},this.addFolds=function(a){a.forEach(function(a){this.addFold(a)},this)},this.removeFold=function(a){var b=a.foldLine,c=b.start.row,d=b.end.row,e=this.$foldData,f=b.folds;if(f.length==1)e.splice(e.indexOf(b),1);else if(b.range.isEnd(a.end.row,a.end.column))f.pop(),b.end.row=f[f.length-1].end.row,b.end.column=f[f.length-1].end.column;else if(b.range.isStart(a.start.row,a.start.column))f.shift(),b.start.row=f[0].start.row,b.start.column=f[0].start.column;else if(a.sameRow)f.splice(f.indexOf(a),1);else{var g=b.split(a.start.row,a.start.column);f=g.folds,f.shift(),g.start.row=f[0].start.row,g.start.column=f[0].start.column}this.$useWrapMode?this.$updateWrapData(c,d):this.$updateRowLengthCache(c,d),this.$modified=!0,this._emit("changeFold",{data:a})},this.removeFolds=function(a){var b=[];for(var c=0;c<a.length;c++)b.push(a[c]);b.forEach(function(a){this.removeFold(a)},this),this.$modified=!0},this.expandFold=function(a){this.removeFold(a),a.subFolds.forEach(function(a){this.addFold(a)},this),a.subFolds=[]},this.expandFolds=function(a){a.forEach(function(a){this.expandFold(a)},this)},this.unfold=function(a,b){var c,e;a==null?c=new d(0,0,this.getLength(),0):typeof a=="number"?c=new d(a,0,a,this.getLine(a).length):"row"in a?c=d.fromPoints(a,a):c=a,e=this.getFoldsInRange(c);if(b)this.removeFolds(e);else while(e.length)this.expandFolds(e),e=this.getFoldsInRange(c)},this.isRowFolded=function(a,b){return!!this.getFoldLine(a,b)},this.getRowFoldEnd=function(a,b){var c=this.getFoldLine(a,b);return c?c.end.row:a},this.getFoldDisplayLine=function(a,b,c,d,e){d==null&&(d=a.start.row,e=0),b==null&&(b=a.end.row,c=this.getLine(b).length);var f=this.doc,g="";return a.walk(function(a,b,c,h){if(b<d)return;if(b==d){if(c<e)return;h=Math.max(e,h)}a?g+=a:g+=f.getLine(b).substring(h,c)}.bind(this),b,c),g},this.getDisplayLine=function(a,b,c,d){var e=this.getFoldLine(a);if(!e){var f;return f=this.doc.getLine(a),f.substring(d||0,b||f.length)}return this.getFoldDisplayLine(e,a,b,c,d)},this.$cloneFoldData=function(){var a=[];return a=this.$foldData.map(function(b){var c=b.folds.map(function(a){return a.clone()});return new e(a,c)}),a},this.toggleFold=function(a){var b=this.selection,c=b.getRange(),d,e;if(c.isEmpty()){var f=c.start;d=this.getFoldAt(f.row,f.column);if(d){this.expandFold(d);return}(e=this.findMatchingBracket(f))?c.comparePoint(e)==1?c.end=e:(c.start=e,c.start.column++,c.end.column--):(e=this.findMatchingBracket({row:f.row,column:f.column+1}))?(c.comparePoint(e)==1?c.end=e:c.start=e,c.start.column++):c=this.getCommentFoldRange(f.row,f.column)||c}else{var g=this.getFoldsInRange(c);if(a&&g.length){this.expandFolds(g);return}g.length==1&&(d=g[0])}d||(d=this.getFoldAt(c.start.row,c.start.column));if(d&&d.range.toString()==c.toString()){this.expandFold(d);return}var h="...";if(!c.isMultiLine()){h=this.getTextRange(c);if(h.length<4)return;h=h.trim().substring(0,2)+".."}this.addFold(h,c)},this.getCommentFoldRange=function(a,b){var c=new g(this,a,b),e=c.getCurrentToken();if(e&&/^comment|string/.test(e.type)){var f=new d,h=new RegExp(e.type.replace(/\..*/,"\\."));do e=c.stepBackward();while(e&&h.test(e.type));c.stepForward(),f.start.row=c.getCurrentTokenRow(),f.start.column=c.getCurrentTokenColumn()+2,c=new g(this,a,b);do e=c.stepForward();while(e&&h.test(e.type));return e=c.stepBackward(),f.end.row=c.getCurrentTokenRow(),f.end.column=c.getCurrentTokenColumn()+e.value.length,f}},this.foldAll=function(a,b){var c=this.foldWidgets;b=b||this.getLength();for(var d=a||0;d<b;d++){c[d]==null&&(c[d]=this.getFoldWidget(d));if(c[d]!="start")continue;var e=this.getFoldWidgetRange(d);if(e&&e.end.row<b)try{this.addFold("...",e)}catch(f){}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(a){if(!this.$foldStyles[a])throw new Error("invalid fold style: "+a+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle==a)return;this.$foldStyle=a,a=="manual"&&this.unfold();var b=this.$foldMode;this.$setFolding(null),this.$setFolding(b)},this.$setFolding=function(a){if(this.$foldMode==a)return;this.$foldMode=a,this.removeListener("change",this.$updateFoldWidgets),this._emit("changeAnnotation");if(!a||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=a.getFoldWidget.bind(a,this,this.$foldStyle),this.getFoldWidgetRange=a.getFoldWidgetRange.bind(a,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets)},this.onFoldWidgetClick=function(a,b){var c=this.getFoldWidget(a),d=this.getLine(a),e=b.shiftKey,f=e||b.ctrlKey||b.altKey||b.metaKey,g;c=="end"?g=this.getFoldAt(a,0,-1):g=this.getFoldAt(a,d.length,1);if(g){f?this.removeFold(g):this.expandFold(g);return}var h=this.getFoldWidgetRange(a);if(h){if(!h.isMultiLine()){g=this.getFoldAt(h.start.row,h.start.column,1);if(g&&h.isEqual(g.range)){this.removeFold(g);return}}e||this.addFold("...",h),f&&this.foldAll(h.start.row+1,h.end.row)}else f&&this.foldAll(a+1,this.getLength()),b.target.className+=" invalid"},this.updateFoldWidgets=function(a){var b=a.data,c=b.range,d=c.start.row,e=c.end.row-d;if(e===0)this.foldWidgets[d]=null;else if(b.action=="removeText"||b.action=="removeLines")this.foldWidgets.splice(d,e+1,null);else{var f=Array(e+1);f.unshift(d,1),this.foldWidgets.splice.apply(this.foldWidgets,f)}}}var d=a("../range").Range,e=a("./fold_line").FoldLine,f=a("./fold").Fold,g=a("../token_iterator").TokenIterator;b.Folding=h}),define("ace/edit_session/bracket_match",["require","exports","module","../token_iterator","../range"],function(a,b,c){function f(){this.findMatchingBracket=function(a){if(a.column==0)return null;var b=this.getLine(a.row).charAt(a.column-1);if(b=="")return null;var c=b.match(/([\(\[\{])|([\)\]\}])/);return c?c[1]?this.$findClosingBracket(c[1],a):this.$findOpeningBracket(c[2],a):null},this.getBracketRange=function(a){var b=this.getLine(a.row),c=!0,d,f=b.charAt(a.column-1),g=f&&f.match(/([\(\[\{])|([\)\]\}])/);g||(f=b.charAt(a.column),a={row:a.row,column:a.column+1},g=f&&f.match(/([\(\[\{])|([\)\]\}])/),c=!1);if(!g)return null;if(g[1]){var h=this.$findClosingBracket(g[1],a);if(!h)return null;d=e.fromPoints(a,h),c||(d.end.column++,d.start.column--),d.cursor=d.end}else{var h=this.$findOpeningBracket(g[2],a);if(!h)return null;d=e.fromPoints(h,a),c||(d.start.column++,d.end.column--),d.cursor=d.start}return d},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(a,b,c){var e=this.$brackets[a],f=1,g=new d(this,b.row,b.column),h=g.getCurrentToken();h||(h=g.stepForward());if(!h)return;c||(c=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("rparen",".paren")+")+"));var i=b.column-g.getCurrentTokenColumn()-2,j=h.value;for(;;){while(i>=0){var k=j.charAt(i);if(k==e){f-=1;if(f==0)return{row:g.getCurrentTokenRow(),column:i+g.getCurrentTokenColumn()}}else k==a&&(f+=1);i-=1}do h=g.stepBackward();while(h&&!c.test(h.type));if(h==null)break;j=h.value,i=j.length-1}return null},this.$findClosingBracket=function(a,b,c){var e=this.$brackets[a],f=1,g=new d(this,b.row,b.column),h=g.getCurrentToken();h||(h=g.stepForward());if(!h)return;c||(c=new RegExp("(\\.?"+h.type.replace(".","\\.").replace("lparen",".paren")+")+"));var i=b.column-g.getCurrentTokenColumn();for(;;){var j=h.value,k=j.length;while(i<k){var l=j.charAt(i);if(l==e){f-=1;if(f==0)return{row:g.getCurrentTokenRow(),column:i+g.getCurrentTokenColumn()}}else l==a&&(f+=1);i+=1}do h=g.stepForward();while(h&&!c.test(h.type));if(h==null)break;i=0}return null}}var d=a("../token_iterator").TokenIterator,e=a("../range").Range;b.BracketMatch=f}),define("ace/undomanager",["require","exports","module"],function(a,b,c){var d=function(){this.reset()};(function(){this.execute=function(a){var b=a.args[0];this.$doc=a.args[1],this.$undoStack.push(b),this.$redoStack=[]},this.undo=function(a){var b=this.$undoStack.pop(),c=null;return b&&(c=this.$doc.undoChanges(b,a),this.$redoStack.push(b)),c},this.redo=function(a){var b=this.$redoStack.pop(),c=null;return b&&(c=this.$doc.redoChanges(b,a),this.$undoStack.push(b)),c},this.reset=function(){this.$undoStack=[],this.$redoStack=[]},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0}}).call(d.prototype),b.UndoManager=d}),define("ace/layer/gutter",["require","exports","module","../lib/dom","../lib/oop","../lib/event_emitter"],function(a,b,c){var d=a("../lib/dom"),e=a("../lib/oop"),f=a("../lib/event_emitter").EventEmitter,g=function(a){this.element=d.createElement("div"),this.element.className="ace_layer ace_gutter-layer",a.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$breakpoints=[],this.$annotations=[],this.$decorations=[]};(function(){e.implement(this,f),this.setSession=function(a){this.session=a},this.addGutterDecoration=function(a,b){this.$decorations[a]||(this.$decorations[a]=""),this.$decorations[a]+=" "+b},this.removeGutterDecoration=function(a,b){this.$decorations[a]=(this.$decorations[a]||"").replace(" "+b,"")},this.setAnnotations=function(a){this.$annotations=[];for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];if(!c)continue;var d=this.$annotations[b]={text:[]};for(var e=0;e<c.length;e++){var f=c[e],g=f.text.replace(/"/g,"&quot;").replace(/'/g,"&#8217;").replace(/</,"&lt;");d.text.indexOf(g)===-1&&d.text.push(g);var h=f.type;h=="error"?d.className="ace_error":h=="warning"&&d.className!="ace_error"?d.className="ace_warning":h=="info"&&!d.className&&(d.className="ace_info")}}},this.update=function(a){this.$config=a;var b={className:"",text:[]},c=[],e=a.firstRow,f=a.lastRow,g=this.session.getNextFoldLine(e),h=g?g.start.row:Infinity,i=this.$showFoldWidgets&&this.session.foldWidgets,j=this.session.$breakpoints;for(;;){e>h&&(e=g.end.row+1,g=this.session.getNextFoldLine(e,g),h=g?g.start.row:Infinity);if(e>f)break;var k=this.$annotations[e]||b;c.push("<div class='ace_gutter-cell",this.$decorations[e]||"",j[e]?" ace_breakpoint ":" ",k.className,"' title='",k.text.join("\n"),"' style='height:",this.session.getRowLength(e)*a.lineHeight,"px;'>",e+1);if(i){var l=i[e];l==null&&(l=i[e]=this.session.getFoldWidget(e)),l&&c.push("<span class='ace_fold-widget ",l,l=="start"&&e==h&&e<g.end.row?" closed":" open","'></span>")}c.push("</div>"),e++}this.session.$useWrapMode&&c.push("<div class='ace_gutter-cell' style='pointer-events:none;opacity:0'>",this.session.getLength()-1,"</div>"),this.element=d.setInnerHtml(this.element,c.join("")),this.element.style.height=a.minHeight+"px";var m=this.element.offsetWidth;m!==this.gutterWidth&&(this.gutterWidth=m,this._emit("changeGutterWidth",m))},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(a){a?d.addCssClass(this.element,"ace_folding-enabled"):d.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=a},this.getShowFoldWidgets=function(){return this.$showFoldWidgets}}).call(g.prototype),b.Gutter=g}),define("ace/layer/marker",["require","exports","module","../range","../lib/dom"],function(a,b,c){var d=a("../range").Range,e=a("../lib/dom"),f=function(a){this.element=e.createElement("div"),this.element.className="ace_layer ace_marker-layer",a.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(a){this.$padding=a},this.setSession=function(a){this.session=a},this.setMarkers=function(a){this.markers=a},this.update=function(a){var a=a||this.config;if(!a)return;this.config=a;var b=[];for(var c in this.markers){var d=this.markers[c];if(!d.range){d.update(b,this,this.session,a);continue}var f=d.range.clipRows(a.firstRow,a.lastRow);if(f.isEmpty())continue;f=f.toScreenRange(this.session);if(d.renderer){var g=this.$getTop(f.start.row,a),h=Math.round(this.$padding+f.start.column*a.characterWidth);d.renderer(b,f,h,g,a)}else f.isMultiLine()?d.type=="text"?this.drawTextMarker(b,f,d.clazz,a):this.drawMultiLineMarker(b,f,d.clazz,a,d.type):this.drawSingleLineMarker(b,f,d.clazz+" start",a,null,d.type)}this.element=e.setInnerHtml(this.element,b.join(""))},this.$getTop=function(a,b){return(a-b.firstRowScreen)*b.lineHeight},this.drawTextMarker=function(a,b,c,e){var f=b.start.row,g=new d(f,b.start.column,f,this.session.getScreenLastRowColumn(f));this.drawSingleLineMarker(a,g,c+" start",e,1,"text"),f=b.end.row,g=new d(f,0,f,b.end.column),this.drawSingleLineMarker(a,g,c,e,0,"text");for(f=b.start.row+1;f<b.end.row;f++)g.start.row=f,g.end.row=f,g.end.column=this.session.getScreenLastRowColumn(f),this.drawSingleLineMarker(a,g,c,e,1,"text")},this.drawMultiLineMarker=function(a,b,c,d,e){var f=e==="background"?0:this.$padding,g=d.lineHeight,h=this.$getTop(b.start.row,d),i=Math.round(f+b.start.column*d.characterWidth);a.push("<div class='",c," start' style='","height:",g,"px;","right:0;","top:",h,"px;","left:",i,"px;'></div>"),h=this.$getTop(b.end.row,d);var j=Math.round(b.end.column*d.characterWidth);a.push("<div class='",c,"' style='","height:",g,"px;","width:",j,"px;","top:",h,"px;","left:",f,"px;'></div>"),g=(b.end.row-b.start.row-1)*d.lineHeight;if(g<0)return;h=this.$getTop(b.start.row+1,d),a.push("<div class='",c,"' style='","height:",g,"px;","right:0;","top:",h,"px;","left:",f,"px;'></div>")},this.drawSingleLineMarker=function(a,b,c,d,e,f){var g=f==="background"?0:this.$padding,h=d.lineHeight;if(f==="background")var i=d.width;else i=Math.round((b.end.column+(e||0)-b.start.column)*d.characterWidth);var j=this.$getTop(b.start.row,d),k=Math.round(g+b.start.column*d.characterWidth);a.push("<div class='",c,"' style='","height:",h,"px;","width:",i,"px;","top:",j,"px;","left:",k,"px;'></div>")}}).call(f.prototype),b.Marker=f}),define("ace/layer/text",["require","exports","module","../lib/oop","../lib/dom","../lib/lang","../lib/useragent","../lib/event_emitter"],function(a,b,c){var d=a("../lib/oop"),e=a("../lib/dom"),f=a("../lib/lang"),g=a("../lib/useragent"),h=a("../lib/event_emitter").EventEmitter,i=function(a){this.element=e.createElement("div"),this.element.className="ace_layer ace_text-layer",a.appendChild(this.element),this.$characterSize=this.$measureSizes()||{width:0,height:0},this.$pollSizeChanges()};(function(){d.implement(this,h),this.EOF_CHAR="Â¶",this.EOL_CHAR="Â¬",this.TAB_CHAR="â",this.SPACE_CHAR="Â·",this.$padding=0,this.setPadding=function(a){this.$padding=a,this.element.style.padding="0 "+a+"px"},this.getLineHeight=function(){return this.$characterSize.height||1},this.getCharacterWidth=function(){return this.$characterSize.width||1},this.checkForSizeChanges=function(){var a=this.$measureSizes();a&&(this.$characterSize.width!==a.width||this.$characterSize.height!==a.height)&&(this.$characterSize=a,this._emit("changeCharacterSize",{data:a}))},this.$pollSizeChanges=function(){var a=this;this.$pollSizeChangesTimer=setInterval(function(){a.checkForSizeChanges()},500)},this.$fontStyles={fontFamily:1,fontSize:1,fontWeight:1,fontStyle:1,lineHeight:1},this.$measureSizes=g.isIE||g.isOldGecko?function(){var a=1e3;if(!this.$measureNode){var b=this.$measureNode=e.createElement("div"),c=b.style;c.width=c.height="auto",c.left=c.top=-a*40+"px",c.visibility="hidden",c.position="fixed",c.overflow="visible",c.whiteSpace="nowrap",b.innerHTML=f.stringRepeat("Xy",a);if(this.element.ownerDocument.body)this.element.ownerDocument.body.appendChild(b);else{var d=this.element.parentNode;while(!e.hasCssClass(d,"ace_editor"))d=d.parentNode;d.appendChild(b)}}if(!this.element.offsetWidth)return null;var c=this.$measureNode.style,g=e.computedStyle(this.element);for(var h in this.$fontStyles)c[h]=g[h];var i={height:this.$measureNode.offsetHeight,width:this.$measureNode.offsetWidth/(a*2)};return i.width==0||i.height==0?null:i}:function(){if(!this.$measureNode){var a=this.$measureNode=e.createElement("div"),b=a.style;b.width=b.height="auto",b.left=b.top="-100px",b.visibility="hidden",b.position="fixed",b.overflow="visible",b.whiteSpace="nowrap",a.innerHTML="X";var c=this.element.parentNode;while(c&&!e.hasCssClass(c,"ace_editor"))c=c.parentNode;if(!c)return this.$measureNode=null;c.appendChild(a)}var d=this.$measureNode.getBoundingClientRect(),f={height:d.height,width:d.width};return f.width==0||f.height==0?null:f},this.setSession=function(a){this.session=a},this.showInvisibles=!1,this.setShowInvisibles=function(a){return this.showInvisibles==a?!1:(this.showInvisibles=a,!0)},this.$tabStrings=[],this.$computeTabString=function(){var a=this.session.getTabSize(),b=this.$tabStrings=[0];for(var c=1;c<a+1;c++)this.showInvisibles?b.push("<span class='ace_invisible'>"+this.TAB_CHAR+(new Array(c)).join("&#160;")+"</span>"):b.push((new Array(c+1)).join("&#160;"))},this.updateLines=function(a,b,c){this.$computeTabString(),(this.config.lastRow!=a.lastRow||this.config.firstRow!=a.firstRow)&&this.scrollLines(a),this.config=a;var d=Math.max(b,a.firstRow),f=Math.min(c,a.lastRow),g=this.element.childNodes,h=0;for(var i=a.firstRow;i<d;i++){var j=this.session.getFoldLine(i);if(j){if(j.containsRow(d)){d=j.start.row;break}i=j.end.row}h++}for(var k=d;k<=f;k++){var l=g[h++];if(!l)continue;var m=[],n=this.session.getTokens(k);this.$renderLine(m,k,n,!this.$useLineGroups()),l=e.setInnerHtml(l,m.join("")),k=this.session.getRowFoldEnd(k)}},this.scrollLines=function(a){this.$computeTabString();var b=this.config;this.config=a;if(!b||b.lastRow<a.firstRow)return this.update(a);if(a.lastRow<b.firstRow)return this.update(a);var c=this.element;if(b.firstRow<a.firstRow)for(var d=this.session.getFoldedRowCount(b.firstRow,a.firstRow-1);d>0;d--)c.removeChild(c.firstChild);if(b.lastRow>a.lastRow)for(var d=this.session.getFoldedRowCount(a.lastRow+1,b.lastRow);d>0;d--)c.removeChild(c.lastChild);if(a.firstRow<b.firstRow){var e=this.$renderLinesFragment(a,a.firstRow,b.firstRow-1);c.firstChild?c.insertBefore(e,c.firstChild):c.appendChild(e)}if(a.lastRow>b.lastRow){var e=this.$renderLinesFragment(a,b.lastRow+1,a.lastRow);c.appendChild(e)}},this.$renderLinesFragment=function(a,b,c){var d=this.element.ownerDocument.createDocumentFragment(),f=b,g=this.session.getNextFoldLine(f),h=g?g.start.row:Infinity;for(;;){f>h&&(f=g.end.row+1,g=this.session.getNextFoldLine(f,g),h=g?g.start.row:Infinity);if(f>c)break;var i=e.createElement("div"),j=[],k=this.session.getTokens(f);this.$renderLine(j,f,k,!1),i.innerHTML=j.join("");if(this.$useLineGroups())i.className="ace_line_group",d.appendChild(i);else{var l=i.childNodes;while(l.length)d.appendChild(l[0])}f++}return d},this.update=function(a){this.$computeTabString(),this.config=a;var b=[],c=a.firstRow,d=a.lastRow,f=c,g=this.session.getNextFoldLine(f),h=g?g.start.row:Infinity;for(;;){f>h&&(f=g.end.row+1,g=this.session.getNextFoldLine(f,g),h=g?g.start.row:Infinity);if(f>d)break;this.$useLineGroups()&&b.push("<div class='ace_line_group'>");var i=this.session.getTokens(f);this.$renderLine(b,f,i,!1),this.$useLineGroups()&&b.push("</div>"),f++}this.element=e.setInnerHtml(this.element,b.join(""))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(a,b,c,d){var e=this,f=/\t|&|<|( +)|([\u0000-\u0019\u00a0\u1680\u180E\u2000-\u200b\u2028\u2029\u202F\u205F\u3000\uFEFF])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,g=function(a,c,d,f,g){if(c)return(new Array(a.length+1)).join("&#160;");if(a=="&")return"&#38;";if(a=="<")return"&#60;";if(a=="	"){var h=e.session.getScreenTabSize(b+f);return b+=h-1,e.$tabStrings[h]}if(a=="ã"){var i=e.showInvisibles?"ace_cjk ace_invisible":"ace_cjk",j=e.showInvisibles?e.SPACE_CHAR:"";return b+=1,"<span class='"+i+"' style='width:"+e.config.characterWidth*2+"px'>"+j+"</span>"}return d?"<span class='ace_invisible ace_invalid'>"+e.SPACE_CHAR+"</span>":(b+=1,"<span class='ace_cjk' style='width:"+e.config.characterWidth*2+"px'>"+a+"</span>")},h=d.replace(f,g);if(!this.$textToken[c.type]){var i="ace_"+c.type.replace(/\./g," ace_"),j="";c.type=="fold"&&(j=" style='width:"+c.value.length*this.config.characterWidth+"px;' "),a.push("<span class='",i,"'",j,">",h,"</span>")}else a.push(h);return b+d.length},this.$renderLineCore=function(a,b,c,d,e){var f=0,g=0,h,i=0,j=this;!d||d.length==0?h=Number.MAX_VALUE:h=d[0],e||a.push("<div class='ace_line' style='height:",this.config.lineHeight,"px","'>");for(var k=0;k<c.length;k++){var l=c[k],m=l.value;if(f+m.length<h)i=j.$renderToken(a,i,l,m),f+=m.length;else{while(f+m.length>=h)i=j.$renderToken(a,i,l,m.substring(0,h-f)),m=m.substring(h-f),f=h,e||a.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px","'>"),g++,i=0,h=d[g]||Number.MAX_VALUE;m.length!=0&&(f+=m.length,i=j.$renderToken(a,i,l,m))}}this.showInvisibles&&(b!==this.session.getLength()-1?a.push("<span class='ace_invisible'>"+this.EOL_CHAR+"</span>"):a.push("<span class='ace_invisible'>"+this.EOF_CHAR+"</span>")),e||a.push("</div>")},this.$renderLine=function(a,b,c,d){if(!this.session.isRowFolded(b)){var e=this.session.getRowSplitData(b);this.$renderLineCore(a,b,c,e,d)}else this.$renderFoldLine(a,b,c,d)},this.$renderFoldLine=function(a,b,c,d){function h(a,b,c){var d=0,e=0;while(e+a[d].value.length<b){e+=a[d].value.length,d++;if(d==a.length)return}if(e!=b){var f=a[d].value.substring(b-e);f.length>c-b&&(f=f.substring(0,c-b)),g.push({type:a[d].type,value:f}),e=b+f.length,d+=1}while(e<c&&d<a.length){var f=a[d].value;f.length+e>c?g.push({type:a[d].type,value:f.substring(0,c-e)}):g.push(a[d]),e+=f.length,d+=1}}var e=this.session,f=e.getFoldLine(b),g=[];f.walk(function(a,b,d,f,i){a?g.push({type:"fold",value:a}):(i&&(c=e.getTokens(b)),c.length&&h(c,f,d))},f.end.row,this.session.getLine(f.end.row).length);var i=this.session.$useWrapMode?this.session.$wrapData[b]:null;this.$renderLineCore(a,b,g,i,d)},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(i.prototype),b.Text=i}),define("ace/layer/cursor",["require","exports","module","../lib/dom"],function(a,b,c){var d=a("../lib/dom"),e=function(a){this.element=d.createElement("div"),this.element.className="ace_layer ace_cursor-layer",a.appendChild(this.element),this.isVisible=!1,this.cursors=[],this.cursor=this.addCursor()};(function(){this.$padding=0,this.setPadding=function(a){this.$padding=a},this.setSession=function(a){this.session=a},this.addCursor=function(){var a=d.createElement("div"),b="ace_cursor";return this.isVisible||(b+=" ace_hidden"),this.overwrite&&(b+=" ace_overwrite"),a.className=b,this.element.appendChild(a),this.cursors.push(a),a},this.removeCursor=function(){if(this.cursors.length>1){var a=this.cursors.pop();return a.parentNode.removeChild(a),a}},this.hideCursor=function(){this.isVisible=!1;for(var a=this.cursors.length;a--;)d.addCssClass(this.cursors[a],"ace_hidden");clearInterval(this.blinkId)},this.showCursor=function(){this.isVisible=!0;for(var a=this.cursors.length;a--;)d.removeCssClass(this.cursors[a],"ace_hidden");this.element.style.visibility="",this.restartTimer()},this.restartTimer=function(){clearInterval(this.blinkId);if(!this.isVisible)return;var a=this.cursors.length==1?this.cursor:this.element;this.blinkId=setInterval(function(){a.style.visibility="hidden",setTimeout(function(){a.style.visibility=""},400)},1e3)},this.getPixelPosition=function(a,b){if(!this.config||!this.session)return{left:0,top:0};a||(a=this.session.selection.getCursor());var c=this.session.documentToScreenPosition(a),d=Math.round(this.$padding+c.column*this.config.characterWidth),e=(c.row-(b?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:d,top:e}},this.update=function(a){this.config=a;if(this.session.selectionMarkerCount>0){var b=this.session.$selectionMarkers,c=0,d,e=0;for(var c=b.length;c--;){d=b[c];var f=this.getPixelPosition(d.cursor,!0),g=(this.cursors[e++]||this.addCursor()).style;g.left=f.left+"px",g.top=f.top+"px",g.width=a.characterWidth+"px",g.height=a.lineHeight+"px"}if(e>1)while(this.cursors.length>e)this.removeCursor()}else{var f=this.getPixelPosition(null,!0),g=this.cursor.style;g.left=f.left+"px",g.top=f.top+"px",g.width=a.characterWidth+"px",g.height=a.lineHeight+"px";while(this.cursors.length>1)this.removeCursor()}var h=this.session.getOverwrite();h!=this.overwrite&&this.$setOverite(h),this.$pixelPos=f,this.restartTimer()},this.$setOverite=function(a){this.overwrite=a;for(var b=this.cursors.length;b--;)a?d.addCssClass(this.cursors[b],"ace_overwrite"):d.removeCssClass(this.cursors[b],"ace_overwrite")},this.destroy=function(){clearInterval(this.blinkId)}}).call(e.prototype),b.Cursor=e}),define("ace/scrollbar",["require","exports","module","./lib/oop","./lib/dom","./lib/event","./lib/event_emitter"],function(a,b,c){var d=a("./lib/oop"),e=a("./lib/dom"),f=a("./lib/event"),g=a("./lib/event_emitter").EventEmitter,h=function(a){this.element=e.createElement("div"),this.element.className="ace_sb",this.inner=e.createElement("div"),this.element.appendChild(this.inner),a.appendChild(this.element),this.width=e.scrollbarWidth(a.ownerDocument),this.element.style.width=(this.width||15)+5+"px",f.addListener(this.element,"scroll",this.onScroll.bind(this))};(function(){d.implement(this,g),this.onScroll=function(){this._emit("scroll",{data:this.element.scrollTop})},this.getWidth=function(){return this.width},this.setHeight=function(a){this.element.style.height=a+"px"},this.setInnerHeight=function(a){this.inner.style.height=a+"px"},this.setScrollTop=function(a){this.element.scrollTop=a}}).call(h.prototype),b.ScrollBar=h}),define("ace/renderloop",["require","exports","module","./lib/event"],function(a,b,c){var d=a("./lib/event"),e=function(a,b){this.onRender=a,this.pending=!1,this.changes=0,this.window=b||window};(function(){this.schedule=function(a){this.changes=this.changes|a;if(!this.pending){this.pending=!0;var b=this;d.nextTick(function(){b.pending=!1;var a;while(a=b.changes)b.changes=0,b.onRender(a)},this.window)}}}).call(e.prototype),b.RenderLoop=e}),function(){var a=typeof require!="undefined"&&require;define("ace/requirejs/text",["require","exports","module","ace/lib/net"],function(b,c,d){c.load=function(c,d,e,f){a&&a.nodeRequire?e(a.nodeRequire("fs").readFileSync(d.toUrl(c),"utf8")):b("ace/lib/net").get(d.toUrl(c),e)}})}(),define("ace/range_list",["require","exports","module"],function(a,b,c){var d=function(){this.ranges=[]};(function(){this.comparePoints=function(a,b){return a.row-b.row||a.column-b.column},this.pointIndex=function(a,b){var c=this.ranges;for(var d=b||0;d<c.length;d++){var e=c[d],f=this.comparePoints(a,e.end);if(f>0)continue;return f==0?d:(f=this.comparePoints(a,e.start),f>=0?d:-d-1)}return-d-1},this.add=function(a){var b=this.pointIndex(a.start);b<0&&(b=-b-1);var c=this.pointIndex(a.end,b);return c<0?c=-c-1:c++,this.ranges.splice(b,c-b,a)},this.addList=function(a){var b=[];for(var c=a.length;c--;)b.push.call(b,this.add(a[c]));return b},this.substractPoint=function(a){var b=this.pointIndex(a);if(b>=0)return this.ranges.splice(b,1)},this.merge=function(){var a=[],b=this.ranges,c=b[0],d;for(var e=1;e<b.length;e++){d=c,c=b[e];var f=this.comparePoints(d.end,c.start);if(f<0)continue;if(f==0&&!d.isEmpty()&&!c.isEmpty())continue;this.comparePoints(d.end,c.end)<0&&(d.end.row=c.end.row,d.end.column=c.end.column),b.splice(e,1),a.push(c),c=d,e--}return a},this.contains=function(a,b){return this.pointIndex({row:a,column:b})>=0},this.containsPoint=function(a){return this.pointIndex(a)>=0},this.rangeAtPoint=function(a){var b=this.pointIndex(a);if(b>=0)return this.ranges[b]},this.clipRows=function(a,b){var c=this.ranges;if(c[0].start.row>b||c[c.length-1].start.row<a)return[];var d=this.pointIndex({row:a,column:0});d<0&&(d=-d-1);var e=this.pointIndex({row:b,column:0},d);e<0&&(e=-e-1);var f=[];for(var g=d;g<e;g++)f.push(c[g]);return f},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(a){this.session&&this.detach(),this.session=a,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){if(!this.session)return;this.session.removeListener("change",this.onChange),this.session=null},this.$onChange=function(a){var b=a.data.range;if(a.data.action[0]=="i")var c=b.start,d=b.end;else var d=b.start,c=b.end;var e=c.row,f=d.row,g=f-e,h=-c.column+d.column,i=this.ranges;for(var j=0,k=i.length;j<k;j++){var l=i[j];if(l.end.row<e)continue;if(l.start.row>e)break;l.start.row==e&&l.start.column>=c.column&&(l.start.column+=h,l.start.row+=g),l.end.row==e&&l.end.column>=c.column&&(l.end.column+=h,l.end.row+=g)}if(g!=0&&j<k)for(;j<k;j++){var l=i[j];l.start.row+=g,l.end.row+=g}}}).call(d.prototype),b.RangeList=d}),define("ace/mouse/multi_select_handler",["require","exports","module","../lib/event"],function(a,b,c){function e(a,b){return a.row==b.row&&a.column==b.column}function f(a){var b=a.domEvent,c=b.altKey,f=b.shiftKey,g=a.getAccelKey(),h=a.getButton();if(a.editor.inMultiSelectMode&&h==2){a.editor.textInput.onContextMenu(a.domEvent);return}if(!g&&!c){h==0&&a.editor.inMultiSelectMode&&a.editor.exitMultiSelectMode();return}var i=a.editor,j=i.selection,k=i.inMultiSelectMode,l=a.getDocumentPosition(),m=j.getCursor(),n=a.inSelection()||j.isEmpty()&&e(l,m),o=a.x,p=a.y,q=function(a){o=a.clientX,p=a.clientY},r=function(){var a=i.renderer.pixelToScreenCoordinates(o,p),b=s.screenToDocumentPosition(a.row,a.column);if(e(u,a)&&e(b,j.selectionLead))return;u=a,i.selection.moveCursorToPosition(b),i.selection.clearSelection(),i.renderer.scrollCursorIntoView(),i.removeSelectionMarkers(x),x=j.rectangularRangeBlock(u,t),x.forEach(i.addSelectionMarker,i),i.updateSelectionMarkers()},s=i.session,t=i.renderer.pixelToScreenCoordinates(o,p),u=t;if(g&&!f&&!c&&h==0){if(!k&&n)return;if(!k){var v=j.toOrientedRange();i.addSelectionMarker(v)}var w=j.rangeList.rangeAtPoint(l);d.capture(i.container,function(){},function(){var a=j.toOrientedRange();w&&a.isEmpty()&&e(w.cursor,a.cursor)?j.substractPoint(a.cursor):(v&&(i.removeSelectionMarker(v),j.addRange(v)),j.addRange(a))})}else if(!f&&c&&h==0){a.stop(),k&&!g?j.toSingleRange():!k&&g&&j.addRange(),j.moveCursorToPosition(l),j.clearSelection();var x=[],y=function(a){clearInterval(A),i.removeSelectionMarkers(x);for(var b=0;b<x.length;b++)j.addRange(x[b])},z=r;d.capture(i.container,q,y);var A=setInterval(function(){z()},20);return a.preventDefault()}}var d=a("../lib/event");b.onMouseDown=f}),define("ace/keyboard/hash_handler",["require","exports","module","../lib/keys"],function(a,b,c){function e(a,b){this.platform=b,this.commands={},this.commmandKeyBinding={},this.addCommands(a)}var d=a("../lib/keys");(function(){this.addCommand=function(a){this.commands[a.name]&&this.removeCommand(a),this.commands[a.name]=a,a.bindKey&&this._buildKeyHash(a)},this.removeCommand=function(a){var b=typeof a=="string"?a:a.name;a=this.commands[b],delete this.commands[b];var c=this.commmandKeyBinding;for(var d in c)for(var e in c[d])c[d][e]==a&&delete c[d][e]},this.bindKey=function(a,b){if(!a)return;if(typeof b=="function"){this.addCommand({exec:b,bindKey:a,name:a});return}var c=this.commmandKeyBinding;a.split("|").forEach(function(a){var d=this.parseKeys(a,b),e=d.hashId;(c[e]||(c[e]={}))[d.key]=b},this)},this.addCommands=function(a){a&&Object.keys(a).forEach(function(b){var c=a[b];if(typeof c=="string")return this.bindKey(c,b);typeof c=="function"&&(c={exec:c}),c.name||(c.name=b),this.addCommand(c)},this)},this.removeCommands=function(a){Object.keys(a).forEach(function(b){this.removeCommand(a[b])},this)},this.bindKeys=function(a){Object.keys(a).forEach(function(b){this.bindKey(b,a[b])},this)},this._buildKeyHash=function(a){var b=a.bindKey;if(!b)return;var c=typeof b=="string"?b:b[this.platform];this.bindKey(c,a)},this.parseKeys=function(a){var b,c=0,e=a.toLowerCase().trim().split(/\s*\-\s*/);for(var f=0,g=e.length;f<g;f++)d.KEY_MODS[e[f]]?c|=d.KEY_MODS[e[f]]:b=e[f]||"-";return e[0]=="text"&&e.length==2&&(c=-1,b=e[1]),{key:b,hashId:c}},this.findKeyCommand=function(b,c){var d=this.commmandKeyBinding;return d[b]&&d[b][c.toLowerCase()]},this.handleKeyboard=function(a,b,c,d){return{command:this.findKeyCommand(b,c)}}}).call(e.prototype),b.HashHandler=e}),define("ace/commands/command_manager",["require","exports","module","../lib/oop","../keyboard/hash_handler","../lib/event_emitter"],function(a,b,c){var d=a("../lib/oop"),e=a("../keyboard/hash_handler").HashHandler,f=a("../lib/event_emitter").EventEmitter,g=function(a,b){this.platform=a,this.commands={},this.commmandKeyBinding={},this.addCommands(b),this.setDefaultHandler("exec",function(a){return a.command.exec(a.editor,a.args||{})})};d.inherits(g,e),function(){d.implement(this,f),this.exec=function(a,b,c){typeof a=="string"&&(a=this.commands[a]);if(!a)return!1;if(b&&b.$readOnly&&!a.readOnly)return!1;var d=this._emit("exec",{editor:b,command:a,args:c});return d===!1?!1:!0},this.toggleRecording=function(){if(this.$inReplay)return;return this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(a){this.macro.push([a.command,a.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(a){if(this.$inReplay||!this.macro)return;if(this.recording)return this.toggleRecording();try{this.$inReplay=!0,this.macro.forEach(function(b){typeof b=="string"?this.exec(b,a):this.exec(b[0],a,b[1])},this)}finally{this.$inReplay=!1}},this.trimMacro=function(a){return a.map(function(a){return typeof a[0]!="string"&&(a[0]=a[0].name),a[1]||(a=a[0]),a})}}.call(g.prototype),b.CommandManager=g}),define("ace/commands/multi_select_commands",["require","exports","module","../keyboard/hash_handler"],function(a,b,c){b.defaultCommands=[{name:"addCursorAbove",exec:function(a){a.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},readonly:!0},{name:"addCursorBelow",exec:function(a){a.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},readonly:!0},{name:"addCursorAboveSkipCurrent",exec:function(a){a.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},readonly:!0},{name:"addCursorBelowSkipCurrent",exec:function(a){a.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},readonly:!0},{name:"selectMoreBefore",exec:function(a){a.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},readonly:!0},{name:"selectMoreAfter",exec:function(a){a.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},readonly:!0},{name:"selectNextBefore",exec:function(a){a.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},readonly:!0},{name:"selectNextAfter",exec:function(a){a.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},readonly:!0},{name:"splitIntoLines",exec:function(a){a.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Shift-L",mac:"Ctrl-Shift-L"},readonly:!0}],b.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(a){a.exitMultiSelectMode()},readonly:!0,isAvailable:function(a){return a&&a.inMultiSelectMode}}];var d=a("../keyboard/hash_handler").HashHandler;b.keyboardHandler=new d(b.multiSelectCommands)}),define("ace/keyboard/state_handler",["require","exports","module"],function(a,b,c){function e(a){this.keymapping=this.$buildKeymappingRegex(a)}var d=!1;e.prototype={$buildKeymappingRegex:function(a){for(var b in a)this.$buildBindingsRegex(a[b]);return a},$buildBindingsRegex:function(a){a.forEach(function(a){a.key?a.key=new RegExp("^"+a.key+"$"):Array.isArray(a.regex)?("key"in a||(a.key=new RegExp("^"+a.regex[1]+"$")),a.regex=new RegExp(a.regex.join("")+"$")):a.regex&&(a.regex=new RegExp(a.regex+"$"))})},$composeBuffer:function(a,b,c,d){if(a.state==null||a.buffer==null)a.state="start",a.buffer="";var e=[];b&1&&e.push("ctrl"),b&8&&e.push("command"),b&2&&e.push("option"),b&4&&e.push("shift"),c&&e.push(c);var f=e.join("-"),g=a.buffer+f;b!=2&&(a.buffer=g);var h={bufferToUse:g,symbolicName:f};return d&&(h.keyIdentifier=d.keyIdentifier),h},$find:function(a,b,c,e,f,g){var h={};return this.keymapping[a.state].some(function(i){var j;if(i.key&&!i.key.test(c))return!1;if(i.regex&&!(j=i.regex.exec(b)))return!1;if(i.match&&!i.match(b,e,f,c,g))return!1;if(i.disallowMatches)for(var k=0;k<i.disallowMatches.length;k++)if(!!j[i.disallowMatches[k]])return!1;if(i.exec){h.command=i.exec;if(i.params){var l;h.args={},i.params.forEach(function(a){a.match!=null&&j!=null?l=j[a.match]||a.defaultValue:l=a.defaultValue,a.type==="number"&&(l=parseInt(l)),h.args[a.name]=l})}a.buffer=""}return i.then&&(a.state=i.then,a.buffer=""),h.command==null&&(h.command="null"),d&&console.log("KeyboardStateMapper#find",i),!0}),h.command?h:(a.buffer="",!1)},handleKeyboard:function(a,b,c,e,f){b==-1&&(b=0);if(b==0||c!=""&&c!=String.fromCharCode(0)){var g=this.$composeBuffer(a,b,c,f),h=g.bufferToUse,i=g.symbolicName,j=g.keyIdentifier;return g=this.$find(a,h,i,b,c,j),d&&console.log("KeyboardStateMapper#match",h,i,g),g}return null}},b.matchCharacterOnly=function(a,b,c,d){return b==0?!0:b==4&&c.length==1?!0:!1},b.StateHandler=e}),define("ace/placeholder",["require","exports","module","./range","./lib/event_emitter","./lib/oop"],function(a,b,c){var d=a("./range").Range,e=a("./lib/event_emitter").EventEmitter,f=a("./lib/oop"),g=function(a,b,c,d,e,f){var g=this;this.length=b,this.session=a,this.doc=a.getDocument(),this.mainClass=e,this.othersClass=f,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=d,this.$onCursorChange=function(){setTimeout(function(){g.onCursorChange()})},this.$pos=c;var h=a.getUndoManager().$undoStack||a.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=h.length,this.setup(),a.selection.on("changeCursor",this.$onCursorChange)};(function(){f.implement(this,e),this.setup=function(){var a=this,b=this.doc,c=this.session,e=this.$pos;this.pos=b.createAnchor(e.row,e.column),this.markerId=c.addMarker(new d(e.row,e.column,e.row,e.column+this.length),this.mainClass,null,!1),this.pos.on("change",function(b){c.removeMarker(a.markerId),a.markerId=c.addMarker(new d(b.value.row,b.value.column,b.value.row,b.value.column+a.length),a.mainClass,null,!1)}),this.others=[],this.$others.forEach(function(c){var d=b.createAnchor(c.row,c.column);a.others.push(d)}),c.setUndoSelect(!1)},this.showOtherMarkers=function(){if(this.othersActive)return;var a=this.session,b=this;this.othersActive=!0,this.others.forEach(function(c){c.markerId=a.addMarker(new d(c.row,c.column,c.row,c.column+b.length),b.othersClass,null,!1),c.on("change",function(e){a.removeMarker(c.markerId),c.markerId=a.addMarker(new d(e.value.row,e.value.column,e.value.row,e.value.column+b.length),b.othersClass,null,!1)})})},this.hideOtherMarkers=function(){if(!this.othersActive)return;this.othersActive=!1;for(var a=0;a<this.others.length;a++)this.session.removeMarker(this.others[a].markerId)},this.onUpdate=function(a){var b=a.data,c=b.range;if(c.start.row!==c.end.row)return;if(c.start.row!==this.pos.row)return;if(this.$updating)return;this.$updating=!0;var e=b.action==="insertText"?c.end.column-c.start.column:c.start.column-c.end.column;if(c.start.column>=this.pos.column&&c.start.column<=this.pos.column+this.length+1){var f=c.start.column-this.pos.column;this.length+=e;if(!this.session.$fromUndo){if(b.action==="insertText")for(var g=this.others.length-1;g>=0;g--){var h=this.others[g],i={row:h.row,column:h.column+f};h.row===c.start.row&&c.start.column<h.column&&(i.column+=e),this.doc.insert(i,b.text)}else if(b.action==="removeText")for(var g=this.others.length-1;g>=0;g--){var h=this.others[g],i={row:h.row,column:h.column+f};h.row===c.start.row&&c.start.column<h.column&&(i.column+=e),this.doc.remove(new d(i.row,i.column,i.row,i.column-e))}c.start.column===this.pos.column&&b.action==="insertText"?setTimeout(function(){this.pos.setPosition(this.pos.row,this.pos.column-e);for(var a=0;a<this.others.length;a++){var b=this.others[a],d={row:b.row,column:b.column-e};b.row===c.start.row&&c.start.column<b.column&&(d.column+=e),b.setPosition(d.row,d.column)}}.bind(this),0):c.start.column===this.pos.column&&b.action==="removeText"&&setTimeout(function(){for(var a=0;a<this.others.length;a++){var b=this.others[a];b.row===c.start.row&&c.start.column<b.column&&b.setPosition(b.row,b.column-e)}}.bind(this),0)}this.pos._emit("change",{value:this.pos});for(var g=0;g<this.others.length;g++)this.others[g]._emit("change",{value:this.others[g]})}this.$updating=!1},this.onCursorChange=function(a){if(this.$updating)return;var b=this.session.selection.getCursor();b.row===this.pos.row&&b.column>=this.pos.column&&b.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",a)):(this.hideOtherMarkers(),this._emit("cursorLeave",a))},this.detach=function(){this.session.removeMarker(this.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.pos.detach();for(var a=0;a<this.others.length;a++)this.others[a].detach();this.session.setUndoSelect(!0)},this.cancel=function(){if(this.$undoStackDepth===-1)throw Error("Canceling placeholders only supported with undo manager attached to session.");var a=this.session.getUndoManager(),b=(a.$undoStack||a.$undostack).length-this.$undoStackDepth;for(var c=0;c<b;c++)a.undo(!0)}}).call(g.prototype),b.PlaceHolder=g}),define("ace/config",["require","exports","module","./lib/lang"],function(a,b,c){function g(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}"no use strict";var d=a("./lib/lang"),e=function(){return this}(),f={packaged:!1,workerPath:"",modePath:"",themePath:"",suffix:".js",$moduleUrls:{}};b.get=function(a){if(!f.hasOwnProperty(a))throw new Error("Unknown config key: "+a);return f[a]},b.set=function(a,b){if(!f.hasOwnProperty(a))throw new Error("Unknown config key: "+a);f[a]=b},b.all=function(){return d.copyObject(f)},b.moduleUrl=function(a,b){if(f.$moduleUrls[a])return f.$moduleUrls[a];var c=a.split("/");b=b||c[c.length-2]||"";var d=c[c.length-1].replace(b,"").replace(/(^[\-_])|([\-_]$)/,"");return!d&&c.length>1&&(d=c[c.length-2]),this.get(b+"Path")+"/"+b+"-"+d+this.get("suffix")},b.setModuleUrl=function(a,b){return f.$moduleUrls[a]=b},b.init=function(){f.packaged=a.packaged||c.packaged||e.define&&define.packaged;if(!e.document)return"";var d={},h="",i=document.getElementsByTagName("script");for(var j=0;j<i.length;j++){var k=i[j],l=k.src||k.getAttribute("src");if(!l)continue;var m=k.attributes;for(var n=0,o=m.length;n<o;n++){var p=m[n];p.name.indexOf("data-ace-")===0&&(d[g(p.name.replace(/^data-ace-/,""))]=p.value)}var q=l.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);q&&(h=q[1])}h&&(d.base=d.base||h,d.packaged=!0),d.workerPath=d.workerPath||d.base,d.modePath=d.modePath||d.base,d.themePath=d.themePath||d.base,delete d.base;for(var r in d)typeof d[r]!="undefined"&&b.set(r,d[r])}}),define("ace/edit_session",["require","exports","module","./config","./lib/oop","./lib/lang","./lib/net","./lib/event_emitter","./selection","./mode/text","./range","./document","./background_tokenizer","./search_highlight","./edit_session/folding","./edit_session/bracket_match"],function(a,b,c){var d=a("./config"),e=a("./lib/oop"),f=a("./lib/lang"),g=a("./lib/net"),h=a("./lib/event_emitter").EventEmitter,i=a("./selection").Selection,j=a("./mode/text").Mode,k=a("./range").Range,l=a("./document").Document,m=a("./background_tokenizer").BackgroundTokenizer,n=a("./search_highlight").SearchHighlight,o=function(a,b){this.$modified=!0,this.$breakpoints=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$resetRowCache(0),this.$wrapData=[],this.$foldData=[],this.$rowLengthCache=[],this.$undoSelect=!0,this.$foldData.toString=function(){var a="";return this.forEach(function(b){a+="\n"+b.toString()}),a},typeof a=="object"&&a.getLine?this.setDocument(a):this.setDocument(new l(a)),this.selection=new i(this),this.setMode(b)};(function(){function s(a){return a<4352?!1:a>=4352&&a<=4447||a>=4515&&a<=4519||a>=4602&&a<=4607||a>=9001&&a<=9002||a>=11904&&a<=11929||a>=11931&&a<=12019||a>=12032&&a<=12245||a>=12272&&a<=12283||a>=12288&&a<=12350||a>=12353&&a<=12438||a>=12441&&a<=12543||a>=12549&&a<=12589||a>=12593&&a<=12686||a>=12688&&a<=12730||a>=12736&&a<=12771||a>=12784&&a<=12830||a>=12832&&a<=12871||a>=12880&&a<=13054||a>=13056&&a<=19903||a>=19968&&a<=42124||a>=42128&&a<=42182||a>=43360&&a<=43388||a>=44032&&a<=55203||a>=55216&&a<=55238||a>=55243&&a<=55291||a>=63744&&a<=64255||a>=65040&&a<=65049||a>=65072&&a<=65106||a>=65108&&a<=65126||a>=65128&&a<=65131||a>=65281&&a<=65376||a>=65504&&a<=65510}e.implement(this,h),this.setDocument=function(a){if(this.doc)throw new Error("Document is already set");this.doc=a,a.on("change",this.onChange.bind(this)),this.on("changeFold",this.onChangeFold.bind(this)),this.bgTokenizer&&(this.bgTokenizer.setDocument(this.getDocument()),this.bgTokenizer.start(0))},this.getDocument=function(){return this.doc},this.$resetRowCache=function(a){if(!a){this.$docRowCache=[],this.$screenRowCache=[];return}var b=this.$getRowCacheIndex(this.$docRowCache,a)+1,c=this.$docRowCache.length;this.$docRowCache.splice(b,c),this.$screenRowCache.splice(b,c)},this.$getRowCacheIndex=function(a,b){var c=0,d=a.length-1;while(c<=d){var e=c+d>>1,f=a[e];if(b>f)c=e+1;else{if(!(b<f))return e;d=e-1}}return c&&c-1},this.onChangeFold=function(a){var b=a.data;this.$resetRowCache(b.start.row)},this.onChange=function(a){var b=a.data;this.$modified=!0,this.$resetRowCache(b.range.start.row);var c=this.$updateInternalDataOnChange(a);!this.$fromUndo&&this.$undoManager&&!b.ignore&&(this.$deltasDoc.push(b),c&&c.length!=0&&this.$deltasFold.push({action:"removeFolds",folds:c}),this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(b),this._emit("change",a)},this.setValue=function(a){this.doc.setValue(a),this.selection.moveCursorTo(0,0),this.selection.clearSelection(),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(a){return this.bgTokenizer.getState(a)},this.getTokens=function(a){return this.bgTokenizer.getTokens(a)},this.getTokenAt=function(a,b){var c=this.bgTokenizer.getTokens(a),d,e=0;if(b==null)f=c.length-1,e=this.getLine(a).length;else for(var f=0;f<c.length;f++){e+=c[f].value.length;if(e>=b)break}return d=c[f],d?(d.index=f,d.start=e-d.value.length,d):null},this.highlight=function(a){if(!this.$searchHighlight){var b=new n(null,"ace_selected_word","text");this.$searchHighlight=this.addDynamicMarker(b)}this.$searchHighlight.setRegexp(a)},this.setUndoManager=function(a){this.$undoManager=a,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel();if(a){var b=this;this.$syncInformUndoManager=function(){b.$informUndoManager.cancel(),b.$deltasFold.length&&(b.$deltas.push({group:"fold",deltas:b.$deltasFold}),b.$deltasFold=[]),b.$deltasDoc.length&&(b.$deltas.push({group:"doc",deltas:b.$deltasDoc}),b.$deltasDoc=[]),b.$deltas.length>0&&a.execute({action:"aceupdate",args:[b.$deltas,b]}),b.$deltas=[]},this.$informUndoManager=f.deferredCall(this.$syncInformUndoManager)}},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?f.stringRepeat(" ",this.getTabSize()):"	"},this.$useSoftTabs=!0,this.setUseSoftTabs=function(a){if(this.$useSoftTabs===a)return;this.$useSoftTabs=a},this.getUseSoftTabs=function(){return this.$useSoftTabs},this.$tabSize=4,this.setTabSize=function(a){if(isNaN(a)||this.$tabSize===a)return;this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=a,this._emit("changeTabSize")},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(a){return this.$useSoftTabs&&a.column%this.$tabSize==0},this.$overwrite=!1,this.setOverwrite=function(a){if(this.$overwrite==a)return;this.$overwrite=a,this._emit("changeOverwrite")},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(a){this.$breakpoints=[];for(var b=0;b<a.length;b++)this.$breakpoints[a[b]]=!0;this._emit("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._emit("changeBreakpoint",{})},this.setBreakpoint=function(a){this.$breakpoints[a]=!0,this._emit("changeBreakpoint",{})},this.clearBreakpoint=function(a){delete this.$breakpoints[a],this._emit("changeBreakpoint",{})},this.addMarker=function(a,b,c,d){var e=this.$markerId++,f={range:a,type:c||"line",renderer:typeof c=="function"?c:null,clazz:b,inFront:!!d,id:e};return d?(this.$frontMarkers[e]=f,this._emit("changeFrontMarker")):(this.$backMarkers[e]=f,this._emit("changeBackMarker")),e},this.addDynamicMarker=function(a,b){if(!a.update)return;var c=this.$markerId++;return a.id=c,a.inFront=!!b,b?(this.$frontMarkers[c]=a,this._emit("changeFrontMarker")):(this.$backMarkers[c]=a,this._emit("changeBackMarker")),a},this.removeMarker=function(a){var b=this.$frontMarkers[a]||this.$backMarkers[a];if(!b)return;var c=b.inFront?this.$frontMarkers:this.$backMarkers;b&&(delete c[a],this._emit(b.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(a){return a?this.$frontMarkers:this.$backMarkers},this.setAnnotations=function(a){this.$annotations={};for(var b=0;b<a.length;b++){var c=a[b],d=c.row;this.$annotations[d]?this.$annotations[d].push(c):this.$annotations[d]=[c]}this._emit("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||{}},this.clearAnnotations=function(){this.$annotations={},this._emit("changeAnnotation",{})},this.$detectNewLine=function(a){var b=a.match(/^.*?(\r?\n)/m);b?this.$autoNewLine=b[1]:this.$autoNewLine="\n"},this.getWordRange=function(a,b){var c=this.getLine(a),d=!1;b>0&&(d=!!c.charAt(b-1).match(this.tokenRe)),d||(d=!!c.charAt(b).match(this.tokenRe));if(d)var e=this.tokenRe;else if(/^\s+$/.test(c.slice(b-1,b+1)))var e=/\s/;else var e=this.nonTokenRe;var f=b;if(f>0){do f--;while(f>=0&&c.charAt(f).match(e));f++}var g=b;while(g<c.length&&c.charAt(g).match(e))g++;return new k(a,f,a,g)},this.getAWordRange=function(a,b){var c=this.getWordRange(a,b),d=this.getLine(c.end.row);while(d.charAt(c.end.column).match(/[ \t]/))c.end.column+=1;return c},this.setNewLineMode=function(a){this.doc.setNewLineMode(a)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.$useWorker=!0,this.setUseWorker=function(a){if(this.$useWorker==a)return;this.$useWorker=a,this.$stopWorker(),a&&this.$startWorker()},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(a){var b=a.data;this.bgTokenizer.start(b.first),this._emit("tokenizerUpdate",a)},this.$modes={},this._loadMode=function(b,c){function i(a){if(e.$modes[b])return c(e.$modes[b]);e.$modes[b]=new a.Mode,e.$modes[b].$id=b,e._emit("loadmode",{name:b,mode:e.$modes[b]}),c(e.$modes[b])}function k(a,b){if(!d.get("packaged"))return b();g.loadScript(d.moduleUrl(a,"mode"),b)}this.$modes["null"]||(this.$modes["null"]=this.$modes["ace/mode/text"]=new j);if(this.$modes[b])return c(this.$modes[b]);var e=this,f;try{f=a(b)}catch(h){}if(f&&f.Mode)return i(f);this.$mode||this.$setModePlaceholder(),k(b,function(){a([b],i)})},this.$setModePlaceholder=function(){this.$mode=this.$modes["null"];var a=this.$mode.getTokenizer();if(!this.bgTokenizer){this.bgTokenizer=new m(a);var b=this;this.bgTokenizer.addEventListener("update",function(a){b._emit("tokenizerUpdate",a)})}else this.bgTokenizer.setTokenizer(a);this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=this.$mode.tokenRe,this.nonTokenRe=this.$mode.nonTokenRe},this.$mode=null,this.$modeId=null,this.setMode=function(a){a=a||"null";if(typeof a=="string"){if(this.$modeId==a)return;this.$modeId=a;var b=this;this._loadMode(a,function(c){if(b.$modeId!==a)return;b.setMode(c)});return}if(this.$mode===a)return;this.$mode=a,this.$modeId=a.$id,this.$stopWorker(),this.$useWorker&&this.$startWorker();var c=a.getTokenizer();if(c.addEventListener!==undefined){var d=this.onReloadTokenizer.bind(this);c.addEventListener("update",d)}if(!this.bgTokenizer){this.bgTokenizer=new m(c);var b=this;this.bgTokenizer.addEventListener("update",function(a){b._emit("tokenizerUpdate",a)})}else this.bgTokenizer.setTokenizer(c);this.bgTokenizer.setDocument(this.getDocument()),this.bgTokenizer.start(0),this.tokenRe=a.tokenRe,this.nonTokenRe=a.nonTokenRe,this.$setFolding(a.foldingRules),this._emit("changeMode")},this.$stopWorker=function(){this.$worker&&this.$worker.terminate(),this.$worker=null},this.$startWorker=function(){if(typeof Worker!="undefined"&&!a.noWorker)try{this.$worker=this.$mode.createWorker(this)}catch(b){console.log("Could not load worker"),console.log(b),this.$worker=null}else this.$worker=null},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(a){a=Math.round(Math.max(0,a));if(this.$scrollTop===a)return;this.$scrollTop=a,this._emit("changeScrollTop",a)},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(a){a=Math.round(Math.max(0,a));if(this.$scrollLeft===a)return;this.$scrollLeft=a,this._emit("changeScrollLeft",a)},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.screenWidth},this.$computeWidth=function(a){if(this.$modified||a){this.$modified=!1;if(this.$useWrapMode)return this.screenWidth=this.$wrapLimit;var b=this.doc.getAllLines(),c=this.$rowLengthCache,d=0,e=0,f=this.$foldData[e],g=f?f.start.row:Infinity,h=b.length;for(var i=0;i<h;i++){if(i>g){i=f.end.row+1;if(i>=h)break;f=this.$foldData[e++],g=f?f.start.row:Infinity}c[i]==null&&(c[i]=this.$getStringScreenWidth(b[i])[0]),c[i]>d&&(d=c[i])}this.screenWidth=d}},this.getLine=function(a){return this.doc.getLine(a)},this.getLines=function(a,b){return this.doc.getLines(a,b)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(a){return this.doc.getTextRange(a||this.selection.getRange())},this.insert=function(a,b){return this.doc.insert(a,b)},this.remove=function(a){return this.doc.remove(a)},this.undoChanges=function(a,b){if(!a.length)return;this.$fromUndo=!0;var c=null;for(var d=a.length-1;d!=-1;d--){var e=a[d];e.group=="doc"?(this.doc.revertDeltas(e.deltas),c=this.$getUndoSelection(e.deltas,!0,c)):e.deltas.forEach(function(a){this.addFolds(a.folds)},this)}return this.$fromUndo=!1,c&&this.$undoSelect&&!b&&this.selection.setSelectionRange(c),c},this.redoChanges=function(a,b){if(!a.length)return;this.$fromUndo=!0;var c=null;for(var d=0;d<a.length;d++){var e=a[d];e.group=="doc"&&(this.doc.applyDeltas(e.deltas),c=this.$getUndoSelection(e.deltas,!1,c))}return this.$fromUndo=!1,c&&this.$undoSelect&&!b&&this.selection.setSelectionRange(c),c},this.setUndoSelect=function(a){this.$undoSelect=a},this.$getUndoSelection=function(a,b,c){function d(a){var c=a.action=="insertText"||a.action=="insertLines";return b?!c:c}var e=a[0],f,g,h=!1;d(e)?(f=e.range.clone(),h=!0):(f=k.fromPoints(e.range.start,e.range.start),h=!1);for(var i=1;i<a.length;i++)e=a[i],d(e)?(g=e.range.start,f.compare(g.row,g.column)==-1&&f.setStart(e.range.start),g=e.range.end,f.compare(g.row,g.column)==1&&f.setEnd(e.range.end),h=!0):(g=e.range.start,f.compare(g.row,g.column)==-1&&(f=k.fromPoints(e.range.start,e.range.start)),h=!1);if(c!=null){var j=c.compareRange(f);j==1?f.setStart(c.start):j==-1&&f.setEnd(c.end)}return f},this.replace=function(a,b){return this.doc.replace(a,b)},this.moveText=function(a,b){var c=this.getTextRange(a);this.remove(a);var d=b.row,e=b.column;!a.isMultiLine()&&a.start.row==d&&a.end.column<e&&(e-=c.length);if(a.isMultiLine()&&a.end.row<d){var f=this.doc.$split(c);d-=f.length-1}var g=d+a.end.row-a.start.row,h=a.isMultiLine()?a.end.column:e+a.end.column-a.start.column,i=new k(d,e,g,h);return this.insert(i.start,c),i},this.indentRows=function(a,b,c){c=c.replace(/\t/g,this.getTabString());for(var d=a;d<=b;d++)this.insert({row:d,column:0},c)},this.outdentRows=function(a){var b=a.collapseRows(),c=new k(0,0,0,0),d=this.getTabSize();for(var e=b.start.row;e<=b.end.row;++e){var f=this.getLine(e);c.start.row=e,c.end.row=e;for(var g=0;g<d;++g)if(f.charAt(g)!=" ")break;g<d&&f.charAt(g)=="	"?(c.start.column=g,c.end.column=g+1):(c.start.column=0,c.end.column=g),this.remove(c)}},this.moveLinesUp=function(a,b){if(a<=0)return 0;var c=this.doc.removeLines(a,b);return this.doc.insertLines(a-1,c),-1},this.moveLinesDown=function(a,b){if(b>=this.doc.getLength()-1)return 0;var c=this.doc.removeLines(a,b);return this.doc.insertLines(a+1,c),1},this.duplicateLines=function(a,b){var a=this.$clipRowToDocument(a),b=this.$clipRowToDocument(b),c=this.getLines(a,b);this.doc.insertLines(a,c);var d=b-a+1;return d},this.$clipRowToDocument=function(a){return Math.max(0,Math.min(a,this.doc.getLength()-1))},this.$clipColumnToRow=function(a,b){return b<0?0:Math.min(this.doc.getLine(a).length,b)},this.$clipPositionToDocument=function(a,b){b=Math.max(0,b);if(a<0)a=0,b=0;else{var c=this.doc.getLength();a>=c?(a=c-1,b=this.doc.getLine(c-1).length):b=Math.min(this.doc.getLine(a).length,b)}return{row:a,column:b}},this.$clipRangeToDocument=function(a){a.start.row<0?(a.start.row=0,a.start.column=0):a.start.column=this.$clipColumnToRow(a.start.row,a.start.column);var b=this.doc.getLength()-1;return a.end.row>b?(a.end.row=b,a.end.column=this.doc.getLine(b).length):a.end.column=this.$clipColumnToRow(a.end.row,a.end.column),a},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(a){if(a!=this.$useWrapMode){this.$useWrapMode=a,this.$modified=!0,this.$resetRowCache(0);if(a){var b=this.getLength();this.$wrapData=[];for(var c=0;c<b;c++)this.$wrapData.push([]);this.$updateWrapData(0,b-1)}this._emit("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(a,b){if(this.$wrapLimitRange.min!==a||this.$wrapLimitRange.max!==b)this.$wrapLimitRange.min=a,this.$wrapLimitRange.max=b,this.$modified=!0,this._emit("changeWrapMode")},this.adjustWrapLimit=function(a){var b=this.$constrainWrapLimit(a);return b!=this.$wrapLimit&&b>0?(this.$wrapLimit=b,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._emit("changeWrapLimit")),!0):!1},this.$constrainWrapLimit=function(a){var b=this.$wrapLimitRange.min;b&&(a=Math.max(b,a));var c=this.$wrapLimitRange.max;return c&&(a=Math.min(c,a)),Math.max(1,a)},this.getWrapLimit=function(){return this.$wrapLimit},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(a){var b=this.$useWrapMode,c,d=a.data.action,e=a.data.range.start.row,f=a.data.range.end.row,g=a.data.range.start,h=a.data.range.end,i=null;d.indexOf("Lines")!=-1?(d=="insertLines"?f=e+a.data.lines.length:f=e,c=a.data.lines?a.data.lines.length:f-e):c=f-e;if(c!=0)if(d.indexOf("remove")!=-1){this[b?"$wrapData":"$rowLengthCache"].splice(e,c);var j=this.$foldData;i=this.getFoldsInRange(a.data.range),this.removeFolds(i);var k=this.getFoldLine(h.row),l=0;if(k){k.addRemoveChars(h.row,h.column,g.column-h.column),k.shiftRow(-c);var m=this.getFoldLine(e);m&&m!==k&&(m.merge(k),k=m),l=j.indexOf(k)+1}for(l;l<j.length;l++){var k=j[l];k.start.row>=h.row&&k.shiftRow(-c)}f=e}else{var n;if(b){n=[e,0];for(var o=0;o<c;o++)n.push([]);this.$wrapData.splice.apply(this.$wrapData,n)}else n=Array(c),n.unshift(e,0),this.$rowLengthCache.splice.apply(this.$rowLengthCache,n);var j=this.$foldData,k=this.getFoldLine(e),l=0;if(k){var p=k.range.compareInside(g.row,g.column);p==0?(k=k.split(g.row,g.column),k.shiftRow(c),k.addRemoveChars(f,0,h.column-g.column)):p==-1&&(k.addRemoveChars(e,0,h.column-g.column),k.shiftRow(c)),l=j.indexOf(k)+1}for(l;l<j.length;l++){var k=j[l];k.start.row>=e&&k.shiftRow(c)}}else{c=Math.abs(a.data.range.start.column-a.data.range.end.column),d.indexOf("remove")!=-1&&(i=this.getFoldsInRange(a.data.range),this.removeFolds(i),c=-c);var k=this.getFoldLine(e);k&&k.addRemoveChars(e,g.column,c)}return b&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),b?this.$updateWrapData(e,f):this.$updateRowLengthCache(e,f),i},this.$updateRowLengthCache=function(a,b,c){this.$rowLengthCache[a]=null,this.$rowLengthCache[b]=null},this.$updateWrapData=function(a,b){var c=this.doc.getAllLines(),d=this.getTabSize(),e=this.$wrapData,g=this.$wrapLimit,h,j,k=a;b=Math.min(b,c.length-1);while(k<=b){j=this.getFoldLine(k,j);if(!j)h=this.$getDisplayTokens(f.stringTrimRight(c[k])),e[k]=this.$computeWrapSplits(h,g,d),k++;else{h=[],j.walk(function(a,b,d,e){var f;if(a){f=this.$getDisplayTokens(a,h.length),f[0]=i;for(var g=1;g<f.length;g++)f[g]=l}else f=this.$getDisplayTokens(c[b].substring(e,d),h.length);h=h.concat(f)}.bind(this),j.end.row,c[j.end.row].length+1);while(h.length!=0&&h[h.length-1]>=p)h.pop();e[j.start.row]=this.$computeWrapSplits(h,g,d),k=j.end.row+1}}};var b=1,c=2,i=3,l=4,o=9,p=10,q=11,r=12;this.$computeWrapSplits=function(a,b){function g(b){var d=a.slice(e,b),g=d.length;d.join("").replace(/12/g,function(){g-=1}).replace(/2/g,function(){g-=1}),f+=g,c.push(f),e=b}if(a.length==0)return[];var c=[],d=a.length,e=0,f=0;while(d-e>b){var h=e+b;if(a[h]>=p){while(a[h]>=p)h++;g(h);continue}if(a[h]==i||a[h]==l){for(h;h!=e-1;h--)if(a[h]==i)break;if(h>e){g(h);continue}h=e+b;for(h;h<a.length;h++)if(a[h]!=l)break;if(h==a.length)break;g(h);continue}var j=Math.max(h-10,e-1);while(h>j&&a[h]<i)h--;while(h>j&&a[h]==o)h--;if(h>j){g(++h);continue}h=e+b,g(h)}return c},this.$getDisplayTokens=function(a,d){var e=[],f;d=d||0;for(var g=0;g<a.length;g++){var h=a.charCodeAt(g);if(h==9){f=this.getScreenTabSize(e.length+d),e.push(q);for(var i=1;i<f;i++)e.push(r)}else h==32?e.push(p):h>39&&h<48||h>57&&h<64?e.push(o):h>=4352&&s(h)?e.push(b,c):e.push(b)}return e},this.$getStringScreenWidth=function(a,b,c){if(b==0)return[0,0];b==null&&(b=Infinity),c=c||0;var d,e;for(e=0;e<a.length;e++){d=a.charCodeAt(e),d==9?c+=this.getScreenTabSize(c):d>=4352&&s(d)?c+=2:c+=1;if(c>b)break}return[c,e]},this.getRowLength=function(a){return!this.$useWrapMode||!this.$wrapData[a]?1:this.$wrapData[a].length+1},this.getRowHeight=function(a,b){return this.getRowLength(b)*a.lineHeight},this.getScreenLastRowColumn=function(a){var b=this.screenToDocumentPosition(a,Number.MAX_VALUE);return this.documentToScreenColumn(b.row,b.column)},this.getDocumentLastRowColumn=function(a,b){var c=this.documentToScreenRow(a,b);return this.getScreenLastRowColumn(c)},this.getDocumentLastRowColumnPosition=function(a,b){var c=this.documentToScreenRow(a,b);return this.screenToDocumentPosition(c,Number.MAX_VALUE/10)},this.getRowSplitData=function(a){return this.$useWrapMode?this.$wrapData[a]:undefined},this.getScreenTabSize=function(a){return this.$tabSize-a%this.$tabSize},this.screenToDocumentRow=function(a,b){return this.screenToDocumentPosition(a,b).row},this.screenToDocumentColumn=function(a,b){return this.screenToDocumentPosition(a,b).column},this.screenToDocumentPosition=function(a,b){if(a<0)return{row:0,column:0};var c,d=0,e=0,f,g=0,h=0,i=this.$screenRowCache,j=this.$getRowCacheIndex(i,a);if(0<j&&j<i.length)var g=i[j],d=this.$docRowCache[j],k=a>g||a==g&&j==i.length-1;else var k=!0;var l=this.getLength()-1,m=this.getNextFoldLine(d),n=m?m.start.row:Infinity;while(g<=a){h=this.getRowLength(d);if(g+h-1>=a||d>=l)break;g+=h,d++,d>n&&(d=m.end.row+1,m=this.getNextFoldLine(d,m),n=m?m.start.row:Infinity),k&&(this.$docRowCache.push(d),this.$screenRowCache.push(g))}if(m&&m.start.row<=d)c=this.getFoldDisplayLine(m),d=m.start.row;else{if(g+h<=a||d>l)return{row:l,column:this.getLine(l).length};c=this.getLine(d),m=null}if(this.$useWrapMode){var o=this.$wrapData[d];o&&(f=o[a-g],a>g&&o.length&&(e=o[a-g-1]||o[o.length-1],c=c.substring(e)))}return e+=this.$getStringScreenWidth(c,b)[1],this.$useWrapMode&&e>=f&&(e=f-1),m?m.idxToPosition(e):{row:d,column:e}},this.documentToScreenPosition=function(a,b){if(typeof b=="undefined")var c=this.$clipPositionToDocument(a.row,a.column);else c=this.$clipPositionToDocument(a,b);a=c.row,b=c.column;var d=0,e=null,f=null;f=this.getFoldAt(a,b,1),f&&(a=f.start.row,b=f.start.column);var g,h=0,i=this.$docRowCache,j=this.$getRowCacheIndex(i,a);if(0<j&&j<i.length)var h=i[j],d=this.$screenRowCache[j],k=a>h||a==h&&j==i.length-1;else var k=!0;var l=this.getNextFoldLine(h),m=l?l.start.row:Infinity;while(h<a){if(h>=m){g=l.end.row+1;if(g>a)break;l=this.getNextFoldLine(g,l),m=l?l.start.row:Infinity}else g=h+1;d+=this.getRowLength(h),h=g,k&&(this.$docRowCache.push(h),this.$screenRowCache.push(d))}var n="";l&&h>=m?(n=this.getFoldDisplayLine(l,a,b),e=l.start.row):(n=this.getLine(a).substring(0,b),e=a);if(this.$useWrapMode){var o=this.$wrapData[e],p=0;while(n.length>=o[p])d++,p++;n=n.substring(o[p-1]||0,n.length)}return{row:d,column:this.$getStringScreenWidth(n)[0]}},this.documentToScreenColumn=function(a,b){return this.documentToScreenPosition(a,b).column},this.documentToScreenRow=function(a,b){return this.documentToScreenPosition(a,b).row},this.getScreenLength=function(){var a=0,b=null;if(!this.$useWrapMode){a=this.getLength();var c=this.$foldData;for(var d=0;d<c.length;d++)b=c[d],a-=b.end.row-b.start.row}else{var e=this.$wrapData.length,f=0,d=0,b=this.$foldData[d++],g=b?b.start.row:Infinity;while(f<e)a+=this.$wrapData[f].length+1,f++,f>g&&(f=b.end.row+1,b=this.$foldData[d++],g=b?b.start.row:Infinity)}return a}}).call(o.prototype),a("./edit_session/folding").Folding.call(o.prototype),a("./edit_session/bracket_match").BracketMatch.call(o.prototype),b.EditSession=o}),define("ace/editor",["require","exports","module","./lib/fixoldbrowsers","./lib/oop","./lib/lang","./lib/useragent","./keyboard/textinput","./mouse/mouse_handler","./mouse/fold_handler","./keyboard/keybinding","./edit_session","./search","./range","./lib/event_emitter","./commands/command_manager","./commands/default_commands"],function(a,b,c){a("./lib/fixoldbrowsers");var d=a("./lib/oop"),e=a("./lib/lang"),f=a("./lib/useragent"),g=a("./keyboard/textinput").TextInput,h=a("./mouse/mouse_handler").MouseHandler,i=a("./mouse/fold_handler").FoldHandler,j=a("./keyboard/keybinding").KeyBinding,k=a("./edit_session").EditSession,l=a("./search").Search,m=a("./range").Range,n=a("./lib/event_emitter").EventEmitter,o=a("./commands/command_manager").CommandManager,p=a("./commands/default_commands").commands,q=function(a,b){var c=a.getContainerElement();this.container=c,this.renderer=a,this.commands=new o(f.isMac?"mac":"win",p),this.textInput=new g(a.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new j(this),f.isIPad||(this.$mouseHandler=new h(this),new i(this)),this.$blockScrolling=0,this.$search=(new l).set({wrap:!0}),this.setSession(b||new k(""))};(function(){d.implement(this,n),this.setKeyboardHandler=function(a){this.keyBinding.setKeyboardHandler(a)},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(a){if(this.session==a)return;if(this.session){var b=this.session;this.session.removeEventListener("change",this.$onDocumentChange),this.session.removeEventListener("changeMode",this.$onChangeMode),this.session.removeEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.session.removeEventListener("changeTabSize",this.$onChangeTabSize),this.session.removeEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.session.removeEventListener("changeWrapMode",this.$onChangeWrapMode),this.session.removeEventListener("onChangeFold",this.$onChangeFold),this.session.removeEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.session.removeEventListener("changeBackMarker",this.$onChangeBackMarker),this.session.removeEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.session.removeEventListener("changeAnnotation",this.$onChangeAnnotation),this.session.removeEventListener("changeOverwrite",this.$onCursorChange),this.session.removeEventListener("changeScrollTop",this.$onScrollTopChange),this.session.removeEventListener("changeLeftTop",this.$onScrollLeftChange);var c=this.session.getSelection();c.removeEventListener("changeCursor",this.$onCursorChange),c.removeEventListener("changeSelection",this.$onSelectionChange)}this.session=a,this.$onDocumentChange=this.onDocumentChange.bind(this),a.addEventListener("change",this.$onDocumentChange),this.renderer.setSession(a),this.$onChangeMode=this.onChangeMode.bind(this),a.addEventListener("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),a.addEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.updateText.bind(this.renderer),a.addEventListener("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),a.addEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),a.addEventListener("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),a.addEventListener("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.addEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.addEventListener("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.addEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.addEventListener("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.addEventListener("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.addEventListener("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.addEventListener("changeScrollLeft",this.$onScrollLeftChange),this.selection=a.getSelection(),this.selection.addEventListener("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.addEventListener("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull(),this._emit("changeSession",{session:a,oldSession:b})},this.getSession=function(){return this.session},this.setValue=function(a,b){return this.session.doc.setValue(a),b?b==1?this.navigateFileEnd():b==-1&&this.navigateFileStart():this.selectAll(),a},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(a){this.renderer.onResize(a)},this.setTheme=function(a){this.renderer.setTheme(a)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(a){this.renderer.setStyle(a)},this.unsetStyle=function(a){this.renderer.unsetStyle(a)},this.setFontSize=function(a){this.container.style.fontSize=a,this.renderer.updateFontSize()},this.$highlightBrackets=function(){this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null);if(this.$highlightPending)return;var a=this;this.$highlightPending=!0,setTimeout(function(){a.$highlightPending=!1;var b=a.session.findMatchingBracket(a.getCursorPosition());if(b){var c=new m(b.row,b.column,b.row,b.column+1);a.session.$bracketHighlight=a.session.addMarker(c,"ace_bracket","text")}},10)},this.focus=function(){var a=this;setTimeout(function(){a.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(){if(this.$isFocused)return;this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus")},this.onBlur=function(){if(!this.$isFocused)return;this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur")},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(a){var b=a.data,c=b.range,d;c.start.row==c.end.row&&b.action!="insertLines"&&b.action!="removeLines"?d=c.end.row:d=Infinity,this.renderer.updateLines(c.start.row,d),this._emit("change",a),this.$cursorChange()},this.onTokenizerUpdate=function(a){var b=a.data;this.renderer.updateLines(b.first,b.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||this.renderer.scrollCursorIntoView(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},this.$updateHighlightActiveLine=function(){var a=this.getSession();a.$highlightLineMarker&&a.removeMarker(a.$highlightLineMarker),a.$highlightLineMarker=null;if(this.$highlightActiveLine){var b=this.getCursorPosition(),c=this.session.getFoldLine(b.row);if(this.getSelectionStyle()!="line"||!this.selection.isMultiLine()){var d;c?d=new m(c.start.row,0,c.end.row+1,0):d=new m(b.row,0,b.row+1,0),a.$highlightLineMarker=a.addMarker(d,"ace_active_line","background")}}},this.onSelectionChange=function(a){var b=this.session;b.$selectionMarker&&b.removeMarker(b.$selectionMarker),b.$selectionMarker=null;if(!this.selection.isEmpty()){var c=this.selection.getRange(),d=this.getSelectionStyle();b.$selectionMarker=b.addMarker(c,"ace_selection",d)}else this.$updateHighlightActiveLine();var e=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(e)},this.$getSelectionHighLightRegexp=function(){var a=this.session,b=this.getSelectionRange();if(b.isEmpty()||b.isMultiLine())return;var c=b.start.column-1,d=b.end.column+1,e=a.getLine(b.start.row),f=e.length,g=e.substring(Math.max(c,0),Math.min(d,f));if(c>=0&&/^[\w\d]/.test(g)||d<=f&&/[\w\d]$/.test(g))return;g=e.substring(b.start.column,b.end.column);if(!/^[\w\d]+$/.test(g))return;var h=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:g});return h},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(){this.renderer.updateText()},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getCopyText=function(){var a="";return this.selection.isEmpty()||(a=this.session.getTextRange(this.getSelectionRange())),this._emit("copy",a),a},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(a){this._emit("paste",a),this.insert(a)},this.insert=function(a){var b=this.session,c=b.getMode(),d=this.getCursorPosition();if(this.getBehavioursEnabled()){var e=c.transformAction(b.getState(d.row),"insertion",this,b,a);e&&(a=e.text)}a=a.replace("	",this.session.getTabString());if(!this.selection.isEmpty())d=this.session.remove(this.getSelectionRange()),this.clearSelection();else if(this.session.getOverwrite()){var f=new m.fromPoints(d,d);f.end.column+=a.length,this.session.remove(f)}this.clearSelection();var g=d.column,h=b.getState(d.row),i=c.checkOutdent(h,b.getLine(d.row),a),j=b.getLine(d.row),k=c.getNextLineIndent(h,j.slice(0,d.column),b.getTabString()),l=b.insert(d,a);e&&e.selection&&(e.selection.length==2?this.selection.setSelectionRange(new m(d.row,g+e.selection[0],d.row,g+e.selection[1])):this.selection.setSelectionRange(new m(d.row+e.selection[0],e.selection[1],d.row+e.selection[2],e.selection[3])));var h=b.getState(d.row);if(b.getDocument().isNewLine(a)){this.moveCursorTo(d.row+1,0);var n=b.getTabSize(),o=Number.MAX_VALUE;for(var p=d.row+1;p<=l.row;++p){var q=0;j=b.getLine(p);for(var r=0;r<j.length;++r)if(j.charAt(r)=="	")q+=n;else{if(j.charAt(r)!=" ")break;q+=1}/[^\s]/.test(j)&&(o=Math.min(q,o))}for(var p=d.row+1;p<=l.row;++p){var s=o;j=b.getLine(p);for(var r=0;r<j.length&&s>0;++r)j.charAt(r)=="	"?s-=n:j.charAt(r)==" "&&(s-=1);b.remove(new m(p,0,p,r))}b.indentRows(d.row+1,l.row,k)}i&&c.autoOutdent(h,b,d.row)},this.onTextInput=function(a){this.keyBinding.onTextInput(a)},this.onCommandKey=function(a,b,c){this.keyBinding.onCommandKey(a,b,c)},this.setOverwrite=function(a){this.session.setOverwrite(a)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(a){this.$mouseHandler.setScrollSpeed(a)},this.getScrollSpeed=function(){return this.$mouseHandler.getScrollSpeed()},this.setDragDelay=function(a){this.$mouseHandler.setDragDelay(a)},this.getDragDelay=function(){return this.$mouseHandler.getDragDelay()},this.$selectionStyle="line",this.setSelectionStyle=function(a){if(this.$selectionStyle==a)return;this.$selectionStyle=a,this.onSelectionChange(),this._emit("changeSelectionStyle",{data:a})},this.getSelectionStyle=function(){return this.$selectionStyle},this.$highlightActiveLine=!0,this.setHighlightActiveLine=function(a){if(this.$highlightActiveLine==a)return;this.$highlightActiveLine=a,this.$updateHighlightActiveLine()},this.getHighlightActiveLine=function(){return this.$highlightActiveLine},this.$highlightGutterLine=!0,this.setHighlightGutterLine=function(a){if(this.$highlightGutterLine==a)return;this.renderer.setHighlightGutterLine(a),this.$highlightGutterLine=a},this.getHighlightGutterLine=function(){return this.$highlightGutterLine},this.$highlightSelectedWord=!0,this.setHighlightSelectedWord=function(a){if(this.$highlightSelectedWord==a)return;this.$highlightSelectedWord=a,this.$onSelectionChange()},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(a){this.renderer.setAnimatedScroll(a)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(a){if(this.getShowInvisibles()==a)return;this.renderer.setShowInvisibles(a)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setShowPrintMargin=function(a){this.renderer.setShowPrintMargin(a)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(a){this.renderer.setPrintMarginColumn(a)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.$readOnly=!1,this.setReadOnly=function(a){this.$readOnly=a},this.getReadOnly=function(){return this.$readOnly},this.$modeBehaviours=!0,this.setBehavioursEnabled=function(a){this.$modeBehaviours=a},this.getBehavioursEnabled=function(){return this.$modeBehaviours},this.setShowFoldWidgets=function(a){var b=this.renderer.$gutterLayer;if(b.getShowFoldWidgets()==a)return;this.renderer.$gutterLayer.setShowFoldWidgets(a),this.$showFoldWidgets=a,this.renderer.updateFull()},this.getShowFoldWidgets=function(){return this.renderer.$gutterLayer.getShowFoldWidgets()},this.setFadeFoldWidgets=function(a){this.renderer.setFadeFoldWidgets(a)},this.getFadeFoldWidgets=function(){return this.renderer.getFadeFoldWidgets()},this.remove=function(a){this.selection.isEmpty()&&(a=="left"?this.selection.selectLeft():this.selection.selectRight());var b=this.getSelectionRange();if(this.getBehavioursEnabled()){var c=this.session,d=c.getState(b.start.row),e=c.getMode().transformAction(d,"deletion",this,c,b);e&&(b=e)}this.session.remove(b),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var a=this.getSelectionRange();a.start.column==a.end.column&&a.start.row==a.end.row&&(a.end.column=0,a.end.row++),this.session.remove(a),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var a=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(a)},this.transposeLetters=function(){if(!this.selection.isEmpty())return;var a=this.getCursorPosition(),b=a.column;if(b===0)return;var c=this.session.getLine(a.row),d,e;b<c.length?(d=c.charAt(b)+c.charAt(b-1),e=new m(a.row,b-1,a.row,b+1)):(d=c.charAt(b-1)+c.charAt(b-2),e=new m(a.row,b-2,a.row,b)),this.session.replace(e,d)},this.toLowerCase=function(){var a=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var b=this.getSelectionRange(),c=this.session.getTextRange(b);this.session.replace(b,c.toLowerCase()),this.selection.setSelectionRange(a)},this.toUpperCase=function(){var a=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var b=this.getSelectionRange(),c=this.session.getTextRange(b);this.session.replace(b,c.toUpperCase()),this.selection.setSelectionRange(a)},this.indent=function(){var a=this.session,b=this.getSelectionRange();if(!(b.start.row<b.end.row||b.start.column<b.end.column)){var d;if(this.session.getUseSoftTabs()){var f=a.getTabSize(),g=this.getCursorPosition(),h=a.documentToScreenColumn(g.row,g.column),i=f-h%f;d=e.stringRepeat(" ",i)}else d="	";return this.insert(d)}var c=this.$getSelectedRows();a.indentRows(c.first,c.last,"	")},this.blockOutdent=function(){var a=this.session.getSelection();this.session.outdentRows(a.getRange())},this.toggleCommentLines=function(){var a=this.session.getState(this.getCursorPosition().row),b=this.$getSelectedRows();this.session.getMode().toggleCommentLines(a,this.session,b.first,b.last)},this.removeLines=function(){var a=this.$getSelectedRows(),b;a.first===0||a.last+1<this.session.getLength()?b=new m(a.first,0,a.last+1,0):b=new m(a.first-1,this.session.getLine(a.first-1).length,a.last,this.session.getLine(a.last).length),this.session.remove(b),this.clearSelection()},this.duplicateSelection=function(){var a=this.selection,b=this.session,c=a.getRange();if(c.isEmpty()){var d=c.start.row;b.duplicateLines(d,d)}else{var e=a.isBackwards(),f=a.isBackwards()?c.start:c.end,g=b.insert(f,b.getTextRange(c),!1);c.start=f,c.end=g,a.setSelectionRange(c,e)}},this.moveLinesDown=function(){this.$moveLines(function(a,b){return this.session.moveLinesDown(a,b)})},this.moveLinesUp=function(){this.$moveLines(function(a,b){return this.session.moveLinesUp(a,b)})},this.moveText=function(a,b){return this.$readOnly?null:this.session.moveText(a,b)},this.copyLinesUp=function(){this.$moveLines(function(a,b){return this.session.duplicateLines(a,b),0})},this.copyLinesDown=function(){this.$moveLines(function(a,b){return this.session.duplicateLines(a,b)})},this.$moveLines=function(a){var b=this.$getSelectedRows(),c=this.selection;if(!c.isMultiLine())var d=c.getRange(),e=c.isBackwards();var f=a.call(this,b.first,b.last);d?(d.start.row+=f,d.end.row+=f,c.setSelectionRange(d,e)):(c.setSelectionAnchor(b.last+f+1,0),c.$moveSelection(function(){c.moveCursorTo(b.first+f,0)}))},this.$getSelectedRows=function(){var a=this.getSelectionRange().collapseRows();return{first:a.start.row,last:a.end.row}},this.onCompositionStart=function(a){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(a){this.renderer.setCompositionText(a)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(a){return a>=this.getFirstVisibleRow()&&a<=this.getLastVisibleRow()},this.isRowFullyVisible=function(a){return a>=this.renderer.getFirstFullyVisibleRow()&&a<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(a,b){var c=this.renderer,d=this.renderer.layerConfig,e=a*Math.floor(d.height/d.lineHeight);this.$blockScrolling++,b==1?this.selection.$moveSelection(function(){this.moveCursorBy(e,0)}):b==0&&(this.selection.moveCursorBy(e,0),this.selection.clearSelection()),this.$blockScrolling--;var f=c.scrollTop;c.scrollBy(0,e*d.lineHeight),b!=null&&c.scrollCursorIntoView(null,.5),c.animateScrolling(f)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(a){this.renderer.scrollToRow(a)},this.scrollToLine=function(a,b,c,d){this.renderer.scrollToLine(a,b,c,d)},this.centerSelection=function(){var a=this.getSelectionRange(),b={row:Math.floor(a.start.row+(a.end.row-a.start.row)/2),column:Math.floor(a.start.column+(a.end.column-a.start.column)/2)};this.renderer.alignCursor(b,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(a,b){this.selection.moveCursorTo(a,b)},this.moveCursorToPosition=function(a){this.selection.moveCursorToPosition(a)},this.jumpToMatching=function(a){var b=this.getCursorPosition(),c=this.session.getBracketRange(b);if(!c){c=this.find({needle:/[{}()\[\]]/g,preventScroll:!0,start:{row:b.row,column:b.column-1}});if(!c)return;var d=c.start;d.row==b.row&&Math.abs(d.column-b.column)<2&&(c=this.session.getBracketRange(d))}d=c&&c.cursor||d,d&&(a?c&&c.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(d.row,d.column):(this.clearSelection(),this.moveCursorTo(d.row,d.column)))},this.gotoLine=function(a,b,c){this.selection.clearSelection(),this.session.unfold({row:a-1,column:b||0}),this.$blockScrolling+=1,this.moveCursorTo(a-1,b||0),this.$blockScrolling-=1,this.isRowFullyVisible(a-1)||this.scrollToLine(a-1,!0,c)},this.navigateTo=function(a,b){this.clearSelection(),this.moveCursorTo(a,b)},this.navigateUp=function(a){this.selection.clearSelection(),a=a||1,this.selection.moveCursorBy(-a,0)},this.navigateDown=function(a){this.selection.clearSelection(),a=a||1,this.selection.moveCursorBy(a,0)},this.navigateLeft=function(a){if(!this.selection.isEmpty()){var b=this.getSelectionRange().start;this.moveCursorToPosition(b)}else{a=a||1;while(a--)this.selection.moveCursorLeft()}this.clearSelection()},this.navigateRight=function(a){if(!this.selection.isEmpty()){var b=this.getSelectionRange().end;this.moveCursorToPosition(b)}else{a=a||1;while(a--)this.selection.moveCursorRight()}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){var a=this.renderer.scrollTop;this.selection.moveCursorFileEnd(),this.clearSelection(),this.renderer.animateScrolling(a)},this.navigateFileStart=function(){var a=this.renderer.scrollTop;this.selection.moveCursorFileStart(),this.clearSelection(),this.renderer.animateScrolling(a)},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(a,b){b&&this.$search.set(b);var c=this.$search.find(this.session),d=0;return c?(this.$tryReplace(c,a)&&(d=1),c!==null&&(this.selection.setSelectionRange(c),this.renderer.scrollSelectionIntoView(c.start,c.end)),d):d},this.replaceAll=function(a,b){b&&this.$search.set(b);var c=this.$search.findAll(this.session),d=0;if(!c.length)return d;this.$blockScrolling+=1;var e=this.getSelectionRange();this.clearSelection(),this.selection.moveCursorTo(0,0);for(var f=c.length-1;f>=0;--f)this.$tryReplace(c[f],a)&&d++;return this.selection.setSelectionRange(e),this.$blockScrolling-=1,d},this.$tryReplace=function(a,b){var c=this.session.getTextRange(a);return b=this.$search.replace(c,b),b!==null?(a.end=this.session.replace(a,b),a):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(a,b,c){b||(b={}),typeof a=="string"||a instanceof RegExp?b.needle=a:typeof a=="object"&&d.mixin(b,a);var e=this.selection.getRange();b.needle==null&&(a=this.session.getTextRange(e)||this.$search.$options.needle,a||(e=this.session.getWordRange(e.start.row,e.start.column),a=this.session.getTextRange(e)),this.$search.set({needle:a})),this.$search.set(b),b.start||this.$search.set({start:e});var f=this.$search.find(this.session);if(b.preventScroll)return f;if(f)return this.revealRange(f,c),f;b.backwards?e.start=e.end:e.end=e.start,this.selection.setRange(e)},this.findNext=function(a,b){this.find({skipCurrent:!0,backwards:!1},a,b)},this.findPrevious=function(a,b){this.find(a,{skipCurrent:!0,backwards:!0},b)},this.revealRange=function(a,b){this.$blockScrolling+=1,this.session.unfold(a),this.selection.setSelectionRange(a),this.$blockScrolling-=1;var c=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(a.start,a.end,.5),b!=0&&this.renderer.animateScrolling(c)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy()}}).call(q.prototype),b.Editor=q}),define("ace/multi_select",["require","exports","module","./range_list","./range","./selection","./mouse/multi_select_handler","./lib/event","./commands/multi_select_commands","./search","./edit_session","./editor"],function(a,b,c){function l(a,b,c){return k.$options.wrap=!0,k.$options.needle=b,k.$options.backwards=c==-1,k.find(a)}function o(a,b){return a.row==b.row&&a.column==b.column}function p(a){a.$onAddRange=a.$onAddRange.bind(a),a.$onRemoveRange=a.$onRemoveRange.bind(a),a.$onMultiSelect=a.$onMultiSelect.bind(a),a.$onSingleSelect=a.$onSingleSelect.bind(a),b.onSessionChange.call(a,a),a.on("changeSession",b.onSessionChange.bind(a)),a.on("mousedown",g),a.commands.addCommands(i.defaultCommands),q(a)}function q(a){function e(){c&&(d.style.cursor="",c=!1)}var b=a.textInput.getElement(),c=!1,d=a.renderer.content;h.addListener(b,"keydown",function(a){a.keyCode==18&&!(a.ctrlKey||a.shiftKey||a.metaKey)?c||(d.style.cursor="crosshair",c=!0):c&&(d.style.cursor="")}),h.addListener(b,"keyup",e),h.addListener(b,"blur",e)}var d=a("./range_list").RangeList,e=a("./range").Range,f=a("./selection").Selection,g=a("./mouse/multi_select_handler").onMouseDown,h=a("./lib/event"),i=a("./commands/multi_select_commands");b.commands=i.defaultCommands.concat(i.multiSelectCommands);var j=a("./search").Search,k=new j,m=a("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(m.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(a,b){if(!a)return;if(!this.inMultiSelectMode&&this.rangeCount==0){var c=this.toOrientedRange();if(a.intersects(c))return b||this.fromOrientedRange(a);this.rangeList.add(c),this.$onAddRange(c)}a.cursor||(a.cursor=a.end);var d=this.rangeList.add(a);return this.$onAddRange(a),d.length&&this.$onRemoveRange(d),this.rangeCount>1&&!this.inMultiSelectMode&&(this._emit("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),b||this.fromOrientedRange(a)},this.toSingleRange=function(a){a=a||this.ranges[0];var b=this.rangeList.removeAll();b.length&&this.$onRemoveRange(b),a&&this.fromOrientedRange(a)},this.substractPoint=function(a){var b=this.rangeList.substractPoint(a);if(b)return this.$onRemoveRange(b),b[0]},this.mergeOverlappingRanges=function(){var a=this.rangeList.merge();a.length?this.$onRemoveRange(a):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(a){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(a),this._emit("addRange",{range:a})},this.$onRemoveRange=function(a){this.rangeCount=this.rangeList.ranges.length;if(this.rangeCount==1&&this.inMultiSelectMode){var b=this.rangeList.ranges.pop();a.push(b),this.rangeCount=0}for(var c=a.length;c--;){var d=this.ranges.indexOf(a[c]);this.ranges.splice(d,1)}this._emit("removeRange",{ranges:a}),this.rangeCount==0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._emit("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),b=b||this.ranges[0],b&&!b.isEqual(this.getRange())&&this.fromOrientedRange(b)},this.$initRangeList=function(){if(this.rangeList)return;this.rangeList=new d,this.ranges=[],this.rangeCount=0},this.getAllRanges=function(){return this.rangeList.ranges.concat()},this.splitIntoLines=function(){if(this.rangeCount>1){var a=this.rangeList.ranges,b=a[a.length-1],c=e.fromPoints(a[0].start,b.end);this.toSingleRange(),this.setSelectionRange(c,b.cursor==b.start)}else{var c=this.getRange(),d=c.start.row,f=c.end.row;if(d==f)return;var g=[],h=this.getLineRange(d,!0);h.start.column=c.start.column,g.push(h);for(var i=d+1;i<f;i++)g.push(this.getLineRange(i,!0));h=this.getLineRange(f,!0),h.end.column=c.end.column,g.push(h),g.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var a=this.rangeList.ranges,b=a[a.length-1],c=e.fromPoints(a[0].start,b.end);this.toSingleRange(),this.setSelectionRange(c,b.cursor==b.start)}else{var d=this.session.documentToScreenPosition(this.selectionLead),f=this.session.documentToScreenPosition(this.selectionAnchor),g=this.rectangularRangeBlock(d,f);g.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(a,b,c){var d=[],f=a.column<b.column;if(f)var g=a.column,h=b.column;else var g=b.column,h=a.column;var i=a.row<b.row;if(i)var j=a.row,k=b.row;else var j=b.row,k=a.row;g<0&&(g=0),j<0&&(j=0),j==k&&(c=!0);for(var l=j;l<=k;l++){var m=e.fromPoints(this.session.screenToDocumentPosition(l,g),this.session.screenToDocumentPosition(l,h));if(m.isEmpty()){if(n&&o(m.end,n))break;var n=m.end}m.cursor=f?m.start:m.end,d.push(m)}i&&d.reverse();if(!c){var p=d.length-1;while(d[p].isEmpty()&&p>0)p--;if(p>0){var q=0;while(d[q].isEmpty())q++}for(var r=p;r>=q;r--)d[r].isEmpty()&&d.splice(r,1)}return d}}.call(f.prototype);var n=a("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(a){a.cursor||(a.cursor=a.end);var b=this.getSelectionStyle();return a.marker=this.session.addMarker(a,"ace_selection",b),this.session.$selectionMarkers.push(a),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,a},this.removeSelectionMarker=function(a){if(!a.marker)return;this.session.removeMarker(a.marker);var b=this.session.$selectionMarkers.indexOf(a);b!=-1&&this.session.$selectionMarkers.splice(b,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length},this.removeSelectionMarkers=function(a){var b=this.session.$selectionMarkers;for(var c=a.length;c--;){var d=a[c];if(!d.marker)continue;this.session.removeMarker(d.marker);var e=b.indexOf(d);e!=-1&&b.splice(e,1)}this.session.selectionMarkerCount=b.length},this.$onAddRange=function(a){this.addSelectionMarker(a.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(a){this.removeSelectionMarkers(a.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(a){if(this.inMultiSelectMode)return;this.inMultiSelectMode=!0,this.setStyle("multiselect"),this.keyBinding.addKeyboardHandler(i.keyboardHandler),this.commands.on("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onSingleSelect=function(a){if(this.session.multiSelect.inVirtualMode)return;this.inMultiSelectMode=!1,this.unsetStyle("multiselect"),this.keyBinding.removeKeyboardHandler(i.keyboardHandler),this.commands.removeEventListener("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelectExec=function(a){var b=a.command,c=a.editor;if(!c.multiSelect)return;b.multiSelectAction?b.multiSelectAction=="forEach"?c.forEachSelection(b,a.args):b.multiSelectAction=="single"?(c.exitMultiSelectMode(),b.exec(c,a.args||{})):b.multiSelectAction(c,a.args||{}):(b.exec(c,a.args||{}),c.multiSelect.addRange(c.multiSelect.toOrientedRange()),c.multiSelect.mergeOverlappingRanges()),a.preventDefault()},this.forEachSelection=function(a,b){if(this.inVirtualSelectionMode)return;var c=this.session,d=this.selection,e=d.rangeList,g=d._eventRegistry;d._eventRegistry={};var h=new f(c);this.inVirtualSelectionMode=!0;for(var i=e.ranges.length;i--;)h.fromOrientedRange(e.ranges[i]),this.selection=c.selection=h,a.exec(this,b||{}),h.toOrientedRange(e.ranges[i]);h.detach(),this.selection=c.selection=d,this.inVirtualSelectionMode=!1,d._eventRegistry=g,d.mergeOverlappingRanges(),this.onCursorChange(),this.onSelectionChange()},this.exitMultiSelectMode=function(){if(this.inVirtualSelectionMode)return;this.multiSelect.toSingleRange()},this.getCopyText=function(){var a="";if(this.inMultiSelectMode){var b=this.multiSelect.rangeList.ranges;a=[];for(var c=0;c<b.length;c++)a.push(this.session.getTextRange(b[c]));a=a.join(this.session.getDocument().getNewLineCharacter())}else this.selection.isEmpty()||(a=this.session.getTextRange(this.getSelectionRange()));return a},this.onPaste=function(a){this._emit("paste",a);if(!this.inMultiSelectMode)return this.insert(a);var b=a.split(/\r\n|\r|\n/),c=this.selection.rangeList.ranges;if(b.length>c.length||b.length<=2||!b[1])return this.commands.exec("insertstring",this,a);for(var d=c.length;d--;){var e=c[d];e.isEmpty()||this.session.remove(e),this.session.insert(e.start,b[d])}},this.findAll=function(a,b,c){b=b||{},b.needle=a||b.needle,this.$search.set(b);var d=this.$search.findAll(this.session);if(!d.length)return 0;this.$blockScrolling+=1;var e=this.multiSelect;c||e.toSingleRange(d[0]);for(var f=d.length;f--;)e.addRange(d[f],!0);return this.$blockScrolling-=1,d.length},this.selectMoreLines=function(a,b){var c=this.selection.toOrientedRange(),d=c.cursor==c.end,f=this.session.documentToScreenPosition(c.cursor);this.selection.$desiredColumn&&(f.column=this.selection.$desiredColumn);var g=this.session.screenToDocumentPosition(f.row+a,f.column);if(!c.isEmpty())var h=this.session.documentToScreenPosition(d?c.end:c.start),i=this.session.screenToDocumentPosition(h.row+a,h.column);else var i=g;if(d){var j=e.fromPoints(g,i);j.cursor=j.start}else{var j=e.fromPoints(i,g);j.cursor=j.end}j.desiredColumn=f.column;if(!this.selection.inMultiSelectMode)this.selection.addRange(c);else if(b)var k=c.cursor;this.selection.addRange(j),k&&this.selection.substractPoint(k)},this.transposeSelections=function(a){var b=this.session,c=b.multiSelect,d=c.ranges;for(var e=d.length;e--;){var f=d[e];if(f.isEmpty()){var g=b.getWordRange(f.start.row,f.start.column);f.start.row=g.start.row,f.start.column=g.start.column,f.end.row=g.end.row,f.end.column=g.end.column}}c.mergeOverlappingRanges();var h=[];for(var e=d.length;e--;){var f=d[e];h.unshift(b.getTextRange(f))}a<0?h.unshift(h.pop()):h.push(h.shift());for(var e=d.length;e--;){var f=d[e],g=f.clone();b.replace(f,h[e]),f.start.row=g.start.row,f.start.column=g.start.column}},this.selectMore=function(a,b){var c=this.session,d=c.multiSelect,e=d.toOrientedRange();if(e.isEmpty()){var e=c.getWordRange(e.start.row,e.start.column);e.cursor=e.end,this.multiSelect.addRange(e)}var f=c.getTextRange(e),g=l(c,f,a);g&&(g.cursor=a==-1?g.start:g.end,this.multiSelect.addRange(g)),b&&this.multiSelect.substractPoint(e.cursor)}}).call(n.prototype),b.onSessionChange=function(a){var b=a.session;b.multiSelect||(b.$selectionMarkers=[],b.selection.$initRangeList(),b.multiSelect=b.selection),this.multiSelect=b.multiSelect;var c=a.oldSession;c&&(c.multiSelect&&c.multiSelect.editor==this&&(c.multiSelect.editor=null),b.multiSelect.removeEventListener("addRange",this.$onAddRange),b.multiSelect.removeEventListener("removeRange",this.$onRemoveRange),b.multiSelect.removeEventListener("multiSelect",this.$onMultiSelect),b.multiSelect.removeEventListener("singleSelect",this.$onSingleSelect)),b.multiSelect.on("addRange",this.$onAddRange),b.multiSelect.on("removeRange",this.$onRemoveRange),b.multiSelect.on("multiSelect",this.$onMultiSelect),b.multiSelect.on("singleSelect",this.$onSingleSelect),this.inMultiSelectMode!=b.selection.inMultiSelectMode&&(b.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},b.MultiSelect=p}),define("ace/virtual_renderer",["require","exports","module","./lib/oop","./lib/dom","./lib/event","./lib/useragent","./config","./lib/net","./layer/gutter","./layer/marker","./layer/text","./layer/cursor","./scrollbar","./renderloop","./lib/event_emitter","ace/requirejs/text!./css/editor.css"],function(a,b,c){var d=a("./lib/oop"),e=a("./lib/dom"),f=a("./lib/event"),g=a("./lib/useragent"),h=a("./config"),i=a("./lib/net"),j=a("./layer/gutter").Gutter,k=a("./layer/marker").Marker,l=a("./layer/text").Text,m=a("./layer/cursor").Cursor,n=a("./scrollbar").ScrollBar,o=a("./renderloop").RenderLoop,p=a("./lib/event_emitter").EventEmitter,q=a("ace/requirejs/text!./css/editor.css");e.importCssString(q,"ace_editor");var r=function(a,b){var c=this;this.container=a,this.$keepTextAreaAtCursor=!g.isIE,e.addCssClass(a,"ace_editor"),this.setTheme(b),this.$gutter=e.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=e.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=e.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new j(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onResize.bind(this,!0)),this.setFadeFoldWidgets(!0),this.$markerBack=new k(this.content);var d=this.$textLayer=new l(this.content);this.canvas=d.element,this.$markerFront=new k(this.content),this.characterWidth=d.getCharacterWidth(),this.lineHeight=d.getLineHeight(),this.$cursorLayer=new m(this.content),this.$cursorPadding=8,this.$horizScroll=!1,this.$horizScrollAlwaysVisible=!1,this.$animatedScroll=!1,this.scrollBar=new n(a),this.scrollBar.addEventListener("scroll",function(a){c.$inScrollAnimation||c.session.setScrollTop(a.data)}),this.scrollTop=0,this.scrollLeft=0,f.addListener(this.scroller,"scroll",function(){var a=c.scroller.scrollLeft;c.scrollLeft=a,c.session.setScrollLeft(a)}),this.cursorPos={row:0,column:0},this.$textLayer.addEventListener("changeCharacterSize",function(){c.characterWidth=d.getCharacterWidth(),c.lineHeight=d.getLineHeight(),c.$updatePrintMargin(),c.onResize(!0),c.$loop.schedule(c.CHANGE_FULL)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:1,characterWidth:1,minHeight:1,maxHeight:1,offset:0,height:1},this.$loop=new o(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.setPadding(4),this.$updatePrintMargin()};(function(){this.showGutter=!0,this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,d.implement(this,p),this.setSession=function(a){this.session=a,this.scroller.className="ace_scroller",this.$cursorLayer.setSession(a),this.$markerBack.setSession(a),this.$markerFront.setSession(a),this.$gutterLayer.setSession(a),this.$textLayer.setSession(a),this.$loop.schedule(this.CHANGE_FULL)},this.updateLines=function(a,b){b===undefined&&(b=Infinity),this.$changedLines?(this.$changedLines.firstRow>a&&(this.$changedLines.firstRow=a),this.$changedLines.lastRow<b&&(this.$changedLines.lastRow=b)):this.$changedLines={firstRow:a,lastRow:b},this.$loop.schedule(this.CHANGE_LINES)},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(a){a?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.onResize=function(a,b,c,d){var f=this.CHANGE_SIZE,g=this.$size;if(this.resizing>2)return;this.resizing>1?this.resizing++:this.resizing=a?1:0,d||(d=e.getInnerHeight(this.container));if(a||g.height!=d)g.height=d,this.scroller.style.height=d+"px",g.scrollerHeight=this.scroller.clientHeight,this.scrollBar.setHeight(g.scrollerHeight),this.session&&(this.session.setScrollTop(this.getScrollTop()),f|=this.CHANGE_FULL);c||(c=e.getInnerWidth(this.container));if(a||this.resizing>1||g.width!=c){g.width=c;var b=this.showGutter?this.$gutter.offsetWidth:0;this.scroller.style.left=b+"px",g.scrollerWidth=Math.max(0,c-b-this.scrollBar.getWidth()),this.scroller.style.right=this.scrollBar.getWidth()+"px";if(this.session.getUseWrapMode()&&this.adjustWrapLimit()||a)f|=this.CHANGE_FULL}a?this.$renderChanges(f,!0):this.$loop.schedule(f),a&&delete this.resizing},this.adjustWrapLimit=function(){var a=this.$size.scrollerWidth-this.$padding*2,b=Math.floor(a/this.characterWidth);return this.session.adjustWrapLimit(b)},this.setAnimatedScroll=function(a){this.$animatedScroll=a},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(a){this.$textLayer.setShowInvisibles(a)&&this.$loop.schedule(this.CHANGE_TEXT)},this.getShowInvisibles=function(){return this.$textLayer.showInvisibles},this.$showPrintMargin=!0,this.setShowPrintMargin=function(a){this.$showPrintMargin=a,this.$updatePrintMargin()},this.getShowPrintMargin=function(){return this.$showPrintMargin},this.$printMarginColumn=80,this.setPrintMarginColumn=function(a){this.$printMarginColumn=a,this.$updatePrintMargin()},this.getPrintMarginColumn=function(){return this.$printMarginColumn},this.getShowGutter=function(){return this.showGutter},this.setShowGutter=function(a){if(this.showGutter===a)return;this.$gutter.style.display=a?"block":"none",this.showGutter=a,this.onResize(!0)},this.getFadeFoldWidgets=function(){return e.hasCssClass(this.$gutter,"ace_fade-fold-widgets")},this.setFadeFoldWidgets=function(a){a?e.addCssClass(this.$gutter,"ace_fade-fold-widgets"):e.removeCssClass(this.$gutter,"ace_fade-fold-widgets")},this.$highlightGutterLine=!0,this.setHighlightGutterLine=function(a){if(this.$highlightGutterLine==a)return;this.$highlightGutterLine=a,this.$loop.schedule(this.CHANGE_GUTTER)},this.getHighlightGutterLine=function(){return this.$highlightGutterLine},this.$updateGutterLineHighlight=function(a){var b=this.session.selection.lead.row;if(b==this.$gutterLineHighlight)return;if(!a){var c,d=this.$gutterLayer.element.children,f=this.$gutterLineHighlight-this.layerConfig.firstRow;f>=0&&(c=d[f])&&e.removeCssClass(c,"ace_gutter_active_line"),f=b-this.layerConfig.firstRow,f>=0&&(c=d[f])&&e.addCssClass(c,"ace_gutter_active_line")}this.$gutterLayer.removeGutterDecoration(this.$gutterLineHighlight,"ace_gutter_active_line"),this.$gutterLayer.addGutterDecoration(b,"ace_gutter_active_line"),this.$gutterLineHighlight=b},this.$updatePrintMargin=function(){var a;if(!this.$showPrintMargin&&!this.$printMarginEl)return;this.$printMarginEl||(a=e.createElement("div"),a.className="ace_print_margin_layer",this.$printMarginEl=e.createElement("div"),this.$printMarginEl.className="ace_print_margin",a.appendChild(this.$printMarginEl),this.content.insertBefore(a,this.$textLayer.element));var b=this.$printMarginEl.style;b.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",b.visibility=this.$showPrintMargin?"visible":"hidden"},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.content},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$keepTextAreaAtCursor)return;var a=this.$cursorLayer.$pixelPos.top,b=this.$cursorLayer.$pixelPos.left;a-=this.layerConfig.offset;if(a<0||a>this.layerConfig.height-this.lineHeight)return;var c=this.characterWidth;this.$composition&&(c+=this.textarea.scrollWidth),b-=this.scrollLeft,b>this.$size.scrollerWidth-c&&(b=this.$size.scrollerWidth-c),this.showGutter&&(b+=this.$gutterLayer.gutterWidth),this.textarea.style.height=this.lineHeight+"px",this.textarea.style.width=c+"px",this.textarea.style.left=b+"px",this.textarea.style.top=a-1+"px"},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},this.getLastFullyVisibleRow=function(){var a=Math.floor((this.layerConfig.height+this.layerConfig.offset)/this.layerConfig.lineHeight);return this.layerConfig.firstRow-1+a},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(a){this.$padding=a,this.$textLayer.setPadding(a),this.$cursorLayer.setPadding(a),this.$markerFront.setPadding(a),this.$markerBack.setPadding(a),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.getHScrollBarAlwaysVisible=function(){return this.$horizScrollAlwaysVisible},this.setHScrollBarAlwaysVisible=function(a){this.$horizScrollAlwaysVisible!=a&&(this.$horizScrollAlwaysVisible=a,(!this.$horizScrollAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL))},this.$updateScrollBar=function(){this.scrollBar.setInnerHeight(this.layerConfig.maxHeight),this.scrollBar.setScrollTop(this.scrollTop)},this.$renderChanges=function(a,b){if(!b&&(!a||!this.session||!this.container.offsetWidth))return;(a&this.CHANGE_FULL||a&this.CHANGE_SIZE||a&this.CHANGE_TEXT||a&this.CHANGE_LINES||a&this.CHANGE_SCROLL)&&this.$computeLayerConfig();if(a&this.CHANGE_H_SCROLL){this.scroller.scrollLeft=this.scrollLeft;var c=this.scroller.scrollLeft;this.scrollLeft=c,this.session.setScrollLeft(c),this.scroller.className=this.scrollLeft==0?"ace_scroller":"ace_scroller horscroll"}if(a&this.CHANGE_FULL){this.$textLayer.checkForSizeChanges(),this.$updateScrollBar(),this.$textLayer.update(this.layerConfig),this.showGutter&&(this.$highlightGutterLine&&this.$updateGutterLineHighlight(!0),this.$gutterLayer.update(this.layerConfig)),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor();return}if(a&this.CHANGE_SCROLL){this.$updateScrollBar(),a&this.CHANGE_TEXT||a&this.CHANGE_LINES?this.$textLayer.update(this.layerConfig):this.$textLayer.scrollLines(this.layerConfig),this.showGutter&&(this.$highlightGutterLine&&this.$updateGutterLineHighlight(!0),this.$gutterLayer.update(this.layerConfig)),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor();return}a&this.CHANGE_TEXT?(this.$textLayer.update(this.layerConfig),this.showGutter&&this.$gutterLayer.update(this.layerConfig)):a&this.CHANGE_LINES?this.$updateLines()&&(this.$updateScrollBar(),this.showGutter&&this.$gutterLayer.update(this.layerConfig)):a&this.CHANGE_GUTTER&&this.showGutter&&this.$gutterLayer.update(this.layerConfig),a&this.CHANGE_CURSOR&&(this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(!1)),a&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(this.layerConfig),a&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(this.layerConfig),a&this.CHANGE_SIZE&&this.$updateScrollBar()},this.$computeLayerConfig=function(){var a=this.session,b=this.scrollTop%this.lineHeight,c=this.$size.scrollerHeight+this.lineHeight,d=this.$getLongestLine(),e=this.$horizScrollAlwaysVisible||this.$size.scrollerWidth-d<0,f=this.$horizScroll!==e;this.$horizScroll=e,f&&(this.scroller.style.overflowX=e?"scroll":"hidden",e||this.session.setScrollLeft(0));var g=this.session.getScreenLength()*this.lineHeight;this.session.setScrollTop(Math.max(0,Math.min(this.scrollTop,g-this.$size.scrollerHeight)));var h=Math.ceil(c/this.lineHeight)-1,i=Math.max(0,Math.round((this.scrollTop-b)/this.lineHeight)),j=i+h,k,l,m={lineHeight:this.lineHeight};i=a.screenToDocumentRow(i,0);var n=a.getFoldLine(i);n&&(i=n.start.row),k=a.documentToScreenRow(i,0),l=a.getRowHeight(m,i),j=Math.min(a.screenToDocumentRow(j,0),a.getLength()-1),c=this.$size.scrollerHeight+a.getRowHeight(m,j)+l,b=this.scrollTop-k*this.lineHeight,this.layerConfig={width:d,padding:this.$padding,firstRow:i,firstRowScreen:k,lastRow:j,lineHeight:this.lineHeight,characterWidth:this.characterWidth,minHeight:c,maxHeight:g,offset:b,height:this.$size.scrollerHeight},this.$gutterLayer.element.style.marginTop=-b+"px",this.content.style.marginTop=-b+"px",this.content.style.width=d+2*this.$padding+"px",this.content.style.height=c+"px",f&&this.onResize(!0)},this.$updateLines=function(){var a=this.$changedLines.firstRow,b=this.$changedLines.lastRow;this.$changedLines=null;var c=this.layerConfig;if(a>c.lastRow+1)return;if(b<c.firstRow)return;if(b===Infinity){this.showGutter&&this.$gutterLayer.update(c),this.$textLayer.update(c);return}return this.$textLayer.updateLines(c,a,b),!0},this.$getLongestLine=function(){var a=this.session.getScreenWidth();return this.$textLayer.showInvisibles&&(a+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(a*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(a,b){this.$gutterLayer.addGutterDecoration(a,b),this.$loop.schedule(this.CHANGE_GUTTER)},this.removeGutterDecoration=function(a,b){this.$gutterLayer.removeGutterDecoration(a,b),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateBreakpoints=function(a){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(a){this.$gutterLayer.setAnnotations(a),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(a,b,c){this.scrollCursorIntoView(a,c),this.scrollCursorIntoView(b,c)},this.scrollCursorIntoView=function(a,b){if(this.$size.scrollerHeight===0)return;var c=this.$cursorLayer.getPixelPosition(a),d=c.left,e=c.top;this.scrollTop>e?(b&&(e-=b*this.$size.scrollerHeight),this.session.setScrollTop(e)):this.scrollTop+this.$size.scrollerHeight<e+this.lineHeight&&(b&&(e+=b*this.$size.scrollerHeight),this.session.setScrollTop(e+this.lineHeight-this.$size.scrollerHeight));var f=this.scrollLeft;f>d?(d<this.$padding+2*this.layerConfig.characterWidth&&(d=0),this.session.setScrollLeft(d)):f+this.$size.scrollerWidth<d+this.characterWidth&&this.session.setScrollLeft(Math.round(d+this.characterWidth-this.$size.scrollerWidth))},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(a){this.session.setScrollTop(a*this.lineHeight)},this.alignCursor=function(a,b){typeof a=="number"&&(a={row:a,column:0});var c=this.$cursorLayer.getPixelPosition(a),d=c.top-this.$size.scrollerHeight*(b||0);this.session.setScrollTop(d)},this.STEPS=8,this.$calcSteps=function(a,b){var c=0,d=this.STEPS,e=[],f=function(a,b,c){return c*(Math.pow(a-1,3)+1)+b};for(c=0;c<d;++c)e.push(f(c/this.STEPS,a,b-a));return e},this.scrollToLine=function(a,b,c,d){var e=this.$cursorLayer.getPixelPosition({row:a,column:0}),f=e.top;b&&(f-=this.$size.scrollerHeight/2);var g=this.scrollTop;this.session.setScrollTop(f),c!==!1&&this.animateScrolling(g,d)},this.animateScrolling=function(a,b){var c=this.scrollTop;if(this.$animatedScroll&&Math.abs(a-c)<1e5){var d=this,e=d.$calcSteps(a,c);this.$inScrollAnimation=!0,clearInterval(this.$timer),d.session.setScrollTop(e.shift()),this.$timer=setInterval(function(){e.length?(d.session.setScrollTop(e.shift()),d.session.$scrollTop=c):c!=null?(d.session.$scrollTop=-1,d.session.setScrollTop(c),c=null):(d.$timer=clearInterval(d.$timer),d.$inScrollAnimation=!1,b&&b())},10)}},this.scrollToY=function(a){this.scrollTop!==a&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=a)},this.scrollToX=function(a){a<0&&(a=0),this.scrollLeft!==a&&(this.scrollLeft=a),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollBy=function(a,b){b&&this.session.setScrollTop(this.session.getScrollTop()+b),a&&this.session.setScrollLeft(this.session.getScrollLeft()+a)},this.isScrollableBy=function(a,b){if(b<0&&this.session.getScrollTop()>0)return!0;if(b>0&&this.session.getScrollTop()+this.$size.scrollerHeight<this.layerConfig.maxHeight)return!0},this.pixelToScreenCoordinates=function(a,b){var c=this.scroller.getBoundingClientRect(),d=(a+this.scrollLeft-c.left-this.$padding)/this.characterWidth,e=Math.floor((b+this.scrollTop-c.top)/this.lineHeight),f=Math.round(d);return{row:e,column:f,side:d-f>0?1:-1}},this.screenToTextCoordinates=function(a,b){var c=this.scroller.getBoundingClientRect(),d=Math.round((a+this.scrollLeft-c.left-this.$padding)/this.characterWidth),e=Math.floor((b+this.scrollTop-c.top)/this.lineHeight);return this.session.screenToDocumentPosition(e,Math.max(d,0))},this.textToScreenCoordinates=function(a,b){var c=this.scroller.getBoundingClientRect(),d=this.session.documentToScreenPosition(a,b),e=this.$padding+Math.round(d.column*this.characterWidth),f=d.row*this.lineHeight;return{pageX:c.left+e-this.scrollLeft,pageY:c.top+f-this.scrollTop}},this.visualizeFocus=function(){e.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){e.removeCssClass(this.container,"ace_focus")},this.showComposition=function(a){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,e.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(a){this.$moveTextAreaToCursor()},this.hideComposition=function(){if(!this.$composition)return;e.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null},this._loadTheme=function(a,b){if(!h.get("packaged"))return b();i.loadScript(h.moduleUrl(a,"theme"),b)},this.setTheme=function(b){function h(a){e.importCssString(a.cssText,a.cssClass,c.container.ownerDocument),c.$theme&&e.removeCssClass(c.container,c.$theme),c.$theme=a?a.cssClass:null,c.$theme&&e.addCssClass(c.container,c.$theme),a&&a.isDark?e.addCssClass(c.container,"ace_dark"):e.removeCssClass(c.container,"ace_dark"),c.$size&&(c.$size.width=0,c.onResize())}var c=this;this.$themeValue=b;if(!b||typeof b=="string"){var d=b||"ace/theme/textmate",f;try{f=a(d)}catch(g){}if(f)return h(f);c._loadTheme(d,function(){a([d],function(a){if(c.$themeValue!==b)return;h(a)})})}else h(b)},this.getTheme=function(){return this.$themeValue},this.setStyle=function(b){e.addCssClass(this.container,b)},this.unsetStyle=function(b){e.removeCssClass(this.container,b)},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(r.prototype),b.VirtualRenderer=r}),define("ace/worker/worker_client",["require","exports","module","../lib/oop","../lib/event_emitter","../config"],function(a,b,c){var d=a("../lib/oop"),e=a("../lib/event_emitter").EventEmitter,f=a("../config"),g=function(b,c,d){this.changeListener=this.changeListener.bind(this);if(f.get("packaged"))this.$worker=new Worker(f.moduleUrl(c,"worker"));else{var e;typeof a.supports!="undefined"&&a.supports.indexOf("ucjs2-pinf-0")>=0?e=a.nameToUrl("ace/worker/worker_sourcemint"):(a.nameToUrl&&!a.toUrl&&(a.toUrl=a.nameToUrl),e=this.$normalizePath(a.toUrl("ace/worker/worker",null,"_"))),this.$worker=new Worker(e);var g={};for(var h=0;h<b.length;h++){var i=b[h],j=this.$normalizePath(a.toUrl(i,null,"_").replace(/.js(\?.*)?$/,""));g[i]=j}}this.$worker.postMessage({init:!0,tlns:g,module:c,classname:d}),this.callbackId=1,this.callbacks={};var k=this;this.$worker.onerror=function(a){throw window.console&&console.log&&console.log(a),a},this.$worker.onmessage=function(a){var b=a.data;switch(b.type){case"log":window.console&&console.log&&console.log(b.data);break;case"event":k._emit(b.name,{data:b.data});break;case"call":var c=k.callbacks[b.id];c&&(c(b.data),delete k.callbacks[b.id])}}};(function(){d.implement(this,e),this.$normalizePath=function(a){return a=a.replace(/^[a-z]+:\/\/[^\/]+/,""),a=location.protocol+"//"+location.host+(a.charAt(0)=="/"?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+a.replace(/^[\/]+/,""),a},this.terminate=function(){this._emit("terminate",{}),this.$worker.terminate(),this.$worker=null,this.$doc.removeEventListener("change",this.changeListener),this.$doc=null},this.send=function(a,b){this.$worker.postMessage({command:a,args:b})},this.call=function(a,b,c){if(c){var d=this.callbackId++;this.callbacks[d]=c,b.push(d)}this.send(a,b)},this.emit=function(a,b){try{this.$worker.postMessage({event:a,data:{data:b.data}})}catch(c){}},this.attachToDocument=function(a){this.$doc&&this.terminate(),this.$doc=a,this.call("setValue",[a.getValue()]),a.on("change",this.changeListener)},this.changeListener=function(a){a.range={start:a.data.range.start,end:a.data.range.end},this.emit("change",a)}}).call(g.prototype),b.WorkerClient=g}),define("ace/theme/textmate",["require","exports","module","ace/requirejs/text!./textmate.css","../lib/dom"],function(a,b,c){b.isDark=!1,b.cssClass="ace-tm",b.cssText=a("ace/requirejs/text!./textmate.css");var d=a("../lib/dom");d.importCssString(b.cssText,b.cssClass)}),define("ace/ace",["require","exports","module","./lib/fixoldbrowsers","./lib/dom","./lib/event","./editor","./edit_session","./undomanager","./virtual_renderer","./multi_select","./worker/worker_client","./keyboard/hash_handler","./keyboard/state_handler","./placeholder","./config","./theme/textmate"],function(a,b,c){a("./lib/fixoldbrowsers");var d=a("./lib/dom"),e=a("./lib/event"),f=a("./editor").Editor,g=a("./edit_session").EditSession,h=a("./undomanager").UndoManager,i=a("./virtual_renderer").VirtualRenderer,j=a("./multi_select").MultiSelect;a("./worker/worker_client"),a("./keyboard/hash_handler"),a("./keyboard/state_handler"),a("./placeholder"),b.config=a("./config"),b.edit=function(b){typeof b=="string"&&(b=document.getElementById(b));if(b.env&&b.env.editor instanceof f)return b.env.editor;var c=new g(d.getInnerText(b));c.setUndoManager(new h),b.innerHTML="";var k=new f(new i(b,a("./theme/textmate")));new j(k),k.setSession(c);var l={};return l.document=c,l.editor=k,k.resize(),e.addListener(window,"resize",function(){k.resize()}),b.env=l,k.env=l,k}}),define("ace/mode/quirrel_highlight_rules",["require","exports","module","../lib/oop","../lib/lang","./text_highlight_rules"],function(a,b,c){var d=a("../lib/oop"),e=a("../lib/lang"),f=a("./text_highlight_rules").TextHighlightRules,g=function(){var a=e.arrayToMap("difference|else|solve|if|import|intersect|new|then|union|where|with".split("|")),b=e.arrayToMap("true|false|null".split("|")),c=e.arrayToMap("count|distinct|load|max|mean|geometricMean|sumSq|variance|median|min|mode|stdDev|sum".split("|")),d=[{token:"comment",regex:"--.*$"},{token:"comment",regex:"\\(-",merge:!0,next:"comment"},{token:"string",regex:'"(?:[^\n\r\\\\"]|\\\\.)*"'},{token:"constant.numeric",regex:"[0-9]+(?:\\\\.[0-9]+)?(?:[eE][0-9]+)?"},{token:"variable",regex:"'[a-zA-Z_0-9]['a-zA-Z_0-9]*\\b"},{token:"string",regex:"/(?:/[a-zA-Z_0-9-]+)+\\b"},{token:"keyword.operator",regex:"~|:=|\\+|\\/|\\-|\\*|&|\\||<|>|<=|=>|!=|<>|=|!|neg\\b"},{token:function(d){return a.hasOwnProperty(d)?"keyword":b.hasOwnProperty(d)?"constant.language":c.hasOwnProperty(d)?"support.function":"identifier"},regex:"([a-zA-Z]['a-zA-Z_0-9]*|_['a-zA-Z_0-9]+)\\b"},{token:"invalid",regex:"//"},{token:"identifier",regex:"\\{",next:"object-start"},{token:"identifier",regex:"`(?:[^`\\\\]|\\\\.)+`"}];this.$rules={start:d,comment:[{token:"comment",regex:".*?-\\)",next:"start"},{token:"comment",merge:!0,regex:".+"}],"object-start":[{token:"entity.name.function",regex:'(?:[a-zA-Z_][a-zA-Z_0-9]*|`(?:[^`\\\\]|\\\\.)+`|"(?:[^"\\\\]|\\\\.)+"):',next:"object-contents"},{token:"identifier",regex:"\\}",next:"start"}],"object-contents":d.concat([{token:"identifier",regex:",",next:"object-start"},{token:"identifier",regex:"\\}",next:"start"}])}};d.inherits(g,f),b.QuirrelHighlightRules=g}),define("ace/mode/quirrel",["require","exports","module","../lib/oop","./text","../tokenizer","./quirrel_highlight_rules","../range"],function(a,b,c){var d=a("../lib/oop"),e=a("./text").Mode,f=a("../tokenizer").Tokenizer,g=a("./quirrel_highlight_rules").QuirrelHighlightRules,h=a("../range").Range,i=function(){this.$tokenizer=new f((new g).getRules())};d.inherits(i,e),function(){this.toggleCommentLines=function(a,b,c,d){var e=!0,f=[],g=/^(\s*)--/;for(var i=c;i<=d;i++)if(!g.test(b.getLine(i))){e=!1;break}if(e){var j=new h(0,0,0,0);for(var i=c;i<=d;i++){var k=b.getLine(i),l=k.match(g);j.start.row=i,j.end.row=i,j.end.column=l[0].length,b.replace(j,l[1])}}else b.indentRows(c,d,"--")}}.call(i.prototype),b.Mode=i}),define("app/editor/editor.ace",["require","ace/ace","app/util/ui","ace/mode/quirrel"],function(a,b,c){return function(d,e){function i(){$(f).trigger("execute",f.get())}function j(){$(f).trigger("execute",h.session.getTextRange(h.getSelectionRange()))}function m(a){k.css({display:"block",position:"absolute",right:"25px",bottom:a?"10px":"25px",zIndex:100}),l.css({display:"block",position:"absolute",right:"100px",bottom:a?"10px":"25px",zIndex:100}),a?(k.find(".ui-icon-circle-triangle-e").removeClass("ui-icon-circle-triangle-e").addClass("ui-icon-circle-triangle-s"),l.find(".ui-icon-circle-triangle-e").removeClass("ui-icon-circle-triangle-e").addClass("ui-icon-circle-triangle-s")):(k.find(".ui-icon-circle-triangle-s").removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-e"),l.find(".ui-icon-circle-triangle-s").removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-e"))}var f,g,h=b.edit($(d).get(0));h.commands.addCommand({bindKey:{win:"Shift-Return",mac:"Shift-Return|Command-Return",sender:"editor|cli"},exec:i}),h.setShowPrintMargin(!1),g=h.getSession(),g.setUseWrapMode(!0),g.setMode(new(a("ace/mode/quirrel").Mode)),g.getSelection().on("changeCursor",function(){$(f).trigger("changeCursor",h.getCursorPosition())}),g.getSelection().on("changeSelection",function(a){$(f).trigger("changeSelection",h.getSelection()),h.getSelection().isEmpty()?l.hide():l.show()}),g.on("change",function(){function b(){$(f).trigger("change",f.get())}var a;return function(){clearInterval(a),a=setTimeout(b,250)}}());var k=c.button(d,{label:"run",text:!0,icons:{primary:"ui-icon-circle-triangle-s"},handler:i}),l=c.button(d,{label:"run selected",text:!0,icons:{primary:"ui-icon-circle-triangle-s"},handler:j});return m(e),l.hide(),f={get:function(){return g.getValue()},set:function(a){g.setValue(a)},setTabSize:function(a){if(a===g.getTabSize())return;g.setTabSize(a),$(f).trigger("tabSizeChanged",a)},setUseSoftTabs:function(a){if(a===g.getUseSoftTabs())return;g.setUseSoftTabs(a),$(f).trigger("useSoftTabsChanged",a)},getTabSize:function(){return g.getTabSize()},getUseSoftTabs:function(a){return g.getUseSoftTabs()},setTheme:function(b){var c="ace/theme/"+b;a([c],function(){h.setTheme(c)})},resize:function(){h.resize()},engine:function(){return"ace"},focus:function(){h.focus()},highlightSyntax:function(a,b,c,d){function e(){g.setAnnotations([]),g.removeListener("change",e)}g.setAnnotations([{row:a,column:b,text:c,type:d}]),g.on("change",e)},setCursorPosition:function(a,b){h.navigateTo(a,b),h.focus()},triggerExecute:i,orientButton:m},f}}),define("app/editorsync",[],function(){return function(a,b,c){function d(a,c){b.setCode(""+c)}function e(b,c){a.set(""+c)}$(b).on("deactivated",function(c,f){b.monitor.unbind(b.getKey(f)+".code",e),$(a).off("change",d),b.setCode(a.get(),f)}),$(b).on("activated",function(c,f){a.set(""+b.getCode(f)),$(a).on("change",d),a.focus(),b.monitor.bind(b.getKey(f)+".code",e)})}}),define("app/util/jsonmodel",[],function(){function a(b,c,d,e,f,g){if("undefined"==typeof d)return"[undefined]";if(d===null)return"[null]";if(d instanceof Array){var h=[];for(var i=0;i<d.length;i++)h.push(a(b,c,d[i],e,f,!0));return h.join("; ")}if("object"==typeof d){var h=[];for(var j in d)if(d.hasOwnProperty(j)){var k=j+": "+a(b,c,d[j],e,f,!0);h.push(k)}return h.join(", ")}return d===""?"[empty]":isNaN(d)?(d=d.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),'"'+d.replace(/"/g,'\\"')+'"'):d}function e(a){try{return ReportGrid.date.parse(a),!0}catch(b){return!1}}function f(a,b){var c=b-a;return c>=94608e6?"year":c>=80352e5?"month":c>=6048e5?"day":"minute"}var b=new Date,c=+(new Date(b.getFullYear()-10,b.getMonth(),b.getDay(),0,0,0)),d=+(new Date(b.getFullYear()+10,b.getMonth(),b.getDay(),0,0,0));return{create:function(b){var g=b[0],h=[];if("object"==typeof g)for(var i in g){var j=g[i];if(!g.hasOwnProperty(i)||i==="#id")continue;var k={id:i,name:i,field:i,sortable:!0,formatter:a,pgvalue:!1,type:typeof j,multivalue:j instanceof Array||"object"===this.type};if(!k.multivalue){k.field.match(/time|date|created/i)&&(k.type==="number"&&j>c&&j<d||k.type==="string"&&null!==e(j))&&(k.subtype="datetime");if(k.subtype==="datetime"&&b.length>1){b.sort(function(a,b){return ReportGrid.compare(a[i],b[i])});try{var l=k.type==="number"?b[0][i]:ReportGrid.date.parse(b[0][i]),m=k.type==="number"?b[b.length-1][i]:ReportGrid.date.parse(b[b.length-1][i]);k.periodicity=f(l,m)}catch(n){}}}h.push(k)}else h.push({id:"value",name:"Value",field:"value",pgvalue:!0,sortable:!0,multivalue:!1});return h},find:function(a,b){for(var c=0;c<a.length;c++)if(a[c].field===b)return a[c];return null},axis:function(a,b){var c=this.find(a,b);if(!c)return null;var d={type:b};return c.subtype==="datetime"&&c.periodicity&&(d.type="time:"+c.periodicity,d.transformer=function(a){if(c.type==="number")for(var b=0;b<a.length;b++)a[b][d.type]=a[b][c.field];else for(var b=0;b<a.length;b++)a[b][d.type]=ReportGrid.date.parse(a[b][c.field]);return a}),d}}}),function(a){a.fn.drag=function(b,c,d){var e=typeof b=="string"?b:"",g=a.isFunction(b)?b:a.isFunction(c)?c:null;return e.indexOf("drag")!==0&&(e="drag"+e),d=(b==g?c:d)||{},g?this.bind(e,d,g):this.trigger(e)};var b=a.event,c=b.special,d=c.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",livekey:"livedrag",add:function(c){var e=a.data(this,d.datakey),g=c.data||{};e.related+=1,!e.live&&c.selector&&(e.live=!0,b.add(this,"draginit."+d.livekey,d.delegate)),a.each(d.defaults,function(a){g[a]!==undefined&&(e[a]=g[a])})},remove:function(){a.data(this,d.datakey).related-=1},setup:function(){if(!a.data(this,d.datakey)){var c=a.extend({related:0},d.defaults);a.data(this,d.datakey,c),b.add(this,"mousedown",d.init,c),this.attachEvent&&this.attachEvent("ondragstart",d.dontstart)}},teardown:function(){a.data(this,d.datakey).related||(a.removeData(this,d.datakey),b.remove(this,"mousedown",d.init),b.remove(this,"draginit",d.delegate),d.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",d.dontstart))},init:function(e){var g=e.data,j;if(!(g.which>0&&e.which!=g.which)&&!a(e.target).is(g.not))if(!g.handle||!!a(e.target).closest(g.handle,e.currentTarget).length){g.propagates=1,g.interactions=[d.interaction(this,g)],g.target=e.target,g.pageX=e.pageX,g.pageY=e.pageY,g.dragging=null,j=d.hijack(e,"draginit",g);if(g.propagates)return(j=d.flatten(j))&&j.length&&(g.interactions=[],a.each(j,function(){g.interactions.push(d.interaction(this,g))})),g.propagates=g.interactions.length,g.drop!==!1&&c.drop&&c.drop.handler(e,g),d.textselect(!1),b.add(document,"mousemove mouseup",d.handler,g),!1}},interaction:function(b,c){return{drag:b,callback:new d.callback,droppable:[],offset:a(b)[c.relative?"position":"offset"]()||{top:0,left:0}}},handler:function(a){var e=a.data;switch(a.type){case!e.dragging&&"mousemove":if(Math.pow(a.pageX-e.pageX,2)+Math.pow(a.pageY-e.pageY,2)<Math.pow(e.distance,2))break;a.target=e.target,d.hijack(a,"dragstart",e),e.propagates&&(e.dragging=!0);case"mousemove":if(e.dragging){d.hijack(a,"drag",e);if(e.propagates){e.drop!==!1&&c.drop&&c.drop.handler(a,e);break}a.type="mouseup"};case"mouseup":b.remove(document,"mousemove mouseup",d.handler),e.dragging&&(e.drop!==!1&&c.drop&&c.drop.handler(a,e),d.hijack(a,"dragend",e)),d.textselect(!0),e.click===!1&&e.dragging&&(jQuery.event.triggered=!0,setTimeout(function(){jQuery.event.triggered=!1},20),e.dragging=!1)}},delegate:function(c){var e=[],g,h=a.data(this,"events")||{};return a.each(h.live||[],function(h,j){j.preType.indexOf("drag")===0&&(g=a(c.target).closest(j.selector,c.currentTarget)[0])&&(b.add(g,j.origType+"."+d.livekey,j.origHandler,j.data),a.inArray(g,e)<0&&e.push(g))}),e.length?a(e).bind("dragend."+d.livekey,function(){b.remove(this,"."+d.livekey)}):!1},hijack:function(c,e,g,h,j){if(g){var k={event:c.originalEvent,type:c.type},l=e.indexOf("drop")?"drag":"drop",m,n=h||0,o,p;h=isNaN(h)?g.interactions.length:h,c.type=e,c.originalEvent=null,g.results=[];do if(o=g.interactions[n])if(e==="dragend"||!o.cancelled)p=d.properties(c,g,o),o.results=[],a(j||o[l]||g.droppable).each(function(h,j){m=(p.target=j)?b.handle.call(j,c,p):null,m===!1?(l=="drag"&&(o.cancelled=!0,g.propagates-=1),e=="drop"&&(o[l][h]=null)):e=="dropinit"&&o.droppable.push(d.element(m)||j),e=="dragstart"&&(o.proxy=a(d.element(m)||o.drag)[0]),o.results.push(m),delete c.result;if(e!=="dropinit")return m}),g.results[n]=d.flatten(o.results),e=="dropinit"&&(o.droppable=d.flatten(o.droppable)),e=="dragstart"&&!o.cancelled&&p.update();while(++n<h);return c.type=k.type,c.originalEvent=k.event,d.flatten(g.results)}},properties:function(a,b,c){var e=c.callback;return e.drag=c.drag,e.proxy=c.proxy||c.drag,e.startX=b.pageX,e.startY=b.pageY,e.deltaX=a.pageX-b.pageX,e.deltaY=a.pageY-b.pageY,e.originalX=c.offset.left,e.originalY=c.offset.top,e.offsetX=a.pageX-(b.pageX-e.originalX),e.offsetY=a.pageY-(b.pageY-e.originalY),e.drop=d.flatten((c.drop||[]).slice()),e.available=d.flatten((c.droppable||[]).slice()),e},element:function(a){if(a&&(a.jquery||a.nodeType==1))return a},flatten:function(b){return a.map(b,function(b){return b&&b.jquery?a.makeArray(b):b&&b.length?d.flatten(b):b})},textselect:function(b){a(document)[b?"unbind":"bind"]("selectstart",d.dontstart).attr("unselectable",b?"off":"on").css("MozUserSelect",b?"":"none")},dontstart:function(){return!1},callback:function(){}};d.callback.prototype={update:function(){c.drop&&this.available.length&&a.each(this.available,function(a){c.drop.locate(this,a)})}},c.draginit=c.dragstart=c.dragend=d}(jQuery),define("libs/jquery/slickgrid/jquery.event.drag-2.0.min",function(){}),function(a){function b(){var a=!1,b=!1;this.stopPropagation=function(){a=!0},this.isPropagationStopped=function(){return a},this.stopImmediatePropagation=function(){b=!0},this.isImmediatePropagationStopped=function(){return b}}function c(){var a=[];this.subscribe=function(b){a.push(b)},this.unsubscribe=function(b){for(var c=a.length-1;c>=0;c--)a[c]===b&&a.splice(c,1)},this.notify=function(c,d,e){d=d||new b,e=e||this;var f;for(var g=0;g<a.length&&!d.isPropagationStopped()&&!d.isImmediatePropagationStopped();g++)f=a[g].call(e,d,c);return f}}function d(){var a=[];this.subscribe=function(b,c){return a.push({event:b,handler:c}),b.subscribe(c),this},this.unsubscribe=function(b,c){var d=a.length;while(d--)if(a[d].event===b&&a[d].handler===c){a.splice(d,1),b.unsubscribe(c);return}return this},this.unsubscribeAll=function(){var b=a.length;while(b--)a[b].event.unsubscribe(a[b].handler);return a=[],this}}function e(a,b,c,d){c===undefined&&d===undefined&&(c=a,d=b),this.fromRow=Math.min(a,c),this.fromCell=Math.min(b,d),this.toRow=Math.max(a,c),this.toCell=Math.max(b,d),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(a,b){return a>=this.fromRow&&a<=this.toRow&&b>=this.fromCell&&b<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}}function f(){this.__nonDataRow=!0}function g(){this.__group=!0,this.__updated=!1,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.totals=null}function h(){this.__groupTotals=!0,this.group=null}function i(){var a=null;this.isActive=function(b){return b?a===b:a!==null},this.activate=function(b){if(b===a)return;if(a!==null)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!b.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!b.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";a=b},this.deactivate=function(b){if(a!==b)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";a=null},this.commitCurrentEdit=function(){return a?a.commitCurrentEdit():!0},this.cancelCurrentEdit=function(){return a?a.cancelCurrentEdit():!0}}a.extend(!0,window,{Slick:{Event:c,EventData:b,EventHandler:d,Range:e,NonDataRow:f,Group:g,GroupTotals:h,EditorLock:i,GlobalEditorLock:new i}}),g.prototype=new f,g.prototype.equals=function(a){return this.value===a.value&&this.count===a.count&&this.collapsed===a.collapsed},h.prototype=new f}(jQuery),define("libs/jquery/slickgrid/slick.core",function(){});if(typeof jQuery=="undefined")throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if(typeof Slick=="undefined")throw"slick.core.js not loaded";(function($){function SlickGrid(container,data,columns,options){function init(){$container=$(container);if($container.length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),options=$.extend({},defaults,options),columnDefaults.width=options.defaultColumnWidth,columnsById={};for(var a=0;a<columns.length;a++){var b=columns[a]=$.extend({},columnDefaults,columns[a]);columnsById[b.id]=a}if(options.enableColumnReorder&&!$.fn.sortable)throw new Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$container.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($container.css("position"))||$container.css("position","relative"),$focusSink=$("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($container),$headerScroller=$("<div class='slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$headers=$("<div class='slick-header-columns' style='left:-1000px' />").appendTo($headerScroller),$headers.width(getHeadersWidth()),$headerRowScroller=$("<div class='slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$headerRow=$("<div class='slick-headerrow-columns' />").appendTo($headerRowScroller),$topPanelScroller=$("<div class='slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container),$topPanel=$("<div class='slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller),options.showTopPanel||$topPanelScroller.hide(),options.showHeaderRow||$headerRowScroller.hide(),$viewport=$("<div class='slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;;'>").appendTo($container),$viewport.css("overflow-y",options.autoHeight?"hidden":"auto"),$canvas=$("<div class='grid-canvas' />").appendTo($viewport),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,viewportW=parseFloat($.css($container[0],"width",!0)),measureCellPaddingAndBorder(),disableSelection($headers),options.enableTextSelectionOnCells||$viewport.bind("selectstart.ui",function(a){return $(a.target).is("input,textarea")}),updateColumnCaches(),createColumnHeaders(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$container.bind("resize.slickgrid",resizeCanvas),$viewport.bind("scroll.slickgrid",handleScroll),$headerScroller.bind("contextmenu.slickgrid",handleHeaderContextMenu).bind("click.slickgrid",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$focusSink.bind("keydown.slickgrid",handleKeyDown),$canvas.bind("keydown.slickgrid",handleKeyDown).bind("click.slickgrid",handleClick).bind("dblclick.slickgrid",handleDblClick).bind("contextmenu.slickgrid",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave))}function registerPlugin(a){plugins.unshift(a),a.init(self)}function unregisterPlugin(a){for(var b=plugins.length;b>=0;b--)if(plugins[b]===a){plugins[b].destroy&&plugins[b].destroy(),plugins.splice(b,1);break}}function setSelectionModel(a){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),selectionModel=a,selectionModel&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(){return $canvas[0]}function measureScrollbar(){var a=$("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),b={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight};return a.remove(),b}function getHeadersWidth(){var a=0;for(var b=0,c=columns.length;b<c;b++){var d=columns[b].width;a+=d}return a+=scrollbarDimensions.width,Math.max(a,viewportW)+1e3}function getCanvasWidth(){var a=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW,b=0,c=columns.length;while(c--)b+=columns[c].width;return options.fullWidthRows?Math.max(b,a):b}function updateCanvasWidth(a){var b=canvasWidth;canvasWidth=getCanvasWidth(),canvasWidth!=b&&($canvas.width(canvasWidth),$headerRow.width(canvasWidth),$headers.width(getHeadersWidth()),viewportHasHScroll=canvasWidth>viewportW-scrollbarDimensions.width),(canvasWidth!=b||a)&&applyColumnWidths()}function disableSelection(a){a&&a.jquery&&a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function getMaxSupportedCssHeight(){var a=1e6,b=$.browser.mozilla?6e6:1e9,c=$("<div style='display:none' />").appendTo(document.body);for(;;){var d=a*2;c.css("height",d);if(d>b||c.height()!==d)break;a=d}return c.remove(),a}function bindAncestorScrollEvents(){var a=$canvas[0];while((a=a.parentNode)!=document.body&&a!=null)(a==$viewport[0]||a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight)&&$(a).bind("scroll.slickgrid",handleActiveCellPositionChange)}function unbindAncestorScrollEvents(){$canvas.parents().unbind("scroll.slickgrid")}function updateColumnHeader(a,b,c){if(!initialized)return;var d=getColumnIndex(a),e=columns[d],f=$headers.children().eq(d);f&&(b!==undefined&&(columns[d].name=b),c!==undefined&&(columns[d].toolTip=c),trigger(self.onBeforeHeaderDestroy,{headerNode:f[0],column:e}),f.attr("title",c||"").children().eq(0).html(b),trigger(self.onHeaderRendered,{headerNode:f[0],column:e}))}function getHeaderRow(){return $headerRow[0]}function getHeaderRowColumn(a){var b=getColumnIndex(a),c=$headerRow.children().eq(b);return c&&c[0]}function createColumnHeaders(){function a(){$(this).addClass("ui-state-hover")}function b(){$(this).removeClass("ui-state-hover")}$headers.find(".slick-header-column").each(function(){var a=$(this).data("column");a&&trigger(self.onBeforeHeaderDestroy,{headerNode:this,column:a})}),$headers.empty(),$headers.width(getHeadersWidth()),$headerRow.empty();for(var c=0;c<columns.length;c++){var d=columns[c],e=$("<div class='ui-state-default slick-header-column' id='"+uid+d.id+"' />").html("<span class='slick-column-name'>"+d.name+"</span>").width(d.width-headerColumnWidthDiff).attr("title",d.toolTip||"").data("column",d).addClass(d.headerCssClass||"").appendTo($headers);(options.enableColumnReorder||d.sortable)&&e.hover(a,b),d.sortable&&e.append("<span class='slick-sort-indicator' />"),trigger(self.onHeaderRendered,{headerNode:e[0],column:d}),options.showHeaderRow&&$("<div class='ui-state-default slick-headerrow-column l"+c+" r"+c+"'></div>").appendTo($headerRow)}options.showHeaderRow&&$("<div style='display:block;height:1px;width:10000px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScroller),setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&setupColumnReorder()}function setupColumnSort(){$headers.click(function(a){a.metaKey=a.metaKey||a.ctrlKey;if($(a.target).hasClass("slick-resizable-handle"))return;var b=$(a.target).closest(".slick-header-column");if(!b.length)return;var c=b.data("column");if(c.sortable){if(!getEditorLock().commitCurrentEdit())return;var d=null,e=0;for(;e<sortColumns.length;e++)if(sortColumns[e].columnId==c.id){d=sortColumns[e],d.sortAsc=!d.sortAsc;break}if(a.metaKey&&options.multiColumnSort)d&&sortColumns.splice(e,1);else{if(!a.shiftKey&&!a.metaKey||!options.multiColumnSort)sortColumns=[];d?sortColumns.length==0&&sortColumns.push(d):(d={columnId:c.id,sortAsc:!0},sortColumns.push(d))}setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:$.map(sortColumns,function(a){return{sortCol:columns[getColumnIndex(a.columnId)],sortAsc:a.sortAsc}})},a):trigger(self.onSort,{multiColumnSort:!1,sortCol:c,sortAsc:d.sortAsc},a)}})}function setupColumnReorder(){$headers.sortable({containment:"parent",axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,start:function(a,b){$(b.helper).addClass("slick-header-column-active")},beforeStop:function(a,b){$(b.helper).removeClass("slick-header-column-active")},stop:function(a){if(!getEditorLock().commitCurrentEdit()){$(this).sortable("cancel");return}var b=$headers.sortable("toArray"),c=[];for(var d=0;d<b.length;d++)c.push(columns[getColumnIndex(b[d].replace(uid,""))]);setColumns(c),trigger(self.onColumnsReordered,{}),a.stopPropagation(),setupColumnResize()}})}function setupColumnResize(){var a,b,c,d,e,f,g,h,i;e=$headers.children(),e.find(".slick-resizable-handle").remove(),e.each(function(a,b){columns[a].resizable&&(h===undefined&&(h=a),i=a)});if(h===undefined)return;e.each(function(k,l){if(k<h||options.forceFitColumns&&k>=i)return;a=$(l),$("<div class='slick-resizable-handle' />").appendTo(l).bind("dragstart",function(a,h){if(!getEditorLock().commitCurrentEdit())return!1;d=a.pageX,$(this).parent().addClass("slick-header-column-active");var i=null,l=null;e.each(function(a,b){columns[a].previousWidth=$(b).outerWidth()});if(options.forceFitColumns){i=0,l=0;for(b=k+1;b<e.length;b++)c=columns[b],c.resizable&&(l!==null&&(c.maxWidth?l+=c.maxWidth-c.previousWidth:l=null),i+=c.previousWidth-Math.max(c.minWidth||0,absoluteColumnMinWidth))}var m=0,n=0;for(b=0;b<=k;b++)c=columns[b],c.resizable&&(n!==null&&(c.maxWidth?n+=c.maxWidth-c.previousWidth:n=null),m+=c.previousWidth-Math.max(c.minWidth||0,absoluteColumnMinWidth));i===null&&(i=1e5),m===null&&(m=1e5),l===null&&(l=1e5),n===null&&(n=1e5),g=d+Math.min(i,n),f=d-Math.min(m,l)}).bind("drag",function(a,h){var i,l=Math.min(g,Math.max(f,a.pageX))-d,m;if(l<0){m=l;for(b=k;b>=0;b--)c=columns[b],c.resizable&&(i=Math.max(c.minWidth||0,absoluteColumnMinWidth),m&&c.previousWidth+m<i?(m+=c.previousWidth-i,c.width=i):(c.width=c.previousWidth+m,m=0));if(options.forceFitColumns){m=-l;for(b=k+1;b<e.length;b++)c=columns[b],c.resizable&&(m&&c.maxWidth&&c.maxWidth-c.previousWidth<m?(m-=c.maxWidth-c.previousWidth,c.width=c.maxWidth):(c.width=c.previousWidth+m,m=0))}}else{m=l;for(b=k;b>=0;b--)c=columns[b],c.resizable&&(m&&c.maxWidth&&c.maxWidth-c.previousWidth<m?(m-=c.maxWidth-c.previousWidth,c.width=c.maxWidth):(c.width=c.previousWidth+m,m=0));if(options.forceFitColumns){m=-l;for(b=k+1;b<e.length;b++)c=columns[b],c.resizable&&(i=Math.max(c.minWidth||0,absoluteColumnMinWidth),m&&c.previousWidth+m<i?(m+=c.previousWidth-i,c.width=i):(c.width=c.previousWidth+m,m=0))}}applyColumnHeaderWidths(),options.syncColumnCellResize&&applyColumnWidths()}).bind("dragend",function(a,d){var f;$(this).parent().removeClass("slick-header-column-active");for(b=0;b<e.length;b++)c=columns[b],f=$(e[b]).outerWidth(),c.previousWidth!==f&&c.rerenderOnResize&&invalidateAllRows();updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{})})})}function getVBoxDelta(a){var b=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=0;return $.each(b,function(b,d){c+=parseFloat(a.css(d))||0}),c}function measureCellPaddingAndBorder(){var a,b=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];a=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers),headerColumnWidthDiff=headerColumnHeightDiff=0,$.each(b,function(b,c){headerColumnWidthDiff+=parseFloat(a.css(c))||0}),$.each(c,function(b,c){headerColumnHeightDiff+=parseFloat(a.css(c))||0}),a.remove();var d=$("<div class='slick-row' />").appendTo($canvas);a=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(d),cellWidthDiff=cellHeightDiff=0,$.each(b,function(b,c){cellWidthDiff+=parseFloat(a.css(c))||0}),$.each(c,function(b,c){cellHeightDiff+=parseFloat(a.css(c))||0}),d.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"));var a=options.rowHeight-cellHeightDiff,b=["."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-cell { height:"+a+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }"];for(var c=0;c<columns.length;c++)b.push("."+uid+" .l"+c+" { }"),b.push("."+uid+" .r"+c+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=b.join(" "):$style[0].appendChild(document.createTextNode(b.join(" ")))}function getColumnCssRules(a){if(!stylesheet){var b=document.styleSheets;for(var c=0;c<b.length;c++)if((b[c].ownerNode||b[c].owningElement)==$style[0]){stylesheet=b[c];break}if(!stylesheet)throw new Error("Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];var d=stylesheet.cssRules||stylesheet.rules,e,f;for(var c=0;c<d.length;c++){var g=d[c].selectorText;if(e=/\.l\d+/.exec(g))f=parseInt(e[0].substr(2,e[0].length-2),10),columnCssRulesL[f]=d[c];else if(e=/\.r\d+/.exec(g))f=parseInt(e[0].substr(2,e[0].length-2),10),columnCssRulesR[f]=d[c]}}return{left:columnCssRulesL[a],right:columnCssRulesR[a]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});var a=plugins.length;while(a--)unregisterPlugin(plugins[a]);options.enableColumnReorder&&$headers.sortable&&$headers.sortable("destroy"),unbindAncestorScrollEvents(),$container.unbind(".slickgrid"),removeCssRules(),$canvas.unbind("draginit dragstart dragend drag"),$container.empty().removeClass(uid)}function trigger(a,b,c){return c=c||new Slick.EventData,b=b||{},b.grid=self,a.notify(b,c,self)}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(a){return columnsById[a]}function autosizeColumns(){var a,b,c=[],d=0,e=0,f,g=viewportHasVScroll?viewportW-scrollbarDimensions.width:viewportW;for(a=0;a<columns.length;a++)b=columns[a],c.push(b.width),e+=b.width,b.resizable&&(d+=b.width-Math.max(b.minWidth,absoluteColumnMinWidth));f=e;while(e>g&&d){var h=(e-g)/d;for(a=0;a<columns.length&&e>g;a++){b=columns[a];var i=c[a];if(!b.resizable||i<=b.minWidth||i<=absoluteColumnMinWidth)continue;var j=Math.max(b.minWidth,absoluteColumnMinWidth),k=Math.floor(h*(i-j))||1;k=Math.min(k,i-j),e-=k,d-=k,c[a]-=k}if(f==e)break;f=e}f=e;while(e<g){var l=g/e;for(a=0;a<columns.length&&e<g;a++){b=columns[a];if(!b.resizable||b.maxWidth<=b.width)continue;var m=Math.min(Math.floor(l*b.width)-b.width,b.maxWidth-b.width||1e6)||1;e+=m,c[a]+=m}if(f==e)break;f=e}var n=!1;for(a=0;a<columns.length;a++)columns[a].rerenderOnResize&&columns[a].width!=c[a]&&(n=!0),columns[a].width=c[a];applyColumnHeaderWidths(),updateCanvasWidth(!0),n&&(invalidateAllRows(),render())}function applyColumnHeaderWidths(){if(!initialized)return;var a;for(var b=0,c=$headers.children(),d=c.length;b<d;b++)a=$(c[b]),a.width()!==columns[b].width-headerColumnWidthDiff&&a.width(columns[b].width-headerColumnWidthDiff);updateColumnCaches()}function applyColumnWidths(){var a=0,b,c;for(var d=0;d<columns.length;d++)b=columns[d].width,c=getColumnCssRules(d),c.left.style.left=a+"px",c.right.style.right=canvasWidth-a-b+"px",a+=columns[d].width}function setSortColumn(a,b){setSortColumns([{columnId:a,sortAsc:b}])}function setSortColumns(a){sortColumns=a;var b=$headers.children();b.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),$.each(sortColumns,function(a,c){c.sortAsc==null&&(c.sortAsc=!0);var d=getColumnIndex(c.columnId);d!=null&&b.eq(d).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(c.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(a,b){selectedRows=[];var c={};for(var d=0;d<b.length;d++)for(var e=b[d].fromRow;e<=b[d].toRow;e++){c[e]||selectedRows.push(e),c[e]={};for(var f=b[d].fromCell;f<=b[d].toCell;f++)canCellBeSelected(e,f)&&(c[e][columns[f].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,c),trigger(self.onSelectedRowsChanged,{rows:getSelectedRows()},a)}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];var a=0;for(var b=0,c=columns.length;b<c;b++)columnPosLeft[b]=a,columnPosRight[b]=a+columns[b].width,a+=columns[b].width}function setColumns(a){columns=a,columnsById={};for(var b=0;b<columns.length;b++){var c=columns[b]=$.extend({},columnDefaults,columns[b]);columnsById[c.id]=b}updateColumnCaches(),initialized&&(invalidateAllRows(),createColumnHeaders(),removeCssRules(),createCssRules(),resizeCanvas(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(a){if(!getEditorLock().commitCurrentEdit())return;makeActiveCellNormal(),options.enableAddRow!==a.enableAddRow&&invalidateRow(getDataLength()),options=$.extend(options,a),$viewport.css("overflow-y",options.autoHeight?"hidden":"auto"),render()}function setData(a,b){data=a,invalidateAllRows(),updateRowCount(),b&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data.length}function getDataItem(a){return data.getItem?data.getItem(a):data[a]}function getTopPanel(){return $topPanel[0]}function showTopPanel(){options.showTopPanel=!0,$topPanelScroller.slideDown("fast",resizeCanvas)}function hideTopPanel(){options.showTopPanel=!1,$topPanelScroller.slideUp("fast",resizeCanvas)}function showHeaderRowColumns(){options.showHeaderRow=!0,$headerRowScroller.slideDown("fast",resizeCanvas)}function hideHeaderRowColumns(){options.showHeaderRow=!1,$headerRowScroller.slideUp("fast",resizeCanvas)}function scrollTo(a){a=Math.max(a,0),a=Math.min(a,th-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0));var b=offset;page=Math.min(n-1,Math.floor(a/ph)),offset=Math.round(page*cj);var c=a-offset;if(offset!=b){var d=getVisibleRange(c);cleanupRows(d),updateRowPositions()}prevScrollTop!=c&&(vScrollDir=prevScrollTop+b<c+offset?1:-1,$viewport[0].scrollTop=lastRenderedScrollTop=scrollTop=prevScrollTop=c,trigger(self.onViewportChanged,{}))}function defaultFormatter(a,b,c,d,e){return c==null?"":c.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(a,b){var c=data.getItemMetadata&&data.getItemMetadata(a),d=c&&c.columns&&(c.columns[b.id]||c.columns[getColumnIndex(b.id)]);return d&&d.formatter||c&&c.formatter||b.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(b)||options.defaultFormatter}function getEditor(a,b){var c=columns[b],d=data.getItemMetadata&&data.getItemMetadata(a),e=d&&d.columns;return e&&e[c.id]&&e[c.id].editor!==undefined?e[c.id].editor:e&&e[b]&&e[b].editor!==undefined?e[b].editor:c.editor||options.editorFactory&&options.editorFactory.getEditor(c)}function getDataItemValueForColumn(a,b){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(a,b):a[b.field]}function appendRowHtml(a,b,c){var d=rowsCache[b],e=getDataItem(b),f=b<getDataLength()&&!e,g,h="slick-row"+(f?" loading":"")+(b%2==1?" odd":" even"),i=data.getItemMetadata&&data.getItemMetadata(b);i&&i.cssClasses&&(h+=" "+i.cssClasses),a.push("<div class='ui-widget-content "+h+"' style='top:"+(options.rowHeight*b-offset)+"px'>");var j,k;for(var l=0,m=columns.length;l<m;l++){k=columns[l],j=1;if(i&&i.columns){var n=i.columns[k.id]||i.columns[l];j=n&&n.colspan||1,j==="*"&&(j=m-l)}if(columnPosRight[Math.min(m-1,l+j-1)]>c.leftPx){if(columnPosLeft[l]>c.rightPx)break;appendCellHtml(a,b,l,j)}j>1&&(l+=j-1)}a.push("</div>")}function appendCellHtml(a,b,c,d){var e=columns[c],f=getDataItem(b),g="slick-cell l"+c+" r"+Math.min(columns.length-1,c+d-1)+(e.cssClass?" "+e.cssClass:"");b===activeRow&&c===activeCell&&(g+=" active");for(var h in cellCssClasses)cellCssClasses[h][b]&&cellCssClasses[h][b][e.id]&&(g+=" "+cellCssClasses[h][b][e.id]);a.push("<div class='"+g+"'>");if(f){var i=getDataItemValueForColumn(f,e);a.push(getFormatter(b,e)(b,c,i,e,f))}a.push("</div>"),rowsCache[b].cellRenderQueue.push(c),rowsCache[b].cellColSpans[c]=d}function cleanupRows(a){for(var b in rowsCache)(b=parseInt(b,10))!==activeRow&&(b<a.top||b>a.bottom)&&removeRowFromCache(b)}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){currentEditor&&makeActiveCellNormal();for(var a in rowsCache)removeRowFromCache(a)}function removeRowFromCache(a){var b=rowsCache[a];if(!b)return;$canvas[0].removeChild(b.rowNode),delete rowsCache[a],delete postProcessedRows[a],renderedRows--,counter_rows_removed++}function invalidateRows(a){var b,c;if(!a||!a.length)return;vScrollDir=0;for(b=0,c=a.length;b<c;b++)currentEditor&&activeRow===a[b]&&makeActiveCellNormal(),rowsCache[a[b]]&&removeRowFromCache(a[b])}function invalidateRow(a){invalidateRows([a])}function updateCell(a,b){var c=getCellNode(a,b);if(!c)return;var d=columns[b],e=getDataItem(a);currentEditor&&activeRow===a&&activeCell===b?currentEditor.loadValue(e):(c.innerHTML=e?getFormatter(a,d)(a,b,getDataItemValueForColumn(e,d),d,e):"",invalidatePostProcessingResults(a))}function updateRow(a){var b=rowsCache[a];if(!b)return;ensureCellNodesInRowsCache(a);for(var c in b.cellNodesByColumnIdx){c|=0;var d=columns[c],e=getDataItem(a),f=b.cellNodesByColumnIdx[c];a===activeRow&&c===activeCell&&currentEditor?currentEditor.loadValue(e):e?f.innerHTML=getFormatter(a,d)(a,c,getDataItemValueForColumn(e,d),d,e):f.innerHTML=""}invalidatePostProcessingResults(a)}function getViewportHeight(){return parseFloat($.css($container[0],"height",!0))-parseFloat($.css($headerScroller[0],"height"))-getVBoxDelta($headerScroller)-(options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller):0)-(options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller):0)}function resizeCanvas(){if(!initialized)return;options.autoHeight?viewportH=options.rowHeight*(getDataLength()+(options.enableAddRow?1:0)+(options.leaveSpaceForNewRows?numVisibleRows-1:0)):viewportH=getViewportHeight(),numVisibleRows=Math.ceil(viewportH/options.rowHeight),viewportW=parseFloat($.css($container[0],"width",!0)),$viewport.height(viewportH),options.forceFitColumns&&autosizeColumns(),updateRowCount(),handleScroll(),render()}function updateRowCount(){if(!initialized)return;numberOfRows=getDataLength()+(options.enableAddRow?1:0)+(options.leaveSpaceForNewRows?numVisibleRows-1:0);var a=viewportHasVScroll;viewportHasVScroll=!options.autoHeight&&numberOfRows*options.rowHeight>viewportH;var b=options.enableAddRow?getDataLength():getDataLength()-1;for(var c in rowsCache)c>=b&&removeRowFromCache(c);var d=h;th=Math.max(options.rowHeight*numberOfRows,viewportH-scrollbarDimensions.height),th<maxSupportedCssHeight?(h=ph=th,n=1,cj=0):(h=maxSupportedCssHeight,ph=h/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==d&&($canvas.css("height",h),scrollTop=$viewport[0].scrollTop);var e=scrollTop+offset<=th-viewportH;th==0||scrollTop==0?page=offset=0:e?scrollTo(scrollTop+offset):scrollTo(th-viewportH),h!=d&&options.autoHeight&&resizeCanvas(),options.forceFitColumns&&a!=viewportHasVScroll&&autosizeColumns(),updateCanvasWidth(!1)}function getVisibleRange(a,b){return a==null&&(a=scrollTop),b==null&&(b=scrollLeft),{top:Math.floor((a+offset)/options.rowHeight),bottom:Math.ceil((a+offset+viewportH)/options.rowHeight),leftPx:b,rightPx:b+viewportW}}function getRenderedRange(a,b){var c=getVisibleRange(a,b),d=Math.round(viewportH/options.rowHeight),e=3;return vScrollDir==-1?(c.top-=d,c.bottom+=e):vScrollDir==1?(c.top-=e,c.bottom+=d):(c.top-=e,c.bottom+=e),c.top=Math.max(0,c.top),c.bottom=Math.min(options.enableAddRow?getDataLength():getDataLength()-1,c.bottom),c.leftPx-=viewportW,c.rightPx+=viewportW,c.leftPx=Math.max(0,c.leftPx),c.rightPx=Math.min(canvasWidth,c.rightPx),c}function ensureCellNodesInRowsCache(a){var b=rowsCache[a];if(b&&b.cellRenderQueue.length){var c=b.rowNode.lastChild;while(b.cellRenderQueue.length){var d=b.cellRenderQueue.pop();b.cellNodesByColumnIdx[d]=c,c=c.previousSibling}}}function cleanUpCells(a,b){var c=0,d=rowsCache[b],e=[];for(var f in d.cellNodesByColumnIdx){if(!d.cellNodesByColumnIdx.hasOwnProperty(f))continue;f|=0;var g=d.cellColSpans[f];(columnPosLeft[f]>a.rightPx||columnPosRight[Math.min(columns.length-1,f+g-1)]<a.leftPx)&&(b!=activeRow||f!=activeCell)&&e.push(f)}var h;while((h=e.pop())!=null)d.rowNode.removeChild(d.cellNodesByColumnIdx[h]),delete d.cellColSpans[h],delete d.cellNodesByColumnIdx[h],postProcessedRows[b]&&delete postProcessedRows[b][h],c++}function cleanUpAndRenderCells(a){var b,c=[],d=[],e,f=0,g;for(var h=a.top;h<=a.bottom;h++){b=rowsCache[h];if(!b)continue;ensureCellNodesInRowsCache(h),cleanUpCells(a,h),e=0;var i=data.getItemMetadata&&data.getItemMetadata(h);i=i&&i.columns;for(var j=0,k=columns.length;j<k;j++){if(columnPosLeft[j]>a.rightPx)break;if((g=b.cellColSpans[j])!=null){j+=g>1?g-1:0;continue}g=1;if(i){var l=i[columns[j].id]||i[j];g=l&&l.colspan||1,g==="*"&&(g=k-j)}columnPosRight[Math.min(k-1,j+g-1)]>a.leftPx&&(appendCellHtml(c,h,j,g),e++),j+=g>1?g-1:0}e&&(f+=e,d.push(h))}if(!c.length)return;var m=document.createElement("div");m.innerHTML=c.join("");var n,o;while((n=d.pop())!=null){b=rowsCache[n];var p;while((p=b.cellRenderQueue.pop())!=null)o=m.lastChild,b.rowNode.appendChild(o),b.cellNodesByColumnIdx[p]=o}}function renderRows(a){var b=$canvas[0],c=[],d=[],e=!1;for(var f=a.top;f<=a.bottom;f++){if(rowsCache[f])continue;renderedRows++,d.push(f),rowsCache[f]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(c,f,a),activeCellNode&&activeRow===f&&(e=!0),counter_rows_rendered++}if(!d.length)return;var g=document.createElement("div");g.innerHTML=c.join("");for(var f=0,h=d.length;f<h;f++)rowsCache[d[f]].rowNode=b.appendChild(g.firstChild);e&&(activeCellNode=getCellNode(activeRow,activeCell))}function startPostProcessing(){if(!options.enableAsyncPostRender)return;clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay)}function invalidatePostProcessingResults(a){delete postProcessedRows[a],postProcessFromRow=Math.min(postProcessFromRow,a),postProcessToRow=Math.max(postProcessToRow,a),startPostProcessing()}function updateRowPositions(){for(var a in rowsCache)rowsCache[a].rowNode.style.top=a*options.rowHeight-offset+"px"}function render(){if(!initialized)return;var a=getVisibleRange(),b=getRenderedRange();cleanupRows(b),lastRenderedScrollLeft!=scrollLeft&&cleanUpAndRenderCells(b),renderRows(b),postProcessFromRow=a.top,postProcessToRow=Math.min(options.enableAddRow?getDataLength():getDataLength()-1,a.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null}function handleScroll(){scrollTop=$viewport[0].scrollTop,scrollLeft=$viewport[0].scrollLeft;var a=Math.abs(scrollTop-prevScrollTop),b=Math.abs(scrollLeft-prevScrollLeft);b&&(prevScrollLeft=scrollLeft,$headerScroller[0].scrollLeft=scrollLeft,$topPanelScroller[0].scrollLeft=scrollLeft,$headerRowScroller[0].scrollLeft=scrollLeft);if(a){vScrollDir=prevScrollTop<scrollTop?1:-1,prevScrollTop=scrollTop;if(a<viewportH)scrollTo(scrollTop+offset);else{var c=offset;page=Math.min(n-1,Math.floor(scrollTop*((th-viewportH)/(h-viewportH))*(1/ph))),offset=Math.round(page*cj),c!=offset&&invalidateAllRows()}}if(b||a){h_render&&clearTimeout(h_render);if(Math.abs(lastRenderedScrollTop-scrollTop)>20||Math.abs(lastRenderedScrollLeft-scrollLeft)>20)Math.abs(lastRenderedScrollTop-scrollTop)<viewportH&&Math.abs(lastRenderedScrollLeft-scrollLeft)<viewportW?render():h_render=setTimeout(render,50),trigger(self.onViewportChanged,{})}trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop})}function asyncPostProcessRows(){while(postProcessFromRow<=postProcessToRow){var a=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,b=rowsCache[a];if(!b||a>=getDataLength())continue;postProcessedRows[a]||(postProcessedRows[a]={}),ensureCellNodesInRowsCache(a);for(var c in b.cellNodesByColumnIdx){if(!b.cellNodesByColumnIdx.hasOwnProperty(c))continue;c|=0;var d=columns[c];if(d.asyncPostRender&&!postProcessedRows[a][c]){var e=b.cellNodesByColumnIdx[c];e&&d.asyncPostRender(e,postProcessFromRow,getDataItem(a),d),postProcessedRows[a][c]=!0}}h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay);return}}function updateCellCssStylesOnRenderedRows(a,b){var c,d,e,f;for(var g in rowsCache){f=b&&b[g],e=a&&a[g];if(f)for(d in f)if(!e||f[d]!=e[d])c=getCellNode(g,getColumnIndex(d)),c&&$(c).removeClass(f[d]);if(e)for(d in e)if(!f||f[d]!=e[d])c=getCellNode(g,getColumnIndex(d)),c&&$(c).addClass(e[d])}}function addCellCssStyles(a,b){if(cellCssClasses[a])throw"addCellCssStyles: cell CSS hash with key '"+a+"' already exists.";cellCssClasses[a]=b,updateCellCssStylesOnRenderedRows(b,null),trigger(self.onCellCssStylesChanged,{key:a,hash:b})}function removeCellCssStyles(a){if(!cellCssClasses[a])return;updateCellCssStylesOnRenderedRows(null,cellCssClasses[a]),delete cellCssClasses[a],trigger(self.onCellCssStylesChanged,{key:a,hash:null})}function setCellCssStyles(a,b){var c=cellCssClasses[a];cellCssClasses[a]=b,updateCellCssStylesOnRenderedRows(b,c),trigger(self.onCellCssStylesChanged,{key:a,hash:b})}function getCellCssStyles(a){return cellCssClasses[a]}function flashCell(a,b,c){c=c||100;if(rowsCache[a]){var d=$(getCellNode(a,b));function e(a){if(!a)return;setTimeout(function(){d.queue(function(){d.toggleClass(options.cellFlashingCssClass).dequeue(),e(a-1)})},c)}e(4)}}function handleDragInit(a,b){var c=getCellFromEvent(a);return!c||!cellExists(c.row,c.cell)?!1:(retval=trigger(self.onDragInit,b,a),a.isImmediatePropagationStopped()?retval:!1)}function handleDragStart(a,b){var c=getCellFromEvent(a);if(!c||!cellExists(c.row,c.cell))return!1;var d=trigger(self.onDragStart,b,a);return a.isImmediatePropagationStopped()?d:!1}function handleDrag(a,b){return trigger(self.onDrag,b,a)}function handleDragEnd(a,b){trigger(self.onDragEnd,b,a)}function handleKeyDown(a){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},a);var b=a.isImmediatePropagationStopped();if(!b)if(!a.shiftKey&&!a.altKey&&!a.ctrlKey)if(a.which==27){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else if(a.which==37)navigateLeft();else if(a.which==39)navigateRight();else if(a.which==38)navigateUp();else if(a.which==40)navigateDown();else if(a.which==9)navigateNext();else{if(a.which!=13)return;options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable())}else{if(!(a.which==9&&a.shiftKey&&!a.ctrlKey&&!a.altKey))return;navigatePrev()}a.stopPropagation(),a.preventDefault();try{a.originalEvent.keyCode=0}catch(c){}}function handleClick(a){currentEditor||a.target!=document.activeElement&&setFocus();var b=getCellFromEvent(a);if(!b||currentEditor!==null&&activeRow==b.row&&activeCell==b.cell)return;trigger(self.onClick,{row:b.row,cell:b.cell},a);if(a.isImmediatePropagationStopped())return;(activeCell!=b.cell||activeRow!=b.row)&&canCellBeActive(b.row,b.cell)&&(!getEditorLock().isActive()||getEditorLock().commitCurrentEdit())&&(scrollRowIntoView(b.row,!1),setActiveCellInternal(getCellNode(b.row,b.cell),b.row===getDataLength()||options.autoEdit))}function handleContextMenu(a){var b=$(a.target).closest(".slick-cell",$canvas);if(b.length===0)return;if(activeCellNode===b[0]&&currentEditor!==null)return;trigger(self.onContextMenu,{},a)}function handleDblClick(a){var b=getCellFromEvent(a);if(!b||currentEditor!==null&&activeRow==b.row&&activeCell==b.cell)return;trigger(self.onDblClick,{row:b.row,cell:b.cell},a);if(a.isImmediatePropagationStopped())return;options.editable&&gotoCell(b.row,b.cell,!0)}function handleHeaderMouseEnter(a){trigger(self.onHeaderMouseEnter,{column:$(this).data("column")},a)}function handleHeaderMouseLeave(a){trigger(self.onHeaderMouseLeave,{column:$(this).data("column")},a)}function handleHeaderContextMenu(a){var b=$(a.target).closest(".slick-header-column",".slick-header-columns"),c=b&&b.data("column");trigger(self.onHeaderContextMenu,{column:c},a)}function handleHeaderClick(a){var b=$(a.target).closest(".slick-header-column",".slick-header-columns"),c=b&&b.data("column");c&&trigger(self.onHeaderClick,{column:c},a)}function handleMouseEnter(a){trigger(self.onMouseEnter,{},a)}function handleMouseLeave(a){trigger(self.onMouseLeave,{},a)}function cellExists(a,b){return!(a<0||a>=getDataLength()||b<0||b>=columns.length)}function getCellFromPoint(a,b){var c=Math.floor((b+offset)/options.rowHeight),d=0,e=0;for(var f=0;f<columns.length&&e<a;f++)e+=columns[f].width,d++;return d<0&&(d=0),{row:c,cell:d-1}}function getCellFromNode(a){var b=/l\d+/.exec(a.className);if(!b)throw"getCellFromNode: cannot get cell - "+a.className;return parseInt(b[0].substr(1,b[0].length-1),10)}function getRowFromNode(a){for(var b in rowsCache)if(rowsCache[b].rowNode===a)return b|0;return null}function getCellFromEvent(a){var b=$(a.target).closest(".slick-cell",$canvas);if(!b.length)return null;var c=getRowFromNode(b[0].parentNode),d=getCellFromNode(b[0]);return c==null||d==null?null:{row:c,cell:d}}function getCellNodeBox(a,b){if(!cellExists(a,b))return null;var c=a*options.rowHeight-offset,d=c+options.rowHeight-1,e=0;for(var f=0;f<b;f++)e+=columns[f].width;var g=e+columns[b].width;return{top:c,left:e,bottom:d,right:g}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){$focusSink[0].focus()}function scrollCellIntoView(a,b){var c=getColspan(a,b),d=columnPosLeft[b],e=columnPosRight[b+(c>1?c-1:0)],f=scrollLeft+viewportW;d<scrollLeft?($viewport.scrollLeft(d),handleScroll(),render()):e>f&&($viewport.scrollLeft(Math.min(d,e-$viewport[0].clientWidth)),handleScroll(),render())}function scrollActiveCellIntoView(){activeRow!=null&&activeCell!=null&&scrollCellIntoView(activeRow,activeCell)}function setActiveCellInternal(a,b){activeCellNode!==null&&(makeActiveCellNormal(),$(activeCellNode).removeClass("active"));var c=activeCellNode!==a;activeCellNode=a,activeCellNode!=null?(activeRow=getRowFromNode(activeCellNode.parentNode),activeCell=activePosX=getCellFromNode(activeCellNode),$(activeCellNode).addClass("active"),options.editable&&b&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout(function(){makeActiveCellEditable()},options.asyncEditorLoadDelay):makeActiveCellEditable())):activeRow=activeCell=null,c&&trigger(self.onActiveCellChanged,getActiveCell())}function clearTextSelection(){if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var a=window.getSelection();a&&a.removeAllRanges&&a.removeAllRanges()}}function isCellPotentiallyEditable(a,b){return a<getDataLength()&&!getDataItem(a)?!1:columns[b].cannotTriggerInsert&&a>=getDataLength()?!1:getEditor(a,b)?!0:!1}function makeActiveCellNormal(){if(!currentEditor)return;trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null;if(activeCellNode){var a=getDataItem(activeRow);$(activeCellNode).removeClass("editable invalid");if(a){var b=columns[activeCell],c=getFormatter(activeRow,b);activeCellNode.innerHTML=c(activeRow,activeCell,getDataItemValueForColumn(a,b),b,getDataItem(activeRow)),invalidatePostProcessingResults(activeRow)}}$.browser.msie&&clearTextSelection(),getEditorLock().deactivate(editController)}function makeActiveCellEditable(a){if(!activeCellNode)return;if(!options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";clearTimeout(h_editorLoader);if(!isCellPotentiallyEditable(activeRow,activeCell))return;var b=columns[activeCell],c=getDataItem(activeRow);if(trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:c,column:b})===!1){setFocus();return}getEditorLock().activate(editController),$(activeCellNode).addClass("editable"),a||(activeCellNode.innerHTML=""),currentEditor=new(a||getEditor(activeRow,activeCell))({grid:self,gridPosition:absBox($container[0]),position:absBox(activeCellNode),container:activeCellNode,column:b,item:c||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus}),c&&currentEditor.loadValue(c),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(a){var b={top:a.offsetTop,left:a.offsetLeft,bottom:0,right:0,width:$(a).outerWidth(),height:$(a).outerHeight(),visible:!0};b.bottom=b.top+b.height,b.right=b.left+b.width;var c=a.offsetParent;while((a=a.parentNode)!=document.body)b.visible&&a.scrollHeight!=a.offsetHeight&&$(a).css("overflowY")!="visible"&&(b.visible=b.bottom>a.scrollTop&&b.top<a.scrollTop+a.clientHeight),b.visible&&a.scrollWidth!=a.offsetWidth&&$(a).css("overflowX")!="visible"&&(b.visible=b.right>a.scrollLeft&&b.left<a.scrollLeft+a.clientWidth),b.left-=a.scrollLeft,b.top-=a.scrollTop,a===c&&(b.left+=a.offsetLeft,b.top+=a.offsetTop,c=a.offsetParent),b.bottom=b.top+b.height,b.right=b.left+b.width;return b}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($container[0])}function handleActiveCellPositionChange(){if(!activeCellNode)return;trigger(self.onActiveCellPositionChanged,{});if(currentEditor){var a=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(a.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(a)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function scrollRowIntoView(a,b){var c=a*options.rowHeight,d=(a+1)*options.rowHeight-viewportH+(viewportHasHScroll?scrollbarDimensions.height:0);(a+1)*options.rowHeight>scrollTop+viewportH+offset?(scrollTo(b?c:d),render()):a*options.rowHeight<scrollTop+offset&&(scrollTo(b?d:c),render())}function scrollRowToTop(a){scrollTo(a*options.rowHeight),render()}function getColspan(a,b){var c=data.getItemMetadata&&data.getItemMetadata(a);if(!c||!c.columns)return 1;var d=c.columns[columns[b].id]||c.columns[b],e=d&&d.colspan;return e==="*"?e=columns.length-b:e=e||1,e}function findFirstFocusableCell(a){var b=0;while(b<columns.length){if(canCellBeActive(a,b))return b;b+=getColspan(a,b)}return null}function findLastFocusableCell(a){var b=0,c=null;while(b<columns.length)canCellBeActive(a,b)&&(c=b),b+=getColspan(a,b);return c}function gotoRight(a,b,c){if(b>=columns.length)return null;do b+=getColspan(a,b);while(b<columns.length&&!canCellBeActive(a,b));return b<columns.length?{row:a,cell:b,posX:b}:null}function gotoLeft(a,b,c){if(b<=0)return null;var d=findFirstFocusableCell(a);if(d===null||d>=b)return null;var e={row:a,cell:d,posX:d},f;for(;;){f=gotoRight(e.row,e.cell,e.posX);if(!f)return null;if(f.cell>=b)return e;e=f}}function gotoDown(a,b,c){var d;for(;;){if(++a>=getDataLength()+(options.enableAddRow?1:0))return null;d=b=0;while(b<=c)d=b,b+=getColspan(a,b);if(canCellBeActive(a,d))return{row:a,cell:d,posX:c}}}function gotoUp(a,b,c){var d;for(;;){if(--a<0)return null;d=b=0;while(b<=c)d=b,b+=getColspan(a,b);if(canCellBeActive(a,d))return{row:a,cell:d,posX:c}}}function gotoNext(a,b,c){var d=gotoRight(a,b,c);if(d)return d;var e=null;while(++a<getDataLength()+(options.enableAddRow?1:0)){e=findFirstFocusableCell(a);if(e!==null)return{row:a,cell:e,posX:e}}return null}function gotoPrev(a,b,c){var d,e;while(!d){d=gotoLeft(a,b,c);if(d)break;if(--a<0)return null;b=0,e=findLastFocusableCell(a),e!==null&&(d={row:a,cell:e,posX:e})}return d}function navigateRight(){navigate("right")}function navigateLeft(){navigate("left")}function navigateDown(){navigate("down")}function navigateUp(){navigate("up")}function navigateNext(){navigate("next")}function navigatePrev(){navigate("prev")}function navigate(a){if(!activeCellNode||!options.enableCellNavigation)return;if(!getEditorLock().commitCurrentEdit())return;setFocus();var b={up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext},c=b[a],d=c(activeRow,activeCell,activePosX);if(d){var e=d.row==getDataLength();scrollRowIntoView(d.row,!e),scrollCellIntoView(d.row,d.cell),setActiveCellInternal(getCellNode(d.row,d.cell),e||options.autoEdit),activePosX=d.posX}else setActiveCellInternal(getCellNode(activeRow,activeCell),activeRow==getDataLength()||options.autoEdit)}function getCellNode(a,b){return rowsCache[a]?(ensureCellNodesInRowsCache(a),rowsCache[a].cellNodesByColumnIdx[b]):null}function setActiveCell(a,b){if(!initialized)return;if(a>getDataLength()||a<0||b>=columns.length||b<0)return;if(!options.enableCellNavigation)return;scrollRowIntoView(a,!1),scrollCellIntoView(a,b),setActiveCellInternal(getCellNode(a,b),!1)}function canCellBeActive(a,b){if(!options.enableCellNavigation||a>=getDataLength()+(options.enableAddRow?1:0)||a<0||b>=columns.length||b<0)return!1;var c=data.getItemMetadata&&data.getItemMetadata(a);if(c&&typeof c.focusable=="boolean")return c.focusable;var d=c&&c.columns;return d&&d[columns[b].id]&&typeof d[columns[b].id].focusable=="boolean"?d[columns[b].id].focusable:d&&d[b]&&typeof d[b].focusable=="boolean"?d[b].focusable:typeof columns[b].focusable=="boolean"?columns[b].focusable:!0}function canCellBeSelected(a,b){if(a>=getDataLength()||a<0||b>=columns.length||b<0)return!1;var c=data.getItemMetadata&&data.getItemMetadata(a);if(c&&typeof c.selectable=="boolean")return c.selectable;var d=c&&c.columns&&(c.columns[columns[b].id]||c.columns[b]);return d&&typeof d.selectable=="boolean"?d.selectable:typeof columns[b].selectable=="boolean"?columns[b].selectable:!0}function gotoCell(a,b,c){if(!initialized)return;if(!canCellBeActive(a,b))return;if(!getEditorLock().commitCurrentEdit())return;scrollRowIntoView(a,!1),scrollCellIntoView(a,b);var d=getCellNode(a,b);setActiveCellInternal(d,c||a===getDataLength()||options.autoEdit),currentEditor||setFocus()}function commitCurrentEdit(){var a=getDataItem(activeRow),b=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var c=currentEditor.validate();if(c.valid){if(activeRow<getDataLength()){var d={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(a,this.serializedValue),updateRow(this.row)},undo:function(){this.editor.applyValue(a,this.prevSerializedValue),updateRow(this.row)}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(a,b,d)):(d.execute(),makeActiveCellNormal()),trigger(self.onCellChange,{row:activeRow,cell:activeCell,item:a})}else{var e={};currentEditor.applyValue(e,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:e,column:b})}return!getEditorLock().isActive()}return $(activeCellNode).addClass("invalid"),$(activeCellNode).stop(!0,!0).effect("highlight",{color:"red"},300),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:c,row:activeRow,cell:activeCell,column:b}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(a){var b=[],c=columns.length-1;for(var d=0;d<a.length;d++)b.push(new Slick.Range(a[d],0,a[d],c));return b}function getSelectedRows(){if(!selectionModel)throw"Selection model is not set";return selectedRows}function setSelectedRows(a){if(!selectionModel)throw"Selection model is not set";selectionModel.setSelectedRanges(rowsToRanges(a))}var defaults={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:defaultFormatter},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,$container,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$headerScroller,$headers,$headerRow,$headerRowScroller,$topPanelScroller,$topPanel,$viewport,$canvas,$style,stylesheet,columnCssRulesL,columnCssRulesR,viewportH,viewportW,canvasWidth,viewportHasHScroll,viewportHasVScroll,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,absoluteColumnMinWidth,numberOfRows=0,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],h_editorLoader=null,h_render=null,h_postrender=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,counter_rows_rendered=0,counter_rows_removed=0;this.debug=function(){var a="";a+="\ncounter_rows_rendered:  "+counter_rows_rendered,a+="\ncounter_rows_removed:  "+counter_rows_removed,a+="\nrenderedRows:  "+renderedRows,a+="\nnumVisibleRows:  "+numVisibleRows,a+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,a+="\nn(umber of pages):  "+n,a+="\n(current) page:  "+page,a+="\npage height (ph):  "+ph,a+="\nvScrollDir:  "+vScrollDir,alert(a)},this.eval=function(expr){return eval(expr)},$.extend(this,{slickGridVersion:"2.0",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderRendered:new Slick.Event,onBeforeHeaderDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,getCanvasNode:getCanvasNode,focus:setFocus,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,gotoCell:gotoCell,getTopPanel:getTopPanel,showTopPanel:showTopPanel,hideTopPanel:hideTopPanel,showHeaderRowColumns:showHeaderRowColumns,hideHeaderRowColumns:hideHeaderRowColumns,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}$.extend(!0,window,{Slick:{Grid:SlickGrid}});var scrollbarDimensions,maxSupportedCssHeight})(jQuery),define("libs/jquery/slickgrid/slick.grid",function(){}),function(a){function b(b){function L(){l=!0}function M(){l=!1,Fb()}function N(a){p=a}function O(a){r=a}function P(a){a=a||0;var b;for(var c=a,d=f.length;c<d;c++){b=f[c][e];if(b===undefined)throw"Each data element must implement a unique 'id' property";h[b]=c}}function Q(){var a;for(var b=0,c=f.length;b<c;b++){a=f[b][e];if(a===undefined||h[a]!==b)throw"Each data element must implement a unique 'id' property"}}function R(){return f}function S(a,b){b!==undefined&&(e=b),f=s=a,h={},P(),Q(),Fb()}function T(a){a.pageSize!=undefined&&(F=a.pageSize,G=F?Math.min(G,Math.max(0,Math.ceil(H/F)-1)):0),a.pageNum!=undefined&&(G=Math.min(a.pageNum,Math.max(0,Math.ceil(H/F)-1))),K.notify(U(),null,c),Fb()}function U(){var a=F?Math.max(1,Math.ceil(H/F)):1;return{pageSize:F,pageNum:G,totalRows:H,totalPages:a}}function V(a,b){m=b,o=a,n=null,b===!1&&f.reverse(),f.sort(a),b===!1&&f.reverse(),h={},P(),Fb()}function W(a,b){m=b,n=a,o=null;var c=Object.prototype.toString;Object.prototype.toString=typeof a=="function"?a:function(){return this[a]},b===!1&&f.reverse(),f.sort(),Object.prototype.toString=c,b===!1&&f.reverse(),h={},P(),Fb()}function X(){o?V(o,m):n&&W(n,m)}function Y(a){j=a,b.inlineFilters&&(t=yb(),u=zb()),Fb()}function Z(a,c,d){b.groupItemMetadataProvider||(b.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),w=a,x=typeof w=="function",y=c,z=d,B={},A=[],Fb()}function _(a,b){C=a,D=b!==undefined?b:D,E=[];var c=C.length;while(c--)E[c]=xb(C[c]);Fb()}function ab(a){return f[a]}function bb(a){return h[a]}function cb(){if(!i){i={};for(var a=0,b=g.length;a<b;a++)i[g[a][e]]=a}}function db(a){return cb(),i[a]}function eb(a){return f[h[a]]}function fb(a){var b=[];cb();for(var c=0;c<a.length;c++){var d=i[a[c]];d!=null&&(b[b.length]=d)}return b}function gb(a){var b=[];for(var c=0;c<a.length;c++)a[c]<g.length&&(b[b.length]=g[a[c]][e]);return b}function hb(a,b){if(h[a]===undefined||a!==b[e])throw"Invalid or non-matching id";f[h[a]]=b,k||(k={}),k[a]=!0,Fb()}function ib(a,b){f.splice(a,0,b),P(a),Fb()}function jb(a){f.push(a),P(f.length-1),Fb()}function kb(a){var b=h[a];if(b===undefined)throw"Invalid id";delete h[a],f.splice(b,1),P(b),Fb()}function lb(){return g.length}function mb(a){return g[a]}function nb(a){var c=g[a];return c===undefined?null:c.__group?b.groupItemMetadataProvider.getGroupRowMetadata(c):c.__groupTotals?b.groupItemMetadataProvider.getTotalsRowMetadata(c):null}function ob(a){B[a]=!0,Fb()}function pb(a){delete B[a],Fb()}function qb(){return A}function rb(a){var b,c,d=[],e=[],f;for(var g=0,h=a.length;g<h;g++)f=a[g],c=x?w(f):f[w],c=c||0,b=e[c],b||(b=new Slick.Group,b.count=0,b.value=c,b.rows=[],d[d.length]=b,e[c]=b),b.rows[b.count++]=f;return d}function sb(a){if(a.collapsed&&!D)return;var b=new Slick.GroupTotals,c,d=C.length;while(d--)c=C[d],c.init(),E[d].call(c,a.rows),c.storeResult(b);b.group=a,a.totals=b}function tb(a){var b=a.length;while(b--)sb(a[b])}function ub(a){var b=a.length,c;while(b--)c=a[b],c.collapsed=c.value in B,c.title=y?y(c):c.value}function vb(a){var b=[],c=0,d;for(var e=0,f=a.length;e<f;e++){d=a[e],b[c++]=d;if(!d.collapsed)for(var g=0,h=d.rows.length;g<h;g++)b[c++]=d.rows[g];d.totals&&(!d.collapsed||D)&&(b[c++]=d.totals)}return b}function wb(a){var b=/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/,c=a.toString().match(b);return{params:c[1].split(","),body:c[2]}}function xb(a){var b=wb(a.accumulate),c=new Function("_items","for (var "+b.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+b.params[0]+" = _items[_i]; "+b.body+"}");return c.displayName=c.name="compiledAccumulatorLoop",c}function yb(){var a=wb(j),b=a.body.replace(/return false[;}]/gi,"{ continue _coreloop; }").replace(/return true[;}]/gi,"{ _retval[_idx++] = $item$; continue _coreloop; }").replace(/return ([^;}]+?);/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }"),c=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");c=c.replace(/\$filter\$/gi,b),c=c.replace(/\$item\$/gi,a.params[0]),c=c.replace(/\$args\$/gi,a.params[1]);var d=new Function("_items,_args",c);return d.displayName=d.name="compiledFilter",d}function zb(){var a=wb(j),b=a.body.replace(/return false[;}]/gi,"{ continue _coreloop; }").replace(/return true[;}]/gi,"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }").replace(/return ([^;}]+?);/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }"),c=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");c=c.replace(/\$filter\$/gi,b),c=c.replace(/\$item\$/gi,a.params[0]),c=c.replace(/\$args\$/gi,a.params[1]);var d=new Function("_items,_args,_cache",c);return d.displayName=d.name="compiledFilterWithCaching",d}function Ab(a,b){var c=[],d=0;for(var e=0,f=a.length;e<f;e++)j(a[e],b)&&(c[d++]=a[e]);return c}function Bb(a,b,c){var d=[],e=0,f;for(var g=0,h=a.length;g<h;g++)f=a[g],c[g]?d[e++]=f:j(f,b)&&(d[e++]=f,c[g]=!0);return d}function Cb(a){if(j){var c=b.inlineFilters?t:Ab,d=b.inlineFilters?u:Bb;p.isFilterNarrowing?s=c(s,r):p.isFilterExpanding?s=d(a,r,v):p.isFilterUnchanged||(s=c(a,r))}else s=F?a:a.concat();var e;return F?(s.length<G*F&&(G=Math.floor(s.length/F)),e=s.slice(F*G,F*G+F)):e=s,{totalRows:s.length,rows:e}}function Db(a,b){var c,d,f,g=[],h=0,i=b.length;p&&p.ignoreDiffsBefore&&(h=Math.max(0,Math.min(b.length,p.ignoreDiffsBefore))),p&&p.ignoreDiffsAfter&&(i=Math.min(b.length,Math.max(0,p.ignoreDiffsAfter)));for(var j=h,l=a.length;j<i;j++)if(j>=l)g[g.length]=j;else{c=b[j],d=a[j];if(w&&(f=c.__nonDataRow||d.__nonDataRow)&&c.__group!==d.__group||c.__updated||c.__group&&!c.equals(d)||C&&f&&(c.__groupTotals||d.__groupTotals)||c[e]!=d[e]||k&&k[c[e]])g[g.length]=j}return g}function Eb(a){i=null;if(p.isFilterNarrowing!=q.isFilterNarrowing||p.isFilterExpanding!=q.isFilterExpanding)v=[];var b=Cb(a);H=b.totalRows;var c=b.rows;A=[],w!=null&&(A=rb(c),A.length&&(ub(A),C&&tb(A),A.sort(z),c=vb(A)));var d=Db(g,c);return g=c,d}function Fb(){if(l)return;var a=g.length,b=H,d=Eb(f,j);F&&H<G*F&&(G=Math.max(0,Math.ceil(H/F)-1),d=Eb(f,j)),k=null,q=p,p={},b!=H&&K.notify(U(),null,c),a!=g.length&&I.notify({previous:a,current:g.length},null,c),d.length>0&&J.notify({rows:d},null,c)}function Gb(a,b){var c=this,d=c.mapRowsToIds(a.getSelectedRows()),e;a.onSelectedRowsChanged.subscribe(function(b,f){if(e)return;d=c.mapRowsToIds(a.getSelectedRows())}),this.onRowsChanged.subscribe(function(f,g){if(d.length>0){e=!0;var h=c.mapIdsToRows(d);b||(d=c.mapRowsToIds(h)),a.setSelectedRows(h),e=!1}})}function Hb(a,b){function f(a){c={};for(var b in a){var d=g[b][e];c[d]=a[b]}}var c,d;f(a.getCellCssStyles(b)),a.onCellCssStylesChanged.subscribe(function(a,c){if(d)return;if(b!=c.key)return;c.hash&&f(c.hash)}),this.onRowsChanged.subscribe(function(e,f){if(c){d=!0,cb();var g={};for(var h in c){var j=i[h];j!=undefined&&(g[j]=c[h])}a.setCellCssStyles(b,g),d=!1}})}var c=this,d={groupItemMetadataProvider:null,inlineFilters:!1},e="id",f=[],g=[],h={},i=null,j=null,k=null,l=!1,m=!0,n,o,p={},q={},r,s=[],t,u,v=[],w,x,y,z,A=[],B={},C,D=!1,E,F=0,G=0,H=0,I=new Slick.Event,J=new Slick.Event,K=new Slick.Event;return b=a.extend(!0,{},d,b),{beginUpdate:L,endUpdate:M,setPagingOptions:T,getPagingInfo:U,getItems:R,setItems:S,setFilter:Y,sort:V,fastSort:W,reSort:X,groupBy:Z,setAggregators:_,collapseGroup:ob,expandGroup:pb,getGroups:qb,getIdxById:bb,getRowById:db,getItemById:eb,getItemByIdx:ab,mapRowsToIds:gb,mapIdsToRows:fb,setRefreshHints:N,setFilterArgs:O,refresh:Fb,updateItem:hb,insertItem:ib,addItem:jb,deleteItem:kb,syncGridSelection:Gb,syncGridCellCssStyles:Hb,getLength:lb,getItem:mb,getItemMetadata:nb,onRowCountChanged:I,onRowsChanged:J,onPagingInfoChanged:K}}function c(a){this.field_=a,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(a){var b=a[this.field_];this.count_++,b!=null&&b!=""&&b!=NaN&&(this.nonNullCount_++,this.sum_+=parseFloat(b))},this.storeResult=function(a){a.avg||(a.avg={}),this.nonNullCount_!=0&&(a.avg[this.field_]=this.sum_/this.nonNullCount_)}}function d(a){this.field_=a,this.init=function(){this.min_=null},this.accumulate=function(a){var b=a[this.field_];b!=null&&b!=""&&b!=NaN&&(this.min_==null||b<this.min_)&&(this.min_=b)},this.storeResult=function(a){a.min||(a.min={}),a.min[this.field_]=this.min_}}function e(a){this.field_=a,this.init=function(){this.max_=null},this.accumulate=function(a){var b=a[this.field_];b!=null&&b!=""&&b!=NaN&&(this.max_==null||b>this.max_)&&(this.max_=b)},this.storeResult=function(a){a.max||(a.max={}),a.max[this.field_]=this.max_}}function f(a){this.field_=a,this.init=function(){this.sum_=null},this.accumulate=function(a){var b=a[this.field_];b!=null&&b!=""&&b!=NaN&&(this.sum_+=parseFloat(b))},this.storeResult=function(a){a.sum||(a.sum={}),a.sum[this.field_]=this.sum_}}a.extend(!0,window,{Slick:{Data:{DataView:b,Aggregators:{Avg:c,Min:d,Max:e,Sum:f}}}})}(jQuery),define("libs/jquery/slickgrid/slick.dataview",function(){}),function(a){function b(b,c,d){function f(){b.onPagingInfoChanged.subscribe(function(a,b){n(b)}),m(),n(b.getPagingInfo())}function g(){var a=!Slick.GlobalEditorLock.commitCurrentEdit(),c=b.getPagingInfo(),d=c.totalPages-1;return{canGotoFirst:!a&&c.pageSize!=0&&c.pageNum>0,canGotoLast:!a&&c.pageSize!=0&&c.pageNum!=d,canGotoPrev:!a&&c.pageSize!=0&&c.pageNum>0,canGotoNext:!a&&c.pageSize!=0&&c.pageNum<d,pagingInfo:c}}function h(a){b.setRefreshHints({isFilterUnchanged:!0}),b.setPagingOptions({pageSize:a})}function i(){g().canGotoFirst&&b.setPagingOptions({pageNum:0})}function j(){var a=g();a.canGotoLast&&b.setPagingOptions({pageNum:a.pagingInfo.totalPages-1})}function k(){var a=g();a.canGotoPrev&&b.setPagingOptions({pageNum:a.pagingInfo.pageNum-1})}function l(){var a=g();a.canGotoNext&&b.setPagingOptions({pageNum:a.pagingInfo.pageNum+1})}function m(){d.empty();var b=a("<span class='slick-pager-nav' />").appendTo(d),f=a("<span class='slick-pager-settings' />").appendTo(d);e=a("<span class='slick-pager-status' />").appendTo(d),f.append("<span class='slick-pager-settings-expanded' style='display:none'>Show: <a data=0>All</a><a data='-1'>Auto</a><a data=25>25</a><a data=50>50</a><a data=100>100</a></span>"),f.find("a[data]").click(function(b){var d=a(b.target).attr("data");if(d!=undefined)if(d==-1){var e=c.getViewport();h(e.bottom-e.top)}else h(parseInt(d))});var g="<span class='ui-state-default ui-corner-all ui-icon-container'><span class='ui-icon ",m="' /></span>";a(g+"ui-icon-lightbulb"+m).click(function(){a(".slick-pager-settings-expanded").toggle()}).appendTo(f),a(g+"ui-icon-seek-first"+m).click(i).appendTo(b),a(g+"ui-icon-seek-prev"+m).click(k).appendTo(b),a(g+"ui-icon-seek-next"+m).click(l).appendTo(b),a(g+"ui-icon-seek-end"+m).click(j).appendTo(b),d.find(".ui-icon-container").hover(function(){a(this).toggleClass("ui-state-hover")}),d.children().wrapAll("<div class='slick-pager' />")}function n(a){var b=g();d.find(".slick-pager-nav span").removeClass("ui-state-disabled"),b.canGotoFirst||d.find(".ui-icon-seek-first").addClass("ui-state-disabled"),b.canGotoLast||d.find(".ui-icon-seek-end").addClass("ui-state-disabled"),b.canGotoNext||d.find(".ui-icon-seek-next").addClass("ui-state-disabled"),b.canGotoPrev||d.find(".ui-icon-seek-prev").addClass("ui-state-disabled"),a.pageSize==0?e.text("Showing all "+a.totalRows+" rows"):e.text("Showing page "+(a.pageNum+1)+" of "+a.totalPages)}var e;f()}a.extend(!0,window,{Slick:{Controls:{Pager:b}}})}(jQuery),define("libs/jquery/slickgrid/slick.pager",function(){}),function(a){function b(b,c,d){function h(){c.onHeaderContextMenu.subscribe(i),d=a.extend({},g,d),e=a("<span class='slick-columnpicker' style='display:none;position:absolute;z-index:20;' />").appendTo(document.body),e.bind("mouseleave",function(b){a(this).fadeOut(d.fadeSpeed)}),e.bind("click",j)}function i(g,h){g.preventDefault(),e.empty(),f=[];var i,j;for(var k=0;k<b.length;k++)i=a("<li />").appendTo(e),j=a("<input type='checkbox' />").data("column-id",b[k].id),f.push(j),c.getColumnIndex(b[k].id)!=null&&j.attr("checked","checked"),a("<label />").text(b[k].name).prepend(j).appendTo(i);a("<hr/>").appendTo(e),i=a("<li />").appendTo(e),j=a("<input type='checkbox' />").data("option","autoresize"),a("<label />").text("Force fit columns").prepend(j).appendTo(i),c.getOptions().forceFitColumns&&j.attr("checked","checked"),i=a("<li />").appendTo(e),j=a("<input type='checkbox' />").data("option","syncresize"),a("<label />").text("Synchronous resize").prepend(j).appendTo(i),c.getOptions().syncColumnCellResize&&j.attr("checked","checked"),e.css("top",g.pageY-10).css("left",g.pageX-10).fadeIn(d.fadeSpeed)}function j(d){if(a(d.target).data("option")=="autoresize"){d.target.checked?(c.setOptions({forceFitColumns:!0}),c.autosizeColumns()):c.setOptions({forceFitColumns:!1});return}if(a(d.target).data("option")=="syncresize"){d.target.checked?c.setOptions({syncColumnCellResize:!0}):c.setOptions({syncColumnCellResize:!1});return}if(a(d.target).is(":checkbox")){var e=[];a.each(f,function(c,d){a(this).is(":checked")&&e.push(b[c])});if(!e.length){a(d.target).attr("checked","checked");return}c.setColumns(e)}}var e,f,g={fadeSpeed:250};h()}a.extend(!0,window,{Slick:{Controls:{ColumnPicker:b}}})}(jQuery),define("libs/jquery/slickgrid/slick.columnpicker",function(){}),define("app/util/output-table",["app/util/jsonmodel","libs/jquery/slickgrid/jquery.event.drag-2.0.min","libs/jquery/ui/jquery.ui.sortable","libs/jquery/slickgrid/slick.core","libs/jquery/slickgrid/slick.grid","libs/jquery/slickgrid/slick.dataview","libs/jquery/slickgrid/slick.pager","libs/jquery/slickgrid/slick.columnpicker"],function(a){return function(){function i(a,b){var c=[];if(a.length!=1||!a[0].pgvalue)for(var d=0;d<b.length;d++){var e=$.extend({},b[d],{"#id":"#"+d});c.push(e)}else for(var d=0;d<b.length;d++)c.push({value:b[d],"#id":"#"+d});return c}function j(a,b){e.setItems([],"#id"),b&&b.table.sort&&l(a,b.table.sort),e.beginUpdate(),e.setItems(a,"#id");if(b&&b.table.pager&&("undefined"!=typeof b.table.pager.size||"undefined"!=typeof b.table.pager.pageNum)){var c={};b.table.pager.size&&(c.pageSize=b.table.pager.size),b.table.pager.page&&(c.pageNum=b.table.pager.page),e.setPagingOptions(c)}e.endUpdate()}function k(){clearInterval(this.killReducedResize),this.killReducedResize=setTimeout(function(){f&&f.resizeCanvas()},20)}function l(a,b){a.sort(function(a,c){for(var d=0,e=b.length;d<e;d++){var f=b[d].field,g=b[d].asc?1:-1,h=a[f],i=c[f],j=(h==i?0:h>i?1:-1)*g;if(j!=0)return j}return 0})}var b=20,c=$('<div class="ui-widget"><div class="pg-table" style="height:100%;width:100%"></div></div>'),d=c.find(".pg-table"),e=new Slick.Data.DataView,f,g={enableCellNavigation:!1,enableColumnReorder:!0,autoHeight:!1,forceFitColumns:!0,multiColumnSort:!0},h;e.setPagingOptions({pageSize:b}),e.onRowCountChanged.subscribe(function(a,b){if(!f)return;try{f.updateRowCount()}catch(c){}f.render()}),e.onRowsChanged.subscribe(function(a,b){if(!f)return;f.invalidateRows(b.rows),f.render()});var m,n;return h={type:"table",name:"Table",panel:function(){return c},toolbar:function(){return $("<div></div>")},update:function(b,c){n=c,"undefined"==typeof n.table&&(n.table={pager:{}}),m&&e.onPagingInfoChanged.unsubscribe(m);try{f&&f.destroy()}catch(l){}var o=!b||b.length==0?[{id:"empty",name:"No Records Match Your Query",field:"empty"}]:a.create(b);b=i(o,b),f=new Slick.Grid(d,e,o,g),m=function(a,b){n.table.pager={size:b.pageSize,page:b.pageNum},$(h).trigger("optionsChanged",n)},n.table.sort&&f&&f.setSortColumns(n.table.sort.map(function(a){return{columnId:a.field,sortAsc:a.asc}})),f.onSort.subscribe(function(a,c){n.table.sort=c.sortCols.map(function(a){return{asc:a.sortAsc,field:a.sortCol.field}}),$(h).trigger("optionsChanged",n),j(b,n)}),new Slick.Controls.Pager(e,f,this.toolbar),j(b,n),e.onPagingInfoChanged.subscribe(m),k()},preferredDownloadFormat:function(){return"csv"},resize:k,paginationOptions:function(){var a=n&&n.table&&n.table.pager&&n.table.pager||{page:0,size:b},c=n&&n.table&&n.table.sort||null;return{skip:a.page*a.size,limit:a.size,sort:c}}}}}),define("app/util/output-json",["app/util/ui"],function(a){var b,c=$('<div class="ui-widget"><pre class="json ui-content"></pre></div>'),d=c.find(".json"),e=2,f,g,h;return b={type:"json",name:"Json",panel:function(){return c},update:function(a,b){a?h=a:a=h,g=b,g.json||(g.json={compact:!1});var c=g.json.compact?JSON.stringify(a):JSON.stringify(a,null,e);f.find('input[type="checkbox"]').attr("checked",g.json.compact).button("refresh"),d.text(c)},activate:function(){f||(f=$(this.toolbar).append("<div></div>").find("div:last"),a.checks(f,{label:"compact",handler:function(a){if(g.json.compact===a.checked)return;g.json.compact=a.checked,b.update(null,g),$(b).trigger("optionsChanged",g)}})),f.show()},deactivate:function(){f.hide()},preferredDownloadFormat:function(a){return"json"}}}),define("rtext!templates/panel.options.chart-output.html",[],function(){return'<div class="pg-description"></div>\n<div class="pg-selection ui-content ui-state-highlight ui-corner-all">\n    <label><span class="pg-label">X Axis:</span><select class="pg-x"></select></label>\n</div>\n<div class="pg-selection ui-content ui-state-highlight ui-corner-all">\n    <label><span class="pg-label">Y Axis:</span><select class="pg-y"></select></label>\n</div>\n<div class="pg-selection ui-content ui-state-highlight ui-corner-all">\n    <label><span class="pg-label">Segment On:</span><select class="pg-segment"></select></label>\n</div>\n<div class="pg-selection ui-content ui-state-highlight ui-corner-all">\n    <label><span class="pg-label">Max. Samples:</span><input type="number" step="1" min="1" class="pg-sample"></label>\n</div>\n<div class="pg-chart-logo">\n    <a href="http://reportgrid.com/" target="_blank"><img src="http://api.reportgrid.com/css/images/reportgrid-clear.png" title="Powered by ReportGrid" height="29" width="194"></a>\n</div>'}),define("app/util/output-chart",["app/util/jsonmodel","app/util/ui","app/util/notification","rtext!templates/panel.options.chart-output.html","https://api.reportgrid.com/js/reportgrid-core.js","https://api.reportgrid.com/js/reportgrid-charts.js?authCode=r59uh0XNfjFqI1M%2ByxJK33KGZ0Mm82UqEme9ShK7g12KlIHBhCZK1rFV7KdOHgZ7GAePArW%2FT4EuOgzCPCbZB%2BAGlqH7I8OeRMwxKJA5lSRO1GTNp5IkXcrS4rKVj0KT3jnc%2Fkc6gJBjzZPBwwX10Xgdg2%2B%2FKI1QnoOCVhDJ8Hg%3D"],function(a,b,c,d){function p(){clearInterval(this.k),this.k=setTimeout(q,50)}function q(){try{g.find("*").remove(),ReportGrid.chart(g.get(0),o)}catch(a){}}function r(a,b){return b.type.substr(0,5)==="time:"?ReportGrid.format(typeof a=="number"?new Date(a):ReportGrid.date.parse(a),"DT"):ReportGrid.humanize(a)}function s(){v(),ReportGrid.tooltip&&ReportGrid.tooltip.hide();if(!j.chart.x||!j.chart.y||j.chart.x===j.chart.y)return;j.chart.samplesize||(j.chart.samplesize=100);var b=a.axis(m,j.chart.x),c=a.axis(m,j.chart.y);if(!b||!c)return;var d=k.slice(0);b.transformer&&(d=b.transformer(d)),c.transformer&&(d=c.transformer(d)),d=t(d,j.chart.x),d.length>j.chart.samplesize&&(d=d.slice(0,j.chart.samplesize)),o={axes:[b,c],data:d,options:{displayrules:!0,visualization:b.type.substr(0,5)==="time:"?"linechart":"barchart",label:{axis:function(a){return a},datapointover:function(a,d){return r(a[j.chart.x],b)+": "+r(a[j.chart.y],c)}}}},o.options.visualization==="linechart"&&(o.options.effect="dropshadow"),j.chart.segment&&(o.options.segmenton=j.chart.segment),p()}function t(a,b){return a=a.splice(0),a.sort(function(a,c){return ReportGrid.compare(a[b],c[b])}),a}function u(a){function b(a){return!!a.multivalue}function f(a){return!!a.multivalue||a.type==="number"||a.subtype==="datetime"||j&&j.chart.x===a.field||j&&j.chart.y===a.field}function g(a,b,c,d,e){a.find("option").remove(),d&&a.append('<option value="">[none]</option>');for(var f=0;f<b.length;f++){var g=e(b[f]);if(g)continue;a.append('<option value="'+b[f].field+'"'+(c===b[f].field?" selected":"")+">"+b[f].name+"</option>")}return a.find("option").length===(d?1:0)?a.closest(".pg-selection").hide():a.closest(".pg-selection").show(),a}function h(a){return function(){j.chart[a]=$(this).val(),j.chart.segment===j.chart[a]&&(j.chart.segment=null),g(l.find(".pg-segment"),m,j.chart.segment,!0,f),$(e).trigger("optionsChanged",j),s()}}function i(a){return function(){j.chart[a]=$(this).val(),$(e).trigger("optionsChanged",j),s()}}return function(){l&&l.remove(),l=c.context(a,{width:"264px",text:d,target:this,before_open:function(){ReportGrid.tooltip&&ReportGrid.tooltip.hide()},after_open:function(){var a=g(l.find(".pg-x"),m,j.chart.x,!1,b).change(h("x"));g(l.find(".pg-y"),m,j.chart.y,!1,b).change(h("y")),g(l.find(".pg-segment"),m,j.chart.segment,!0,f).change(i("segment")),l.find(".pg-sample").val(j.chart.samplesize).change(i("samplesize")),j.chart.x=l.find(".pg-x").val(),j.chart.y=l.find(".pg-y").val(),s()}})}}function v(){g.find("*").remove().removeClass("rg"),g.append('<div class="pg-message ui-content ui-state-highlight ui-corner-all"><p>Please select the chart axis using the options button above.</p></div>')}var e,f=$('<div class="ui-widget ui-content pg-overflow-hidden"><div class="pg-chart"></div></div>'),g=f.find(".pg-chart"),h=2,i,j,k,l,m,n,o;return e={type:"chart",name:"Chart",panel:function(){return f},update:function(b,c){l&&l.remove(),"undefined"==typeof c.chart&&(c.chart={samplesize:200}),j=c,b?k=b:b=k;if(!b||b.length<=1){m=[],g.html('<div class="pg-message ui-content ui-state-highlight ui-corner-all">The dataset doesn\'t contain enough values to build a chart.</div>'),n&&n.button("disable");return}m=a.create(b),n&&n.button("enable"),s()},resize:function(){g.css({width:f.innerWidth()+"px",height:f.innerHeight()+"px"}),s()},activate:function(){i||(i=$(this.toolbar),n=b.button(i,{label:"options",text:!0,handler:u("Chart Options"),disabled:!0})),i.show()},deactivate:function(){ReportGrid.tooltip&&ReportGrid.tooltip.hide(),l&&l.remove(),v(),i.hide()}},e}),define("app/util/output-error",[],function(){function c(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var a=$('<div class="ui-widget"><div class="ui-content ui-state-error ui-corner-all"></div></div>'),b=a.find(".ui-state-error");return{type:"error",name:"Error",display:!1,panel:function(){return a},update:function(a,d,e){var f="<p>"+(a&&c(""+a.message||a))+"</p>";"undefined"!=typeof a.lineNum&&(f+='<p class="pg-position">Error at line '+a.lineNum+", column "+a.colNum+":</p><br>",f+="<pre>"+c(a.detail)+"</pre>",$(e).trigger("syntaxError",{line:a.lineNum,column:a.colNum,text:a.detail})),b.html(f),b.find(".pg-position").click(function(){$(e).trigger("requestCursorChange",{line:a.lineNum,column:a.colNum})})}}}),define("app/util/output-message",[],function(){var a=$('<div class="ui-widget"><div class="pg-message ui-content ui-state-highlight ui-corner-all"></div></div>'),b=a.find(".pg-message");return{type:"message",name:"Message",display:!1,panel:function(){return a},update:function(a){var c="<p>"+a.message+"</p>";b.html(c)}}}),define("app/config/output-results",["app/util/output-table","app/util/output-json","app/util/output-chart","app/util/output-error","app/util/output-message"],function(){var a=arguments,b=[{name:"update",f:function(){return function(a){}}},{name:"panel",f:function(){return function(){return $("<div></div>")}}},{name:"toolbar",f:function(){return function(){return $("<div></div>")}}},{name:"activate",f:function(){return function(){}}},{name:"deactivate",f:function(){return function(){}}},{name:"display",f:function(){return!0}},{name:"resize",f:function(){return function(){}}},{name:"preferredDownloadFormat",f:function(){return function(){return null}}},{name:"paginationOptions",f:function(){return function(){return null}}}],c=!1;return function(){if(!c){for(var d=0;d<a.length;d++){var e=a[d];"function"==typeof e&&(a[d]=e=e()),$.each(b,function(a,b){"undefined"==typeof e[b.name]&&(e[b.name]=b.f())})}c=!0}return a}}),define("app/config/output-formats",["app/util/converters","app/util/ui"],function(a,b){return[{token:"json",name:"Json",handler:function(a,b){return b.compact?JSON.stringify(a):JSON.stringify(a,null,2)},options:{compact:!1},buildOptions:function(a,c){var d=this;b.checks(a,[{name:"options",checked:this.options.compact,label:"compact json",description:"format json output with no newlines and minimal spacing",handler:function(){d.options.compact=$(this).prop("checked"),c()}}])}},{token:"csv",name:"CSV",handler:function(b){return a.jsonToCsv(b)}}]}),define("rtext!templates/toolbar.output.html",[],function(){return'<div class="pg-toolbar-actions pg-tabs-container">\n    <div class="pg-output-formats">\n    </div>\n</div>\n<div class="pg-toolbar-context pg-stacked-context">\n    <div class="pg-toolbar-result-type"></div>\n    <div class="pg-toolbar-result-general"></div>\n</div>'}),define("app/output",["app/util/ui","app/config/output-results","app/config/output-formats","app/util/dialog-export","rtext!templates/toolbar.output.html"],function(a,b,c,d,e){var f=0;return function(g,h){function s(a,b){return!0}function u(){if(i[l.type]){var a=i[l.type].panel;a.css({width:a.parent().width()+"px",height:a.parent().height()+"px"}),i[l.type].resize()}}function v(a,b,c){b!==l.type&&(l.type&&i[l.type]&&(i[l.type].deactivate(),$(i[l.type].toolbar).hide(),$(i[l.type].panel).hide()),$(i[b].toolbar).show(),$(i[b].panel).show(),i[b].activate(),clearTimeout(this.killActivatePanel),this.killActivatePanel=setTimeout(u,0)),i[b].display&&(i[b].display[0].checked=!0,i[b].display.button("refresh")),i[b].update(a,c,k)}var i={},j=b();$.each(j,function(a,b){i[b.type]=b}),f++;var k,l={result:null,type:null,current:null},m=g.find(".pg-toolbar").append(e),n=g.find(".pg-toolbar-context .pg-toolbar-result-type"),o=g.find(".pg-toolbar-context .pg-toolbar-result-general"),p=m.find(".pg-output-formats"),q=g.find(".pg-result"),r,t=a.button(o,{icon:"ui-icon-arrowthickstop-1-s",description:"download query result",handler:function(){var a=l&&i[l.current].preferredDownloadFormat(r);d("Download Results",c,h.getOutputResult(),a,s)}});return $.each(j,function(a,b){if(b.display){var c="pg-output-type-radio-"+f+"-"+ ++a;b.display=p.append('<input type="radio" id="'+c+'" name="radio" data-format="'+b.type+'" /><label for="'+c+'">'+b.name+"</label>").find("#"+c),b.display.click(function(){if(b.type===l.type){l.current=b.type;return}k.setOutput(l.result,b.type,r)})}b.panel=b.panel(),q.append(b.panel),b.toolbar=b.toolbar(),n.append(b.toolbar),$(b.toolbar).hide(),$(b.panel).hide(),$(b).on("update",function(){k.setOutput(null,null,r)}),$(b).on("optionsChanged",function(a,b){$(k).trigger("optionsChanged",b)}),$(b).on("paginationChanged",function(a,b){console.log("INTERCEPT PAGINATION"),$(k).trigger("paginationChanged",b)}),$(b).on("sortChanged",function(a,b){console.log("INTERCEPT SORT"),$(k).trigger("sortChanged",b)})}),a.buttonset(p),k={setOutput:function(a,b,c){"undefined"==typeof a&&(a=a||l.result||null),b=b||"table",c||(c={}),r=c;var d=!1;a==null?v({message:"please, type and execute a query"},b="message",c):a instanceof Array&&a.length==0?v({message:"empty dataset"},b="message",c):i[b]?(d=i[b].display,v(a,b,c)):(d=!1,v({message:"invalid result type: "+b},b="error",c)),a&&(l.result=a),l.type!=b&&(l.type=b,$(k).trigger("typeChanged",b)),i[b]&&i[b].display&&(l.current=b),p.find("input[type=radio]").each(function(){$(this).attr("checked",$(this).attr("data-format")===b)}),d?(p.buttonset("enable"),t.button("enable")):(p.buttonset("disable"),t.button("disable")),p.buttonset("refresh")},paginationOptions:function(){return i[l.current||"table"].paginationOptions()},last:l,resize:u}}}),define("app/util/humanize",[],function(){var a=this,b=a.humanize,c={};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=c),exports.humanize=c):(typeof define=="function"&&define.amd&&define("humanize",function(){return c}),a.humanize=c),c.noConflict=function(){return a.humanize=b,this},c.pad=function(a,b,c,d){a+="",c?c.length>1&&(c=c.charAt(0)):c=" ",d=d===undefined?"left":"right";if(d==="right")while(a.length<b)a+=c;else while(a.length<b)a=c+a;return a},c.time=function(){return(new Date).getTime()/1e3};var d=[0,0,31,59,90,120,151,181,212,243,273,304,334],e=[0,0,31,60,91,121,152,182,213,244,274,305,335];return c.date=function(a,b){var f=b===undefined?new Date:b instanceof Date?new Date(b):new Date(b*1e3),g=/\\?([a-z])/gi,h=function(a,b){return k[a]?k[a]():b},i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],j=["January","February","March","April","May","June","July","August","September","October","November","December"],k={d:function(){return c.pad(k.j(),2,"0")},D:function(){return k.l().slice(0,3)},j:function(){return f.getDate()},l:function(){return i[k.w()]},N:function(){return k.w()||7},S:function(){var a=k.j();return a>4&&a<21?"th":{1:"st",2:"nd",3:"rd"}[a%10]||"th"},w:function(){return f.getDay()},z:function(){return(k.L()?e[k.n()]:d[k.n()])+k.j()-1},W:function(){var a=k.z()-k.N()+1.5;return c.pad(1+Math.floor(Math.abs(a)/7)+(a%7>3.5?1:0),2,"0")},F:function(){return j[f.getMonth()]},m:function(){return c.pad(k.n(),2,"0")},M:function(){return k.F().slice(0,3)},n:function(){return f.getMonth()+1},t:function(){return(new Date(k.Y(),k.n(),0)).getDate()},L:function(){return(new Date(k.Y(),1,29)).getMonth()===1?1:0},o:function(){var a=k.n(),b=k.W();return k.Y()+(a===12&&b<9?-1:a===1&&b>9)},Y:function(){return f.getFullYear()},y:function(){return String(k.Y()).slice(-2)},a:function(){return f.getHours()>11?"pm":"am"},A:function(){return k.a().toUpperCase()},B:function(){var a=f.getTime()/1e3,b=a%86400+3600;b<0&&(b+=86400);var c=b/86.4%1e3;return a<0?Math.ceil(c):Math.floor(c)},g:function(){return k.G()%12||12},G:function(){return f.getHours()},h:function(){return c.pad(k.g(),2,"0")},H:function(){return c.pad(k.G(),2,"0")},i:function(){return c.pad(f.getMinutes(),2,"0")},s:function(){return c.pad(f.getSeconds(),2,"0")},u:function(){return c.pad(f.getMilliseconds()*1e3,6,"0")},O:function(){var a=f.getTimezoneOffset(),b=Math.abs(a);return(a>0?"-":"+")+c.pad(Math.floor(b/60)*100+b%60,4,"0")},P:function(){var a=k.O();return a.substr(0,3)+":"+a.substr(3,2)},Z:function(){return-f.getTimezoneOffset()*60},c:function(){return"Y-m-d\\TH:i:sP".replace(g,h)},r:function(){return"D, d M Y H:i:s O".replace(g,h)},U:function(){return f.getTime()/1e3||0}};return a.replace(g,h)},c.numberFormat=function(a,b,c,d){b=isNaN(b)?2:Math.abs(b),c=c===undefined?".":c,d=d===undefined?",":d;var e=a<0?"-":"";a=Math.abs(+a||0);var f=parseInt(a.toFixed(b),10)+"",g=f.length>3?f.length%3:0;return e+(g?f.substr(0,g)+d:"")+f.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+d)+(b?c+Math.abs(a-f).toFixed(b).slice(2):"")},c.naturalDay=function(a,b){a=a===undefined?c.time():a,b=b===undefined?"Y-m-d":b;var d=86400,e=new Date,f=(new Date(e.getFullYear(),e.getMonth(),e.getDate())).getTime()/1e3;return a<f&&a>=f-d?"yesterday":a>=f&&a<f+d?"today":a>=f+d&&a<f+2*d?"tomorrow":c.date(b,a)},c.relativeTime=function(a){a=a===undefined?c.time():a;var b=c.time(),d=b-a;if(d<2&&d>-2)return(d>=0?"just ":"")+"now";if(d<60&&d>-60)return d>=0?Math.floor(d)+" seconds ago":"in "+Math.floor(-d)+" seconds";if(d<120&&d>-120)return d>=0?"about a minute ago":"in about a minute";if(d<3600&&d>-3600)return d>=0?Math.floor(d/60)+" minutes ago":"in "+Math.floor(-d/60)+" minutes";if(d<7200&&d>-7200)return d>=0?"about an hour ago":"in about an hour";if(d<86400&&d>-86400)return d>=0?Math.floor(d/3600)+" hours ago":"in "+Math.floor(-d/3600)+" hours";var e=172800;if(d<e&&d>-e)return d>=0?"1 day ago":"in 1 day";var f=2505600;if(d<f&&d>-f)return d>=0?Math.floor(d/86400)+" days ago":"in "+Math.floor(-d/86400)+" days";var g=5184e3;if(d<g&&d>-g)return d>=0?"about a month ago":"in about a month";var h=parseInt(c.date("Y",b),10),i=parseInt(c.date("Y",a),10),j=h*12+parseInt(c.date("n",b),10),k=i*12+parseInt(c.date("n",a),10),l=j-k;if(l<12&&l>-12)return l>=0?l+" months ago":"in "+ -l+" months";var m=h-i;return m<2&&m>-2?m>=0?"a year ago":"in a year":m>=0?m+" years ago":"in "+ -m+" years"},c.ordinal=function(a){a=parseInt(a,10),a=isNaN(a)?0:a;var b=a<0?"-":"";return a=Math.abs(a),b+a+(a>4&&a<21?"th":{1:"st",2:"nd",3:"rd"}[a%10]||"th")},c.filesize=function(a,b,d,e,f){b=b===undefined?1024:b,d=isNaN(d)?2:Math.abs(d),e=e===undefined?".":e,f=f===undefined?",":f;if(a<=0)return"0 bytes";var g=[1],h=["bytes","Kb","Mb","Gb","Tb","Pb"];if(a<b)return c.numberFormat(a,0)+" "+h[0];for(var i=1;i<h.length;i++){g[i]=g[i-1]*b;if(a<g[i])return c.numberFormat(a/g[i-1],d,e,f)+" "+h[i-1]}return c.numberFormat(a/g[h.length-1],d,e,f)+" "+h[h.length-1]},c.linebreaks=function(a){return a=a.replace(/^([\n|\r]*)/,""),a=a.replace(/([\n|\r]*)$/,""),a=a.replace(/(\r\n|\n|\r)/g,"\n"),a=a.replace(/(\n{2,})/g,"</p><p>"),a=a.replace(/\n/g,"<br />"),"<p>"+a+"</p>"},c.nl2br=function(a){return a.replace(/(\r\n|\n|\r)/g,"<br />")},c.truncatechars=function(a,b){return a.length<=b?a:a.substr(0,b)+"â¦"},c.truncatewords=function(a,b){var c=a.split(" ");return c.length<b?a:c.slice(0,b).join(" ")+"â¦"},c}),define("rtext!templates/toolbar.folders.html",[],function(){return'<div class="pg-toolbar-description">\n</div>\n<div class="pg-toolbar-actions">\n</div>\n<div class="pg-toolbar-context">\n</div>'}),function(a){a.vakata={}}(jQuery),function(a){a.fn.vakata_reverse=[].reverse}(jQuery),function(a){jQuery.expr[":"].vakata_icontains=function(a,b,c){return(a.textContent||a.innerText||"").toLowerCase().indexOf(c[3].toLowerCase())>=0}}(jQuery),function(a){a.vakata.array_remove=function(a,b,c){var d=a.slice((c||b)+1||a.length);return a.length=b<0?a.length+b:b,a.push.apply(a,d),a}}(jQuery),function(a){a.vakata.array_unique=function(a){var b=[],c,d,e;for(c=0,e=a.length;c<e;c++){for(d=0;d<=c;d++)if(a[c]===a[d])break;d===c&&b.push(a[c])}return b}}(jQuery),function(a){a.vakata.attributes=function(b,c){b=a(b)[0];var d=c?{}:[];return a.each(b.attributes,function(b,e){if(a.inArray(e.nodeName.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])!==-1)return;e.nodeValue!==null&&a.trim(e.nodeValue)!==""&&(c?d[e.nodeName]=e.nodeValue:d.push(e.nodeName))}),d}}(jQuery),function(a){var b;a.vakata.get_scrollbar_width=function(){var c,d;return b||(/msie/.test(navigator.userAgent.toLowerCase())?(c=a('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1e3,left:0}).appendTo("body"),d=a('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1e3,left:0}).appendTo("body"),b=c.width()-d.width(),c.add(d).remove()):(c=a("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1e3,left:0}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200}),b=100-c.width(),c.parent().remove())),b}}(jQuery),function(a){a.vakata.css={get_css:function(a,b,c){a=a.toLowerCase();var d=c.cssRules||c.rules,e=0;do{if(d.length&&e>d.length+5)return!1;if(d[e].selectorText&&d[e].selectorText.toLowerCase()===a)return b===!0?(c.removeRule&&c.removeRule(e),c.deleteRule&&c.deleteRule(e),!0):d[e]}while(d[++e]);return!1},add_css:function(b,c){return a.jstree.css.get_css(b,!1,c)?!1:(c.insertRule?c.insertRule(b+" { }",0):c.addRule(b,null,0),a.vakata.css.get_css(b))},remove_css:function(b,c){return a.vakata.css.get_css(b,!0,c)},add_sheet:function(b){var c=!1,d=!0;if(b.str)return b.title&&(c=a("style[id='"+b.title+"-stylesheet']")[0]),c?d=!1:(c=document.createElement("style"),c.setAttribute("type","text/css"),b.title&&c.setAttribute("id",b.title+"-stylesheet")),c.styleSheet?d?(document.getElementsByTagName("head")[0].appendChild(c),c.styleSheet.cssText=b.str):c.styleSheet.cssText=c.styleSheet.cssText+" "+b.str:(c.appendChild(document.createTextNode(b.str)),document.getElementsByTagName("head")[0].appendChild(c)),c.sheet||c.styleSheet;if(b.url){if(!document.createStyleSheet)return c=document.createElement("link"),c.rel="stylesheet",c.type="text/css",c.media="all",c.href=b.url,document.getElementsByTagName("head")[0].appendChild(c),c.styleSheet;try{c=document.createStyleSheet(b.url)}catch(e){}}}}}(jQuery),function(a){var b={element:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1};a.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5},_trigger:function(b,c){var d=a.vakata.dnd._get();d.event=c,a(document).triggerHandler("dnd_"+b+".vakata",d)},_get:function(){return{data:b.data,element:b.element,helper:b.helper}},_clean:function(){b.helper&&b.helper.remove(),b.scroll_i&&(clearInterval(b.scroll_i),b.scroll_i=!1),b={element:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1},a(document).unbind("mousemove",a.vakata.dnd.drag),a(document).unbind("mouseup",a.vakata.dnd.stop)},_scroll:function(c){if(!b.scroll_e||!b.scroll_l&&!b.scroll_t)return b.scroll_i&&(clearInterval(b.scroll_i),b.scroll_i=!1),!1;if(!b.scroll_i)return b.scroll_i=setInterval(a.vakata.dnd._scroll,100),!1;if(c===!0)return!1;var d=b.scroll_e.scrollTop(),e=b.scroll_e.scrollLeft();b.scroll_e.scrollTop(d+b.scroll_t*a.vakata.dnd.settings.scroll_speed),b.scroll_e.scrollLeft(e+b.scroll_l*a.vakata.dnd.settings.scroll_speed),(d!==b.scroll_e.scrollTop()||e!==b.scroll_e.scrollLeft())&&a.vakata.dnd._trigger("scroll",b.scroll_e)},start:function(c,d,e){b.is_drag&&a.vakata.dnd.stop({});try{c.currentTarget.unselectable="on",c.currentTarget.onselectstart=function(){return!1},c.currentTarget.style&&(c.currentTarget.style.MozUserSelect="none")}catch(f){}return b.init_x=c.pageX,b.init_y=c.pageY,b.data=d,b.is_down=!0,b.element=c.currentTarget,e!==!1&&(b.helper=a("<div id='vakata-dnd'></div>").html(e).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),a(document).bind("mousemove",a.vakata.dnd.drag),a(document).bind("mouseup",a.vakata.dnd.stop),!1},drag:function(c){if(!b.is_down)return;if(!b.is_drag){if(!(Math.abs(c.pageX-b.init_x)>a.vakata.dnd.settings.threshold||Math.abs(c.pageY-b.init_y)>a.vakata.dnd.settings.threshold))return;b.helper&&(b.helper.appendTo("body"),b.helper_w=b.helper.outerWidth()),b.is_drag=!0,a.vakata.dnd._trigger("start",c)}var d=!1,e=!1,f=!1,g=!1,h=!1,i=!1,j=!1,k=!1,l=!1,m=!1;b.scroll_t=0,b.scroll_l=0,b.scroll_e=!1;var n=a(c.target).parentsUntil("body").andSelf().vakata_reverse().filter(function(){return/^auto|scroll$/.test(a(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var d=a(this),e=d.offset();this.scrollHeight>this.offsetHeight&&(e.top+d.height()-c.pageY<a.vakata.dnd.settings.scroll_proximity&&(b.scroll_t=1),c.pageY-e.top<a.vakata.dnd.settings.scroll_proximity&&(b.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(e.left+d.width()-c.pageX<a.vakata.dnd.settings.scroll_proximity&&(b.scroll_l=1),c.pageX-e.left<a.vakata.dnd.settings.scroll_proximity&&(b.scroll_l=-1));if(b.scroll_t||b.scroll_l)return b.scroll_e=a(this),!1});if(!b.scroll_e){d=a(document),e=a(window),f=d.height(),g=e.height(),h=d.width(),i=e.width(),j=d.scrollTop(),k=d.scrollLeft(),f>g&&c.pageY-j<a.vakata.dnd.settings.scroll_proximity&&(b.scroll_t=-1),f>g&&g-(c.pageY-j)<a.vakata.dnd.settings.scroll_proximity&&(b.scroll_t=1),h>i&&c.pageX-k<a.vakata.dnd.settings.scroll_proximity&&(b.scroll_l=-1),h>i&&i-(c.pageX-k)<a.vakata.dnd.settings.scroll_proximity&&(b.scroll_l=1);if(b.scroll_t||b.scroll_l)b.scroll_e=d}b.scroll_e&&a.vakata.dnd._scroll(!0),b.helper&&(l=parseInt(c.pageY+a.vakata.dnd.settings.helper_top,10),m=parseInt(c.pageX+a.vakata.dnd.settings.helper_left,10),f&&l+25>f&&(l=f-50),h&&m+b.helper_w>h&&(m=h-(b.helper_w+2)),b.helper.css({left:m+"px",top:l+"px"})),a.vakata.dnd._trigger("move",c)},stop:function(c){b.is_drag&&a.vakata.dnd._trigger("stop",c),a.vakata.dnd._clean()}}}(jQuery),function(a){a.vakata.xslt=function(b,c){var d=!1,e,f,g;if(d===!1&&window.ActiveXObject)try{d=new ActiveXObject("Msxml2.XSLTemplate"),f=new ActiveXObject("Msxml2.DOMDocument"),f.loadXML(b),g=new ActiveXObject("Msxml2.FreeThreadedDOMDocument"),g.loadXML(c),d.stylesheet=g,e=d.createProcessor(),e.input=f,e.transform(),d=e.output}catch(h){}return b=a.parseXML(b),c=a.parseXML(c),d===!1&&typeof XSLTProcessor!="undefined"&&(e=new XSLTProcessor,e.importStylesheet(c),d=e.transformToFragment(b,document),d=a("<div />").append(d).html()),d===!1&&typeof b.transformNode!="undefined"&&(d=b.transformNode(c)),d}}(jQuery),typeof jQuery.hotkeys=="undefined"&&function(a){function b(a){if(typeof a.data!="string")return;var b=a.handler,c=a.data.toLowerCase().split(" ");a.handler=function(a){if(!(this===a.target||!/textarea|select/i.test(a.target.nodeName)&&a.target.type!=="text"))return;var d=a.type!=="keypress"&&jQuery.vakata_hotkeys.specialKeys[a.which],e=String.fromCharCode(a.which).toLowerCase(),f,g="",h={};a.altKey&&d!=="alt"&&(g+="alt+"),a.ctrlKey&&d!=="ctrl"&&(g+="ctrl+"),a.metaKey&&!a.ctrlKey&&d!=="meta"&&(g+="meta+"),a.shiftKey&&d!=="shift"&&(g+="shift+"),d?h[g+d]=!0:(h[g+e]=!0,h[g+jQuery.vakata_hotkeys.shiftNums[e]]=!0,g==="shift+"&&(h[jQuery.vakata_hotkeys.shiftNums[e]]=!0));for(var i=0,j=c.length;i<j;i++)if(h[c[i]])return b.apply(this,arguments)}}a.vakata_hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},jQuery.each(["keydown","keyup","keypress"],function(){jQuery.event.special[this]={add:b}})}(jQuery),function(a){var b=!1,c={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};a.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(b){a(document).triggerHandler("context_"+b+".vakata",{reference:c.reference,element:c.element,position:{x:c.position_x,y:c.position_y}})},_execute:function(a){return a=c.items[a],a&&!a._disabled&&a.action?a.action.call(null,{item:a,reference:c.reference,element:c.element,position:{x:c.position_x,y:c.position_y}}):!1},_parse:function(b,d){if(!b)return!1;d||(c.html="",c.items=[]);var e="",f=!1,g;return d&&(e+="<ul>"),a.each(b,function(b,d){if(!d)return!0;c.items.push(d),!f&&d.separator_before&&(e+="<li class='vakata-context-separator'><a href='#' "+(a.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),f=!1,e+="<li class='"+(d._class||"")+(d._disabled?" vakata-contextmenu-disabled ":"")+"'>",e+="<a href='#' rel='"+(c.items.length-1)+"'>",a.vakata.context.settings.icons&&(e+="<ins ",d.icon&&(d.icon.indexOf("/")!==-1?e+=" style='background:url(\""+d.icon+"\") center center no-repeat' ":e+=" class='"+d.icon+"' "),e+=">&#160;</ins><span>&#160;</span>"),e+=d.label+"</a>",d.submenu&&(g=a.vakata.context._parse(d.submenu,!0),g&&(e+=g)),e+="</li>",d.separator_after&&(e+="<li class='vakata-context-separator'><a href='#' "+(a.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",f=!0)}),e=e.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),d&&(e+="</ul>"),d||(c.html=e,a.vakata.context._trigger("parse")),e.length>10?e:!1},_show_submenu:function(c){c=a(c);if(!c.length||!c.children("ul").length)return;var d=c.children("ul"),e=c.offset().left+c.outerWidth(),f=c.offset().top,g=d.width(),h=d.height(),i=a(document).width(),j=a(document).height();b?c[e-(g+10+c.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):c[e+g+10>i?"addClass":"removeClass"]("vakata-context-right"),f+h+10>j&&d.css("bottom","-1px"),d.show()},show:function(b,d,e){c.element&&c.element.length&&c.element.width("");switch(!0){case!d&&!b:return!1;case!!d&&!!b:c.reference=b,c.position_x=d.x,c.position_y=d.y;break;case!d&&!!b:c.reference=b;var f=b.offset();c.position_x=f.left+b.outerHeight(),c.position_y=f.top;break;case!!d&&!b:c.position_x=d.x,c.position_y=d.y}!!b&&!e&&a(b).data("vakata_contextmenu")&&(e=a(b).data("vakata_contextmenu")),a.vakata.context._parse(e)&&c.element.html(c.html);if(c.items.length){var g=c.element,h=c.position_x,i=c.position_y,j=g.width(),k=g.height(),l=a(document).width(),m=a(document).height();h+j+20>l&&(h=l-(j+20)),i+k+20>m&&(i=m-(k+20)),c.element.css({left:h,top:i}).show().width(c.element.outerWidth()),c.is_visible=!0,a.vakata.context._trigger("show")}},hide:function(){c.is_visible&&(c.element.hide().find("ul").hide(),c.is_visible=!1,a.vakata.context._trigger("hide"))}},a(function(){b=a("body").css("direction")==="rtl";var d=!1,e='.vakata-context { display:none; _width:1px; } .vakata-context, .vakata-context ul { margin:0; padding:2px; position:absolute; background:#f5f5f5; border:1px solid #979797; 	-moz-box-shadow:5px 5px 4px -4px #666666; -webkit-box-shadow:2px 2px 2px #999999; box-shadow:2px 2px 2px #999999; }.vakata-context ul { list-style:none; left:100%; margin-top:-2.7em; margin-left:-4px; } .vakata-context li.vakata-context-right ul { left:auto; right:100%; margin-left:auto; margin-right:-4px; } .vakata-context li { list-style:none; display:inline; }.vakata-context li a { display:block; padding:0 2em 0 2em; text-decoration:none; width:auto; color:black; white-space:nowrap; line-height:2.4em; 	-moz-text-shadow:1px 1px 0px white; -webkit-text-shadow:1px 1px 0px white; text-shadow:1px 1px 0px white; 	-moz-border-radius:1px; -webkit-border-radius:1px; border-radius:1px; }.vakata-context li a:hover { position:relative; background-color:#e8eff7; 	-moz-box-shadow:0px 0px 2px #0a6aa1; -webkit-box-shadow:0px 0px 2px #0a6aa1; box-shadow:0px 0px 2px #0a6aa1; }.vakata-context li.vakata-context-hover > a { position:relative; background-color:#e8eff7; 	-moz-box-shadow:0px 0px 2px #0a6aa1; -webkit-box-shadow:0px 0px 2px #0a6aa1; box-shadow:0px 0px 2px #0a6aa1; }.vakata-context li a.vakata-context-parent { background-image:url("data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAIORI4JlrqN1oMSnmmZDQUAOw=="); background-position:right center; background-repeat:no-repeat; } .vakata-context li.vakata-context-separator a, .vakata-context li.vakata-context-separator a:hover { background:white; border:0; border-top:1px solid #e2e3e3; height:1px; min-height:1px; max-height:1px; padding:0; margin:0 0 0 2.4em; border-left:1px solid #e0e0e0; _overflow:hidden; 	-moz-text-shadow:0 0 0 transparent; -webkit-text-shadow:0 0 0 transparent; text-shadow:0 0 0 transparent; 	-moz-box-shadow:0 0 0 transparent; -webkit-box-shadow:0 0 0 transparent; box-shadow:0 0 0 transparent; 	-moz-border-radius:0; -webkit-border-radius:0; border-radius:0; }.vakata-context li.vakata-contextmenu-disabled a, .vakata-context li.vakata-contextmenu-disabled a:hover { color:silver; background-color:transparent; border:0; box-shadow:0 0 0; }.vakata-context li a ins { text-decoration:none; display:inline-block; width:2.4em; height:2.4em; background:transparent; margin:0 0 0 -2em; } .vakata-context li a span { display:inline-block; width:1px; height:2.4em; background:white; margin:0 0.5em 0 0; border-left:1px solid #e2e3e3; _overflow:hidden; } .vakata-context-rtl ul { left:auto; right:100%; margin-left:auto; margin-right:-4px; } .vakata-context-rtl li a.vakata-context-parent { background-image:url("data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAINjI+AC7rWHIsPtmoxLAA7"); background-position:left center; background-repeat:no-repeat; } .vakata-context-rtl li.vakata-context-separator a { margin:0 2.4em 0 0; border-left:0; border-right:1px solid #e2e3e3;} .vakata-context-rtl li.vakata-context-left ul { right:auto; left:100%; margin-left:-4px; margin-right:auto; } .vakata-context-rtl li a ins { margin:0 -2em 0 0; } .vakata-context-rtl li a span { margin:0 0 0 0.5em; border-left-color:white; background:#e2e3e3; } ';a.vakata.css.add_sheet({str:e,title:"vakata-context"}),c.element=a("<ul class='vakata-context'></ul>"),c.element.delegate("li","mouseenter",function(b){b.stopImmediatePropagation();if(a.contains(this,b.relatedTarget))return;d&&clearTimeout(d),c.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),a(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").andSelf().addClass("vakata-context-hover"),a.vakata.context._show_submenu(this)}).delegate("li","mouseleave",function(b){if(a.contains(this,b.relatedTarget))return;a(this).find(".vakata-context-hover").andSelf().removeClass("vakata-context-hover")}).bind("mouseleave",function(b){a(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),a.vakata.context.settings.hide_onmouseleave&&(d=setTimeout(function(b){return function(){a.vakata.context.hide()}}(this),a.vakata.context.settings.hide_onmouseleave))}).delegate("a","click",function(a){a.preventDefault()}).delegate("a","mouseup",function(b){!a(this).blur().parent().hasClass("vakata-context-disabled")&&a.vakata.context._execute(a(this).attr("rel"))!==!1&&a.vakata.context.hide()}).appendTo("body"),a(document).bind("mousedown",function(b){c.is_visible&&!a.contains(c.element[0],b.target)&&a.vakata.context.hide()}).bind("context_show.vakata",function(a,d){c.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),b&&c.element.addClass("vakata-context-rtl").css("direction","rtl"),c.element.find("ul").hide().end()}),(typeof a.hotkeys!="undefined"||typeof a.vakata_hotkeys!="undefined")&&a(document).bind("keydown","up",function(a){if(c.is_visible){var b=c.element.find("ul:visible").andSelf().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first();b.length||(b=c.element.find("ul:visible").andSelf().last().children("li:not(.vakata-context-separator)").last()),b.addClass("vakata-context-hover"),a.stopImmediatePropagation(),a.preventDefault()}}).bind("keydown","down",function(a){if(c.is_visible){var b=c.element.find("ul:visible").andSelf().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first();b.length||(b=c.element.find("ul:visible").andSelf().last().children("li:not(.vakata-context-separator)").first()),b.addClass("vakata-context-hover"),a.stopImmediatePropagation(),a.preventDefault()}}).bind("keydown","right",function(a){c.is_visible&&(c.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover"),a.stopImmediatePropagation(),a.preventDefault())}).bind("keydown","left",function(a){c.is_visible&&(c.element.find(".vakata-context-hover").last().parents("li:eq(0)").find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover"),a.stopImmediatePropagation(),a.preventDefault())}).bind("keydown","esc",function(b){a.vakata.context.hide(),b.preventDefault()}).bind("keydown","space",function(a){c.element.find(".vakata-context-hover").last().children("a").click(),a.preventDefault()})})}(jQuery),function(a){var b=function(a){var b=/["\\\x00-\x1f\x7f-\x9f]/g,c={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return a.match(b)?'"'+a.replace(b,function(a){var b=c[a];return typeof b=="string"?b:(b=a.charCodeAt(),"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16))})+'"':'"'+a+'"'};a.vakata.json={encode:function(c){if(c===null)return"null";var d=[],e;switch(typeof c){case"undefined":return undefined;case"number":case"boolean":return c+"";case"string":return b(c);case"object":if(a.isFunction(c.toJSON))return a.vakata.json.encode(c.toJSON());if(c.constructor===Date)return'"'+c.getUTCFullYear()+"-"+String("0"+(c.getUTCMonth()+1)).slice(-2)+"-"+String("0"+c.getUTCDate()).slice(-2)+"T"+String("0"+c.getUTCHours()).slice(-2)+":"+String("0"+c.getUTCMinutes()).slice(-2)+":"+String("0"+c.getUTCSeconds()).slice(-2)+"."+String("00"+c.getUTCMilliseconds()).slice(-3)+'Z"';if(c.constructor===Array){for(e=0;e<c.length;e++)d.push(a.vakata.json.encode(c[e])||"null");return"["+d.join(",")+"]"}return a.each(c,function(c,e){if(a.isFunction(e))return!0;c=typeof c=="number"?'"'+c+'"':b(c),e=a.vakata.json.encode(e),d.push(c+":"+e)}),"{"+d.join(", ")+"}"}},decode:function(b){return a.parseJSON(b)}}}(jQuery),function(a){a.vakata.cookie=function(b,c,d){var e,f,g,h;if(arguments.length>1&&String(c)!=="[object Object]"){d=a.extend({},d);if(c===null||c===undefined)d.expires=-1;return typeof d.expires=="number"&&(e=d.expires,f=d.expires=new Date,f.setDate(f.getDate()+e)),c=String(c),document.cookie=[encodeURIComponent(b),"=",d.raw?c:encodeURIComponent(c),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")}return d=c||{},h=d.raw?function(a){return a}:decodeURIComponent,(g=(new RegExp("(?:^|; )"+encodeURIComponent(b)+"=([^;]*)")).exec(document.cookie))?h(g[1]):null}}(jQuery),function(a){function j(){var b=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),b=!0,window.localStorage.removeItem("_tmptest")}catch(e){}if(b)try{window.localStorage&&(c=window.localStorage,h="localStorage")}catch(f){}else if("globalStorage"in window)try{window.globalStorage&&(c=window.globalStorage[window.location.hostname],h="globalStorage")}catch(g){}else{d=document.createElement("link");if(d.addBehavior){d.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(d);try{d.load("jStorage");var i="{}";i=d.getAttribute("jStorage"),c.jStorage=i,h="userDataBehavior"}catch(j){}}!h&&(!!a.vakata.cookie("__vjstorage")||a.vakata.cookie("__vjstorage","{}",{expires:365})&&a.vakata.cookie("__vjstorage")==="{}")&&(d=null,c.jStorage=a.vakata.cookie("__vjstorage"),h="cookie");if(!h){d=null;return}}k(),n()}function k(){if(c.jStorage)try{b=g(String(c.jStorage))}catch(a){c.jStorage="{}"}else c.jStorage="{}";e=c.jStorage?String(c.jStorage).length:0}function l(){try{c.jStorage=f(b),h==="userDataBehavior"&&(d.setAttribute("jStorage",c.jStorage),d.save("jStorage")),h==="cookie"&&a.vakata.cookie("__vjstorage",c.jStorage,{expires:365}),e=c.jStorage?String(c.jStorage).length:0}catch(g){}}function m(a){if(!a||typeof a!="string"&&typeof a!="number")throw new TypeError("Key name must be string or numeric");if(a==="__jstorage_meta")throw new TypeError("Reserved key name");return!0}function n(){var a=+(new Date),c,d,e=Infinity,f=!1;i!==!1&&clearTimeout(i);if(!b.__jstorage_meta||typeof b.__jstorage_meta.TTL!="object")return;d=b.__jstorage_meta.TTL;for(c in d)d.hasOwnProperty(c)&&(d[c]<=a?(delete d[c],delete b[c],f=!0):d[c]<e&&(e=d[c]));e!==Infinity&&(i=setTimeout(n,e-a)),f&&l()}var b={},c={jStorage:"{}"},d=null,e=0,f=a.vakata.json.encode,g=a.vakata.json.decode,h=!1,i=!1;a.vakata.storage={version:"0.1.6.1",set:function(a,c){return m(a),b[a]=c,l(),c},get:function(a,c){return m(a),a in b?b[a]:typeof c=="undefined"?null:c},del:function(a){return m(a),a in b?(delete b[a],b.__jstorage_meta&&typeof b.__jstorage_meta.TTL=="object"&&a in b.__jstorage_meta.TTL&&delete b.__jstorage_meta.TTL[a],l(),!0):!1},setTTL:function(a,c){var d=+(new Date);return m(a),c=Number(c)||0,a in b?(b.__jstorage_meta||(b.__jstorage_meta={}),b.__jstorage_meta.TTL||(b.__jstorage_meta.TTL={}),c>0?b.__jstorage_meta.TTL[a]=d+c:delete b.__jstorage_meta.TTL[a],l(),n(),!0):!1},flush:function(){return b={},l(),!0},storageObj:function(){function a(){}return a.prototype=b,new a},index:function(){var c=[],d;return a.each(b,function(a,b){a!=="__jstorage_meta"&&c.push(a)}),c},storageSize:function(){return e},currentBackend:function(){return h},storageAvailable:function(){return!!h}},j()}(jQuery),function(a){a.vakata.pretty_date={lang:{ago:"Ago",from:"From Now",now:"Just Now",minute:"Minute",minutes:"Minutes",hour:"Hour",hours:"Hours",day:"Day",days:"Days",week:"Week",weeks:"Weeks",month:"Month",months:"Months",year:"Year",years:"Years"},parse:function(b,c){b=new Date(b.replace(/-/g,"/").replace(/[TZ]/g," ").replace(/\+\d\d\:\d\d$/,"")),c=c||new Date;var d=a.vakata.pretty_date.lang,e=[[60,d.now],[3600,d.minute,d.minutes,60],[86400,d.hour,d.hours,3600],[604800,d.day,d.days,86400],[2628e3,d.week,d.weeks,604800],[31536e3,d.month,d.months,2628e3],[Infinity,d.year,d.years,31536e3]],f=(c-b+c.getTimezoneOffset()*6e4)/1e3,g=function(a,b){var c=.1;return a>=b&&a<=b*(1+c)?b:a},h;f<0?(f=Math.abs(f),h=" "+d.from):h=" "+d.ago;for(var i=0,j=e[0];e[i];j=e[++i])if(f<j[0]){if(i===0)return j[1];var k=Math.ceil(g(f,j[3])/j[3]);return k+" "+(k!==1?j[2]:j[1])+(i>0?h:"")}},init:function(b,c){a("time, [datetime]").vakata_pretty_date(c),setInterval(function(){a("time, [datetime]").vakata_pretty_date(c)},b||6e4)}},a.fn.vakata_pretty_date=function(b,c){return b||(b="%{s}"),this.each(function(){var d=jQuery(this),e=a.vakata.pretty_date.parse(d.attr("datetime"),c);e&&(e=b.replace("%{s}",e),d.html()!==e&&d.html(e))})}}(jQuery),function(a){a.vakata.selection={get:function(a){if(window.getSelection){if(a)return window.getSelection().toString();var b=window.getSelection(),c=b.getRangeAt&&b.rangeCount?b.getRangeAt(0):document.createRange(),d=document.createElement("div");return b.getRangeAt||(c.setStart(b.anchorNode,b.anchorOffset),c.setEnd(b.focusNode,b.focusOffset)),d.appendChild(c.cloneContents()),d.innerHTML}return document.selection?document.selection.createRange()[a?"text":"htmlText"]:""},elm_get:function(a){a=typeof a=="string"?document.getElementById(a):a,a.jquery&&(a=a.get(0));if("selectionStart"in a)return{start:a.selectionStart,end:a.selectionEnd,length:a.selectionEnd-a.selectionStart,text:a.value.substr(a.selectionStart,a.selectionEnd-a.selectionStart)};if(!document.selection)return{start:a.value.length,end:a.value.length,length:0,text:""};a.focus();var b=document.selection.createRange(),c=!1,d=!1,e,f,g,h;if(b&&b.parentElement()===a)return e=a.value.length,f=a.value.replace(/\r\n/g,"\n"),c=a.createTextRange(),c.moveToBookmark(b.getBookmark()),d=a.createTextRange(),d.collapse(!1),c.compareEndPoints("StartToEnd",d)>-1?g=h=e:(g=-c.moveStart("character",-e),g+=f.slice(0,g).split("\n").length-1,c.compareEndPoints("EndToEnd",d)>-1?h=e:(h=-c.moveEnd("character",-e),h+=f.slice(0,h).split("\n").length-1)),f=a.value.slice(g,h),{start:g,end:h,length:f.length,text:f}},elm_set:function(b,c,d){b=typeof b=="string"?document.getElementById(b):b,b.jquery&&(b=b.get(0));if("selectionStart"in b)b.focus(),b.selectionStart=c,b.selectionEnd=d;else if(document.selection){b.focus();var e=b.createTextRange(),f=b.value.replace(/\r\n/g,"\n");c-=f.slice(0,c).split("\n").length-1,d-=f.slice(0,d).split("\n").length-1,e.collapse(!0),e.moveEnd("character",d),e.moveStart("character",c),e.select()}return a.vakata.selection.elm_get(b)},elm_replace:function(b,c){b=typeof b=="string"?document.getElementById(b):b,b.jquery&&(b=b.get(0));var d=a.vakata.selection.elm_get(b),e=d.start,f=e+c.length;return b.value=b.value.substr(0,e)+c+b.value.substr(d.end,b.value.length),a.vakata.selection.elm_set(b,e,f),{start:e,end:f,length:c.length,text:c}},elm_get_caret:function(b){return a.vakata.selection.elm_get(b).end},elm_set_caret:function(b,c){return a.vakata.selection.elm_set(b,c,c)},elm_get_caret_position:function(b){b=typeof b=="string"?document.getElementById(b):b,b.jquery&&(b=b.get(0));var c=a.vakata.selection.elm_get_caret(b),d=b.value.substring(0,c).replace(/&/g,"&amp;").replace(/</ig,"&lt;").replace(/>/ig,"&gt;").replace(/\r/g,"").replace(/\t/g,"&#10;").replace(/\n/ig,"<br />"),e=a.vakata.get_scrollbar_width(),f=a(b).width(),g=a(b).height();return b.scrollHeight>g&&(f-=e),b.scrollWidth>f&&(g-=e),b=a(b),b=a("<div />").html(d).css({background:"red",width:f+"px",height:"auto",position:"absolute",left:"0px",top:"-10000px",fontSize:b.css("fontSize"),fontFamily:b.css("fontFamily"),fontWeight:b.css("fontWeight"),fontVariant:b.css("fontVariant"),fontStyle:b.css("fontStyle"),textTransform:b.css("textTransform"),lineHeight:b.css("lineHeight"),whiteSpace:"pre-wrap"}),b.append('<span class="caret">&nbsp;</span>').appendTo("body"),d=b.find("span.caret"),c=d.offset(),c.top=c.top+1e4+d.height(),b.remove(),c}}}(jQuery),function(a){a.fn.vakata_highlight=function(b){var c=this;return typeof b=="string"&&(b=[b]),a.isArray(b)&&(b={words:b}),b=a.extend(!0,{},{css_class:"vakata-highlight",words:[],color:"#99ccff"},b),b.words.length&&this.each(function(){var c=a(this);a.each(b.words,function(d,e){var f=!1;typeof b.color=="string"&&(f=b.color),a.isArray(b.color)&&typeof b.color[d]=="string"&&(f=b.color[d]),c.find(':vakata_icontains("'+e.replace(/\"/ig,"")+'")').filter("strong, span, li, p, h1, h2, h3, h4, h5, h6, div, u, em, i, dt, dd").contents().filter(function(){return this.nodeType===3}).each(function(){if(this.nodeValue.toLowerCase().indexOf(e.toLowerCase())>=0){this.nodeValue=this.nodeValue.replace(new RegExp("("+e.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")+")","ig"),"|{{{$1}}}|");var c=a(this).parent();c.html(c.html().replace(/\|\{\{\{/g,'<span class="'+b.css_class+" "+b.css_class+"-"+d+'" '+(typeof f=="string"?' style="background:'+f+';" ':"")+">").replace(/\}\}\}\|/g,"</span>"))}})})}),c}}(jQuery),define("libs/jquery/jstree/vakata",function(){}),function(){if(!jQuery)throw"jsTree: jQuery not included.";if(jQuery.jstree)return;(function(a){var b=[],c=-1,d={},e={};a.jstree={VERSION:"1.0.0",IS_IE6:jQuery.browser.msie&&parseInt(jQuery.browser.version,10)===6,IS_IE7:jQuery.browser.msie&&parseInt(jQuery.browser.version,10)===6,IS_FF2:jQuery.browser.mozilla&&parseFloat(jQuery.browser.version,10)<1.9,__construct:function(c){var e={},f={},g=[],h=[],i=0;return c=a(c),a.jstree._reference(c)&&a.jstree.__destruct(c),a.extend.apply(null,[!0,e].concat(Array.prototype.slice.call(arguments,1),c.data("jstree")||{})),g=a.isArray(e.plugins)?e.plugins:a.jstree.defaults.plugins.slice(),g=a.vakata.array_unique(g),e=a.extend(!0,{},a.jstree.defaults,e),a.each(d,function(b,c){b!=="core"&&a.inArray(b,g)===-1?(e[b]=null,delete e[b]):(h.push(b),f[b]={})}),e.plugins=h,i=parseInt(b.push({}),10)-1,c.data("jstree_instance_id",i).addClass("jstree jstree-"+i),this.data=f,this.get_index=function(){return i},this.get_container=function(){return c},this.get_container_ul=function(){return c.children("ul:eq(0)")},this.get_settings=function(b){return b?e:a.extend(!0,{},e)},this.__trigger=function(a,b){if(!a)return;b||(b={}),typeof a=="string"&&(a=a.replace(".jstree","")+".jstree"),b.inst=this,this.get_container().triggerHandler(a,b)},b[i]=this,a.each(h,function(a,c){d[c]&&d[c].__construct.apply(b[i])}),this.__trigger("__construct"),a.jstree._focus(i),this},__destruct:function(e){e=a.jstree._reference(e);if(!e)return!1;var f=e.get_settings(),g=e.get_index(),h=0;if(c===g){for(h in b)if(b.hasOwnProperty(h)&&h!==g){a.jstree._focus(h);break}c===g&&a.jstree._focus(!1)}return a.each(f.plugins,function(a,b){try{d[b].__destruct.apply(e)}catch(c){}}),e.__trigger("__destruct"),e.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree_instance_id").find("[class^='jstree']").andSelf().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")}),a(document).unbind(".jstree-"+g).undelegate(".jstree-"+g),delete b[g],!0},__call:function(b,c,d){b=a.jstree._reference(b);if(!b||!a.isFunction(b[c]))return;return b[c].apply(b,d)},_reference:function(c){if(b[c])return b[c];var d=a(c);return!d.length&&typeof c=="string"&&(d=a("#"+c)),d.length?b[d.closest(".jstree").data("jstree_instance_id")]||null:null},_focused:function(){return b[c]||null},_focus:function(d){return d===!1?(b[c].get_container().removeClass("jstree-focused"),b[c].__trigger("_defocus"),c=-1,!1):(d=a.jstree._reference(d),!d||d.get_index()===c?!1:(c!==-1&&(b[c].get_container().removeClass("jstree-focused"),b[c].__trigger("_defocus")),c=d.get_index(),d.get_container().addClass("jstree-focused"),d.__trigger("_focus"),!0))},plugin:function(b,c){c=a.extend({},{__construct:a.noop,__destuct:a.noop,_fn:{},defaults:!1},c),d[b]=c,a.jstree.defaults[b]=c.defaults,a.each(c._fn,function(c,d){d.plugin=b,d.old=e[c],e[c]=function(){var b,e=d,f=Array.prototype.slice.call(arguments),g=new a.Event("before.jstree"),h=this.get_settings(!0).plugins;do{if(e&&e.plugin&&a.inArray(e.plugin,h)!==-1)break;e=e.old}while(e);if(!e)return;if(c.indexOf("_")===0)b=e.apply(this,f);else{b=this.__trigger(g,{func:c,args:f,plugin:e.plugin});if(b===!1)return;b=e.apply(a.extend({},this,{__callback:function(a){return this.__trigger(c,{args:f,rslt:a,plugin:e.plugin}),a},__call_old:function(a){return e.old.apply(this,a?Array.prototype.slice.call(arguments,1):f)}}),f)}return b},e[c].old=d.old,e[c].plugin=b})},defaults:{plugins:[]}},a.fn.jstree=function(b){var c=typeof b=="string",d=Array.prototype.slice.call(arguments,1),e=this;return this.each(function(){if(c){var f=a.jstree.__call(this,b,d);if(typeof f!="undefined"&&(b.indexOf(!1)||f!==!0&&f!==!1))return e=f,!1}else c=new a.jstree.__construct(this,b)}),e},e=a.jstree.__construct.prototype,a.expr[":"].jstree=function(b,c,d){return typeof a(b).data("jstree_instance_id")!="undefined"}})(jQuery),function(a){var b=!1,c=!1;a(function(){a.jstree.SCROLLBAR_WIDTH=a.vakata.get_scrollbar_width()}),a.jstree.plugin("core",{__construct:function(){this.data.core.rtl=this.get_container().css("direction")==="rtl",this.data.core.rtl&&this.get_container().addClass("jstree-rtl"),this.data.core.ready=!1,this.get_container().bind("__construct.jstree",a.proxy(function(){setTimeout(a.proxy(function(){this&&this.init()},this),0)},this)).bind("before.jstree",a.proxy(function(a,b){if(!/^is_locked|unlock$/.test(b.func)&&this.data.core.locked)return a.stopImmediatePropagation(),!1},this)).bind("create_node.jstree",a.proxy(function(a,b){this.clean_node(b.rslt.obj)},this)).bind("load_node.jstree",a.proxy(function(a,b){this.clean_node(b.rslt.obj===-1?this.get_container_ul().children("li"):b.rslt.obj.find("> ul > li")),!this.data.core.ready&&!this.get_container_ul().find(".jstree-loading:eq(0)").length&&(this.data.core.ready=!0,this.__trigger("__ready"))},this)).bind("__loaded.jstree",a.proxy(function(a,b){b.inst.get_container_ul().children("li").each(function(){b.inst.correct_node(this)})},this)).bind("open_node.jstree",a.proxy(function(a,b){b.rslt.obj.find("> ul > li").each(function(){b.inst.correct_node(this)})},this)).bind("mousedown.jstree",a.proxy(function(){a.jstree._focus(this.get_index())},this)).bind("dblclick.jstree",function(){if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var a=window.getSelection();try{a.removeAllRanges(),a.collapse()}catch(b){}}}).delegate("li > ins","click.jstree",a.proxy(function(a){this.toggle_node(a.target)},this))},__destruct:function(){},defaults:{strings:!1},_fn:{_get_string:function(b){var c=this.get_settings(!0).core.strings;return a.isFunction(c)?c.call(this,b):c&&c[b]?c[b]:b},init:function(){this.data.core.original_container_html=this.get_container().find(" > ul > li").clone(!0),this.data.core.original_container_html.find("li").andSelf().contents().filter(function(){return this.nodeType===3&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.get_container().html("<ul><li class='jstree-loading'><a href='#'>"+this._get_string("Loading ...")+"</a></li></ul>"),this.clean_node(-1),this.data.core.li_height=this.get_container_ul().children("li:eq(0)").height()||18,this.load_node(-1,function(){this.__trigger("__loaded")})},lock:function(){this.data.core.locked=!0,this.get_container().addClass("jstree-locked"),this.__callback()},unlock:function(){this.data.core.locked=!1,this.get_container().removeClass("jstree-locked"),this.__callback()},is_locked:function(){return this.data.core.locked},get_node:function(b){var c=a(b,this.get_container());return c.is(".jstree")||b===-1?-1:(c=c.closest("li",this.get_container()),c.length?c:!1)},get_next:function(a,b){return a=this.get_node(a),a===-1?this.get_container_ul().children("li:eq(0)"):!a||!a.length?!1:b?a.nextAll("li").size()>0?a.nextAll("li:eq(0)"):!1:a.hasClass("jstree-open")?a.find("li:eq(0)"):a.nextAll("li").size()>0?a.nextAll("li:eq(0)"):a.parentsUntil(".jstree","li").next("li").eq(0)},get_prev:function(a,b){a=this.get_node(a);if(a===-1)return this.get_container().find("> ul > li:last-child");if(!a||!a.length)return!1;if(b)return a.prevAll("li").length>0?a.prevAll("li:eq(0)"):!1;if(a.prev("li").length){a=a.prev("li").eq(0);while(a.hasClass("jstree-open"))a=a.children("ul:eq(0)").children("li:last");return a}var c=a.parentsUntil(".jstree","li:eq(0)");return c.length?c:!1},get_parent:function(a){a=this.get_node(a);if(a===-1||!a||!a.length)return!1;var b=a.parentsUntil(".jstree","li:eq(0)");return b.length?b:-1},get_children:function(a){return a=this.get_node(a),a===-1?this.get_container_ul().children("li"):!a||!a.length?!1:a.find("> ul > li")},is_parent:function(a){return a=this.get_node(a),a&&a!==-1&&(a.find("> ul > li:eq(0)").length||a.hasClass("jstree-closed"))},is_loaded:function(a){return a=this.get_node(a),a&&(a===-1&&!this.get_container().find("> ul > li.jstree-loading").length||a!==-1&&!a.hasClass("jstree-loading")&&(a.find("> ul > li").length||a.hasClass("jstree-leaf")))},is_loading:function(a){return a=this.get_node(a),a&&(a===-1&&this.get_container().find("> ul > li.jstree-loading").length||a!==-1&&a.hasClass("jstree-loading"))},is_open:function(a){return a=this.get_node(a),a&&a!==-1&&a.hasClass("jstree-open")},is_closed:function(a){return a=this.get_node(a),a&&a!==-1&&a.hasClass("jstree-closed")},is_leaf:function(a){return a=this.get_node(a),a&&a!==-1&&a.hasClass("jstree-leaf")},load_node:function(b,c){return b=this.get_node(b),b?(b!==-1&&b.addClass("jstree-loading"),this._load_node(b,a.proxy(function(a){b!==-1&&b.removeClass("jstree-loading"),this.__callback({obj:b,status:a}),c&&c.call(this,b,a)},this)),!0):(c.call(this,b,!1),!1)},_load_node:function(a,b){a===-1&&this.get_container_ul().empty().append(this.data.core.original_container_html.clone(!0)),b.call(null,!0)},open_node:function(b,c,d){b=this.get_node(b);if(b===-1||!b||!b.length)return!1;if(!this.is_closed(b))return c&&c.call(this,b,!1),!1;if(!this.is_loaded(b))this.load_node(b,function(a,b){return b?this.open_node(a,c,d):c?c.call(this,a,!1):!1});else{var e=this;b.children("ul").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").children("ul").stop(!0,!0).slideDown(a.jstree.IS_IE6?0:d,function(){this.style.display="",e.__trigger("__after_open",{rslt:{obj:b}})}),c&&c.call(this,b,!0),this.__callback({obj:b})}},close_node:function(b,c){b=this.get_node(b);if(!b||!b.length||!this.is_open(b))return!1;var d=this;b.children("ul").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").children("ul").stop(!0,!0).slideUp(a.jstree.IS_IE6?0:c,function(){this.style.display="",d.__trigger("__after_close",{rslt:{obj:b}})}),this.__callback({obj:b})},toggle_node:function(a){if(this.is_closed(a))return this.open_node(a);if(this.is_open(a))return this.close_node(a)},open_all:function(a,b,c){a=a?this.get_node(a):-1,a=!a||a===-1?this.get_container_ul():a,c=c||a;var d=this;a=this.is_closed(a)?a.find("li.jstree-closed").andSelf():a.find("li.jstree-closed"),a.each(function(){d.open_node(this,d.is_loaded(this)?!1:function(a){this.open_all(a,b,c)},b||0)}),c.find("li.jstree-closed").length===0&&this.__callback({obj:c})},close_all:function(a,b){a=a?this._get_node(a):-1;var c=!a||a===-1?this.get_container_ul():a,d=this;c=this.is_open(c)?c.find("li.jstree-open").andSelf():c.find("li.jstree-open"),c.each(function(){d.close_node(this,b||0)}),this.__callback({obj:a})},clean_node:function(b){b=this.get_node(b),b=!b||b===-1?this.get_container().find("li"):b.find("li").andSelf();var c=this;return b.each(function(){var b=a(this),d=b.data("jstree"),e=d&&d.opened||b.hasClass("jstree-open")?"open":d&&d.closed||b.children("ul").length?"closed":"leaf";d&&d.opened&&delete d.opened,d&&d.closed&&delete d.closed,b.removeClass("jstree-open jstree-closed jstree-leaf jstree-last"),b.children("a").length?a.trim(b.children("a").attr("href"))||b.children("a").attr("href","#"):(b.contents().filter(function(){return this.nodeType===3||this.tagName!=="UL"}).wrapAll('<a href="#"></a>'),b.children("a").html(b.children("a").html().replace(/[\s\t\n]+$/,""))),b.children("ins.jstree-ocl").length||b.prepend("<ins class='jstree-icon jstree-ocl'>&#160;</ins>"),b.is(":last-child")&&b.addClass("jstree-last");switch(e){case"leaf":b.addClass("jstree-leaf");break;case"closed":b.addClass("jstree-open"),c.close_node(b,0);break;case"open":b.addClass("jstree-closed"),c.open_node(b,!1,0)}})},correct_node:function(b,c){return b=this.get_node(b),!b||b===-1&&!c?!1:(b===-1?b=this.get_container().find("li"):b=c?b.find("li").andSelf():b,b.each(function(){var b=a(this);switch(!0){case b.hasClass("jstree-open")&&!b.find("> ul > li").length:b.removeClass("jstree-open").addClass("jstree-leaf").children("ul").remove();break;case b.hasClass("jstree-leaf")&&!!b.find("> ul > li").length:b.removeClass("jstree-leaf").addClass("jstree-closed")}b[b.is(":last-child")?"addClass":"removeClass"]("jstree-last")}),b)},scroll_to_node:function(b){var c=this.get_container()[0],d;if(c.scrollHeight>c.offsetHeight){b=this.get_node(b);if(!b||b===-1||!b.length||!b.is(":visible"))return;d=b.offset().top-this.get_container().offset().top,d<0&&(c.scrollTop=c.scrollTop+d-1),d+this.data.core.li_height+(c.scrollWidth>c.offsetWidth?a.jstree.SCROLLBAR_WIDTH:0)>c.offsetHeight&&(c.scrollTop=c.scrollTop+(d-c.offsetHeight+this.data.core.li_height+1+(c.scrollWidth>c.offsetWidth?a.jstree.SCROLLBAR_WIDTH:0)))}},get_state:function(){var a={open:[],scroll:{left:this.get_container().scrollLeft(),top:this.get_container().scrollTop()}};return this.get_container_ul().find(".jstree-open").each(function(){this.id&&a.open.push(this.id)}),a},set_state:function(b,c){if(b){if(a.isArray(b.open)){var d=!0,e=this;return a.each(b.open.concat([]),function(c,f){f=document.getElementById(f),f&&(e.is_loaded(f)?(e.is_closed(f)&&e.open_node(f,!1,0),a.vakata.array_remove(b.open,c)):(e.is_loading(f)||e.open_node(f,a.proxy(function(){this.set_state(b)},e),0),d=!1))}),d&&(delete b.open,this.set_state(b,c)),!1}return b.scroll?(b.scroll&&typeof b.scroll.left!="undefined"&&this.get_container().scrollLeft(b.scroll.left),b.scroll&&typeof b.scroll.top!="undefined"&&this.get_container().scrollTop(b.scroll.top),delete b.scroll,delete b.open,this.set_state(b,c),!1):a.isEmptyObject(b)?(c&&c.call(this),this.__callback(),!1):!0}return!1},refresh:function(){this.data.core.state=this.get_state(),this.load_node(-1,function(b,c){c&&this.set_state(a.extend(!0,{},this.data.core.state),function(){this.__trigger("refresh")}),this.data.core.state=null})},get_text:function(a,b){return a=this.get_node(a),!a||a===-1||!a.length?!1:(a=a.children("a:eq(0)").clone(),a.children(".jstree-icon").remove(),a[b?"text":"html"]())},set_text:function(a,b){a=this.get_node(a);if(!a||a===-1||!a.length)return!1;a=a.children("a:eq(0)");var c=a.children("INS").clone();return a.html(b).prepend(c),this.__callback({obj:a,text:b}),!0},parse_json:function(b){var c,d,e,f;if(a.isArray(b))return e=a("<ul />"),f=this,a.each(b,function(a,b){e.append(f.parse_json(b))}),e;typeof b=="undefined"&&(b={}),typeof b=="string"&&(b={title:b}),b.li_attr||(b.li_attr={}),b.a_attr||(b.a_attr={}),b.a_attr.href||(b.a_attr.href="#"),b.title||(b.title=this._get_string("New node")),c=a("<li />").attr(b.li_attr),d=a("<a />").attr(b.a_attr).html(b.title),e=a("<ul />"),b.data&&!a.isEmptyObject(b.data)&&c.data(b.data);if(b.children===!0||a.isArray(b.children)||c.data("jstree")&&a.isArray(c.data("jstree").children))c.data("jstree")||c.data("jstree",{}),c.data("jstree").closed=!0;return c.append(d),a.isArray(b.children)&&(a.each(b.children,a.proxy(function(a,b){e.append(this.parse_json(b))},this)),c.append(e)),c},get_json:function(b,c){b=typeof b!="undefined"?this.get_node(b):!1,!c&&(!b||b===-1)&&(b=this.get_container_ul().children("li"));var d,e,f={},g={},h={};return!b||!b.length?!1:b.length>1||!c?(d=[],e=this,b.each(function(){d.push(e.get_json(a(this),!0))}),d):(h=a.vakata.attributes(b,!0),a.each(h,function(b,c){if(b==="id")return f[b]=c,!0;c=a.trim(c.replace(/\bjstree[^ ]*/ig,"").replace(/\s+$/ig," ")),c.length&&(f[b]=c)}),h=a.vakata.attributes(b.children("a"),!0),a.each(h,function(b,c){if(b==="id")return g[b]=c,!0;c=a.trim(c.replace(/\bjstree[^ ]*/ig,"").replace(/\s+$/ig," ")),c.length&&(g[b]=c)}),d={title:this.get_text(b),data:a.extend(!0,{},b.data()||{}),children:!1,li_attr:f,a_attr:g},d.data.jstree||(d.data.jstree={}),this.is_open(b)&&(d.data.jstree.opened=!0),this.is_closed(b)&&(d.data.jstree.closed=!0),b=b.find("> ul > li"),b.length&&(d.children=[],e=this,b.each(function(){d.children.push(e.get_json(a(this),!0))})),d)},create_node:function(a,b,c,d,e){a=this.get_node(a),c=typeof c=="undefined"?"last":c;if(a!==-1&&!a.length)return!1;if(!c.match(/^(before|after)$/)&&!e&&!this.is_loaded(a))return this.load_node(a,function(){this.create_node(a,b,c,d,!0)});var f=this.parse_json(b),g=a===-1?this.get_container():a;a===-1&&(c==="before"&&(c="first"),c==="after"&&(c="last"));switch(c){case"before":c=a.index(),a=this.get_parent(a);break;case"after":c=a.index()+1,a=this.get_parent(a);break;case"inside":case"first":c=0;break;case"last":c=g.children("ul").children("li").length;break;default:c||(c=0)}return this.check("create_node",f,a,c)?(g=a===-1?this.get_container():a,g.children("ul").length||g.append("<ul />"),g.children("ul").children("li").eq(c).length?g.children("ul").children("li").eq(c).before(f):g.children("ul").append(f),this.correct_node(a,!0),d&&d.call(this,f),this.__callback({obj:f,parent:a,position:f.index()}),f):!1},rename_node:function(a,b){a=this.get_node(a);var c=this.get_text(a);if(!this.check("rename_node",a,this.get_parent(a),b))return!1;a&&a.length&&(this.set_text(a,b),this.__callback({obj:a,title:b,old:c}))},delete_node:function(a){a=this.get_node(a);if(!a||a===-1||!a.length)return!1;var b=this.get_parent(a),c=this.get_prev(a);return this.check("delete_node",a,b,a.index())?(a=a.detach(),this.correct_node(b),this.correct_node(c),this.__callback({obj:a,prev:c,parent:b}),a):!1},check:function(b,c,d,e){var f=b.match(/^move_node|copy_node|create_node$/i)?d:c;f=f===-1?this.get_container().data("jstree"):f.data("jstree");if(f&&f.functions&&f.functions[b]){f=f.functions[b],a.isFunction(f)&&(f=f.call(this,b,c,d,e));if(f===!1)return!1}switch(b){case"create_node":break;case"rename_node":break;case"move_node":f=d===-1?this.get_container():d,f=f.children("ul").children("li");if(f.length&&f.index(c)!==-1&&(e===c.index()||e===c.index()+1))return!1;if(d!==-1&&d.parentsUntil(".jstree","li").andSelf().index(c)!==-1)return!1;break;case"copy_node":break;case"delete_node":}return!0},move_node:function(b,c,d,e,f){b=this.get_node(b),c=this.get_node(c),d=typeof d=="undefined"?0:d;if(!b||b===-1||!b.length)return!1;if(c!==-1&&!c.length)return!1;if(!d.toString().match(/^(before|after)$/)&&!f&&!this.is_loaded(c))return this.load_node(c,function(){this.move_node(b,c,d,e,!0)});var g=this.get_parent(b),h=!d.toString().match(/^(before|after)$/)||c===-1?c:this.get_parent(c),i=a.jstree._reference(b),j=c===-1?this:a.jstree._reference(c),k=i.get_index()!==j.get_index();h===-1&&(c=j.get_container(),d==="before"&&(d="first"),d==="after"&&(d="last"));switch(d){case"before":d=c.index();break;case"after":d=c.index()+1;break;case"inside":case"first":d=0;break;case"last":d=c.children("ul").children("li").length;break;default:d||(d=0)}return this.check("move_node",b,h,d)?(c.children("ul").length||c.append("<ul />"),c.children("ul").children("li").eq(d).length?c.children("ul").children("li").eq(d).before(b):c.children("ul").append(b),k&&(b.find(".jstree-icon, .jstree-ocl").remove(),this.clean_node(b)),i.correct_node(g,!0),j.correct_node(h,!0),e&&e.call(this,b,h,b.index()),this.__callback({obj:b,parent:h,position:b.index(),old_parent:g,is_multi:k,old_instance:i,new_instance:j}),!0):!1},copy_node:function(b,c,d,e,f){b=this.get_node(b),c=this.get_node(c),d=typeof d=="undefined"?"last":d;if(!b||b===-1||!b.length)return!1;if(c!==-1&&!c.length)return!1;if(!d.toString().match(/^(before|after)$/)&&!f&&!this.is_loaded(c))return this.load_node(c,function(){this.copy_node(b,c,d,e,!0)});var g=b,h=this.get_parent(b),i=!d.toString().match(/^(before|after)$/)||c===-1?c:this.get_parent(c),j=a.jstree._reference(b),k=c===-1?this:a.jstree._reference(c),l=j.get_index()!==k.get_index();b=b.clone(!0),b.find("*[id]").andSelf().each(function(){this.id&&(this.id="copy_"+this.id)}),i===-1&&(c=k.get_container(),d==="before"&&(d="first"),d==="after"&&(d="last"));switch(d){case"before":d=c.index();break;case"after":d=c.index()+1;break;case"inside":case"first":d=0;break;case"last":d=c.children("ul").children("li").length;break;default:d||(d=0)}return this.check("copy_node",g,i,d)?(c.children("ul").length||c.append("<ul />"),c.children("ul").children("li").eq(d).length?c.children("ul").children("li").eq(d).before(b):c.children("ul").append(b),l&&b.find(".jstree-icon, .jstree-ocl").remove(),k.clean_node(b),k.correct_node(i,!0),e&&e.call(this,b,i,b.index(),g),this.__callback({obj:b,parent:i,old_parent:h,position:b.index(),original:g,is_multi:l,old_instance:j,new_instance:k}),!0):!1},cut:function(a){a=this.get_node(a);if(!a||a===-1||!a.length)return!1;b=a,c="move_node",this.__callback({obj:a})},copy:function(a){a=this.get_node(a);if(!a||a===-1||!a.length)return!1;b=a,c="copy_node",this.__callback({obj:a})},can_paste:function(){return c!==!1&&b!==!1},paste:function(a){a=this.get_node(a);if(!a||!c||!c.match(/^(copy_node|move_node)$/)||!b)return!1;this[c](b,a),this.__callback({obj:a,nodes:b,mode:c}),b=!1,c=!1},edit:function(b,c){b=this.get_node(b);if(!b||b===-1||!b.length)return!1;b.parentsUntil(".jstree",".jstree-closed").each(a.proxy(function(a,b){this.open_node(b,!1,0)},this));var d=this.data.core.rtl,e=this.get_container().width(),f=b.children("a:eq(0)"),g=b.children("ins"),h=f.children("ins"),i=g.width()*g.length,j=h.width()*h.length,k=typeof c=="string"?c:this.get_text(b),l=a("<div />",{css:{position:"absolute",top:"-200px",left:d?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),m=b.css("position","relative").append(a("<input />",{value:k,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:d?"auto":i+j+4+"px",right:d?i+j+4+"px":"auto",top:"0px",height:this.data.core.li_height-2+"px",lineHeight:this.data.core.li_height-2+"px",width:"150px"},blur:a.proxy(function(){var a=b.children(".jstree-rename-input"),c=a.val();c===""&&(c=k),l.remove(),a.remove(),this.rename_node(b,c),b.css("position","")},this),keyup:function(a){var b=a.keyCode||a.which;if(b===27){this.value=k,this.blur();return}if(b===13){this.blur();return}m.width(Math.min(l.text("pW"+this.value).width(),e))},keypress:function(a){var b=a.keyCode||a.which;if(b===13)return!1}})).children(".jstree-rename-input"),n={fontFamily:f.css("fontFamily")||"",fontSize:f.css("fontSize")||"",fontWeight:f.css("fontWeight")||"",fontStyle:f.css("fontStyle")||"",fontStretch:f.css("fontStretch")||"",fontVariant:f.css("fontVariant")||"",letterSpacing:f.css("letterSpacing")||"",wordSpacing:f.css("wordSpacing")||""};this.set_text(b,""),l.css(n),m.css(n).width(Math.min(l.text("pW"+m[0].value).width(),e))[0].select()}}}),a(function(){var b=".jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } .jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } .jstree-rtl li { margin-left:0; margin-right:18px; } .jstree > ul > li { margin-left:0px; } .jstree-rtl > ul > li { margin-right:0px; } .jstree .jstree-icon { display:inline-block; text-decoration:none; margin:0; padding:0; vertical-align:top; } .jstree .jstree-ocl { width:18px; height:18px; text-align:center; line-height:18px; cursor:default; vertical-align:top; } .jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; padding:1px 2px; margin:0; } .jstree a:focus { outline: none; } li.jstree-open > ul { display:block; } li.jstree-closed > ul { display:none; } ";if(a.jstree.IS_IE6){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(c){}b+=".jstree li { height:18px; margin-left:0; margin-right:0; } .jstree li li { margin-left:18px; } .jstree-rtl li li { margin-left:0px; margin-right:18px; } li.jstree-open ul { display:block; } li.jstree-closed ul { display:none !important; } .jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } "}a.jstree.IS_IE7&&(b+=".jstree li a { border-width:0 !important; padding:0px 2px !important; } "),a.jstree.IS_FF2&&(b+=".jstree .jstree-icon { display:-moz-inline-box; } .jstree li { line-height:12px; } .jstree a { display:-moz-inline-box; } "),a.vakata.css.add_sheet({str:b,title:"jstree"})})}(jQuery)}(),define("libs/jquery/jstree/jstree",function(){}),function(a){a.jstree.plugin("sort",{__construct:function(){this.get_container().bind("load_node.jstree",a.proxy(function(a,b){var c=this.get_node(b.rslt.obj);c=c===-1?this.get_container_ul():c.children("ul"),this._sort(c,!0)},this)).bind("rename_node.jstree create_node.jstree",a.proxy(function(a,b){this._sort(b.rslt.obj.parent(),!1)},this)).bind("move_node.jstree copy_node.jstree",a.proxy(function(a,b){var c=b.rslt.parent===-1?this.get_container_ul():b.rslt.parent.children("ul");this._sort(c,!1)},this))},defaults:function(a,b){return this.get_text(a,!0)>this.get_text(b,!0)?1:-1},_fn:{_sort:function(b,c){var d=this.get_settings(!0).sort,e=this;b.append(a.makeArray(b.children("li")).sort(a.proxy(d,e))),b.children("li").each(function(){e.correct_node(this,!1)}),c&&(b.find("> li > ul").each(function(){e._sort(a(this))}),e.correct_node(b.children("li"),!0))}}}),a.jstree.defaults.plugins.push("sort")}(jQuery),define("libs/jquery/jstree/jstree.sort",function(){}),function(a){a.jstree.plugin("ui",{__construct:function(){this.data.ui.selected=a(),this.data.ui.hovered=null,this.data.ui.last_selected=!1,this.get_container().delegate("a","click.jstree",a.proxy(function(a){a.preventDefault(),a.currentTarget.blur();var b=this.get_settings(!0).ui,c=this.get_node(a.currentTarget),d=this.is_selected(c),e=b.select_multiple_modifier==="on"||b.select_multiple_modifier!==!1&&a&&a[b.select_multiple_modifier+"Key"],f=b.select_multiple_modifier==="on"||b.select_range_modifier!==!1&&a&&a[b.select_range_modifier+"Key"]&&this.data.ui.last_selected&&this.data.ui.last_selected[0]!==c[0]&&this.data.ui.last_selected.parent()[0]===c.parent()[0];switch(!0){case f&&this.data.ui.last_selected!==!1:this.select_range(c);break;case f&&this.data.ui.last_selected===!1:this.select_one(c);break;case d&&e:this.deselect_node(c);break;default:this.select_one(c,e)}},this)).delegate("a","mouseenter.jstree",a.proxy(function(a){this.hover_node(a.target)},this)).delegate("a","mouseleave.jstree",a.proxy(function(a){this.dehover_node(a.target)},this)).bind("delete_node.jstree",a.proxy(function(b,c){var d=this.get_node(c.rslt.obj),e=d&&d.length?d.find("a.jstree-clicked"):a(),f=this;e.each(function(){f.deselect_node(this)})},this)).bind("move_node.jstree",a.proxy(function(a,b){b.rslt.cy&&b.rslt.oc.find("a.jstree-clicked").removeClass("jstree-clicked")},this))},defaults:{select_multiple_modifier:"ctrl",select_range_modifier:"shift",disable_nested_selection:!0},_fn:{get_node:function(a,b){return typeof a=="undefined"||a===null?b?this.data.ui.selected:this.data.ui.last_selected:this.__call_old()},hover_node:function(a){a=this.get_node(a);if(!a||!a.length||this.is_loading(a))return!1;a.hasClass("jstree-hovered")||this.dehover_node(),this.data.ui.hovered=a.children("a").addClass("jstree-hovered").parent(),this.scroll_to_node(a),this.__callback({obj:a})},dehover_node:function(){var a=this.data.ui.hovered,b;if(!a||!a.length)return!1;b=a.children("a").removeClass("jstree-hovered").parent(),this.data.ui.hovered[0]===b[0]&&(this.data.ui.hovered=null),this.__callback({obj:a})},select_node:function(a){var b=this;a=this.get_node(a);if(a===-1||!a||!a.length||this.is_loading(a))return!1;a.children("a").addClass("jstree-clicked"),this.data.ui.last_selected=a,this.data.ui.selected=this.data.ui.selected.add(a),a.parents(".jstree-closed").each(function(){b.open_node(this,!1,0)}),this.__callback({obj:a})},deselect_node:function(a){a=this.get_node(a);if(!a||!a.length)return!1;this.is_selected(a)&&(a.children("a").removeClass("jstree-clicked"),this.data.ui.selected=this.data.ui.selected.not(a),this.data.ui.last_selected.get(0)===a.get(0)&&(this.data.ui.last_selected=this.data.ui.selected.eq(0)),this.__callback({obj:a}))},deselect_all:function(b){var c=b?a(b).find("a.jstree-clicked").parent():this.get_container().find("a.jstree-clicked").parent();c.children("a.jstree-clicked").removeClass("jstree-clicked"),this.data.ui.selected=a(),this.data.ui.last_selected=!1,this.__callback({obj:c})},is_selected:function(a){return this.data.ui.selected.index(this.get_node(a))>=0},get_selected:function(b){return b?a(b).find("a.jstree-clicked").parent():this.data.ui.selected},select_range:function(a,b,c){var d=this,e,f;return a=this.get_node(a),b||(f=!0,b=this.data.ui.last_selected),b=this.get_node(b),a===-1||!a||!a.length||this.is_loading(a)?!1:b===-1||!b||!b.length||this.is_loading(b)?!1:(c||this.deselect_all(),e=a.index()<b.index(),b.addClass("jstree-last-selected"),a=a[e?"nextUntil":"prevUntil"](".jstree-last-selected").andSelf().add(".jstree-last-selected"),b.removeClass("jstree-last-selected"),e||(a=a.vakata_reverse()),a.length?(a.each(function(){d.select_node(this)}),f&&(this.data.ui.last_selected=b),this.__callback({obj:a}),!0):!1)},select_one:function(a,b){a=this.get_node(a);if(a===-1||!a||!a.length||this.is_loading(a))return!1;if(!b)this.deselect_all();else if(this.get_settings(!0).ui.disable_nested_selection&&(a.parentsUntil(".jstree","li").children("a.jstree-clicked:eq(0)").length||a.children("ul").find("a.jstree-clicked:eq(0)").length))return!1;return this.select_node(a),this.__callback({obj:a}),!0},clean_node:function(b){b=this.__call_old();var c=this;return b.each(function(){var b=a(this),d=b.data("jstree");b.find(".jstree-clicked").removeClass("jstree-clicked"),d&&d.selected&&(c.select_node(b),delete d.selected)})},get_state:function(){var a=this.__call_old();return a.selected=[],this.data.ui.selected.each(function(){a.selected.push(this.id)}),a},set_state:function(b,c){if(this.__call_old()){if(b.selected){var d=this;return this.deselect_all(),a.each(b.selected,function(a,b){d.select_node(document.getElementById(b))}),delete b.selected,this.set_state(b,c),!1}return!0}return!1},get_json:function(a,b){var c=this.__call_old();return b&&this.is_selected(a)&&(c.data.jstree.selected=!0),c}}}),a.jstree.defaults.plugins.push("ui")}(jQuery),define("libs/jquery/jstree/jstree.ui",function(){}),function(a){var b=[];a.jstree.THEMES_DIR=!1,a.jstree.plugin("themes",{__construct:function(){this.get_container().bind("__construct.jstree",a.proxy(function(){var a=this.get_settings(!0).themes;this.data.themes.dots=a.dots,this.data.themes.icons=a.icons,a.url===!1&&a.theme===!1&&(a.theme=this.data.core.rtl?"default-rtl":"default"),this.set_theme(a.theme,a.url),this[this.data.themes.dots?"show_dots":"hide_dots"](),this[this.data.themes.icons?"show_icons":"hide_icons"]()},this))},defaults:{theme:!1,url:!1,dots:!0,icons:!0},_fn:{set_theme:function(c,d){if(!c)return!1;d||(d=a.jstree.THEMES_DIR+c+"/style.css"),a.inArray(d,b)===-1&&(a.vakata.css.add_sheet({url:d}),b.push(d)),this.data.themes.theme!==c&&(this.get_container().removeClass("jstree-"+this.data.themes.theme),this.data.themes.theme=c),this.get_container().addClass("jstree-"+c),this.__callback(c)},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=!0,this.get_container().children("ul").removeClass("jstree-no-dots")},hide_dots:function(){this.data.themes.dots=!1,this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){this.data.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this.data.themes.icons=!0,this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=!1,this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){this.data.themes.icons?this.hide_icons():this.show_icons()},set_icon:function(a,b){return a=this.get_node(a),!a||a===-1||!a.length?!1:(a=a.find("> a > .jstree-themeicon"),b===!1?this.hide_icon(a):b.indexOf("/")===-1?a.addClass(b).attr("rel",b):a.css("background","url('"+b+"') center center no-repeat").attr("rel",b),!0)},get_icon:function(a){return a=this.get_node(a),!a||a===-1||!a.length?null:(a=a.find("> a > .jstree-themeicon"),a.hasClass("jstree-themeicon-hidden")?!1:(a=a.attr("rel"),a&&a.length?a:null))},hide_icon:function(a){return a=this.get_node(a),!a||a===-1||!a.length?!1:(a.find("> a > .jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(a){return a=this.get_node(a),!a||a===-1||!a.length?!1:(a.find("> a > .jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)},clean_node:function(b){b=this.__call_old();var c=this;return b.each(function(){var b=a(this),d=b.data("jstree");b.find("> a > ins.jstree-themeicon").length||b.children("a").prepend("<ins class='jstree-icon jstree-themeicon'>&#160;</ins>"),d&&typeof d.icon!="undefined"&&(c.set_icon(b,d.icon),delete d.icon)})},get_state:function(){var a=this.__call_old();return a.themes={theme:this.get_theme(),icons:this.data.themes.icons,dots:this.data.themes.dots},a},set_state:function(a,b){return this.__call_old()?a.themes?(a.themes.theme&&this.set_theme(a.themes.theme),typeof a.themes.dots!="undefined"&&this[a.themes.dots?"show_dots":"hide_dots"](),typeof a.themes.icons!="undefined"&&this[a.themes.icons?"show_icons":"hide_icons"](),delete a.themes,this.set_state(a,b),!1):!0:!1},get_json:function(a,b){var c=this.__call_old(),d;return b&&(d=this.get_icon(a),typeof d!="undefined"&&d!==null&&(c.data.jstree.icon=d)),c}}}),a(function(){a.jstree.THEMES_DIR===!1&&a("script").each(function(){if(this.src.toString().match(/jstree[^\/]*?\.js(\?.*)?$/))return a.jstree.THEMES_DIR=this.src.toString().replace(/jstree[^\/]*?\.js(\?.*)?$/,"")+"themes/",!1}),a.jstree.THEMES_DIR===!1&&(a.jstree.THEMES_DIR="themes/");var b=".jstree a { text-decoration:none; } .jstree a > .jstree-themeicon { height:16px; width:16px; margin-right:3px; } .jstree-rtl a > .jstree-themeicon { margin-left:3px; margin-right:0; } .jstree .jstree-no-icons .jstree-themeicon, .jstree .jstree-themeicon-hidden { display:none; } ";a.jstree.IS_IE6&&(b+=".jstree li a .jstree-themeicon { height:16px; width:16px; margin-right:3px; } .jstree-rtl li a .jstree-themeicon { margin-right:0px; margin-left:3px; } "),a.vakata.css.add_sheet({str:b,title:"jstree"})}),a.jstree.defaults.plugins.push("themes")}(jQuery),define("libs/jquery/jstree/jstree.themes",function(){}),define("app/config/demo-queries",["app/util/utils"],function(a){var b=[{name:"examples/summer games medals/Medals By Country",code:"data := //summer_games/london_medals\nbyCountry := solve 'Country\n  {country: 'Country,\n   total: sum(data.Total where data.Country = 'Country)}\nbyCountry"},{name:"examples/summer games medals/Attributes By Sport",code:"data := //summer_games/london_medals\n solve 'Sport \n  data' := data where data.Sport = 'Sport\n  {sport: 'Sport, \n  aveAge: mean(data'.Age),\n  aveWeight: mean(data'.Weight ),\n  aveHeight: mean(data'.HeightIncm)}"},{name:"examples/summer games medals/Age Distribution Of Medals",code:"london := //summer_games/london_medals\nsolve 'age\n  {age: 'age, medalWinnersByAge: count(london where london.Age = 'age)}"},{name:"examples/summer games medals/Correlation of Letters in Name and Medals",code:"data := //summer_games/london_medals \nbyCountry := solve 'Country\n  data' := data where data.Country = 'Country\n  {country: 'Country,\n  gold: sum(data'.G ),\n  silver: sum(data'.S ),\n  bronze: sum(data'.B ),\n  total: sum(data'.Total ),\naveLettersInName: mean(std::string::length(data'.Name))}\n\nstd::stats::corr(byCountry.aveLettersInName,byCountry.total)"},{name:"examples/summer games medals/Percentage of Female Athletes by Country",code:"data := //summer_games/london_medals\nbyCountry := solve 'Country\n data' := data where data.Country = 'Country\n  {country: 'Country,\n  percentWomen: sum(data'.Total where data'.Sex = \"F\")\n  /sum(data'.Total ),\n  total: sum(data'.Total)}\n\nfiltered := byCountry where byCountry.total >=5\n\nfiltered where std::stats::rank(neg filtered.percentWomen) <= 5"},{name:"examples/summer games athletes/Athletes By Country",code:"data := //summer_games/athletes \nsolve 'Countryname \n  {CountryName: 'Countryname, count: count(data where data.Countryname = 'Countryname)}"},{name:"examples/summer games athletes/Athletes By Sport",code:"data := //summer_games/athletes \nsolve 'Sportname \n  {Sportname: 'Sportname, count: count(data where data.Sportname = 'Sportname)}"},{name:"examples/summer games athletes/Top US Sports - Men",code:'data := //summer_games/athletes \nUSMaleAthletes := data where data.Countryname = "US" & data.Sex = "M" \nbySport := solve \'Sportname \n  {sport: \'Sportname, numberOfAthletes: count(USMaleAthletes where USMaleAthletes.Sportname = \'Sportname)} \nrank := std::stats::rank(bySport.numberOfAthletes) \nbySport where rank > max(rank) - 10'},{name:"examples/summer games athletes/Top US Sports - Women",code:'data := //summer_games/athletes \nUSFemaleAthletes := data where data.Countryname = "US" & data.Sex = "F" \nbySport := solve \'Sportname \n  {sport: \'Sportname, numberOfAthletes: count(USFemaleAthletes where USFemaleAthletes.Sportname = \'Sportname)} \nrank := std::stats::rank(bySport.numberOfAthletes) \nbySport where rank > max(rank) - 10'},{name:"examples/summer games athletes/Percentage of Female Athletes",code:"data := //summer_games/athletes \npercentageFemaleAthletesByCountry := solve 'Countryname \n  {country: 'Countryname,\n  percentFemale: 100*count(data where data.Sex = \"F\" & data.Countryname = 'Countryname)/count(data where data.Countryname = 'Countryname)}\n \nrank := std::stats::rank(neg percentageFemaleAthletesByCountry.percentFemale)\n \npercentageFemaleAthletesByCountry where rank <=5"},{name:"examples/tutorial/Top Five Products",code:"data := //tutorial/transactions\n\nsalesByProduct := solve 'product\n  {product: 'product,\n  sales: sum(data.total where data.ApocalypseProducts = 'product)}\nrank := std::stats::rank(neg salesByProduct.sales)\n\nsalesByProduct where rank <= 5"},{name:"examples/tutorial/Top Five Products Plus Other",code:"data := //tutorial/transactions\n\nsalesByProduct := solve 'ApocalypseProducts\n  {product: 'ApocalypseProducts,\n  sales: sum(data.total where data.ApocalypseProducts = 'ApocalypseProducts)}\nrank := std::stats::rank(neg salesByProduct.sales)\notherProducts := {product: \"other\",sales: sum(salesByProduct.sales where rank > 5)}\n\ntop5Products := salesByProduct where rank <= 5\nallProducts := (new otherProducts) union top5Products \nallProducts"},{name:"examples/tutorial/Quantity By Month",code:"data := //tutorial/transactions\ntoday := 233\ndataWithMonthAndYearAndDay := data with\n  {month: std::time::monthOfYear(data.timeStamp),\n  year: std::time::year(data.timeStamp),\n  day: std::time::dayOfYear(data.timeStamp)}\n\nquantityByMonth := solve 'month\n monthData := dataWithMonthAndYearAndDay where dataWithMonthAndYearAndDay.month = 'month\n  {month : 'month,\n  quantity: sum(monthData.quantity),\n  year : monthData.year,\n  day : monthData.day}\n\ndistinct({quantity: quantityByMonth.quantity, month: quantityByMonth.month} where\n  quantityByMonth.year=2012 & quantityByMonth.day < today)"},{name:"examples/tutorial/Sales By Source at a Particular Hour",code:"data := //tutorial/transactions\ndataWithHour := data with {hour: std::time::hourOfDay(data.timeStamp)}\n\naveSalesByHour :=solve 'source\n  {source : 'source,\n  averageSales: sum(dataWithHour.total where dataWithHour.source ='source),\n  hour : dataWithHour.hour}\n\n distinct(aveSalesByHour where aveSalesByHour.hour = 13)"},{name:"examples/clickstream/Clicks By Gender And Week",code:"import std::time::*\n\n clicks := //clicks\n clicks' := clicks with {week: weekOfYear(clicks.timeStamp)}\n\nclicksByGenderAndWeek := solve 'gender, 'week\n  {week: 'week,\n  gender: 'gender,\n  clicks: count(clicks' where clicks'.customer.gender = 'gender & clicks'.week = 'week)}\n clicksByGenderAndWeek"},{name:"examples/clickstream/Clicks By Referral",code:"clicks := //clicks\n\nclicksByReferral := solve 'referral\n  {referral: 'referral,\n  clicks: count(clicks where clicks.marketing.referral = 'referral)}\n\nclicksByReferral"}],c={};for(var d=0;d<b.length;d++){var e=b[d].name;c[a.normalizeQueryName(e)]={name:e,code:b[d].code}}return c}),define("app/support",["app/util/ui"],function(a){return function(b){var c,d=0,e,f=a.tabs(b.append('<div class="pg-support-tabs"><ul></ul></div>').find(".pg-support-tabs").css({padding:0,margin:0,border:0}),{tabTemplate:"<li><a href='#{href}'>#{label}</a></li>",add:function(a,b){$(b.panel).css({padding:0,overflow:"hidden"}),e(b.panel)}});return f.removeClass("ui-corner-all"),setTimeout(function(){f.find("ul").removeClass("ui-corner-all")},0),c={addPanel:function(a,b){var c="#pg-support-tab-"+ ++d;if("function"!=typeof b){var g;"string"==typeof b&&(b.substr(0,8)==="https://"||b.substr(0,7)==="http://")&&(g='<iframe src="'+b+'" style="margin:0;padding:0;width:100%;height:100%;border:0"><iframe/>'),b=function(a){$(a).append(g)}}e=b,f.tabs("add",c,a)},resize:function(){var a=b.innerHeight()-f.find("ul").outerHeight();f.find(".ui-tabs-panel").css({height:a+"px"})}}}}),define("rtext!templates/content.tip.main.html",[],function(){return'<p>Labcoat by Precog is a friendly tool that allows you to analyze data using a simple, yet powerful query language called Quirrel. This interactive environment makes it so easy to understand data! Experiment with sample data by running preloaded queries or by creating your own queries. You can also learn the Quirrel language with our built-in tutorial and reference guide. Any query you develop can also be executed from inside an application through our REST API.</p>\n<p>This is an early preview, so you can\'t quite upload your own data but <a href="http://goo.gl/Jtdho" target="_blank">subscribe to our newsletter</a> to learn when you\'ll be able to analyze your own data. Now, we\'ll let you get started!</p>'}),define("rtext!templates/content.tip.codepane.html",[],function(){return'This is the code editor. You can type your Quirrel queries here and execute them clicking on the "run" (or "run selected") or by using SHIFT+ENTER on your keyboard.'}),define("rtext!templates/content.tip.filesystem.html",[],function(){return"This is the file system. You can see how your data is organized, as well as upload and download data through drag & drop."}),define("rtext!templates/content.tip.querybrowser.html",[],function(){return"This is the query browser. Here you can create, rename, and delete queries. All these are stored on your local machine, so be sure to back them up elsewhere for safe-keeping!"}),define("rtext!templates/content.tip.resultspane.html",[],function(){return"This is the results pane. Anytime you execute a query, the results will appear here. You can view the results as JSON, CSV, or charts."}),define("rtext!templates/content.tip.supportpane.html",[],function(){return"<div>\n    <h3>tutorial</h3>\n    <div>This is a tutorial for the Quirrel query language. In about 30 minutes, you can learn everything you need to know to analyze data on Precog or any other system that supports Quirrel.</div>\n    <h3>reference</h3>\n    <div>This is a reference manual for functions in Quirrel's standard library. These functions help you save time and perform critical key operations when doing data analysis.</div>\n    <h3>IRC channel</h3>\n    <div>This is an IRC client that connects to the #quirrel channel on Freenode. On the Quirrel channel, you can often find other Quirrel users who can help answer your questions.</div>\n</div>"}),define("app/startup-tips",["app/util/notification","app/util/ui","app/util/storage","rtext!templates/content.tip.main.html","rtext!templates/content.tip.codepane.html","rtext!templates/content.tip.filesystem.html","rtext!templates/content.tip.querybrowser.html","rtext!templates/content.tip.resultspane.html","rtext!templates/content.tip.supportpane.html"],function(a,b,c,d,e,f,g,h,i){function m(a){return function(){k.set(a,!1)}}function n(b){for(var c=0;c<l.length;c++){var d=l[c];k.get(d.store)&&a.tip(d.title,{target:d.target(b),text:d.text,after_close:m(d.store)})}}var j="pg-quirrel-tips",k=c(j,{main:!0,editor:!0,system:!0,queries:!0,results:!0,support:!0}),l=[{title:"Quirrel Editor",target:function(a){return a.getInput()},text:e,store:"editor"},{title:"Virtual File System",target:function(a){return a.getSystem()},text:f,store:"system"},{title:"Query Browser",target:function(a){return a.getQueries()},text:g,store:"queries"},{title:"Results",target:function(a){return a.getOutput()},text:h,store:"results"},{title:"Support",target:function(a){return a.getSupport()},text:i,store:"support"}];return function(c){setTimeout(function(){if(k.get("main")){var e=a.main("Welcome to Labcoat!",{text:'<div class="pg-content">'+d+'</div><div class="pg-actions"><label>display panel tips<input type="checkbox" name="pg-display-tips" checked></label></div>',after_close:function(){k.set("main",!1);if(e.find('input[type="checkbox"]').attr("checked"))n(c);else for(var a=0;a<l.length;a++)k.set(l[a].store,!1)}});b.button(e.find(".pg-actions"),{label:"close",text:!0,icon:"ui-icon-close",handler:function(){e.pnotify_remove()}})}else n(c)},1e3)}}),define("app/util/guid",[],function(){return function(){var a=function(){return Math.floor(Math.random()*65536).toString(16)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}),define("app/util/ie",[],function(){var a,b,c=3,d=document.createElement("div"),e=d.getElementsByTagName("i");while(d.innerHTML="<!--[if gt IE "+ ++c+"]><i></i><![endif]-->",e[0]);return a=c>4?c:b,{isIE:function(){return!!a},version:function(){return a},greaterOrEqualTo:function(b){return a&&a>b}}}),define("app/util/querystring",[],function(){function b(a){if(!a)a=window.location.search.substr(1);else if(a.substr(0,"http://".length)==="http://"||a.substr(0,"https://".length)==="https://"){var b=a.split("?");b.shift(),a=b.join("?")}else a.substr(0,1)==="?"&&(a=a.substr(1));return a=a.split("#"),a[0]}function c(a,b){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c="(?:^|&)"+a+"=([^&#]*)",d=new RegExp(c),e=d.exec(b);return e==null?"":decodeURIComponent(e[1].replace(/\+/g," "))}function d(a){var b={},c,d=/\+/g,e=/([^&=]+)=?([^&]*)/g,f=function(a){return decodeURIComponent(a.replace(d," "))},g=a;while(c=e.exec(g))b[f(c[1])]=f(c[2]);return b}var a={};return{get:function(a,d){return d=b(d),c(a,d)},all:function(c){return c=b(c),a[c]||(a[c]=d(c)),a[c]}}}),define("app/util/precog",["app/util/querystring","app/util/md5","app/util/guid","app/util/ie","app/util/config","https://api.reportgrid.com/js/precog.js"],function(a,b,c,d,e){function l(b){for(var c=g.length-1;c>=0;c--){var d=g[c],e=a.get(d,b);e!==""&&(f[d]=e,g.splice(c,1))}}var f=window.Precog.$.Config,g=["apiKey","analyticsService","basePath","limit","theme"],h=[null],i=/(require|precog|quirrel)[^.]*.js[?]/i;d.isIE()||window.Precog.$.Http.setUseJsonp(!1);var j=".precog.com",k=window.location.host;k.substr(k.length-j.length)===j&&(f.analyticsService=window.location.protocol+"//"+k+"/"),$("script").each(function(){if(!this.src||!i.test(this.src))return;h.push(this.src)});while(h.length>0&&g.length>0)l(h.shift());f.limit||(f.limit=e.get("queryLimit")),$(e).on("queryLimit",function(a,b){f.limit=b});var m={ingest:function(a,b,c,d,e,f){window.Precog.ingest(a,b,c,e,f,{progress:d})},deletePath:function(a,b){window.Precog.deletePath(a,function(a){b&&b(!0)},function(a,c){if(!b)throw"Unable To Delete Path";b(!1)})},query:function(a,b){var d={},e=c(),g=f.limit;b=b||{},d.limit=b.limit&&b.limit<f.limit?b.limit:f.limit,b.skip&&(d.offset=b.skip),b.sort&&(d.sortOn=b.sort.map(function(a){return a.field}),d.sortOrder=b.sort[0].asc?"asc":"desc"),$(m).trigger("execute",[a,this.lastExecution,e]);var h=this,i=(new Date).getTime();window.Precog.query(a,function(a,c){h.lastExecution=(new Date).getTime()-i;var d=null;"undefined"!=typeof b.skip&&(d={skip:b.skip,limit:b.limit,count:c["X-Quirrel-Count"]||1e3}),$(m).trigger("completed",[e,a,d])},function(a,b){"string"==typeof b&&(b={message:b}),$(m).trigger("failed",[e,b])},d)},paths:function(a,b){window.Precog.children(a,function(a){b(a.map(function(a){return a.substr(-1)==="/"&&a.substr(0,a.length-1)||a}).sort())},function(a,b){throw"Unable To Query Path API"})},config:f,lastExecution:2e3,hash:b(f.apiKey),cache:window.Precog.cache};return m}),define("app/editors",["app/util/precog","app/util/md5","app/util/storagemonitor","app/util/utils"],function(a,b,c,d){function g(){return b(""+Math.random()).substr(0,8)}function j(){return"query #"+(1+i())}function k(a){return a=$.extend({name:null,hasname:!1,dirty:!1},a),a.name||(a.name=j()),a.id||(a.id=g()),a}function l(a){return"editors."+a}function m(a){var b=f.get("editors");for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];if(d.name===a)return d}return null}var e="pg-quirrel-editors-"+a.hash,f=c(e,{list:[],editors:{}}),h=[],i=function(){function d(c){return(b=a.exec(c))?parseInt(b[1]):0}var a=/query #(\d+)$/,b,c=-1;return function(){if(c===-1){if(h.length==0)return c=0;var a=0;return $.each(h,function(b,c){var e=f.get(l(c)+".name");if(!e)return;var g=d(e);g>a&&(a=g)}),c=a}return++c}}(),n=null,o={save:function(a){return a.dirty=!1,f.set(l(a.id),a,!0),$(o).trigger("saved",a),a},open:function(a,b){var c=m(a);if(c){this.activate(this.getIndexById(c.id));return}this.add({name:a,code:b,hasname:!0}),this.activate(h.length-1)},add:function(a){var b=k(a);return h.push(b.id),f.set("list",h),f.set(l(b.id),b,!0),$(o).trigger("added",b),b},remove:function(a){if(h.length==1)return;var b=h[a],c=this.getName(a);if(!b)return;f.remove(l(b),!0),a===0&&a===n&&this.activate(1),a===n?this.activate(a-1):a<n&&n--,h.splice(a,1),f.set("list",h,!0),$(o).trigger("removed",c)},list:function(){return h.splice(0)},count:function(){return h.length},get:function(a){return f.get(this.getKey(a))},getIndexById:function(a){return h.indexOf(a)},getIndexByName:function(a){var b=m(a);return b?this.getIndexById(b.id):-1},getById:function(a){return this.get(h.indexOf(a))},getKey:function(a){return"undefined"==typeof a&&(a=this.current()),l(h[a])},load:function(){var a=f.get("list"),b=$.map(a,function(a){return f.get(l(a))});for(var c=0;c<a.length;c++)this.add(b[c])},activate:function(a){this.deactivate(n),n=a,$(o).trigger("activated",a)},deactivate:function(a){if(null===n)return;n=null,$(o).trigger("deactivated",a)},current:function(){return n},setField:function(a,b,c){f.set(this.getKey(c)+"."+a,b,!0)},getField:function(a,b,c){return f.get(this.getKey(c)+"."+a,b)},getCode:function(a){return this.getField("code","",a)},setCode:function(a,b){this.setField("code",a,b)},setDirty:function(a){this.setField("dirty",!0,a)},getOutputResult:function(a){return this.getField("output.result",null,a)},setOutputResult:function(a,b){this.setField("output.result",a,b)},getOutputType:function(a){return this.getField("output.type",null,a)},setOutputType:function(a,b){this.setField("output.type",a,b)},getOutputOptions:function(a){return this.getField("output.options",{},a)},setOutputOptions:function(a,b){this.setField("output.options",a,b)},getName:function(a){return this.getField("name","",a)},monitor:f.monitor};return f.monitor.bind("list",function(a,b){var c=d.arrayDiff(h,b),e=d.arrayDiff(b,h);if(c.length+e.length==0)return;f.load();var g=$.map(c,function(a){return h.indexOf(a)});for(var i=0;i<g.length;i++)o.remove(g[i]);for(var i=0;i<e.length;i++)o.add(f.get(l(e[i])))}),o}),define("app/history",["app/util/precog","app/util/storage","app/util/md5"],function(a,b,c){function h(a){var b=this.map||(this.map={});return b[a]||(b[a]=c(a)),b[a]}var d,e=20,f="pg-quirrel-history-"+a.hash,g=b(f);return d={revisions:function(a){var b=h(a),c=g.get("history."+b,[]);return c.slice(0)},save:function(a,b,c){var d=h(a),e=g.get("history."+d,[]);b=b.trim();if(b===(e[0]&&e[0].code))return;var f=c&&"undefined"!=typeof c[0]?c[0]:null,i=c&&c.length||0,j=+(new Date);e.unshift({timestamp:j,code:b,sample:{first:f,length:i}}),g.set("result."+d+"."+j,c);var k=this.getHistoryLength();while(e.length>k){var l=e.pop();g.remove("result."+d+"."+l.timestamp)}g.set("history."+d,e,!0)},load:function(a,b){var c=this.revisions(a),d=c[b];if(!d)return null;var e=h(a);return{index:b,timestamp:d.timestamp,code:d.code,data:g.get("result."+e+"."+d.timestamp)}},setHistoryLength:function(a){g.set("max_values",+a)},getHistoryLength:function(){return g.get("max_values",e)},remove:function(a){var b=h(a)},rename:function(a,b){var c=h(a),d=h(b),e=g.get("history."+c),f=g.get("result."+c);g.remove("history."+c),g.remove("result."+c),g.set("history."+d,e),g.set("result."+d,f,!0)}}}),define("app/bar-main",["app/util/ui","rtext!templates/toolbar.main.html","app/util/fullscreen","app/theme","app/util/dialog-confirm","rtext!templates/dialog.global.settings.html","app/util/valuemodel","app/util/objectmodel","app/util/precog","app/util/config"],function(a,b,c,d,e,f,g,h,i,j){function n(a){a.attr("href",l),a.find(".pg-logo").addClass(m)}function o(){return i.config[this.name]}function p(a,b){return function(c){return c=q(c),""+parseInt(c)!=""+c?"must be an integer value":(c=parseInt(c),a&&c<a?"must be greater than "+a:b&&c>b?"must be less than "+b:null)}}function q(a){return(""+a).trim()}function r(a){a=q(a);var b=a.split(".").pop().toLowerCase();a.substr(-1)!=="/"&&b!=="htm"&&b!=="html"&&(a+="/");if(a.length===1)return a;while(a.substr(0,1)==="/")a=a.substr(1);return a}function s(a){return a=q(a),a.substr(0,1)!=="/"&&(a="/"+a),a.length===1?a:(a.substr(-1)!=="/"&&(a+="/"),a)}function t(a){return q(a).toUpperCase()}function u(a){return a.match(/^((\/?[a-z0-9_\-.]+)+)\/?$/i)?null:"invalid url"}function C(){var a=D();A.attr("href",a),A.text(a),v.find(".output").show()}function D(){var a="https://"+y.get("labcoatHost"),b=[],c;return b.push("apiKey="+encodeURIComponent(y.get("apiKey"))),c="https://"+y.get("analyticsService"),c!==a&&b.push("analyticsService="+encodeURIComponent(c)),c=y.get("basePath"),c!="/"&&b.push("basePath="+encodeURIComponent(c)),a+"?"+b.join("&")}function E(){v.find(".output").hide(),A.attr("href","#"),A.text("")}function F(a){return function(b,c){var d=g(c.extract()||c.defaultValue,c.validator,c.filter);a.addField(c.name,d);var e=v.find("#"+c.name);e.val(d.get()),e.on("change",function(){d.set(e.val())}),d.on("validation.error",function(a,b){e.parent().find(".input-error").html(a).show()}),d.on("value.change",function(a,b){e.val(a),e.parent().find(".input-error").hide(),c.callback&&c.callback(a)})}}var k="http://precog.com/products/labcoat",l="http://precog.com/products/labcoat",m="pg-precog";switch(document.location.host){case"labcoat.gridgain.com":l="http://www.gridgain.com/",m="pg-gridgain"}var v=$(f),w=[{name:"analyticsService",extract:function(){var a=o.call(this);return a=a.split("://").pop(),r(a)},filter:r,validator:u},{name:"apiKey",extract:o,filter:t,validator:function(a){return a.match(/^([A-F0-9]{8})(-[A-F0-9]{4}){3}-([A-F0-9]{12})$/)?null:"invalid token pattern"}},{name:"basePath",extract:o,defaultValue:"/",filter:s,validator:function(a){return a.match(/^(\/?([a-z0-9_\-]+)(\/[a-z0-9_\-]+)*\/?)$/i)?null:"invalid path pattern"}},{name:"labcoatHost",extract:function(){return window.location.hostname+window.location.pathname},filter:r,validator:u}],x=[{name:"limit",extract:o,validator:p(1,null),filter:q},{name:"theme",extract:function(){return d.current||o.call(this)},validator:function(a){return d.list().map(function(a){return a.token}).indexOf(a)>=0?null:"invalid theme"},callback:function(a){d.set(a)}}],y=h(),z=h(),A=v.find(".labcoatUrl"),B=v.find("#theme");return $.each(d.groups(),function(a){var b=$('<optgroup label="'+a+' themes"></optgroup>').appendTo(B);$.each(this,function(){b.append($('<option value="'+this.token+'">'+this.name+"</option>"))})}),$(w).each(F(y)),y.on("validation.error",E),y.on("validation.success",C),$(x).each(F(z)),y.isValid()?C():E(),function(f){f.append(b);var g=f.find(".pg-toolbar-context");n(f.find("a.pg-brand")),a.button(g,{icon:"ui-icon-info",description:"about Labcoat"}).click(function(){window.open(k)}),a.button(g,{icon:"ui-icon-gear",description:"application settings"}).click(function(){var a=d.current,b="Application Settings",c=function(){if(!z.getField("limit").isDefault()){var a=parseInt(z.get("limit"));j.set("queryLimit",a,!0),$(j).trigger("queryLimit",a)}y.isValid()&&y.hasChanged()&&(window.location=D())},f={width:500,height:440,cancel:function(){d.current!==a&&d.set(a)}};z.getField("theme").setDefault(d.current),z.getField("limit").setDefault(j.get("queryLimit")),e(b,v,c,f)}),a.button(g,{icon:c.isFullScreen()?"ui-icon-newwin":"ui-icon-arrow-4-diag",description:"toggle fullscreen",handler:function(){c.toggle(),c.isFullScreen()?$(this).find(".pg-icon").removeClass("ui-icon-newwin").addClass("ui-icon-arrow-4-diag"):$(this).find(".pg-icon").removeClass("ui-icon-arrow-4-diag").addClass("ui-icon-newwin")}})}}),define("app/config/output-languages",["app/util/converters","app/util/precog","app/util/ui","app/util/converters"],function(a,b,c,d){function g(a){return a.replace(/"/g,'\\"')}var e=b.config.apiKey,f=b.config.analyticsService;return[{token:"qrl",name:"Quirrel",handler:function(a,b){return b.compact?d.minifyQuirrel(a):"-- Quirrel query generated with Labcoat by Precog\n\n"+a.trim()},options:{compact:!1},buildOptions:function(a,b){var d=this;c.checks(a,[{name:"options",checked:this.options.compact,label:"compact",description:"remove newlines and comments from query",handler:function(){d.options.compact=$(this).prop("checked"),b()}}])}},{token:"js",name:"JavaScript",handler:function(b){return b=g(a.minifyQuirrel(b)),'// Quirrel query in JavaScript generated with Labcoat by Precog\n\nPrecog.query("'+b+'",\n  function(data) { /* do something with the data */ },\n  function(error) { console.log(error); }\n);'}},{token:"html",name:"HTML",handler:function(b){return b=g(a.minifyQuirrel(b)),'<!DOCTYPE html>\n<html>\n<head>\n<title>Quirrel Query</title>\n<script src="http://api.reportgrid.com/js/precog.js?apiKey='+e+"&analyticsService="+f+'"></script>\n'+"<script>\n"+"function init() {\n"+"  // Quirrel query in JavaScript generated with Labcoat by Precog\n"+'  Precog.query("'+b+'",\n    function(data) {\n      /* do something with the data */\n      console.log(data);\n    },\n    function(error) { console.log(error); }\n  );\n'+"}\n"+'</script>\n</head>\n<body onload="init()">\n</body>\n</html>'}},{token:"php",name:"PHP",handler:function(b){return b=g(a.minifyQuirrel(b)),'<?php\n\n// Quirrel query in PHP generated with Labcoat by Precog\n\nrequire_once("Precog.php");\n\n$precog = new PrecogAPI("'+e+'", "'+f+'");\n$result = $precog->query("'+b+'");\n'+"if(false === $precog) {\n"+"  die($precog->errorMessage());\n"+"} else {\n"+"  // do something with $result here\n"+"}\n?>"}}]}),define("app/bar-editor",["app/util/ui","app/editors","app/util/notification","app/util/querystring","app/util/converters","app/util/utils","app/util/dialog-export","app/util/dialog-lineinput","app/config/output-languages","rtext!templates/toolbar.editor.html","libs/moment/moment"],function(a,b,c,d,e,f,g,h,i,j){return function(e,k){function q(a){var b=o.find("li a").length;for(var c=0;c<b;c++)if(r(c)===a)return c;return-1}function r(a){return s(a).attr("data")}function s(a){return o.find("li:nth("+a+") a")}function t(a,b,c){var d=s(a);d.attr("data",b).attr("title",b).html(f.truncate(b.split("/").pop())),c&&l.invalidateTab(a)}function u(a){var b=s(a),c=b.html();c&&c.substr(0,1)!=="*"&&b.html("*"+c)}function v(a){var b=s(a),c=b.html();c.substr(0,1)==="*"&&b.html(c.substr(1))}function y(a){var b=3,c=40,d=moment(new Date(a.timestamp)).fromNow(),e=a.code.split("\n");if(e.length>b){var g=e.length-b;e.splice(b-1),e.push("... +"+g+" more line(s)")}var h=e.map(function(a){return f.truncate(a,c)}).join("\n");return'<div class="pg-history-item ui-content ui-state-highlight ui-corner-all"><div class="pg-header">query:</div><pre>'+h+"</pre>"+'<div class="pg-header">sample:</div>'+"<pre>"+f.truncate(JSON.stringify(a.sample.first),c)+"</pre>"+'<div class="pg-info">generated '+a.sample.length+" records<br>executed "+d+"</div>"+'<div class="pg-toolbar"></div>'+'<div class="pg-clear"></div>'+"</div>"}var l;e.append(j);var m=e.find(".pg-toolbar-context"),n=0,o=a.tabs(e.find(".pg-editor-tabs"),{tabTemplate:"<li><a href='#{href}'>#{label}</a> <span class='ui-icon ui-icon-close pg-tab-close'>Remove Tab</span></li>",add:function(a,c){var d=c.index;n&&(o.tabs("select",d),b.activate(d),n--)}}),p=0;o.on({click:function(){var a=$("li",o).index($(this).parent());b.remove(a)}},".ui-icon-close"),o.on({click:function(){var a=$("li",o).index($(this).parent());b.activate(a)}},"li a");var w=a.button(m,{icon:"ui-icon-clock",description:"display query history",handler:function(){$(l).trigger("requesthistorylist")}});a.button(m,{icon:"ui-icon-disk",description:"save query",handler:function(){var a=b.get();a.hasname?b.save(a):h("Save Query","Select a unique identification name for your query",null,"",function(a){return f.validateQueryName(a,k.nameAtPath(a),k)},function(c){a.name=k.nameAtPath(c),a.hasname=!0,b.save(a)})}}),a.button(m,{icon:"ui-icon-mail-closed",description:"send query by email",handler:function(a){var c="support@precog.com",d="Quirrel Help",e="I need help with the following query:\n\n"+b.getCode();document.location.href="mailto:"+c+"?subject="+encodeURIComponent(d)+"&body="+encodeURIComponent(e)}});var x;a.button(m,{icon:"ui-icon-link",description:"copy a link with the current query",handler:function(a){var e=document.location.protocol+"//"+document.location.hostname+document.location.pathname,f=d.all();f.q=b.getCode(),x&&x.remove(),x=c.copier("Create Query Link",{text:"Copy this link to pass the current query to someone else.<br>Don't forget that the URL contains your token!",copy:e+"?"+$.param(f),target:this})}}),a.button(m,{icon:"ui-icon-arrowthickstop-1-s",description:"download query code",handler:function(){g("Download Query",i,b.getCode())}}),a.button(m,{icon:"ui-icon-plus",description:"create new empty tab",handler:function(){n++,b.add()}});var z;return l={addTab:function(a,b){var c=o.tabs("add","#pg-editor-tab-"+ ++p,"");t(o.tabs("length")-1,a,b);var d=o.find(".pg-tab-close");d.length==1?d.hide():d.length==2&&d.show()},removeTab:function(a){o.tabs("remove",a);var b=o.find(".pg-tab-close");b.length===1&&b.hide()},removeTabByName:function(a){var b=q(a);b>=0&&this.removeTab(b)},activateTab:function(a){o.tabs("select",a)},changeTabName:function(a,b){var c=r(a);t(a,b),$(l).trigger("tabrenamed",{oldname:c,newname:b})},invalidateTab:function(a){u(a)},revalidateTab:function(a){v(a)},displayHistoryList:function(b){z&&z.remove();var d;b.length==0?d="No queries have been performed yet in this editor context.":d='<div class="pg-history"><ul><li>'+b.map(y).join("</li><li>")+"</li></ul></div>",z=c.context("History",{target:w,text:d}),z.find(".pg-toolbar").each(function(c){var d=b[c];$(this).append("open in "),c!==0&&a.button(this,{label:"current tab",handler:function(){z.remove(),$(l).trigger("requestopenrevision",{usenewtab:!1,index:c})}}),a.button(this,{label:"new tab",handler:function(){z.remove(),$(l).trigger("requestopenrevision",{usenewtab:!0,index:c})}})})},historyPanelIsOpen:function(){return z&&z.is(":visible")}}}}),define("app/folders",["app/util/precog","app/util/storagemonitor","app/util/ui","app/util/utils","app/util/notification","app/util/dialog-lineinput","app/util/dialog-confirm","app/util/humanize","rtext!templates/toolbar.folders.html","libs/jquery/jstree/vakata","libs/jquery/jstree/jstree","libs/jquery/jstree/jstree.sort","libs/jquery/jstree/jstree.ui","libs/jquery/jstree/jstree.themes"],function(a,b,c,d,f,g,h,i,j){function o(a,b){var c=q(a);c.indexOf(b)<0&&(c.push(b),n.set("virtuals."+a,c))}function p(){return n.get("virtuals",{})}function q(a){return n.get("virtuals."+a,[])}function r(a,b){var c=n.get("virtuals."+a,[]),d=c.indexOf(b);if(d<0)return;c.splice(d,1),c.length===0?n.remove("virtuals."+a,!0):n.set("virtuals."+a,c,!0)}function s(a){return a=a.replace(/\/+/g,"/"),a.substr(-1)==="/"&&(a=a.substr(0,a.length-1)),a}function t(a){a=s(a).substr(1);var b=a.split("/");while(b.length>0){var c=b.pop();r("/"+b.join("/"),c)}}var k="download.php",l="pg-quirrel-virtualpaths-"+a.hash,m=a.config.basePath||"/",n=b(l,{virtuals:{}});return function(b){function B(){var a=A&&$(A).attr("data");$.each(z,function(){$(this).button("disable")}),a&&($(z[0]).button("enable"),a!=="/"&&$.each(z,function(){$(this).button("enable")}))}function D(a){$(d).trigger("querypath",s(a))}function E(a,b){if(!b||!a)return;o(a,b);var c=a===m?-1:F(a);if(!c)return;var d=s(("/"===a?"/":a+"/")+b);if(l[d])return;l[d]=!0,M(b,d,null,c)}function F(a){var b=C.find("li"),c=b.length;for(var d=0;d<c;d++)if($(b.get(d)).attr("data")===a)return b.get(d);return null}function G(a){if(!a&&(a=a.trim())==="/")return;a=s(a),$(d).trigger("requestPathDeletion",a),t(a),delete l[a];for(var b in l)l.hasOwnProperty(b)&&b.substr(0,a.length+1)===a+"/"&&delete l[b];N(a)}function H(a){var b=I(a),c="Create Folder",d="Create a sub folder at: <i>"+b+"</i>";g(c,d,"folder name","",function(a){return null!=a&&a.match(/^[a-z0-9]+$/i)?null:"path name cannot be empty and it can only be composed of alpha-numeric characters"},function(b){E(a,b)})}function I(a){return a=s(a),a=(a+"/").substr(0,m.length)===m?(a+"/").substr(m.length):a,a||(a="/"),a}function J(b){var c=b.substr(0,m.length)===m?"/"+b.substr(m.length):b,d="Delete Folder",e="Are you sure you want to delete the folder at: <i>"+b+"</i> and all of its content?<br>This operation cannot be undone!";h(d,e,function(){a.deletePath(c,function(a){a?G(b):alert("an error occurred deleting the path "+b)})},{captcha:!0})}function K(a){var b=I(a),c="Upload Data",d="Upload data at: <i>"+b+"</i><br>You can use a JSON file (one array of values/objects), a text file containing one JSON object per line, a CSV file (headers are mandatory) or a zip file containing any combination of the previous formats.";g(c,d,"file to upload","",function(a){return a?null:"select a file"},function(b,c){if(c)for(var d=0;d<c.length;d++)P(c[d],a)},"file")}function L(b){return k+"?apiKey="+encodeURIComponent(a.config.apiKey)+"&analyticsService="+encodeURIComponent(a.config.analyticsService)+"&path="+encodeURIComponent(b)}function M(a,b,c,d){return d||(d=-1),C.jstree("create_node",d,{title:a,data:b,li_attr:{data:b}},"last",function(a){return $(a).find("a:first").dblclick(function(a){return C.jstree("toggle_node",A),a.preventDefault(),!1}),U(a,b),c&&c.apply(a,[b]),!1})}function N(a){var b=F(a);if(b===null)return;C.jstree("delete_node",b)}function O(b,c,d){"undefined"==typeof c&&(c=1),b=s(b),l[b]=!0,a.paths(I(b),function(a){var e="/"===b?"":b,f=q(b);$.each(f,function(b,c){c.substr(0,1)!=="/"&&(c="/"+c),a.indexOf(c)<0&&a.push(c)}),a.sort(),a.forEach(function(a){a=e+a,M(a.split("/").pop(),a,function(){c>1&&O(a,c-1,this)},d||-1)})})}function P(b,c){function j(a){h.progressStep(a.loaded/a.total),h.el.find(".pg-message").html("uploaded "+i.filesize(a.loaded)+" of "+i.filesize(a.total))}function k(a){if(a.failed>0){a.ingested===0?message="All of the "+i.numberFormat(a.total,0)+" events failed to be stored.":message=i.numberFormat(a.ingested,0)+" events have been stored correctly, "+i.numberFormat(a.failed,0)+" failed to be stored.",a.skipped&&(message+="<br>Skipped "+i.numberFormat(a.skipped,0)+" events (the ingest process stops after "+i.numberFormat(a.failed,0)+" errors).");if(a.errors.length){var b={};$(a.errors).each(function(){var a=this.line,c=this.reason,d=b[c]||(b[c]=[]);d.push(a)});var c=[];for(var d in b)b.hasOwnProperty(d)&&c.push(d+" at line(s): "+b[d].join(", "));message+='<p>Error details:</p><ul class="errors"><li>'+c.join("</li><li>")+"</li></ul>"}h.progressError(message)}else message="all of the "+i.numberFormat(a.total,0)+" events have been queued correctly and are now in the process to be ingested",h.progressComplete(message)}function l(a){h.progressError("An error occurred while uploading your file. No events have been stored in Precog: "+JSON.stringify(a))}if(!b)return;var d=b.fileName||b.name,e=d.split(".").pop().toLowerCase();if(["json","csv","zip"].indexOf(e)<0){f.error("invalid file type",{text:"You can only upload files of type json, csv or zip. Be sure that the file extension matches the type."});return}c=I(c);var g=b,h={text:"Starting upload of '"+d+"'"};f.progress("upload file",h),a.ingest(c,g,e,j,k,l)}function Q(a,b){if(typeof a!="undefined")for(var c=0,d=a.length;c<d;c++)P(a[c],b);else alert("No support for the File API in this web browser")}function S(){if(!R)return;R.hide(),R.remove(),R=null}function U(a,b){$(a).on("dragleave",function(a){return $(this).removeClass("ui-state-active"),a.preventDefault(),!1}).on("dragenter",function(a){return $(this).addClass("ui-state-active"),a.preventDefault(),!1}).on("dragover",function(a){return a.preventDefault(),!1}).on("drop",function(a){return $(this).removeClass("ui-state-active"),Q(a.originalEvent.dataTransfer.files,b),S(),a.preventDefault(),!1})}var d,l;b.find(".pg-toolbar").append(j);var r=b.find(".pg-toolbar-description"),u=b.find(".pg-toolbar-actions"),v=b.find(".pg-toolbar-context"),w=b.find(".pg-tree").append('<div class="pg-root"></div>').find(".pg-root"),x=b.find(".pg-tree").append('<div class="pg-structure"></div>').find(".pg-structure"),y=b.append('<div style="display: none"><input name="files" type="file" multiple></div>').find("input[type=file]"),z=[c.button(v,{text:!1,icon:"ui-icon-new-folder",description:"create new folder",handler:function(){H($(A).attr("data"))}}),c.button(v,{text:!1,icon:"ui-icon-trash",handler:function(){J($(A).attr("data"))}}),c.button(v,{text:!1,icon:"ui-icon-query",description:"query data at path",handler:function(){D(I($(A).attr("data")))}}),c.button(v,{text:!1,icon:"ui-icon-arrowthickstop-1-s",description:"download folder data",handler:function(){window.location.href=L($(A).attr("data"))}}),c.button(v,{text:!1,icon:"ui-icon-arrowthickstop-1-n",description:"upload data to folder",handler:function(){K($(A).attr("data"))}})],A;B(),r.html("file system");var C=x.jstree({plugins:["themes","sort","ui"],ui:{select_limit:1,selected_parent_close:"deselect",select_multiple_modifier:!1,select_range_modifier:!1}});w.html('<div class="jstree jstree-default"><a href="#" data="'+m+'"><ins class="jstree-icon jstree-themeicon"> </ins>/</a></div>'),w.find("a").mouseenter(function(){$(this).addClass("jstree-hovered")}).mouseleave(function(){$(this).removeClass("jstree-hovered")}).click(function(){C.jstree("deselect_all"),$(this).addClass("jstree-clicked"),A=this,B()}),C.bind("click.jstree",function(){w.find("a").removeClass("jstree-clicked"),A=C.jstree("get_selected"),B()}),C.bind("open_node.jstree",function(a,b){var c=$(b.rslt.obj).find("li");c.each(function(a,b){var c=s($(b).attr("data"));if(l[c])return;O(c,1,b)})}),c.button(u,{icon:"ui-icon-refresh",description:"refresh folders",handler:function(){d.refresh()}}),d={refresh:function(){l={},C.jstree("delete_node","*"),O(m,2)},createNodeAt:function(a,b){E(a,b)},requestNodeCreationAt:function(a){H(a)}},y.on("change",function(){return e.preventDefault(),!1});var R,T=$(b).parents(".pg-labcoat").on("dragenter",function(a){if(R)return;return R=f.success("Drag your file on a folder to upload data",{hide:!1,history:!1}),a.preventDefault(),!1}).on("dragleave",function(a){var b=a.originalEvent.pageX,c=a.originalEvent.pageY,d=T.offset(),e=T.outerWidth(),f=T.outerHeight();(b<=d.left||b>=d.left+e||c<=d.top||c>=d.top+f)&&S()}).on("dragover",function(a){return a.preventDefault(),!1}).on("drop",function(a){return S(),a.preventDefault(),!1});return d.refresh(),n.monitor.bind("virtuals",function(a,b){var c=p(),d=[];for(var e in b)if(c.hasOwnProperty(e)&&!c[b]){var f=b[e];for(var g=0;g<f.length;g++)d.push({path:e,name:f[g]})}for(var g=0;g<d.length;g++){var h=d[g];E(h.path,h.name)}}),d}}),define("app/queries",["app/util/precog","app/util/storagemonitor","app/util/ui","app/util/utils","app/config/demo-queries","app/util/dialog-lineinput","app/util/dialog-confirm","rtext!templates/toolbar.folders.html","libs/jquery/jstree/vakata","libs/jquery/jstree/jstree","libs/jquery/jstree/jstree.sort","libs/jquery/jstree/jstree.ui","libs/jquery/jstree/jstree.themes"],function(a,b,c,d,e,f,g,h){var i=[],j="5CDA81E8-9817-438A-A340-F34E578E86F8",k="pg-quirrel-queries-"+a.hash,l=b(k,{queries:j===a.config.apiKey?e:{},folders:[]});return function(a){function s(a,c){var e=l.get("queries."+d.normalizeQueryName(a)).code;b.queryCreate(c,e),b.queryRemove(a)}function t(){var a=r&&$(r).attr("data-path");$.each(q,function(){$(this.el).button("disable")});if(a){var b=a==="/"?"root":a.substr(0,1)==="/"?"folder":"query";$.each(q,function(){this.groups.indexOf(b)>=0&&$(this.el).button("enable")})}}function u(a){var c="Remove Folder",e="Are you sure you want to remove the folder <i>"+(a||"/")+"</i> and all if its content? The operation cannot be undone!";g(c,e,function(){var c=l.get("queries",{}),e=[],f=a.substr(1)+"/",g=f.length;for(var h in c)c.hasOwnProperty(h)&&h.substr(0,g)===f&&e.push(h);var i=[a];f=a+"/",g=f.length;for(var j=0;j<L.length;j++)L[j].substr(0,g)===f&&i.push(L[j]);for(var j=0;j<e.length;j++)b.queryRemove(e[j]);for(var j=0;j<i.length;j++)d.arrayRemove(L,i[j]);l.set("folders",L,!0);var k=B(a);w.jstree("delete_node",k)})}function v(a){var b="Create Folder",c="Create a sub folder at: <i>"+(a||"/")+"</i>";f(b,c,"folder name","",function(a){return null!=a&&a.match(/^[a-z0-9]+$/i)?null:"path name cannot be empty and it can only be composed of alpha-numeric characters"},function(b){var c=a+"/"+b;L.push(c),l.set("folders",L,!0),G(c)})}function x(a){$(b).trigger("requestopenquery",l.get("queries."+d.normalizeQueryName(a)))}function y(){n.show(),m.find(".pg-message").hide()}function z(){n.hide(),m.find(".pg-message").show()}function A(a){a.substr(0,1)==="/"&&(a=a.substr(1));var b=a.split("/");return b.pop(),b.length===0?"/":"/"+b.join("/")}function B(a){if(!a||a==="/")return-1;var b=w.find("li[rel=folder]"),c=b.length;for(var d=0;d<c;d++)if($(b.get(d)).attr("data-path")===a)return b.get(d);return null}function C(a){if(!a||a==="/")return-1;var b=w.find("li[rel=query]"),c=b.length;for(var d=0;d<c;d++)if($(b.get(d)).attr("data-path")===a)return b.get(d);return null}function D(a,b){var c=function(d,e){var f=e.rslt,g=$(f.obj[0]);if(g.attr("data-path")!==a)return;w.unbind("create_node.jstree",c),b&&b(g)};return c}function E(a,b,c){return w.bind("create_node.jstree",D(b,function(a){w.jstree("set_icon",a,"pg-tree-leaf"),$(a).dblclick(function(){var a=$(this).attr("data-path");x(a)}),c&&c(a)})),w.jstree("create_node",a,{title:b.split("/").pop(),li_attr:{"data-path":b,rel:"query"}},"last")}function F(a,b,c){a||(a=-1);var d=(a===-1?"":$(a).attr("data-path"))+"/"+b;return w.bind("create_node.jstree",D(d,function(a){$(a).find("a:first").dblclick(function(a){return w.jstree("toggle_node",r),a.preventDefault(),!1}),c&&c(a)})),w.jstree("create_node",a,{title:b,li_attr:{"data-path":d,rel:"folder"}},"last")}function G(a,b){b=b||function(){};var c=a,d;while(null===(d=B(c))){var e=c.substr(1).split("/");e.pop(),c="/"+e.join("/")}if(c===a){b(d);return}var f=a.substr(c.length).split("/").filter(function(a){return!!a}).shift();F(d,f,function(c){G(a,b)})}function H(a,b){var c=A(a);G(c,function(a){E(a,b),y()})}function I(a){var b=C(a);if(!b)return;w.jstree("delete_node",b)}var b;a.find(".pg-toolbar").append(h);var e=a.find(".pg-toolbar-description"),j=a.find(".pg-toolbar-actions"),k=a.find(".pg-toolbar-context"),m=a.find(".pg-queries"),n=m.append('<div class="pg-tree"></div><div class="pg-message ui-content ui-state-highlight ui-corner-all"><p>You don\'t have saved queries. To save a query use the "disk" button on the editor toolbar.</p></div>').find(".pg-tree"),o=n.append('<div class="pg-root"></div>').find(".pg-root"),p=n.append('<div class="pg-structure"></div>').find(".pg-structure"),q=[{el:c.button(k,{text:!1,icon:"ui-icon-new-folder",description:"create folder",handler:function(){var a=$(r).attr("data-path");a==="/"&&(a=""),v(a)}}),groups:["root","folder"]},{el:c.button(k,{text:!1,icon:"ui-icon-new-query",description:"create query",handler:function(){var a=r,e=$(a).attr("data-path");E(e==="/"?-1:a,"   ",function(a){function f(){w.jstree("delete_node",a)}c.edit($(a).find("a"),{handler:function(a,c){e.substr(-1)!=="/"&&(e+="/");var g=d.validateQueryName(a,e+a,b);c(g);if(!g){f();var h=(e+a).substr(1);b.queryCreate(h,"")}},cancel:function(){w.jstree("delete_node",a)}})})}}),groups:["root","folder"]},{el:c.button(k,{text:!1,icon:"ui-icon-trash",description:"remove folder/query",handler:function(){var a=$(r).attr("data-path");a.substr(0,1)==="/"?u(a):b.queryRemove(a)}}),groups:["folder","query"]},{el:c.button(k,{text:!1,icon:"ui-icon-rename",description:"rename query",handler:function(){var a=$(r).attr("data-path");a=a.split("/");var e=a.pop();a=a.length===0?"":a.join("/")+"/",c.edit($(r).find("a"),{handler:function(c,f){var g=d.validateQueryName(c,a+c,b);f(g),g||s(a+e,a+c)}})}}),groups:["query"]}],r;e.html("query manager"),t();var w=p.jstree({plugins:["themes","sort","ui","dnd"],sort:function(a,b){return $(a).attr("rel")>$(b).attr("rel")?1:$(a).attr("data-path")>$(b).attr("data-path")?1:-1},types:{query:{valid_children:"none"},folder:{valid_children:["folder","query"]}},ui:{select_limit:1,selected_parent_close:"deselect",select_multiple_modifier:!1,select_range_modifier:!1}});o.html('<div class="jstree jstree-default"><a href="#" data-path="/"><ins class="jstree-icon jstree-themeicon"> </ins>/</a></div>'),o.find("a").mouseenter(function(){$(this).addClass("jstree-hovered")}).mouseleave(function(){$(this).removeClass("jstree-hovered")}).click(function(){w.jstree("deselect_all"),$(this).addClass("jstree-clicked"),r=this,t()}),w.bind("click.jstree",function(){o.find("a").removeClass("jstree-clicked"),r=w.jstree("get_selected"),t()});var J=l.get("queries");for(var K in J)J.hasOwnProperty(K)&&H(K,J[K].name);var L=l.get("folders",[]);for(var M=0;M<L.length;M++){var N=L[M];G(N)}return l.monitor.bind("queries",function(a,c){var e=[];for(var f in c)c.hasOwnProperty(f)&&e.push(f);var g=d.arrayDiff(i,e),h=d.arrayDiff(e,i);l.load();for(var j=0;j<g.length;j++)I(d.normalizeQueryName(g[j])),$(b).trigger("removed",g[j]);for(var j=0;j<h.length;j++)H(d.normalizeQueryName(h[j]),h[j]);i=e}),l.monitor.bind("folders",function(a,b){var c=d.arrayDiff(b,L);l.load();for(var e=0;e<c.length;e++)G(c[e]);L=b}),b={queryExist:function(a){var b=d.normalizeQueryName(a);return!!l.get("queries."+b)},querySave:function(a,b){return this.queryExist(a)?this.queryUpdate(a,b):this.queryCreate(a,b)},queryCreate:function(a,c){var e=d.normalizeQueryName(a),f=l.get("queries."+e);return f?!1:(l.set("queries."+e,f={name:a,code:c},!0),H(e,a),$(b).trigger("created",f),!0)},queryUpdate:function(a,c){var e=d.normalizeQueryName(a),f=l.get("queries."+e);return f?(f.code=c,l.set("queries."+e,f,!0),$(b).trigger("updated",f),!0):!1},queryRemove:function(a){var c=d.normalizeQueryName(a),e=l.get("queries."+c);return e?(l.remove("queries."+c),I(a),$(b).trigger("removed",e.name),!0):!1},nameAtPath:function(a){if(!r)return a;var b=$(r).attr("data-path");return!b||b==="/"?a:b.substr(0,1)==="/"?b.substr(1)+"/"+a:(b=b.split("/"),b.pop(),b.join("/")+"/"+a)}}}}),define("app/config/eggs",[],function(a){return[{question:"who did this?",answer:"Franco Ponticelli ... the amazing programmer"},{question:"how many zombies does it take to screw in a light-bulb?",answer:"1 precog zombie, and as many minions an necessary"}]}),define("app/eggmanager",["app/config/eggs","app/util/notification"],function(a,b){function c(a){return a.toLowerCase().replace(/\W+/," ").replace(/\s+/gm," ").trim()}function d(a){return a.split("\n").length>1?null:(a=a.trim(),a.substr(0,2)==="--"?a.substr(2):a.substr(0,2)==="(*"&&a.substr(a.length-2)==="*)"?a.substr(2,a.length-4):null)}for(var e=0;e<a.length;e++)a[e].normalized=c(a[e].question);return{findEgg:function(b){var d=c(b);for(var e=0;e<a.length;e++)if(d===a[e].normalized)return e;return-1},isEgg:function(a){return this.findEgg(a)>=0},displayEgg:function(c,d){if(c<0)return;b.main(d,{text:'<div class="pg-easter">'+a[c].answer+"</div>",min_height:"100px"})},easterEgg:function(a){var b=d(a);if(null===b)return!1;var c=this.findEgg(b);return c<0?!1:(this.displayEgg(c,b),!0)}}}),define("app/gatrack",[],function(){function d(){if(c.length===0)return;if("undefined"==typeof _gaq){clearInterval(this.timer),this.timer=setTimeout(function(){d()},1e3);return}var a=c.shift();_gaq.push(["_trackEvent",a.category,a.action,a.label,a.value]),d()}function e(a,b,e,f){c.push({category:a,action:b,label:e,value:f}),d()}var a="interaction",b,c=[];return b={trackEvent:function(a,b,c,d){e(a,b,c,d)},trackQueryExecution:function(b){this.trackEvent(a,"execute-query",b)}}}),requirejs.config({waitSeconds:20,baseUrl:"./js/",shim:{"libs/jquery/ui/jquery.ui.core":["jquery"],"libs/jquery/ui/jquery.ui.position":["libs/jquery/ui/jquery.ui.core"],"libs/jquery/ui/jquery.ui.widget":["libs/jquery/ui/jquery.ui.core"],"libs/jquery/ui/jquery.ui.mouse":["libs/jquery/ui/jquery.ui.widget"],"libs/jquery/ui/jquery.ui.resizable":["libs/jquery/ui/jquery.ui.mouse"],"libs/jquery/ui/jquery.ui.button":["libs/jquery/ui/jquery.ui.widget"],"libs/jquery/ui/jquery.ui.sortable":["libs/jquery/ui/jquery.ui.widget"],"libs/jquery/ui/jquery.ui.draggable":["libs/jquery/ui/jquery.ui.mouse"],"libs/jquery/ui/jquery.ui.droppable":["libs/jquery/ui/jquery.ui.draggable"],"libs/jquery/ui/jquery.ui.dialog":["libs/jquery/ui/jquery.ui.widget","libs/jquery/ui/jquery.ui.draggable","libs/jquery/ui/jquery.ui.button","libs/jquery/ui/jquery.ui.position","libs/jquery/ui/jquery.ui.resizable"],"libs/jquery/ui/jquery.ui.progressbar":["libs/jquery/ui/jquery.ui.widget"],"libs/jquery/ui/jquery.ui.tabs":["libs/jquery/ui/jquery.ui.widget"],"libs/jquery/ui/jquery.ui.menu":["libs/jquery/ui/jquery.ui.widget"],"libs/jquery/slickgrid/jquery.event.drag-2.0.min":["jquery","libs/jquery/ui/jquery.ui.sortable"],"libs/jquery/slickgrid/slick.core":["libs/jquery/slickgrid/jquery.event.drag-2.0.min","libs/jquery/ui/jquery.ui.sortable"],"libs/jquery/slickgrid/slick.grid":["libs/jquery/slickgrid/slick.core"],"libs/jquery/slickgrid/slick.dataview":["libs/jquery/slickgrid/slick.grid"],"libs/jquery/slickgrid/slick.pager":["libs/jquery/slickgrid/slick.dataview"],"libs/jquery/slickgrid/slick.columnpicker":["libs/jquery/slickgrid/slick.pager"],"app/util/output-table":["libs/jquery/slickgrid/slick.columnpicker","libs/jquery/ui/jquery.ui.sortable"],"app/util/ui":["libs/jquery/ui/jquery.ui.menu","libs/jquery/ui/jquery.ui.tabs","libs/jquery/ui/jquery.ui.progressbar","app/util/dom"],"libs/jquery/layout/jquery.layout":["libs/jquery/ui/jquery.ui.draggable"],"libs/jquery/jstree/jstree":["libs/jquery/jstree/vakata"],"libs/jquery/jstree/jstree.sort":["libs/jquery/jstree/jstree"],"libs/jquery/jstree/jstree.types":["libs/jquery/jstree/jstree"],"libs/jquery/jstree/jstree.themes":["libs/jquery/jstree/jstree"],"libs/jquery/jstree/jstree.ui":["libs/jquery/jstree/jstree"],"app/folders":["libs/jquery/jstree/jstree.themes"]}}),require(["app/util/config","app/layout","app/editors","app/history","app/bar-main","app/bar-editor","app/bar-status","app/theme","app/editor/editor.ace","app/editorsync","app/output","app/folders","app/queries","app/support","app/startup-tips","app/util/precog","app/util/querystring","app/eggmanager","app/gatrack"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){$(function(){function E(){if(D)return;c.setDirty(),C.invalidateTab(c.current())}function F(){var a=d.revisions(c.getName());C.displayHistoryList(a)}function I(a){for(var b=0;b<c.count();b++)if(c.getCode(b)===a)return!0;return!1}p.cache.disable();var t,u=b(a.get("ioPanesVertical"));u.getContainer().hide(),e(u.getBarMain()),$(h).on("changed",function(){u.refresh()}),$(h).on("change",function(b,c){a.set("theme",c)});var v=i(u.getCodeEditor(),a.get("ioPanesVertical"));v.setTabSize(a.get("tabSize")),v.setUseSoftTabs(a.get("softTabs")),$(u).on("resizeCodeEditor",function(){v.resize()}),$(u).on("ioOrientationChanged",function(b,c){a.set("ioPanesVertical",c),v.orientButton(c)}),$(h).on("change",function(a,b){v.setTheme(h.getEditorTheme(b,v.engine()))}),$(v).on("useSoftTabsChanged",function(b,c){a.set("softTabs",c)}),$(v).on("tabSizeChanged",function(b,c){a.set("tabSize",c)});var w=g(u.getStatusBar(),v,u),x=k(u.getOutput(),c),y=n(u.getSupport());y.addPanel("tutorial","https://quirrel.precog.com/tutorial.html"),y.addPanel("reference","https://quirrel.precog.com/reference.html"),y.addPanel("IRC channel","https://api.precog.com:9090/?channels=#quirrel"),$(u).on("resizeCodeEditor",function(){x.resize(),y.resize()}),$(x).on("syntaxError",function(a,b){v.highlightSyntax(b.line-1,b.column-1,b.text,"error")}),$(x).on("requestCursorChange",function(a,b){v.setCursorPosition(b.line-1,b.column-1)}),$(x).on("typeChanged",function(a,b){c.setOutputType(b)});var z={};$(p).on("execute",function(a,b,d,e){z[e]={query:b,name:c.getName()},w.startRequest()}),$(p).on("completed",function(a,b,e,f){var g=z[b];delete z[b],d.save(g.name,g.query,e),w.endRequest(!0);if(c.getName()===g.name)x.setOutput(e,null,c.getOutputOptions()),c.setOutputResult(e),C.historyPanelIsOpen()&&F();else{var h=c.getIndexByName(g.name);if(h>=0){var i=c.getOutputType(h);(i==="message"||i==="error")&&c.setOutputType("table",h),c.setOutputResult(e,h)}}s.trackQueryExecution("success")}),$(p).on("failed",function(a,b,d){d=d instanceof Array?d[0]:d;var e=z[b];delete z[b],w.endRequest(!1);if(c.getName()===e.name)x.setOutput(d,"error",c.getOutputOptions()),c.setOutputResult(d);else{var f=c.getIndexByName(e.name);f>=0&&c.setOutputResult(d,f)}s.trackQueryExecution("undefined"!=typeof d.lineNum?"syntax-error":"service-error")});var A;$(v).on("execute",function(a,b){if(r.easterEgg(b))return;clearInterval(A),A=setTimeout(function(){var a=x.paginationOptions();p.query(b)},0)}),$(c).on("activated",function(a,b){var d=c.getOutputResult(),e=c.getOutputType(),f=c.getOutputOptions();x.setOutput(d,e,f)}),$(c).on("saved",function(a,b){t.querySave(b.name,b.code)}),j(v,c,a);var B=l(u.getSystem());$(B).on("querypath",function(a,b){b.substr(0,1)!=="/"&&(b="/"+b);var d="/"+b;c.getCode().trim()==""?v.set(d):(c.add({code:d}),c.activate(c.count()-1)),v.triggerExecute()}),t=m(u.getQueries()),$(t).on("requestopenquery",function(a,b){c.open(b.name,b.code)}),$(t).on("removed",function(a,b){var d=c.getIndexByName(b);d>=0&&C.invalidateTab(d)});var C=f(u.getBarEditor(),t,v);$(c).on("saved",function(a,b){var d=c.getIndexById(b.id);if(d<0)return;C.changeTabName(d,b.name)}),$(c).on("added",function(a,b){C.addTab(b.name,!!b.dirty)}),$(c).on("removed",function(a,b){C.removeTabByName(b)});var D=!0;$(v).on("change",E),$(c).on("activated",function(a,b){C.activateTab(b),clearInterval(this.k),this.k=setTimeout(function(){D=!1},1e3),C.historyPanelIsOpen()&&F()}),$(c).on("deactivated",function(a,b){D=!0}),$(c).on("removed",function(a,b){t.queryExist(b)||d.remove(b)}),$(C).on("requesthistorylist",F),$(C).on("requestopenrevision",function(a,b){var e=c.getName(),f=d.load(e,b.index);b.usenewtab?(c.add({code:f.code,output:{result:f.data}}),c.activate(c.count()-1)):v.set(f.code),x.setOutput(f.data,null,c.getOutputOptions())}),$(C).on("tabrenamed",function(a,b){d.rename(b.oldname,b.newname),C.historyPanelIsOpen()&&F()});var G=o(u);c.load();var H=q.get("q");(!c.count()||H&&!I(H))&&c.add(H&&{code:H}),setTimeout(function(){c.activate(c.count()-1),$(x).on("optionsChanged",function(a,b){c.setOutputOptions(b)}),h.set(p.config.theme||a.get("theme","gray")),a.monitor.bind("theme",function(a,b){h.set(b)}),a.monitor.bind("softTabs",function(a,b){v.setUseSoftTabs(b)}),a.monitor.bind("tabSize",function(a,b){v.setTabSize(b)}),u.getContainer().show()},150)})}),define("main",function(){})