/*
 RequireJS text 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/requirejs/text for details
 jquery.layout 1.3.0 - Release Candidate 30.51
 $Date: 2012-05-12 08:00:00 (Sat, 12 May 2012) $
 $Rev: 303005 $

 Copyright (c) 2012
   Fabrizio Balliano (http://www.fabrizioballiano.net)
   Kevin Dalman (http://allpro.net)

 Dual licensed under the GPL (http://www.gnu.org/licenses/gpl.html)
 and MIT (http://www.opensource.org/licenses/mit-license.php) licenses.

 Changelog: http://layout.jquery-dev.net/changelog.cfm#1.3.0.rc30.5

 Docs: http://layout.jquery-dev.net/documentation.html
 Tips: http://layout.jquery-dev.net/tips.html
 Help: http://groups.google.com/group/jquery-ui-layout

 (c) 2009-2012 Michael Leibman
 michael{dot}leibman{at}gmail{dot}com
 http://github.com/mleibman/slickgrid

 Distributed under MIT license.
 All rights reserved.

 SlickGrid v2.1

 NOTES:
     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
     This increases the speed dramatically, but can only be done safely because there are no event handlers
     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
     and do proper cleanup.
*/
define("app/util/traverse",[],function(){return{get:function(b,i){for(var g=i.split(/\./g),h=b,a=g.shift();a&&h;)h=h[a],a=g.shift();return"undefined"===typeof h?h:JSON.parse(JSON.stringify(h))},set:function(b,i,g){for(var i=i.split(/\./g),h=i.shift();0<i.length;)"undefined"===typeof b[h]&&(b[h]={}),b=b[h],h=i.shift();g=JSON.stringify(g);return JSON.stringify(b[h])!==g?(b[h]=JSON.parse(g),!0):!1},remove:function(b,i){for(var g=i.split(/\./g),h=b,a=g.shift(),f;0<g.length;){f=g.shift();h=h[a];if("undefined"===
typeof h)return;a=f}delete h[a]}}});
(function(b){function i(){if(k.jStorage)try{f=p(String(k.jStorage))}catch(a){k.jStorage="{}"}else k.jStorage="{}";l=k.jStorage?String(k.jStorage).length:0}function g(){try{k.jStorage=r(f),m&&(m.setAttribute("jStorage",k.jStorage),m.save("jStorage")),l=k.jStorage?String(k.jStorage).length:0}catch(a){}}function h(a){if(!a||"string"!=typeof a&&"number"!=typeof a)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==a)throw new TypeError("Reserved key name");return!0}function a(){var m,
k,l,b=Infinity,h=!1;clearTimeout(v);if(f.__jstorage_meta&&"object"==typeof f.__jstorage_meta.TTL){m=+new Date;l=f.__jstorage_meta.TTL;for(k in l)l.hasOwnProperty(k)&&(l[k]<=m?(delete l[k],delete f[k],h=!0):l[k]<b&&(b=l[k]));Infinity!=b&&(v=setTimeout(a,b-m));h&&g()}}if(!b||!b.toJSON&&!Object.toJSON&&!window.JSON)throw Error("jQuery, MooTools or Prototype needs to be loaded before jStorage!");var f={},k={jStorage:"{}"},m=null,l=0,r=b.toJSON||Object.toJSON||window.JSON&&(JSON.encode||JSON.stringify),
p=b.evalJSON||window.JSON&&(JSON.decode||JSON.parse)||function(a){return String(a).evalJSON()},t=!1,v,w={isXML:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1},encode:function(a){if(!this.isXML(a))return!1;try{return(new XMLSerializer).serializeToString(a)}catch(f){try{return a.xml}catch(m){}}return!1},decode:function(a){var f="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(a){var f=new ActiveXObject("Microsoft.XMLDOM");f.async=
"false";f.loadXML(a);return f};if(!f)return!1;a=f.call("DOMParser"in window&&new DOMParser||window,a,"text/xml");return this.isXML(a)?a:!1}};b.jStorage={version:"0.1.7.0",set:function(a,m,k){h(a);k=k||{};w.isXML(m)?m={_is_xml:!0,xml:w.encode(m)}:"function"==typeof m?m=null:m&&"object"==typeof m&&(m=p(r(m)));f[a]=m;isNaN(k.TTL)?g():this.setTTL(a,k.TTL);return m},get:function(a,m){h(a);return a in f?f[a]&&"object"==typeof f[a]&&f[a]._is_xml&&f[a]._is_xml?w.decode(f[a].xml):f[a]:"undefined"==typeof m?
null:m},deleteKey:function(a){h(a);return a in f?(delete f[a],f.__jstorage_meta&&("object"==typeof f.__jstorage_meta.TTL&&a in f.__jstorage_meta.TTL)&&delete f.__jstorage_meta.TTL[a],g(),!0):!1},setTTL:function(m,k){var l=+new Date;h(m);k=Number(k)||0;return m in f?(f.__jstorage_meta||(f.__jstorage_meta={}),f.__jstorage_meta.TTL||(f.__jstorage_meta.TTL={}),0<k?f.__jstorage_meta.TTL[m]=l+k:delete f.__jstorage_meta.TTL[m],g(),a(),!0):!1},flush:function(){f={};g();return!0},storageObj:function(){function a(){}
a.prototype=f;return new a},index:function(){var a=[],m;for(m in f)f.hasOwnProperty(m)&&"__jstorage_meta"!=m&&a.push(m);return a},storageSize:function(){return l},currentBackend:function(){return t},storageAvailable:function(){return!!t},reInit:function(){var a;if(m&&m.addBehavior){a=document.createElement("link");m.parentNode.replaceChild(a,m);m=a;m.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(m);m.load("jStorage");a="{}";try{a=m.getAttribute("jStorage")}catch(f){}k.jStorage=
a;t="userDataBehavior"}i()}};a:{b=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),b=!0,window.localStorage.removeItem("_tmptest")}catch(x){}if(b)try{window.localStorage&&(k=window.localStorage,t="localStorage")}catch(E){}else if("globalStorage"in window)try{window.globalStorage&&(k=window.globalStorage[window.location.hostname],t="globalStorage")}catch(z){}else if(m=document.createElement("link"),m.addBehavior){m.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(m);
m.load("jStorage");b="{}";try{b=m.getAttribute("jStorage")}catch(L){}k.jStorage=b;t="userDataBehavior"}else{m=null;break a}i();a()}})(window.$||window.jQuery);define("libs/jquery/jstorage/jstorage",function(){});
define("app/util/storage",["app/util/traverse","libs/jquery/jstorage/jstorage"],function(b){return function(i,g){function h(a,m){if(null==a||"object"!==typeof a)return a;if(a instanceof Date){var f=new Date;f.setTime(a.getTime());return f}if(a instanceof Array){var f=[],k=a.length;k>m&&(k=m);for(var l=0;l<k;++l)f[l]=h(a[l],m);return f}if(a instanceof Object){f={};for(k in a)a.hasOwnProperty(k)&&(f[k]=h(a[k],m));return f}throw Error("Unable to copy obj! Its type isn't supported.");}function a(){var a=
h(r,m);$.jStorage.set(i,a);l=!1}function f(){t&&console.log("Load Storage Data");$.jStorage.reInit();var a=$.jStorage.get(i);$.extend(r,a)}function k(a,f,m){t&&(m="undefined"!==typeof m&&JSON.stringify(m)||"",97<m.length&&(m=m.substr(0,97)+"..."),console.log((a&&a+" "||"")+f+(m&&": "+m||"")))}var m=500,l=!1,r=$.extend({},g),p=function(){l=!0;clearInterval(this.killDelayedSave);this.killDelayedSave=setTimeout(function(){a()},100)};f();var t=!1;return{get:function(a,m){var f=b.get(r,a);k("get",a,f);
return"undefined"===typeof f?m:f},set:function(a,m,f){b.set(r,a,m)&&(k("set",a,m),this.save(f))},remove:function(a,m){k("del",a);b.remove(r,a);this.save(m)},keys:function(a){if((a=b.get(r,a))&&"object"===typeof a){var m=[],f;for(f in a)a.hasOwnProperty(f)&&m.push(f);return m}return[]},save:function(m){m?a():p()},load:function(){f()},clear:function(){$.jStorage.flush()},toString:function(){return JSON.stringify(r)},all:function(){return r},dirty:function(){return l}}}});
define("app/util/utils",[],function(){return{arrayDiff:function(b,i){return b.filter(function(b){return!(-1<i.indexOf(b))})},guid:function(){var b=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()},sortNodes:function(b,i){var g=$(b).map(function(){return this});g.sort(i);var h=g[0]&&g[0].parentNode;$(g).each(function(a){h.appendChild(g[a])})},truncate:function(b,i,g){i=i||25;g=g||"...";b.length>=i&&(b=b.substr(0,i-g.length)+
g);return b},normalizeQueryName:function(b){b=b.trim().toLowerCase();"/"===b.substr(0,1)&&(b=b.substr(1));b.replace(/[ \-.]+/g,"_");return b},arrayRemove:function(b,i){var g=b.indexOf(i);if(0>g)return b;b.splice(g,1);return b},validateQueryName:function(b,i,g){return b.match(/^[a-z0-9][a-z0-9 ]*[a-z0-9]$/i)?g.queryExist(i)?"a query with this identifier already exists":null:"the name can only include alpha-numeric characters, white spaces (but not in the beginning and at the end) and must be at least 2 characters long."}}});
define("app/util/storagemonitor",["app/util/traverse","app/util/storage","app/util/utils"],function(b,i,g){function h(a,f){if(typeof a!==typeof f)return!1;if(a instanceof Array){if(a.length!=f.length)return!1;for(var k=0;k<a.length;k++)if(!h(a[k],f[k]))return!1;return!0}if(a instanceof Object){var b=$.map(a,function(a,f){return f}),k=$.map(f,function(a,f){return f});if(!h(b,k))return!1;for(k=0;k<b.length;k++)if(!h(a[b[k]],f[b[k]]))return!1;return!0}return a===f}function a(){for(var a=!1,l=0;l<f.length;l++){k=
f[l];if(0==k.monitor.paths.length||k.dirty())break;a||($.jStorage.reInit(),a=!0);for(var g=k.all(),i=k.monitor.paths.length,t=$.jStorage.get(k.monitor.key,{}),v,w,x=0;x<i;x++)v=k.monitor.paths[x],w=b.get(t,v),"undefined"===typeof k.monitor.last[v]?k.monitor.last[v]=w:!h(k.monitor.last[v],w)&&!h(w,b.get(g,v))&&(k.monitor.last[v]=w,b.set(g,v,w),$(k).trigger(v,[w]))}}var f=[],k;return function(m,k){var b=i(m,k),h={};b.monitor={paths:[],last:{},key:m,start:function(){g.arrayRemove(f,b).push(b);1===f.length&&
setInterval(a,5E3)},end:function(){g.arrayRemove(f,void 0);0===f.length&&clearInterval(void 0)},monitoring:function(){return 0<=f.indexOf(b)},bind:function(a,f){h[a]=h[a]&&++h[a]||1;1===h[a]&&b.monitor.paths.push(a);$(b).on(a,f)},unbind:function(a,f){h[a]&&(h[a]--,0===h[a]&&b.monitor.paths.splice(b.monitor.paths.indexOf(a),1),$(b).off(a,f))}};return b}});
define("app/util/config",["app/util/storagemonitor"],function(b){return b("pg-labcoat-config",{theme:"gray",indentUsingSpaces:!1,tabSize:2,softTabs:!0,disableClientCache:!0,ioPanesVertical:!0,queryLimit:1E3})});
define("rtext",["module"],function(b){var i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],g=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,h=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,a="undefined"!==typeof location&&location.href,f=a&&location.protocol&&location.protocol.replace(/\:/,""),k=a&&location.hostname,m=a&&(location.port||void 0),l=[],r=b.config&&b.config()||{},p,t;p={version:"2.0.1",strip:function(a){if(a){var a=a.replace(g,""),f=a.match(h);f&&(a=f[1])}else a="";return a},
jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:r.createXhr||function(){var a,f,m;if("undefined"!==typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!==typeof ActiveXObject)for(f=0;3>f;f+=1){m=i[f];try{a=new ActiveXObject(m)}catch(k){}if(a){i=[m];break}}return a},parseName:function(a){var f=
!1,m=a.indexOf("."),k=a.substring(0,m),a=a.substring(m+1,a.length),m=a.indexOf("!");-1!==m&&(f=a.substring(m+1,a.length),f="strip"===f,a=a.substring(0,m));return{moduleName:k,ext:a,strip:f}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,f,m,k){var l=p.xdRegExp.exec(a),b;if(!l)return!0;a=l[2];l=l[3];l=l.split(":");b=l[1];l=l[0];return(!a||a===f)&&(!l||l.toLowerCase()===m.toLowerCase())&&(!b&&!l||b===k)},finishLoad:function(a,f,m,k){m=f?p.strip(m):m;r.isBuild&&(l[a]=m);k(m)},load:function(l,
b,h,g){if(g.isBuild&&!g.inlineText)h();else{r.isBuild=g.isBuild;var i=p.parseName(l),g=i.moduleName+"."+i.ext,t=b.toUrl(g),C=r.useXhr||p.useXhr;!a||C(t,f,k,m)?p.get(t,function(a){p.finishLoad(l,i.strip,a,h)},function(a){h.error&&h.error(a)}):b([g],function(a){p.finishLoad(i.moduleName+"."+i.ext,i.strip,a,h)})}},write:function(a,f,m){if(l.hasOwnProperty(f)){var k=p.jsEscape(l[f]);m.asModule(a+"!"+f,"define(function () { return '"+k+"';});\n")}},writeFile:function(a,f,m,k,l){var f=p.parseName(f),b=
f.moduleName+"."+f.ext,h=m.toUrl(f.moduleName+"."+f.ext)+".js";p.load(b,m,function(){var f=function(a){return k(h,a)};f.asModule=function(a,f){return k.asModule(a,h,f)};p.write(a,b,f,l)},l)}};"undefined"!==typeof process&&process.versions&&process.versions.node?(t=require.nodeRequire("fs"),p.get=function(a,f){var m=t.readFileSync(a,"utf8");0===m.indexOf("\ufeff")&&(m=m.substring(1));f(m)}):p.createXhr()?p.get=function(a,f,m){var k=p.createXhr();k.open("GET",a,!0);if(r.onXhr)r.onXhr(k,a);k.onreadystatechange=
function(){var l;4===k.readyState&&(l=k.status,399<l&&600>l?(l=Error(a+" HTTP status: "+l),l.xhr=k,m(l)):f(k.responseText))};k.send(null)}:"undefined"!==typeof Packages&&(p.get=function(a,f){var m=new java.io.File(a),k=java.lang.System.getProperty("line.separator"),m=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(m),"utf-8")),l,b,h="";try{l=new java.lang.StringBuffer;(b=m.readLine())&&(b.length()&&65279===b.charAt(0))&&(b=b.substring(1));for(l.append(b);null!==
(b=m.readLine());)l.append(k),l.append(b);h=String(l.toString())}finally{m.close()}f(h)});return p});define("rtext!templates/layout.full.html",[],function(){return'<div class="pg-labcoat ui-layout-center">\r\n    <div class="pg-mainbar ui-layout-north pg-pane ui-widget-header"></div>\r\n    <div class="pg-system ui-layout-west pg-pane">\r\n        <div class="pg-folders ui-layout-center pg-pane">\r\n            <div class="pg-toolbar ui-layout-north pg-pane ui-widget-header"></div>\r\n            <div class="pg-tree ui-layout-center pg-pane"></div>\r\n        </div>\r\n        <div class="pg-queries ui-layout-south pg-pane">\r\n            <div class="pg-toolbar ui-layout-north pg-pane ui-widget-header"></div>\r\n            <div class="pg-queries ui-layout-center pg-pane"></div>\r\n        </div>\r\n    </div>\r\n    <div class="pg-main ui-layout-center pg-pane">\r\n        <div class="pg-editor-support ui-layout-center pg-pane">\r\n            <div class="pg-editor ui-layout-center pg-pane">\r\n                <div class="pg-io ui-layout-center pg-pane">\r\n                    <div class="pg-input ui-layout-center pg-pane">\r\n                        <div class="pg-toolbar ui-layout-north pg-pane ui-widget-header"></div>\r\n                        <div class="pg-code-editor ui-layout-center pg-pane"></div>\r\n                    </div>\r\n                    <div class="pg-output ui-layout-south pg-pane">\r\n                        <div class="pg-toolbar ui-layout-north pg-pane ui-widget-header"></div>\r\n                        <div class="pg-result ui-layout-center pg-pane"></div>\r\n                    </div>\r\n                </div>\r\n                <div class="pg-statusbar ui-layout-south pg-pane ui-widget-header"></div>\r\n            </div>\r\n            <div class="pg-support ui-layout-east pg-pane"></div>\r\n        </div>\r\n<\!--\r\n        <div class="ui-layout-south pg-pane"></div>\r\n--\>\r\n    </div>\r\n</div>'});
(function(b,i){function g(a,f){var l,g;l=a.nodeName.toLowerCase();if("area"===l){l=a.parentNode;g=l.name;if(!a.href||!g||"map"!==l.nodeName.toLowerCase())return!1;l=b("img[usemap=#"+g+"]")[0];return!!l&&h(l)}return(/input|select|textarea|button|object/.test(l)?!a.disabled:"a"===l?a.href||f:f)&&h(a)}function h(a){return!b(a).parents().andSelf().filter(function(){return"hidden"===b.css(this,"visibility")||b.expr.filters.hidden(this)}).length}var a=0,f=/^ui-id-\d+$/;b.ui=b.ui||{};b.ui.version||(b.extend(b.ui,
{version:"@VERSION",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),b.fn.extend({_focus:b.fn.focus,focus:function(a,f){return"number"===typeof a?this.each(function(){var l=this;setTimeout(function(){b(l).focus();f&&f.call(l)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;
a=b.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.css(this,"position"))&&/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?b(document):
a},zIndex:function(a){if(a!==i)return this.css("zIndex",a);if(this.length)for(var a=b(this[0]),f;a.length&&a[0]!==document;){f=a.css("position");if("absolute"===f||"relative"===f||"fixed"===f)if(f=parseInt(a.css("zIndex"),10),!isNaN(f)&&0!==f)return f;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&b(this).removeAttr("id")})},disableSelection:function(){return this.bind((b.support.selectstart?
"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),b("<a>").outerWidth(1).jquery||b.each(["Width","Height"],function(a,f){function l(a,f,m,k){b.each(h,function(){f-=parseFloat(b.css(a,"padding"+this))||0;m&&(f-=parseFloat(b.css(a,"border"+this+"Width"))||0);k&&(f-=parseFloat(b.css(a,"margin"+this))||0)});return f}var h="Width"===f?["Left","Right"]:["Top","Bottom"],g=f.toLowerCase(),t={innerWidth:b.fn.innerWidth,
innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};b.fn["inner"+f]=function(a){return a===i?t["inner"+f].call(this):this.each(function(){b(this).css(g,l(this,a)+"px")})};b.fn["outer"+f]=function(a,k){return"number"!==typeof a?t["outer"+f].call(this,a):this.each(function(){b(this).css(g,l(this,a,!0,k)+"px")})}}),b.extend(b.expr[":"],{data:function(a,f,l){return!!b.data(a,l[3])},focusable:function(a){return g(a,!isNaN(b.attr(a,"tabindex")))},tabbable:function(a){var f=
b.attr(a,"tabindex"),l=isNaN(f);return(l||0<=f)&&g(a,!l)}}),b(function(){var a=document.body,f=a.appendChild(f=document.createElement("div"));f.offsetHeight;b.extend(f.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});b.support.minHeight=100===f.offsetHeight;b.support.selectstart="onselectstart"in f;a.removeChild(f).style.display="none"}),b.extend(b.ui,{plugin:{add:function(a,f,l){var h,a=b.ui[a].prototype;for(h in l)a.plugins[h]=a.plugins[h]||[],a.plugins[h].push([f,l[h]])},call:function(a,
f,l){var b=a.plugins[f];if(b&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(f=0;f<b.length;f++)a.options[b[f][0]]&&b[f][1].apply(a.element,l)}},contains:b.contains,hasScroll:function(a,f){if("hidden"===b(a).css("overflow"))return!1;var l=f&&"left"===f?"scrollLeft":"scrollTop",h=!1;if(0<a[l])return!0;a[l]=1;h=0<a[l];a[l]=0;return h},isOverAxis:function(a,f,l){return a>f&&a<f+l},isOver:function(a,f,l,h,g,i){return b.ui.isOverAxis(a,l,g)&&b.ui.isOverAxis(f,h,i)}}))})(jQuery);
define("libs/jquery/ui/jquery.ui.core",function(){});
(function(b,i){function g(a,f,m){return[parseInt(a[0],10)*(t.test(a[0])?f/100:1),parseInt(a[1],10)*(t.test(a[1])?m/100:1)]}b.ui=b.ui||{};var h,a=Math.max,f=Math.abs,k=Math.round,m=/left|center|right/,l=/top|center|bottom/,r=/[\+\-]\d+%?/,p=/^\w+/,t=/%$/,v=b.fn.position;b.position={scrollbarWidth:function(){if(h!==i)return h;var a,f,m=b("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");f=m.children()[0];b("body").append(m);a=f.offsetWidth;
m.css("overflow","scroll");f=f.offsetWidth;a===f&&(f=m[0].clientWidth);m.remove();return h=a-f},getScrollInfo:function(a){var f=a.isWindow?"":a.element.css("overflow-x"),m=a.isWindow?"":a.element.css("overflow-y"),m="scroll"===m||"auto"===m&&a.height<a.element[0].scrollHeight;return{width:"scroll"===f||"auto"===f&&a.width<a.element[0].scrollWidth?b.position.scrollbarWidth():0,height:m?b.position.scrollbarWidth():0}},getWithinInfo:function(a){var a=b(a||window),f=b.isWindow(a[0]);return{element:a,
isWindow:f,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:f?a.width():a.outerWidth(),height:f?a.height():a.outerHeight()}}};b.fn.position=function(h){if(!h||!h.of)return v.apply(this,arguments);var h=b.extend({},h),i,t,C,z,x,w=b(h.of),A=b.position.getWithinInfo(h.within),L=b.position.getScrollInfo(A),E=w[0],Za=(h.collision||"flip").split(" "),Ka={};9===E.nodeType?(t=w.width(),C=w.height(),z={top:0,left:0}):b.isWindow(E)?(t=w.width(),C=w.height(),z={top:w.scrollTop(),
left:w.scrollLeft()}):E.preventDefault?(h.at="left top",t=C=0,z={top:E.pageY,left:E.pageX}):(t=w.outerWidth(),C=w.outerHeight(),z=w.offset());x=b.extend({},z);b.each(["my","at"],function(){var a=(h[this]||"").split(" "),f,k;1===a.length&&(a=m.test(a[0])?a.concat(["center"]):l.test(a[0])?["center"].concat(a):["center","center"]);a[0]=m.test(a[0])?a[0]:"center";a[1]=l.test(a[1])?a[1]:"center";f=r.exec(a[0]);k=r.exec(a[1]);Ka[this]=[f?f[0]:0,k?k[0]:0];h[this]=[p.exec(a[0])[0],p.exec(a[1])[0]]});1===
Za.length&&(Za[1]=Za[0]);"right"===h.at[0]?x.left+=t:"center"===h.at[0]&&(x.left+=t/2);"bottom"===h.at[1]?x.top+=C:"center"===h.at[1]&&(x.top+=C/2);i=g(Ka.at,t,C);x.left+=i[0];x.top+=i[1];return this.each(function(){var m,l,r=b(this),p=r.outerWidth(),v=r.outerHeight(),E=parseInt(b.css(this,"marginLeft"),10)||0,Bb=parseInt(b.css(this,"marginTop"),10)||0,Ia=p+E+(parseInt(b.css(this,"marginRight"),10)||0)+L.width,Qa=v+Bb+(parseInt(b.css(this,"marginBottom"),10)||0)+L.height,Ja=b.extend({},x),yb=g(Ka.my,
r.outerWidth(),r.outerHeight());"right"===h.my[0]?Ja.left-=p:"center"===h.my[0]&&(Ja.left-=p/2);"bottom"===h.my[1]?Ja.top-=v:"center"===h.my[1]&&(Ja.top-=v/2);Ja.left+=yb[0];Ja.top+=yb[1];b.support.offsetFractions||(Ja.left=k(Ja.left),Ja.top=k(Ja.top));m={marginLeft:E,marginTop:Bb};b.each(["left","top"],function(a,f){if(b.ui.position[Za[a]])b.ui.position[Za[a]][f](Ja,{targetWidth:t,targetHeight:C,elemWidth:p,elemHeight:v,collisionPosition:m,collisionWidth:Ia,collisionHeight:Qa,offset:[i[0]+yb[0],
i[1]+yb[1]],my:h.my,at:h.at,within:A,elem:r})});b.fn.bgiframe&&r.bgiframe();h.using&&(l=function(m){var l=z.left-Ja.left,k=l+t-p,b=z.top-Ja.top,g=b+C-v,i={target:{element:w,left:z.left,top:z.top,width:t,height:C},element:{element:r,left:Ja.left,top:Ja.top,width:p,height:v},horizontal:0>k?"left":0<l?"right":"center",vertical:0>g?"top":0<b?"bottom":"middle"};t<p&&f(l+k)<t&&(i.horizontal="center");C<v&&f(b+g)<C&&(i.vertical="middle");i.important=a(f(l),f(k))>a(f(b),f(g))?"horizontal":"vertical";h.using.call(this,
m,i)});r.offset(b.extend(Ja,{using:l}))})};b.ui.position={fit:{left:function(f,m){var l=m.within,k=l.isWindow?l.scrollLeft:l.offset.left,b=l.width,h=f.left-m.collisionPosition.marginLeft,l=k-h,g=h+m.collisionWidth-b-k;m.collisionWidth>b?0<l&&0>=g?(k=f.left+l+m.collisionWidth-b-k,f.left+=l-k):f.left=0<g&&0>=l?k:l>g?k+b-m.collisionWidth:k:f.left=0<l?f.left+l:0<g?f.left-g:a(f.left-h,f.left)},top:function(f,m){var l=m.within,k=l.isWindow?l.scrollTop:l.offset.top,b=m.within.height,h=f.top-m.collisionPosition.marginTop,
l=k-h,g=h+m.collisionHeight-b-k;m.collisionHeight>b?0<l&&0>=g?(k=f.top+l+m.collisionHeight-b-k,f.top+=l-k):f.top=0<g&&0>=l?k:l>g?k+b-m.collisionHeight:k:f.top=0<l?f.top+l:0<g?f.top-g:a(f.top-h,f.top)}},flip:{left:function(a,m){var l=m.within,k=l.offset.left+l.scrollLeft,b=l.width,h=l.isWindow?0:l.offset.left,g=a.left-m.collisionPosition.marginLeft,l=g-h,r=g+m.collisionWidth-b-h,g="left"===m.my[0]?-m.elemWidth:"right"===m.my[0]?m.elemWidth:0,i="left"===m.at[0]?m.targetWidth:"right"===m.at[0]?-m.targetWidth:
0,p=-2*m.offset[0];if(0>l){if(k=a.left+g+i+p+m.collisionWidth-b-k,0>k||k<f(l))a.left+=g+i+p}else if(0<r&&(k=a.left-m.collisionPosition.marginLeft+g+i+p-h,0<k||f(k)<r))a.left+=g+i+p},top:function(a,m){var l=m.within,k=l.offset.top+l.scrollTop,b=l.height,h=l.isWindow?0:l.offset.top,g=a.top-m.collisionPosition.marginTop,l=g-h,r=g+m.collisionHeight-b-h,g="top"===m.my[1]?-m.elemHeight:"bottom"===m.my[1]?m.elemHeight:0,i="top"===m.at[1]?m.targetHeight:"bottom"===m.at[1]?-m.targetHeight:0,p=-2*m.offset[1];
if(0>l){if(k=a.top+g+i+p+m.collisionHeight-b-k,a.top+g+i+p>l&&(0>k||k<f(l)))a.top+=g+i+p}else if(0<r&&(k=a.top-m.collisionPosition.marginTop+g+i+p-h,a.top+g+i+p>r&&(0<k||f(k)<r)))a.top+=g+i+p}},flipfit:{left:function(){b.ui.position.flip.left.apply(this,arguments);b.ui.position.fit.left.apply(this,arguments)},top:function(){b.ui.position.flip.top.apply(this,arguments);b.ui.position.fit.top.apply(this,arguments)}}};var w,x,E,z,L=document.getElementsByTagName("body")[0];E=document.createElement("div");
w=document.createElement(L?"div":"body");x={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};L&&b.extend(x,{position:"absolute",left:"-1000px",top:"-1000px"});for(z in x)w.style[z]=x[z];w.appendChild(E);x=L||document.documentElement;x.insertBefore(w,x.firstChild);E.style.cssText="position: absolute; left: 10.7432222px;";E=b(E).offset().left;b.support.offsetFractions=10<E&&11>E;w.innerHTML="";x.removeChild(w);if(!1!==b.uiBackCompat){var C=jQuery,A=C.fn.position;C.fn.position=
function(a){if(!a||!a.offset)return A.call(this,a);var f=a.offset.split(" "),m=a.at.split(" ");1===f.length&&(f[1]=f[0]);/^\d/.test(f[0])&&(f[0]="+"+f[0]);/^\d/.test(f[1])&&(f[1]="+"+f[1]);1===m.length&&(/left|center|right/.test(m[0])?m[1]="center":(m[1]=m[0],m[0]="center"));return A.call(this,C.extend(a,{at:m[0]+f[0]+" "+m[1]+f[1],offset:i}))}}})(jQuery);define("libs/jquery/ui/jquery.ui.position",function(){});
(function(b,i){var g=Array.prototype.slice,h=b.cleanData;b.cleanData=function(a){for(var f=0,k;null!=(k=a[f]);f++)try{b(k).triggerHandler("remove")}catch(m){}h(a)};b.widget=function(a,f,k){var m,l,h,g,i=a.split(".")[0],a=a.split(".")[1];m=i+"-"+a;k||(k=f,f=b.Widget);b.expr[":"][m]=function(a){return!!b.data(a,m)};b[i]=b[i]||{};l=b[i][a];h=b[i][a]=function(a,f){if(!this._createWidget)return new h(a,f);arguments.length&&this._createWidget(a,f)};b.extend(h,l,{version:k.version,_proto:b.extend({},k),
_childConstructors:[]});g=new f;g.options=b.widget.extend({},g.options);b.each(k,function(a,m){if(b.isFunction(m)){var l=function(){return f.prototype[a].apply(this,arguments)},h=function(m){return f.prototype[a].apply(this,m)};k[a]=function(){var a=this._super,f=this._superApply,k;this._super=l;this._superApply=h;k=m.apply(this,arguments);this._super=a;this._superApply=f;return k}}});h.prototype=b.widget.extend(g,{widgetEventPrefix:a},k,{constructor:h,namespace:i,widgetName:a,widgetBaseClass:m,widgetFullName:m});
l?(b.each(l._childConstructors,function(a,f){var m=f.prototype;b.widget(m.namespace+"."+m.widgetName,h,f._proto)}),delete l._childConstructors):f._childConstructors.push(h);b.widget.bridge(a,h)};b.widget.extend=function(a){for(var f=g.call(arguments,1),k=0,m=f.length,l,h;k<m;k++)for(l in f[k])h=f[k][l],f[k].hasOwnProperty(l)&&h!==i&&(a[l]=b.isPlainObject(h)?b.widget.extend({},a[l],h):h);return a};b.widget.bridge=function(a,f){var k=f.prototype.widgetFullName;b.fn[a]=function(m){var l="string"===typeof m,
h=g.call(arguments,1),p=this,m=!l&&h.length?b.widget.extend.apply(null,[m].concat(h)):m;l?this.each(function(){var f,l=b.data(this,k);if(!l)return b.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+m+"'");if(!b.isFunction(l[m])||"_"===m.charAt(0))return b.error("no such method '"+m+"' for "+a+" widget instance");f=l[m].apply(l,h);if(f!==l&&f!==i)return p=f&&f.jquery?p.pushStack(f.get()):f,!1}):this.each(function(){var a=b.data(this,k);a?a.option(m||{})._init():
new f(m,this)});return p}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(a,f){f=b(f||this.defaultElement||this)[0];this.element=b(f);this.options=b.widget.extend({},this.options,this._getCreateOptions(),a);this.bindings=b();this.hoverable=b();this.focusable=b();f!==this&&(b.data(f,this.widgetName,this),b.data(f,this.widgetFullName,this),this._bind({remove:"destroy"}),
this.document=b(f.style?f.ownerDocument:f.document||f),this.window=b(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy();this.element.unbind("."+this.widgetName).removeData(this.widgetName).removeData(this.widgetFullName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetFullName+
"-disabled ui-state-disabled");this.bindings.unbind("."+this.widgetName);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(a,f){var k=a,m,l,h;if(0===arguments.length)return b.widget.extend({},this.options);if("string"===typeof a)if(k={},m=a.split("."),a=m.shift(),m.length){l=k[a]=b.widget.extend({},this.options[a]);for(h=0;h<m.length-1;h++)l[m[h]]=l[m[h]]||{},l=l[m[h]];a=m.pop();if(f===
i)return l[a]===i?null:l[a];l[a]=f}else{if(f===i)return this.options[a]===i?null:this.options[a];k[a]=f}this._setOptions(k);return this},_setOptions:function(a){for(var f in a)this._setOption(f,a[f]);return this},_setOption:function(a,f){this.options[a]=f;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!f).attr("aria-disabled",f),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",
!1)},disable:function(){return this._setOption("disabled",!0)},_bind:function(a,f){f?(a=b(a),this.bindings=this.bindings.add(a)):(f=a,a=this.element);var k=this;b.each(f,function(f,l){function h(){if(!(!0===k.options.disabled||b(this).hasClass("ui-state-disabled")))return("string"===typeof l?k[l]:l).apply(k,arguments)}"string"!==typeof l&&(h.guid=l.guid=l.guid||h.guid||jQuery.guid++);var g=f.match(/^(\w+)\s*(.*)$/),i=g[1]+"."+k.widgetName;(g=g[2])?k.widget().delegate(g,i,h):a.bind(i,h)})},_delay:function(a,
f){var k=this;return setTimeout(function(){return("string"===typeof a?k[a]:a).apply(k,arguments)},f||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._bind(a,{mouseenter:function(a){b(a.currentTarget).addClass("ui-state-hover")},mouseleave:function(a){b(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._bind(a,{focusin:function(a){b(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){b(a.currentTarget).removeClass("ui-state-focus")}})},
_trigger:function(a,f,k){var m,l=this.options[a],k=k||{},f=b.Event(f);f.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();f.target=this.element[0];if(a=f.originalEvent)for(m in a)m in f||(f[m]=a[m]);this.element.trigger(f,k);return!(b.isFunction(l)&&!1===l.apply(this.element[0],[f].concat(k))||f.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(a,f){b.Widget.prototype["_"+a]=function(k,m,l){"string"===typeof m&&(m={effect:m});var h,g=!m?a:!0===m||"number"===
typeof m?f:m.effect||f,m=m||{};"number"===typeof m&&(m={duration:m});h=!b.isEmptyObject(m);m.complete=l;m.delay&&k.delay(m.delay);if(h&&b.effects&&(b.effects.effect[g]||!1!==b.uiBackCompat&&b.effects[g]))k[a](m);else if(g!==a&&k[g])k[g](m.duration,m.easing,l);else k.queue(function(f){b(this)[a]();l&&l.call(k[0]);f()})}});!1!==b.uiBackCompat&&(b.Widget.prototype._getCreateOptions=function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]})})(jQuery);
define("libs/jquery/ui/jquery.ui.widget",function(){});
(function(b){var i=!1;b(document).mouseup(function(){i=!1});b.widget("ui.mouse",{version:"@VERSION",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var g=this;this.element.bind("mousedown."+this.widgetName,function(b){return g._mouseDown(b)}).bind("click."+this.widgetName,function(h){if(!0===b.data(h.target,g.widgetName+".preventClickEvent"))return b.removeData(h.target,g.widgetName+".preventClickEvent"),h.stopImmediatePropagation(),!1});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(g){if(!i){this._mouseStarted&&this._mouseUp(g);this._mouseDownEvent=g;var h=this,a=1===g.which,f="string"===typeof this.options.cancel&&g.target.nodeName?b(g.target).closest(this.options.cancel).length:!1;if(!a||f||!this._mouseCapture(g))return!0;this.mouseDelayMet=!this.options.delay;
this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){h.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(g)&&this._mouseDelayMet(g)&&(this._mouseStarted=!1!==this._mouseStart(g),!this._mouseStarted))return g.preventDefault(),!0;!0===b.data(g.target,this.widgetName+".preventClickEvent")&&b.removeData(g.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return h._mouseMove(a)};this._mouseUpDelegate=function(a){return h._mouseUp(a)};b(document).bind("mousemove."+
this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);g.preventDefault();return i=!0}},_mouseMove:function(g){if(b.browser.msie&&!(9<=document.documentMode)&&!g.button)return this._mouseUp(g);if(this._mouseStarted)return this._mouseDrag(g),g.preventDefault();this._mouseDistanceMet(g)&&this._mouseDelayMet(g)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,g))?this._mouseDrag(g):this._mouseUp(g));return!this._mouseStarted},_mouseUp:function(g){b(document).unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,g.target===this._mouseDownEvent.target&&b.data(g.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(g));return!1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},
_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);define("libs/jquery/ui/jquery.ui.mouse",function(){});
(function(b){b.widget("ui.resizable",b.ui.mouse,{version:"@VERSION",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var h=this,a=this.options;this.element.addClass("ui-resizable");b.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,
_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(b('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),
this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",
zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=a.handles||(!b(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var f=this.handles.split(",");
this.handles={};for(var k=0;k<f.length;k++){var m=b.trim(f[k]),l=b('<div class="ui-resizable-handle ui-resizable-'+m+'"></div>');l.css({zIndex:a.zIndex});"se"==m&&l.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[m]=".ui-resizable-"+m;this.element.append(l)}}this._renderAxis=function(a){var a=a||this.element,f;for(f in this.handles){this.handles[f].constructor==String&&(this.handles[f]=b(this.handles[f],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var m=
b(this.handles[f],this.element),l=0,l=/sw|ne|nw|se|n|s/.test(f)?m.outerHeight():m.outerWidth(),m=["padding",/ne|nw|n/.test(f)?"Top":/se|sw|s/.test(f)?"Bottom":/^e$/.test(f)?"Right":"Left"].join("");a.css(m,l);this._proportionallyResize()}b(this.handles[f])}};this._renderAxis(this.element);this._handles=b(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!h.resizing){if(this.className)var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);h.axis=
a&&a[1]?a[1]:"se"}});a.autoHide&&(this._handles.hide(),b(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(b(this).removeClass("ui-resizable-autohide"),h._handles.show())}).mouseleave(function(){!a.disabled&&!h.resizing&&(b(this).addClass("ui-resizable-autohide"),h._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();var h=function(a){b(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
if(this.elementIsWrapper){h(this.element);var a=this.element;a.after(this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);h(this.originalElement);return this},_mouseCapture:function(h){var a=!1,f;for(f in this.handles)b(this.handles[f])[0]==h.target&&(a=!0);return!this.options.disabled&&a},_mouseStart:function(h){var a=this.options,f=this.element.position(),
k=this.element;this.resizing=!0;this.documentScroll={top:b(document).scrollTop(),left:b(document).scrollLeft()};(k.is(".ui-draggable")||/absolute/.test(k.css("position")))&&k.css({position:"absolute",top:f.top,left:f.left});this._renderProxy();var f=i(this.helper.css("left")),m=i(this.helper.css("top"));a.containment&&(f+=b(a.containment).scrollLeft()||0,m+=b(a.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:f,top:m};this.size=this._helper?{width:k.outerWidth(),height:k.outerHeight()}:
{width:k.width(),height:k.height()};this.originalSize=this._helper?{width:k.outerWidth(),height:k.outerHeight()}:{width:k.width(),height:k.height()};this.originalPosition={left:f,top:m};this.sizeDiff={width:k.outerWidth()-k.width(),height:k.outerHeight()-k.height()};this.originalMousePosition={left:h.pageX,top:h.pageY};this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1;a=b(".ui-resizable-"+this.axis).css("cursor");b("body").css("cursor",
"auto"==a?this.axis+"-resize":a);k.addClass("ui-resizable-resizing");this._propagate("start",h);return!0},_mouseDrag:function(b){var a=this.helper,f=this.originalMousePosition,k=this._change[this.axis];if(!k)return!1;f=k.apply(this,[b,b.pageX-f.left||0,b.pageY-f.top||0]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)f=this._updateRatio(f,b);f=this._respectSize(f,b);this._propagate("resize",b);a.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+
"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(f);this._trigger("resize",b,this.ui());return!1},_mouseStop:function(h){this.resizing=!1;var a=this.options;if(this._helper){var f=this._proportionallyResizeElements,k=f.length&&/textarea/i.test(f[0].nodeName),f=k&&b.ui.hasScroll(f[0],"left")?0:this.sizeDiff.height,k=k?0:this.sizeDiff.width,k={width:this.helper.width()-k,height:this.helper.height()-f},f=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,m=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;a.animate||this.element.css(b.extend(k,{top:m,left:f}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!a.animate&&this._proportionallyResize()}b("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",h);this._helper&&this.helper.remove();return!1},_updateVirtualBoundaries:function(b){var a=
this.options,f,k,m,a={minWidth:g(a.minWidth)?a.minWidth:0,maxWidth:g(a.maxWidth)?a.maxWidth:Infinity,minHeight:g(a.minHeight)?a.minHeight:0,maxHeight:g(a.maxHeight)?a.maxHeight:Infinity};if(this._aspectRatio||b)b=a.minHeight*this.aspectRatio,k=a.minWidth/this.aspectRatio,f=a.maxHeight*this.aspectRatio,m=a.maxWidth/this.aspectRatio,b>a.minWidth&&(a.minWidth=b),k>a.minHeight&&(a.minHeight=k),f<a.maxWidth&&(a.maxWidth=f),m<a.maxHeight&&(a.maxHeight=m);this._vBoundaries=a},_updateCache:function(b){this.offset=
this.helper.offset();g(b.left)&&(this.position.left=b.left);g(b.top)&&(this.position.top=b.top);g(b.height)&&(this.size.height=b.height);g(b.width)&&(this.size.width=b.width)},_updateRatio:function(b){var a=this.position,f=this.size,k=this.axis;g(b.height)?b.width=b.height*this.aspectRatio:g(b.width)&&(b.height=b.width/this.aspectRatio);"sw"==k&&(b.left=a.left+(f.width-b.width),b.top=null);"nw"==k&&(b.top=a.top+(f.height-b.height),b.left=a.left+(f.width-b.width));return b},_respectSize:function(b){var a=
this._vBoundaries,f=this.axis,k=g(b.width)&&a.maxWidth&&a.maxWidth<b.width,m=g(b.height)&&a.maxHeight&&a.maxHeight<b.height,l=g(b.width)&&a.minWidth&&a.minWidth>b.width,i=g(b.height)&&a.minHeight&&a.minHeight>b.height;l&&(b.width=a.minWidth);i&&(b.height=a.minHeight);k&&(b.width=a.maxWidth);m&&(b.height=a.maxHeight);var p=this.originalPosition.left+this.originalSize.width,t=this.position.top+this.size.height,v=/sw|nw|w/.test(f),f=/nw|ne|n/.test(f);l&&v&&(b.left=p-a.minWidth);k&&v&&(b.left=p-a.maxWidth);
i&&f&&(b.top=t-a.minHeight);m&&f&&(b.top=t-a.maxHeight);(a=!b.width&&!b.height)&&!b.left&&b.top?b.top=null:a&&(!b.top&&b.left)&&(b.left=null);return b},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var g=this.helper||this.element,a=0;a<this._proportionallyResizeElements.length;a++){var f=this._proportionallyResizeElements[a];if(!this.borderDif){var k=[f.css("borderTopWidth"),f.css("borderRightWidth"),f.css("borderBottomWidth"),f.css("borderLeftWidth")],m=[f.css("paddingTop"),
f.css("paddingRight"),f.css("paddingBottom"),f.css("paddingLeft")];this.borderDif=b.map(k,function(a,f){var b=parseInt(a,10)||0,k=parseInt(m[f],10)||0;return b+k})}if(!b.browser.msie||!b(g).is(":hidden")&&!b(g).parents(":hidden").length)f.css({height:g.height()-this.borderDif[0]-this.borderDif[2]||0,width:g.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var g=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||b('<div style="overflow:hidden;"></div>');
var a=b.browser.msie&&7>b.browser.version,f=a?1:0,a=a?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+a,height:this.element.outerHeight()+a,position:"absolute",left:this.elementOffset.left-f+"px",top:this.elementOffset.top-f+"px",zIndex:++g.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(b,a){return{width:this.originalSize.width+a}},w:function(b,a){return{left:this.originalPosition.left+a,width:this.originalSize.width-
a}},n:function(b,a,f){return{top:this.originalPosition.top+f,height:this.originalSize.height-f}},s:function(b,a,f){return{height:this.originalSize.height+f}},se:function(g,a,f){return b.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,a,f]))},sw:function(g,a,f){return b.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,a,f]))},ne:function(g,a,f){return b.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,a,f]))},nw:function(g,a,
f){return b.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,a,f]))}},_propagate:function(g,a){b.ui.plugin.call(this,g,[a,this.ui()]);"resize"!=g&&this._trigger(g,a,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});b.ui.plugin.add("resizable","alsoResize",{start:function(){var g=b(this).data("resizable").options,
a=function(a){b(a).each(function(){var a=b(this);a.data("resizable-alsoresize",{width:parseInt(a.width(),10),height:parseInt(a.height(),10),left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)})})};"object"==typeof g.alsoResize&&!g.alsoResize.parentNode?g.alsoResize.length?(g.alsoResize=g.alsoResize[0],a(g.alsoResize)):b.each(g.alsoResize,function(f){a(f)}):a(g.alsoResize)},resize:function(g,a){var f=b(this).data("resizable"),k=f.options,m=f.originalSize,l=f.originalPosition,i={height:f.size.height-
m.height||0,width:f.size.width-m.width||0,top:f.position.top-l.top||0,left:f.position.left-l.left||0},p=function(f,m){b(f).each(function(){var f=b(this),l=b(this).data("resizable-alsoresize"),k={},g=m&&m.length?m:f.parents(a.originalElement[0]).length?["width","height"]:["width","height","top","left"];b.each(g,function(a,f){var m=(l[f]||0)+(i[f]||0);m&&0<=m&&(k[f]=m||null)});f.css(k)})};"object"==typeof k.alsoResize&&!k.alsoResize.nodeType?b.each(k.alsoResize,function(a,f){p(a,f)}):p(k.alsoResize)},
stop:function(){b(this).removeData("resizable-alsoresize")}});b.ui.plugin.add("resizable","animate",{stop:function(g){var a=b(this).data("resizable"),f=a.options,k=a._proportionallyResizeElements,m=k.length&&/textarea/i.test(k[0].nodeName),l=m&&b.ui.hasScroll(k[0],"left")?0:a.sizeDiff.height,m={width:a.size.width-(m?0:a.sizeDiff.width),height:a.size.height-l},l=parseInt(a.element.css("left"),10)+(a.position.left-a.originalPosition.left)||null,i=parseInt(a.element.css("top"),10)+(a.position.top-a.originalPosition.top)||
null;a.element.animate(b.extend(m,i&&l?{top:i,left:l}:{}),{duration:f.animateDuration,easing:f.animateEasing,step:function(){var f={width:parseInt(a.element.css("width"),10),height:parseInt(a.element.css("height"),10),top:parseInt(a.element.css("top"),10),left:parseInt(a.element.css("left"),10)};k&&k.length&&b(k[0]).css({width:f.width,height:f.height});a._updateCache(f);a._propagate("resize",g)}})}});b.ui.plugin.add("resizable","containment",{start:function(){var g=b(this).data("resizable"),a=g.element,
f=g.options.containment;if(a=f instanceof b?f.get(0):/parent/.test(f)?a.parent().get(0):f)if(g.containerElement=b(a),/document/.test(f)||f==document)g.containerOffset={left:0,top:0},g.containerPosition={left:0,top:0},g.parentData={element:b(document),left:0,top:0,width:b(document).width(),height:b(document).height()||document.body.parentNode.scrollHeight};else{var k=b(a),m=[];b(["Top","Right","Left","Bottom"]).each(function(a,f){m[a]=i(k.css("padding"+f))});g.containerOffset=k.offset();g.containerPosition=
k.position();g.containerSize={height:k.innerHeight()-m[3],width:k.innerWidth()-m[1]};var f=g.containerOffset,l=g.containerSize.height,r=g.containerSize.width,r=b.ui.hasScroll(a,"left")?a.scrollWidth:r,l=b.ui.hasScroll(a)?a.scrollHeight:l;g.parentData={element:a,left:f.left,top:f.top,width:r,height:l}}},resize:function(g){var a=b(this).data("resizable"),f=a.options,k=a.containerOffset,m=a.position,g=a._aspectRatio||g.shiftKey,l={top:0,left:0},i=a.containerElement;i[0]!=document&&/static/.test(i.css("position"))&&
(l=k);if(m.left<(a._helper?k.left:0))a.size.width+=a._helper?a.position.left-k.left:a.position.left-l.left,g&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=f.helper?k.left:0;if(m.top<(a._helper?k.top:0))a.size.height+=a._helper?a.position.top-k.top:a.position.top,g&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?k.top:0;a.offset.left=a.parentData.left+a.position.left;a.offset.top=a.parentData.top+a.position.top;f=Math.abs(a.offset.left-l.left+a.sizeDiff.width);k=
Math.abs((a._helper?a.offset.top-l.top:a.offset.top-k.top)+a.sizeDiff.height);m=a.containerElement.get(0)==a.element.parent().get(0);l=/relative|absolute/.test(a.containerElement.css("position"));m&&l&&(f-=a.parentData.left);f+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-f,g&&(a.size.height=a.size.width/a.aspectRatio));k+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-k,g&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var g=b(this).data("resizable"),
a=g.options,f=g.containerOffset,k=g.containerPosition,m=g.containerElement,l=b(g.helper),i=l.offset(),p=l.outerWidth()-g.sizeDiff.width,l=l.outerHeight()-g.sizeDiff.height;g._helper&&(!a.animate&&/relative/.test(m.css("position")))&&b(this).css({left:i.left-k.left-f.left,width:p,height:l});g._helper&&(!a.animate&&/static/.test(m.css("position")))&&b(this).css({left:i.left-k.left-f.left,width:p,height:l})}});b.ui.plugin.add("resizable","ghost",{start:function(){var g=b(this).data("resizable"),a=g.options,
f=g.size;g.ghost=g.originalElement.clone();g.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof a.ghost?a.ghost:"");g.ghost.appendTo(g.helper)},resize:function(){var g=b(this).data("resizable");g.ghost&&g.ghost.css({position:"relative",height:g.size.height,width:g.size.width})},stop:function(){var g=b(this).data("resizable");g.ghost&&g.helper&&g.helper.get(0).removeChild(g.ghost.get(0))}});
b.ui.plugin.add("resizable","grid",{resize:function(){var g=b(this).data("resizable"),a=g.options,f=g.size,k=g.originalSize,m=g.originalPosition,l=g.axis;a.grid="number"==typeof a.grid?[a.grid,a.grid]:a.grid;var i=Math.round((f.width-k.width)/(a.grid[0]||1))*(a.grid[0]||1),a=Math.round((f.height-k.height)/(a.grid[1]||1))*(a.grid[1]||1);/^(se|s|e)$/.test(l)?(g.size.width=k.width+i,g.size.height=k.height+a):/^(ne)$/.test(l)?(g.size.width=k.width+i,g.size.height=k.height+a,g.position.top=m.top-a):(/^(sw)$/.test(l)?
(g.size.width=k.width+i,g.size.height=k.height+a):(g.size.width=k.width+i,g.size.height=k.height+a,g.position.top=m.top-a),g.position.left=m.left-i)}});var i=function(b){return parseInt(b,10)||0},g=function(b){return!isNaN(parseInt(b,10))}})(jQuery);define("libs/jquery/ui/jquery.ui.resizable",function(){});
(function(b){var i,g,h,a,f=function(){var a=b(this).find(":ui-button");setTimeout(function(){a.button("refresh")},1)},k=function(a){var f=a.name,k=a.form,g=b([]);f&&(g=k?b(k).find("[name='"+f+"']"):b("[name='"+f+"']",a.ownerDocument).filter(function(){return!this.form}));return g};b.widget("ui.button",{version:"@VERSION",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",
f);"boolean"!==typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var m=this,l=this.options,r="checkbox"===this.type||"radio"===this.type,p="ui-state-hover"+(!r?" ui-state-active":"");null===l.label&&(l.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role",
"button").bind("mouseenter.button",function(){l.disabled||(b(this).addClass("ui-state-hover"),this===i&&b(this).addClass("ui-state-active"))}).bind("mouseleave.button",function(){l.disabled||b(this).removeClass(p)}).bind("click.button",function(a){l.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this.element.bind("focus.button",function(){m.buttonElement.addClass("ui-state-focus")}).bind("blur.button",function(){m.buttonElement.removeClass("ui-state-focus")});r&&(this.element.bind("change.button",
function(){a||m.refresh()}),this.buttonElement.bind("mousedown.button",function(f){l.disabled||(a=!1,g=f.pageX,h=f.pageY)}).bind("mouseup.button",function(f){if(!l.disabled&&(g!==f.pageX||h!==f.pageY))a=!0}));"checkbox"===this.type?this.buttonElement.bind("click.button",function(){if(l.disabled||a)return!1;b(this).toggleClass("ui-state-active");m.buttonElement.attr("aria-pressed",m.element[0].checked)}):"radio"===this.type?this.buttonElement.bind("click.button",function(){if(l.disabled||a)return!1;
b(this).addClass("ui-state-active");m.buttonElement.attr("aria-pressed","true");var f=m.element[0];k(f).not(f).map(function(){return b(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(l.disabled)return!1;b(this).addClass("ui-state-active");i=this;m.document.one("mouseup",function(){i=null})}).bind("mouseup.button",function(){if(l.disabled)return!1;b(this).removeClass("ui-state-active")}).bind("keydown.button",
function(a){if(l.disabled)return!1;(a.keyCode===b.ui.keyCode.SPACE||a.keyCode===b.ui.keyCode.ENTER)&&b(this).addClass("ui-state-active")}).bind("keyup.button",function(){b(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(a){a.keyCode===b.ui.keyCode.SPACE&&b(this).click()}));this._setOption("disabled",l.disabled);this._resetButton()},_determineButtonType:function(){var a,f;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?
"radio":this.element.is("input")?"input":"button";"checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),f="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(f),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(f),this.buttonElement.length||(this.buttonElement=a.find(f))),this.element.addClass("ui-helper-hidden-accessible"),(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",
a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,f){this._super(a,f);"disabled"===a?f?this.element.prop("disabled",!0):this.element.prop("disabled",!1):this._resetButton()},refresh:function(){var a=this.element.is(":disabled");a!==this.options.disabled&&this._setOption("disabled",a);"radio"===this.type?k(this.element[0]).each(function(){b(this).is(":checked")?b(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):b(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",
"false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var a=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
f=b("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),k=this.options.icons,g=k.primary&&k.secondary,h=[];k.primary||k.secondary?(this.options.text&&h.push("ui-button-text-icon"+(g?"s":k.primary?"-primary":"-secondary")),k.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+k.primary+"'></span>"),k.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+k.secondary+"'></span>"),this.options.text||(h.push(g?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||a.attr("title",f))):h.push("ui-button-text-only");a.addClass(h.join(" "))}}});b.widget("ui.buttonset",{version:"@VERSION",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,f){"disabled"===a&&this.buttons.button("option",a,f);this._super(a,f)},refresh:function(){var a=
"rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return b(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(a?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(a?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return b(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
define("libs/jquery/ui/jquery.ui.button",function(){});
(function(b){b.widget("ui.sortable",b.ui.mouse,{version:"@VERSION",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){var b=this.options;this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?"x"===b.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1;this.offset=this.element.offset();this._mouseInit();this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var b=this.items.length-1;0<=b;b--)this.items[b].item.removeData(this.widgetName+"-item");return this},_setOption:function(i,g){"disabled"===i?(this.options[i]=
g,this.widget().toggleClass("ui-sortable-disabled",!!g)):b.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(i,g){var h=this;if(this.reverting||this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(i);var a=null;b(i.target).parents().each(function(){if(b.data(this,h.widgetName+"-item")==h)return a=b(this),!1});b.data(i.target,h.widgetName+"-item")==h&&(a=b(i.target));if(!a)return!1;if(this.options.handle&&!g){var f=!1;b(this.options.handle,a).find("*").andSelf().each(function(){this==
i.target&&(f=!0)});if(!f)return!1}this.currentItem=a;this._removeCurrentsFromItems();return!0},_mouseStart:function(i,g,h){g=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(i);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:i.pageX-this.offset.left,
top:i.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(i);this.originalPageX=i.pageX;this.originalPageY=i.pageY;g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();
g.containment&&this._setContainment();g.cursor&&(b("body").css("cursor")&&(this._storedCursor=b("body").css("cursor")),b("body").css("cursor",g.cursor));g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity));g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex));this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());
this._trigger("start",i,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!h)for(h=this.containers.length-1;0<=h;h--)this.containers[h]._trigger("activate",i,this._uiHash(this));b.ui.ddmanager&&(b.ui.ddmanager.current=this);b.ui.ddmanager&&!g.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,i);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(i);return!0},_mouseDrag:function(i){this.position=this._generatePosition(i);this.positionAbs=this._convertPositionTo("absolute");
this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var g=this.options,h=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-i.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:i.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+
this.scrollParent[0].offsetWidth-i.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:i.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(i.pageY-b(document).scrollTop()<g.scrollSensitivity?h=b(document).scrollTop(b(document).scrollTop()-g.scrollSpeed):b(window).height()-(i.pageY-b(document).scrollTop())<g.scrollSensitivity&&(h=b(document).scrollTop(b(document).scrollTop()+
g.scrollSpeed)),i.pageX-b(document).scrollLeft()<g.scrollSensitivity?h=b(document).scrollLeft(b(document).scrollLeft()-g.scrollSpeed):b(window).width()-(i.pageX-b(document).scrollLeft())<g.scrollSensitivity&&(h=b(document).scrollLeft(b(document).scrollLeft()+g.scrollSpeed)));!1!==h&&(b.ui.ddmanager&&!g.dropBehaviour)&&b.ui.ddmanager.prepareOffsets(this,i)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+
"px";if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";for(g=this.items.length-1;0<=g;g--){var h=this.items[g],a=h.item[0],f=this._intersectsWithPointer(h);if(f&&a!=this.currentItem[0]&&this.placeholder[1==f?"next":"prev"]()[0]!=a&&!b.contains(this.placeholder[0],a)&&("semi-dynamic"==this.options.type?!b.contains(this.element[0],a):1)){this.direction=1==f?"down":"up";if("pointer"==this.options.tolerance||this._intersectsWithSides(h))this._rearrange(i,h);
else break;this._trigger("change",i,this._uiHash());break}}this._contactContainers(i);b.ui.ddmanager&&b.ui.ddmanager.drag(this,i);this._trigger("sort",i,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(i,g){if(i){b.ui.ddmanager&&!this.options.dropBehaviour&&b.ui.ddmanager.drop(this,i);if(this.options.revert){var h=this,a=this.placeholder.offset();this.reverting=!0;b(this.helper).animate({left:a.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==
document.body?0:this.offsetParent[0].scrollLeft),top:a.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){h._clear(i)})}else this._clear(i,g);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("deactivate",
null,this._uiHash(this)),this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",null,this._uiHash(this)),this.containers[i].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&(this.helper&&this.helper[0].parentNode)&&this.helper.remove(),b.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?b(this.domPosition.prev).after(this.currentItem):
b(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(i){var g=this._getItemsAsjQuery(i&&i.connected),h=[],i=i||{};b(g).each(function(){var a=(b(i.item||this).attr(i.attribute||"id")||"").match(i.expression||/(.+)[-=_](.+)/);a&&h.push((i.key||a[1]+"[]")+"="+(i.key&&i.expression?a[1]:a[2]))});!h.length&&i.key&&h.push(i.key+"=");return h.join("&")},toArray:function(i){var g=this._getItemsAsjQuery(i&&i.connected),h=[],i=i||{};g.each(function(){h.push(b(i.item||this).attr(i.attribute||
"id")||"")});return h},_intersectsWith:function(b){var g=this.positionAbs.left,h=g+this.helperProportions.width,a=this.positionAbs.top,f=a+this.helperProportions.height,k=b.left,m=k+b.width,l=b.top,r=l+b.height,p=this.offset.click.top,t=this.offset.click.left;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>b[this.floating?"width":"height"]?a+p>l&&a+p<r&&g+t>k&&g+t<m:k<g+this.helperProportions.width/
2&&h-this.helperProportions.width/2<m&&l<a+this.helperProportions.height/2&&f-this.helperProportions.height/2<r},_intersectsWithPointer:function(i){var g="x"===this.options.axis||b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,i.top,i.height),i="y"===this.options.axis||b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,i.left,i.width),g=g&&i,i=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();return!g?!1:this.floating?h&&"right"==h||"down"==i?2:1:i&&("down"==
i?2:1)},_intersectsWithSides:function(i){var g=b.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,i.top+i.height/2,i.height),i=b.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,i.left+i.width/2,i.width),h=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"==a&&i||"left"==a&&!i:h&&("down"==h&&g||"up"==h&&!g)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return 0!=b&&(0<b?"down":"up")},_getDragHorizontalDirection:function(){var b=
this.positionAbs.left-this.lastPositionAbs.left;return 0!=b&&(0<b?"right":"left")},refresh:function(b){this._refreshItems(b);this.refreshPositions();return this},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(i){var g=[],h=[],a=this._connectWith();if(a&&i)for(i=a.length-1;0<=i;i--)for(var f=b(a[i]),k=f.length-1;0<=k;k--){var m=b.data(f[k],this.widgetName);m&&(m!=this&&!m.options.disabled)&&h.push([b.isFunction(m.options.items)?
m.options.items.call(m.element):b(m.options.items,m.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),m])}h.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(i=h.length-1;0<=i;i--)h[i][0].each(function(){g.push(this)});return b(g)},_removeCurrentsFromItems:function(){for(var b=this.currentItem.find(":data("+
this.widgetName+"-item)"),g=0;g<this.items.length;g++)for(var h=0;h<b.length;h++)b[h]==this.items[g].item[0]&&this.items.splice(g,1)},_refreshItems:function(i){this.items=[];this.containers=[this];var g=this.items,h=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],i,{item:this.currentItem}):b(this.options.items,this.element),this]],a=this._connectWith();if(a&&this.ready)for(var f=a.length-1;0<=f;f--)for(var k=b(a[f]),m=k.length-1;0<=m;m--){var l=b.data(k[m],this.widgetName);
l&&(l!=this&&!l.options.disabled)&&(h.push([b.isFunction(l.options.items)?l.options.items.call(l.element[0],i,{item:this.currentItem}):b(l.options.items,l.element),l]),this.containers.push(l))}for(f=h.length-1;0<=f;f--){i=h[f][1];a=h[f][0];m=0;for(k=a.length;m<k;m++)l=b(a[m]),l.data(this.widgetName+"-item",i),g.push({item:l,instance:i,width:0,height:0,left:0,top:0})}},refreshPositions:function(i){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var g=this.items.length-
1;0<=g;g--){var h=this.items[g];if(!(h.instance!=this.currentContainer&&this.currentContainer&&h.item[0]!=this.currentItem[0])){var a=this.options.toleranceElement?b(this.options.toleranceElement,h.item):h.item;i||(h.width=a.outerWidth(),h.height=a.outerHeight());a=a.offset();h.left=a.left;h.top=a.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(g=this.containers.length-1;0<=g;g--)a=this.containers[g].element.offset(),this.containers[g].containerCache.left=
a.left,this.containers[g].containerCache.top=a.top,this.containers[g].containerCache.width=this.containers[g].element.outerWidth(),this.containers[g].containerCache.height=this.containers[g].element.outerHeight();return this},_createPlaceholder:function(i){var i=i||this,g=i.options;if(!g.placeholder||g.placeholder.constructor==String){var h=g.placeholder;g.placeholder={element:function(){var a=b(document.createElement(i.currentItem[0].nodeName)).addClass(h||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];
h||(a.style.visibility="hidden");return a},update:function(a,f){if(!h||g.forcePlaceholderSize)f.height()||f.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),f.width()||f.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10))}}}i.placeholder=b(g.placeholder.element.call(i.element,i.currentItem));i.currentItem.after(i.placeholder);g.placeholder.update(i,
i.placeholder)},_contactContainers:function(i){for(var g=null,h=null,a=this.containers.length-1;0<=a;a--)if(!b.contains(this.currentItem[0],this.containers[a].element[0]))if(this._intersectsWith(this.containers[a].containerCache)){if(!g||!b.contains(this.containers[a].element[0],g.element[0]))g=this.containers[a],h=a}else this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",i,this._uiHash(this)),this.containers[a].containerCache.over=0);if(g)if(1===this.containers.length)this.containers[h]._trigger("over",
i,this._uiHash(this)),this.containers[h].containerCache.over=1;else if(this.currentContainer!=this.containers[h]){for(var g=1E4,a=null,f=this.positionAbs[this.containers[h].floating?"left":"top"],k=this.items.length-1;0<=k;k--)if(b.contains(this.containers[h].element[0],this.items[k].item[0])){var m=this.containers[h].floating?this.items[k].item.offset().left:this.items[k].item.offset().top;Math.abs(m-f)<g&&(g=Math.abs(m-f),a=this.items[k],this.direction=0<m-f?"down":"up")}if(a||this.options.dropOnEmpty)this.currentContainer=
this.containers[h],a?this._rearrange(i,a,null,!0):this._rearrange(i,null,this.containers[h].element,!0),this._trigger("change",i,this._uiHash()),this.containers[h]._trigger("change",i,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",i,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(i){var g=this.options,i=b.isFunction(g.helper)?b(g.helper.apply(this.element[0],[i,this.currentItem])):
"clone"==g.helper?this.currentItem.clone():this.currentItem;i.parents("body").length||b("parent"!=g.appendTo?g.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]);i[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});(""==i[0].style.width||g.forceHelperSize)&&i.width(this.currentItem.width());(""==i[0].style.height||
g.forceHelperSize)&&i.height(this.currentItem.height());return i},_adjustOffsetFromHelper:function(i){"string"==typeof i&&(i=i.split(" "));b.isArray(i)&&(i={left:+i[0],top:+i[1]||0});"left"in i&&(this.offset.click.left=i.left+this.margins.left);"right"in i&&(this.offset.click.left=this.helperProportions.width-i.right+this.margins.left);"top"in i&&(this.offset.click.top=i.top+this.margins.top);"bottom"in i&&(this.offset.click.top=this.helperProportions.height-i.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=
this.helper.offsetParent();var i=this.offsetParent.offset();"absolute"==this.cssPosition&&(this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0]))&&(i.left+=this.scrollParent.scrollLeft(),i.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&b.browser.msie)i={top:0,left:0};return{top:i.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:i.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var i=this.options;"parent"==i.containment&&(i.containment=this.helper[0].parentNode);if("document"==i.containment||"window"==i.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b("document"==i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(b("document"==i.containment?document:window).height()||
document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(i.containment)){var g=b(i.containment)[0],i=b(i.containment).offset(),h="hidden"!=b(g).css("overflow");this.containment=[i.left+(parseInt(b(g).css("borderLeftWidth"),10)||0)+(parseInt(b(g).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(b(g).css("borderTopWidth"),10)||0)+(parseInt(b(g).css("paddingTop"),10)||0)-this.margins.top,i.left+(h?Math.max(g.scrollWidth,
g.offsetWidth):g.offsetWidth)-(parseInt(b(g).css("borderLeftWidth"),10)||0)-(parseInt(b(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(h?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(b(g).css("borderTopWidth"),10)||0)-(parseInt(b(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(i,g){g||(g=this.position);var h="absolute"==i?1:-1,a="absolute"==this.cssPosition&&!(this.scrollParent[0]!=
document&&b.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(a[0].tagName);return{top:g.top+this.offset.relative.top*h+this.offset.parent.top*h-(b.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:a.scrollTop())*h),left:g.left+this.offset.relative.left*h+this.offset.parent.left*h-(b.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():
f?0:a.scrollLeft())*h)}},_generatePosition:function(i){var g=this.options,h="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,a=/(html|body)/i.test(h[0].tagName);"relative"==this.cssPosition&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var f=i.pageX,k=i.pageY;this.originalPosition&&(this.containment&&(i.pageX-this.offset.click.left<
this.containment[0]&&(f=this.containment[0]+this.offset.click.left),i.pageY-this.offset.click.top<this.containment[1]&&(k=this.containment[1]+this.offset.click.top),i.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),i.pageY-this.offset.click.top>this.containment[3]&&(k=this.containment[3]+this.offset.click.top)),g.grid&&(k=this.originalPageY+Math.round((k-this.originalPageY)/g.grid[1])*g.grid[1],k=this.containment?!(k-this.offset.click.top<this.containment[1]||
k-this.offset.click.top>this.containment[3])?k:!(k-this.offset.click.top<this.containment[1])?k-g.grid[1]:k+g.grid[1]:k,f=this.originalPageX+Math.round((f-this.originalPageX)/g.grid[0])*g.grid[0],f=this.containment?!(f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2])?f:!(f-this.offset.click.left<this.containment[0])?f-g.grid[0]:f+g.grid[0]:f));return{top:k-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(b.browser.safari&&"fixed"==this.cssPosition?
0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:h.scrollLeft())}},_rearrange:function(b,g,h,a){h?h[0].appendChild(this.placeholder[0]):g.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?g.item[0]:g.item[0].nextSibling);var f=this.counter=this.counter?++this.counter:
1;this._delay(function(){f==this.counter&&this.refreshPositions(!a)})},_clear:function(i,g){this.reverting=!1;var h=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var a in this._storedCSS)if("auto"==this._storedCSS[a]||"static"==this._storedCSS[a])this._storedCSS[a]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&
!g&&h.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!g&&h.push(function(a){this._trigger("update",a,this._uiHash())});if(!b.contains(this.element[0],this.currentItem[0])){g||h.push(function(a){this._trigger("remove",a,this._uiHash())});for(a=this.containers.length-1;0<=a;a--)b.contains(this.containers[a].element[0],
this.currentItem[0])&&!g&&(h.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[a])),h.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[a])))}for(a=this.containers.length-1;0<=a;a--)g||h.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[a])),this.containers[a].containerCache.over&&(h.push(function(a){return function(b){a._trigger("out",
b,this._uiHash(this))}}.call(this,this.containers[a])),this.containers[a].containerCache.over=0);this._storedCursor&&b("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex);this.dragging=!1;if(this.cancelHelperRemoval){if(!g){this._trigger("beforeStop",i,this._uiHash());for(a=0;a<h.length;a++)h[a].call(this,i);this._trigger("stop",i,this._uiHash())}return!1}g||
this._trigger("beforeStop",i,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!g){for(a=0;a<h.length;a++)h[a].call(this,i);this._trigger("stop",i,this._uiHash())}this.fromOutside=!1;return!0},_trigger:function(){!1===b.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(i){var g=i||this;return{helper:g.helper,placeholder:g.placeholder||b([]),position:g.position,
originalPosition:g.originalPosition,offset:g.positionAbs,item:g.currentItem,sender:i?i.element:null}}})})(jQuery);define("libs/jquery/ui/jquery.ui.sortable",function(){});
(function(b){b.widget("ui.draggable",b.ui.mouse,{version:"@VERSION",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"==this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&
(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(i){var g=this.options;if(this.helper||g.disabled||b(i.target).is(".ui-resizable-handle"))return!1;this.handle=this._getHandle(i);if(!this.handle)return!1;b(!0===
g.iframeFix?"iframe":g.iframeFix).each(function(){b('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(b(this).offset()).appendTo("body")});return!0},_mouseStart:function(i){var g=this.options;this.helper=this._createHelper(i);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();b.ui.ddmanager&&(b.ui.ddmanager.current=this);this._cacheMargins();
this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:i.pageX-this.offset.left,top:i.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(i);this.originalPageX=i.pageX;this.originalPageY=i.pageY;
g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt);g.containment&&this._setContainment();if(!1===this._trigger("start",i))return this._clear(),!1;this._cacheHelperProportions();b.ui.ddmanager&&!g.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,i);this._mouseDrag(i,!0);b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,i);return!0},_mouseDrag:function(i,g){this.position=this._generatePosition(i);this.positionAbs=this._convertPositionTo("absolute");if(!g){var h=this._uiHash();if(!1===this._trigger("drag",
i,h))return this._mouseUp({}),!1;this.position=h.position}if(!this.options.axis||"y"!=this.options.axis)this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||"x"!=this.options.axis)this.helper[0].style.top=this.position.top+"px";b.ui.ddmanager&&b.ui.ddmanager.drag(this,i);return!1},_mouseStop:function(i){var g=!1;b.ui.ddmanager&&!this.options.dropBehaviour&&(g=b.ui.ddmanager.drop(this,i));this.dropped&&(g=this.dropped,this.dropped=!1);for(var h=this.element[0],a=!1;h&&(h=h.parentNode);)h==
document&&(a=!0);if(!a&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!g||"valid"==this.options.revert&&g||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,g)){var f=this;b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==f._trigger("stop",i)&&f._clear()})}else!1!==this._trigger("stop",i)&&this._clear();return!1},_mouseUp:function(i){!0===this.options.iframeFix&&b("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});
b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,i);return b.ui.mouse.prototype._mouseUp.call(this,i)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(i){var g=!this.options.handle||!b(this.options.handle,this.element).length?!0:!1;b(this.options.handle,this.element).find("*").andSelf().each(function(){this==i.target&&(g=!0)});return g},_createHelper:function(i){var g=this.options,i=b.isFunction(g.helper)?b(g.helper.apply(this.element[0],
[i])):"clone"==g.helper?this.element.clone().removeAttr("id"):this.element;i.parents("body").length||i.appendTo("parent"==g.appendTo?this.element[0].parentNode:g.appendTo);i[0]!=this.element[0]&&!/(fixed|absolute)/.test(i.css("position"))&&i.css("position","absolute");return i},_adjustOffsetFromHelper:function(i){"string"==typeof i&&(i=i.split(" "));b.isArray(i)&&(i={left:+i[0],top:+i[1]||0});"left"in i&&(this.offset.click.left=i.left+this.margins.left);"right"in i&&(this.offset.click.left=this.helperProportions.width-
i.right+this.margins.left);"top"in i&&(this.offset.click.top=i.top+this.margins.top);"bottom"in i&&(this.offset.click.top=this.helperProportions.height-i.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var i=this.offsetParent.offset();"absolute"==this.cssPosition&&(this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0]))&&(i.left+=this.scrollParent.scrollLeft(),i.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==
document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&b.browser.msie)i={top:0,left:0};return{top:i.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:i.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),
10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var i=this.options;"parent"==i.containment&&
(i.containment=this.helper[0].parentNode);if("document"==i.containment||"window"==i.containment)this.containment=["document"==i.containment?0:b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==i.containment?0:b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==i.containment?0:b(window).scrollLeft())+b("document"==i.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==i.containment?0:b(window).scrollTop())+
(b("document"==i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(i.containment)&&i.containment.constructor!=Array){var i=b(i.containment),g=i[0];if(g){i.offset();var h="hidden"!=b(g).css("overflow");this.containment=[(parseInt(b(g).css("borderLeftWidth"),10)||0)+(parseInt(b(g).css("paddingLeft"),10)||0),(parseInt(b(g).css("borderTopWidth"),10)||0)+(parseInt(b(g).css("paddingTop"),10)||
0),(h?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(b(g).css("borderLeftWidth"),10)||0)-(parseInt(b(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(h?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(b(g).css("borderTopWidth"),10)||0)-(parseInt(b(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=i}}else i.containment.constructor==Array&&(this.containment=
i.containment)},_convertPositionTo:function(i,g){g||(g=this.position);var h="absolute"==i?1:-1,a="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(a[0].tagName);return{top:g.top+this.offset.relative.top*h+this.offset.parent.top*h-(b.browser.safari&&526>b.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():f?0:a.scrollTop())*
h),left:g.left+this.offset.relative.left*h+this.offset.parent.left*h-(b.browser.safari&&526>b.browser.version&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():f?0:a.scrollLeft())*h)}},_generatePosition:function(i){var g=this.options,h="absolute"==this.cssPosition&&!(this.scrollParent[0]!=document&&b.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,a=/(html|body)/i.test(h[0].tagName),f=i.pageX,k=i.pageY;if(this.originalPosition){var m;
this.containment&&(this.relative_container?(m=this.relative_container.offset(),m=[this.containment[0]+m.left,this.containment[1]+m.top,this.containment[2]+m.left,this.containment[3]+m.top]):m=this.containment,i.pageX-this.offset.click.left<m[0]&&(f=m[0]+this.offset.click.left),i.pageY-this.offset.click.top<m[1]&&(k=m[1]+this.offset.click.top),i.pageX-this.offset.click.left>m[2]&&(f=m[2]+this.offset.click.left),i.pageY-this.offset.click.top>m[3]&&(k=m[3]+this.offset.click.top));g.grid&&(k=g.grid[1]?
this.originalPageY+Math.round((k-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,k=m?!(k-this.offset.click.top<m[1]||k-this.offset.click.top>m[3])?k:!(k-this.offset.click.top<m[1])?k-g.grid[1]:k+g.grid[1]:k,f=g.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,f=m?!(f-this.offset.click.left<m[0]||f-this.offset.click.left>m[2])?f:!(f-this.offset.click.left<m[0])?f-g.grid[0]:f+g.grid[0]:f)}return{top:k-this.offset.click.top-this.offset.relative.top-
this.offset.parent.top+(b.browser.safari&&526>b.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():a?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(b.browser.safari&&526>b.browser.version&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():a?0:h.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&
this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1},_trigger:function(i,g,h){h=h||this._uiHash();b.ui.plugin.call(this,i,[g,h]);"drag"==i&&(this.positionAbs=this._convertPositionTo("absolute"));return b.Widget.prototype._trigger.call(this,i,g,h)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});b.ui.plugin.add("draggable","connectToSortable",{start:function(i,g){var h=b(this).data("draggable"),
a=h.options,f=b.extend({},g,{item:h.element});h.sortables=[];b(a.connectToSortable).each(function(){var a=b.data(this,"sortable");a&&!a.options.disabled&&(h.sortables.push({instance:a,shouldRevert:a.options.revert}),a.refreshPositions(),a._trigger("activate",i,f))})},stop:function(i,g){var h=b(this).data("draggable"),a=b.extend({},g,{item:h.element});b.each(h.sortables,function(){this.instance.isOver?(this.instance.isOver=0,h.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&
(this.instance.options.revert=!0),this.instance._mouseStop(i),this.instance.options.helper=this.instance.options._helper,"original"==h.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",i,a))})},drag:function(i,g){var h=b(this).data("draggable"),a=this;b.each(h.sortables,function(){this.instance.positionAbs=h.positionAbs;this.instance.helperProportions=h.helperProportions;this.instance.offset.click=h.offset.click;
this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=b(a).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return g.helper[0]},i.target=this.instance.currentItem[0],this.instance._mouseCapture(i,!0),this.instance._mouseStart(i,!0,!0),this.instance.offset.click.top=h.offset.click.top,this.instance.offset.click.left=
h.offset.click.left,this.instance.offset.parent.left-=h.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=h.offset.parent.top-this.instance.offset.parent.top,h._trigger("toSortable",i),h.dropped=this.instance.element,h.currentItem=h.element,this.instance.fromOutside=h),this.instance.currentItem&&this.instance._mouseDrag(i)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",
i,this.instance._uiHash(this.instance)),this.instance._mouseStop(i,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),h._trigger("fromSortable",i),h.dropped=!1)})}});b.ui.plugin.add("draggable","cursor",{start:function(){var i=b("body"),g=b(this).data("draggable").options;i.css("cursor")&&(g._cursor=i.css("cursor"));i.css("cursor",g.cursor)},stop:function(){var i=b(this).data("draggable").options;
i._cursor&&b("body").css("cursor",i._cursor)}});b.ui.plugin.add("draggable","opacity",{start:function(i,g){var h=b(g.helper),a=b(this).data("draggable").options;h.css("opacity")&&(a._opacity=h.css("opacity"));h.css("opacity",a.opacity)},stop:function(i,g){var h=b(this).data("draggable").options;h._opacity&&b(g.helper).css("opacity",h._opacity)}});b.ui.plugin.add("draggable","scroll",{start:function(){var i=b(this).data("draggable");i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName&&(i.overflowOffset=
i.scrollParent.offset())},drag:function(i){var g=b(this).data("draggable"),h=g.options,a=!1;if(g.scrollParent[0]!=document&&"HTML"!=g.scrollParent[0].tagName){if(!h.axis||"x"!=h.axis)g.overflowOffset.top+g.scrollParent[0].offsetHeight-i.pageY<h.scrollSensitivity?g.scrollParent[0].scrollTop=a=g.scrollParent[0].scrollTop+h.scrollSpeed:i.pageY-g.overflowOffset.top<h.scrollSensitivity&&(g.scrollParent[0].scrollTop=a=g.scrollParent[0].scrollTop-h.scrollSpeed);if(!h.axis||"y"!=h.axis)g.overflowOffset.left+
g.scrollParent[0].offsetWidth-i.pageX<h.scrollSensitivity?g.scrollParent[0].scrollLeft=a=g.scrollParent[0].scrollLeft+h.scrollSpeed:i.pageX-g.overflowOffset.left<h.scrollSensitivity&&(g.scrollParent[0].scrollLeft=a=g.scrollParent[0].scrollLeft-h.scrollSpeed)}else{if(!h.axis||"x"!=h.axis)i.pageY-b(document).scrollTop()<h.scrollSensitivity?a=b(document).scrollTop(b(document).scrollTop()-h.scrollSpeed):b(window).height()-(i.pageY-b(document).scrollTop())<h.scrollSensitivity&&(a=b(document).scrollTop(b(document).scrollTop()+
h.scrollSpeed));if(!h.axis||"y"!=h.axis)i.pageX-b(document).scrollLeft()<h.scrollSensitivity?a=b(document).scrollLeft(b(document).scrollLeft()-h.scrollSpeed):b(window).width()-(i.pageX-b(document).scrollLeft())<h.scrollSensitivity&&(a=b(document).scrollLeft(b(document).scrollLeft()+h.scrollSpeed))}!1!==a&&(b.ui.ddmanager&&!h.dropBehaviour)&&b.ui.ddmanager.prepareOffsets(g,i)}});b.ui.plugin.add("draggable","snap",{start:function(){var i=b(this).data("draggable"),g=i.options;i.snapElements=[];b(g.snap.constructor!=
String?g.snap.items||":data(draggable)":g.snap).each(function(){var g=b(this),a=g.offset();this!=i.element[0]&&i.snapElements.push({item:this,width:g.outerWidth(),height:g.outerHeight(),top:a.top,left:a.left})})},drag:function(i,g){for(var h=b(this).data("draggable"),a=h.options,f=a.snapTolerance,k=g.offset.left,m=k+h.helperProportions.width,l=g.offset.top,r=l+h.helperProportions.height,p=h.snapElements.length-1;0<=p;p--){var t=h.snapElements[p].left,v=t+h.snapElements[p].width,w=h.snapElements[p].top,
x=w+h.snapElements[p].height;if(t-f<k&&k<v+f&&w-f<l&&l<x+f||t-f<k&&k<v+f&&w-f<r&&r<x+f||t-f<m&&m<v+f&&w-f<l&&l<x+f||t-f<m&&m<v+f&&w-f<r&&r<x+f){if("inner"!=a.snapMode){var E=Math.abs(w-r)<=f,z=Math.abs(x-l)<=f,L=Math.abs(t-m)<=f,C=Math.abs(v-k)<=f;E&&(g.position.top=h._convertPositionTo("relative",{top:w-h.helperProportions.height,left:0}).top-h.margins.top);z&&(g.position.top=h._convertPositionTo("relative",{top:x,left:0}).top-h.margins.top);L&&(g.position.left=h._convertPositionTo("relative",{top:0,
left:t-h.helperProportions.width}).left-h.margins.left);C&&(g.position.left=h._convertPositionTo("relative",{top:0,left:v}).left-h.margins.left)}var A=E||z||L||C;"outer"!=a.snapMode&&(E=Math.abs(w-l)<=f,z=Math.abs(x-r)<=f,L=Math.abs(t-k)<=f,C=Math.abs(v-m)<=f,E&&(g.position.top=h._convertPositionTo("relative",{top:w,left:0}).top-h.margins.top),z&&(g.position.top=h._convertPositionTo("relative",{top:x-h.helperProportions.height,left:0}).top-h.margins.top),L&&(g.position.left=h._convertPositionTo("relative",
{top:0,left:t}).left-h.margins.left),C&&(g.position.left=h._convertPositionTo("relative",{top:0,left:v-h.helperProportions.width}).left-h.margins.left));!h.snapElements[p].snapping&&(E||z||L||C||A)&&h.options.snap.snap&&h.options.snap.snap.call(h.element,i,b.extend(h._uiHash(),{snapItem:h.snapElements[p].item}));h.snapElements[p].snapping=E||z||L||C||A}else h.snapElements[p].snapping&&h.options.snap.release&&h.options.snap.release.call(h.element,i,b.extend(h._uiHash(),{snapItem:h.snapElements[p].item})),
h.snapElements[p].snapping=!1}}});b.ui.plugin.add("draggable","stack",{start:function(){var i=b(this).data("draggable").options,i=b.makeArray(b(i.stack)).sort(function(g,a){return(parseInt(b(g).css("zIndex"),10)||0)-(parseInt(b(a).css("zIndex"),10)||0)});if(i.length){var g=parseInt(i[0].style.zIndex)||0;b(i).each(function(b){this.style.zIndex=g+b});this[0].style.zIndex=g+i.length}}});b.ui.plugin.add("draggable","zIndex",{start:function(i,g){var h=b(g.helper),a=b(this).data("draggable").options;h.css("zIndex")&&
(a._zIndex=h.css("zIndex"));h.css("zIndex",a.zIndex)},stop:function(i,g){var h=b(this).data("draggable").options;h._zIndex&&b(g.helper).css("zIndex",h._zIndex)}})})(jQuery);define("libs/jquery/ui/jquery.ui.draggable",function(){});
(function(b){function i(a){return"string"===b.type(a)}function g(a,f){if(b.isArray(f))for(var k=0,g=f.length;k<g;k++){var h=f[k];try{i(h)&&(h=eval(h)),b.isFunction(h)&&h(a)}catch(v){}}}var h=Math.min,a=Math.max,f=Math.floor;b.layout={version:"1.3.rc30.51",revision:0.033005,language:{Open:"Open",Close:"Close",Resize:"Resize",Slide:"Slide Open",Pin:"Pin",Unpin:"Un-Pin",noRoomToOpenTip:"Not enough room to show this pane.",minSizeWarning:"Panel has reached its minimum size",maxSizeWarning:"Panel has reached its maximum size",
pane:"pane",selector:"selector",errButton:"Error Adding Button \n\nInvalid ",errContainerMissing:"UI Layout Initialization Error\n\nThe specified layout-container does not exist.",errCenterPaneMissing:"UI Layout Initialization Error\n\nThe center-pane element does not exist.\n\nThe center-pane is a required element.",errContainerHeight:"UI Layout Initialization Warning\n\nThe layout-container \"CONTAINER\" has no height.\n\nTherefore the layout is 0-height and hence 'invisible'!"},browser:{mozilla:!!b.browser.mozilla,
webkit:!!b.browser.webkit||!!b.browser.safari,msie:!!b.browser.msie,isIE6:!!b.browser.msie&&6==b.browser.version,version:b.browser.version},effects:{slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{duration:"slow"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}},blind:{},clip:{},explode:{},fade:{},fold:{},puff:{},size:{all:{easing:"swing"}}},
config:{optionRootKeys:"effects panes north south west east center".split(" "),allPanes:["north","south","west","east","center"],borderPanes:["north","south","west","east"],oppositeEdge:{north:"south",south:"north",east:"west",west:"east"},offscreenCSS:{left:"-99999px",right:"auto"},offscreenReset:"offscreenReset",hidden:{visibility:"hidden"},visible:{visibility:"visible"},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden"},cssDemo:{background:"#DDD",
border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDemo:{background:"#AAA"}},content:{cssReq:{position:"relative"},cssDemo:{overflow:"auto",padding:"10px"},cssDemoPane:{overflow:"hidden",padding:0}},panes:{cssReq:{position:"absolute",margin:0},cssDemo:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{side:"Top",sizeType:"Height",dir:"horz",cssReq:{top:0,
bottom:"auto",left:0,right:0,width:"auto"}},south:{side:"Bottom",sizeType:"Height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"}},east:{side:"Right",sizeType:"Width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"}},west:{side:"Left",sizeType:"Width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"}},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},callbacks:{},
getParentPaneElem:function(a){a=b(a);if(a=a.data("layout")||a.data("parentLayout")){a=a.container;if(a.data("layoutPane"))return a;a=a.closest("."+b.layout.defaults.panes.paneClass);if(a.data("layoutPane"))return a}return null},getParentPaneInstance:function(a){return(a=b.layout.getParentPaneElem(a))?a.data("layoutPane"):null},getParentLayoutInstance:function(a){return(a=b.layout.getParentPaneElem(a))?a.data("parentLayout"):null},getEventObject:function(a){return"object"===typeof a&&a.stopPropagation?
a:null},parsePaneName:function(a){var f=b.layout.getEventObject(a);return f?(f.stopPropagation(),b(this).data("layoutEdge")):a},plugins:{draggable:!!b.fn.draggable,effects:{core:!!b.effects,slide:b.effects&&b.effects.slide}},onCreate:[],onLoad:[],onReady:[],onDestroy:[],onUnload:[],afterOpen:[],afterClose:[],scrollbarWidth:function(){return window.scrollbarWidth||b.layout.getScrollbarSize("width")},scrollbarHeight:function(){return window.scrollbarHeight||b.layout.getScrollbarSize("height")},getScrollbarSize:function(a){var f=
b('<div style="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 100px; overflow: scroll;"></div>').appendTo("body"),k={width:f.width()-f[0].clientWidth,height:f.height()-f[0].clientHeight};f.remove();window.scrollbarWidth=k.width;window.scrollbarHeight=k.height;return a.match(/^(width|height)$/)?k[a]:k},showInvisibly:function(a,f){if(!a)return{};a.jquery||(a=b(a));var k={display:a.css("display"),visibility:a.css("visibility")};return f||"none"===k.display?(a.css({display:"block",
visibility:"hidden"}),k):{}},getElementDimensions:function(f){var l={},k=l.css={},g={},h,i,w=b.layout.cssNum,x=f.offset();l.offsetLeft=x.left;l.offsetTop=x.top;b.each(["Left","Right","Top","Bottom"],function(a,z){h=k["border"+z]=b.layout.borderWidth(f,z);i=k["padding"+z]=b.layout.cssNum(f,"padding"+z);g[z]=h+i;l["inset"+z]=i});l.offsetWidth=f.innerWidth();l.offsetHeight=f.innerHeight();l.outerWidth=f.outerWidth();l.outerHeight=f.outerHeight();l.innerWidth=a(0,l.outerWidth-g.Left-g.Right);l.innerHeight=
a(0,l.outerHeight-g.Top-g.Bottom);k.width=f.width();k.height=f.height();k.top=w(f,"top",!0);k.bottom=w(f,"bottom",!0);k.left=w(f,"left",!0);k.right=w(f,"right",!0);return l},getElementCSS:function(a,f){var b={},k=a[0].style,g=f.split(","),h=["Top","Bottom","Left","Right"],i=["Color","Style","Width"],x,E,z,L,C,A;for(L=0;L<g.length;L++)if(x=g[L],x.match(/(border|padding|margin)$/))for(C=0;4>C;C++)if(E=h[C],"border"===x)for(A=0;3>A;A++)z=i[A],b[x+E+z]=k[x+E+z];else b[x+E]=k[x+E];else b[x]=k[x];return b},
cssWidth:function(f,k){var g=b.layout.borderWidth,h=b.layout.cssNum;if(0>=k)return 0;if(!b.support.boxModel)return k;g=k-g(f,"Left")-g(f,"Right")-h(f,"paddingLeft")-h(f,"paddingRight");return a(0,g)},cssHeight:function(f,k){var g=b.layout.borderWidth,h=b.layout.cssNum;if(0>=k)return 0;if(!b.support.boxModel)return k;g=k-g(f,"Top")-g(f,"Bottom")-h(f,"paddingTop")-h(f,"paddingBottom");return a(0,g)},cssNum:function(a,f,k){a.jquery||(a=b(a));var g=b.layout.showInvisibly(a),f=b.curCSS(a[0],f,!0),k=k&&
"auto"==f?f:parseInt(f,10)||0;a.css(g);return k},borderWidth:function(a,f){a.jquery&&(a=a[0]);var k="border"+f.substr(0,1).toUpperCase()+f.substr(1);return"none"===b.curCSS(a,k+"Style",!0)?0:parseInt(b.curCSS(a,k+"Width",!0),10)||0},isMouseOverElem:function(a,f){var k=b(f||this),g=k.offset(),h=g.top,g=g.left,i=g+k.outerWidth(),k=h+k.outerHeight(),w=a.pageX,x=a.pageY;return b.layout.browser.msie&&0>w&&0>x||w>=g&&w<=i&&x>=h&&x<=k},msg:function(a,f,k,g){b.isPlainObject(a)&&window.debugData?("string"===
typeof f?(g=k,k=f):"object"===typeof k&&(g=k,k=null),k=k||"log( <object> )",g=b.extend({sort:!1,returnHTML:!1,display:!1},g),!0===f||g.display?debugData(a,k,g):window.console&&console.log(debugData(a,k,g))):f?alert(a):window.console?console.log(a):(f=b("#layoutLogger"),f.length||(f=b('<div id="layoutLogger" style="position: '+(b.support.fixedPosition?"fixed":"absolute")+'; top: 5px; z-index: 999999; max-width: 25%; overflow: hidden; border: 1px solid #000; border-radius: 5px; background: #FBFBFB; box-shadow: 0 2px 10px rgba(0,0,0,0.3);"><div style="font-size: 13px; font-weight: bold; padding: 5px 10px; background: #F6F6F6; border-radius: 5px 5px 0 0; cursor: move;"><span style="float: right; padding-left: 7px; cursor: pointer;" title="Remove Console" onclick="$(this).closest(\'#layoutLogger\').remove()">X</span>Layout console.log</div><ul style="font-size: 13px; font-weight: none; list-style: none; margin: 0; padding: 0 0 2px;"></ul></div>').appendTo("body"),
f.css("left",b(window).width()-f.outerWidth()-5),b.ui.draggable&&f.draggable({handle:":first-child"})),f.children("ul").append('<li style="padding: 4px 10px; margin: 0; border-top: 1px solid #CCC;">'+a.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</li>"))}};var k=b.layout.language;b.layout.defaults={name:"",containerSelector:"",containerClass:"ui-layout-container",scrollToBookmarkOnLoad:!0,resizeWithWindow:!0,resizeWithWindowDelay:200,resizeWithWindowMaxDelay:0,onresizeall_start:null,onresizeall_end:null,
onload_start:null,onload_end:null,onunload_start:null,onunload_end:null,autoBindCustomButtons:!1,initPanes:!0,showErrorMessages:!0,showDebugMessages:!1,zIndex:null,zIndexes:{pane_normal:0,content_mask:1,resizer_normal:2,pane_sliding:100,pane_animate:1E3,resizer_drag:1E4},panes:{applyDemoStyles:!1,closable:!0,resizable:!0,slidable:!0,initClosed:!1,initHidden:!1,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",findNestedContent:!1,paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",
togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",minSize:0,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerTip_open:k.Close,togglerTip_closed:k.Open,togglerContent_open:"",togglerContent_closed:"",resizerDblClickToggle:!0,autoResize:!0,autoReopen:!0,resizerDragOpacity:1,maskContents:!1,maskObjects:!1,maskZindex:null,resizingGrid:!1,livePaneResizing:!1,liveContentResizing:!1,liveResizingTolerance:1,
noRoomToOpenTip:k.noRoomToOpenTip,resizerTip:k.Resize,sliderTip:k.Slide,sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseleave",slideDelay_open:300,slideDelay_close:300,hideTogglerOnSlide:!1,preventQuickSlideClose:b.layout.browser.webkit,preventPrematureSlideClose:!1,showOverflowOnHover:!1,enableCursorHotkey:!0,customHotkeyModifier:"SHIFT",fxName:"slide",fxSpeed:null,fxSettings:{},fxOpacityFix:!0,animatePaneSizing:!1,childOptions:null,initChildLayout:!0,destroyChildLayout:!0,
resizeChildLayout:!0,triggerEventsOnLoad:!1,triggerEventsDuringLiveResize:!0,onshow_start:null,onshow_end:null,onhide_start:null,onhide_end:null,onopen_start:null,onopen_end:null,onclose_start:null,onclose_end:null,onresize_start:null,onresize_end:null,onsizecontent_start:null,onsizecontent_end:null,onswap_start:null,onswap_end:null,ondrag_start:null,ondrag_end:null},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize",customHotkey:""},south:{paneSelector:".ui-layout-south",
size:"auto",resizerCursor:"s-resize",customHotkey:""},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize",customHotkey:""},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize",customHotkey:""},center:{paneSelector:".ui-layout-center",minWidth:0,minHeight:0}};b.layout.optionsMap={layout:"stateManagement effects zIndexes name zIndex scrollToBookmarkOnLoad showErrorMessages resizeWithWindow resizeWithWindowDelay resizeWithWindowMaxDelay onresizeall onresizeall_start onresizeall_end onload onunload autoBindCustomButtons".split(" "),
center:"paneClass contentSelector contentIgnoreSelector findNestedContent applyDemoStyles triggerEventsOnLoad showOverflowOnHover maskContents maskObjects liveContentResizing childOptions initChildLayout resizeChildLayout destroyChildLayout onresize onresize_start onresize_end onsizecontent onsizecontent_start onsizecontent_end".split(" "),noDefault:["paneSelector","resizerCursor","customHotkey"]};b.layout.transformData=function(a){var f={panes:{},center:{}},b,k,g,h,i,x,E;if("object"!==typeof a)return f;
for(k in a){b=f;i=a[k];g=k.split("__");E=g.length-1;for(x=0;x<=E;x++)h=g[x],x===E?b[h]=i:b[h]||(b[h]={}),b=b[h]}return f};b.layout.backwardCompatibility={map:{applyDefaultStyles:"applyDemoStyles",resizeNestedLayout:"resizeChildLayout",resizeWhileDragging:"livePaneResizing",resizeContentWhileDragging:"liveContentResizing",triggerEventsWhileDragging:"triggerEventsDuringLiveResize",maskIframesOnResize:"maskContents",useStateCookie:"stateManagement.enabled","cookie.autoLoad":"stateManagement.autoLoad",
"cookie.autoSave":"stateManagement.autoSave","cookie.keys":"stateManagement.stateKeys","cookie.name":"stateManagement.cookie.name","cookie.domain":"stateManagement.cookie.domain","cookie.path":"stateManagement.cookie.path","cookie.expires":"stateManagement.cookie.expires","cookie.secure":"stateManagement.cookie.secure"},renameOptions:function(a){function f(b,k){for(var l=b.split("."),g=l.length-1,h={branch:a,key:l[g]},i=0,r;i<g;i++)r=l[i],h.branch=void 0==h.branch[r]?k?h.branch[r]={}:{}:h.branch[r];
return h}var k=b.layout.backwardCompatibility.map,g,h,i,w;for(w in k)g=f(w),i=g.branch[g.key],void 0!==i&&(h=f(k[w],!0),h.branch[h.key]=i,delete g.branch[g.key])},renameAllOptions:function(a){var f=b.layout.backwardCompatibility.renameOptions;f(a);a.defaults&&("object"!==typeof a.panes&&(a.panes={}),b.extend(!0,a.panes,a.defaults),delete a.defaults);a.panes&&f(a.panes);b.each(b.layout.config.allPanes,function(b,k){a[k]&&f(a[k])});return a}};b.fn.layout=function(k){function l(a){if(!a)return!0;var f=
a.keyCode;if(33>f)return!0;var k={38:"north",40:"south",37:"west",39:"east"},m=a.shiftKey,l=a.ctrlKey,g,h,i,r;l&&(37<=f&&40>=f)&&O[k[f]].enableCursorHotkey?r=k[f]:(l||m)&&b.each(w.borderPanes,function(a,b){g=O[b];h=g.customHotkey;i=g.customHotkeyModifier;if(m&&"SHIFT"==i||l&&"CTRL"==i||l&&m)if(h&&f===(isNaN(h)||9>=h?h.toUpperCase().charCodeAt(0):h))return r=b,!1});if(!r||!ia[r]||!O[r].closable||Q[r].isHidden)return!0;Hb(r);a.stopPropagation();return a.returnValue=!1}function r(a){if(Oa()){this&&this.tagName&&
(a=this);var f;i(a)?f=ia[a]:b(a).data("layoutRole")?f=b(a):b(a).parents().each(function(){if(b(this).data("layoutRole"))return f=b(this),!1});if(f&&f.length){var k=f.data("layoutEdge"),a=Q[k];a.cssSaved&&p(k);if(a.isSliding||a.isResizing||a.isClosed)a.cssSaved=!1;else{var l={zIndex:O.zIndexes.resizer_normal+1},m={},g=f.css("overflow"),h=f.css("overflowX"),r=f.css("overflowY");"visible"!=g&&(m.overflow=g,l.overflow="visible");h&&!h.match(/visible|auto/)&&(m.overflowX=h,l.overflowX="visible");r&&!r.match(/visible|auto/)&&
(m.overflowY=h,l.overflowY="visible");a.cssSaved=m;f.css(l);b.each(w.allPanes,function(a,f){f!=k&&p(f)})}}}}function p(a){if(Oa()){this&&this.tagName&&(a=this);var f;i(a)?f=ia[a]:b(a).data("layoutRole")?f=b(a):b(a).parents().each(function(){if(b(this).data("layoutRole"))return f=b(this),!1});if(f&&f.length){var a=f.data("layoutEdge"),a=Q[a],k=a.cssSaved||{};!a.isSliding&&!a.isResizing&&f.css("zIndex",O.zIndexes.pane_normal);f.css(k);a.cssSaved=!1}}}var t=b.layout.browser,v=b.layout.language,w=b.layout.config,
x=b.layout.cssWidth,E=b.layout.cssHeight,z=b.layout.getElementDimensions,L=b.layout.getElementCSS,C=b.layout.getEventObject,A=b.layout.parsePaneName,O=b.extend(!0,{},b.layout.defaults);O.effects=b.extend(!0,{},b.layout.effects);var Q={id:"layout"+b.now(),initialized:!1,container:{},north:{},south:{},east:{},west:{},center:{}},U={north:null,south:null,east:null,west:null,center:null},sa={data:{},set:function(a,f,b){sa.clear(a);sa.data[a]=setTimeout(f,b)},clear:function(a){var f=sa.data;f[a]&&(clearTimeout(f[a]),
delete f[a])}},ta=function(a,f){b.layout.msg(O.name+" / "+a,f&&O.showErrorMessages)},ca=function(a,f,k){var l=f?O[f]:O,m=a+(a.match(/_/)?"":"_end"),g=m.match(/_end$/)?m.substr(0,m.length-4):"",h=l[m],r="NC",p=[];!h&&g&&(h=l[g]);h&&(i(h)&&(h.match(/,/)?(p=h.split(","),h=eval(p[0])):h=eval(h)),b.isFunction(h)&&(r=p.length?h(p[1]):f&&ia[f]?h(f,ia[f],Q[f],O[f],O.name):h(Ua,Q,O,O.name)));!k&&!1!==r&&(f?(ia[f].triggerHandler("layoutpane"+m,[f,ia[f],Q[f],O[f],O.name]),g&&ia[f].triggerHandler("layoutpane"+
g,[f,ia[f],Q[f],O[f],O.name])):ma.triggerHandler("layout"+m,[f,ia[f],Q[f],O[f],O.name]));("onresize_end"===a||"onsizecontent_end"===a)&&va(f);return r},ra=function(a){if(!t.mozilla){var f=ia[a];"IFRAME"===Q[a].tagName?f.css(w.hidden).css(w.visible):f.find("IFRAME").css(w.hidden).css(w.visible)}},Ea=function(a){var f=ia[a],a=w[a].dir,f={minWidth:1001-x(f,1E3),minHeight:1001-E(f,1E3)};"horz"===a&&(f.minSize=f.minHeight);"vert"===a&&(f.minSize=f.minWidth);return f},Fa=function(a,k,m){m||(m=w[a].dir);
i(k)&&k.match(/%/)&&(k="100%"===k?-1:parseInt(k,10)/100);if(0===k)return 0;if(1<=k)return parseInt(k,10);var l=O,g=0;"horz"==m?g=wa.innerHeight-(ia.north?l.north.spacing_open:0)-(ia.south?l.south.spacing_open:0):"vert"==m&&(g=wa.innerWidth-(ia.west?l.west.spacing_open:0)-(ia.east?l.east.spacing_open:0));if(-1===k)return g;if(0<k)return f(g*k);if("center"==a)return 0;var m="horz"===m?"height":"width",l=ia[a],a="height"===m?bc[a]:!1,g=b.layout.showInvisibly(l),h=l.css(m),r=a?a.css(m):0;l.css(m,"auto");
a&&a.css(m,"auto");k="height"===m?l.outerHeight():l.outerWidth();l.css(m,h).css(g);a&&a.css(m,r);return k},Ia=function(a,f){var k=ia[a],b=O[a],m=Q[a],l=f?b.spacing_open:0,b=f?b.spacing_closed:0;return!k||m.isHidden?0:m.isClosed||m.isSliding&&f?b:"horz"===w[a].dir?k.outerHeight()+l:k.outerWidth()+l},Za=function(f,k){if(Oa()){var b=O[f],m=Q[f],l=w[f],g=l.dir;l.side.toLowerCase();l.sizeType.toLowerCase();var l=void 0!=k?k:m.isSliding,i=b.spacing_open,r=w.oppositeEdge[f],p=Q[r],t=ia[r],C=!t||!1===p.isVisible||
p.isSliding?0:"horz"==g?t.outerHeight():t.outerWidth(),r=(!t||p.isHidden?0:O[r][!1!==p.isClosed?"spacing_closed":"spacing_open"])||0,p="horz"==g?wa.innerHeight:wa.innerWidth,t=Ea("center"),t="horz"==g?a(O.center.minHeight,t.minHeight):a(O.center.minWidth,t.minWidth),l=p-i-(l?0:Fa("center",t,g)+C+r),g=m.minSize=a(Fa(f,b.minSize),Ea(f).minSize),l=m.maxSize=h(b.maxSize?Fa(f,b.maxSize):1E5,l),m=m.resizerPosition={},i=wa.insetTop,C=wa.insetLeft,r=wa.innerWidth,p=wa.innerHeight,b=b.spacing_open;switch(f){case "north":m.min=
i+g;m.max=i+l;break;case "west":m.min=C+g;m.max=C+l;break;case "south":m.min=i+p-l-b;m.max=i+p-g-b;break;case "east":m.min=C+r-l-b,m.max=C+r-g-b}}},Ka=function(a,f){var k=b(a),m=k.data("layoutRole"),l=k.data("layoutEdge"),g=O[l][m+"Class"],l="-"+l,h=k.hasClass(g+"-closed")?"-closed":"-open",i="-closed"===h?"-open":"-closed",h=g+"-hover "+(g+l+"-hover ")+(g+h+"-hover ")+(g+l+h+"-hover ");f&&(h+=g+i+"-hover "+(g+l+i+"-hover "));"resizer"==m&&k.hasClass(g+"-sliding")&&(h+=g+"-sliding-hover "+(g+l+"-sliding-hover "));
return b.trim(h)},R=function(a,f){var k=b(f||this);a&&"toggler"===k.data("layoutRole")&&a.stopPropagation();k.addClass(Ka(k))},ha=function(a,f){var k=b(f||this);k.removeClass(Ka(k,!0))},za=function(){b.fn.disableSelection&&b("body").disableSelection()},Xa=function(a,f){var k=f||this,m=b(k).data("layoutEdge"),l=m+"ResizerLeave";sa.clear(m+"_openSlider");sa.clear(l);f?!Q[m].isResizing&&b.fn.enableSelection&&b("body").enableSelection():sa.set(l,function(){Xa(a,k)},200)},Oa=function(){return Q.initialized||
Q.creatingLayout?!0:eb()},eb=function(a){var f=O;if(!ma.is(":visible"))return!a&&(t.webkit&&"BODY"===ma[0].tagName)&&setTimeout(function(){eb(!0)},50),!1;if(!$b("center").length)return O.showErrorMessages&&ta(v.errCenterPaneMissing,!0),!1;Q.creatingLayout=!0;b.extend(wa,z(ma));b.each(w.allPanes,function(a,f){Sb(f,!0)});pb();b.each(w.borderPanes,function(a,f){ia[f]&&Q[f].isVisible&&(Za(f),bb(f))});hb("center");b.each(w.allPanes,function(a,f){var k=O[f];ia[f]&&(Q[f].isVisible&&(Rc(f),k.triggerEventsOnLoad?
ca("onresize_end",f):va(f)),k.initChildLayout&&k.childOptions&&Bb(f))});f.scrollToBookmarkOnLoad&&(a=self.location,a.hash&&a.replace(a.hash));Ua.hasParentLayout?f.resizeWithWindow=!1:f.resizeWithWindow&&b(window).bind("resize."+wb,Wb);delete Q.creatingLayout;Q.initialized=!0;g(Ua,b.layout.onReady);ca("onload_end");return!0},Bb=function(a,f){var k=A.call(this,a),b=ia[k];if(b){var m=bc[k],l=f||O[k].childOptions,b=l.containerSelector?b.find(l.containerSelector):m||b,g=(m=b.length)?U[k]=b.data("layout")||
null:null;!g&&(m&&l)&&(g=U[k]=b.eq(0).layout(l)||null);g&&(g.hasParentLayout=!0)}Ua[k].child=U[k]},Wb=function(){var a=Number(O.resizeWithWindowDelay);10>a&&(a=100);sa.clear("winResize");sa.set("winResize",function(){sa.clear("winResize");sa.clear("winResizeRepeater");var a=z(ma);(a.innerWidth!==wa.innerWidth||a.innerHeight!==wa.innerHeight)&&mb()},a);sa.data.winResizeRepeater||Qa()},Qa=function(){var a=Number(O.resizeWithWindowMaxDelay);0<a&&sa.set("winResizeRepeater",function(){Qa();mb()},a)},Ja=
function(){ca("onunload_start");g(Ua,b.layout.onUnload);ca("onunload_end")},yb=function(a){a=a?a.split(","):w.borderPanes;b.each(a,function(a,f){var k=O[f];if(k.enableCursorHotkey||k.customHotkey)return b(document).bind("keydown."+wb,l),!1})},$b=function(a){a=O[a].paneSelector;if("#"===a.substr(0,1))return ma.find(a).eq(0);var f=ma.children(a).eq(0);return f.length?f:ma.children("form:first").children(a).eq(0)},Sb=function(f,k){if(k||Oa()){var b=O[f],m=Q[f],l=w[f],g=l.dir,i="center"===f,t={},C=ia[f],
z,v;C?fd(f,!1,!0,!1):bc[f]=!1;C=ia[f]=$b(f);if(C.length){C.data("layoutCSS")||C.data("layoutCSS",L(C,"position,top,left,bottom,right,width,height,overflow,zIndex,display,backgroundColor,padding,margin,border"));Ua[f]={name:f,pane:ia[f],content:bc[f],options:O[f],state:Q[f],child:U[f]};C.data({parentLayout:Ua,layoutPane:Ua[f],layoutEdge:f,layoutRole:"pane"}).css(l.cssReq).css("zIndex",O.zIndexes.pane_normal).css(b.applyDemoStyles?l.cssDemo:{}).addClass(b.paneClass+" "+b.paneClass+"-"+f).bind("mouseenter."+
wb,R).bind("mouseleave."+wb,ha);l={hide:"",show:"",toggle:"",close:"",open:"",slideOpen:"",slideClose:"",slideToggle:"",size:"manualSizePane",sizePane:"manualSizePane",sizeContent:"",sizeHandles:"",enableClosable:"",disableClosable:"",enableSlideable:"",disableSlideable:"",enableResizable:"",disableResizable:"",swapPanes:"swapPanes",swap:"swapPanes",move:"swapPanes",removePane:"removePane",remove:"removePane",createChildLayout:"",resizeChildLayout:"",resizeAll:"resizeAll",resizeLayout:"resizeAll"};
for(v in l)C.bind("layoutpane"+v.toLowerCase()+"."+wb,Ua[l[v]||v]);Xb(f,!1);i||(z=m.size=Fa(f,b.size),i=Fa(f,b.minSize)||1,v=Fa(f,b.maxSize)||1E5,0<z&&(z=a(h(z,v),i)),m.isClosed=!1,m.isSliding=!1,m.isResizing=!1,m.isHidden=!1,m.pins||(m.pins=[]));m.tagName=C[0].tagName;m.edge=f;m.noRoom=!1;m.isVisible=!0;switch(f){case "north":t.top=wa.insetTop;t.left=wa.insetLeft;t.right=wa.insetRight;break;case "south":t.bottom=wa.insetBottom;t.left=wa.insetLeft;t.right=wa.insetRight;break;case "west":t.left=wa.insetLeft;
break;case "east":t.right=wa.insetRight}"horz"===g?t.height=E(C,z):"vert"===g&&(t.width=x(C,z));C.css(t);"horz"!=g&&hb(f,!0);b.initClosed&&b.closable&&!b.initHidden?Va(f,!0,!0):b.initHidden||b.initClosed?ld(f):m.noRoom||C.css("display","block");C.css("visibility","visible");b.showOverflowOnHover&&C.hover(r,p);Q.initialized&&(pb(f),yb(f),mb(),m.isVisible&&(b.triggerEventsOnLoad?ca("onresize_end",f):va(f)),b.initChildLayout&&b.childOptions&&Bb(f))}else ia[f]=!1}},pb=function(a){a=a?a.split(","):w.borderPanes;
b.each(a,function(a,f){var k=ia[f];kb[f]=!1;Cb[f]=!1;if(k){var m=O[f],k=Q[f],l=m.resizerClass,g=m.togglerClass;w[f].side.toLowerCase();var h="-"+f,i=Ua[f],r=i.resizer=kb[f]=b("<div></div>"),i=i.toggler=m.closable?Cb[f]=b("<div></div>"):!1;!k.isVisible&&m.slidable&&r.attr("title",m.sliderTip).css("cursor",m.sliderCursor);r.attr("id","#"==m.paneSelector.substr(0,1)?m.paneSelector.substr(1)+"-resizer":"").data({parentLayout:Ua,layoutPane:Ua[f],layoutEdge:f,layoutRole:"resizer"}).css(w.resizers.cssReq).css("zIndex",
O.zIndexes.resizer_normal).css(m.applyDemoStyles?w.resizers.cssDemo:{}).addClass(l+" "+l+h).hover(R,ha).hover(za,Xa).appendTo(ma);i&&(i.attr("id","#"==m.paneSelector.substr(0,1)?m.paneSelector.substr(1)+"-toggler":"").data({parentLayout:Ua,layoutPane:Ua[f],layoutEdge:f,layoutRole:"toggler"}).css(w.togglers.cssReq).css(m.applyDemoStyles?w.togglers.cssDemo:{}).addClass(g+" "+g+h).hover(R,ha).bind("mouseenter",za).appendTo(r),m.togglerContent_open&&b("<span>"+m.togglerContent_open+"</span>").data({layoutEdge:f,
layoutRole:"togglerContent"}).data("layoutRole","togglerContent").data("layoutEdge",f).addClass("content content-open").css("display","none").appendTo(i),m.togglerContent_closed&&b("<span>"+m.togglerContent_closed+"</span>").data({layoutEdge:f,layoutRole:"togglerContent"}).addClass("content content-closed").css("display","none").appendTo(i),Jc(f));var m=f,p=b.layout.plugins.draggable,m=m?m.split(","):w.borderPanes;b.each(m,function(a,f){var k=O[f];if(!p||!ia[f]||!k.resizable)return k.resizable=!1,
!0;var m=Q[f],l=O.zIndexes,g=w[f],h="horz"==g.dir?"top":"left",i=f+",center,"+w.oppositeEdge[f]+("horz"==g.dir?",west,east":""),r=kb[f],C=k.resizerClass,z=0,x,u,q=C+"-drag",A=C+"-"+f+"-drag",R=C+"-dragging",L=C+"-"+f+"-dragging",E=C+"-dragging-limit",ha=C+"-"+f+"-dragging-limit",za=!1;m.isClosed||r.attr("title",k.resizerTip).css("cursor",k.resizerCursor);r.draggable({containment:ma[0],axis:"horz"==g.dir?"y":"x",delay:0,distance:1,grid:k.resizingGrid,helper:"clone",opacity:k.resizerDragOpacity,addClasses:!1,
zIndex:l.resizer_drag,start:function(a,l){k=O[f];m=Q[f];u=k.livePaneResizing;if(!1===ca("ondrag_start",f))return!1;m.isResizing=!0;sa.clear(f+"_closeSlider");Za(f);x=m.resizerPosition;z=l.position[h];r.addClass(q+" "+A);za=!1;b("body").disableSelection();kc(i)},drag:function(a,b){za||(b.helper.addClass(R+" "+L).css({right:"auto",bottom:"auto"}).children().css("visibility","hidden"),za=!0,m.isSliding&&ia[f].css("zIndex",l.pane_sliding));var g=0;b.position[h]<x.min?(b.position[h]=x.min,g=-1):b.position[h]>
x.max&&(b.position[h]=x.max,g=1);g?(b.helper.addClass(E+" "+ha),window.defaultStatus=0<g&&f.match(/north|west/)||0>g&&f.match(/south|east/)?v.maxSizeWarning:v.minSizeWarning):(b.helper.removeClass(E+" "+ha),window.defaultStatus="");u&&Math.abs(b.position[h]-z)>=k.liveResizingTolerance&&(z=b.position[h],t(a,b,f))},stop:function(a,k){b("body").enableSelection();window.defaultStatus="";r.removeClass(q+" "+A);m.isResizing=!1;t(a,k,f,!0,i)}})});var t=function(a,f,k,b,m){var l=f.position,g=w[k],a=O[k],
f=Q[k],h;switch(k){case "north":h=l.top;break;case "west":h=l.left;break;case "south":h=wa.offsetHeight-l.top-a.spacing_open;break;case "east":h=wa.offsetWidth-l.left-a.spacing_open}h-=wa["inset"+g.side];b?(!1!==ca("ondrag_end",k)&&gd(k,h,!1,!0),Sc(),f.isSliding&&m&&kc(m,!0)):Math.abs(h-f.size)<a.liveResizingTolerance||(gd(k,h,!1,!0),qc.each(jc))};k.isVisible?G(f):(ob(f),Lc(f,!0))}});zb()},Xb=function(a,f){if(Oa()){var k=O[a],b=k.contentSelector,m=Ua[a],l=ia[a],g;b&&(g=m.content=bc[a]=k.findNestedContent?
l.find(b).eq(0):l.children(b).eq(0));g&&g.length?(g.data("layoutRole","content"),g.data("layoutCSS")||g.data("layoutCSS",L(g,"height")),g.css(w.content.cssReq),k.applyDemoStyles&&(g.css(w.content.cssDemo),l.css(w.content.cssDemoPane)),Q[a].content={},!1!==f&&Rc(a)):m.content=bc[a]=!1}},jc=function(){var a=b(this),f=a.data("layoutMask"),f=Q[f];"IFRAME"==f.tagName&&f.isVisible&&a.css({top:f.offsetTop,left:f.offsetLeft,width:f.outerWidth,height:f.outerHeight})},kc=function(a,f){var k=a?a.split(","):
b.layout.config.allPanes,m=O.zIndexes,l,g;b.each(k,function(a,k){g=Q[k];l=O[k];if(g.isVisible&&(!f&&l.maskContents||l.maskObjects)){for(var h=b([]),i,r=0,p=qc.length;r<p;r++)i=qc.eq(r),i.data("layoutMask")===k&&(h=h.add(i));if(!h.length){h=ia[k];i=Q[k];var r=O[k],p=O.zIndexes,t=b([]),C,z,x,v,w;if(r.maskContents||r.maskObjects)for(w=0;w<(r.maskObjects?2:1);w++)C=r.maskObjects&&0==w,z=document.createElement(C?"iframe":"div"),x=b(z).data("layoutMask",k),z.className="ui-layout-mask ui-layout-mask-"+k,
v=z.style,v.display="block",v.position="absolute",C&&(z.frameborder=0,z.src="about:blank",v.opacity=0,v.filter="Alpha(Opacity='0')",v.border=0),"IFRAME"==i.tagName?(v.zIndex=p.pane_normal+1,ma.append(z)):(x.addClass("ui-layout-mask-inside-pane"),v.zIndex=r.maskZindex||p.content_mask,v.top=0,v.left=0,v.width="100%",v.height="100%",h.append(z)),t=t.add(z),qc=qc.add(z);h=t}h.each(function(){jc.call(this);this.style.zIndex=g.isSliding?m.pane_sliding+1:m.pane_normal+1;this.style.display="block"})}})},
Sc=function(){var a;b.each(b.layout.config.borderPanes,function(f,k){if(Q[k].isResizing)return a=!0,!1});a||qc.hide()},fd=function(a,f,k,m){if(Oa()){var a=A.call(this,a),l=ia[a],g=bc[a],h=kb[a],i=Cb[a];l&&b.isEmptyObject(l.data())&&(l=!1);g&&b.isEmptyObject(g.data())&&(g=!1);h&&b.isEmptyObject(h.data())&&(h=!1);i&&b.isEmptyObject(i.data())&&(i=!1);l&&l.stop(!0,!0);var r=O[a],p=U[a]||(l?l.data("layout"):0)||(g?g.data("layout"):0)||null;if((void 0!==m?m:r.destroyChildLayout)&&p&&!p.destroyed)p.destroy(!0),
p.destroyed&&(p=null);l&&f&&!p?l.remove():l&&l[0]&&(f=r.paneClass,m=f+"-"+a,f=[f,f+"-open",f+"-closed",f+"-sliding",m,m+"-open",m+"-closed",m+"-sliding"],b.merge(f,Ka(l,!0)),l.removeClass(f.join(" ")).removeData("parentLayout").removeData("layoutPane").removeData("layoutRole").removeData("layoutEdge").removeData("autoHidden").unbind("."+wb),g&&g.data("layout")?(g.width(g.width()),p.resizeAll()):g&&g.css(g.data("layoutCSS")).removeData("layoutCSS").removeData("layoutRole"),l.data("layout")||l.css(l.data("layoutCSS")).removeData("layoutCSS"));
i&&i.remove();h&&h.remove();Ua[a]=ia[a]=bc[a]=kb[a]=Cb[a]=U[a]=!1;k||mb()}},zc=function(a){var f=ia[a],k=f[0].style;O[a].useOffscreenClose?(f.data(w.offscreenReset)||f.data(w.offscreenReset,{left:k.left,right:k.right}),f.css(w.offscreenCSS)):f.hide().removeData(w.offscreenReset)},sd=function(a){var f=ia[a],a=O[a],k=w.offscreenCSS,b=f.data(w.offscreenReset),m=f[0].style;f.show().removeData(w.offscreenReset);a.useOffscreenClose&&b&&(m.left==k.left&&(m.left=b.left),m.right==k.right&&(m.right=b.right))},
ld=function(a,f){if(Oa()){var k=A.call(this,a),b=O[k],m=Q[k],l=kb[k];ia[k]&&!m.isHidden&&!(Q.initialized&&!1===ca("onhide_start",k))&&(m.isSliding=!1,l&&l.hide(),!Q.initialized||m.isClosed?(m.isClosed=!0,m.isHidden=!0,m.isVisible=!1,Q.initialized||zc(k),hb("horz"===w[k].dir?"":"center"),(Q.initialized||b.triggerEventsOnLoad)&&ca("onhide_end",k)):(m.isHiding=!0,Va(k,!1,f)))}},mc=function(a,f,k,b){if(Oa()){var a=A.call(this,a),m=Q[a];ia[a]&&m.isHidden&&!1!==ca("onshow_start",a)&&(m.isSliding=!1,m.isShowing=
!0,!1===f?Va(a,!0):K(a,!1,k,b))}},Hb=function(a,f){if(Oa()){var k=C(a),b=A.call(this,a),m=Q[b];k&&k.stopImmediatePropagation();m.isHidden?mc(b):m.isClosed?K(b,!!f):Va(b)}},Va=function(a,f,k,b){function m(){i.isMoving=!1;Lc(l,!0);var a=w.oppositeEdge[l];Q[a].noRoom&&(Za(a),bb(a));Sc();if(!b&&(Q.initialized||h.triggerEventsOnLoad))t||ca("onclose_end",l),t&&ca("onshow_end",l),C&&ca("onhide_end",l)}var l=A.call(this,a);if(!Q.initialized&&ia[l])a=Q[l],zc(l),a.isClosed=!0,a.isVisible=!1;else if(Oa()){var g=
ia[l],h=O[l],i=Q[l],r=w[l],p,t,C;ma.queue(function(a){if(!g||!h.closable&&!i.isShowing&&!i.isHiding||!f&&i.isClosed&&!i.isShowing)return a();var b=!i.isShowing&&!1===ca("onclose_start",l);t=i.isShowing;C=i.isHiding;delete i.isShowing;delete i.isHiding;if(b)return a();p=!k&&!i.isClosed&&"none"!=h.fxName_close;i.isMoving=!0;i.isClosed=!0;i.isVisible=!1;C?i.isHidden=!0:t&&(i.isHidden=!1);i.isSliding?pa(l,!1):hb("horz"===w[l].dir?"":"center",!1);ob(l);p?(kc("center"+("horz"==r.dir?",west,east":""),!0),
Tc(l,!0),g.hide(h.fxName_close,h.fxSettings_close,h.fxSpeed_close,function(){Tc(l,!1);i.isClosed&&m();a()})):(zc(l),m(),a())})}},ob=function(a){var f=kb[a],k=Cb[a],m=O[a],l=w[a].side.toLowerCase(),g=m.resizerClass,h=m.togglerClass,i="-"+a;f.css(l,wa["inset"+w[a].side]).removeClass(g+"-open "+g+i+"-open").removeClass(g+"-sliding "+g+i+"-sliding").addClass(g+"-closed "+g+i+"-closed").unbind("dblclick."+wb);m.resizable&&b.layout.plugins.draggable&&f.draggable("disable").removeClass("ui-state-disabled").css("cursor",
"default").attr("title","");k&&(k.removeClass(h+"-open "+h+i+"-open").addClass(h+"-closed "+h+i+"-closed").attr("title",m.togglerTip_closed),k.children(".content-open").hide(),k.children(".content-closed").css("display","block"));fa(a,!1);Q.initialized&&zb()},K=function(a,f,k,b){function m(){i.isMoving=!1;ra(l);i.isSliding||(Sc(),hb("vert"==w[l].dir?"center":"",!1));G(l)}if(Oa()){var l=A.call(this,a),g=ia[l],h=O[l],i=Q[l],r=w[l],p,t;ma.queue(function(a){if(!g||!h.resizable&&!h.closable&&!i.isShowing||
i.isVisible&&!i.isSliding)return a();if(i.isHidden&&!i.isShowing)a(),mc(l,!0);else{h.autoResize&&i.size!=h.size?nc(l,h.size,!0,!0,!0):Za(l,f);var C=ca("onopen_start",l);if("abort"===C)return a();"NC"!==C&&Za(l,f);if(i.minSize>i.maxSize)return fa(l,!1),!b&&h.noRoomToOpenTip&&alert(h.noRoomToOpenTip),a();f?pa(l,!0):i.isSliding?pa(l,!1):h.slidable&&Lc(l,!1);i.noRoom=!1;bb(l);t=i.isShowing;delete i.isShowing;p=!k&&i.isClosed&&"none"!=h.fxName_open;i.isMoving=!0;i.isVisible=!0;i.isClosed=!1;t&&(i.isHidden=
!1);p?(C="center"+("horz"==r.dir?",west,east":""),i.isSliding&&(C+=","+w.oppositeEdge[l]),kc(C,!0),Tc(l,!0),g.show(h.fxName_open,h.fxSettings_open,h.fxSpeed_open,function(){Tc(l,!1);i.isVisible&&m();a()})):(sd(l),m(),a())}})}},G=function(a,f){var k=ia[a],m=kb[a],l=Cb[a],g=O[a],h=Q[a],i=w[a].side.toLowerCase(),r=g.resizerClass,p=g.togglerClass,t="-"+a;m.css(i,wa["inset"+w[a].side]+Ia(a)).removeClass(r+"-closed "+r+t+"-closed").addClass(r+"-open "+r+t+"-open");h.isSliding?m.addClass(r+"-sliding "+r+
t+"-sliding"):m.removeClass(r+"-sliding "+r+t+"-sliding");g.resizerDblClickToggle&&m.bind("dblclick",Hb);ha(0,m);g.resizable&&b.layout.plugins.draggable?m.draggable("enable").css("cursor",g.resizerCursor).attr("title",g.resizerTip):h.isSliding||m.css("cursor","default");l&&(l.removeClass(p+"-closed "+p+t+"-closed").addClass(p+"-open "+p+t+"-open").attr("title",g.togglerTip_open),ha(0,l),l.children(".content-closed").hide(),l.children(".content-open").css("display","block"));fa(a,!h.isSliding);b.extend(h,
z(k));Q.initialized&&(zb(),Rc(a,!0));if(!f&&(Q.initialized||g.triggerEventsOnLoad)&&k.is(":visible"))ca("onopen_end",a),h.isShowing&&ca("onshow_end",a),Q.initialized&&ca("onresize_end",a)},ya=function(a){function f(){m.isClosed?m.isMoving||K(b,!0):pa(b,!0)}if(Oa()){var k=C(a),b=A.call(this,a),m=Q[b],a=O[b].slideDelay_open;k&&k.stopImmediatePropagation();m.isClosed&&k&&"mouseenter"===k.type&&0<a?sa.set(b+"_openSlider",f,a):f()}},sb=function(f){function k(){g.isClosed?pa(l,!1):g.isMoving||Va(l)}if(Oa()){var m=
C(f),l=A.call(this,f),f=O[l],g=Q[l],h=g.isMoving?1E3:300;!g.isClosed&&!g.isResizing&&("click"===f.slideTrigger_close?k():f.preventQuickSlideClose&&g.isMoving||f.preventPrematureSlideClose&&m&&b.layout.isMouseOverElem(m,ia[l])||(m?sa.set(l+"_closeSlider",k,a(f.slideDelay_close,h)):k()))}},Tc=function(a,f){var k=ia[a],b=Q[a],m=O[a],l=O.zIndexes;f?(k.css({zIndex:l.pane_animate}),"south"==a?k.css({top:wa.insetTop+wa.innerHeight-k.outerHeight()}):"east"==a&&k.css({left:wa.insetLeft+wa.innerWidth-k.outerWidth()})):
(k.css({zIndex:b.isSliding?l.pane_sliding:l.pane_normal}),"south"==a?k.css({top:"auto"}):"east"==a&&!k.css("left").match(/\-99999/)&&k.css({left:"auto"}),t.msie&&(m.fxOpacityFix&&"slide"!=m.fxName_open&&k.css("filter")&&1==k.css("opacity"))&&k[0].style.removeAttribute("filter"))},Lc=function(a,f){var k=O[a],b=kb[a],m=k.slideTrigger_open.toLowerCase();if(b&&(!f||k.slidable))m.match(/mouseover/)?m=k.slideTrigger_open="mouseenter":m.match(/click|dblclick|mouseenter/)||(m=k.slideTrigger_open="click"),
b[f?"bind":"unbind"](m+"."+wb,ya).css("cursor",f?k.sliderCursor:"default").attr("title",f?k.sliderTip:"")},pa=function(a,f){function k(f){sa.clear(a+"_closeSlider");f.stopPropagation()}var b=O[a],m=Q[a],l=O.zIndexes,g=b.slideTrigger_close.toLowerCase(),h=f?"bind":"unbind",i=ia[a],r=kb[a];m.isSliding=f;sa.clear(a+"_closeSlider");f&&Lc(a,!1);i.css("zIndex",f?l.pane_sliding:l.pane_normal);r.css("zIndex",f?l.pane_sliding+2:l.resizer_normal);g.match(/click|mouseleave/)||(g=b.slideTrigger_close="mouseleave");
r[h](g,sb);"mouseleave"===g&&(i[h]("mouseleave."+wb,sb),r[h]("mouseenter."+wb,k),i[h]("mouseenter."+wb,k));f?"click"===g&&!b.resizable&&(r.css("cursor",f?b.sliderCursor:"default"),r.attr("title",f?b.togglerTip_open:"")):sa.clear(a+"_closeSlider")},bb=function(a,f,k,m){var f=O[a],l=Q[a],g=w[a],h=ia[a],i=kb[a],r="vert"===g.dir,p=!1;if("center"===a||r&&l.noVerticalRoom)(p=0<=l.maxHeight)&&l.noRoom?(sd(a),i&&i.show(),l.isVisible=!0,l.noRoom=!1,r&&(l.noVerticalRoom=!1),ra(a)):!p&&!l.noRoom&&(zc(a),i&&
i.hide(),l.isVisible=!1,l.noRoom=!0);"center"!==a&&(l.minSize<=l.maxSize?(l.size>l.maxSize?nc(a,l.maxSize,k,m,!0):l.size<l.minSize?nc(a,l.minSize,k,m,!0):i&&(l.isVisible&&h.is(":visible"))&&(k=g.side.toLowerCase(),m=l.size+wa["inset"+g.side],b.layout.cssNum(i,k)!=m&&i.css(k,m)),l.noRoom&&(l.wasOpen&&f.closable?f.autoReopen?K(a,!1,!0,!0):l.noRoom=!1:mc(a,l.wasOpen,!0,!0))):l.noRoom||(l.noRoom=!0,l.wasOpen=!l.isClosed&&!l.isSliding,l.isClosed||(f.closable?Va(a,!0,!0):ld(a,!0))))},gd=function(a,f,k,
b){if(Oa()){var a=A.call(this,a),l=O[a],m=Q[a],m=l.livePaneResizing&&!m.isResizing;l.autoResize=!1;nc(a,f,k,m,b)}},nc=function(f,k,l,m,g){function i(){for(var f="width"===L?C.outerWidth():C.outerHeight(),f=[{pane:r,count:1,target:k,actual:f,correct:k===f,attempt:k,cssSize:Xa}],g=f[0],h="Inaccurate size after resizing the "+r+"-pane.";!g.correct;){thisTry={pane:r,count:g.count+1,target:k};thisTry.attempt=g.actual>k?a(0,g.attempt-(g.actual-k)):a(0,g.attempt+(k-g.actual));thisTry.cssSize=("horz"==w[r].dir?
E:x)(ia[r],thisTry.attempt);C.css(L,thisTry.cssSize);thisTry.actual="width"==L?C.outerWidth():C.outerHeight();thisTry.correct=k===thisTry.actual;O.showDebugMessages&&(1===f.length&&(ta(h,!1),ta(g,!1)),ta(thisTry,!1));if(3<f.length)break;f.push(thisTry);g=f[f.length-1]}t.size=k;b.extend(t,z(C));t.isVisible&&C.is(":visible")&&(v&&v.css(R,k+wa[ha]),Rc(r));!l&&(!za&&Q.initialized&&t.isVisible)&&ca("onresize_end",r);l||(t.isSliding||hb("horz"==w[r].dir?"":"center",za,m),zb());g=w.oppositeEdge[r];k<sa&&
Q[g].noRoom&&(Za(g),bb(g,!1,l));O.showDebugMessages&&1<f.length&&ta(h+"\nSee the Error Console for details.",!0)}if(Oa()){var r=A.call(this,f),p=O[r],t=Q[r],C=ia[r],v=kb[r],R=w[r].side.toLowerCase(),L=w[r].sizeType.toLowerCase(),ha="inset"+w[r].side,za=t.isResizing&&!p.triggerEventsDuringLiveResize,U=!0!==g&&p.animatePaneSizing,sa,Xa;ma.queue(function(f){Za(r);sa=t.size;k=Fa(r,k);k=a(k,Fa(r,p.minSize));k=h(k,t.maxSize);if(k<t.minSize)f(),bb(r,!1,l);else{if(!m&&k===sa)return f();!l&&(Q.initialized&&
t.isVisible)&&ca("onresize_start",r);Xa=("horz"==w[r].dir?E:x)(ia[r],k);if(U&&C.is(":visible")){var g=b.layout.effects.size[r]||b.layout.effects.size.all,g=p.fxSettings_size.easing||g.easing,v=O.zIndexes,A={};A[L]=Xa+"px";t.isMoving=!0;C.css({zIndex:v.pane_animate}).show().animate(A,p.fxSpeed_size,g,function(){C.css({zIndex:t.isSliding?v.pane_sliding:v.pane_normal});t.isMoving=!1;i();f()})}else C.css(L,Xa),C.is(":visible")?i():(t.size=k,b.extend(t,z(C))),f()}})}},hb=function(f,k,l){f=(f?f:"east,west,center").split(",");
b.each(f,function(f,m){if(ia[m]){var g=O[m],h=Q[m],i=ia[m],r=!0,p={},r={top:Ia("north",!0),bottom:Ia("south",!0),left:Ia("west",!0),right:Ia("east",!0),width:0,height:0};r.width=wa.innerWidth-r.left-r.right;r.height=wa.innerHeight-r.bottom-r.top;r.top+=wa.insetTop;r.bottom+=wa.insetBottom;r.left+=wa.insetLeft;r.right+=wa.insetRight;b.extend(h,z(i));if("center"===m){if(!l&&h.isVisible&&r.width===h.outerWidth&&r.height===h.outerHeight)return!0;b.extend(h,Ea(m),{maxWidth:r.width,maxHeight:r.height});
p=r;p.width=x(i,p.width);p.height=E(i,p.height);r=0<=p.width&&0<=p.height;if(!Q.initialized&&g.minWidth>h.outerWidth){var g=g.minWidth-h.outerWidth,t=O.east.minSize||0,C=O.west.minSize||0,v=Q.east.size,w=Q.west.size,A=v,R=w;0<g&&(Q.east.isVisible&&v>t)&&(A=a(v-t,v-g),g-=v-A);0<g&&(Q.west.isVisible&&w>C)&&(R=a(w-C,w-g),g-=w-R);if(0===g){v!=t&&nc("east",A,!0,l,!0);w!=C&&nc("west",R,!0,l,!0);hb("center",k,l);return}}}else{h.isVisible&&!h.noVerticalRoom&&b.extend(h,z(i),Ea(m));if(!l&&!h.noVerticalRoom&&
r.height===h.outerHeight)return!0;p.top=r.top;p.bottom=r.bottom;p.height=E(i,r.height);h.maxHeight=p.height;r=0<=h.maxHeight;r||(h.noVerticalRoom=!0)}r?(!k&&Q.initialized&&ca("onresize_start",m),i.css(p),zb(m),h.noRoom&&(!h.isClosed&&!h.isHidden)&&bb(m),h.isVisible&&(b.extend(h,z(i)),Q.initialized&&Rc(m))):!h.noRoom&&h.isVisible&&bb(m);if(!h.isVisible)return!0;"center"===m&&(h=b.layout.browser,h=h.isIE6||h.msie&&!b.support.boxModel,ia.north&&(h||"IFRAME"==Q.north.tagName)&&ia.north.css("width",x(ia.north,
wa.innerWidth)),ia.south&&(h||"IFRAME"==Q.south.tagName)&&ia.south.css("width",x(ia.south,wa.innerWidth)));!k&&Q.initialized&&ca("onresize_end",m)}})},mb=function(){if(Q.initialized){if(ma.is(":visible:")&&(b.extend(Q.container,z(ma)),wa.outerHeight)){if(!1===ca("onresizeall_start"))return!1;var a,f,k;b.each(["south","north","east","west"],function(a,b){ia[b]&&(k=Q[b],f=O[b],f.autoResize&&k.size!=f.size?nc(b,f.size,!0,!0,!0):(Za(b),bb(b,!1,!0,!0)))});hb("",!0,!0);zb();f=O;b.each(w.allPanes,function(f,
k){(a=ia[k])&&Q[k].isVisible&&ca("onresize_end",k)});ca("onresizeall_end")}}else eb()},va=function(a){a=A.call(this,a);if(O[a].resizeChildLayout){var f=ia[a],k=bc[a],b=Ua[a],l=U[a];b.child&&!l&&(l=b.child.container,l=U[a]=(l?l.data("layout"):0)||null);l&&l.destroyed&&(l=U[a]=null);l||(l=U[a]=f.data("layout")||(k?k.data("layout"):0)||null);b.child=U[a];l&&l.resizeAll()}},Rc=function(f,k){if(Oa()){var l=A.call(this,f),l=l?l.split(","):w.allPanes;b.each(l,function(f,l){function m(f){return a(C.css.paddingBottom,
parseInt(f.css("marginBottom"),10)||0)}function g(){var a=O[l].contentIgnoreSelector,a=r.nextAll().not(a||":lt(0)"),f=a.filter(":visible"),k=f.filter(":last");z={top:r[0].offsetTop,height:r.outerHeight(),numFooters:a.length,hiddenFooters:a.length-f.length,spaceBelow:0};z.spaceAbove=z.top;z.bottom=z.top+z.height;z.spaceBelow=k.length?k[0].offsetTop+k.outerHeight()-z.bottom+m(k):m(r)}var h=ia[l],r=bc[l],p=O[l],C=Q[l],z=C.content;if(!h||!r||!h.is(":visible"))return!0;if(!r.length&&(Xb(l,!1),!r))return;
if(!1!==ca("onsizecontent_start",l)){if(!C.isMoving&&!C.isResizing||p.liveContentResizing||k||void 0==z.top)g(),0<z.hiddenFooters&&"hidden"===h.css("overflow")&&(h.css("overflow","visible"),g(),h.css("overflow","hidden"));h=C.innerHeight-(z.spaceAbove-C.css.paddingTop)-(z.spaceBelow-C.css.paddingBottom);if(!r.is(":visible")||z.height!=h){var x=r,p=x;i(x)?p=ia[x]:x.jquery||(p=b(x));x=E(p,h);p.css({height:x,visibility:"visible"});0<x&&0<p.innerWidth()?p.data("autoHidden")&&(p.show().data("autoHidden",
!1),t.mozilla||p.css(w.hidden).css(w.visible)):!p.data("autoHidden")&&p.hide().data("autoHidden",!0);z.height=h}Q.initialized&&ca("onsizecontent_end",l)}})}},zb=function(a){a=(a=A.call(this,a))?a.split(","):w.borderPanes;b.each(a,function(a,k){var l=O[k],m=Q[k],g=ia[k],h=kb[k],r=Cb[k],p;if(g&&h){var t=w[k].dir,C=m.isClosed?"_closed":"_open",z=l["spacing"+C],v=l["togglerAlign"+C],C=l["togglerLength"+C],A;if(0===z)h.hide();else{!m.noRoom&&!m.isHidden&&h.show();"horz"===t?(A=wa.innerWidth,m.resizerLength=
A,g=b.layout.cssNum(g,"left"),h.css({width:x(h,A),height:E(h,z),left:-9999<g?g:wa.insetLeft})):(A=g.outerHeight(),m.resizerLength=A,h.css({height:E(h,A),width:x(h,z),top:wa.insetTop+Ia("north",!0)}));ha(l,h);if(r){if(0===C||m.isSliding&&l.hideTogglerOnSlide){r.hide();return}r.show();if(!(0<C)||"100%"===C||C>A)C=A,v=0;else if(i(v))switch(v){case "top":case "left":v=0;break;case "bottom":case "right":v=A-C;break;default:v=f((A-C)/2)}else g=parseInt(v,10),v=0<=v?g:A-C+g;if("horz"===t){var R=x(r,C);r.css({width:R,
height:E(r,z),left:v,top:0});r.children(".content").each(function(){p=b(this);p.css("marginLeft",f((R-p.outerWidth())/2))})}else{var L=E(r,C);r.css({height:L,width:x(r,z),top:v,left:0});r.children(".content").each(function(){p=b(this);p.css("marginTop",f((L-p.outerHeight())/2))})}ha(0,r)}if(!Q.initialized&&(l.initHidden||m.noRoom))h.hide(),r&&r.hide()}}})},Jc=function(a){if(Oa()){var f=A.call(this,a),a=Cb[f],k=O[f];a&&(k.closable=!0,a.bind("click."+wb,function(a){a.stopPropagation();Hb(f)}).css("visibility",
"visible").css("cursor","pointer").attr("title",Q[f].isClosed?k.togglerTip_closed:k.togglerTip_open).show())}},fa=function(a,f){b.layout.plugins.buttons&&b.each(Q[a].pins,function(k,l){b.layout.buttons.setPinState(Ua,b(l),a,f)})},ma=b(this).eq(0);if(!ma.length)return O.showErrorMessages&&ta(v.errContainerMissing,!0),null;if(ma.data("layoutContainer")&&ma.data("layout"))return ma.data("layout");var ia={},bc={},kb={},Cb={},qc=b([]),wa=Q.container,wb=Q.id,Ua={options:O,state:Q,container:ma,panes:ia,
contents:bc,resizers:kb,togglers:Cb,hide:ld,show:mc,toggle:Hb,open:K,close:Va,slideOpen:ya,slideClose:sb,slideToggle:function(a){a=A.call(this,a);Hb(a,!0)},setSizeLimits:Za,_sizePane:nc,sizePane:gd,sizeContent:Rc,swapPanes:function(f,k){function l(a){var f=ia[a],k=bc[a];return!f?!1:{pane:a,P:f?f[0]:!1,C:k?k[0]:!1,state:b.extend(!0,{},Q[a]),options:b.extend(!0,{},O[a])}}function m(f,k){if(f){var l=f.P,g=f.C,h=f.pane,i=w[k],p=i.side.toLowerCase(),t="inset"+i.side,C=b.extend({},Q[k]),z=O[k],x={resizerCursor:z.resizerCursor};
b.each(["fxName","fxSpeed","fxSettings"],function(a,f){x[f+"_open"]=z[f+"_open"];x[f+"_close"]=z[f+"_close"];x[f+"_size"]=z[f+"_size"]});ia[k]=b(l).data({layoutPane:Ua[k],layoutEdge:k}).css(w.hidden).css(i.cssReq);bc[k]=g?b(g):!1;O[k]=b.extend({},f.options,x);Q[k]=b.extend({},f.state);l.className=l.className.replace(RegExp(z.paneClass+"-"+h,"g"),z.paneClass+"-"+k);pb(k);i.dir!=w[h].dir?(l=r[k]||0,Za(k),l=a(l,Q[k].minSize),gd(k,l,!0,!0)):kb[k].css(p,wa[t]+(Q[k].isVisible?Ia(k):0));f.state.isVisible&&
!C.isVisible?G(k,!0):(ob(k),Lc(k,!0));f=null}}if(Oa()){var g=A.call(this,f);Q[g].edge=k;Q[k].edge=g;if(!1===ca("onswap_start",g)||!1===ca("onswap_start",k))Q[g].edge=g,Q[k].edge=k;else{var h=l(g),i=l(k),r={};r[g]=h?h.state.size:0;r[k]=i?i.state.size:0;ia[g]=!1;ia[k]=!1;Q[g]={};Q[k]={};Cb[g]&&Cb[g].remove();Cb[k]&&Cb[k].remove();kb[g]&&kb[g].remove();kb[k]&&kb[k].remove();kb[g]=kb[k]=Cb[g]=Cb[k]=!1;m(h,k);m(i,g);h=i=r=null;ia[g]&&ia[g].css(w.visible);ia[k]&&ia[k].css(w.visible);mb();ca("onswap_end",
g);ca("onswap_end",k)}}},initContent:Xb,addPane:Sb,removePane:fd,createChildLayout:Bb,enableClosable:Jc,disableClosable:function(a,f){if(Oa()){var k=A.call(this,a),l=Cb[k];l&&(O[k].closable=!1,Q[k].isClosed&&K(k,!1,!0),l.unbind("."+wb).css("visibility",f?"hidden":"visible").css("cursor","default").attr("title",""))}},enableSlidable:function(a){if(Oa()){var a=A.call(this,a),f=kb[a];f&&f.data("draggable")&&(O[a].slidable=!0,s.isClosed&&Lc(a,!0))}},disableSlidable:function(a){if(Oa()){var a=A.call(this,
a),f=kb[a];f&&(O[a].slidable=!1,Q[a].isSliding?Va(a,!1,!0):(Lc(a,!1),f.css("cursor","default").attr("title",""),ha(null,f[0])))}},enableResizable:function(a){if(Oa()){var a=A.call(this,a),f=kb[a],k=O[a];f&&f.data("draggable")&&(k.resizable=!0,f.draggable("enable"),Q[a].isClosed||f.css("cursor",k.resizerCursor).attr("title",k.resizerTip))}},disableResizable:function(a){if(Oa()){var a=A.call(this,a),f=kb[a];f&&f.data("draggable")&&(O[a].resizable=!1,f.draggable("disable").css("cursor","default").attr("title",
""),ha(null,f[0]))}},allowOverflow:r,resetOverflow:p,destroy:function(a){b(window).unbind("."+wb);b(document).unbind("."+wb);ma.clearQueue().removeData("layout").removeData("layoutContainer").removeClass(O.containerClass).unbind("."+wb);qc.remove();b.each(w.allPanes,function(f,k){fd(k,!1,!0,a)});ma.data("layoutCSS")&&!ma.data("layoutRole")&&ma.css(ma.data("layoutCSS")).removeData("layoutCSS");"BODY"===wa.tagName&&(ma=b("html")).data("layoutCSS")&&ma.css(ma.data("layoutCSS")).removeData("layoutCSS");
g(Ua,b.layout.onDestroy);Ja();for(n in Ua)n.match(/^(container|options)$/)||delete Ua[n];Ua.destroyed=!0;return Ua},initPanes:Oa,resizeAll:mb,runCallbacks:ca,hasParentLayout:!1,children:U,north:!1,south:!1,west:!1,east:!1,center:!1},rc;var sc,td,Pb,hd,Ac,oc,Yb,k=b.layout.transformData(k),k=b.layout.backwardCompatibility.renameAllOptions(k);if(!b.isEmptyObject(k.panes)){sc=b.layout.optionsMap.noDefault;Ac=0;for(oc=sc.length;Ac<oc;Ac++)Pb=sc[Ac],delete k.panes[Pb];sc=b.layout.optionsMap.layout;Ac=0;
for(oc=sc.length;Ac<oc;Ac++)Pb=sc[Ac],delete k.panes[Pb]}sc=b.layout.optionsMap.layout;var ib=b.layout.config.optionRootKeys;for(Pb in k)hd=k[Pb],0>b.inArray(Pb,ib)&&0>b.inArray(Pb,sc)&&(k.panes[Pb]||(k.panes[Pb]=b.isPlainObject(hd)?b.extend(!0,{},hd):hd),delete k[Pb]);b.extend(!0,O,k);b.each(w.allPanes,function(a,f){w[f]=b.extend(!0,{},w.panes,w[f]);td=O.panes;Yb=O[f];if("center"===f){sc=b.layout.optionsMap.center;a=0;for(oc=sc.length;a<oc;a++)if(Pb=sc[a],!k.center[Pb]&&(k.panes[Pb]||!Yb[Pb]))Yb[Pb]=
td[Pb]}else{Yb=O[f]=b.extend({},td,Yb);var l=O[f],g=O.panes;l.fxSettings||(l.fxSettings={});g.fxSettings||(g.fxSettings={});b.each(["_open","_close","_size"],function(a,k){var m="fxName"+k,h="fxSpeed"+k,i="fxSettings"+k,r=l[m]=l[m]||g[m]||l.fxName||g.fxName||"none";if("none"===r||!b.effects||!b.effects[r]||!O.effects[r])r=l[m]="none";r=O.effects[r]||{};m=r.all||null;r=r[f]||null;l[h]=l[h]||g[h]||l.fxSpeed||g.fxSpeed||null;l[i]=b.extend({},m,r,g.fxSettings,l.fxSettings,g[i],l[i])});delete l.fxName;
delete l.fxSpeed;delete l.fxSettings;Yb.resizerClass||(Yb.resizerClass="ui-layout-resizer");Yb.togglerClass||(Yb.togglerClass="ui-layout-toggler")}Yb.paneClass||(Yb.paneClass="ui-layout-pane")});var ad=k.zIndex,Uc=O.zIndexes;0<ad&&(Uc.pane_normal=ad,Uc.content_mask=a(ad+1,Uc.content_mask),Uc.resizer_normal=a(ad+2,Uc.resizer_normal));delete O.panes;var Vc=O;Q.creatingLayout=!0;g(Ua,b.layout.onCreate);if(!1===ca("onload_start"))rc="cancel";else{var Zb=ma[0],wc=wa.tagName=Zb.tagName,md=wa.id=Zb.id,nd=
wa.className=Zb.className,pc=O,bd=pc.name,od="BODY"===wc,Bc={},dc=ma.data("parentLayout"),ec=ma.data("layoutEdge"),Cc=dc&&ec;wa.selector=ma.selector.split(".slice")[0];wa.ref=(pc.name?pc.name+" layout / ":"")+wc+(md?"#"+md:nd?".["+nd+"]":"");ma.data({layout:Ua,layoutContainer:wb}).addClass(pc.containerClass);var Mc={destroy:"",initPanes:"",resizeAll:"resizeAll",resize:"resizeAll"};for(bd in Mc)ma.bind("layout"+bd.toLowerCase()+"."+wb,Ua[Mc[bd]||bd]);Cc&&(Ua.hasParentLayout=!0,dc[ec].child=dc.children[ec]=
ma.data("layout"));if(!ma.data("layoutCSS")){if(od){var Bc=b.extend(L(ma,"overflow,position,margin,padding,border"),{height:ma.css("height"),overflow:ma.css("overflow"),overflowX:ma.css("overflowX"),overflowY:ma.css("overflowY")}),Nc=b("html");Nc.data("layoutCSS",{height:"auto",overflow:Nc.css("overflow"),overflowX:Nc.css("overflowX"),overflowY:Nc.css("overflowY")})}else Bc=L(ma,"overflow,position,margin,padding,border,top,bottom,left,right,width,height,overflow,overflowX,overflowY");ma.data("layoutCSS",
Bc)}try{if(od)b("html").css({height:"100%",overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}),b("body").css({position:"relative",height:"100%",overflow:"hidden",overflowX:"hidden",overflowY:"hidden",margin:0,padding:0,border:"none"}),b.extend(wa,z(ma));else{var Bc={overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},Dc=ma.css("position");ma.css("height");if(!Cc&&(!Dc||!Dc.match(/fixed|absolute|relative/)))Bc.position="relative";ma.css(Bc);ma.is(":visible")&&(b.extend(wa,z(ma)),pc.showErrorMessages&&
1>wa.innerHeight&&ta(v.errContainerHeight.replace(/CONTAINER/,wa.ref),!0))}}catch(Ab){}yb();b(window).bind("unload."+wb,Ja);g(Ua,b.layout.onLoad);Vc.initPanes&&eb();delete Q.creatingLayout;rc=Q.initialized}return"cancel"===rc?null:Ua};b.ui||(b.ui={});b.ui.cookie={acceptsCookies:!!navigator.cookieEnabled,read:function(a){for(var f=document.cookie,f=f?f.split(";"):[],k,g=0,h=f.length;g<h;g++)if(k=b.trim(f[g]).split("="),k[0]==a)return decodeURIComponent(k[1]);return null},write:function(a,f,k){var b=
"",g="",h=!1,k=k||{},i=k.expires;if(i&&i.toUTCString)g=i;else if(null===i||"number"===typeof i)g=new Date,0<i?g.setDate(g.getDate()+i):(g.setFullYear(1970),h=!0);g&&(b+=";expires="+g.toUTCString());k.path&&(b+=";path="+k.path);k.domain&&(b+=";domain="+k.domain);k.secure&&(b+=";secure");document.cookie=a+"="+(h?"":encodeURIComponent(f))+b},clear:function(a){b.ui.cookie.write(a,"",{expires:-1})}};b.cookie||(b.cookie=function(a,f,k){var g=b.ui.cookie;if(null===f)g.clear(a);else{if(void 0===f)return g.read(a);
g.write(a,f,k)}});b.layout.plugins.stateManagement=!0;b.layout.config.optionRootKeys.push("stateManagement");b.layout.defaults.stateManagement={enabled:!1,autoSave:!0,autoLoad:!0,stateKeys:"north.size,south.size,east.size,west.size,north.isClosed,south.isClosed,east.isClosed,west.isClosed,north.isHidden,south.isHidden,east.isHidden,west.isHidden",cookie:{name:"",domain:"",path:"",expires:"",secure:!1}};b.layout.optionsMap.layout.push("stateManagement");b.layout.state={saveCookie:function(a,f,k){var g=
a.options,h=g.stateManagement,k=b.extend(!0,{},h.cookie,k||null),a=a.state.stateData=a.readState(f||h.stateKeys);b.ui.cookie.write(k.name||g.name||"Layout",b.layout.state.encodeJSON(a),k);return b.extend(!0,{},a)},deleteCookie:function(a){a=a.options;b.ui.cookie.clear(a.stateManagement.cookie.name||a.name||"Layout")},readCookie:function(a){a=a.options;return(a=b.ui.cookie.read(a.stateManagement.cookie.name||a.name||"Layout"))?b.layout.state.decodeJSON(a):{}},loadCookie:function(a){var f=b.layout.state.readCookie(a);
f&&(a.state.stateData=b.extend(!0,{},f),a.loadState(f));return f},loadState:function(a,f,k){f=b.layout.transformData(f);if(!b.isEmptyObject(f)&&(b.extend(!0,a.options,f),a.state.initialized)){var g,h,i,w,x,E=!1===k;b.each(b.layout.config.borderPanes,function(k,b){state=a.state[b];h=f[b];"object"==typeof h&&(i=h.size,x=h.initClosed,w=h.initHidden,(g=state.isVisible)||a.sizePane(b,i,!1,!1),!0===w?a.hide(b,E):!1===x?a.open(b,!1,E):!0===x?a.close(b,!1,E):!1===w&&a.show(b,!1,E),g&&a.sizePane(b,i,!1,E))})}},
readState:function(a,f){var k={},g={isClosed:"initClosed",isHidden:"initHidden"},h=a.state,i=b.layout.config.allPanes,w,x,E;f||(f=a.options.stateManagement.stateKeys);b.isArray(f)&&(f=f.join(","));for(var f=f.replace(/__/g,".").split(","),z=0,L=f.length;z<L;z++)w=f[z].split("."),x=w[0],w=w[1],0>b.inArray(x,i)||(E=h[x][w],void 0!=E&&("isClosed"==w&&h[x].isSliding&&(E=!0),(k[x]||(k[x]={}))[g[w]?g[w]:w]=E));return k},encodeJSON:function(a){function f(a){var k=[],b=0,m,g,h;for(m in a)g=a[m],h=typeof g,
"string"==h?g='"'+g+'"':"object"==h&&(g=f(g)),k[b++]='"'+m+'":'+g;return"{"+k.join(",")+"}"}return f(a)},decodeJSON:function(a){try{return b.parseJSON?b.parseJSON(a):window.eval("("+a+")")||{}}catch(f){return{}}},_create:function(a){var f=b.layout.state;b.extend(a,{readCookie:function(){return f.readCookie(a)},deleteCookie:function(){f.deleteCookie(a)},saveCookie:function(k,b){return f.saveCookie(a,k,b)},loadCookie:function(){return f.loadCookie(a)},loadState:function(k,b){f.loadState(a,k,b)},readState:function(k){return f.readState(a,
k)},encodeJSON:f.encodeJSON,decodeJSON:f.decodeJSON});a.state.stateData={};var k=a.options.stateManagement;k.enabled&&(k.autoLoad?a.loadCookie():a.state.stateData=a.readCookie())},_unload:function(a){var f=a.options.stateManagement;f.enabled&&(f.autoSave?a.saveCookie():a.state.stateData=a.readState())}};b.layout.onCreate.push(b.layout.state._create);b.layout.onUnload.push(b.layout.state._unload);b.layout.plugins.buttons=!0;b.layout.defaults.autoBindCustomButtons=!1;b.layout.optionsMap.layout.push("autoBindCustomButtons");
k=b.layout.language;b.layout.buttons={init:function(a){var f=a.options.name||"",k;b.each("toggle open close pin toggle-slide open-slide".split(" "),function(g,h){b.each(b.layout.config.borderPanes,function(g,i){b(".ui-layout-button-"+h+"-"+i).each(function(){k=b(this).data("layoutName")||b(this).attr("layoutName");(void 0==k||k===f)&&a.bindButton(this,h,i)})})})},get:function(a,f,g,h){var i=b(f),a=a.options,v=a.showErrorMessages;i.length?0>b.inArray(g,b.layout.config.borderPanes)?(v&&b.layout.msg(k.errButton+
k.pane+": "+g,!0),i=b("")):(f=a[g].buttonClass+"-"+h,i.addClass(f+" "+f+"-"+g).data("layoutName",a.name)):v&&b.layout.msg(k.errButton+k.selector+": "+f,!0);return i},bind:function(a,f,k,g){var h=b.layout.buttons;switch(k.toLowerCase()){case "toggle":h.addToggle(a,f,g);break;case "open":h.addOpen(a,f,g);break;case "close":h.addClose(a,f,g);break;case "pin":h.addPin(a,f,g);break;case "toggle-slide":h.addToggle(a,f,g,!0);break;case "open-slide":h.addOpen(a,f,g,!0)}return a},addToggle:function(a,f,k,
g){b.layout.buttons.get(a,f,k,"toggle").click(function(f){a.toggle(k,!!g);f.stopPropagation()});return a},addOpen:function(a,f,g,h){b.layout.buttons.get(a,f,g,"open").attr("title",k.Open).click(function(f){a.open(g,!!h);f.stopPropagation()});return a},addClose:function(a,f,g){b.layout.buttons.get(a,f,g,"close").attr("title",k.Close).click(function(f){a.close(g);f.stopPropagation()});return a},addPin:function(a,f,k){var g=b.layout.buttons,h=g.get(a,f,k,"pin");if(h.length){var i=a.state[k];h.click(function(f){g.setPinState(a,
b(this),k,i.isSliding||i.isClosed);i.isSliding||i.isClosed?a.open(k):a.close(k);f.stopPropagation()});g.setPinState(a,h,k,!i.isClosed&&!i.isSliding);i.pins.push(f)}return a},setPinState:function(a,f,b,g){var h=f.attr("pin");h&&g===("down"==h)||(a=a.options[b].buttonClass+"-pin",h=a+"-"+b,b=a+"-up "+h+"-up",a=a+"-down "+h+"-down",f.attr("pin",g?"down":"up").attr("title",g?k.Unpin:k.Pin).removeClass(g?b:a).addClass(g?a:b))},syncPinBtns:function(a,f,k){b.each(state[f].pins,function(g,h){b.layout.buttons.setPinState(a,
b(h),f,k)})},_load:function(a){var f=b.layout.buttons;b.extend(a,{bindButton:function(k,b,g){return f.bind(a,k,b,g)},addToggleBtn:function(k,b,g){return f.addToggle(a,k,b,g)},addOpenBtn:function(k,b,g){return f.addOpen(a,k,b,g)},addCloseBtn:function(k,b){return f.addClose(a,k,b)},addPinBtn:function(k,b){return f.addPin(a,k,b)}});for(var k=0;4>k;k++)a.state[b.layout.config.borderPanes[k]].pins=[];a.options.autoBindCustomButtons&&f.init(a)},_unload:function(){}};b.layout.onLoad.push(b.layout.buttons._load);
b.layout.plugins.browserZoom=!0;b.layout.defaults.browserZoomCheckInterval=1E3;b.layout.optionsMap.layout.push("browserZoomCheckInterval");b.layout.browserZoom={_init:function(a){!1!==b.layout.browserZoom.ratio()&&b.layout.browserZoom._setTimer(a)},_setTimer:function(a){if(!a.destroyed){var f=a.options,k=a.state,g=a.hasParentLayout?5E3:Math.max(f.browserZoomCheckInterval,100);setTimeout(function(){if(!a.destroyed&&f.resizeWithWindow){var g=b.layout.browserZoom.ratio();g!==k.browserZoom&&(k.browserZoom=
g,a.resizeAll());b.layout.browserZoom._setTimer(a)}},g)}},ratio:function(){function a(f,k){return(100*(parseInt(f,10)/parseInt(k,10))).toFixed()}var f=window,k=screen,g=document,h=g.documentElement||g.body,i=b.layout.browser,w=i.version,x,E,z;return i.msie&&8<w||!i.msie?!1:k.deviceXDPI?a(k.deviceXDPI,k.systemXDPI):i.webkit&&(x=g.body.getBoundingClientRect)?a(x.left-x.right,g.body.offsetWidth):i.webkit&&(E=f.outerWidth)?a(E,f.innerWidth):(E=k.width)&&(z=h.clientWidth)?a(E,z):!1}};b.layout.onReady.push(b.layout.browserZoom._init)})(jQuery);
define("libs/jquery/layout/jquery.layout",function(){});
define("app/layout","rtext!templates/layout.full.html libs/jquery/ui/jquery.ui.core libs/jquery/ui/jquery.ui.position libs/jquery/ui/jquery.ui.widget libs/jquery/ui/jquery.ui.mouse libs/jquery/ui/jquery.ui.resizable libs/jquery/ui/jquery.ui.button libs/jquery/ui/jquery.ui.sortable libs/jquery/ui/jquery.ui.draggable libs/jquery/layout/jquery.layout".split(" "),function(b){return function(i,g){function h(b){var l;p&&(f.splice(f.indexOf(p),1),f.splice(f.indexOf(t),1),f.splice(f.indexOf(v),1),p.destroy());
b?(i.find(".pg-output").removeClass("ui-layout-east").addClass("ui-layout-south"),l={defaults:k,south:{size:"50%",closable:!1}}):(i.find(".pg-output").removeClass("ui-layout-south").addClass("ui-layout-east"),l={defaults:k,east:{size:"50%",closable:!1}});f.push(p=i.find(".pg-io").layout(l));f.push(v=i.find(".pg-output").layout({defaults:k,north:m}));f.push(t=i.find(".pg-input").layout({defaults:k,north:m,onresize:function(){$(a).trigger("resizeCodeEditor")}}));i.find(".ui-layout-resizer").addClass("ui-widget-shadow");
g=b;$(a).trigger("resizeCodeEditor");$(a).trigger("ioOrientationChanged",g)}var a,f=[];(!0===i||!1===i)&&"undefined"===typeof g?(g=i,i=$("body")):i=i&&$(i)||$("body");i.append(b);f.push(i.layout());var k={initClosed:!1,resizable:!0,slidable:!0},m={resizable:!1,closable:!1,slidable:!1,size:36,spacing_open:0,spacing_closed:0},l={resizable:!1,closable:!1,slidable:!1,size:50,spacing_open:0,spacing_closed:0},r=$.extend({},m,{size:24});f.push(i.find(".pg-labcoat").layout({defaults:k,north:$.extend({},m,
{size:38}),west:{size:220,initClosed:!1}}));f.push(i.find(".pg-system").layout({defaults:k,south:{size:"50%",initClosed:!1}}));f.push(i.find(".pg-folders").layout({defaults:k,north:l}));f.push(i.find(".pg-queries").layout({defaults:k,north:l}));f.push(i.find(".pg-main").layout({defaults:k,south:{size:"15%",initClosed:!0}}));f.push(i.find(".pg-editor-support").layout({defaults:k,east:{size:"40%",maxSize:800,minSize:305,initClosed:!1,maskIframesOnResize:!0}}));f.push(i.find(".pg-editor").layout({defaults:k,
south:r}));var p,t,v;h(g);i.addClass("ui-widget-content");i.find(".pg-pane").addClass("ui-widget-content");i.find(".ui-layout-toggler").mouseenter(function(){$(this).addClass("ui-state-hover")}).mouseleave(function(){$(this).removeClass("ui-state-hover")}).addClass("ui-widget-header");i.find(".ui-layout-resizer-dragging").addClass("ui-state-hover");return a={container:i,refresh:function(){for(var a=0;a<f.length;a++)f[a].resizeAll()},getContainer:function(){return i.find(".pg-labcoat")},getInput:function(){return i.find(".pg-input")},
getBarEditor:function(){return i.find(".pg-input .pg-toolbar")},getBarMain:function(){return i.find(".pg-mainbar")},getCodeEditor:function(){return i.find(".pg-input .pg-code-editor")},getOutput:function(){return i.find(".pg-output")},getStatusBar:function(){return i.find(".pg-statusbar")},getSystem:function(){return i.find(".pg-folders")},getQueries:function(){return i.find(".pg-queries")},getSupport:function(){return i.find(".pg-support")},setIoVertical:h,isIoVertical:function(){return g}}}});
define("app/util/md5",[],function(){var b={bitOR:function(b,g){return(b>>>1|g>>>1)<<1|b&1|g&1},bitXOR:function(b,g){return(b>>>1^g>>>1)<<1|b&1^g&1},bitAND:function(b,g){return(b>>>1&g>>>1)<<1|b&1&g&1},addme:function(b,g){var h=(b&65535)+(g&65535);return(b>>16)+(g>>16)+(h>>16)<<16|h&65535},rhex:function(b){for(var g="",h=0;4>h;)var a=h++,g=g+("0123456789abcdef".charAt(b>>8*a+4&15)+"0123456789abcdef".charAt(b>>8*a&15));return g},str2blks:function(b){for(var g=(b.length+8>>6)+1,h=[],a=0,f=16*g;a<f;)h[++a]=
0;for(a=0;a<b.length;)h[a>>2]|=b.charCodeAt(a)<<8*((8*b.length+a)%4),a++;h[a>>2]|=128<<8*((8*b.length+a)%4);b=8*b.length;g=16*g-2;h[g]=b&255;h[g]|=(b>>>8&255)<<8;h[g]|=(b>>>16&255)<<16;h[g]|=(b>>>24&255)<<24;return h},rol:function(b,g){return b<<g|b>>>32-g},cmn:function(b,g,h,a,f,k){return this.addme(this.rol(this.addme(this.addme(g,b),this.addme(a,k)),f),h)},ff:function(b,g,h,a,f,k,m){return this.cmn(this.bitOR(this.bitAND(g,h),this.bitAND(~g,a)),b,g,f,k,m)},gg:function(b,g,h,a,f,k,m){return this.cmn(this.bitOR(this.bitAND(g,
a),this.bitAND(h,~a)),b,g,f,k,m)},hh:function(b,g,h,a,f,k,m){return this.cmn(this.bitXOR(this.bitXOR(g,h),a),b,g,f,k,m)},ii:function(b,g,h,a,f,k,m){return this.cmn(this.bitXOR(h,this.bitOR(g,~a)),b,g,f,k,m)},doEncode:function(b){for(var b=this.str2blks(b),g=1732584193,h=-271733879,a=-1732584194,f=271733878,k=0;k<b.length;)var m=g,l=h,r=a,p=f,g=this.ff(g,h,a,f,b[k],7,-680876936),f=this.ff(f,g,h,a,b[k+1],12,-389564586),a=this.ff(a,f,g,h,b[k+2],17,606105819),h=this.ff(h,a,f,g,b[k+3],22,-1044525330),
g=this.ff(g,h,a,f,b[k+4],7,-176418897),f=this.ff(f,g,h,a,b[k+5],12,1200080426),a=this.ff(a,f,g,h,b[k+6],17,-1473231341),h=this.ff(h,a,f,g,b[k+7],22,-45705983),g=this.ff(g,h,a,f,b[k+8],7,1770035416),f=this.ff(f,g,h,a,b[k+9],12,-1958414417),a=this.ff(a,f,g,h,b[k+10],17,-42063),h=this.ff(h,a,f,g,b[k+11],22,-1990404162),g=this.ff(g,h,a,f,b[k+12],7,1804603682),f=this.ff(f,g,h,a,b[k+13],12,-40341101),a=this.ff(a,f,g,h,b[k+14],17,-1502002290),h=this.ff(h,a,f,g,b[k+15],22,1236535329),g=this.gg(g,h,a,f,b[k+
1],5,-165796510),f=this.gg(f,g,h,a,b[k+6],9,-1069501632),a=this.gg(a,f,g,h,b[k+11],14,643717713),h=this.gg(h,a,f,g,b[k],20,-373897302),g=this.gg(g,h,a,f,b[k+5],5,-701558691),f=this.gg(f,g,h,a,b[k+10],9,38016083),a=this.gg(a,f,g,h,b[k+15],14,-660478335),h=this.gg(h,a,f,g,b[k+4],20,-405537848),g=this.gg(g,h,a,f,b[k+9],5,568446438),f=this.gg(f,g,h,a,b[k+14],9,-1019803690),a=this.gg(a,f,g,h,b[k+3],14,-187363961),h=this.gg(h,a,f,g,b[k+8],20,1163531501),g=this.gg(g,h,a,f,b[k+13],5,-1444681467),f=this.gg(f,
g,h,a,b[k+2],9,-51403784),a=this.gg(a,f,g,h,b[k+7],14,1735328473),h=this.gg(h,a,f,g,b[k+12],20,-1926607734),g=this.hh(g,h,a,f,b[k+5],4,-378558),f=this.hh(f,g,h,a,b[k+8],11,-2022574463),a=this.hh(a,f,g,h,b[k+11],16,1839030562),h=this.hh(h,a,f,g,b[k+14],23,-35309556),g=this.hh(g,h,a,f,b[k+1],4,-1530992060),f=this.hh(f,g,h,a,b[k+4],11,1272893353),a=this.hh(a,f,g,h,b[k+7],16,-155497632),h=this.hh(h,a,f,g,b[k+10],23,-1094730640),g=this.hh(g,h,a,f,b[k+13],4,681279174),f=this.hh(f,g,h,a,b[k],11,-358537222),
a=this.hh(a,f,g,h,b[k+3],16,-722521979),h=this.hh(h,a,f,g,b[k+6],23,76029189),g=this.hh(g,h,a,f,b[k+9],4,-640364487),f=this.hh(f,g,h,a,b[k+12],11,-421815835),a=this.hh(a,f,g,h,b[k+15],16,530742520),h=this.hh(h,a,f,g,b[k+2],23,-995338651),g=this.ii(g,h,a,f,b[k],6,-198630844),f=this.ii(f,g,h,a,b[k+7],10,1126891415),a=this.ii(a,f,g,h,b[k+14],15,-1416354905),h=this.ii(h,a,f,g,b[k+5],21,-57434055),g=this.ii(g,h,a,f,b[k+12],6,1700485571),f=this.ii(f,g,h,a,b[k+3],10,-1894986606),a=this.ii(a,f,g,h,b[k+10],
15,-1051523),h=this.ii(h,a,f,g,b[k+1],21,-2054922799),g=this.ii(g,h,a,f,b[k+8],6,1873313359),f=this.ii(f,g,h,a,b[k+15],10,-30611744),a=this.ii(a,f,g,h,b[k+6],15,-1560198380),h=this.ii(h,a,f,g,b[k+13],21,1309151649),g=this.ii(g,h,a,f,b[k+4],6,-145523070),f=this.ii(f,g,h,a,b[k+11],10,-1120210379),a=this.ii(a,f,g,h,b[k+2],15,718787259),h=this.ii(h,a,f,g,b[k+9],21,-343485551),g=this.addme(g,m),h=this.addme(h,l),a=this.addme(a,r),f=this.addme(f,p),k=k+16;return this.rhex(g)+this.rhex(h)+this.rhex(a)+this.rhex(f)}};
return function(i){return b.doEncode(i)}});define("app/util/dom",[],function(){return{selectText:function(b,i,g){i=i||0;g=g||$(b).text().length;b.setSelectionRange?(b.focus(),b.setSelectionRange(i,g)):b.createTextRange&&(b=b.createTextRange(),b.collapse(!0),b.moveEnd("character",g),b.moveStart("character",i),b.select())},canSelect:function(b){return!(!b.setSelectionRange&&!b.createTextRange)}}});
(function(b){var i,g,h,a=b(window),f={jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert",closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s",hi_menu:"ui-state-default ui-corner-bottom",hi_btn:"ui-state-default ui-corner-all",
hi_btnhov:"ui-state-hover",hi_hnd:"ui-icon ui-icon-grip-dotted-horizontal"},bootstrap:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign",closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play",hi_menu:"well",hi_btn:"btn",hi_btnhov:"",hi_hnd:"icon-chevron-down"}},k=function(){h=b("body");a=b(window);a.bind("resize",function(){g&&clearTimeout(g);
g=setTimeout(b.pnotify_position_all,10)})};document.body?k():b(k);b.extend({pnotify_remove_all:function(){var f=a.data("pnotify");f&&f.length&&b.each(f,function(){this.pnotify_remove&&this.pnotify_remove()})},pnotify_position_all:function(){g&&clearTimeout(g);g=null;var f=a.data("pnotify");f&&f.length&&(b.each(f,function(){var a=this.opts.stack;a&&(a.nextpos1=a.firstpos1,a.nextpos2=a.firstpos2,a.addpos2=0,a.animation=!0)}),b.each(f,function(){this.pnotify_position()}))},pnotify:function(k){var l,
m;"object"!=typeof k?(m=b.extend({},b.pnotify.defaults),m.text=k):m=b.extend({},b.pnotify.defaults,k);for(var r in m)"string"==typeof r&&r.match(/^pnotify_/)&&(m[r.replace(/^pnotify_/,"")]=m[r]);if(m.before_init&&!1===m.before_init(m))return null;var p,L=function(a,f){A.css("display","none");var k=document.elementFromPoint(a.clientX,a.clientY);A.css("display","block");var m=b(k),g=m.css("cursor");A.css("cursor","auto"!=g?g:"default");if(!p||p.get(0)!=k)p&&(t.call(p.get(0),"mouseleave",a.originalEvent),
t.call(p.get(0),"mouseout",a.originalEvent)),t.call(k,"mouseenter",a.originalEvent),t.call(k,"mouseover",a.originalEvent);t.call(k,f,a.originalEvent);p=m},C=f[m.styling],A=b("<div />",{"class":"ui-pnotify "+m.addclass,css:{display:"none"},mouseenter:function(a){m.nonblock&&a.stopPropagation();m.mouse_reset&&"out"==l&&(A.stop(!0),l="in",A.css("height","auto").animate({width:m.width,opacity:m.nonblock?m.nonblock_opacity:m.opacity},"fast"));m.nonblock&&A.animate({opacity:m.nonblock_opacity},"fast");
m.hide&&m.mouse_reset&&A.pnotify_cancel_remove();m.sticker&&!m.nonblock&&A.sticker.trigger("pnotify_icon").css("visibility","visible");m.closer&&!m.nonblock&&A.closer.css("visibility","visible")},mouseleave:function(a){m.nonblock&&a.stopPropagation();p=null;A.css("cursor","auto");m.nonblock&&"out"!=l&&A.animate({opacity:m.opacity},"fast");m.hide&&m.mouse_reset&&A.pnotify_queue_remove();m.sticker_hover&&A.sticker.css("visibility","hidden");m.closer_hover&&A.closer.css("visibility","hidden");b.pnotify_position_all()},
mouseover:function(a){m.nonblock&&a.stopPropagation()},mouseout:function(a){m.nonblock&&a.stopPropagation()},mousemove:function(a){m.nonblock&&(a.stopPropagation(),L(a,"onmousemove"))},mousedown:function(a){m.nonblock&&(a.stopPropagation(),a.preventDefault(),L(a,"onmousedown"))},mouseup:function(a){m.nonblock&&(a.stopPropagation(),a.preventDefault(),L(a,"onmouseup"))},click:function(a){m.nonblock&&(a.stopPropagation(),L(a,"onclick"))},dblclick:function(a){m.nonblock&&(a.stopPropagation(),L(a,"ondblclick"))}});
A.opts=m;A.container=b("<div />",{"class":C.container+" ui-pnotify-container "+("error"==m.type?C.error:"info"==m.type?C.info:"success"==m.type?C.success:C.notice)}).appendTo(A);""!=m.cornerclass&&A.container.removeClass("ui-corner-all").addClass(m.cornerclass);m.shadow&&A.container.addClass("ui-pnotify-shadow");A.pnotify_version="1.2.0";A.pnotify=function(a){var f=m;"string"==typeof a?m.text=a:m=b.extend({},m,a);for(var k in m)"string"==typeof k&&k.match(/^pnotify_/)&&(m[k.replace(/^pnotify_/,"")]=
m[k]);A.opts=m;m.cornerclass!=f.cornerclass&&A.container.removeClass("ui-corner-all").addClass(m.cornerclass);m.shadow!=f.shadow&&(m.shadow?A.container.addClass("ui-pnotify-shadow"):A.container.removeClass("ui-pnotify-shadow"));!1===m.addclass?A.removeClass(f.addclass):m.addclass!==f.addclass&&A.removeClass(f.addclass).addClass(m.addclass);!1===m.title?A.title_container.slideUp("fast"):m.title!==f.title&&(m.title_escape?A.title_container.text(m.title).slideDown(200):A.title_container.html(m.title).slideDown(200));
!1===m.text?A.text_container.slideUp("fast"):m.text!==f.text&&(m.text_escape?A.text_container.text(m.text).slideDown(200):A.text_container.html(m.insert_brs?String(m.text).replace(/\n/g,"<br />"):m.text).slideDown(200));A.pnotify_history=m.history;A.pnotify_hide=m.hide;m.type!=f.type&&A.container.removeClass(C.error+" "+C.notice+" "+C.success+" "+C.info).addClass("error"==m.type?C.error:"info"==m.type?C.info:"success"==m.type?C.success:C.notice);if(m.icon!==f.icon||!0===m.icon&&m.type!=f.type)A.container.find("div.ui-pnotify-icon").remove(),
!1!==m.icon&&b("<div />",{"class":"ui-pnotify-icon"}).append(b("<span />",{"class":!0===m.icon?"error"==m.type?C.error_icon:"info"==m.type?C.info_icon:"success"==m.type?C.success_icon:C.notice_icon:m.icon})).prependTo(A.container);m.width!==f.width&&A.animate({width:m.width});m.min_height!==f.min_height&&A.container.animate({minHeight:m.min_height});m.opacity!==f.opacity&&A.fadeTo(m.animate_speed,m.opacity);!m.closer||m.nonblock?A.closer.css("display","none"):A.closer.css("display","block");!m.sticker||
m.nonblock?A.sticker.css("display","none"):A.sticker.css("display","block");A.sticker.trigger("pnotify_icon");m.sticker_hover?A.sticker.css("visibility","hidden"):m.nonblock||A.sticker.css("visibility","visible");m.closer_hover?A.closer.css("visibility","hidden"):m.nonblock||A.closer.css("visibility","visible");m.hide?f.hide||A.pnotify_queue_remove():A.pnotify_cancel_remove();A.pnotify_queue_position();return A};A.pnotify_position=function(f){var k=A.opts.stack;if(k){k.nextpos1||(k.nextpos1=k.firstpos1);
k.nextpos2||(k.nextpos2=k.firstpos2);k.addpos2||(k.addpos2=0);var b="none"==A.css("display");if(!b||f){var m,g={},l;switch(k.dir1){case "down":l="top";break;case "up":l="bottom";break;case "left":l="right";break;case "right":l="left"}f=parseInt(A.css(l));isNaN(f)&&(f=0);"undefined"==typeof k.firstpos1&&!b&&(k.firstpos1=f,k.nextpos1=k.firstpos1);var h;switch(k.dir2){case "down":h="top";break;case "up":h="bottom";break;case "left":h="right";break;case "right":h="left"}m=parseInt(A.css(h));isNaN(m)&&
(m=0);"undefined"==typeof k.firstpos2&&!b&&(k.firstpos2=m,k.nextpos2=k.firstpos2);if("down"==k.dir1&&k.nextpos1+A.height()>a.height()||"up"==k.dir1&&k.nextpos1+A.height()>a.height()||"left"==k.dir1&&k.nextpos1+A.width()>a.width()||"right"==k.dir1&&k.nextpos1+A.width()>a.width())k.nextpos1=k.firstpos1,k.nextpos2+=k.addpos2+("undefined"==typeof k.spacing2?25:k.spacing2),k.addpos2=0;if(k.animation&&k.nextpos2<m)switch(k.dir2){case "down":g.top=k.nextpos2+"px";break;case "up":g.bottom=k.nextpos2+"px";
break;case "left":g.right=k.nextpos2+"px";break;case "right":g.left=k.nextpos2+"px"}else A.css(h,k.nextpos2+"px");switch(k.dir2){case "down":case "up":A.outerHeight(!0)>k.addpos2&&(k.addpos2=A.height());break;case "left":case "right":A.outerWidth(!0)>k.addpos2&&(k.addpos2=A.width())}if(k.nextpos1)if(k.animation&&(f>k.nextpos1||g.top||g.bottom||g.right||g.left))switch(k.dir1){case "down":g.top=k.nextpos1+"px";break;case "up":g.bottom=k.nextpos1+"px";break;case "left":g.right=k.nextpos1+"px";break;
case "right":g.left=k.nextpos1+"px"}else A.css(l,k.nextpos1+"px");(g.top||g.bottom||g.right||g.left)&&A.animate(g,{duration:500,queue:!1});switch(k.dir1){case "down":case "up":k.nextpos1+=A.height()+("undefined"==typeof k.spacing1?25:k.spacing1);break;case "left":case "right":k.nextpos1+=A.width()+("undefined"==typeof k.spacing1?25:k.spacing1)}}}};A.pnotify_queue_position=function(a){g&&clearTimeout(g);a||(a=10);g=setTimeout(b.pnotify_position_all,a)};A.pnotify_display=function(){A.parent().length||
A.appendTo(h);m.before_open&&!1===m.before_open(A)||("top"!=m.stack.push&&A.pnotify_position(!0),"fade"==m.animation||"fade"==m.animation.effect_in?A.show().fadeTo(0,0).hide():1!=m.opacity&&A.show().fadeTo(0,m.opacity).hide(),A.animate_in(function(){m.after_open&&m.after_open(A);A.pnotify_queue_position();m.hide&&A.pnotify_queue_remove()}))};A.pnotify_remove=function(){A.timer&&(window.clearTimeout(A.timer),A.timer=null);m.before_close&&!1===m.before_close(A)||A.animate_out(function(){m.after_close&&
!1===m.after_close(A)||(A.pnotify_queue_position(),m.remove&&A.detach())})};A.animate_in=function(a){l="in";var f;f="undefined"!=typeof m.animation.effect_in?m.animation.effect_in:m.animation;"none"==f?(A.show(),a()):"show"==f?A.show(m.animate_speed,a):"fade"==f?A.show().fadeTo(m.animate_speed,m.opacity,a):"slide"==f?A.slideDown(m.animate_speed,a):"function"==typeof f?f("in",a,A):A.show(f,"object"==typeof m.animation.options_in?m.animation.options_in:{},m.animate_speed,a)};A.animate_out=function(a){l=
"out";var f;f="undefined"!=typeof m.animation.effect_out?m.animation.effect_out:m.animation;"none"==f?(A.hide(),a()):"show"==f?A.hide(m.animate_speed,a):"fade"==f?A.fadeOut(m.animate_speed,a):"slide"==f?A.slideUp(m.animate_speed,a):"function"==typeof f?f("out",a,A):A.hide(f,"object"==typeof m.animation.options_out?m.animation.options_out:{},m.animate_speed,a)};A.pnotify_cancel_remove=function(){A.timer&&window.clearTimeout(A.timer)};A.pnotify_queue_remove=function(){A.pnotify_cancel_remove();A.timer=
window.setTimeout(function(){A.pnotify_remove()},isNaN(m.delay)?0:m.delay)};A.closer=b("<div />",{"class":"ui-pnotify-closer",css:{cursor:"pointer",visibility:m.closer_hover?"hidden":"visible"},click:function(){A.pnotify_remove();A.sticker.css("visibility","hidden");A.closer.css("visibility","hidden")}}).append(b("<span />",{"class":C.closer})).appendTo(A.container);(!m.closer||m.nonblock)&&A.closer.css("display","none");A.sticker=b("<div />",{"class":"ui-pnotify-sticker",css:{cursor:"pointer",visibility:m.sticker_hover?
"hidden":"visible"},click:function(){m.hide=!m.hide;m.hide?A.pnotify_queue_remove():A.pnotify_cancel_remove();b(this).trigger("pnotify_icon")}}).bind("pnotify_icon",function(){b(this).children().removeClass(C.pin_up+" "+C.pin_down).addClass(m.hide?C.pin_up:C.pin_down)}).append(b("<span />",{"class":C.pin_up})).appendTo(A.container);(!m.sticker||m.nonblock)&&A.sticker.css("display","none");!1!==m.icon&&b("<div />",{"class":"ui-pnotify-icon"}).append(b("<span />",{"class":!0===m.icon?"error"==m.type?
C.error_icon:"info"==m.type?C.info_icon:"success"==m.type?C.success_icon:C.notice_icon:m.icon})).prependTo(A.container);A.title_container=b("<h4 />",{"class":"ui-pnotify-title"}).appendTo(A.container);!1===m.title?A.title_container.hide():m.title_escape?A.title_container.text(m.title):A.title_container.html(m.title);A.text_container=b("<div />",{"class":"ui-pnotify-text"}).appendTo(A.container);!1===m.text?A.text_container.hide():m.text_escape?A.text_container.text(m.text):A.text_container.html(m.insert_brs?
String(m.text).replace(/\n/g,"<br />"):m.text);"string"==typeof m.width&&A.css("width",m.width);"string"==typeof m.min_height&&A.container.css("min-height",m.min_height);A.pnotify_history=m.history;A.pnotify_hide=m.hide;var O=a.data("pnotify");if(null==O||"object"!=typeof O)O=[];O="top"==m.stack.push?b.merge([A],O):b.merge(O,[A]);a.data("pnotify",O);"top"==m.stack.push&&A.pnotify_queue_position(1);m.after_init&&m.after_init(A);if(m.history){var Q=a.data("pnotify_history");"undefined"==typeof Q&&(Q=
b("<div />",{"class":"ui-pnotify-history-container "+C.hi_menu,mouseleave:function(){Q.animate({top:"-"+i+"px"},{duration:100,queue:!1})}}).append(b("<div />",{"class":"ui-pnotify-history-header",text:"Redisplay"})).append(b("<button />",{"class":"ui-pnotify-history-all "+C.hi_btn,text:"All",mouseenter:function(){b(this).addClass(C.hi_btnhov)},mouseleave:function(){b(this).removeClass(C.hi_btnhov)},click:function(){b.each(O,function(){this.pnotify_history&&(this.is(":visible")?this.pnotify_hide&&
this.pnotify_queue_remove():this.pnotify_display&&this.pnotify_display())});return!1}})).append(b("<button />",{"class":"ui-pnotify-history-last "+C.hi_btn,text:"Last",mouseenter:function(){b(this).addClass(C.hi_btnhov)},mouseleave:function(){b(this).removeClass(C.hi_btnhov)},click:function(){var a=-1,f;do{f=-1==a?O.slice(a):O.slice(a,a+1);if(!f[0])break;a--}while(!f[0].pnotify_history||f[0].is(":visible"));if(!f[0])return!1;f[0].pnotify_display&&f[0].pnotify_display();return!1}})).appendTo(h),i=
b("<span />",{"class":"ui-pnotify-history-pulldown "+C.hi_hnd,mouseenter:function(){Q.animate({top:"0"},{duration:100,queue:!1})}}).appendTo(Q).offset().top+2,Q.css({top:"-"+i+"px"}),a.data("pnotify_history",Q))}m.stack.animation=!1;A.pnotify_display();return A}});var m=/^on/,l=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,r=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,p=/^(scroll|resize|(un)?load|abort|error)$/,t=function(a,f){var k,a=a.toLowerCase();document.createEvent&&
this.dispatchEvent?(a=a.replace(m,""),a.match(l)?(b(this).offset(),k=document.createEvent("MouseEvents"),k.initMouseEvent(a,f.bubbles,f.cancelable,f.view,f.detail,f.screenX,f.screenY,f.clientX,f.clientY,f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,f.button,f.relatedTarget)):a.match(r)?(k=document.createEvent("UIEvents"),k.initUIEvent(a,f.bubbles,f.cancelable,f.view,f.detail)):a.match(p)&&(k=document.createEvent("HTMLEvents"),k.initEvent(a,f.bubbles,f.cancelable)),k&&this.dispatchEvent(k)):(a.match(m)||
(a="on"+a),k=document.createEventObject(f),this.fireEvent(a,k))};b.pnotify.defaults={title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"bootstrap",addclass:"",cornerclass:"",nonblock:!1,nonblock_opacity:0.2,history:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,animation:"fade",animate_speed:"slow",opacity:1,shadow:!0,closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,hide:!0,delay:8E3,mouse_reset:!0,remove:!0,insert_brs:!0,stack:{dir1:"down",dir2:"left",push:"bottom",spacing1:25,
spacing2:25}}})(jQuery);define("libs/jquery/pnotify/jquery.pnotify",function(){});
define("app/util/notification",["app/util/dom","libs/jquery/pnotify/jquery.pnotify"],function(b){function i(b){return b}var g=[{src:"text",dst:"text",handler:i},{src:"type",dst:"type",handler:i},{src:"icon",dst:"notice_icon",handler:function(b){return"ui-icon "+b}},{src:"timeout",dst:"delay",handler:i},{src:"hide",dst:"hide",handler:i},{src:"before_open",dst:"before_open",handler:i},{src:"before_close",dst:"before_close",handler:i},{src:"after_open",dst:"after_open",handler:i},{src:"after_close",
dst:"after_close",handler:i},{src:"history",dst:"history",handler:i},{src:"sticker",dst:"sticker",handler:i},{src:"width",dst:"width",handler:i},{src:"min_height",dst:"min_height",handler:i},{src:"opacity",dst:"opacity",handler:i},{src:"stack",dst:"stack",handler:i},{src:"shadow",dst:"shadow",handler:i}];return{error:function(b,a){a=a||{};a.type="error";return this.success(b,a)},success:function(b,a){for(var a=a||{},f={title:b,shadow:!0,delay:5E3,sticker:!1,insert_brs:!1,styling:"jqueryui",title_escape:!1,
text_escape:!1},k=a,m=0;m<g.length;m++)"undefined"!==typeof k[g[m].src]&&(f[g[m].dst]=g[m].handler(k[g[m].src]));f.text||(f.text="");f.text+='\n<div class="pg-clear"></div>';return $.pnotify(f)},context:function(b,a){a=a||{};a.voffset=a.voffset||25;a.width=a.width||"420px";var f=this.tip(b,a),k=function(){$("body").off("mousedown",k);f.remove()};f.mousedown(function(a){a.stopPropagation()});$("body").on("mousedown",k);return f},copier:function(g,a){var a=a||{},f=-1!=navigator.userAgent.indexOf("Mac OS X")?
"CMD+C":"CTRL+C";a.text='<div class="pg-message">'+a.text+'</div><div class="pg-textarea"><textarea>'+a.copy+'</textarea></div><div class="pg-footer">'+f+" to copy the link</div>";var f=this.context(g,a),k=f.find("textarea");k.click(function(){b.selectText(k.get(0))});setTimeout(function(){b.selectText(k.get(0))},500);return f},tip:function(b,a){function f(){var f=$(k).offset(),b=$(k).outerWidth(),g=m.outerWidth(),b=(b-g)/2+f.left;b<a.hoffset?b=a.hoffset:b+g+a.hoffset>$(window).width()&&(b=$(window).width()-
a.hoffset-g);m.css({left:b+"px",top:f.top+a.voffset+"px"})}a=a||{};a.history=!1;a.sticker=!1;a.hide=!1;a.stack=!1;a.shadow=!0;a.type=a.type||"info";a.opacity=0.95;a.voffset=a.voffset||40;a.hoffset=a.hoffset||10;var k=a.target||document.body,m=this.success(b,a);$(window).on("resize",f);var g=a.before_close;a.before_close=function(a){console.log(g);g&&g.apply(this,a);$(window).off("resize",f)};setTimeout(f,0);return m},main:function(b,a){function f(){var a=$(window).width(),f=$(window).height(),k=m.outerWidth(),
b=m.outerHeight();m.css({left:(a-k)/2+"px",top:(f-b)/2+"px"})}a=a||{};a.history=!1;a.sticker=!1;a.width="500px";a.min_height||(a.min_height="300px");a.hide=!1;a.stack=!1;a.shadow=!0;a.type="info";a.opacity=0.95;var k=a.before_close;a.before_close=function(a){k&&k.apply(this,a);$(window).off("resize",f)};var m=this.success(b,a);$(window).on("resize",f);setTimeout(f,0);return m},quick:function(b,a){a=a||{};a.timeout=2500;return this.success(b,a)},progress:function(b,a){var f,k,m,g=a.text||"",i;a.hide=
!1;a.text='<div class="pg-message">'+g+'</div><div class="pg-progress-bar"></div>';a.before_open=function(a){f=a;k=a.find("div.pg-progress-bar");m=a.find("div.pg-message")};a.progressStart=function(a){clearInterval(i);f.show();m.removeClass("ui-state-error");m.html(a);k.show();k.progressbar({value:0})};a.progressStep=function(a){a*=100;100<a&&(a=100);k.progressbar({value:a})};a.progressComplete=function(a){m.html(a);k.hide();i=setTimeout(function(){f.hide()},1E4)};a.progressError=function(a){k.hide();
m.addClass("ui-state-error").html(a);i=setTimeout(function(){f.hide()},1E4)};return a.el=this.success(b,a)}}});
(function(b,i){b.widget("ui.progressbar",{version:"@VERSION",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=b("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove()},value:function(b){if(b===i)return this._value();this._setOption("value",b);return this},_setOption:function(b,h){"value"===b&&(this.options.value=h,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete"));this._super(b,h)},_value:function(){var b=this.options.value;"number"!==typeof b&&(b=0);return Math.min(this.options.max,Math.max(this.min,b))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var b=this.value(),
h=this._percentage();this.oldValue!==b&&(this.oldValue=b,this._trigger("change"));this.valueDiv.toggle(b>this.min).toggleClass("ui-corner-right",b===this.options.max).width(h.toFixed(0)+"%");this.element.attr("aria-valuenow",b)}})})(jQuery);define("libs/jquery/ui/jquery.ui.progressbar",function(){});
(function(b,i){function g(f){f=f.cloneNode(!1);return 1<f.hash.length&&f.href.replace(a,"")===location.href.replace(a,"")}var h=0,a=/#.*$/;b.widget("ui.tabs",{version:"@VERSION",options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var a,f=this,g=this.options,h=g.active;this.running=!1;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this._processTabs();if(null===
h&&(location.hash&&this.anchors.each(function(a,f){if(f.hash===location.hash)return h=a,!1}),null===h&&(h=this.lis.filter(".ui-tabs-active").index()),null===h||-1===h))h=this.lis.length?0:!1;!1!==h&&(h=this.lis.eq(h).index(),-1===h&&(h=g.collapsible?!1:0));g.active=h;!g.collapsible&&(!1===g.active&&this.anchors.length)&&(g.active=0);b.isArray(g.disabled)&&(g.disabled=b.unique(g.disabled.concat(b.map(this.lis.filter(".ui-state-disabled"),function(a){return f.lis.index(a)}))).sort());this._refresh();
this.panels.hide();this.lis.removeClass("ui-tabs-active ui-state-active");!1!==g.active&&this.anchors.length?(this.active=this._findActive(g.active),a=this._getPanelForTab(this.active),a.show(),this.lis.eq(g.active).addClass("ui-tabs-active ui-state-active"),this.load(g.active)):this.active=b()},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?b():this._getPanelForTab(this.active)}},_setOption:function(a,f){"active"===a?this._activate(f):"disabled"===a?this._setupDisabled(f):
(this._super(a,f),"collapsible"===a&&(!f&&!1===this.options.active)&&this._activate(0),"event"===a&&this._setupEvents(f),"heightStyle"===a&&this._setupHeightStyle(f))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+ ++h},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var a;a=this.options;var f=this.list.children(":has(a[href])");a.disabled=b.map(f.filter(".ui-state-disabled"),function(a){return f.index(a)});this._processTabs();
this._refresh();this.panels.not(this._getPanelForTab(this.active)).hide();!1===a.active||!this.anchors.length?(a.active=!1,this.active=b()):this.active.length&&!b.contains(this.list[0],this.active[0])?(a=a.active-1,this._activate(0<=a?a:0)):a.active=this.lis.index(this.active)},_refresh:function(){var a=this.options;this.element.toggleClass("ui-tabs-collapsible",a.collapsible);this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");
this.anchors.addClass("ui-tabs-anchor");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");this._setupDisabled(a.disabled);this._setupEvents(a.event);this._setupHeightStyle(a.heightStyle);this.lis.unbind(".tabs");this._focusable(this.lis);this._hoverable(this.lis)},_processTabs:function(){var a=this;this.list=this._getList();this.lis=this.list.find("> li:has(a[href])");this.anchors=this.lis.map(function(){return b("a",this)[0]});this.panels=b();this.anchors.each(function(f,l){var h,
i,t,v=b(l).closest("li");g(l)?(h=l.hash,i=a.element.find(a._sanitizeSelector(h))):(t=a._tabId(v),h="#"+t,i=a.element.find(h),i.length||(i=a._createPanel(t),i.insertAfter(a.panels[f-1]||a.list)));i.length&&(a.panels=a.panels.add(i));v.data("ui-tabs-aria-controls",v.attr("aria-controls")).attr("aria-controls",h.substring(1))})},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(a){return b("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",
!0)},_setupDisabled:function(a){b.isArray(a)&&(a.length?a.length===this.anchors.length&&(a=!0):a=!1);for(var f=0,g;g=this.lis[f];f++)b(g).toggleClass("ui-state-disabled",!0===a||-1!==b.inArray(f,a));this.options.disabled=a},_setupEvents:function(a){var f={click:function(a){a.preventDefault()}};a&&b.each(a.split(" "),function(a,k){f[k]="_eventHandler"});this.anchors.unbind(".tabs");this._bind(this.anchors,f)},_setupHeightStyle:function(a){var f,g,h=this.element.parent();"fill"===a?(b.support.minHeight||
(g=h.css("overflow"),h.css("overflow","hidden")),f=h.height(),this.element.siblings(":visible").each(function(){var a=b(this),k=a.css("position");"absolute"===k||"fixed"===k||(f-=a.outerHeight(!0))}),g&&h.css("overflow",g),this.element.children().not(this.panels).each(function(){f-=b(this).outerHeight(!0)}),this.panels.each(function(){b(this).height(Math.max(0,f-b(this).innerHeight()+b(this).height()))}).css("overflow","auto")):"auto"===a&&(f=0,this.panels.each(function(){f=Math.max(f,b(this).height("").height())}).height(f))},
_eventHandler:function(a){var f=this.options,g=this.active,h=b(a.currentTarget).closest("li"),i=h[0]===g[0],t=i&&f.collapsible,v=t?b():this._getPanelForTab(h),w=!g.length?b():this._getPanelForTab(g),g={oldTab:g,oldPanel:w,newTab:t?b():h,newPanel:v};a.preventDefault();if(!h.hasClass("ui-state-disabled")&&!h.hasClass("ui-tabs-loading")&&!this.running&&!(i&&!f.collapsible||!1===this._trigger("beforeActivate",a,g)))f.active=t?!1:this.lis.index(h),this.active=i?b():h,this.xhr&&this.xhr.abort(),!w.length&&
!v.length&&b.error("jQuery UI Tabs: Mismatching fragment identifier."),v.length&&this.load(this.lis.index(h),a),this._toggle(a,g)},_toggle:function(a,f){function b(){h.running=!1;h._trigger("activate",a,f)}function g(){f.newTab.closest("li").addClass("ui-tabs-active ui-state-active");i.length&&h.options.show?h._show(i,h.options.show,b):(i.show(),b())}var h=this,i=f.newPanel,v=f.oldPanel;this.running=!0;v.length&&this.options.hide?this._hide(v,this.options.hide,function(){f.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");
g()}):(f.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),v.hide(),g())},_activate:function(a){a=this._findActive(a);a[0]!==this.active[0]&&(a.length||(a=this.active),a=a.find(".ui-tabs-anchor")[0],this._eventHandler({target:a,currentTarget:a,preventDefault:b.noop}))},_findActive:function(a){return!1===a?b():this.lis.eq(a)},_getIndex:function(a){"string"===typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']")));return a},_destroy:function(){this.xhr&&this.xhr.abort();
this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.removeClass("ui-tabs-anchor").unbind(".tabs").removeData("href.tabs").removeData("load.tabs");this.lis.unbind(".tabs").add(this.panels).each(function(){b.data(this,"ui-tabs-destroy")?b(this).remove():b(this).removeClass("ui-state-default ui-corner-top ui-tabs-active ui-state-active ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom")});
this.lis.each(function(){var a=b(this),f=a.data("ui-tabs-aria-controls");f?a.attr("aria-controls",f):a.removeAttr("aria-controls")});"content"!==this.options.heightStyle&&this.panels.css("height","");return this},enable:function(a){var f=this.options.disabled;!1!==f&&(a===i?f=!1:(a=this._getIndex(a),f=b.isArray(f)?b.map(f,function(f){return f!==a?f:null}):b.map(this.lis,function(f,b){return b!==a?b:null})),this._setupDisabled(f))},disable:function(a){var f=this.options.disabled;if(!0!==f){if(a===
i)f=!0;else{a=this._getIndex(a);if(-1!==b.inArray(a,f))return;f=b.isArray(f)?b.merge([a],f).sort():[a]}this._setupDisabled(f)}},load:function(a,f){var a=this._getIndex(a),l=this,h=this.lis.eq(a),i=h.find(".ui-tabs-anchor"),t=this._getPanelForTab(h),v={tab:h,panel:t};if(!g(i[0])&&(this.xhr=b.ajax({url:i.attr("href"),beforeSend:function(a,k){return l._trigger("beforeLoad",f,b.extend({jqXHR:a,ajaxSettings:k},v))}}))&&"canceled"!==this.xhr.statusText)h.addClass("ui-tabs-loading"),this.xhr.success(function(a){setTimeout(function(){t.html(a);
l._trigger("load",f,v)},1)}).complete(function(a,f){setTimeout(function(){"abort"===f&&l.panels.stop(!1,!0);h.removeClass("ui-tabs-loading");a===l.xhr&&delete l.xhr},1)})},_getPanelForTab:function(a){a=b(a).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+a))}});if(!1!==b.uiBackCompat){b.ui.tabs.prototype._ui=function(a,f){return{tab:a,panel:f,index:this.anchors.index(a)}};b.widget("ui.tabs",b.ui.tabs,{url:function(a,f){this.anchors.eq(a).attr("href",f)}});b.widget("ui.tabs",
b.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var a=this;this.element.bind("tabsbeforeload.tabs",function(f,g){b.data(g.tab[0],"cache.tabs")?f.preventDefault():(b.extend(g.ajaxSettings,a.options.ajaxOptions,{error:function(f,b){try{a.options.ajaxOptions.error(f,b,g.tab.closest("li").index(),g.tab[0])}catch(m){}}}),g.jqXHR.success(function(){a.options.cache&&b.data(g.tab[0],"cache.tabs",!0)}))})},_setOption:function(a,f){"cache"===a&&!1===f&&this.anchors.removeData("cache.tabs");
this._super(a,f)},_destroy:function(){this.anchors.removeData("cache.tabs");this._super()},url:function(a,f){this.anchors.eq(a).removeData("cache.tabs");this._superApply(arguments)}});b.widget("ui.tabs",b.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}});b.widget("ui.tabs",b.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super();this._bind({tabsbeforeload:function(a,f){if(this.options.spinner){var b=f.tab.find("span"),g=b.html();b.html(this.options.spinner);f.jqXHR.complete(function(){b.html(g)})}}})}});
b.widget("ui.tabs",b.ui.tabs,{options:{enable:null,disable:null},enable:function(a){var f=this.options,g;if(a&&!0===f.disabled||b.isArray(f.disabled)&&-1!==b.inArray(a,f.disabled))g=!0;this._superApply(arguments);g&&this._trigger("enable",null,this._ui(this.anchors[a],this.panels[a]))},disable:function(a){var f=this.options,g;if(a&&!1===f.disabled||b.isArray(f.disabled)&&-1===b.inArray(a,f.disabled))g=!0;this._superApply(arguments);g&&this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a]))}});
b.widget("ui.tabs",b.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(a,f,g){g===i&&(g=this.anchors.length);var h,p=this.options,f=b(p.tabTemplate.replace(/#\{href\}/g,a).replace(/#\{label\}/g,f)),t=!a.indexOf("#")?a.replace("#",""):this._tabId(f);f.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0);f.attr("aria-controls",t);a=g>=this.lis.length;h=this.element.find("#"+t);h.length||(h=this._createPanel(t),a?
0<g?h.insertAfter(this.panels.eq(-1)):h.appendTo(this.element):h.insertBefore(this.panels[g]));h.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide();a?f.appendTo(this.list):f.insertBefore(this.lis[g]);p.disabled=b.map(p.disabled,function(a){return a>=g?++a:a});this.refresh();1===this.lis.length&&!1===p.active&&this.option("active",0);this._trigger("add",null,this._ui(this.anchors[g],this.panels[g]));return this},remove:function(a){var a=this._getIndex(a),f=this.options,g=this.lis.eq(a).remove(),
h=this._getPanelForTab(g).remove();g.hasClass("ui-tabs-active")&&2<this.anchors.length&&this._activate(a+(a+1<this.anchors.length?1:-1));f.disabled=b.map(b.grep(f.disabled,function(f){return f!==a}),function(f){return f>=a?--f:f});this.refresh();this._trigger("remove",null,this._ui(g.find("a")[0],h[0]));return this}});b.widget("ui.tabs",b.ui.tabs,{length:function(){return this.anchors.length}});b.widget("ui.tabs",b.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(a){a=a.is("li")?a.find("a[href]"):
a;a=a[0];return b(a).closest("li").attr("aria-controls")||a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+ ++h}});b.widget("ui.tabs",b.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(a){return b(this.options.panelTemplate).attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}});b.widget("ui.tabs",b.ui.tabs,{_create:function(){var a=this.options;null===a.active&&a.selected!==i&&(a.active=
-1===a.selected?!1:a.selected);this._super();a.selected=a.active;!1===a.selected&&(a.selected=-1)},_setOption:function(a,f){if("selected"!==a)return this._super(a,f);var b=this.options;this._super("active",-1===f?!1:f);b.selected=b.active;!1===b.selected&&(b.selected=-1)},_eventHandler:function(a){this._superApply(arguments);this.options.selected=this.options.active;!1===this.options.selected&&(this.options.selected=-1)}});b.widget("ui.tabs",b.ui.tabs,{options:{show:null,select:null},_create:function(){this._super();
!1!==this.options.active&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(a,f,b){var g=this._superApply(arguments);if(!g)return!1;"beforeActivate"===a&&b.newTab.length?g=this._super("select",f,{tab:b.newTab.find(".ui-tabs-anchor")[0],panel:b.newPanel[0],index:b.newTab.closest("li").index()}):"activate"===a&&b.newTab.length&&(g=this._super("show",f,{tab:b.newTab.find(".ui-tabs-anchor")[0],panel:b.newPanel[0],index:b.newTab.closest("li").index()}));
return g}});b.widget("ui.tabs",b.ui.tabs,{select:function(a){a=this._getIndex(a);if(-1===a)if(this.options.collapsible&&-1!==this.options.selected)a=this.options.selected;else return;this.anchors.eq(a).trigger(this.options.event+".tabs")}});var f=0;b.widget("ui.tabs",b.ui.tabs,{options:{cookie:null},_create:function(){var a=this.options,f;null==a.active&&a.cookie&&(f=parseInt(this._cookie(),10),-1===f&&(f=!1),a.active=f);this._super()},_cookie:function(a){var g=[this.cookie||(this.cookie=this.options.cookie.name||
"ui-tabs-"+ ++f)];arguments.length&&(g.push(!1===a?-1:a),g.push(this.options.cookie));return b.cookie.apply(null,g)},_refresh:function(){this._super();this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(a){this._superApply(arguments);this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super();this.options.cookie&&this._cookie(null,this.options.cookie)}});b.widget("ui.tabs",b.ui.tabs,{_trigger:function(a,
f,g){g=b.extend({},g);"load"===a&&(g.panel=g.panel[0],g.tab=g.tab.find(".ui-tabs-anchor")[0]);return this._super(a,f,g)}});b.widget("ui.tabs",b.ui.tabs,{options:{fx:null},_getFx:function(){var a,f,g=this.options.fx;g&&(b.isArray(g)?(a=g[0],f=g[1]):a=f=g);return g?{show:f,hide:a}:null},_toggle:function(a,f){function b(){h.running=!1;h._trigger("activate",a,f)}function g(){f.newTab.closest("li").addClass("ui-tabs-active ui-state-active");i.length&&w.show?i.animate(w.show,w.show.duration,function(){b()}):
(i.show(),b())}var h=this,i=f.newPanel,v=f.oldPanel,w=this._getFx();if(!w)return this._super(a,f);h.running=!0;v.length&&w.hide?v.animate(w.hide,w.hide.duration,function(){f.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");g()}):(f.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),v.hide(),g())}})}})(jQuery);define("libs/jquery/ui/jquery.ui.tabs",function(){});
(function(b){var i=null;b.widget("ui.menu",{version:"@VERSION",defaultElement:"<ul>",delay:300,options:{menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click.menu",b.proxy(function(b){this.options.disabled&&
b.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._bind({"mousedown .ui-menu-item > a":function(b){b.preventDefault()},"click .ui-state-disabled > a":function(b){b.preventDefault()},"click .ui-menu-item:has(a)":function(g){var h=b(g.target);h[0]!==i&&(i=h[0],h.one("click.menu",function(){i=null}),h.closest(".ui-menu-item").is(".ui-state-disabled")||(this.select(g),this._delay(function(){this.element.is(":focus")||this.element.focus()},
20)))},"mouseenter .ui-menu-item":function(g){var h=b(g.currentTarget);h.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(g,h)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(g){var h=this.element,a=h.children(".ui-menu-item").eq(0);this._hasScroll()&&!this.active?h.children().each(function(){var f=b(this);if(0<=f.offset().top-h.offset().top)return a=f,!1}):this.active&&(a=this.active);this.focus(g,a)},blur:function(g){this._delay(function(){b.contains(this.element[0],
this.document[0].activeElement)||this.collapseAll(g)})},keydown:"_keydown"});this.refresh();this._bind(this.document,{click:function(g){b(g.target).closest(".ui-menu").length||this.collapseAll(g)}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var g=b(this);g.data("ui-menu-submenu-carat")&&g.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content");b(i).unbind("click.menu")},_keydown:function(g){function h(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var a,f,k,m=!0;switch(g.keyCode){case b.ui.keyCode.PAGE_UP:this.previousPage(g);break;case b.ui.keyCode.PAGE_DOWN:this.nextPage(g);break;case b.ui.keyCode.HOME:this._move("first","first",g);break;case b.ui.keyCode.END:this._move("last","last",g);break;case b.ui.keyCode.UP:this.previous(g);break;case b.ui.keyCode.DOWN:this.next(g);break;case b.ui.keyCode.LEFT:this.collapse(g);break;case b.ui.keyCode.RIGHT:this.active.is(".ui-state-disabled")||this.expand(g);break;case b.ui.keyCode.ENTER:this._activate(g);
break;case b.ui.keyCode.SPACE:this._activate(g);break;case b.ui.keyCode.ESCAPE:this.collapse(g);break;default:m=!1,a=this.previousFilter||"",f=String.fromCharCode(g.keyCode),k=!1,clearTimeout(this.filterTimer),f===a?k=!0:f=a+f,a=this.activeMenu.children(".ui-menu-item").filter(function(){return RegExp("^"+h(f),"i").test(b(this).children("a").text())}),a=k&&-1!==a.index(this.active.next())?this.active.nextAll(".ui-menu-item"):a,a.length||(f=String.fromCharCode(g.keyCode),a=this.activeMenu.children(".ui-menu-item").filter(function(){return RegExp("^"+
h(f),"i").test(b(this).children("a").text())})),a.length?(this.focus(g,a),1<a.length?(this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}m&&g.preventDefault()},_activate:function(b){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(b):this.select(b))},refresh:function(){var g,h=this.element.find(this.options.menus+":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,
"aria-hidden":"true","aria-expanded":"false"});g=h.add(this.element);g.children(":not( .ui-menu-item ):has( a )").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});g.children(":not(.ui-menu-item)").each(function(){var a=b(this);/[^\-\u2014\u2013\s]/.test(a.text())||a.addClass("ui-widget-content ui-menu-divider")});g.children(".ui-state-disabled").attr("aria-disabled","true");h.each(function(){var a=b(this),
f=a.prev("a"),k=b('<span class="ui-menu-icon ui-icon ui-icon-carat-1-e"></span>').data("ui-menu-submenu-carat",!0);f.attr("aria-haspopup","true").prepend(k);a.attr("aria-labelledby",f.attr("id"))})},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(g,h){var a;this.blur(g,g&&"focus"===g.type);this._scrollIntoView(h);this.active=h.first();a=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",
a.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");g&&"keydown"===g.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);a=b("> .ui-menu",h);a.length&&/^mouse/.test(g.type)&&this._startOpening(a);this.activeMenu=h.parent();this._trigger("focus",g,{item:h})},_scrollIntoView:function(g){var h,a,f;this._hasScroll()&&(h=parseFloat(b.css(this.activeMenu[0],"borderTopWidth"))||0,a=parseFloat(b.css(this.activeMenu[0],"paddingTop"))||
0,h=g.offset().top-this.activeMenu.offset().top-h-a,a=this.activeMenu.scrollTop(),f=this.activeMenu.height(),g=g.height(),0>h?this.activeMenu.scrollTop(a+h):h+g>f&&this.activeMenu.scrollTop(a+h-f+g))},blur:function(b,h){h||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",b,{item:this.active}))},_startOpening:function(b){clearTimeout(this.timer);"true"===b.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();
this._open(b)},this.delay))},_open:function(g){var h=b.extend({of:this.active},"function"===b.type(this.options.position)?this.options.position(this.active):this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(g.parents()).hide().attr("aria-hidden","true");g.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(h)},collapseAll:function(g,h){clearTimeout(this.timer);this.timer=this._delay(function(){var a=h?this.element:b(g&&g.target).closest(this.element.find(".ui-menu"));
a.length||(a=this.element);this._close(a);this.blur(g);this.activeMenu=a},this.delay)},_close:function(b){b||(b=this.active?this.active.parent():this.element);b.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(b){var h=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(h&&h.length)return this._close(),this.focus(b,h),!0},expand:function(b){var h=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();
if(h&&h.length)return this._open(h.parent()),this._delay(function(){this.focus(b,h)},20),!0},next:function(b){this._move("next","first",b)},previous:function(b){this._move("prev","last",b)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(b,h,a){var f;this.active&&(f="first"===b||"last"===b?this.active["first"===b?"prevAll":"nextAll"](".ui-menu-item").eq(-1):
this.active[b+"All"](".ui-menu-item").eq(0));if(!f||!f.length||!this.active)f=this.activeMenu.children(".ui-menu-item")[h]();this.focus(a,f)},nextPage:function(g){if(this.active){if(!this.isLastItem())if(this._hasScroll()){var h=this.active.offset().top,a=this.element.height(),f;this.active.nextAll(".ui-menu-item").each(function(){f=b(this);return 0>b(this).offset().top-h-a});this.focus(g,f)}else this.focus(g,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())}else this._move("next",
"first",g)},previousPage:function(g){if(this.active){if(!this.isFirstItem())if(this._hasScroll()){var h=this.active.offset().top,a=this.element.height(),f;this.active.prevAll(".ui-menu-item").each(function(){f=b(this);return 0<b(this).offset().top-h+a});this.focus(g,f)}else this.focus(g,this.activeMenu.children(".ui-menu-item").first())}else this._move("next","first",g)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){var h={item:this.active};
this.collapseAll(b,!0);this._trigger("select",b,h)}})})(jQuery);define("libs/jquery/ui/jquery.ui.menu",function(){});
define("app/util/ui","app/util/dom app/util/notification jquery libs/jquery/ui/jquery.ui.core libs/jquery/ui/jquery.ui.position libs/jquery/ui/jquery.ui.widget libs/jquery/ui/jquery.ui.mouse libs/jquery/ui/jquery.ui.resizable libs/jquery/ui/jquery.ui.button libs/jquery/ui/jquery.ui.progressbar libs/jquery/ui/jquery.ui.tabs libs/jquery/ui/jquery.ui.menu".split(" "),function(b,i){var g,h=0;$.fn.outerHTML=function(){var a;if(this.length){if(!(a=this[0].outerHTML)){a=this[0];var f=document.createElement("div");
f.appendChild(a.cloneNode(!0));a=f.innerHTML}}else a=this;return a};return g={clickOrDoubleClick:function(a,f,b){var g=0;a.click(function(a){g++;1===g?setTimeout(function(){1!==g?g=0:(g=0,f.call(this,a))},200):(g=0,b.call(this,a))})},button:function(a,f){var a=$(a),f=$.extend({disabled:!1,label:"",text:!1,handler:function(){},icons:null},f),b={disabled:f.disabled,text:f.text,label:f.label,icons:f.icon?{primary:f.icon}:f.icons};b.icons||delete b.icons;var m=a.append("<button></button>").find("button:last").button(b).click(function(a){f.handler.apply(m.get(0));
a.preventDefault();return!1});f.description&&g.tooltip(m,f.description);return m},menu:function(a,f){a=$(a);f=$.extend({disabled:!1},f);return a.menu({disabled:f.disabled})},contextmenu:function(a,f){var a="string"===typeof a?$("body").append(a).find("div:last ul"):$(a),b=a.parent(),f=this.menu(a,f);b.hide();b.mouseleave(function(){b.hide()}).click(function(){b.hide()});return b},tabs:function(a,f){a=$(a);return a.tabs(f)},radios:function(a,f){var b,a=$(a);f&&(a.find("*").remove(),h++,$(f).each(function(m,
i){var p="pg-buttonset-"+h+"-"+m;i.btn=a.append('<input type="radio" id="'+p+'" name="'+i.group+'" '+(i.checked?'checked="checked" ':"")+'/><label for="'+p+'">'+i.label+"</label>").find("#"+p);i.btn.click(function(){$(f).each(function(a,f){f.checked=f.token===i.token});i.handler(i)});i.checked&&(b=i.btn);i.description&&g.tooltip(btn,i.description)}));var m=a.buttonset();b&&setTimeout(function(){b.click()},100);return m},checks:function(a,f){a=$(a);f&&(a.find("*").remove(),h++,$(f).each(function(f,
b){var l="pg-buttonset-"+h+"-"+f,i=a.append('<input type="checkbox" id="'+l+'" name="'+(b.name||"")+'" '+(b.checked?'checked="checked" ':"")+'/><label for="'+l+'">'+b.label+"</label>").find("#"+l);i.click(function(a){b.checked=!!i.attr("checked");b.handler&&b.handler.call(i,a,b)});b.description&&g.tooltip(i,b.description)}));return a.buttonset()},buttonset:function(a){a=$(a);return a.buttonset()},progressbar:function(a){a=$(a);return a.progressbar()},tooltip:function(a,f){var b="function"===typeof f?
f:function(){return f};$(a).attr("title",b.apply($(a),[]));return a},edit:function(a,f){function k(){p&&p.remove();a.html(l);f.cancel()}var a=$(a),f=$.extend({handler:function(){return null},cancel:function(){}},f),g=f.text||a.text().trim(),l=a.html(),h=a.html('<input type="text" name="pg-editable" id="pg-editable" value="'+g+'" />').find("#pg-editable"),p;$(document.body).one("mousedown",function(){k()});h.change(function(){var b=h.val();if(b===g)return k();f.handler(b,function(f){p&&p.remove();
f?p=i.tip("invalid value",{target:a,text:f,type:"error"}):a.html(b)})}).keyup(function(a){switch(a.which){case 9:case 13:h.trigger("change");break;case 27:k()}});h.focus();var t=a.get(0);b.canSelect(t)||(t=h.get(0));b.selectText(t,0,g.length)}}});define("rtext!templates/toolbar.main.html",[],function(){return'<div class="pg-toolbar-actions">\r\n    <a class="pg-brand" href="#" target="_blank"><span class="pg-logo"></span></a>\r\n</div>\r\n<div class="pg-toolbar-context">\r\n\r\n</div>'});
define("app/util/fullscreen",[],function(){function b(){i=!window.screenTop&&!window.screenY;$(".pg-precog-labcoat .pg-fullscreen span.k-link").text(i?"reduce":"fullscreen")}var i,g,h;document.documentElement.requestFullscreen?g=function(a){a.requestFullscreen()}:document.documentElement.mozRequestFullScreen?g=function(a){a.mozRequestFullScreen()}:document.documentElement.webkitRequestFullScreen?g=function(a){a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);document.webkitCurrentFullScreenElement||
a.webkitRequestFullScreen()}:(setTimeout(function(){$(".pg-precog-labcoat .pg-fullscreen").hide()},20),g=function(){console.log("your browser doesn't support the FullScreen option")});h=document.exitFullscreen?function(){document.exitFullscreen()}:document.mozCancelFullScreen?function(){document.mozCancelFullScreen()}:document.webkitCancelFullScreen?function(a){a.webkitRequestFullScreen();document.webkitCancelFullScreen()}:function(){console.log("your browser doesn't support the FullScreen option")};
document.addEventListener&&(document.addEventListener("fullscreenchange",b,!1),document.addEventListener("mozfullscreenchange",b,!1),document.addEventListener("webkitfullscreenchange",b,!1));b();return{toggle:function(a){a=a||document.documentElement;i?h(a):g(a)},isFullScreen:function(){return i}}});define("rtext!templates/dialog.confirm.html",[],function(){return'<div class="pg-dialog-confirm">\r\n    <div class="pg-message"></div>\r\n</div>'});
define("app/util/numbercaptcha",[],function(){function b(b,g){return b+Math.floor(Math.random()*(1+g-b))}return function(i){var g=Math.round(i),i=["+","-","/","*"][b(0,3)],h=b(1,g),a,f;switch(i){case "+":a=b(1,g);f=a+h;break;case "-":a=b(1,g);a<h&&(g=a,a=h,h=g);f=a-h;break;case "*":a=b(2,10);f=a*h;b(0,1)&&(g=a,a=h,h=g);break;case "/":a=h*b(2,10),f=a/h}return{first:a,second:h,operator:i,result:f,description:a+" "+i+" "+h}}});
(function(b,i){var g={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},h={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};b.widget("ui.dialog",{version:"@VERSION",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(a){var f=b(this).css(a).offset().top;0>f&&b(this).css("top",
a.top-f)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1E3},_create:function(){this.originalTitle=this.element.attr("title");"string"!==typeof this.originalTitle&&(this.originalTitle="");this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.options.title=this.options.title||this.originalTitle;var a=this,f=this.options,k=f.title||"&#160;",g=(this.uiDialog=b("<div>")).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+
f.dialogClass).css({display:"none",outline:0,zIndex:f.zIndex}).attr("tabIndex",-1).keydown(function(k){f.closeOnEscape&&(!k.isDefaultPrevented()&&k.keyCode&&k.keyCode===b.ui.keyCode.ESCAPE)&&(a.close(k),k.preventDefault())}).mousedown(function(f){a.moveToTop(!1,f)}).appendTo("body");this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g);var l=(this.uiDialogTitlebar=b("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").prependTo(g),
h=b("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(f){f.preventDefault();a.close(f)}).appendTo(l);(this.uiDialogTitlebarCloseText=b("<span>")).addClass("ui-icon ui-icon-closethick").text(f.closeText).appendTo(h);var k=b("<span>").uniqueId().addClass("ui-dialog-title").html(k).prependTo(l),i=(this.uiDialogButtonPane=b("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");(this.uiButtonSet=b("<div>")).addClass("ui-dialog-buttonset").appendTo(i);
g.attr({role:"dialog","aria-labelledby":k.attr("id")});l.find("*").add(l).disableSelection();this._hoverable(h);this._focusable(h);f.draggable&&b.fn.draggable&&this._makeDraggable();f.resizable&&b.fn.resizable&&this._makeResizable();this._createButtons(f.buttons);this._isOpen=!1;b.fn.bgiframe&&g.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var a,f=this.oldPosition;this.overlay&&this.overlay.destroy();this.uiDialog.hide();this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");
this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle);a=f.parent.children().eq(f.index);a.length?a.before(this.element):f.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(a){var f=this,k,g;if(this._isOpen&&!1!==this._trigger("beforeClose",a))return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.uiDialog.unbind("keypress.ui-dialog"),this.options.hide?this.uiDialog.hide(this.options.hide,function(){f._trigger("close",a)}):
(this.uiDialog.hide(),this._trigger("close",a)),b.ui.dialog.overlay.resize(),this.options.modal&&(k=0,b(".ui-dialog").each(function(){this!==f.uiDialog[0]&&(g=b(this).css("z-index"),isNaN(g)||(k=Math.max(k,g)))}),b.ui.dialog.maxZ=k),this},isOpen:function(){return this._isOpen},moveToTop:function(a,f){var k=this.options;if(k.modal&&!a||!k.stack&&!k.modal)return this._trigger("focus",f);k.zIndex>b.ui.dialog.maxZ&&(b.ui.dialog.maxZ=k.zIndex);this.overlay&&(b.ui.dialog.maxZ+=1,b.ui.dialog.overlay.maxZ=
b.ui.dialog.maxZ,this.overlay.$el.css("z-index",b.ui.dialog.overlay.maxZ));k={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()};b.ui.dialog.maxZ+=1;this.uiDialog.css("z-index",b.ui.dialog.maxZ);this.element.attr(k);this._trigger("focus",f);return this},open:function(){if(!this._isOpen){var a;a=this.options;var f=this.uiDialog;this._size();this._position(a.position);f.show(a.show);this.overlay=a.modal?new b.ui.dialog.overlay(this):null;this.moveToTop(!0);a.modal&&f.bind("keydown.ui-dialog",
function(a){if(a.keyCode===b.ui.keyCode.TAB){var f=b(":tabbable",this),g=f.filter(":first"),f=f.filter(":last");if(a.target===f[0]&&!a.shiftKey)return g.focus(1),!1;if(a.target===g[0]&&a.shiftKey)return f.focus(1),!1}});a=this.element.find(":tabbable");a.length||(a=this.uiDialogButtonPane.find(":tabbable"),a.length||(a=f));a.eq(0).focus();this._isOpen=!0;this._trigger("open");return this}},_createButtons:function(a){var f=this,k=!1;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();"object"===
typeof a&&null!==a&&b.each(a,function(){return!(k=!0)});k?(b.each(a,function(a,k){var k=b.isFunction(k)?{click:k,text:a}:k,g=b("<button type='button'>").attr(k,!0).unbind("click").click(function(){k.click.apply(f.element[0],arguments)}).appendTo(f.uiButtonSet);b.fn.button&&g.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function a(a){return{position:a.position,offset:a.offset}}
var f=this,k=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(k,g){b(this).addClass("ui-dialog-dragging");f._trigger("dragStart",k,a(g))},drag:function(b,k){f._trigger("drag",b,a(k))},stop:function(g,l){k.position=[l.position.left-f.document.scrollLeft(),l.position.top-f.document.scrollTop()];b(this).removeClass("ui-dialog-dragging");f._trigger("dragStop",g,a(l));b.ui.dialog.overlay.resize()}})},
_makeResizable:function(a){function f(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var a=a===i?this.options.resizable:a,k=this,g=this.options,l=this.uiDialog.css("position"),a="string"===typeof a?a:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:g.maxWidth,maxHeight:g.maxHeight,minWidth:g.minWidth,minHeight:this._minHeight(),handles:a,start:function(a,g){b(this).addClass("ui-dialog-resizing");
k._trigger("resizeStart",a,f(g))},resize:function(a,b){k._trigger("resize",a,f(b))},stop:function(a,l){b(this).removeClass("ui-dialog-resizing");g.height=b(this).height();g.width=b(this).width();k._trigger("resizeStop",a,f(l));b.ui.dialog.overlay.resize()}}).css("position",l).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(a){var f=[],k=[0,0],g;if(a){if("string"===
typeof a||"object"===typeof a&&"0"in a)f=a.split?a.split(" "):[a[0],a[1]],1===f.length&&(f[1]=f[0]),b.each(["left","top"],function(a,b){+f[a]===f[a]&&(k[a]=f[a],f[a]=b)}),a={my:f.join(" "),at:f.join(" "),offset:k.join(" ")};a=b.extend({},b.ui.dialog.prototype.options.position,a)}else a=b.ui.dialog.prototype.options.position;(g=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.position(a);g||this.uiDialog.hide()},_setOptions:function(a){var f=this,k={},m=!1;b.each(a,function(a,b){f._setOption(a,
b);a in g&&(m=!0);a in h&&(k[a]=b)});m&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",k)},_setOption:function(a,f){var k,g=this.uiDialog;switch(a){case "buttons":this._createButtons(f);break;case "closeText":this.uiDialogTitlebarCloseText.text(""+f);break;case "dialogClass":g.removeClass(this.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+f);break;case "disabled":f?g.addClass("ui-dialog-disabled"):g.removeClass("ui-dialog-disabled");
break;case "draggable":(k=g.is(":data(draggable)"))&&!f&&g.draggable("destroy");!k&&f&&this._makeDraggable();break;case "position":this._position(f);break;case "resizable":(k=g.is(":data(resizable)"))&&!f&&g.resizable("destroy");k&&"string"===typeof f&&g.resizable("option","handles",f);!k&&!1!==f&&this._makeResizable(f);break;case "title":b(".ui-dialog-title",this.uiDialogTitlebar).html(""+(f||"&#160;"))}this._super(a,f)},_size:function(){var a,f,k=this.options,g=this.uiDialog.is(":visible");this.element.show().css({width:"auto",
minHeight:0,height:0});k.minWidth>k.width&&(k.width=k.minWidth);a=this.uiDialog.css({height:"auto",width:k.width}).outerHeight();f=Math.max(0,k.minHeight-a);"auto"===k.height?b.support.minHeight?this.element.css({minHeight:f,height:"auto"}):(this.uiDialog.show(),a=this.element.css("height","auto").height(),g||this.uiDialog.hide(),this.element.height(Math.max(a,f))):this.element.height(Math.max(k.height-a,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}});
b.extend(b.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(a){a=a.attr("id");a||(a=this.uuid+=1);return"ui-dialog-title-"+a},overlay:function(a){this.$el=b.ui.dialog.overlay.create(a)}});b.extend(b.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:b.map("focus mousedown mouseup keydown keypress click".split(" "),function(a){return a+".dialog-overlay"}).join(" "),create:function(a){0===this.instances.length&&(setTimeout(function(){b.ui.dialog.overlay.instances.length&&b(document).bind(b.ui.dialog.overlay.events,
function(a){if(b(a.target).zIndex()<b.ui.dialog.overlay.maxZ)return!1})},1),b(window).bind("resize.dialog-overlay",b.ui.dialog.overlay.resize));var f=this.oldInstances.pop()||b("<div>").addClass("ui-widget-overlay");b(document).bind("keydown.dialog-overlay",function(k){var g=b.ui.dialog.overlay.instances;0!==g.length&&(g[g.length-1]===f&&a.options.closeOnEscape&&!k.isDefaultPrevented()&&k.keyCode&&k.keyCode===b.ui.keyCode.ESCAPE)&&(a.close(k),k.preventDefault())});f.appendTo(document.body).css({width:this.width(),
height:this.height()});b.fn.bgiframe&&f.bgiframe();this.instances.push(f);return f},destroy:function(a){var f=b.inArray(a,this.instances),k=0;-1!==f&&this.oldInstances.push(this.instances.splice(f,1)[0]);0===this.instances.length&&b([document,window]).unbind(".dialog-overlay");a.height(0).width(0).remove();b.each(this.instances,function(){k=Math.max(k,this.css("z-index"))});this.maxZ=k},height:function(){var a,f;return b.browser.msie?(a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),
f=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),a<f?b(window).height()+"px":a+"px"):b(document).height()+"px"},width:function(){var a,f;return b.browser.msie?(a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),f=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),a<f?b(window).width()+"px":a+"px"):b(document).width()+"px"},resize:function(){var a=b([]);b.each(b.ui.dialog.overlay.instances,function(){a=a.add(this)});a.css({width:0,
height:0}).css({width:b.ui.dialog.overlay.width(),height:b.ui.dialog.overlay.height()})}});b.extend(b.ui.dialog.overlay.prototype,{destroy:function(){b.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);define("libs/jquery/ui/jquery.ui.dialog",function(){});
define("app/util/dialog-confirm","rtext!templates/dialog.confirm.html app/util/ui app/util/dom app/util/numbercaptcha libs/jquery/ui/jquery.ui.core libs/jquery/ui/jquery.ui.position libs/jquery/ui/jquery.ui.widget libs/jquery/ui/jquery.ui.mouse libs/jquery/ui/jquery.ui.resizable libs/jquery/ui/jquery.ui.button libs/jquery/ui/jquery.ui.sortable libs/jquery/ui/jquery.ui.draggable libs/jquery/ui/jquery.ui.dialog".split(" "),function(b,i,g,h){function a(){f.dialog("option","position","center")}var f,
k,m,l=!1,r,p;return function(g,i,w,x){x=x||{};if(!l){var E=function(){$(window).off("resize",a)};f=$("body").append(b).find(".pg-dialog-confirm:last").dialog({modal:!0,autoOpen:!1,resizable:!1,dialogClass:"pg-el",closeOnEscape:!0,buttons:[{text:"OK",click:function(){f.dialog("close");k&&k();return!0},ref:"ok"},{text:"Cancel",click:function(){$(this).dialog("close");E();m&&m()},ref:"cancel"}]});f.bind("dialogopen",function(){$(window).on("resize",a)});f.bind("dialogclose",E);l=!0}k=w;f.dialog("option",
"position","center");f.dialog("option","title",g);f.dialog("option","width",x.width&&x.width||300);f.dialog("option","height",x.height&&x.height||"auto");f.dialog("open");m=x.cancel;var z=f.parent().find("button[ref=ok]"),g=f.find(".pg-message");r&&r.detach();p&&p.detach();r=i=!i||"string"===typeof i?$("<div>"+(i||"")+"</div>"):i;g.append(i);if(x.captcha){z.button("disable");var L=p=$('<div class="captcha"></div>'),C=h(100);L.append('<div class="ui-widget"><div class="ui-state-highlight"><p>Solve this simple problem if you want to delete the data: <b>'+
C.description+" is equal to?</b></p></div></div>");i=$('<input type="number" step="1">').keyup(function(){$(this).attr("value")===""+C.result&&(L.children("*").remove(),L.append('<div class="ui-widget"><div class="ui-state-highlight"><p>Good Job! Now click OK to confirm</p></div></div>'),z.button("enable"))});L.append($('<div class="ui-widget"></div>').append("<p></p>").append(i));g.append(L)}else z.button("enable")}});define("rtext!templates/dialog.global.settings.html",[],function(){return'<div>\r\n    <dl class="labcoat-url-generator">\r\n\r\n        <dt class="header">Account Settings</dt>\r\n        <dt><label for="apiKey">API Key</label></dt>\r\n        <dd class="ui-widget-content ui-corner-all">\r\n            <input id="apiKey" value="" type="text" class="api-key">\r\n            <div class="input-error ui-state-error ui-corner-all" style="display:none"></div>\r\n        </dd>\r\n\r\n        <dt><label for="basePath">Base Path</label></dt>\r\n        <dd class="ui-widget-content ui-corner-all">\r\n            <input id="basePath" type="text" class="path">\r\n            <div class="input-error ui-state-error ui-corner-all" style="display:none"></div>\r\n        </dd>\r\n\r\n        <dt class="header">User Preferences</dt>\r\n        <dt><label for="limit">Limit</label></dt>\r\n        <dd class="ui-widget-content ui-corner-all">\r\n            <input id="limit" type="text" class="int">\r\n            <div class="input-error ui-state-error ui-corner-all" style="display:none"></div>\r\n        </dd>\r\n\r\n        <dt><label for="theme">Theme</label></dt>\r\n        <dd class="ui-widget-content ui-corner-all">\r\n            <select id="theme"></select>\r\n            <div class="input-error ui-state-error ui-corner-all" style="display:none"></div>\r\n        </dd>\r\n\r\n        <dt class="header">Server Settings</dt>\r\n        <dt>Analytics Service</dt>\r\n        <dd class="ui-widget-content ui-corner-all">\r\n            https://<input id="analyticsService" value="" type="text" class="url">\r\n            <div class="input-error ui-state-error ui-corner-all" style="display:none"></div>\r\n        </dd>\r\n\r\n        <dt>Labcoat Host</dt>\r\n        <dd class="ui-widget-content ui-corner-all">\r\n            https://<input id="labcoatHost" value="" type="text" class="url">\r\n            <div class="input-error ui-state-error ui-corner-all" style="display:none"></div>\r\n        </dd>\r\n\r\n        <dt class="full-line output header">Labcoat Url</dt>\r\n        <dd class="full-line ui-widget-content ui-corner-all output ui-state-highlight"><a href="" class="labcoatUrl" target="_blank"></a></dd>\r\n    </dl>\r\n</div>'});
define("app/util/dispatcher",[],function(){function b(b,g){for(var h=b.length,a=[],f=g;f<h;f++)a.push(b[f]);return a}return function(){var i={};return{emit:function(g,h){for(var a=i[h]||[],f=0;f<a.length&&!1!==a[f].apply(g,b(arguments,2));f++);},on:function(b,h){var a=i[b]||(i[b]=[]);if(0<=a.indexOf(h))return!1;a.push(h);return!0},off:function(b,h){var a=i[b],f;(!a||0>(f=a.indexOf(h)))&&!1;a.splice(f,1);return!0}}}});
define("app/util/valuemodel",["app/util/dispatcher"],function(b){return function(i,g,h){var a=i,f=g||function(){return null},k=h||function(a){return a},m=b(),l;return{set:function(b){if(null!==(l=f(b)))return m.emit(this,"validation.error",l,b),!1;var g=a;a=k(b);m.emit(this,"value.change",a,g);return!0},setDefault:function(a){var f=i;i=k(a);m.emit(this,"default.change",i,f);this.set(a);return!0},reset:function(){return i===a?!1:this.set(i)?(m.emit(this,"value.reset",i),!0):!1},get:function(f){return null!==
a&&"undefined"!==typeof a&&a||f},getDefault:function(){return i},validate:function(a){return null==f(a)},lastError:function(){return l},on:function(a,f){m.on(a,f)},off:function(a,f){m.off(a,f)},setValidator:function(a){f=a||function(){return null};m.emit(this,"validator.change",f)},setFilter:function(a){k=a||function(){return null};m.emit(this,"filter.change",a)},isDefault:function(){return a===i}}}});
define("app/util/objectmodel",["app/util/dispatcher"],function(b){return function(){var i={},g=b(),h={},a=!0;return{addField:function(f,b){this.removeField(f);i[f]=b;b.on("value.change",function(){g.emit(this,"value.change",f,b);if(!a){delete h[f];a:{for(key in h)if(h.hasOwnProperty(key)){a=!1;break a}a=!0}}a&&g.emit(this,"validation.success",f,b);g.emit(this,"object.change",f,b)});b.on("validation.error",function(){a=!1;h[f]=!0;g.emit(this,"validation.error",f,b)});g.emit(this,"field.add",f,b)},
removeField:function(a){if(!this.hasField(a))return!1;var b=i[a];delete i[a];g.emit(this,"field.remove",a,b)},hasField:function(a){return!!i[a]},getField:function(a){return i[a]},get:function(a){a=this.getField(a);return null==a?null:a.get()},on:function(a,b){g.on(a,b)},off:function(a,b){g.off(a,b)},isValid:function(){return a},reset:function(){for(name in i)i.hasOwnProperty(name)&&i[name].reset()},hasChanged:function(){for(name in i)if(i.hasOwnProperty(name)&&!i[name].isDefault())return!0;return!1}}}});
define("app/util/converters",[],function(){return{jsonToCsv:function(b){function i(a){return"string"==typeof a?a.match(m)?'"'+a.replace(l,"\\n").replace(r,"\\r").replace(p,'""')+'"':a:a instanceof Array||a instanceof Object?i(JSON.stringify(a)):""+a}if(!b)return"";var g=[],h=b[0],a,f,k=[],m=/[",\n\r]/g,l=/\n/g,r=/\r/g,p=/"/g;a=[];if(h instanceof Object){for(f in h)h.hasOwnProperty(f)&&(k.push(f),a.push(i(f)));g.push(a.join(","));for(f=0;f<b.length;f++){a=[];for(var h=b[f],t=0;t<k.length;t++)a.push(i(h[k[t]]));
g.push(a.join(","))}}else{g.push(i("value"));for(f=0;f<b.length;f++)g.push(i(b[f]))}return g.join("\n")},minifyQuirrel:function(b){function i(f,b){var g="",l,h=0,i=20;do{var t=f,v=b,w=h,x=v.length,E=void 0;l=void 0;for(var z=0;z<t.length;z++)E=v.indexOf(t[z].open,w),0<=E&&E<x&&(l=t[z],l.start=x=E);if(l){t=l;w=l;x=l.start+l.open.length;if(w.escape){E=w.escape.length;for(z=void 0;;){z=v.indexOf(w.close,x);if(0>z)break;x=z+w.close.length;if(v.substr(z-E,E)!==w.escape)break}v=z}else v=v.indexOf(w.close,
x);t.end=v}else l=null;if(!l)break;l.start>h&&(g+=a(b.substr(h,l.start-h)));0<=l.end?(g+=l.handler(b.substr(l.start+l.open.length,l.end-(l.start+l.open.length))),h=l.end+l.close.length):h=-1;i--;if(0>i){console.log("GUARD REACHED",b);break}}while(l&&h<b.length&&0<=h);g=l?g+l.handler(b.substr(l.start+l.open.length)):g+a(b.substr(h));return g.trim()}var g=[{open:'"',close:'"',escape:"\\",start:-1,end:-1,handler:function(a){return'"'+a+'"'}}],h=g.concat([{open:"--",close:"\n",escape:!1,start:-1,end:-1,
handler:function(){return" "}},{open:"(-",close:"-)",escape:!1,start:-1,end:-1,handler:function(){return" "}}]),a=function(a){return a.replace(/(\s+)/g," ")};return i(g,i(h,b))}}});define("rtext!templates/dialog.export.html",[],function(){return'<div class="pg-dialog-export">\r\n    <div class="pg-toolbar pg-actions"></div>\r\n    <div class="pg-toolbar pg-options"></div>\r\n    <form method="POST">\r\n        <div class="pg-export">\r\n            <textarea name="code" class="ui-widget-content"></textarea>\r\n            <input type="hidden" name="name" value="">\r\n        </div>\r\n    </form>\r\n</div>'});
define("app/util/uiconfig",[],function(){return{disableUpload:"true"===$("head script[data-labcoat-disable-upload]").attr("data-labcoat-disable-upload"),disableDownload:"true"===$("head script[data-labcoat-disable-download]").attr("data-labcoat-disable-download")}});
(function(b){b.fn.zclip=function(i){if("object"==typeof i&&!i.length){var g=b.extend({path:"ZeroClipboard.swf",copy:null,beforeCopy:null,afterCopy:null,clickAfter:!0,setHandCursor:!0,setCSSEffects:!0},i);return this.each(function(){var h=b(this);if(h.is(":visible")&&("string"==typeof g.copy||b.isFunction(g.copy))){ZeroClipboard.setMoviePath(g.path);var a=new ZeroClipboard.Client;b.isFunction(g.copy)&&h.bind("zClip_copy",g.copy);b.isFunction(g.beforeCopy)&&h.bind("zClip_beforeCopy",g.beforeCopy);b.isFunction(g.afterCopy)&&
h.bind("zClip_afterCopy",g.afterCopy);a.setHandCursor(g.setHandCursor);a.setCSSEffects(g.setCSSEffects);a.addEventListener("mouseOver",function(){h.trigger("mouseenter")});a.addEventListener("mouseOut",function(){h.trigger("mouseleave")});a.addEventListener("mouseDown",function(){h.trigger("mousedown");b.isFunction(g.copy)?a.setText(h.triggerHandler("zClip_copy")):a.setText(g.copy);b.isFunction(g.beforeCopy)&&h.trigger("zClip_beforeCopy")});a.addEventListener("complete",function(a,k){b.isFunction(g.afterCopy)?
h.trigger("zClip_afterCopy"):(500<k.length&&(k=k.substr(0,500)+"...\n\n("+(k.length-500)+" characters not shown)"),h.removeClass("hover"),alert("Copied text to clipboard:\n\n "+k));g.clickAfter&&h.trigger("click")});a.glue(h[0],h.parent()[0]);b(window).bind("load resize",function(){a.reposition()})}})}if("string"==typeof i)return this.each(function(){var g=b(this);i=i.toLowerCase();var a=g.data("zclipId"),a=b("#"+a+".zclip");"remove"==i?(a.remove(),g.removeClass("active hover")):"hide"==i?(a.hide(),
g.removeClass("active hover")):"show"==i&&a.show()})}})(jQuery);
var ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(b){"string"==typeof b&&(b=document.getElementById(b));b.addClass||(b.hide=function(){this.style.display="none"},b.show=function(){this.style.display=""},b.addClass=function(b){this.removeClass(b);this.className+=" "+b},b.removeClass=function(b){for(var g=this.className.split(/\s+/),h=-1,a=0;a<g.length;a++)g[a]==b&&(h=a,a=g.length);-1<h&&(g.splice(h,1),this.className=g.join(" "));return this},b.hasClass=
function(b){return!!this.className.match(RegExp("\\s*"+b+"\\s*"))});return b},setMoviePath:function(b){this.moviePath=b},dispatch:function(b,i,g){(b=this.clients[b])&&b.receiveEvent(i,g)},register:function(b,i){this.clients[b]=i},getDOMObjectPosition:function(b,i){var g={left:0,top:0,width:b.width?b.width:b.offsetWidth,height:b.height?b.height:b.offsetHeight};b&&b!=i&&(g.left+=b.offsetLeft,g.top+=b.offsetTop);return g},Client:function(b){this.handlers={};this.id=ZeroClipboard.nextId++;this.movieId=
"ZeroClipboardMovie_"+this.id;ZeroClipboard.register(this.id,this);b&&this.glue(b)}};
ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(b,i,g){this.domElement=ZeroClipboard.$(b);b=99;this.domElement.style.zIndex&&(b=parseInt(this.domElement.style.zIndex,10)+1);"string"==typeof i?i=ZeroClipboard.$(i):"undefined"==typeof i&&(i=document.getElementsByTagName("body")[0]);var h=ZeroClipboard.getDOMObjectPosition(this.domElement,i);this.div=document.createElement("div");this.div.className="zclip";this.div.id=
"zclip-"+this.movieId;$(this.domElement).data("zclipId","zclip-"+this.movieId);var a=this.div.style;a.position="absolute";a.left=""+h.left+"px";a.top=""+h.top+"px";a.width=""+h.width+"px";a.height=""+h.height+"px";a.zIndex=b;if("object"==typeof g)for(addedStyle in g)a[addedStyle]=g[addedStyle];i.appendChild(this.div);this.div.innerHTML=this.getHTML(h.width,h.height)},getHTML:function(b,i){var g="",h="id="+this.id+"&width="+b+"&height="+i;if(navigator.userAgent.match(/MSIE/))var a=location.href.match(/^https/i)?
"https://":"http://",g=g+('<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+a+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+b+'" height="'+i+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+
h+'"/><param name="wmode" value="transparent"/></object>');else g+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+b+'" height="'+i+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+h+'" wmode="transparent" />';return g},hide:function(){this.div&&(this.div.style.left=
"-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML="";var b=document.getElementsByTagName("body")[0];try{b.removeChild(this.div)}catch(i){}this.div=this.domElement=null}},reposition:function(b){b&&((this.domElement=ZeroClipboard.$(b))||this.hide());if(this.domElement&&this.div){var b=ZeroClipboard.getDOMObjectPosition(this.domElement),i=this.div.style;i.left=""+b.left+"px";i.top=""+b.top+"px"}},setText:function(b){this.clipText=
b;this.ready&&this.movie.setText(b)},addEventListener:function(b,i){b=b.toString().toLowerCase().replace(/^on/,"");this.handlers[b]||(this.handlers[b]=[]);this.handlers[b].push(i)},setHandCursor:function(b){this.handCursorEnabled=b;this.ready&&this.movie.setHandCursor(b)},setCSSEffects:function(b){this.cssEffects=!!b},receiveEvent:function(b,i){b=b.toString().toLowerCase().replace(/^on/,"");switch(b){case "load":this.movie=document.getElementById(this.movieId);if(!this.movie){var g=this;setTimeout(function(){g.receiveEvent("load",
null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){g=this;setTimeout(function(){g.receiveEvent("load",null)},100);this.ready=!0;return}this.ready=!0;try{this.movie.setText(this.clipText)}catch(h){}try{this.movie.setHandCursor(this.handCursorEnabled)}catch(a){}break;case "mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case "mouseout":this.domElement&&
this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case "mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case "mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[b])for(var f=0,k=this.handlers[b].length;f<k;f++){var m=this.handlers[b][f];if("function"==typeof m)m(this,
i);else if("object"==typeof m&&2==m.length)m[0][m[1]](this,i);else if("string"==typeof m)window[m](this,i)}}};define("libs/jquery/zclip/jquery.zclip",function(){});
define("app/util/dialog-export","rtext!templates/dialog.export.html app/util/uiconfig app/util/ui app/util/dom app/util/notification libs/jquery/ui/jquery.ui.core libs/jquery/ui/jquery.ui.position libs/jquery/ui/jquery.ui.widget libs/jquery/ui/jquery.ui.mouse libs/jquery/ui/jquery.ui.resizable libs/jquery/ui/jquery.ui.button libs/jquery/ui/jquery.ui.sortable libs/jquery/ui/jquery.ui.draggable libs/jquery/ui/jquery.ui.dialog libs/jquery/zclip/jquery.zclip".split(" "),function(b,i,g,h,a){function f(){setTimeout(function(){h.selectText(m.get(0))},
100)}function k(){l.dialog("option","position","center")}var m,l,r,p,t,v,w,x=!1;return function(h,z,L,C,A){v=A;x||(A=[{text:"Copy",click:function(){l.dialog("close");return!0}}],i.disableDownload||A.push({text:"Download",click:function(){a.quick("code downloaded");p.submit();l.dialog("close")}}),l=$("body").append(b).find(".pg-dialog-export").dialog({modal:!0,autoOpen:!1,resizable:!1,width:820,height:480,dialogClass:"pg-el",closeOnEscape:!0,buttons:A}),r=l.find(".pg-actions"),elOptions=l.find(".pg-options"),
m=l.find(".pg-export textarea"),p=l.find("form"),p.attr("action","http://api.reportgrid.com/services/viz/proxy/download-code.php"),p.submit(function(){return v?v.call(this,m.text(),w):!0}),m.click(function(){f()}),l.bind("dialogopen",function(){$(window).on("resize",k)}),l.bind("dialogclose",function(){$(window).off("resize",k)}),x=!0);r.find("*").remove();elOptions.find("*").remove();C=C||z[0].token;g.radios(r,$(z).map(function(a,b){b.token===C&&(w=b);return{label:b.name,handler:function(){w=b;l.find("input[name=name]").val("precog."+
b.token);elOptions.find("*").remove();b.buildOptions&&b.buildOptions(elOptions,function(){m.text(b.handler(L,b.options));f()});m.text(b.handler(L,b.options));f();return!0},group:"actions",checked:b.token===C}}));r.find(".ui-button:first").click();l.dialog("option","position","center");l.dialog("option","title",h);l.dialog("open");t?$(window).trigger("resize"):t=l.dialog("widget").find(".ui-dialog-buttonpane button.ui-button:first").css({zIndex:1E6}).zclip({path:"js/libs/jquery/zclip/ZeroClipboard.swf",
copy:function(){return""+m.val()},afterCopy:function(){a.quick("copied to clipboard")}})}});define("rtext!templates/dialog.lineinput.html",[],function(){return'<div class="pg-dialog-lineinput">\r\n    <div class="pg-message ui-content ui-state-highlight ui-corner-all"></div>\r\n    <div class="pg-lineinput">\r\n        <label for="pg-input-lineinput"></label> <input id="pg-input-lineinput" type="text" name="value" class="ui-widget-content" multiple/>\r\n    </div>\r\n    <div class="pg-error ui-content ui-state-error ui-corner-all"></div>\r\n</div>'});
define("app/util/dialog-lineinput","rtext!templates/dialog.lineinput.html app/util/ui app/util/dom libs/jquery/ui/jquery.ui.core libs/jquery/ui/jquery.ui.position libs/jquery/ui/jquery.ui.widget libs/jquery/ui/jquery.ui.mouse libs/jquery/ui/jquery.ui.resizable libs/jquery/ui/jquery.ui.button libs/jquery/ui/jquery.ui.sortable libs/jquery/ui/jquery.ui.draggable libs/jquery/ui/jquery.ui.dialog".split(" "),function(b){function i(b){h.find(".pg-error").hide();var g=h.find(".pg-lineinput input[type="+k+
"]").val();if(f){var l=f(g);if(l)return h.find(".pg-error").html(l).show(),b&&b.preventDefault(),!1}a&&a(g,m);h.dialog("close")}function g(){h.dialog("option","position","center")}var h,a,f,k,m,l=!1;return function(r,p,t,v,w,x,E){E||(E="text");k=E;l||(h=$("body").append(b).find(".pg-dialog-lineinput:last").dialog({modal:!0,autoOpen:!1,resizable:!1,dialogClass:"pg-el",width:"400px",closeOnEscape:!0,buttons:[{text:"Close",click:function(){h.dialog("close");return!0}},{text:"OK",click:i}]}),h.bind("dialogopen",
function(){$(window).on("resize",g)}),h.bind("dialogclose",function(){$(window).off("resize",g)}),l=!0);E=h.find("input").outerHTML().replace(/type=["'][^"']*["']/,'type="'+E+'"');h.find("input").replaceWith(E);f=w;a=x;h.find(".pg-message").html(p||"");h.find(".pg-lineinput input[type="+k+"]").val(v||"").keyup(function(a){13==a.keyCode&&i()}).change(function(a){m=a.target.files});h.find(".pg-error").hide();h.find("label").html(t&&t+":"||"");h.dialog("option","position","center");h.dialog("option",
"title",r);h.dialog("open")}});define("rtext!templates/toolbar.editor.html",[],function(){return'<div class="pg-toolbar-actions pg-tabs-container">\r\n    <div class="pg-editor-tabs">\r\n        <ul></ul>\r\n    </div>\r\n</div>\r\n<div class="pg-toolbar-context">\r\n</div>'});
(function(b,i){function g(a,f){this._d=a;this._isUTC=!!f}function h(a){return 0>a?Math.ceil(a):Math.floor(a)}function a(a){var f=this._data={},b=a.years||a.y||0,k=a.months||a.M||0,g=a.weeks||a.w||0,m=a.days||a.d||0,l=a.hours||a.h||0,i=a.minutes||a.m||0,r=a.seconds||a.s||0,a=a.milliseconds||a.ms||0;this._milliseconds=a+1E3*r+6E4*i+36E5*l;this._days=m+7*g;this._months=k+12*b;f.milliseconds=a%1E3;r+=h(a/1E3);f.seconds=r%60;i+=h(r/60);f.minutes=i%60;l+=h(i/60);f.hours=l%24;m+=h(l/24);m+=7*g;f.days=m%
30;k+=h(m/30);f.months=k%12;b+=h(k/12);f.years=b}function f(a,f){for(var b=a+"";b.length<f;)b="0"+b;return b}function k(a,f,b){var k=f._milliseconds,g=f._days,f=f._months;k&&a._d.setTime(+a+k*b);g&&a.date(a.date()+g*b);f&&(k=a.date(),a.date(1).month(a.month()+f*b).date(Math.min(k,a.daysInMonth())))}function m(a){return"[object Array]"===Object.prototype.toString.call(a)}function l(a){return new b(a[0],a[1]||0,a[2]||1,a[3]||0,a[4]||0,a[5]||0,a[6]||0)}function r(a,k){function g(k){var R;switch(k){case "M":return m+
1;case "Mo":return m+1+x(m+1);case "MM":return f(m+1,2);case "MMM":return z.monthsShort[m];case "MMMM":return z.months[m];case "D":return l;case "Do":return l+x(l);case "DD":return f(l,2);case "DDD":return k=new b(h,m,l),R=new b(h,0,1),~~((k-R)/864E5+1.5);case "DDDo":return k=g("DDD"),k+x(k);case "DDDD":return f(g("DDD"),3);case "d":return i;case "do":return i+x(i);case "ddd":return z.weekdaysShort[i];case "dddd":return z.weekdays[i];case "w":return k=new b(h,m,l-i+5),R=new b(k.getFullYear(),0,4),
~~((k-R)/864E5/7+1.5);case "wo":return k=g("w"),k+x(k);case "ww":return f(g("w"),2);case "YY":return f(h%100,2);case "YYYY":return h;case "a":return w?w(p,C,!1):11<p?"pm":"am";case "A":return w?w(p,C,!0):11<p?"PM":"AM";case "H":return p;case "HH":return f(p,2);case "h":return p%12||12;case "hh":return f(p%12||12,2);case "m":return C;case "mm":return f(C,2);case "s":return t;case "ss":return f(t,2);case "S":return~~(v/100);case "SS":return f(~~(v/10),2);case "SSS":return f(v,3);case "Z":return(0>A?
"-":"+")+f(~~(Math.abs(A)/60),2)+":"+f(~~(Math.abs(A)%60),2);case "ZZ":return(0>A?"-":"+")+f(~~(10*Math.abs(A)/6),4);case "L":case "LL":case "LLL":case "LLLL":case "LT":return r(a,z.longDateFormat[k]);default:return k.replace(/(^\[)|(\\)|\]$/g,"")}}var m=a.month(),l=a.date(),h=a.year(),i=a.day(),p=a.hours(),C=a.minutes(),t=a.seconds(),v=a.milliseconds(),A=-a.zone(),x=z.ordinal,w=z.meridiem;return k.replace(ta,g)}function p(a){switch(a){case "DDDD":return Fa;case "YYYY":return Ia;case "S":case "SS":case "SSS":case "DDD":return Ea;
case "MMM":case "MMMM":case "ddd":case "dddd":case "a":case "A":return Za;case "Z":case "ZZ":return Ka;case "T":return R;case "MM":case "DD":case "dd":case "YY":case "HH":case "hh":case "mm":case "ss":case "M":case "D":case "d":case "H":case "h":case "m":case "s":return ra;default:return RegExp(a.replace("\\",""))}}function t(a,f){var k=[0,0,1,0,0,0,0],g={tzh:0,tzm:0},m=f.match(ta),h,i;for(h=0;h<m.length;h++){i=(p(m[h]).exec(a)||[])[0];var a=a.replace(p(m[h]),""),r=k,C=g,t=void 0;switch(m[h]){case "M":case "MM":r[1]=
null==i?0:~~i-1;break;case "MMM":case "MMMM":for(t=0;12>t;t++)if(z.monthsParse[t].test(i)){r[1]=t;break}break;case "D":case "DD":case "DDD":case "DDDD":r[2]=~~i;break;case "YY":i=~~i;r[0]=i+(70<i?1900:2E3);break;case "YYYY":r[0]=~~Math.abs(i);break;case "a":case "A":C.isPm="pm"===(i+"").toLowerCase();break;case "H":case "HH":case "h":case "hh":r[3]=~~i;break;case "m":case "mm":r[4]=~~i;break;case "s":case "ss":r[5]=~~i;break;case "S":case "SS":case "SSS":r[6]=~~(1E3*("0."+i));break;case "Z":case "ZZ":C.isUTC=
!0;if((t=(i+"").match(Xa))&&t[1])C.tzh=~~t[1];t&&t[2]&&(C.tzm=~~t[2]);t&&"+"===t[0]&&(C.tzh=-C.tzh,C.tzm=-C.tzm)}}g.isPm&&12>k[3]&&(k[3]+=12);!1===g.isPm&&12===k[3]&&(k[3]=0);k[3]+=g.tzh;k[4]+=g.tzm;return g.isUTC?new b(b.UTC.apply({},k)):l(k)}function v(a,f,b,k){var g=z.relativeTime[a];return"function"===typeof g?g(f||1,!!b,a,k):g.replace(/%d/i,f||1)}function w(a,f){z.fn[a]=function(a){var b=this._isUTC?"UTC":"";return null!=a?(this._d["set"+b+f](a),this):this._d["get"+b+f]()}}function x(a){z.duration.fn[a]=
function(){return this._data[a]}}function E(a,f){z.duration.fn["as"+a]=function(){return+this/f}}var z,L=Math.round,C,A={},O="en",Q="undefined"!==typeof module,U="months monthsShort monthsParse weekdays weekdaysShort longDateFormat calendar relativeTime ordinal meridiem".split(" "),sa=/^\/?Date\((\-?\d+)/i,ta=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|LT|LL?L?L?)/g,ca=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,ra=/\d\d?/,
Ea=/\d{1,3}/,Fa=/\d{3}/,Ia=/\d{4}/,Za=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,Ka=/Z|[\+\-]\d\d:?\d\d/i,R=/T/i,ha=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,za=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],Xa=/([\+\-]|\d\d)/gi,Oa="Month Date Hours Minutes Seconds Milliseconds".split(" "),eb={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6};z=
function(a,f){if(null===a||""===a)return null;var k,h;if(z.isMoment(a))k=new b(+a._d),h=a._isUTC;else if(f)if(m(f)){var p=a.match(ca)||[],C,v=99,A,x,w;for(A=0;A<f.length;A++){x=t(a,f[A]);C=r(new g(x),f[A]).match(ca)||[];w=p;for(var R=Math.min(w.length,C.length),L=Math.abs(w.length-C.length),E=0,O=void 0,O=0;O<R;O++)~~w[O]!==~~C[O]&&E++;w=E+L;w<v&&(v=w,k=x)}}else k=t(a,f);else if(k=sa.exec(a),a===i)k=new b;else if(k)k=new b(+k[1]);else if(a instanceof b)k=a;else if(m(a))k=l(a);else if("string"===typeof a)if(k=
"YYYY-MM-DDT",ha.exec(a)){for(p=0;4>p;p++)if(za[p][1].exec(a)){k+=za[p][0];break}k=Ka.exec(a)?t(a,k+" Z"):t(a,k)}else k=new b(a);else k=new b(a);return new g(k,h)};z.utc=function(a,f){return m(a)?new g(new b(b.UTC.apply({},a)),!0):f&&a?z(a+" +0000",f+" Z").utc():z(a&&!Ka.exec(a)?a+"+0000":a).utc()};z.unix=function(a){return z(1E3*a)};z.duration=function(f,b){var k=z.isDuration(f),g="number"===typeof f,k=k?f._data:g?{}:f;g&&(b?k[b]=f:k.milliseconds=f);return new a(k)};z.humanizeDuration=function(a,
f,b){return z.duration(a,!0===f?null:f).humanize(!0===f?!0:b)};z.version="1.6.2";z.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";z.lang=function(a,f){var b,k=[];if(!a)return O;if(f){for(b=0;12>b;b++)k[b]=RegExp("^"+f.months[b]+"|^"+f.monthsShort[b].replace(".",""),"i");f.monthsParse=f.monthsParse||k;A[a]=f}if(A[a]){for(b=0;b<U.length;b++)z[U[b]]=A[a][U[b]]||A.en[U[b]];O=a}else Q&&(b=require("./lang/"+a),z.lang(a,b))};z.lang("en",{months:"January February March April May June July August September October November December".split(" "),
monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:!1,calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",
past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var f=a%10;return 1===~~(a%100/10)?"th":1===f?"st":2===f?"nd":3===f?"rd":"th"}});z.isMoment=function(a){return a instanceof g};z.isDuration=function(f){return f instanceof a};z.fn=g.prototype={clone:function(){return z(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1E3)},toString:function(){return this._d.toString()},
toDate:function(){return this._d},utc:function(){this._isUTC=!0;return this},local:function(){this._isUTC=!1;return this},format:function(a){return r(this,a?a:z.defaultFormat)},add:function(a,f){var b=f?z.duration(+f,a):z.duration(a);k(this,b,1);return this},subtract:function(a,f){var b=f?z.duration(+f,a):z.duration(a);k(this,b,-1);return this},diff:function(a,f,b){var a=this._isUTC?z(a).utc():z(a).local(),k=6E4*(this.zone()-a.zone()),k=this._d-a._d-k,g=this.year()-a.year(),m=this.month()-a.month(),
a=this.date()-a.date(),f="months"===f?12*g+m+a/30:"years"===f?g+(m+a/30)/12:"seconds"===f?k/1E3:"minutes"===f?k/6E4:"hours"===f?k/36E5:"days"===f?k/864E5:"weeks"===f?k/6048E5:k;return b?f:L(f)},from:function(a,f){return z.duration(this.diff(a)).humanize(!f)},fromNow:function(a){return this.from(z(),a)},calendar:function(){var a=this.diff(z().sod(),"days",!0),f=z.calendar,b=f.sameElse,a=-6>a?b:-1>a?f.lastWeek:0>a?f.lastDay:1>a?f.sameDay:2>a?f.nextDay:7>a?f.nextWeek:b;return this.format("function"===
typeof a?a.apply(this):a)},isLeapYear:function(){var a=this.year();return 0===a%4&&0!==a%100||0===a%400},isDST:function(){return this.zone()<z([this.year()]).zone()||this.zone()<z([this.year(),5]).zone()},day:function(a){var f=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==a?f:this.add({d:a-f})},sod:function(){return z(this).hours(0).minutes(0).seconds(0).milliseconds(0)},eod:function(){return this.sod().add({d:1,ms:-1})},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},
daysInMonth:function(){return z(this).month(this.month()+1).date(0).date()}};for(C=0;C<Oa.length;C++)w(Oa[C].toLowerCase(),Oa[C]);w("year","FullYear");z.duration.fn=a.prototype={weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+2592E6*this._months},humanize:function(a){var f=+this,b=z.relativeTime,k;k=!a;var g=L(Math.abs(f)/1E3),m=L(g/60),l=L(m/60),h=L(l/24),i=L(h/365),g=45>g&&["s",g]||1===m&&["m"]||45>m&&["mm",m]||1===l&&["h"]||22>l&&["hh",l]||
1===h&&["d"]||25>=h&&["dd",h]||45>=h&&["M"]||345>h&&["MM",L(h/30)]||1===i&&["y"]||["yy",i];g[2]=k;g[3]=0<f;k=v.apply({},g);a&&(k=(0>=f?b.past:b.future).replace(/%s/i,k));return k}};for(C in eb)eb.hasOwnProperty(C)&&(E(C,eb[C]),x(C.toLowerCase()));E("Weeks",6048E5);Q&&(module.exports=z);"undefined"!==typeof window&&"undefined"===typeof ender&&(window.moment=z);"function"===typeof define&&define.amd&&define("moment",[],function(){return z})})(Date);define("libs/moment/moment",function(){});
define("rtext!templates/content.tip.firstquery.html",[],function(){return"Your query is currently being run.  The time it takes to run a query can vary significantly. You may continue working in Labcoat in a new tab  and return to the current tab later or you can abort the current query by running another one."});define("rtext!templates/toolbar.status.html",[],function(){return'<div class="pg-toolbar-actions pg-tabs-container">\r\n    <button class="pg-editor-settings-trigger ui-button ui-widget ui-state-default ui-corner-all ui-button-text-icon-secondary" role="button" aria-disabled="false">\r\n        <span class="ui-button-text">tab size: <span class="pg-tab-size"></span></span>\r\n        <span class="ui-button-icon-secondary ui-icon ui-icon-triangle-1-n"></span>\r\n    </button>\r\n    |\r\n    line: <span class="pg-line">1</span>,\r\n    column: <span class="pg-column">1</span>\r\n    |\r\n    words: <span class="pg-words">0</span>,\r\n    characters: <span class="pg-characters">0</span>\r\n</div>\r\n<div class="pg-toolbar-context">\r\n    <div class="pg-container pg-progressbar"></div>\r\n    <div class="pg-container pg-execution-time"></div>\r\n</div>'});
define("rtext!templates/menu.editor.status.html",[],function(){return'<div class="pg-el pg-menu-editor-status">\r\n    <ul>\r\n        <li class="pg-change-orientation"><a href="#">change orientation</a></li>\r\n        <li class="pg-soft-tabs"><a href="#">indent using spaces</a></li>\r\n        <li data-tab-size="1" class="pg-tab-size-option"><a href="#">tab size: 1</a></li>\r\n        <li data-tab-size="2" class="pg-tab-size-option"><a href="#">tab size: 2</a></li>\r\n        <li data-tab-size="3" class="pg-tab-size-option"><a href="#">tab size: 3</a></li>\r\n        <li data-tab-size="4" class="pg-tab-size-option"><a href="#">tab size: 4</a></li>\r\n        <li data-tab-size="5" class="pg-tab-size-option"><a href="#">tab size: 5</a></li>\r\n        <li data-tab-size="6" class="pg-tab-size-option"><a href="#">tab size: 6</a></li>\r\n        <li data-tab-size="7" class="pg-tab-size-option"><a href="#">tab size: 7</a></li>\r\n        <li data-tab-size="8" class="pg-tab-size-option k-last"><a href="#">tab size: 8</a></li>\r\n    </ul>\r\n</div>'});
define("app/bar-status","app/util/ui app/util/storage app/util/notification rtext!templates/content.tip.firstquery.html rtext!templates/toolbar.status.html rtext!templates/menu.editor.status.html".split(" "),function(b,i,g,h,a,f){var k=i("pg-quirrel-query-tips",{firstquery:!0});return function(m,l,i){function p(){var a=""+l.getTabSize();m.find(".pg-tab-size").text(a);v.find(".pg-tab-size-option").each(function(){$(this).attr("data-tab-size")===a?$(this).addClass("ui-state-active"):$(this).removeClass("ui-state-active")})}
function t(){var a=l.getUseSoftTabs();v.find(".pg-soft-tabs").each(function(){a?$(this).addClass("ui-state-active"):$(this).removeClass("ui-state-active")})}m.append(a);var v=b.contextmenu(f),w;m.find(".pg-editor-settings-trigger").click(function(){if(v.is(":visible"))v.hide();else{var a=$(this).offset();v.css({position:"absolute",top:a.top-v.outerHeight()+"px",left:a.left+"px"}).show()}});v.find(".pg-tab-size-option").click(function(){l.setTabSize(parseInt($(this).attr("data-tab-size")))});v.find(".pg-soft-tabs").click(function(){l.setUseSoftTabs(!l.getUseSoftTabs())});
v.find(".pg-change-orientation").click(function(){i.setIoVertical(!i.isIoVertical())});$(l).on("tabSizeChanged",p);$(l).on("useSoftTabsChanged",t);$(l).on("change",function(a,f){m.find(".pg-words").text(f.split(/\b[a-z0-9]+?\b/gi).length-1);m.find(".pg-characters").text(f.length)});$(l).on("changeCursor",function(a,f){m.find(".pg-line").text(f.row+1);m.find(".pg-column").text(f.column+1)});p();t();var x=b.progressbar(m.find(".pg-progressbar"));x.hide();var E=m.find(".pg-execution-time");E.hide();
var z=0,L={startTime:null,killProgress:null,lastExecution:2E3,start:function(){z++;clearInterval(L.killProgress);L.startTime=(new Date).getTime();L.update();L.killProgress=setInterval(function(){L.update()},50);E.hide();x.show();!w&&k.get("firstquery",!0)&&(w=g.tip("your first query!",{target:x,voffset:-140,text:h,after_close:function(){k.set("firstquery",!1);w.remove();w=null}}))},update:function(){var a=(new Date).getTime()-L.startTime,a=parseInt(1E3*(a/L.lastExecution))/10;100<a?a=100:0>a&&(a=
0);x.progressbar("value",a)},end:function(a){a&&(L.lastExecution=(new Date).getTime()-L.startTime,E.html("query time "+L.lastExecution+" ms"));z--;0<z||(x.hide(),E.show(),clearInterval(L.killProgress))}};return{startRequest:function(){L.start()},endRequest:function(a){L.end(a)}}}});
define("app/config/themes",[],function(){return[{token:"gray",name:"gray",ui:"gray",group:"light",editor:{ace:"tomorrow"}},{token:"blue",name:"blue",ui:"blue",group:"light",editor:{ace:"idle_fingers"}},{token:"dark",name:"dark",ui:"dark",group:"dark",editor:{ace:"solarized_dark"}},{token:"black",name:"black",ui:"black",group:"dark",editor:{ace:"merbivore"}}]});
define("app/theme",["app/config/themes"],function(b){var i={},g={};$.each(b,function(){i[this.token]=this;g[this.group]=g[this.group]||{};g[this.group][this.token]=this});var h={current:null,set:function(a){if(this.current!==a){this.current=a;$(h).trigger("change",a);var f=function(){$(h).trigger("changed",a)},b="css/jquery/ui/"+i[a].ui+"/jquery-ui.css",g=$('<link href="'+b+'" type="text/css" rel="Stylesheet" class="ui-theme" />');if($.browser.safari){var l=function(){try{for(var a=document.styleSheets,
g=0,m=a.length;g<m;g++)a[g].href==b&&a[g].cssRules;setTimeout(f,0)}catch(h){setTimeout(l,50)}};l()}else g.on("load",f);$("head").append(g);3<$("link.ui-theme").size()&&$("link.ui-theme:first").remove()}},list:function(){return b},map:function(){return i},groups:function(){return g},getEditorTheme:function(a,f){return i[a].editor[f]}};return h});
define("ace/lib/regexp",["require","exports","module"],function(){var b=RegExp.prototype.exec,i=RegExp.prototype.test,g=String.prototype.replace,h=void 0===b.call(/()??/,"")[1],a,f=/^/g;i.call(f,"");a=!f.lastIndex;if(!a||!h)RegExp.prototype.exec=function(f){var m=b.apply(this,arguments),l;if("string"==typeof f&&m){if(l=!h)if(l=1<m.length){a:if(l=m,Array.prototype.indexOf)l=l.indexOf("",void 0);else{for(var i=0;i<l.length;i++)if(""===l[i]){l=i;break a}l=-1}l=-1<l}l&&(l=RegExp(this.source,g.call((this.global?
"g":"")+(this.ignoreCase?"i":"")+(this.multiline?"m":"")+(this.extended?"x":"")+(this.sticky?"y":""),"g","")),g.call(f.slice(m.index),l,function(){for(var a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(m[a]=void 0)}));if(this._xregexp&&this._xregexp.captureNames)for(i=1;i<m.length;i++)(l=this._xregexp.captureNames[i-1])&&(m[l]=m[i]);!a&&(this.global&&!m[0].length&&this.lastIndex>m.index)&&this.lastIndex--}return m},a||(RegExp.prototype.test=function(a){(a=b.call(this,a))&&(this.global&&!a[0].length&&
this.lastIndex>a.index)&&this.lastIndex--;return!!a})});
define("ace/lib/es5-shim",["require","exports","module"],function(){function b(a){try{return Object.defineProperty(a,"sentinel",{}),"sentinel"in a}catch(f){}}Function.prototype.bind||(Function.prototype.bind=function(a){var f=this;if("function"!=typeof f)throw new TypeError;var b=h.call(arguments,1),k=function(){if(this instanceof k){var g=function(){};g.prototype=f.prototype;var g=new g,m=f.apply(g,b.concat(h.call(arguments)));return null!==m&&Object(m)===m?m:g}return f.apply(a,b.concat(h.call(arguments)))};
return k});var i=Function.prototype.call,g=Object.prototype,h=Array.prototype.slice,a=i.bind(g.toString),f=i.bind(g.hasOwnProperty),k,m,l,r,p;if(p=f(g,"__defineGetter__"))k=i.bind(g.__defineGetter__),m=i.bind(g.__defineSetter__),l=i.bind(g.__lookupGetter__),r=i.bind(g.__lookupSetter__);Array.isArray||(Array.isArray=function(f){return"[object Array]"==a(f)});Array.prototype.forEach||(Array.prototype.forEach=function(f,b){var k=ra(this),g=0,m=k.length>>>0;if("[object Function]"!=a(f))throw new TypeError;
for(;g<m;)g in k&&f.call(b,k[g],g,k),g++});Array.prototype.map||(Array.prototype.map=function(f,b){var k=ra(this),g=k.length>>>0,m=Array(g);if("[object Function]"!=a(f))throw new TypeError;for(var l=0;l<g;l++)l in k&&(m[l]=f.call(b,k[l],l,k));return m});Array.prototype.filter||(Array.prototype.filter=function(f,b){var k=ra(this),g=k.length>>>0,m=[];if("[object Function]"!=a(f))throw new TypeError;for(var l=0;l<g;l++)l in k&&f.call(b,k[l],l,k)&&m.push(k[l]);return m});Array.prototype.every||(Array.prototype.every=
function(f,b){var k=ra(this),g=k.length>>>0;if("[object Function]"!=a(f))throw new TypeError;for(var m=0;m<g;m++)if(m in k&&!f.call(b,k[m],m,k))return!1;return!0});Array.prototype.some||(Array.prototype.some=function(f,b){var k=ra(this),g=k.length>>>0;if("[object Function]"!=a(f))throw new TypeError;for(var m=0;m<g;m++)if(m in k&&f.call(b,k[m],m,k))return!0;return!1});Array.prototype.reduce||(Array.prototype.reduce=function(f){var b=ra(this),k=b.length>>>0;if("[object Function]"!=a(f))throw new TypeError;
if(!k&&1==arguments.length)throw new TypeError;var g=0,m;if(2<=arguments.length)m=arguments[1];else{do{if(g in b){m=b[g++];break}if(++g>=k)throw new TypeError;}while(1)}for(;g<k;g++)g in b&&(m=f.call(void 0,m,b[g],g,b));return m});Array.prototype.reduceRight||(Array.prototype.reduceRight=function(f){var b=ra(this),k=b.length>>>0;if("[object Function]"!=a(f))throw new TypeError;if(!k&&1==arguments.length)throw new TypeError;var g,k=k-1;if(2<=arguments.length)g=arguments[1];else{do{if(k in b){g=b[k--];
break}if(0>--k)throw new TypeError;}while(1)}do k in this&&(g=f.call(void 0,g,b[k],k,b));while(k--);return g});Array.prototype.indexOf||(Array.prototype.indexOf=function(a){var f=ra(this),b=f.length>>>0;if(!b)return-1;var k=0;1<arguments.length&&(k=ta(arguments[1]));for(k=0<=k?k:Math.max(0,b+k);k<b;k++)if(k in f&&f[k]===a)return k;return-1});Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){var f=ra(this),b=f.length>>>0;if(!b)return-1;var k=b-1;1<arguments.length&&(k=Math.min(k,
ta(arguments[1])));for(k=0<=k?k:b-Math.abs(k);0<=k;k--)if(k in f&&a===f[k])return k;return-1});Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__||(a.constructor?a.constructor.prototype:g)});Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(a,b){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+a);if(f(a,b)){var k,m,h;k={enumerable:!0,configurable:!0};if(p){var i=a.__proto__;
a.__proto__=g;m=l(a,b);h=r(a,b);a.__proto__=i;if(m||h)return m&&(k.get=m),h&&(k.set=h),k}k.value=a[b];return k}});Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(a){return Object.keys(a)});Object.create||(Object.create=function(a,f){var b;if(null===a)b={__proto__:null};else{if("object"!=typeof a)throw new TypeError("typeof prototype["+typeof a+"] != 'object'");b=function(){};b.prototype=a;b=new b;b.__proto__=a}void 0!==f&&Object.defineProperties(b,f);return b});if(Object.defineProperty){var i=
b({}),t="undefined"==typeof document||b(document.createElement("div"));if(!i||!t)var v=Object.defineProperty}if(!Object.defineProperty||v)Object.defineProperty=function(a,b,h){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.defineProperty called on non-object: "+a);if("object"!=typeof h&&"function"!=typeof h||null===h)throw new TypeError("Property description must be an object: "+h);if(v)try{return v.call(Object,a,b,h)}catch(i){}if(f(h,"value"))if(p&&(l(a,b)||r(a,
b))){var C=a.__proto__;a.__proto__=g;delete a[b];a[b]=h.value;a.__proto__=C}else a[b]=h.value;else{if(!p)throw new TypeError("getters & setters can not be defined on this javascript engine");f(h,"get")&&k(a,b,h.get);f(h,"set")&&m(a,b,h.set)}return a};Object.defineProperties||(Object.defineProperties=function(a,b){for(var k in b)f(b,k)&&Object.defineProperty(a,k,b[k]);return a});Object.seal||(Object.seal=function(a){return a});Object.freeze||(Object.freeze=function(a){return a});try{Object.freeze(function(){})}catch(w){var x=
Object.freeze;Object.freeze=function(a){return"function"==typeof a?a:x(a)}}Object.preventExtensions||(Object.preventExtensions=function(a){return a});Object.isSealed||(Object.isSealed=function(){return!1});Object.isFrozen||(Object.isFrozen=function(){return!1});Object.isExtensible||(Object.isExtensible=function(a){if(Object(a)===a)throw new TypeError;for(var b="";f(a,b);)b+="?";a[b]=!0;var k=f(a,b);delete a[b];return k});if(!Object.keys){var E=!0,z="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),
L=z.length,C;for(C in{toString:null})E=!1;Object.keys=function(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on a non-object");var b=[],k;for(k in a)f(a,k)&&b.push(k);if(E)for(k=0;k<L;k++){var g=z[k];f(a,g)&&b.push(g)}return b}}if(!Date.prototype.toISOString||-1===(new Date(-621987552E5)).toISOString().indexOf("-000001"))Date.prototype.toISOString=function(){var a,f,b,k;if(!isFinite(this))throw new RangeError;a=[this.getUTCMonth()+1,this.getUTCDate(),
this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()];k=this.getUTCFullYear();k=(0>k?"-":9999<k?"+":"")+("00000"+Math.abs(k)).slice(0<=k&&9999>=k?-4:-6);for(f=a.length;f--;)b=a[f],10>b&&(a[f]="0"+b);return k+"-"+a.slice(0,2).join("-")+"T"+a.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"};Date.now||(Date.now=function(){return(new Date).getTime()});Date.prototype.toJSON||(Date.prototype.toJSON=function(){if("function"!=typeof this.toISOString)throw new TypeError;return this.toISOString()});
if(864E13!==Date.parse("+275760-09-13T00:00:00.000Z")){var A=Date;C=function Fa(a,f,b,k,g,m,l){var h=arguments.length;return this instanceof A?(h=1==h&&String(a)===a?new A(Fa.parse(a)):7<=h?new A(a,f,b,k,g,m,l):6<=h?new A(a,f,b,k,g,m):5<=h?new A(a,f,b,k,g):4<=h?new A(a,f,b,k):3<=h?new A(a,f,b):2<=h?new A(a,f):1<=h?new A(a):new A,h.constructor=Fa,h):A.apply(this,arguments)};var O=RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),
Q;for(Q in A)C[Q]=A[Q];C.now=A.now;C.UTC=A.UTC;C.prototype=A.prototype;C.prototype.constructor=C;C.parse=function(a){var f=O.exec(a);if(f){f.shift();for(var b=1;7>b;b++)f[b]=+(f[b]||(3>b?1:0)),1==b&&f[b]--;var k=+f.pop(),g=+f.pop(),m=f.pop(),b=0;if(m){if(23<g||59<k)return NaN;b=6E4*(60*g+k)*("+"==m?-1:1)}k=+f[0];return 0<=k&&99>=k?(f[0]=k+400,A.UTC.apply(this,f)+b-126227808E5):A.UTC.apply(this,f)+b}return A.parse.apply(this,arguments)};Date=C}Q="\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";
if(!String.prototype.trim||Q.trim()){Q="["+Q+"]";var U=RegExp("^"+Q+Q+"*"),sa=RegExp(Q+Q+"*$");String.prototype.trim=function(){return String(this).replace(U,"").replace(sa,"")}}var ta=function(a){a=+a;a!==a?a=0:0!==a&&(a!==1/0&&a!==-(1/0))&&(a=(0<a||-1)*Math.floor(Math.abs(a)));return a},ca="a"!="a"[0],ra=function(a){if(null==a)throw new TypeError;return ca&&"string"==typeof a&&a?a.split(""):Object(a)}});
define("ace/lib/fixoldbrowsers",["require","exports","module","./regexp","./es5-shim"],function(b){b("./regexp");b("./es5-shim")});
define("ace/lib/dom",["require","exports","module"],function(b,i){i.createElement=function(b,h){return document.createElementNS?document.createElementNS(h||"http://www.w3.org/1999/xhtml",b):document.createElement(b)};i.setText=function(b,h){void 0!==b.innerText&&(b.innerText=h);void 0!==b.textContent&&(b.textContent=h)};i.hasCssClass=function(b,h){return-1!==b.className.split(/\s+/g).indexOf(h)};i.addCssClass=function(b,h){i.hasCssClass(b,h)||(b.className+=" "+h)};i.removeCssClass=function(b,h){for(var a=
b.className.split(/\s+/g);;){var f=a.indexOf(h);if(-1==f)break;a.splice(f,1)}b.className=a.join(" ")};i.toggleCssClass=function(b,h){for(var a=b.className.split(/\s+/g),f=!0;;){var k=a.indexOf(h);if(-1==k)break;f=!1;a.splice(k,1)}f&&a.push(h);b.className=a.join(" ");return f};i.setCssClass=function(b,h,a){a?i.addCssClass(b,h):i.removeCssClass(b,h)};i.hasCssString=function(b,h){var a=0,f,h=h||document;if(h.createStyleSheet&&(f=h.styleSheets))for(;a<f.length;){if(f[a++].owningElement.id===b)return!0}else if(f=
h.getElementsByTagName("style"))for(;a<f.length;)if(f[a++].id===b)return!0;return!1};i.importCssString=function(b,h,a){a=a||document;if(h&&i.hasCssString(h,a))return null;var f;a.createStyleSheet?(f=a.createStyleSheet(),f.cssText=b,h&&(f.owningElement.id=h)):(f=a.createElementNS?a.createElementNS("http://www.w3.org/1999/xhtml","style"):a.createElement("style"),f.appendChild(a.createTextNode(b)),h&&(f.id=h),(a.getElementsByTagName("head")[0]||a.documentElement).appendChild(f))};i.importCssStylsheet=
function(b,h){if(h.createStyleSheet)h.createStyleSheet(b);else{var a=i.createElement("link");a.rel="stylesheet";a.href=b;(h.getElementsByTagName("head")[0]||h.documentElement).appendChild(a)}};i.getInnerWidth=function(b){return parseInt(i.computedStyle(b,"paddingLeft"),10)+parseInt(i.computedStyle(b,"paddingRight"),10)+b.clientWidth};i.getInnerHeight=function(b){return parseInt(i.computedStyle(b,"paddingTop"),10)+parseInt(i.computedStyle(b,"paddingBottom"),10)+b.clientHeight};void 0!==window.pageYOffset?
(i.getPageScrollTop=function(){return window.pageYOffset},i.getPageScrollLeft=function(){return window.pageXOffset}):(i.getPageScrollTop=function(){return document.body.scrollTop},i.getPageScrollLeft=function(){return document.body.scrollLeft});i.computedStyle=window.getComputedStyle?function(b,h){return h?(window.getComputedStyle(b,"")||{})[h]||"":window.getComputedStyle(b,"")||{}}:function(b,h){return h?b.currentStyle[h]:b.currentStyle};i.scrollbarWidth=function(b){var h=i.createElement("p");h.style.width=
"100%";h.style.minWidth="0px";h.style.height="200px";var a=i.createElement("div"),f=a.style;f.position="absolute";f.left="-10000px";f.overflow="hidden";f.width="200px";f.minWidth="0px";f.height="150px";a.appendChild(h);b=b.body||b.documentElement;b.appendChild(a);var k=h.offsetWidth;f.overflow="scroll";h=h.offsetWidth;k==h&&(h=a.clientWidth);b.removeChild(a);return k-h};i.setInnerHtml=function(b,h){var a=b.cloneNode(!1);a.innerHTML=h;b.parentNode.replaceChild(a,b);return a};i.setInnerText=function(b,
h){var a=b.ownerDocument;a.body&&"textContent"in a.body?b.textContent=h:b.innerText=h};i.getInnerText=function(b){var h=b.ownerDocument;return h.body&&"textContent"in h.body?b.textContent:b.innerText||b.textContent||""};i.getParentWindow=function(b){return b.defaultView||b.parentWindow}});
define("ace/lib/oop",["require","exports","module"],function(b,i){var g=function(){};i.inherits=function(b,a){g.prototype=a.prototype;b.super_=a.prototype;b.prototype=new g;b.prototype.constructor=b};i.mixin=function(b,a){for(var f in a)b[f]=a[f]};i.implement=function(b,a){i.mixin(b,a)}});
define("ace/lib/keys",["require","exports","module","./oop"],function(b,i){var g=b("./oop"),h={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,meta:8,command:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",
103:"Numpad7",104:"Numpad8",105:"Numpad9",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",188:",",
190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}},a;for(a in h.FUNCTION_KEYS){var f=h.FUNCTION_KEYS[a].toUpperCase();h[f]=parseInt(a,10)}g.mixin(h,h.MODIFIER_KEYS);g.mixin(h,h.PRINTABLE_KEYS);g.mixin(h,h.FUNCTION_KEYS);g.mixin(i,h);i.keyCodeToString=function(a){return(h[a]||String.fromCharCode(a)).toLowerCase()}});
define("ace/lib/useragent",["require","exports","module"],function(b,i){var g=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),h=navigator.userAgent;i.isWin="win"==g;i.isMac="mac"==g;i.isLinux="linux"==g;i.isIE="Microsoft Internet Explorer"==navigator.appName&&parseFloat(navigator.userAgent.match(/MSIE ([0-9]+[\.0-9]+)/)[1]);i.isOldIE=i.isIE&&9>i.isIE;i.isGecko=i.isMozilla=window.controllers&&"Gecko"===window.navigator.product;i.isOldGecko=i.isGecko&&4>parseInt((navigator.userAgent.match(/rv\:(\d+)/)||
[])[1],10);i.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera);i.isWebKit=parseFloat(h.split("WebKit/")[1])||void 0;i.isChrome=parseFloat(h.split(" Chrome/")[1])||void 0;i.isAIR=0<=h.indexOf("AdobeAIR");i.isIPad=0<=h.indexOf("iPad");i.isTouchPad=0<=h.indexOf("TouchPad");i.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"};i.getOS=function(){return i.isMac?i.OS.MAC:i.isLinux?i.OS.LINUX:i.OS.WINDOWS}});
define("ace/lib/event","require exports module ./keys ./useragent ./dom".split(" "),function(b,i){function g(f,b,g){var l=0,l=a.isOpera&&!("KeyboardEvent"in window)&&a.isMac?0|(b.metaKey?1:0)|(b.altKey?2:0)|(b.shiftKey?4:0)|(b.ctrlKey?8:0):0|(b.ctrlKey?1:0)|(b.altKey?2:0)|(b.shiftKey?4:0)|(b.metaKey?8:0);if(g in h.MODIFIER_KEYS){switch(h.MODIFIER_KEYS[g]){case "Alt":l=2;break;case "Shift":l=4;break;case "Ctrl":l=1;break;default:l=8}g=0}if(l&8&&(91==g||93==g))g=0;return!l&&!(g in h.FUNCTION_KEYS)&&
!(g in h.PRINTABLE_KEYS)?!1:f(b,l,g)}var h=b("./keys"),a=b("./useragent");b("./dom");i.addListener=function(a,b,g){if(a.addEventListener)return a.addEventListener(b,g,!1);if(a.attachEvent){var l=function(){g(window.event)};g._wrapper=l;a.attachEvent("on"+b,l)}};i.removeListener=function(a,b,g){if(a.removeEventListener)return a.removeEventListener(b,g,!1);a.detachEvent&&a.detachEvent("on"+b,g._wrapper||g)};i.stopEvent=function(a){i.stopPropagation(a);i.preventDefault(a);return!1};i.stopPropagation=
function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0};i.preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};i.getButton=function(f){return"dblclick"==f.type?0:"contextmenu"==f.type||f.ctrlKey&&a.isMac?2:f.preventDefault?f.button:{1:0,2:2,4:1}[f.button]};i.capture=document.documentElement.setCapture?function(a,b,g){function l(p){b(p);h||(h=!0,g(p));i.removeListener(a,"mousemove",b);i.removeListener(a,"mouseup",l);i.removeListener(a,"losecapture",l);a.releaseCapture()}
var h=!1;i.addListener(a,"mousemove",b);i.addListener(a,"mouseup",l);i.addListener(a,"losecapture",l);a.setCapture()}:function(a,b,g){function l(a){b(a);a.stopPropagation()}function h(a){b&&b(a);g&&g(a);document.removeEventListener("mousemove",l,!0);document.removeEventListener("mouseup",h,!0);a.stopPropagation()}document.addEventListener("mousemove",l,!0);document.addEventListener("mouseup",h,!0)};i.addMouseWheelListener=function(a,b){var g=function(a){void 0!==a.wheelDelta?void 0!==a.wheelDeltaX?
(a.wheelX=-a.wheelDeltaX/8,a.wheelY=-a.wheelDeltaY/8):(a.wheelX=0,a.wheelY=-a.wheelDelta/8):a.axis&&a.axis==a.HORIZONTAL_AXIS?(a.wheelX=5*(a.detail||0),a.wheelY=0):(a.wheelX=0,a.wheelY=5*(a.detail||0));b(a)};i.addListener(a,"DOMMouseScroll",g);i.addListener(a,"mousewheel",g)};i.addMultiMouseDownListener=function(f,b,g,l){var h=0,p,t,v,w={2:"dblclick",3:"tripleclick",4:"quadclick"},x=function(a){if(0!=i.getButton(a))h=0;else{var f=5<Math.abs(a.clientX-p)||5<Math.abs(a.clientY-t);if(!v||f)h=0;h+=1;
v&&clearTimeout(v);v=setTimeout(function(){v=null},b[h-1]||600)}1==h&&(p=a.clientX,t=a.clientY);g[l]("mousedown",a);if(4<h)h=0;else if(1<h)return g[l](w[h],a)};i.addListener(f,"mousedown",x);a.isOldIE&&i.addListener(f,"dblclick",x)};i.addCommandKeyListener=function(f,b){var m=i.addListener;if(a.isOldGecko||a.isOpera&&!("KeyboardEvent"in window)){var l=null;m(f,"keydown",function(a){l=a.keyCode});m(f,"keypress",function(a){return g(b,a,l)})}else m(f,"keydown",function(a){return g(b,a,a.keyCode)})};
i.nextTick=window.postMessage?function(a,b){b=b||window;i.addListener(b,"message",function l(g){"zero-timeout-message-1"==g.data&&(i.stopPropagation(g),i.removeListener(b,"message",l),a())});b.postMessage("zero-timeout-message-1","*")}:function(a){window.setTimeout(a,0)}});
define("ace/lib/lang",["require","exports","module"],function(b,i){i.stringReverse=function(a){return a.split("").reverse().join("")};i.stringRepeat=function(a,f){return Array(f+1).join(a)};var g=/^\s\s*/,h=/\s\s*$/;i.stringTrimLeft=function(a){return a.replace(g,"")};i.stringTrimRight=function(a){return a.replace(h,"")};i.copyObject=function(a){var f={},b;for(b in a)f[b]=a[b];return f};i.copyArray=function(a){for(var f=[],b=0,g=a.length;b<g;b++)f[b]=a[b]&&"object"==typeof a[b]?this.copyObject(a[b]):
a[b];return f};i.deepCopy=function(a){if("object"!=typeof a)return a;var f=a.constructor(),b;for(b in a)f[b]="object"==typeof a[b]?this.deepCopy(a[b]):a[b];return f};i.arrayToMap=function(a){for(var f={},b=0;b<a.length;b++)f[a[b]]=1;return f};i.arrayRemove=function(a,f){for(var b=0;b<=a.length;b++)f===a[b]&&a.splice(b,1)};i.escapeRegExp=function(a){return a.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};i.getMatchOffsets=function(a,f){var b=[];a.replace(f,function(a){b.push({offset:arguments[arguments.length-
2],length:a.length})});return b};i.deferredCall=function(a){var f=null,b=function(){f=null;a()},g=function(a){g.cancel();f=setTimeout(b,a||0);return g};g.schedule=g;g.call=function(){this.cancel();a();return g};g.cancel=function(){clearTimeout(f);f=null;return g};return g}});
define("ace/keyboard/textinput","require exports module ../lib/event ../lib/useragent ../lib/dom".split(" "),function(b,i){var g=b("../lib/event"),h=b("../lib/useragent"),a=b("../lib/dom");i.TextInput=function(f,b){function m(a){try{a?(p.value=t,p.selectionStart=0,p.selectionEnd=1):p.select()}catch(f){}}function l(a){if(!w&&(a=a||p.value))if(1<a.length&&(a.charAt(0)==t?a=a.substr(1):a.charAt(a.length-1)==t&&(a=a.slice(0,-1))),a&&a!=t)if(x)b.onPaste(a);else b.onTextInput(a);x=w=!1;m(!0)}function i(){setTimeout(function(){E&&
(p.style.cssText=E,E="");l();null==b.renderer.$keepTextAreaAtCursor&&(b.renderer.$keepTextAreaAtCursor=!0,b.renderer.$moveTextAreaToCursor())},0)}var p=a.createElement("textarea");h.isTouchPad&&p.setAttribute("x-palm-disable-auto-cap",!0);p.setAttribute("wrap","off");p.style.top="-2em";f.insertBefore(p,f.firstChild);var t="\u0001";l();var v=!1,w=!1,x=!1,E="",z=function(a){v||l(a.data);setTimeout(function(){v||m(!0)},0)},L=function(){setTimeout(function(){v||l()},0)},C=function(){if(v)b.onCompositionUpdate(p.value)},
A=function(a){w=!0;var f=b.getCopyText();f?p.value=f:a.preventDefault();m();setTimeout(function(){l()},0)},O=function(a){w=!0;var f=b.getCopyText();f?(p.value=f,b.onCut()):a.preventDefault();m();setTimeout(function(){l()},0)};g.addCommandKeyListener(p,b.onCommandKey.bind(b));g.addListener(p,"input",h.isIE?L:z);g.addListener(p,"paste",function(a){x=!0;a.clipboardData&&a.clipboardData.getData?(l(a.clipboardData.getData("text/plain")),a.preventDefault()):L()});"onbeforecopy"in p&&"undefined"!==typeof clipboardData?
(g.addListener(p,"beforecopy",function(a){if(!E){var f=b.getCopyText();f?clipboardData.setData("Text",f):a.preventDefault()}}),g.addListener(f,"keydown",function(a){if(a.ctrlKey&&88==a.keyCode){var f=b.getCopyText();f&&(clipboardData.setData("Text",f),b.onCut());g.preventDefault(a)}}),g.addListener(p,"cut",O)):h.isOpera?g.addListener(f,"keydown",function(a){if((!h.isMac||a.metaKey)&&a.ctrlKey&&(88==a.keyCode||67==a.keyCode)){var f=b.getCopyText();if(f&&(p.value=f,p.select(),88==a.keyCode))b.onCut()}}):
(g.addListener(p,"copy",A),g.addListener(p,"cut",O));g.addListener(p,"compositionstart",function(){v=!0;b.onCompositionStart();setTimeout(C,0)});h.isGecko&&g.addListener(p,"text",C);h.isWebKit&&g.addListener(p,"keyup",C);g.addListener(p,"compositionend",function(){v=!1;b.onCompositionEnd()});g.addListener(p,"blur",function(){b.onBlur()});g.addListener(p,"focus",function(){b.onFocus();m()});this.focus=function(){m();p.focus()};this.blur=function(){p.blur()};this.isFocused=function(){return document.activeElement===
p};this.getElement=function(){return p};this.onContextMenu=function(a){E||(E=p.style.cssText);p.style.cssText="position:fixed; z-index:100000;left:"+(a.clientX-2)+"px; top:"+(a.clientY-2)+"px;";b.selection.isEmpty()&&(p.value="");"mousedown"==a.type&&(b.renderer.$keepTextAreaAtCursor&&(b.renderer.$keepTextAreaAtCursor=null),h.isGecko&&h.isWin&&g.capture(b.container,function(a){p.style.left=a.clientX-2+"px";p.style.top=a.clientY-2+"px"},i))};this.onContextMenuClose=i;h.isGecko||g.addListener(p,"contextmenu",
function(a){b.textInput.onContextMenu(a);i()})}});
define("ace/mouse/default_handlers",["require","exports","module","../lib/dom","../lib/useragent"],function(b,i){function g(a){a.$clickSelection=null;var b=a.editor;b.setDefaultHandler("mousedown",this.onMouseDown.bind(a));b.setDefaultHandler("dblclick",this.onDoubleClick.bind(a));b.setDefaultHandler("tripleclick",this.onTripleClick.bind(a));b.setDefaultHandler("quadclick",this.onQuadClick.bind(a));b.setDefaultHandler("mousewheel",this.onScroll.bind(a));"select startSelect drag dragEnd dragWait dragWaitEnd startDrag focusWait".split(" ").forEach(function(b){a[b]=
this[b]},this);a.selectByLines=this.extendSelectionBy.bind(a,"getLineRange");a.selectByWords=this.extendSelectionBy.bind(a,"getWordRange");a.$focusWaitTimout=250}function h(a,b){return 0>(a.start.row==a.end.row?2*b.column-a.start.column-a.end.column:2*b.row-a.start.row-a.end.row)?{cursor:a.start,anchor:a.end}:{cursor:a.end,anchor:a.start}}var a=b("../lib/dom");b("../lib/useragent");(function(){this.onMouseDown=function(a){var b=a.inSelection(),g=a.getDocumentPosition();this.mousedownEvent=a;var l=
this.editor;if(0!==a.getButton())l.getSelectionRange().isEmpty()&&(l.moveCursorToPosition(g),l.selection.clearSelection()),l.textInput.onContextMenu(a.domEvent);else{if(b&&!l.isFocused()&&(l.focus(),this.$focusWaitTimout&&!this.$clickSelection))return this.setState("focusWait"),this.captureMouse(a),a.preventDefault();!b||this.$clickSelection||a.getShiftKey()?this.startSelect(g):b&&(this.mousedownEvent.time=(new Date).getTime(),this.setState("dragWait"));this.captureMouse(a);return a.preventDefault()}};
this.startSelect=function(a){a=a||this.editor.renderer.screenToTextCoordinates(this.x,this.y);this.mousedownEvent.getShiftKey()?this.editor.selection.selectToPosition(a):this.$clickSelection||(this.editor.moveCursorToPosition(a),this.editor.selection.clearSelection());this.setState("select")};this.select=function(){var a,b=this.editor,g=b.renderer.screenToTextCoordinates(this.x,this.y);this.$clickSelection&&(a=this.$clickSelection.comparePoint(g),-1==a?a=this.$clickSelection.end:1==a?a=this.$clickSelection.start:
(a=h(this.$clickSelection,g),g=a.cursor,a=a.anchor),b.selection.setSelectionAnchor(a.row,a.column));b.selection.selectToPosition(g);b.renderer.scrollCursorIntoView()};this.extendSelectionBy=function(a){var b,g=this.editor,l=g.renderer.screenToTextCoordinates(this.x,this.y),a=g.selection[a](l.row,l.column);if(this.$clickSelection){b=this.$clickSelection.comparePoint(a.start);var i=this.$clickSelection.comparePoint(a.end);if(-1==b&&0>=i){if(b=this.$clickSelection.end,a.end.row!=l.row||a.end.column!=
l.column)l=a.start}else if(1==i&&0<=b){if(b=this.$clickSelection.start,a.start.row!=l.row||a.start.column!=l.column)l=a.end}else-1==b&&1==i?(l=a.end,b=a.start):(a=h(this.$clickSelection,l),l=a.cursor,b=a.anchor);g.selection.setSelectionAnchor(b.row,b.column)}g.selection.selectToPosition(l);g.renderer.scrollCursorIntoView()};this.startDrag=function(){var f=this.editor;this.setState("drag");this.dragRange=f.getSelectionRange();var b=f.getSelectionStyle();this.dragSelectionMarker=f.session.addMarker(this.dragRange,
"ace_selection",b);f.clearSelection();a.addCssClass(f.container,"ace_dragging");this.$dragKeybinding||(this.$dragKeybinding={handleKeyboard:function(a,f,b){if("esc"==b)return{command:this.command}},command:{exec:function(a){a=a.$mouseHandler;a.dragCursor=null;a.dragEnd();a.startSelect()}}});f.keyBinding.addKeyboardHandler(this.$dragKeybinding)};this.focusWait=function(){var a=Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,2)),b=(new Date).getTime();(5<a||
b-this.mousedownEvent.time>this.$focusWaitTimout)&&this.startSelect()};this.dragWait=function(){var a=Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(this.y-this.mousedownEvent.y,2)),b=(new Date).getTime(),g=this.editor;5<a?this.startSelect():b-this.mousedownEvent.time>g.getDragDelay()&&this.startDrag()};this.dragWaitEnd=function(a){this.mousedownEvent.domEvent=a;this.startSelect()};this.drag=function(){var a=this.editor;this.dragCursor=a.renderer.screenToTextCoordinates(this.x,this.y);
a.moveCursorToPosition(this.dragCursor);a.renderer.scrollCursorIntoView()};this.dragEnd=function(f){var b=this.editor,g=this.dragCursor,l=this.dragRange;a.removeCssClass(b.container,"ace_dragging");b.session.removeMarker(this.dragSelectionMarker);b.keyBinding.removeKeyboardHandler(this.$dragKeybinding);if(g){b.clearSelection();if(f&&(f.ctrlKey||f.altKey)){var f=b.session,h=l;h.end=f.insert(g,f.getTextRange(l));h.start=g}else{if(l.contains(g.row,g.column))return;h=b.moveText(l,g)}h&&b.selection.setSelectionRange(h)}};
this.onDoubleClick=function(a){var a=a.getDocumentPosition(),b=this.editor,g=b.session.getBracketRange(a);g?(g.isEmpty()&&(g.start.column--,g.end.column++),this.$clickSelection=g,this.setState("select")):(this.$clickSelection=b.selection.getWordRange(a.row,a.column),this.setState("selectByWords"))};this.onTripleClick=function(a){var a=a.getDocumentPosition(),b=this.editor;this.setState("selectByLines");this.$clickSelection=b.selection.getLineRange(a.row)};this.onQuadClick=function(){var a=this.editor;
a.selectAll();this.$clickSelection=a.getSelectionRange();this.setState("null")};this.onScroll=function(a){var b=this.editor;if(b.renderer.isScrollableBy(a.wheelX*a.speed,a.wheelY*a.speed))this.$passScrollEvent=!1;else{if(this.$passScrollEvent)return;if(!this.$scrollStopTimeout){var g=this;this.$scrollStopTimeout=setTimeout(function(){g.$passScrollEvent=!0;g.$scrollStopTimeout=null},200)}}b.renderer.scrollBy(a.wheelX*a.speed,a.wheelY*a.speed);return a.preventDefault()}}).call(g.prototype);i.DefaultHandlers=
g});
define("ace/mouse/default_gutter_handler",["require","exports","module","../lib/dom"],function(b,i){var g=b("../lib/dom");i.GutterHandler=function(b){var a=b.editor;b.editor.setDefaultHandler("guttermousedown",function(f){var k=f.domEvent.target;if(-1!=k.className.indexOf("ace_gutter-cell")&&a.isFocused()){var m=parseInt(g.computedStyle(k).paddingLeft);if(!(f.x<m+k.getBoundingClientRect().left+1))return k=f.getDocumentPosition().row,m=a.session.selection,f.getShiftKey()?m.selectTo(k,0):b.$clickSelection=a.selection.getLineRange(k),
b.captureMouse(f,"selectByLines"),f.preventDefault()}})}});
define("ace/mouse/mouse_event",["require","exports","module","../lib/event","../lib/useragent"],function(b,i){var g=b("../lib/event"),h=b("../lib/useragent"),a=i.MouseEvent=function(a,b){this.domEvent=a;this.editor=b;this.x=this.clientX=a.clientX;this.y=this.clientY=a.clientY;this.$inSelection=this.$pos=null;this.defaultPrevented=this.propagationStopped=!1};(function(){this.stopPropagation=function(){g.stopPropagation(this.domEvent);this.propagationStopped=!0};this.preventDefault=function(){g.preventDefault(this.domEvent);
this.defaultPrevented=!0};this.stop=function(){this.stopPropagation();this.preventDefault()};this.getDocumentPosition=function(){return this.$pos?this.$pos:this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)};this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var a=this.editor;if(a.getReadOnly())this.$inSelection=!1;else if(a=a.getSelectionRange(),a.isEmpty())this.$inSelection=!1;else{var b=this.getDocumentPosition();this.$inSelection=a.contains(b.row,
b.column)}return this.$inSelection};this.getButton=function(){return g.getButton(this.domEvent)};this.getShiftKey=function(){return this.domEvent.shiftKey};this.getAccelKey=h.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(a.prototype)});
define("ace/mouse/dragdrop",["require","exports","module","../lib/event"],function(b,i){var g=b("../lib/event");i.DragdropHandler=function(b){var a=b.editor,f,k,m,l,i,p,t,v=0,b=a.container;g.addListener(b,"dragenter",function(b){v++;if(!f){i=a.getSelectionRange();p=a.selection.isBackwards();var k=a.getSelectionStyle();f=a.session.addMarker(i,"ace_selection",k);a.clearSelection();clearInterval(l);l=setInterval(w,20)}return g.preventDefault(b)});g.addListener(b,"dragover",function(a){k=a.clientX;m=
a.clientY;return g.preventDefault(a)});var w=function(){t=a.renderer.screenToTextCoordinates(k,m);a.moveCursorToPosition(t);a.renderer.scrollCursorIntoView()};g.addListener(b,"dragleave",function(b){v--;if(!(0<v))return console.log(b.type,v,b.target),clearInterval(l),a.session.removeMarker(f),f=null,a.selection.setSelectionRange(i,p),g.preventDefault(b)});g.addListener(b,"drop",function(b){console.log(b.type,v,b.target);v=0;clearInterval(l);a.session.removeMarker(f);f=null;i.end=a.session.insert(t,
b.dataTransfer.getData("Text"));i.start=t;a.focus();a.selection.setSelectionRange(i);return g.preventDefault(b)})}});
define("ace/mouse/mouse_handler","require exports module ../lib/event ./default_handlers ./default_gutter_handler ./mouse_event ./dragdrop".split(" "),function(b,i){var g=b("../lib/event"),h=b("./default_handlers").DefaultHandlers,a=b("./default_gutter_handler").GutterHandler,f=b("./mouse_event").MouseEvent,k=b("./dragdrop").DragdropHandler,m=function(f){this.editor=f;new h(this);new a(this);new k(this);g.addListener(f.container,"mousedown",function(a){f.focus();return g.preventDefault(a)});var b=
f.renderer.getMouseEventTarget();g.addListener(b,"click",this.onMouseEvent.bind(this,"click"));g.addListener(b,"mousemove",this.onMouseMove.bind(this,"mousemove"));g.addMultiMouseDownListener(b,[300,300,250],this,"onMouseEvent");g.addMouseWheelListener(f.container,this.onMouseWheel.bind(this,"mousewheel"));b=f.renderer.$gutter;g.addListener(b,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"));g.addListener(b,"click",this.onMouseEvent.bind(this,"gutterclick"));g.addListener(b,"dblclick",this.onMouseEvent.bind(this,
"gutterdblclick"));g.addListener(b,"mousemove",this.onMouseMove.bind(this,"gutter"))};(function(){this.$scrollSpeed=1;this.setScrollSpeed=function(a){this.$scrollSpeed=a};this.getScrollSpeed=function(){return this.$scrollSpeed};this.onMouseEvent=function(a,b){this.editor._emit(a,new f(b,this.editor))};this.$dragDelay=250;this.setDragDelay=function(a){this.$dragDelay=a};this.getDragDelay=function(){return this.$dragDelay};this.onMouseMove=function(a,b){var g=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;
g&&g.length&&this.editor._emit(a,new f(b,this.editor))};this.onMouseWheel=function(a,b){var g=new f(b,this.editor);g.speed=2*this.$scrollSpeed;g.wheelX=b.wheelX;g.wheelY=b.wheelY;this.editor._emit(a,g)};this.setState=function(a){this.state=a};this.captureMouse=function(a,f){f&&this.setState(f);this.x=a.x;this.y=a.y;var b=this.editor.renderer;b.$keepTextAreaAtCursor&&(b.$keepTextAreaAtCursor=null);var k=this;g.capture(this.editor.container,function(a){k.x=a.clientX;k.y=a.clientY},function(a){clearInterval(m);
k[k.state+"End"]&&k[k.state+"End"](a);k.$clickSelection=null;null==b.$keepTextAreaAtCursor&&(b.$keepTextAreaAtCursor=!0,b.$moveTextAreaToCursor())});var m=setInterval(function(){k[k.state]&&k[k.state]()},20)}}).call(m.prototype);i.MouseHandler=m});
define("ace/mouse/fold_handler",["require","exports","module"],function(b,i){i.FoldHandler=function(b){b.on("click",function(h){var a=h.getDocumentPosition(),f=b.session;if(a=f.getFoldAt(a.row,a.column,1))h.getAccelKey()?f.removeFold(a):f.expandFold(a),h.stop()});b.on("gutterclick",function(h){if(-1!=h.domEvent.target.className.indexOf("ace_fold-widget")){var a=h.getDocumentPosition().row;b.session.onFoldWidgetClick(a,h.domEvent);h.stop()}})}});
define("ace/keyboard/keybinding",["require","exports","module","../lib/keys","../lib/event"],function(b,i){var g=b("../lib/keys"),h=b("../lib/event"),a=function(a){this.$editor=a;this.$data={};this.$handlers=[];this.setDefaultHandler(a.commands)};(function(){this.setDefaultHandler=function(a){this.removeKeyboardHandler(this.$defaultHandler);this.$defaultHandler=a;this.addKeyboardHandler(a,0);this.$data={editor:this.$editor}};this.setKeyboardHandler=function(a){if(this.$handlers[this.$handlers.length-
1]!=a){for(;this.$handlers[1];)this.removeKeyboardHandler(this.$handlers[1]);this.addKeyboardHandler(a,1)}};this.addKeyboardHandler=function(a,b){if(a){var g=this.$handlers.indexOf(a);-1!=g&&this.$handlers.splice(g,1);void 0==b?this.$handlers.push(a):this.$handlers.splice(b,0,a);-1==g&&a.attach&&a.attach(this.$editor)}};this.removeKeyboardHandler=function(a){var b=this.$handlers.indexOf(a);if(-1==b)return!1;this.$handlers.splice(b,1);a.detach&&a.detach(this.$editor);return!0};this.getKeyboardHandler=
function(){return this.$handlers[this.$handlers.length-1]};this.$callKeyboardHandlers=function(a,b,g,l){for(var i,p=this.$handlers.length;p--&&(!(i=this.$handlers[p].handleKeyboard(this.$data,a,b,g,l))||!i.command););if(!i||!i.command)return!1;b=!1;b=this.$editor.commands;(b="null"!=i.command?b.exec(i.command,this.$editor,i.args,l):!0!=i.passEvent)&&(l&&-1!=a)&&h.stopEvent(l);return b};this.onCommandKey=function(a,b,m){var l=g.keyCodeToString(m);this.$callKeyboardHandlers(b,l,m,a)};this.onTextInput=
function(a){this.$callKeyboardHandlers(-1,a)||this.$editor.commands.exec("insertstring",this.$editor,a)}}).call(a.prototype);i.KeyBinding=a});
define("ace/range",["require","exports","module"],function(b,i){var g=function(b,a,f,g){this.start={row:b,column:a};this.end={row:f,column:g}};(function(){this.isEqual=function(b){return this.start.row==b.start.row&&this.end.row==b.end.row&&this.start.column==b.start.column&&this.end.column==b.end.column};this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"};this.contains=function(b,a){return 0==this.compare(b,a)};this.compareRange=
function(b){var a;a=b.end;b=b.start;a=this.compare(a.row,a.column);if(1==a)return a=this.compare(b.row,b.column),1==a?2:0==a?1:0;if(-1==a)return-2;a=this.compare(b.row,b.column);return-1==a?-1:1==a?42:0};this.comparePoint=function(b){return this.compare(b.row,b.column)};this.containsRange=function(b){return 0==this.comparePoint(b.start)&&0==this.comparePoint(b.end)};this.intersects=function(b){b=this.compareRange(b);return-1==b||0==b||1==b};this.isEnd=function(b,a){return this.end.row==b&&this.end.column==
a};this.isStart=function(b,a){return this.start.row==b&&this.start.column==a};this.setStart=function(b,a){"object"==typeof b?(this.start.column=b.column,this.start.row=b.row):(this.start.row=b,this.start.column=a)};this.setEnd=function(b,a){"object"==typeof b?(this.end.column=b.column,this.end.row=b.row):(this.end.row=b,this.end.column=a)};this.inside=function(b,a){return 0==this.compare(b,a)&&!this.isEnd(b,a)&&!this.isStart(b,a)?!0:!1};this.insideStart=function(b,a){return 0==this.compare(b,a)&&
!this.isEnd(b,a)?!0:!1};this.insideEnd=function(b,a){return 0==this.compare(b,a)&&!this.isStart(b,a)?!0:!1};this.compare=function(b,a){return!this.isMultiLine()&&b===this.start.row?a<this.start.column?-1:a>this.end.column?1:0:b<this.start.row?-1:b>this.end.row?1:this.start.row===b?a>=this.start.column?0:-1:this.end.row===b?a<=this.end.column?0:1:0};this.compareStart=function(b,a){return this.start.row==b&&this.start.column==a?-1:this.compare(b,a)};this.compareEnd=function(b,a){return this.end.row==
b&&this.end.column==a?1:this.compare(b,a)};this.compareInside=function(b,a){return this.end.row==b&&this.end.column==a?1:this.start.row==b&&this.start.column==a?-1:this.compare(b,a)};this.clipRows=function(b,a){if(this.end.row>a)var f={row:a+1,column:0};if(this.start.row>a)var k={row:a+1,column:0};this.start.row<b&&(k={row:b,column:0});this.end.row<b&&(f={row:b,column:0});return g.fromPoints(k||this.start,f||this.end)};this.extend=function(b,a){var f=this.compare(b,a);if(0==f)return this;if(-1==f)var k=
{row:b,column:a};else var m={row:b,column:a};return g.fromPoints(k||this.start,m||this.end)};this.isEmpty=function(){return this.start.row==this.end.row&&this.start.column==this.end.column};this.isMultiLine=function(){return this.start.row!==this.end.row};this.clone=function(){return g.fromPoints(this.start,this.end)};this.collapseRows=function(){return 0==this.end.column?new g(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new g(this.start.row,0,this.end.row,0)};this.toScreenRange=function(b){var a=
b.documentToScreenPosition(this.start),b=b.documentToScreenPosition(this.end);return new g(a.row,a.column,b.row,b.column)}}).call(g.prototype);g.fromPoints=function(b,a){return new g(b.row,b.column,a.row,a.column)};i.Range=g});
define("ace/search","require exports module ./lib/lang ./lib/oop ./range".split(" "),function(b,i){var g=b("./lib/lang"),h=b("./lib/oop"),a=b("./range").Range,f=function(){this.$options={}};(function(){this.set=function(a){h.mixin(this.$options,a);return this};this.getOptions=function(){return g.copyObject(this.$options)};this.setOptions=function(a){this.$options=a};this.find=function(f){f=this.$matchIterator(f,this.$options);if(!f)return!1;var b=null;f.forEach(function(f,g,k){f.start?b=f:(k=f.offset+
(k||0),b=new a(g,k,g,k+f.length));return!0});return b};this.findAll=function(f){var b=this.$options;if(!b.needle)return[];this.$assembleRegExp(b);if(b.range)var l=b.range,h=f.getLines(l.start.row,l.end.row);else h=f.doc.getAllLines();var f=[],i=b.re;if(b.$isMultiLine)for(var t=i.length,v=h.length-t,w=i.offset||0;w<v;w++){for(var x=0;x<i.length&&-1!=h[w+x].search(i[x]);x++);var x=h[w+x].match(i[0])[0].length,E=line.match(i[t-1])[0].length;f.push(new a(w,startLine.length-x,w+t-1,E))}else for(t=0;t<
h.length;t++){v=g.getMatchOffsets(h[t],i);for(x=0;x<v.length;x++)w=v[x],f.push(new a(t,w.offset,t,w.offset+w.length))}if(b.range){h=b=l.start.column;t=0;for(x=f.length-1;t<x&&f[t].start.column<b&&f[t].start.row==l.start.row;)t++;for(;t<x&&f[x].end.column>h&&f[x].end.row==l.end.row;)x--;return f.slice(t,x+1)}return f};this.replace=function(a,f){var b=this.$options,g=this.$assembleRegExp(b);if(b.$isMultiLine)return f;if(g){var h=g.exec(a);if(!h||h[0].length!=a.length)return null;f=a.replace(g,f);if(b.preserveCase){f=
f.split("");for(b=Math.min(a.length,a.length);b--;)g=a[b],f[b]=g&&g.toLowerCase()!=g?f[b].toUpperCase():f[b].toLowerCase();f=f.join("")}return f}};this.$matchIterator=function(f,b){var l=this.$assembleRegExp(b);if(!l)return!1;var h=this,i,t=b.backwards;if(b.$isMultiLine)var v=l.length,w=function(b,g,m){var h=b.search(l[0]);if(-1!=h){for(var r=1;r<v;r++)if(b=f.getLine(g+r),-1==b.search(l[r]))return;b=b.match(l[v-1])[0].length;g=new a(g,h,g+v-1,b);1==l.offset?(g.start.row--,g.start.column=Number.MAX_VALUE):
m&&(g.start.column+=m);if(i(g))return!0}};else w=t?function(a,f,b){for(var a=g.getMatchOffsets(a,l),k=a.length-1;0<=k;k--)if(i(a[k],f,b))return!0}:function(a,f,b){for(var a=g.getMatchOffsets(a,l),k=0;k<a.length;k++)if(i(a[k],f,b))return!0};return{forEach:function(a){i=a;h.$lineIterator(f,b).forEach(w)}}};this.$assembleRegExp=function(a){if(a.needle instanceof RegExp)return a.re=a.needle;var f=a.needle;if(!a.needle)return a.re=!1;a.regExp||(f=g.escapeRegExp(f));a.wholeWord&&(f="\\b"+f+"\\b");var b=
a.caseSensitive?"g":"gi";a.$isMultiLine=/[\n\r]/.test(f);if(a.$isMultiLine)return a.re=this.$assembleMultilineRegExp(f,b);try{var h=RegExp(f,b)}catch(i){h=!1}return a.re=h};this.$assembleMultilineRegExp=function(a,f){for(var b=a.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),g=[],h=0;h<b.length;h++)try{g.push(RegExp(b[h],f))}catch(i){return!1}""==b[0]?(g.shift(),g.offset=1):g.offset=0;return g};this.$lineIterator=function(a,f){var b=f.range,g=!0==f.backwards,h=!1!=f.skipCurrent,b=f.range,i=f.start;i||
(i=b?b[g?"end":"start"]:a.selection.getRange());i.start&&(i=i[h!=g?"end":"start"]);var v=b?b.start.row:0,w=b?b.end.row:a.getLength()-1;return{forEach:g?function(b){var g=i.row,l=a.getLine(g).substring(0,i.column);if(!b(l,g)){for(g--;g>=v;g--)if(b(a.getLine(g),g))return;if(!1!=f.wrap){g=w;for(v=i.row;g>=v&&!b(a.getLine(g),g);g--);}}}:function(b){var g=i.row,l=a.getLine(g).substr(i.column);if(!b(l,g,i.column)){for(g+=1;g<=w;g++)if(b(a.getLine(g),g))return;if(!1!=f.wrap){g=v;for(w=i.row;g<=w&&!b(a.getLine(g),
g);g++);}}}}}}).call(f.prototype);i.Search=f});
define("ace/lib/event_emitter",["require","exports","module"],function(b,i){var g={};g._emit=g._dispatchEvent=function(b,a){this._eventRegistry=this._eventRegistry||{};this._defaultHandlers=this._defaultHandlers||{};var f=this._eventRegistry[b]||[],g=this._defaultHandlers[b];if(f.length||g){a=a||{};a.type=b;a.stopPropagation||(a.stopPropagation=function(){this.propagationStopped=!0});a.preventDefault||(a.preventDefault=function(){this.defaultPrevented=!0});for(var m=0;m<f.length&&!(f[m](a),a.propagationStopped);m++);
if(g&&!a.defaultPrevented)return g(a)}};g.setDefaultHandler=function(b,a){this._defaultHandlers=this._defaultHandlers||{};if(this._defaultHandlers[b])throw Error("The default handler for '"+b+"' is already set");this._defaultHandlers[b]=a};g.on=g.addEventListener=function(b,a){this._eventRegistry=this._eventRegistry||{};var f=this._eventRegistry[b];f||(f=this._eventRegistry[b]=[]);-1==f.indexOf(a)&&f.push(a)};g.removeListener=g.removeEventListener=function(b,a){this._eventRegistry=this._eventRegistry||
{};var f=this._eventRegistry[b];if(f){var g=f.indexOf(a);-1!==g&&f.splice(g,1)}};g.removeAllListeners=function(b){this._eventRegistry&&(this._eventRegistry[b]=[])};i.EventEmitter=g});
define("ace/commands/default_commands",["require","exports","module","../lib/lang"],function(b,i){function g(a,b){return{win:a,mac:b}}var h=b("../lib/lang");i.commands=[{name:"selectall",bindKey:g("Ctrl-A","Command-A"),exec:function(a){a.selectAll()},readOnly:!0},{name:"centerselection",bindKey:g(null,"Ctrl-L"),exec:function(a){a.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:g("Ctrl-L","Command-L"),exec:function(a){var b=parseInt(prompt("Enter line number:"),10);isNaN(b)||a.gotoLine(b)},
readOnly:!0},{name:"fold",bindKey:g("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(a){a.session.toggleFold(!1)},readOnly:!0},{name:"unfold",bindKey:g("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(a){a.session.toggleFold(!0)},readOnly:!0},{name:"foldall",bindKey:g("Alt-0","Command-Option-0"),exec:function(a){a.session.foldAll()},readOnly:!0},{name:"unfoldall",bindKey:g("Alt-Shift-0","Command-Option-Shift-0"),exec:function(a){a.session.unfold()},readOnly:!0},
{name:"findnext",bindKey:g("Ctrl-K","Command-G"),exec:function(a){a.findNext()},readOnly:!0},{name:"findprevious",bindKey:g("Ctrl-Shift-K","Command-Shift-G"),exec:function(a){a.findPrevious()},readOnly:!0},{name:"find",bindKey:g("Ctrl-F","Command-F"),exec:function(a){var b=prompt("Find:",a.getCopyText());a.find(b)},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(a){a.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:g("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(a){a.getSelection().selectFileStart()},
readOnly:!0},{name:"gotostart",bindKey:g("Ctrl-Home","Command-Home|Command-Up"),exec:function(a){a.navigateFileStart()},readOnly:!0},{name:"selectup",bindKey:g("Shift-Up","Shift-Up"),exec:function(a){a.getSelection().selectUp()},multiSelectAction:"forEach",readOnly:!0},{name:"golineup",bindKey:g("Up","Up|Ctrl-P"),exec:function(a,b){a.navigateUp(b.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selecttoend",bindKey:g("Ctrl-Shift-End","Command-Shift-Down"),exec:function(a){a.getSelection().selectFileEnd()},
multiSelectAction:"forEach",readOnly:!0},{name:"gotoend",bindKey:g("Ctrl-End","Command-End|Command-Down"),exec:function(a){a.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"selectdown",bindKey:g("Shift-Down","Shift-Down"),exec:function(a){a.getSelection().selectDown()},multiSelectAction:"forEach",readOnly:!0},{name:"golinedown",bindKey:g("Down","Down|Ctrl-N"),exec:function(a,b){a.navigateDown(b.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectwordleft",bindKey:g("Ctrl-Shift-Left",
"Option-Shift-Left"),exec:function(a){a.getSelection().selectWordLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"gotowordleft",bindKey:g("Ctrl-Left","Option-Left"),exec:function(a){a.navigateWordLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttolinestart",bindKey:g("Alt-Shift-Left","Command-Shift-Left"),exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"gotolinestart",bindKey:g("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(a){a.navigateLineStart()},
multiSelectAction:"forEach",readOnly:!0},{name:"selectleft",bindKey:g("Shift-Left","Shift-Left"),exec:function(a){a.getSelection().selectLeft()},multiSelectAction:"forEach",readOnly:!0},{name:"gotoleft",bindKey:g("Left","Left|Ctrl-B"),exec:function(a,b){a.navigateLeft(b.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectwordright",bindKey:g("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(a){a.getSelection().selectWordRight()},multiSelectAction:"forEach",readOnly:!0},{name:"gotowordright",
bindKey:g("Ctrl-Right","Option-Right"),exec:function(a){a.navigateWordRight()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttolineend",bindKey:g("Alt-Shift-Right","Command-Shift-Right"),exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"gotolineend",bindKey:g("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(a){a.navigateLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"selectright",bindKey:g("Shift-Right","Shift-Right"),exec:function(a){a.getSelection().selectRight()},
multiSelectAction:"forEach",readOnly:!0},{name:"gotoright",bindKey:g("Right","Right|Ctrl-F"),exec:function(a,b){a.navigateRight(b.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(a){a.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:g(null,"Option-PageDown"),exec:function(a){a.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:g("PageDown","PageDown|Ctrl-V"),exec:function(a){a.gotoPageDown()},readOnly:!0},{name:"selectpageup",
bindKey:"Shift-PageUp",exec:function(a){a.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:g(null,"Option-PageUp"),exec:function(a){a.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(a){a.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:g("Ctrl-Up",null),exec:function(a){a.renderer.scrollBy(0,-2*a.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:g("Ctrl-Down",null),exec:function(a){a.renderer.scrollBy(0,2*a.renderer.layerConfig.lineHeight)},
readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(a){a.getSelection().selectLineStart()},multiSelectAction:"forEach",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(a){a.getSelection().selectLineEnd()},multiSelectAction:"forEach",readOnly:!0},{name:"togglerecording",bindKey:g("Ctrl-Alt-E","Command-Option-E"),exec:function(a){a.commands.toggleRecording()},readOnly:!0},{name:"replaymacro",bindKey:g("Ctrl-Shift-E","Command-Shift-E"),exec:function(a){a.commands.replay(a)},
readOnly:!0},{name:"jumptomatching",bindKey:g("Ctrl-P","Ctrl-Shift-P"),exec:function(a){a.jumpToMatching()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttomatching",bindKey:g("Ctrl-Shift-P",null),exec:function(a){a.jumpToMatching(!0)},readOnly:!0},{name:"cut",exec:function(a){var b=a.getSelectionRange();a._emit("cut",b);a.selection.isEmpty()||(a.session.remove(b),a.clearSelection())},multiSelectAction:"forEach"},{name:"removeline",bindKey:g("Ctrl-D","Command-D"),exec:function(a){a.removeLines()},
multiSelectAction:"forEach"},{name:"duplicateSelection",bindKey:g("Ctrl-Shift-D","Command-Shift-D"),exec:function(a){a.duplicateSelection()},multiSelectAction:"forEach"},{name:"togglecomment",bindKey:g("Ctrl-/","Command-/"),exec:function(a){a.toggleCommentLines()},multiSelectAction:"forEach"},{name:"replace",bindKey:g("Ctrl-R","Command-Option-F"),exec:function(a){var b=prompt("Find:",a.getCopyText());if(b){var g=prompt("Replacement:");g&&a.replace(g,{needle:b})}}},{name:"replaceall",bindKey:g("Ctrl-Shift-R",
"Command-Shift-Option-F"),exec:function(a){var b=prompt("Find:");if(b){var g=prompt("Replacement:");g&&a.replaceAll(g,{needle:b})}}},{name:"undo",bindKey:g("Ctrl-Z","Command-Z"),exec:function(a){a.undo()}},{name:"redo",bindKey:g("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(a){a.redo()}},{name:"copylinesup",bindKey:g("Alt-Shift-Up","Command-Option-Up"),exec:function(a){a.copyLinesUp()}},{name:"movelinesup",bindKey:g("Alt-Up","Option-Up"),exec:function(a){a.moveLinesUp()}},{name:"copylinesdown",
bindKey:g("Alt-Shift-Down","Command-Option-Down"),exec:function(a){a.copyLinesDown()}},{name:"movelinesdown",bindKey:g("Alt-Down","Option-Down"),exec:function(a){a.moveLinesDown()}},{name:"del",bindKey:g("Delete","Delete|Ctrl-D"),exec:function(a){a.remove("right")},multiSelectAction:"forEach"},{name:"backspace",bindKey:g("Command-Backspace|Option-Backspace|Shift-Backspace|Backspace","Ctrl-Backspace|Command-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(a){a.remove("left")},multiSelectAction:"forEach"},
{name:"removetolinestart",bindKey:g("Alt-Backspace","Command-Backspace"),exec:function(a){a.removeToLineStart()},multiSelectAction:"forEach"},{name:"removetolineend",bindKey:g("Alt-Delete","Ctrl-K"),exec:function(a){a.removeToLineEnd()},multiSelectAction:"forEach"},{name:"removewordleft",bindKey:g("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(a){a.removeWordLeft()},multiSelectAction:"forEach"},{name:"removewordright",bindKey:g("Ctrl-Delete","Alt-Delete"),exec:function(a){a.removeWordRight()},
multiSelectAction:"forEach"},{name:"outdent",bindKey:g("Shift-Tab","Shift-Tab"),exec:function(a){a.blockOutdent()},multiSelectAction:"forEach"},{name:"indent",bindKey:g("Tab","Tab"),exec:function(a){a.indent()},multiSelectAction:"forEach"},{name:"insertstring",exec:function(a,b){a.insert(b)},multiSelectAction:"forEach"},{name:"inserttext",exec:function(a,b){a.insert(h.stringRepeat(b.text||"",b.times||1))},multiSelectAction:"forEach"},{name:"splitline",bindKey:g(null,"Ctrl-O"),exec:function(a){a.splitLine()},
multiSelectAction:"forEach"},{name:"transposeletters",bindKey:g("Ctrl-T","Ctrl-T"),exec:function(a){a.transposeLetters()},multiSelectAction:function(a){a.transposeSelections(1)}},{name:"touppercase",bindKey:g("Ctrl-U","Ctrl-U"),exec:function(a){a.toUpperCase()},multiSelectAction:"forEach"},{name:"tolowercase",bindKey:g("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(a){a.toLowerCase()},multiSelectAction:"forEach"}]});
define("ace/lib/net",["require","exports","module"],function(b,i){i.get=function(b,a){var f=i.createXhr();f.open("GET",b,!0);f.onreadystatechange=function(){4===f.readyState&&a(f.responseText)};f.send(null)};var g=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];i.createXhr=function(){var b,a,f;if("undefined"!==typeof XMLHttpRequest)return new XMLHttpRequest;for(a=0;3>a;a++){f=g[a];try{b=new ActiveXObject(f)}catch(k){}if(b){g=[f];break}}if(!b)throw Error("createXhr(): XMLHttpRequest not available");
return b};i.loadScript=function(b,a){var f=document.getElementsByTagName("head")[0],g=document.createElement("script");g.src=b;f.appendChild(g);g.onload=a}});
define("ace/selection","require exports module ./lib/oop ./lib/lang ./lib/event_emitter ./range".split(" "),function(b,i){var g=b("./lib/oop"),h=b("./lib/lang"),a=b("./lib/event_emitter").EventEmitter,f=b("./range").Range,k=function(a){this.session=a;this.doc=a.getDocument();this.clearSelection();this.lead=this.selectionLead=this.doc.createAnchor(0,0);this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var b=this;this.lead.on("change",function(a){b._emit("changeCursor");b.$isEmpty||b._emit("changeSelection");
!b.$keepDesiredColumnOnChange&&a.old.column!=a.value.column&&(b.$desiredColumn=null)});this.selectionAnchor.on("change",function(){b.$isEmpty||b._emit("changeSelection")})};(function(){g.implement(this,a);this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column};this.isMultiLine=function(){return this.isEmpty()?!1:this.getRange().isMultiLine()};this.getCursor=function(){return this.lead.getPosition()};this.setSelectionAnchor=function(a,b){this.anchor.setPosition(a,
b);this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))};this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()};this.getSelectionLead=function(){return this.lead.getPosition()};this.shiftSelection=function(a){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+a);else{var b=this.getSelectionAnchor(),f=this.getSelectionLead(),g=this.isBackwards();(!g||0!==b.column)&&this.setSelectionAnchor(b.row,b.column+a);(g||0!==f.column)&&
this.$moveSelection(function(){this.moveCursorTo(f.row,f.column+a)})}};this.isBackwards=function(){var a=this.anchor,b=this.lead;return a.row>b.row||a.row==b.row&&a.column>b.column};this.getRange=function(){var a=this.anchor,b=this.lead;return this.isEmpty()?f.fromPoints(b,b):this.isBackwards()?f.fromPoints(b,a):f.fromPoints(a,b)};this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))};this.selectAll=function(){var a=this.doc.getLength()-1;this.setSelectionAnchor(0,
0);this.moveCursorTo(a,this.doc.getLine(a).length)};this.setRange=this.setSelectionRange=function(a,b){b?(this.setSelectionAnchor(a.end.row,a.end.column),this.selectTo(a.start.row,a.start.column)):(this.setSelectionAnchor(a.start.row,a.start.column),this.selectTo(a.end.row,a.end.column));this.$desiredColumn=null};this.$moveSelection=function(a){var b=this.lead;this.$isEmpty&&this.setSelectionAnchor(b.row,b.column);a.call(this)};this.selectTo=function(a,b){this.$moveSelection(function(){this.moveCursorTo(a,
b)})};this.selectToPosition=function(a){this.$moveSelection(function(){this.moveCursorToPosition(a)})};this.selectUp=function(){this.$moveSelection(this.moveCursorUp)};this.selectDown=function(){this.$moveSelection(this.moveCursorDown)};this.selectRight=function(){this.$moveSelection(this.moveCursorRight)};this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)};this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)};this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)};
this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)};this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)};this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)};this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)};this.getWordRange=function(a,b){if("undefined"==typeof b)var f=a||this.lead,a=f.row,b=f.column;return this.session.getWordRange(a,b)};this.selectWord=function(){this.setSelectionRange(this.getWordRange())};
this.selectAWord=function(){var a=this.getCursor(),a=this.session.getAWordRange(a.row,a.column);this.setSelectionRange(a)};this.getLineRange=function(a,b){var g="number"==typeof a?a:this.lead.row,k;(k=this.session.getFoldLine(g))?(g=k.start.row,k=k.end.row):k=g;return b?new f(g,0,k,this.session.getLine(k).length):new f(g,0,k+1,0)};this.selectLine=function(){this.setSelectionRange(this.getLineRange())};this.moveCursorUp=function(){this.moveCursorBy(-1,0)};this.moveCursorDown=function(){this.moveCursorBy(1,
0)};this.moveCursorLeft=function(){var a=this.lead.getPosition(),b;(b=this.session.getFoldAt(a.row,a.column,-1))?this.moveCursorTo(b.start.row,b.start.column):0==a.column?0<a.row&&this.moveCursorTo(a.row-1,this.doc.getLine(a.row-1).length):(b=this.session.getTabSize(),this.session.isTabStop(a)&&this.doc.getLine(a.row).slice(a.column-b,a.column).split(" ").length-1==b?this.moveCursorBy(0,-b):this.moveCursorBy(0,-1))};this.moveCursorRight=function(){var a=this.lead.getPosition();if(a=this.session.getFoldAt(a.row,
a.column,1))this.moveCursorTo(a.end.row,a.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var b=this.session.getTabSize(),a=this.lead;this.session.isTabStop(a)&&this.doc.getLine(a.row).slice(a.column,a.column+b).split(" ").length-1==b?this.moveCursorBy(0,b):this.moveCursorBy(0,1)}};this.moveCursorLineStart=function(){var a=this.lead.row,b=this.lead.column,f=this.session.documentToScreenRow(a,
b),f=this.session.screenToDocumentPosition(f,0),a=this.session.getDisplayLine(a,null,f.row,f.column).match(/^\s*/);a[0].length==b?this.moveCursorTo(f.row,f.column):this.moveCursorTo(f.row,f.column+a[0].length)};this.moveCursorLineEnd=function(){var a=this.lead,a=this.session.getDocumentLastRowColumnPosition(a.row,a.column);this.moveCursorTo(a.row,a.column)};this.moveCursorFileEnd=function(){var a=this.doc.getLength()-1,b=this.doc.getLine(a).length;this.moveCursorTo(a,b)};this.moveCursorFileStart=
function(){this.moveCursorTo(0,0)};this.moveCursorLongWordRight=function(){var a=this.lead.row,b=this.lead.column,f=this.doc.getLine(a),g=f.substring(b);this.session.nonTokenRe.lastIndex=0;this.session.tokenRe.lastIndex=0;var k=this.session.getFoldAt(a,b,1);k?this.moveCursorTo(k.end.row,k.end.column):(this.session.nonTokenRe.exec(g)&&(b+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,g=f.substring(b)),b>=f.length?(this.moveCursorTo(a,f.length),this.moveCursorRight(),a<this.doc.getLength()-
1&&this.moveCursorWordRight()):(this.session.tokenRe.exec(g)&&(b+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(a,b)))};this.moveCursorLongWordLeft=function(){var a=this.lead.row,b=this.lead.column,f;(f=this.session.getFoldAt(a,b,-1))?this.moveCursorTo(f.start.row,f.start.column):(f=this.session.getFoldStringAt(a,b,-1),null==f&&(f=this.doc.getLine(a).substring(0,b)),f=h.stringReverse(f),this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(f)&&
(b-=this.session.nonTokenRe.lastIndex,f=f.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),0>=b?(this.moveCursorTo(a,0),this.moveCursorLeft(),0<a&&this.moveCursorWordLeft()):(this.session.tokenRe.exec(f)&&(b-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(a,b)))};this.$shortWordEndIndex=function(a){var b=0,f,g=/\s/,k=this.session.tokenRe;k.lastIndex=0;if(this.session.tokenRe.exec(a))b=this.session.tokenRe.lastIndex;else{for(;(f=a[b])&&
g.test(f);)b++;if(1>=b)for(k.lastIndex=0;(f=a[b])&&!k.test(f);)if(k.lastIndex=0,b++,g.test(f))if(2<b){b--;break}else{for(;(f=a[b])&&g.test(f);)b++;if(2<b)break}}k.lastIndex=0;return b};this.moveCursorShortWordRight=function(){var a=this.lead.row,b=this.lead.column,f=this.doc.getLine(a),g=f.substring(b),k=this.session.getFoldAt(a,b,1);if(k)return this.moveCursorTo(k.end.row,k.end.column);if(b==f.length){b=this.doc.getLength();do a++,g=this.doc.getLine(a);while(a<b&&/^\s*$/.test(g));/^\s+/.test(g)||
(g="");b=0}g=this.$shortWordEndIndex(g);this.moveCursorTo(a,b+g)};this.moveCursorShortWordLeft=function(){var a=this.lead.row,b=this.lead.column,f;if(f=this.session.getFoldAt(a,b,-1))return this.moveCursorTo(f.start.row,f.start.column);f=this.session.getLine(a).substring(0,b);if(0==b){do a--,f=this.doc.getLine(a);while(0<a&&/^\s*$/.test(f));b=f.length;/\s+$/.test(f)||(f="")}f=h.stringReverse(f);f=this.$shortWordEndIndex(f);return this.moveCursorTo(a,b-f)};this.moveCursorWordRight=function(){this.session.$selectLongWords?
this.moveCursorLongWordRight():this.moveCursorShortWordRight()};this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()};this.moveCursorBy=function(a,b){var f=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===b&&(this.$desiredColumn?f.column=this.$desiredColumn:this.$desiredColumn=f.column);f=this.session.screenToDocumentPosition(f.row+a,f.column);this.moveCursorTo(f.row,f.column+b,0===b)};this.moveCursorToPosition=
function(a){this.moveCursorTo(a.row,a.column)};this.moveCursorTo=function(a,b,f){var g=this.session.getFoldAt(a,b,1);g&&(a=g.start.row,b=g.start.column);this.$keepDesiredColumnOnChange=!0;this.lead.setPosition(a,b);this.$keepDesiredColumnOnChange=!1;f||(this.$desiredColumn=null)};this.moveCursorToScreen=function(a,b,f){a=this.session.screenToDocumentPosition(a,b);this.moveCursorTo(a.row,a.column,f)};this.detach=function(){this.lead.detach();this.anchor.detach();this.session=this.doc=null};this.fromOrientedRange=
function(a){this.setSelectionRange(a,a.cursor==a.start);this.$desiredColumn=a.desiredColumn||this.$desiredColumn};this.toOrientedRange=function(a){var b=this.getRange();a?(a.start.column=b.start.column,a.start.row=b.start.row,a.end.column=b.end.column,a.end.row=b.end.row):a=b;a.cursor=this.isBackwards()?a.start:a.end;a.desiredColumn=this.$desiredColumn;return a}}).call(k.prototype);i.Selection=k});
define("ace/tokenizer",["require","exports","module"],function(b,i){var g=function(b,a){a=a?"g"+a:"g";this.rules=b;this.regExps={};this.matchMappings={};for(var f in this.rules){for(var g=this.rules[f],m=[],l=0,i=this.matchMappings[f]={},p=0;p<g.length;p++){g[p].regex instanceof RegExp&&(g[p].regex=g[p].regex.toString().slice(1,-1));var t=RegExp("(?:("+g[p].regex+")|(.))").exec("a").length-2,v=g[p].regex.replace(/\\([0-9]+)/g,function(a,b){return"\\"+(parseInt(b,10)+l+1)});if(1<t&&g[p].token.length!==
t-1)throw Error("Matching groups and length of the token array don't match in rule #"+p+" of state "+f);i[l]={rule:p,len:t};l+=t;m.push(v)}this.regExps[f]=RegExp("(?:("+m.join(")|(")+")|(.))",a)}};(function(){this.getLineTokens=function(b,a){var f=a||"start",g=this.rules[f],m=this.matchMappings[f],l=this.regExps[f];l.lastIndex=0;for(var i,p=[],t=0,v={type:null,value:""};i=l.exec(b);){for(var w="text",x=null,E=[i[0]],z=0;z<i.length-2;z++)if(void 0!==i[z+1]){x=g[m[z].rule];1<m[z].len&&(E=i.slice(z+
2,z+1+m[z].len));w="function"==typeof x.token?x.token.apply(this,E):x.token;x.next&&(f=x.next,g=this.rules[f],m=this.matchMappings[f],t=l.lastIndex,l=this.regExps[f],l.lastIndex=t);break}if(E[0]){"string"==typeof w&&(E=[E.join("")],w=[w]);for(z=0;z<E.length;z++)E[z]&&((!x||x.merge||"text"===w[z])&&v.type===w[z]?v.value+=E[z]:(v.type&&p.push(v),v={type:w[z],value:E[z]}))}if(t==b.length)break;t=l.lastIndex}v.type&&p.push(v);return{tokens:p,state:f}}}).call(g.prototype);i.Tokenizer=g});
define("ace/mode/text_highlight_rules",["require","exports","module","../lib/lang"],function(b,i){var g=b("../lib/lang"),h=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{token:"text",regex:".+"}]}};(function(){this.addRules=function(a,b){for(var g in a){for(var h=a[g],l=0;l<h.length;l++){var i=h[l];i.next&&(i.next=b+i.next)}this.$rules[b+g]=h}};this.getRules=function(){return this.$rules};this.embedRules=function(a,b,k,h){a=(new a).getRules();if(h)for(var l=0;l<h.length;l++)h[l]=
b+h[l];else for(l in h=[],a)h.push(b+l);this.addRules(a,b);for(l=0;l<h.length;l++)Array.prototype.unshift.apply(this.$rules[h[l]],g.deepCopy(k));this.$embeds||(this.$embeds=[]);this.$embeds.push(b)};this.getEmbeds=function(){return this.$embeds}}).call(h.prototype);i.TextHighlightRules=h});
define("ace/mode/behaviour",["require","exports","module"],function(b,i){var g=function(){this.$behaviours={}};(function(){this.add=function(b,a,f){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[b]:this.$behaviours[b]={}}this.$behaviours[b][a]=f};this.addBehaviours=function(b){for(var a in b)for(var f in b[a])this.add(a,f,b[a][f])};this.remove=function(b){this.$behaviours&&this.$behaviours[b]&&delete this.$behaviours[b]};this.inherit=function(b,a){var f="function"===
typeof b?(new b).getBehaviours(a):b.getBehaviours(a);this.addBehaviours(f)};this.getBehaviours=function(b){if(b){for(var a={},f=0;f<b.length;f++)this.$behaviours[b[f]]&&(a[b[f]]=this.$behaviours[b[f]]);return a}return this.$behaviours}}).call(g.prototype);i.Behaviour=g});
define("ace/unicode",["require","exports","module"],function(b,i){i.packages={};var g={L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",
Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",
Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",
Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",
Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",
P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",
Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",
Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",
S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",
Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",
So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",
Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",
Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"},
h=/\w{4}/g,a;for(a in g)i.packages[a]=g[a].replace(h,"\\u$&")});
define("ace/mode/text","require exports module ../tokenizer ./text_highlight_rules ./behaviour ../unicode".split(" "),function(b,i){var g=b("../tokenizer").Tokenizer,h=b("./text_highlight_rules").TextHighlightRules,a=b("./behaviour").Behaviour,f=b("../unicode"),k=function(){this.$tokenizer=new g((new h).getRules());this.$behaviour=new a};(function(){this.tokenRe=RegExp("^["+f.packages.L+f.packages.Mn+f.packages.Mc+f.packages.Nd+f.packages.Pc+"\\$_]+","g");this.nonTokenRe=RegExp("^(?:[^"+f.packages.L+
f.packages.Mn+f.packages.Mc+f.packages.Nd+f.packages.Pc+"\\$_]|s])+","g");this.getTokenizer=function(){return this.$tokenizer};this.toggleCommentLines=function(){};this.getNextLineIndent=function(){return""};this.checkOutdent=function(){return!1};this.autoOutdent=function(){};this.$getIndent=function(a){return(a=a.match(/^(\s+)/))?a[1]:""};this.createWorker=function(){return null};this.createModeDelegates=function(a){if(this.$embeds){this.$modes={};for(var b=0;b<this.$embeds.length;b++)a[this.$embeds[b]]&&
(this.$modes[this.$embeds[b]]=new a[this.$embeds[b]]);for(var f=["toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction"],b=0;b<f.length;b++)(function(a){var g=f[b],k=a[g];a[f[b]]=function(){return this.$delegator(g,arguments,k)}})(this)}};this.$delegator=function(a,b,f){for(var g=b[0],k=0;k<this.$embeds.length;k++)if(this.$modes[this.$embeds[k]]){var h=g.split(this.$embeds[k]);if(!h[0]&&h[1])return b[0]=h[1],f=this.$modes[this.$embeds[k]],f[a].apply(f,b)}a=f.apply(this,
b);return f?a:void 0};this.transformAction=function(a,b,f,g,k){if(this.$behaviour){var h=this.$behaviour.getBehaviours(),i;for(i in h)if(h[i][b]){var x=h[i][b].apply(this,arguments);if(x)return x}}}}).call(k.prototype);i.Mode=k});
define("ace/anchor",["require","exports","module","./lib/oop","./lib/event_emitter"],function(b,i){var g=b("./lib/oop"),h=b("./lib/event_emitter").EventEmitter,a=i.Anchor=function(a,b,g){this.document=a;"undefined"==typeof g?this.setPosition(b.row,b.column):this.setPosition(b,g);this.$onChange=this.onChange.bind(this);a.on("change",this.$onChange)};(function(){g.implement(this,h);this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)};this.getDocument=function(){return this.document};
this.onChange=function(a){var a=a.data,b=a.range;if(!(b.start.row==b.end.row&&b.start.row!=this.row)&&!(b.start.row>this.row)&&!(b.start.row==this.row&&b.start.column>this.column)){var g=this.row,h=this.column;"insertText"===a.action?b.start.row===g&&b.start.column<=h?b.start.row===b.end.row?h+=b.end.column-b.start.column:(h-=b.start.column,g+=b.end.row-b.start.row):b.start.row!==b.end.row&&b.start.row<g&&(g+=b.end.row-b.start.row):"insertLines"===a.action?b.start.row<=g&&(g+=b.end.row-b.start.row):
"removeText"==a.action?b.start.row==g&&b.start.column<h?h=b.end.column>=h?b.start.column:Math.max(0,h-(b.end.column-b.start.column)):b.start.row!==b.end.row&&b.start.row<g?(b.end.row==g&&(h=Math.max(0,h-b.end.column)+b.start.column),g-=b.end.row-b.start.row):b.end.row==g&&(g-=b.end.row-b.start.row,h=Math.max(0,h-b.end.column)+b.start.column):"removeLines"==a.action&&b.start.row<=g&&(b.end.row<=g?g-=b.end.row-b.start.row:(g=b.start.row,h=0));this.setPosition(g,h,!0)}};this.setPosition=function(a,b,
g){a=g?{row:a,column:b}:this.$clipPositionToDocument(a,b);this.row==a.row&&this.column==a.column||(b={row:this.row,column:this.column},this.row=a.row,this.column=a.column,this._emit("change",{old:b,value:a}))};this.detach=function(){this.document.removeEventListener("change",this.$onChange)};this.$clipPositionToDocument=function(a,b){var g={};a>=this.document.getLength()?(g.row=Math.max(0,this.document.getLength()-1),g.column=this.document.getLine(g.row).length):0>a?(g.row=0,g.column=0):(g.row=a,
g.column=Math.min(this.document.getLine(g.row).length,Math.max(0,b)));0>b&&(g.column=0);return g}}).call(a.prototype)});
define("ace/document","require exports module ./lib/oop ./lib/event_emitter ./range ./anchor".split(" "),function(b,i){var g=b("./lib/oop"),h=b("./lib/event_emitter").EventEmitter,a=b("./range").Range,f=b("./anchor").Anchor,k=function(a){this.$lines=[];0==a.length?this.$lines=[""]:Array.isArray(a)?this.insertLines(0,a):this.insert({row:0,column:0},a)};(function(){g.implement(this,h);this.setValue=function(b){var f=this.getLength();this.remove(new a(0,0,f,this.getLine(f-1).length));this.insert({row:0,
column:0},b)};this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())};this.createAnchor=function(a,b){return new f(this,a,b)};this.$split=0=="aaa".split(/a/).length?function(a){return a.replace(/\r\n|\r/g,"\n").split("\n")}:function(a){return a.split(/\r\n|\r|\n/)};this.$detectNewLine=function(a){this.$autoNewLine=(a=a.match(/^.*?(\r\n|\r|\n)/m))?a[1]:"\n"};this.getNewLineCharacter=function(){switch(this.$newLineMode){case "windows":return"\r\n";case "unix":return"\n";
case "auto":return this.$autoNewLine}};this.$autoNewLine="\n";this.$newLineMode="auto";this.setNewLineMode=function(a){this.$newLineMode!==a&&(this.$newLineMode=a)};this.getNewLineMode=function(){return this.$newLineMode};this.isNewLine=function(a){return"\r\n"==a||"\r"==a||"\n"==a};this.getLine=function(a){return this.$lines[a]||""};this.getLines=function(a,b){return this.$lines.slice(a,b+1)};this.getAllLines=function(){return this.getLines(0,this.getLength())};this.getLength=function(){return this.$lines.length};
this.getTextRange=function(a){if(a.start.row==a.end.row)return this.$lines[a.start.row].substring(a.start.column,a.end.column);var b=this.getLines(a.start.row+1,a.end.row-1);b.unshift((this.$lines[a.start.row]||"").substring(a.start.column));b.push((this.$lines[a.end.row]||"").substring(0,a.end.column));return b.join(this.getNewLineCharacter())};this.$clipPosition=function(a){var b=this.getLength();a.row>=b&&(a.row=Math.max(0,b-1),a.column=this.getLine(b-1).length);return a};this.insert=function(a,
b){if(!b||0===b.length)return a;a=this.$clipPosition(a);1>=this.getLength()&&this.$detectNewLine(b);var f=this.$split(b),g=f.splice(0,1)[0],k=0==f.length?null:f.splice(f.length-1,1)[0],a=this.insertInLine(a,g);null!==k&&(a=this.insertNewLine(a),a=this.insertLines(a.row,f),a=this.insertInLine(a,k||""));return a};this.insertLines=function(b,f){if(0==f.length)return{row:b,column:0};if(65535<f.length)var g=this.insertLines(b,f.slice(65535)),f=f.slice(0,65535);var k=[b,0];k.push.apply(k,f);this.$lines.splice.apply(this.$lines,
k);k=new a(b,0,b+f.length,0);this._emit("change",{data:{action:"insertLines",range:k,lines:f}});return g||k.end};this.insertNewLine=function(b){var b=this.$clipPosition(b),f=this.$lines[b.row]||"";this.$lines[b.row]=f.substring(0,b.column);this.$lines.splice(b.row+1,0,f.substring(b.column,f.length));f={row:b.row+1,column:0};b={action:"insertText",range:a.fromPoints(b,f),text:this.getNewLineCharacter()};this._emit("change",{data:b});return f};this.insertInLine=function(b,f){if(0==f.length)return b;
var g=this.$lines[b.row]||"";this.$lines[b.row]=g.substring(0,b.column)+f+g.substring(b.column);var g={row:b.row,column:b.column+f.length},k={action:"insertText",range:a.fromPoints(b,g),text:f};this._emit("change",{data:k});return g};this.remove=function(a){a.start=this.$clipPosition(a.start);a.end=this.$clipPosition(a.end);if(a.isEmpty())return a.start;var b=a.start.row,f=a.end.row;if(a.isMultiLine()){var g=0==a.start.column?b:b+1,k=f-1;0<a.end.column&&this.removeInLine(f,0,a.end.column);k>=g&&this.removeLines(g,
k);g!=b&&(this.removeInLine(b,a.start.column,this.getLine(b).length),this.removeNewLine(a.start.row))}else this.removeInLine(b,a.start.column,a.end.column);return a.start};this.removeInLine=function(b,f,g){if(f!=g){var k=new a(b,f,b,g),h=this.getLine(b),i=h.substring(f,g),f=h.substring(0,f)+h.substring(g,h.length);this.$lines.splice(b,1,f);this._emit("change",{data:{action:"removeText",range:k,text:i}});return k.start}};this.removeLines=function(b,f){var g=new a(b,0,f+1,0),k=this.$lines.splice(b,
f-b+1),g={action:"removeLines",range:g,nl:this.getNewLineCharacter(),lines:k};this._emit("change",{data:g});return k};this.removeNewLine=function(b){var f=this.getLine(b),g=this.getLine(b+1),k=new a(b,f.length,b+1,0);this.$lines.splice(b,2,f+g);b={action:"removeText",range:k,text:this.getNewLineCharacter()};this._emit("change",{data:b})};this.replace=function(a,b){if(0==b.length&&a.isEmpty())return a.start;if(b==this.getTextRange(a))return a.end;this.remove(a);return b?this.insert(a.start,b):a.start};
this.applyDeltas=function(b){for(var f=0;f<b.length;f++){var g=b[f],k=a.fromPoints(g.range.start,g.range.end);"insertLines"==g.action?this.insertLines(k.start.row,g.lines):"insertText"==g.action?this.insert(k.start,g.text):"removeLines"==g.action?this.removeLines(k.start.row,k.end.row-1):"removeText"==g.action&&this.remove(k)}};this.revertDeltas=function(b){for(var f=b.length-1;0<=f;f--){var g=b[f],k=a.fromPoints(g.range.start,g.range.end);"insertLines"==g.action?this.removeLines(k.start.row,k.end.row-
1):"insertText"==g.action?this.remove(k):"removeLines"==g.action?this.insertLines(k.start.row,g.lines):"removeText"==g.action&&this.insert(k.start,g.text)}}}).call(k.prototype);i.Document=k});
define("ace/background_tokenizer",["require","exports","module","./lib/oop","./lib/event_emitter"],function(b,i){var g=b("./lib/oop"),h=b("./lib/event_emitter").EventEmitter,a=function(a){this.running=!1;this.lines=[];this.states=[];this.currentLine=0;this.tokenizer=a;var b=this;this.$worker=function(){if(b.running){for(var a=new Date,f=b.currentLine,g=0,h=b.doc.getLength();b.currentLine<h;){for(b.$tokenizeRow(b.currentLine);b.lines[b.currentLine];)b.currentLine++;g++;if(0==g%5&&20<new Date-a){b.fireUpdateEvent(f,
b.currentLine-1);b.running=setTimeout(b.$worker,20);return}}b.running=!1;b.fireUpdateEvent(f,h-1)}}};(function(){g.implement(this,h);this.setTokenizer=function(a){this.tokenizer=a;this.lines=[];this.states=[];this.start(0)};this.setDocument=function(a){this.doc=a;this.lines=[];this.states=[];this.stop()};this.fireUpdateEvent=function(a,b){this._emit("update",{data:{first:a,last:b}})};this.start=function(a){this.currentLine=Math.min(a||0,this.currentLine,this.doc.getLength());this.lines.splice(this.currentLine,
this.lines.length);this.states.splice(this.currentLine,this.states.length);this.stop();this.running=setTimeout(this.$worker,700)};this.$updateOnChange=function(a){var b=a.range,g=b.start.row,b=b.end.row-g;0===b?this.lines[g]=null:"removeText"==a.action||"removeLines"==a.action?(this.lines.splice(g,b+1,null),this.states.splice(g,b+1,null)):(a=Array(b+1),a.unshift(g,1),this.lines.splice.apply(this.lines,a),this.states.splice.apply(this.states,a));this.currentLine=Math.min(g,this.currentLine,this.doc.getLength());
this.stop();this.running=setTimeout(this.$worker,700)};this.stop=function(){this.running&&clearTimeout(this.running);this.running=!1};this.getTokens=function(a){return this.lines[a]||this.$tokenizeRow(a)};this.getState=function(a){this.currentLine==a&&this.$tokenizeRow(a);return this.states[a]||"start"};this.$tokenizeRow=function(a){var b=this.doc.getLine(a),g=this.states[a-1];if(5E3<b.length)var h={value:b.substr(5E3),type:"text"},b=b.slice(0,5E3);b=this.tokenizer.getLineTokens(b,g);h&&(b.tokens.push(h),
b.state="start");this.states[a]!==b.state?(this.states[a]=b.state,this.lines[a+1]=null,this.currentLine>a+1&&(this.currentLine=a+1)):this.currentLine==a&&(this.currentLine=a+1);return this.lines[a]=b.tokens}}).call(a.prototype);i.BackgroundTokenizer=a});
define("ace/search_highlight","require exports module ./lib/lang ./lib/oop ./range".split(" "),function(b,i){var g=b("./lib/lang");b("./lib/oop");var h=b("./range").Range,a=function(a,b,g){this.setRegexp(a);this.clazz=b;this.type=g||"text"};(function(){this.setRegexp=function(a){this.regExp+""!=a+""&&(this.regExp=a,this.cache=[])};this.update=function(a,b,i,l){if(this.regExp)for(var r=l.lastRow,p=l.firstRow;p<=r;p++){var t=this.cache[p];null==t&&(t=g.getMatchOffsets(i.getLine(p),this.regExp),t=t.map(function(a){return new h(p,
a.offset,p,a.offset+a.length)}),this.cache[p]=t.length?t:"");for(var v=t.length;v--;)b.drawSingleLineMarker(a,t[v].toScreenRange(i),this.clazz,l,null,this.type)}}}).call(a.prototype);i.SearchHighlight=a});
define("ace/edit_session/fold_line",["require","exports","module","../range"],function(b,i){function g(a,b){this.foldData=a;Array.isArray(b)?this.folds=b:b=this.folds=[b];var g=b[b.length-1];this.range=new h(b[0].start.row,b[0].start.column,g.end.row,g.end.column);this.start=this.range.start;this.end=this.range.end;this.folds.forEach(function(a){a.setFoldLine(this)},this)}var h=b("../range").Range;(function(){this.shiftRow=function(a){this.start.row+=a;this.end.row+=a;this.folds.forEach(function(b){b.start.row+=
a;b.end.row+=a})};this.addFold=function(a){if(a.sameRow){if(a.start.row<this.startRow||a.endRow>this.endRow)throw"Can't add a fold to this FoldLine as it has no connection";this.folds.push(a);this.folds.sort(function(a,b){return-a.range.compareEnd(b.start.row,b.start.column)});0<this.range.compareEnd(a.start.row,a.start.column)?(this.end.row=a.end.row,this.end.column=a.end.column):0>this.range.compareStart(a.end.row,a.end.column)&&(this.start.row=a.start.row,this.start.column=a.start.column)}else if(a.start.row==
this.end.row)this.folds.push(a),this.end.row=a.end.row,this.end.column=a.end.column;else if(a.end.row==this.start.row)this.folds.unshift(a),this.start.row=a.start.row,this.start.column=a.start.column;else throw"Trying to add fold to FoldRow that doesn't have a matching row";a.foldLine=this};this.containsRow=function(a){return a>=this.start.row&&a<=this.end.row};this.walk=function(a,b,g){var h=0,l=this.folds,i,p,t;t=!0;null==b&&(b=this.end.row,g=this.end.column);for(var v=0;v<l.length;v++){i=l[v];
p=i.range.compareStart(b,g);if(-1==p){a(null,b,g,h,t);return}t=a(null,i.start.row,i.start.column,h,t);if((t=!t&&a(i.placeholder,i.start.row,i.start.column,h))||0==p)return;t=!i.sameRow;h=i.end.column}a(null,b,g,h,t)};this.getNextFoldTo=function(a,b){for(var g,h,l=0;l<this.folds.length;l++){g=this.folds[l];h=g.range.compareEnd(a,b);if(-1==h)return{fold:g,kind:"after"};if(0==h)return{fold:g,kind:"inside"}}return null};this.addRemoveChars=function(a,b,g){var h=this.getNextFoldTo(a,b),l;if(h)if(l=h.fold,
"inside"==h.kind&&l.start.column!=b&&l.start.row!=a)window.console&&window.console.log(a,b,l);else if(l.start.row==a){a=this.folds;b=a.indexOf(l);0==b&&(this.start.column+=g);for(b;b<a.length;b++){l=a[b];l.start.column+=g;if(!l.sameRow)return;l.end.column+=g}this.end.column+=g}};this.split=function(a,b){var k=this.getNextFoldTo(a,b).fold,h=this.folds,l=this.foldData;if(!k)return null;var k=h.indexOf(k),i=h[k-1];this.end.row=i.end.row;this.end.column=i.end.column;h=h.splice(k,h.length-k);h=new g(l,
h);l.splice(l.indexOf(this)+1,0,h);return h};this.merge=function(a){for(var b=a.folds,g=0;g<b.length;g++)this.addFold(b[g]);b=this.foldData;b.splice(b.indexOf(a),1)};this.toString=function(){var a=[this.range.toString()+": ["];this.folds.forEach(function(b){a.push("  "+b.toString())});a.push("]");return a.join("\n")};this.idxToPosition=function(a){for(var b=0,g,h=0;h<this.folds.length;h++){g=this.folds[h];a-=g.start.column-b;if(0>a)return{row:g.start.row,column:g.start.column+a};a-=g.placeholder.length;
if(0>a)return g.start;b=g.end.column}return{row:this.end.row,column:this.end.column+a}}}).call(g.prototype);i.FoldLine=g});
define("ace/edit_session/fold",["require","exports","module"],function(b,i){var g=i.Fold=function(b,a){this.foldLine=null;this.placeholder=a;this.range=b;this.start=b.start;this.end=b.end;this.sameRow=b.start.row==b.end.row;this.subFolds=[]};(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()};this.setFoldLine=function(b){this.foldLine=b;this.subFolds.forEach(function(a){a.setFoldLine(b)})};this.clone=function(){var b=this.range.clone(),a=new g(b,this.placeholder);
this.subFolds.forEach(function(b){a.subFolds.push(b.clone())});return a};this.addSubFold=function(b){if(this.range.isEqual(b))return this;if(!this.range.containsRange(b))throw"A fold can't intersect already existing fold"+b.range+this.range;for(var a=b.range.start.row,f=b.range.start.column,g=0,i=-1;g<this.subFolds.length&&!(i=this.subFolds[g].range.compare(a,f),1!=i);g++);a=this.subFolds[g];if(0==i)return a.addSubFold(b);for(var a=b.range.end.row,f=b.range.end.column,l=g,i=-1;l<this.subFolds.length&&
!(i=this.subFolds[l].range.compare(a,f),1!=i);l++);if(0==i)throw"A fold can't intersect already existing fold"+b.range+this.range;this.subFolds.splice(g,l-g,b);b.setFoldLine(this.foldLine);return b}}).call(g.prototype)});
define("ace/token_iterator",["require","exports","module"],function(b,i){var g=function(b,a,f){this.$session=b;this.$row=a;this.$rowTokens=b.getTokens(a);this.$tokenIndex=(b=b.getTokenAt(a,f))?b.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;0>this.$tokenIndex;){this.$row-=1;if(0>this.$row)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]};this.stepForward=function(){var b=
this.$session.getLength();for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){this.$row+=1;if(this.$row>=b)return this.$row=b-1,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]};this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]};this.getCurrentTokenRow=function(){return this.$row};this.getCurrentTokenColumn=function(){var b=this.$rowTokens,a=this.$tokenIndex,f=b[a].start;if(void 0!==f)return f;
for(f=0;0<a;)a-=1,f+=b[a].value.length;return f}}).call(g.prototype);i.TokenIterator=g});
define("ace/edit_session/folding","require exports module ../range ./fold_line ./fold ../token_iterator".split(" "),function(b,i){var g=b("../range").Range,h=b("./fold_line").FoldLine,a=b("./fold").Fold,f=b("../token_iterator").TokenIterator;i.Folding=function(){this.getFoldAt=function(a,b,f){var g=this.getFoldLine(a);if(!g)return null;for(var g=g.folds,h=0;h<g.length;h++){var i=g[h];if(i.range.contains(a,b)&&!(1==f&&i.range.isEnd(a,b))&&!(-1==f&&i.range.isStart(a,b)))return i}};this.getFoldsInRange=
function(a){var a=a.clone(),b=a.end,f=this.$foldData,g=[];a.start.column+=1;b.column-=1;for(b=0;b<f.length;b++){var h=f[b].range.compareRange(a);if(2!=h){if(-2==h)break;for(var i=f[b].folds,v=0;v<i.length;v++){var w=i[v],h=w.range.compareRange(a);if(-2==h)break;else if(2==h)continue;else if(42==h)break;g.push(w)}}}return g};this.getAllFolds=function(){function a(f){b.push(f);if(f.subFolds)for(var g=0;g<f.subFolds.length;g++)a(f.subFolds[g])}for(var b=[],f=this.$foldData,g=0;g<f.length;g++)for(var h=
0;h<f[g].folds.length;h++)a(f[g].folds[h]);return b};this.getFoldStringAt=function(a,b,f,g){g=g||this.getFoldLine(a);if(!g)return null;for(var h={end:{column:0}},i,v,w=0;w<g.folds.length;w++){v=g.folds[w];var x=v.range.compareEnd(a,b);if(-1==x){i=this.getLine(v.start.row).substring(h.end.column,v.start.column);break}else if(0===x)return null;h=v}i||(i=this.getLine(v.start.row).substring(h.end.column));return-1==f?i.substring(0,b-h.end.column):1==f?i.substring(b-h.end.column):i};this.getFoldLine=function(a,
b){var f=this.$foldData,g=0;b&&(g=f.indexOf(b));-1==g&&(g=0);for(g;g<f.length;g++){var h=f[g];if(h.start.row<=a&&h.end.row>=a)return h;if(h.end.row>a)break}return null};this.getNextFoldLine=function(a,b){var f=this.$foldData,g=0;b&&(g=f.indexOf(b));-1==g&&(g=0);for(g;g<f.length;g++){var h=f[g];if(h.end.row>=a)return h}return null};this.getFoldedRowCount=function(a,b){for(var f=this.$foldData,g=b-a+1,h=0;h<f.length;h++){var i=f[h],v=i.end.row,i=i.start.row;if(v>=b){i<b&&(g=i>=a?g-(b-i):0);break}else v>=
a&&(g=i>=a?g-(v-i):g-(v-a+1))}return g};this.$addFoldLine=function(a){this.$foldData.push(a);this.$foldData.sort(function(a,b){return a.start.row-b.start.row});return a};this.addFold=function(b,f){var g=this.$foldData,i=!1,p;p=b instanceof a?b:new a(f,b);this.$clipRangeToDocument(p.range);var t=p.start.row,v=p.start.column,w=p.end.row,x=p.end.column;if(2>p.placeholder.length)throw"Placeholder has to be at least 2 characters";if(t==w&&2>x-v)throw"The range has to be at least 2 characters width";var E=
this.getFoldAt(t,v,1),z=this.getFoldAt(w,x,-1);if(E&&z==E)return E.addSubFold(p);if(E&&!E.range.isStart(t,v)||z&&!z.range.isEnd(w,x))throw"A fold can't intersect already existing fold"+p.range+E.range;v=this.getFoldsInRange(p.range);0<v.length&&(this.removeFolds(v),p.subFolds=v);for(v=0;v<g.length;v++){var L=g[v];if(w==L.start.row){L.addFold(p);i=!0;break}else if(t==L.end.row){L.addFold(p);i=!0;if(!p.sameRow&&(g=g[v+1])&&g.start.row==w){L.merge(g);break}break}else if(w<=L.start.row)break}i||(L=this.$addFoldLine(new h(this.$foldData,
p)));this.$useWrapMode?this.$updateWrapData(L.start.row,L.start.row):this.$updateRowLengthCache(L.start.row,L.start.row);this.$modified=!0;this._emit("changeFold",{data:p});return p};this.addFolds=function(a){a.forEach(function(a){this.addFold(a)},this)};this.removeFold=function(a){var b=a.foldLine,f=b.start.row,g=b.end.row,h=this.$foldData,i=b.folds;1==i.length?h.splice(h.indexOf(b),1):b.range.isEnd(a.end.row,a.end.column)?(i.pop(),b.end.row=i[i.length-1].end.row,b.end.column=i[i.length-1].end.column):
b.range.isStart(a.start.row,a.start.column)?(i.shift(),b.start.row=i[0].start.row,b.start.column=i[0].start.column):a.sameRow?i.splice(i.indexOf(a),1):(b=b.split(a.start.row,a.start.column),i=b.folds,i.shift(),b.start.row=i[0].start.row,b.start.column=i[0].start.column);this.$useWrapMode?this.$updateWrapData(f,g):this.$updateRowLengthCache(f,g);this.$modified=!0;this._emit("changeFold",{data:a})};this.removeFolds=function(a){for(var b=[],f=0;f<a.length;f++)b.push(a[f]);b.forEach(function(a){this.removeFold(a)},
this);this.$modified=!0};this.expandFold=function(a){this.removeFold(a);a.subFolds.forEach(function(a){this.addFold(a)},this);a.subFolds=[]};this.expandFolds=function(a){a.forEach(function(a){this.expandFold(a)},this)};this.unfold=function(a,b){var f,h;f=null==a?new g(0,0,this.getLength(),0):"number"==typeof a?new g(a,0,a,this.getLine(a).length):"row"in a?g.fromPoints(a,a):a;h=this.getFoldsInRange(f);if(b)this.removeFolds(h);else for(;h.length;)this.expandFolds(h),h=this.getFoldsInRange(f)};this.isRowFolded=
function(a,b){return!!this.getFoldLine(a,b)};this.getRowFoldEnd=function(a,b){var f=this.getFoldLine(a,b);return f?f.end.row:a};this.getFoldDisplayLine=function(a,b,f,g,h){null==g&&(g=a.start.row,h=0);null==b&&(b=a.end.row,f=this.getLine(b).length);var i=this.doc,v="";a.walk(function(a,b,f,k){if(!(b<g)){if(b==g){if(f<h)return;k=Math.max(h,k)}v=a?v+a:v+i.getLine(b).substring(k,f)}}.bind(this),b,f);return v};this.getDisplayLine=function(a,b,f,g){var h=this.getFoldLine(a);if(h)return this.getFoldDisplayLine(h,
a,b,f,g);a=this.doc.getLine(a);return a.substring(g||0,b||a.length)};this.$cloneFoldData=function(){var a=[];return a=this.$foldData.map(function(b){b=b.folds.map(function(a){return a.clone()});return new h(a,b)})};this.toggleFold=function(a){var b=this.selection.getRange(),f;if(b.isEmpty()){var g=b.start;if(f=this.getFoldAt(g.row,g.column)){this.expandFold(f);return}(a=this.findMatchingBracket(g))?1==b.comparePoint(a)?b.end=a:(b.start=a,b.start.column++,b.end.column--):(a=this.findMatchingBracket({row:g.row,
column:g.column+1}))?(1==b.comparePoint(a)?b.end=a:b.start=a,b.start.column++):b=this.getCommentFoldRange(g.row,g.column)||b}else{g=this.getFoldsInRange(b);if(a&&g.length){this.expandFolds(g);return}1==g.length&&(f=g[0])}f||(f=this.getFoldAt(b.start.row,b.start.column));if(f&&f.range.toString()==b.toString())this.expandFold(f);else{f="...";if(!b.isMultiLine()){f=this.getTextRange(b);if(4>f.length)return;f=f.trim().substring(0,2)+".."}this.addFold(f,b)}};this.getCommentFoldRange=function(a,b){var h=
new f(this,a,b),i=h.getCurrentToken();if(i&&/^comment|string/.test(i.type)){var p=new g,t=RegExp(i.type.replace(/\..*/,"\\."));do i=h.stepBackward();while(i&&t.test(i.type));h.stepForward();p.start.row=h.getCurrentTokenRow();p.start.column=h.getCurrentTokenColumn()+2;h=new f(this,a,b);do i=h.stepForward();while(i&&t.test(i.type));i=h.stepBackward();p.end.row=h.getCurrentTokenRow();p.end.column=h.getCurrentTokenColumn()+i.value.length;return p}};this.foldAll=function(a,b){for(var f=this.foldWidgets,
b=b||this.getLength(),g=a||0;g<b;g++)if(null==f[g]&&(f[g]=this.getFoldWidget(g)),"start"==f[g]){var h=this.getFoldWidgetRange(g);if(h&&h.end.row<b)try{this.addFold("...",h)}catch(i){}}};this.$foldStyles={manual:1,markbegin:1,markbeginend:1};this.$foldStyle="markbegin";this.setFoldStyle=function(a){if(!this.$foldStyles[a])throw Error("invalid fold style: "+a+"["+Object.keys(this.$foldStyles).join(", ")+"]");this.$foldStyle!=a&&(this.$foldStyle=a,"manual"==a&&this.unfold(),a=this.$foldMode,this.$setFolding(null),
this.$setFolding(a))};this.$setFolding=function(a){this.$foldMode!=a&&(this.$foldMode=a,this.removeListener("change",this.$updateFoldWidgets),this._emit("changeAnnotation"),!a||"manual"==this.$foldStyle?this.foldWidgets=null:(this.foldWidgets=[],this.getFoldWidget=a.getFoldWidget.bind(a,this,this.$foldStyle),this.getFoldWidgetRange=a.getFoldWidgetRange.bind(a,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets)))};this.onFoldWidgetClick=
function(a,b){var f=this.getFoldWidget(a),g=this.getLine(a),h=b.shiftKey,i=h||b.ctrlKey||b.altKey||b.metaKey;if(f="end"==f?this.getFoldAt(a,0,-1):this.getFoldAt(a,g.length,1))i?this.removeFold(f):this.expandFold(f);else if(g=this.getFoldWidgetRange(a)){if(!g.isMultiLine()&&(f=this.getFoldAt(g.start.row,g.start.column,1))&&g.isEqual(f.range)){this.removeFold(f);return}h||this.addFold("...",g);i&&this.foldAll(g.start.row+1,g.end.row)}else i&&this.foldAll(a+1,this.getLength()),b.target.className+=" invalid"};
this.updateFoldWidgets=function(a){var b=a.data,f=b.range,a=f.start.row,f=f.end.row-a;0===f?this.foldWidgets[a]=null:"removeText"==b.action||"removeLines"==b.action?this.foldWidgets.splice(a,f+1,null):(b=Array(f+1),b.unshift(a,1),this.foldWidgets.splice.apply(this.foldWidgets,b))}}});
define("ace/edit_session/bracket_match",["require","exports","module","../token_iterator","../range"],function(b,i){var g=b("../token_iterator").TokenIterator,h=b("../range").Range;i.BracketMatch=function(){this.findMatchingBracket=function(a){if(0==a.column)return null;var b=this.getLine(a.row).charAt(a.column-1);if(""==b)return null;b=b.match(/([\(\[\{])|([\)\]\}])/);return!b?null:b[1]?this.$findClosingBracket(b[1],a):this.$findOpeningBracket(b[2],a)};this.getBracketRange=function(a){var b=this.getLine(a.row),
g=!0,i=b.charAt(a.column-1),i=i&&i.match(/([\(\[\{])|([\)\]\}])/);i||(i=b.charAt(a.column),a={row:a.row,column:a.column+1},i=i&&i.match(/([\(\[\{])|([\)\]\}])/),g=!1);if(!i)return null;if(i[1]){b=this.$findClosingBracket(i[1],a);if(!b)return null;a=h.fromPoints(a,b);g||(a.end.column++,a.start.column--);a.cursor=a.end}else{b=this.$findOpeningBracket(i[2],a);if(!b)return null;a=h.fromPoints(b,a);g||(a.start.column++,a.end.column--);a.cursor=a.start}return a};this.$brackets={")":"(","(":")","]":"[",
"[":"]","{":"}","}":"{"};this.$findOpeningBracket=function(a,b,k){var h=this.$brackets[a],i=1,r=new g(this,b.row,b.column),p=r.getCurrentToken();p||(p=r.stepForward());if(p){k||(k=RegExp("(\\.?"+p.type.replace(".","\\.").replace("rparen",".paren")+")+"));b=b.column-r.getCurrentTokenColumn()-2;for(p=p.value;;){for(;0<=b;){var t=p.charAt(b);if(t==h){if(i-=1,0==i)return{row:r.getCurrentTokenRow(),column:b+r.getCurrentTokenColumn()}}else t==a&&(i+=1);b-=1}do p=r.stepBackward();while(p&&!k.test(p.type));
if(null==p)break;p=p.value;b=p.length-1}return null}};this.$findClosingBracket=function(a,b,k){var h=this.$brackets[a],i=1,r=new g(this,b.row,b.column),p=r.getCurrentToken();p||(p=r.stepForward());if(p){k||(k=RegExp("(\\.?"+p.type.replace(".","\\.").replace("lparen",".paren")+")+"));for(b=b.column-r.getCurrentTokenColumn();;){for(var p=p.value,t=p.length;b<t;){var v=p.charAt(b);if(v==h){if(i-=1,0==i)return{row:r.getCurrentTokenRow(),column:b+r.getCurrentTokenColumn()}}else v==a&&(i+=1);b+=1}do p=
r.stepForward();while(p&&!k.test(p.type));if(null==p)break;b=0}return null}}}});
define("ace/undomanager",["require","exports","module"],function(b,i){var g=function(){this.reset()};(function(){this.execute=function(b){var a=b.args[0];this.$doc=b.args[1];this.$undoStack.push(a);this.$redoStack=[]};this.undo=function(b){var a=this.$undoStack.pop(),f=null;a&&(f=this.$doc.undoChanges(a,b),this.$redoStack.push(a));return f};this.redo=function(b){var a=this.$redoStack.pop(),f=null;a&&(f=this.$doc.redoChanges(a,b),this.$undoStack.push(a));return f};this.reset=function(){this.$undoStack=
[];this.$redoStack=[]};this.hasUndo=function(){return 0<this.$undoStack.length};this.hasRedo=function(){return 0<this.$redoStack.length}}).call(g.prototype);i.UndoManager=g});
define("ace/layer/gutter","require exports module ../lib/dom ../lib/oop ../lib/event_emitter".split(" "),function(b,i){var g=b("../lib/dom"),h=b("../lib/oop"),a=b("../lib/event_emitter").EventEmitter,f=function(a){this.element=g.createElement("div");this.element.className="ace_layer ace_gutter-layer";a.appendChild(this.element);this.setShowFoldWidgets(this.$showFoldWidgets);this.gutterWidth=0;this.$breakpoints=[];this.$annotations=[];this.$decorations=[]};(function(){h.implement(this,a);this.setSession=
function(a){this.session=a};this.addGutterDecoration=function(a,b){this.$decorations[a]||(this.$decorations[a]="");this.$decorations[a]+=" "+b};this.removeGutterDecoration=function(a,b){this.$decorations[a]=(this.$decorations[a]||"").replace(" "+b,"")};this.setAnnotations=function(a){this.$annotations=[];for(var b in a)if(a.hasOwnProperty(b)){var f=a[b];if(f)for(var g=this.$annotations[b]={text:[]},h=0;h<f.length;h++){var i=f[h],v=i.text.replace(/"/g,"&quot;").replace(/'/g,"&#8217;").replace(/</,
"&lt;");-1===g.text.indexOf(v)&&g.text.push(v);i=i.type;"error"==i?g.className="ace_error":"warning"==i&&"ace_error"!=g.className?g.className="ace_warning":"info"==i&&!g.className&&(g.className="ace_info")}}};this.update=function(a){this.$config=a;for(var b={className:"",text:[]},f=[],h=a.firstRow,i=a.lastRow,t=this.session.getNextFoldLine(h),v=t?t.start.row:Infinity,w=this.$showFoldWidgets&&this.session.foldWidgets,x=this.session.$breakpoints;;){h>v&&(h=t.end.row+1,v=(t=this.session.getNextFoldLine(h,
t))?t.start.row:Infinity);if(h>i)break;var E=this.$annotations[h]||b;f.push("<div class='ace_gutter-cell",this.$decorations[h]||"",x[h]?" ace_breakpoint ":" ",E.className,"' title='",E.text.join("\n"),"' style='height:",this.session.getRowLength(h)*a.lineHeight,"px;'>",h+1);w&&(E=w[h],null==E&&(E=w[h]=this.session.getFoldWidget(h)),E&&f.push("<span class='ace_fold-widget ",E,"start"==E&&h==v&&h<t.end.row?" closed":" open","'></span>"));f.push("</div>");h++}this.session.$useWrapMode&&f.push("<div class='ace_gutter-cell' style='pointer-events:none;opacity:0'>",
this.session.getLength()-1,"</div>");this.element=g.setInnerHtml(this.element,f.join(""));this.element.style.height=a.minHeight+"px";a=this.element.offsetWidth;a!==this.gutterWidth&&(this.gutterWidth=a,this._emit("changeGutterWidth",a))};this.$showFoldWidgets=!0;this.setShowFoldWidgets=function(a){a?g.addCssClass(this.element,"ace_folding-enabled"):g.removeCssClass(this.element,"ace_folding-enabled");this.$showFoldWidgets=a};this.getShowFoldWidgets=function(){return this.$showFoldWidgets}}).call(f.prototype);
i.Gutter=f});
define("ace/layer/marker",["require","exports","module","../range","../lib/dom"],function(b,i){var g=b("../range").Range,h=b("../lib/dom"),a=function(a){this.element=h.createElement("div");this.element.className="ace_layer ace_marker-layer";a.appendChild(this.element)};(function(){this.$padding=0;this.setPadding=function(a){this.$padding=a};this.setSession=function(a){this.session=a};this.setMarkers=function(a){this.markers=a};this.update=function(a){if(a=a||this.config){this.config=a;var b=[],g;
for(g in this.markers){var i=this.markers[g];if(i.range){var r=i.range.clipRows(a.firstRow,a.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var p=this.$getTop(r.start.row,a),t=Math.round(this.$padding+r.start.column*a.characterWidth);i.renderer(b,r,t,p,a)}else r.isMultiLine()?"text"==i.type?this.drawTextMarker(b,r,i.clazz,a):this.drawMultiLineMarker(b,r,i.clazz,a,i.type):this.drawSingleLineMarker(b,r,i.clazz+" start",a,null,i.type)}else i.update(b,this,this.session,a)}this.element=
h.setInnerHtml(this.element,b.join(""))}};this.$getTop=function(a,b){return(a-b.firstRowScreen)*b.lineHeight};this.drawTextMarker=function(a,b,h,i){var r=b.start.row,p=new g(r,b.start.column,r,this.session.getScreenLastRowColumn(r));this.drawSingleLineMarker(a,p,h+" start",i,1,"text");r=b.end.row;p=new g(r,0,r,b.end.column);this.drawSingleLineMarker(a,p,h,i,0,"text");for(r=b.start.row+1;r<b.end.row;r++)p.start.row=r,p.end.row=r,p.end.column=this.session.getScreenLastRowColumn(r),this.drawSingleLineMarker(a,
p,h,i,1,"text")};this.drawMultiLineMarker=function(a,b,g,h,i){var i="background"===i?0:this.$padding,p=h.lineHeight,t=this.$getTop(b.start.row,h),v=Math.round(i+b.start.column*h.characterWidth);a.push("<div class='",g," start' style='","height:",p,"px;","right:0;","top:",t,"px;","left:",v,"px;'></div>");t=this.$getTop(b.end.row,h);v=Math.round(b.end.column*h.characterWidth);a.push("<div class='",g,"' style='","height:",p,"px;","width:",v,"px;","top:",t,"px;","left:",i,"px;'></div>");p=(b.end.row-
b.start.row-1)*h.lineHeight;0>p||(t=this.$getTop(b.start.row+1,h),a.push("<div class='",g,"' style='","height:",p,"px;","right:0;","top:",t,"px;","left:",i,"px;'></div>"))};this.drawSingleLineMarker=function(a,b,g,h,i,p){var t="background"===p?0:this.$padding,v=h.lineHeight,i="background"===p?h.width:Math.round((b.end.column+(i||0)-b.start.column)*h.characterWidth),p=this.$getTop(b.start.row,h),b=Math.round(t+b.start.column*h.characterWidth);a.push("<div class='",g,"' style='","height:",v,"px;","width:",
i,"px;","top:",p,"px;","left:",b,"px;'></div>")}}).call(a.prototype);i.Marker=a});
define("ace/layer/text","require exports module ../lib/oop ../lib/dom ../lib/lang ../lib/useragent ../lib/event_emitter".split(" "),function(b,i){var g=b("../lib/oop"),h=b("../lib/dom"),a=b("../lib/lang"),f=b("../lib/useragent"),k=b("../lib/event_emitter").EventEmitter,m=function(a){this.element=h.createElement("div");this.element.className="ace_layer ace_text-layer";a.appendChild(this.element);this.$characterSize=this.$measureSizes()||{width:0,height:0};this.$pollSizeChanges()};(function(){g.implement(this,
k);this.EOF_CHAR="\u00b6";this.EOL_CHAR="\u00ac";this.TAB_CHAR="\u2192";this.SPACE_CHAR="\u00b7";this.$padding=0;this.setPadding=function(a){this.$padding=a;this.element.style.padding="0 "+a+"px"};this.getLineHeight=function(){return this.$characterSize.height||1};this.getCharacterWidth=function(){return this.$characterSize.width||1};this.checkForSizeChanges=function(){var a=this.$measureSizes();if(a&&(this.$characterSize.width!==a.width||this.$characterSize.height!==a.height))this.$characterSize=
a,this._emit("changeCharacterSize",{data:a})};this.$pollSizeChanges=function(){var a=this;this.$pollSizeChangesTimer=setInterval(function(){a.checkForSizeChanges()},500)};this.$fontStyles={fontFamily:1,fontSize:1,fontWeight:1,fontStyle:1,lineHeight:1};this.$measureSizes=f.isIE||f.isOldGecko?function(){if(!this.$measureNode){var b=this.$measureNode=h.createElement("div"),f=b.style;f.width=f.height="auto";f.left=f.top="-40000px";f.visibility="hidden";f.position="fixed";f.overflow="visible";f.whiteSpace=
"nowrap";b.innerHTML=a.stringRepeat("Xy",1E3);if(this.element.ownerDocument.body)this.element.ownerDocument.body.appendChild(b);else{for(f=this.element.parentNode;!h.hasCssClass(f,"ace_editor");)f=f.parentNode;f.appendChild(b)}}if(!this.element.offsetWidth)return null;var f=this.$measureNode.style,b=h.computedStyle(this.element),g;for(g in this.$fontStyles)f[g]=b[g];g={height:this.$measureNode.offsetHeight,width:this.$measureNode.offsetWidth/2E3};return 0==g.width||0==g.height?null:g}:function(){if(!this.$measureNode){var a=
this.$measureNode=h.createElement("div"),b=a.style;b.width=b.height="auto";b.left=b.top="-100px";b.visibility="hidden";b.position="fixed";b.overflow="visible";b.whiteSpace="nowrap";a.innerHTML="X";for(b=this.element.parentNode;b&&!h.hasCssClass(b,"ace_editor");)b=b.parentNode;if(!b)return this.$measureNode=null;b.appendChild(a)}a=this.$measureNode.getBoundingClientRect();a={height:a.height,width:a.width};return 0==a.width||0==a.height?null:a};this.setSession=function(a){this.session=a};this.showInvisibles=
!1;this.setShowInvisibles=function(a){if(this.showInvisibles==a)return!1;this.showInvisibles=a;return!0};this.$tabStrings=[];this.$computeTabString=function(){for(var a=this.session.getTabSize(),b=this.$tabStrings=[0],f=1;f<a+1;f++)this.showInvisibles?b.push("<span class='ace_invisible'>"+this.TAB_CHAR+Array(f).join("&#160;")+"</span>"):b.push(Array(f+1).join("&#160;"))};this.updateLines=function(a,b,f){this.$computeTabString();(this.config.lastRow!=a.lastRow||this.config.firstRow!=a.firstRow)&&this.scrollLines(a);
this.config=a;for(var g=Math.max(b,a.firstRow),f=Math.min(f,a.lastRow),b=this.element.childNodes,k=0,a=a.firstRow;a<g;a++){var i=this.session.getFoldLine(a);if(i)if(i.containsRow(g)){g=i.start.row;break}else a=i.end.row;k++}for(;g<=f;g++)if(a=b[k++]){var i=[],m=this.session.getTokens(g);this.$renderLine(i,g,m,!this.$useLineGroups());h.setInnerHtml(a,i.join(""));g=this.session.getRowFoldEnd(g)}};this.scrollLines=function(a){this.$computeTabString();var b=this.config;this.config=a;if(!b||b.lastRow<
a.firstRow||a.lastRow<b.firstRow)return this.update(a);var f=this.element;if(b.firstRow<a.firstRow)for(var g=this.session.getFoldedRowCount(b.firstRow,a.firstRow-1);0<g;g--)f.removeChild(f.firstChild);if(b.lastRow>a.lastRow)for(g=this.session.getFoldedRowCount(a.lastRow+1,b.lastRow);0<g;g--)f.removeChild(f.lastChild);a.firstRow<b.firstRow&&(g=this.$renderLinesFragment(a,a.firstRow,b.firstRow-1),f.firstChild?f.insertBefore(g,f.firstChild):f.appendChild(g));a.lastRow>b.lastRow&&(g=this.$renderLinesFragment(a,
b.lastRow+1,a.lastRow),f.appendChild(g))};this.$renderLinesFragment=function(a,b,f){for(var a=this.element.ownerDocument.createDocumentFragment(),g=this.session.getNextFoldLine(b),k=g?g.start.row:Infinity;;){b>k&&(b=g.end.row+1,k=(g=this.session.getNextFoldLine(b,g))?g.start.row:Infinity);if(b>f)break;var i=h.createElement("div"),m=[],E=this.session.getTokens(b);this.$renderLine(m,b,E,!1);i.innerHTML=m.join("");if(this.$useLineGroups())i.className="ace_line_group",a.appendChild(i);else for(i=i.childNodes;i.length;)a.appendChild(i[0]);
b++}return a};this.update=function(a){this.$computeTabString();this.config=a;for(var b=[],f=a.lastRow,a=a.firstRow,g=this.session.getNextFoldLine(a),k=g?g.start.row:Infinity;;){a>k&&(a=g.end.row+1,k=(g=this.session.getNextFoldLine(a,g))?g.start.row:Infinity);if(a>f)break;this.$useLineGroups()&&b.push("<div class='ace_line_group'>");var i=this.session.getTokens(a);this.$renderLine(b,a,i,!1);this.$useLineGroups()&&b.push("</div>");a++}this.element=h.setInnerHtml(this.element,b.join(""))};this.$textToken=
{text:!0,rparen:!0,lparen:!0};this.$renderToken=function(a,b,f,g){var h=this,k=g.replace(/\t|&|<|( +)|([\u0000-\u0019\u00a0\u1680\u180E\u2000-\u200b\u2028\u2029\u202F\u205F\u3000\uFEFF])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,
function(a,f,g,k){if(f)return Array(a.length+1).join("&#160;");if("&"==a)return"&#38;";if("<"==a)return"&#60;";if("\t"==a)return a=h.session.getScreenTabSize(b+k),b+=a-1,h.$tabStrings[a];if("\u3000"==a)return a=h.showInvisibles?"ace_cjk ace_invisible":"ace_cjk",f=h.showInvisibles?h.SPACE_CHAR:"",b+=1,"<span class='"+a+"' style='width:"+2*h.config.characterWidth+"px'>"+f+"</span>";if(g)return"<span class='ace_invisible ace_invalid'>"+h.SPACE_CHAR+"</span>";b+=1;return"<span class='ace_cjk' style='width:"+
2*h.config.characterWidth+"px'>"+a+"</span>"});if(this.$textToken[f.type])a.push(k);else{var i="ace_"+f.type.replace(/\./g," ace_"),m="";"fold"==f.type&&(m=" style='width:"+f.value.length*this.config.characterWidth+"px;' ");a.push("<span class='",i,"'",m,">",k,"</span>")}return b+g.length};this.$renderLineCore=function(a,b,f,g,h){var k=0,i=0,m,z=0;m=!g||0==g.length?Number.MAX_VALUE:g[0];h||a.push("<div class='ace_line' style='height:",this.config.lineHeight,"px","'>");for(var L=0;L<f.length;L++){var C=
f[L],A=C.value;if(k+A.length<m)z=this.$renderToken(a,z,C,A),k+=A.length;else{for(;k+A.length>=m;)this.$renderToken(a,z,C,A.substring(0,m-k)),A=A.substring(m-k),k=m,h||a.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px","'>"),i++,z=0,m=g[i]||Number.MAX_VALUE;0!=A.length&&(k+=A.length,z=this.$renderToken(a,z,C,A))}}this.showInvisibles&&(b!==this.session.getLength()-1?a.push("<span class='ace_invisible'>"+this.EOL_CHAR+"</span>"):a.push("<span class='ace_invisible'>"+this.EOF_CHAR+
"</span>"));h||a.push("</div>")};this.$renderLine=function(a,b,f,g){if(this.session.isRowFolded(b))this.$renderFoldLine(a,b,f,g);else{var h=this.session.getRowSplitData(b);this.$renderLineCore(a,b,f,h,g)}};this.$renderFoldLine=function(a,b,f,g){var h=this.session,k=h.getFoldLine(b),i=[];k.walk(function(a,b,g,k,l){if(a)i.push({type:"fold",value:a});else if(l&&(f=h.getTokens(b)),f.length)a:{a=f;for(l=b=0;l+a[b].value.length<k;)if(l+=a[b].value.length,b++,b==a.length)break a;if(l!=k){var m=a[b].value.substring(k-
l);m.length>g-k&&(m=m.substring(0,g-k));i.push({type:a[b].type,value:m});l=k+m.length;b+=1}for(;l<g&&b<a.length;)m=a[b].value,m.length+l>g?i.push({type:a[b].type,value:m.substring(0,g-l)}):i.push(a[b]),l+=m.length,b+=1}},k.end.row,this.session.getLine(k.end.row).length);this.$renderLineCore(a,b,i,this.session.$useWrapMode?this.session.$wrapData[b]:null,g)};this.$useLineGroups=function(){return this.session.getUseWrapMode()};this.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.$measureNode&&
this.$measureNode.parentNode.removeChild(this.$measureNode);delete this.$measureNode}}).call(m.prototype);i.Text=m});
define("ace/layer/cursor",["require","exports","module","../lib/dom"],function(b,i){var g=b("../lib/dom"),h=function(a){this.element=g.createElement("div");this.element.className="ace_layer ace_cursor-layer";a.appendChild(this.element);this.isVisible=!1;this.cursors=[];this.cursor=this.addCursor()};(function(){this.$padding=0;this.setPadding=function(a){this.$padding=a};this.setSession=function(a){this.session=a};this.addCursor=function(){var a=g.createElement("div"),b="ace_cursor";this.isVisible||
(b+=" ace_hidden");this.overwrite&&(b+=" ace_overwrite");a.className=b;this.element.appendChild(a);this.cursors.push(a);return a};this.removeCursor=function(){if(1<this.cursors.length){var a=this.cursors.pop();a.parentNode.removeChild(a);return a}};this.hideCursor=function(){this.isVisible=!1;for(var a=this.cursors.length;a--;)g.addCssClass(this.cursors[a],"ace_hidden");clearInterval(this.blinkId)};this.showCursor=function(){this.isVisible=!0;for(var a=this.cursors.length;a--;)g.removeCssClass(this.cursors[a],
"ace_hidden");this.element.style.visibility="";this.restartTimer()};this.restartTimer=function(){clearInterval(this.blinkId);if(this.isVisible){var a=1==this.cursors.length?this.cursor:this.element;this.blinkId=setInterval(function(){a.style.visibility="hidden";setTimeout(function(){a.style.visibility=""},400)},1E3)}};this.getPixelPosition=function(a,b){if(!this.config||!this.session)return{left:0,top:0};a||(a=this.session.selection.getCursor());var g=this.session.documentToScreenPosition(a);return{left:Math.round(this.$padding+
g.column*this.config.characterWidth),top:(g.row-(b?this.config.firstRowScreen:0))*this.config.lineHeight}};this.update=function(a){this.config=a;if(0<this.session.selectionMarkerCount){for(var b=this.session.$selectionMarkers,g=0,h,i=0,g=b.length;g--;){h=b[g];h=this.getPixelPosition(h.cursor,!0);var r=(this.cursors[i++]||this.addCursor()).style;r.left=h.left+"px";r.top=h.top+"px";r.width=a.characterWidth+"px";r.height=a.lineHeight+"px"}if(1<i)for(;this.cursors.length>i;)this.removeCursor()}else{h=
this.getPixelPosition(null,!0);r=this.cursor.style;r.left=h.left+"px";r.top=h.top+"px";r.width=a.characterWidth+"px";for(r.height=a.lineHeight+"px";1<this.cursors.length;)this.removeCursor()}a=this.session.getOverwrite();a!=this.overwrite&&this.$setOverite(a);this.$pixelPos=h;this.restartTimer()};this.$setOverite=function(a){this.overwrite=a;for(var b=this.cursors.length;b--;)a?g.addCssClass(this.cursors[b],"ace_overwrite"):g.removeCssClass(this.cursors[b],"ace_overwrite")};this.destroy=function(){clearInterval(this.blinkId)}}).call(h.prototype);
i.Cursor=h});
define("ace/scrollbar","require exports module ./lib/oop ./lib/dom ./lib/event ./lib/event_emitter".split(" "),function(b,i){var g=b("./lib/oop"),h=b("./lib/dom"),a=b("./lib/event"),f=b("./lib/event_emitter").EventEmitter,k=function(b){this.element=h.createElement("div");this.element.className="ace_sb";this.inner=h.createElement("div");this.element.appendChild(this.inner);b.appendChild(this.element);this.width=h.scrollbarWidth(b.ownerDocument);this.element.style.width=(this.width||15)+5+"px";a.addListener(this.element,
"scroll",this.onScroll.bind(this))};(function(){g.implement(this,f);this.onScroll=function(){this._emit("scroll",{data:this.element.scrollTop})};this.getWidth=function(){return this.width};this.setHeight=function(a){this.element.style.height=a+"px"};this.setInnerHeight=function(a){this.inner.style.height=a+"px"};this.setScrollTop=function(a){this.element.scrollTop=a}}).call(k.prototype);i.ScrollBar=k});
define("ace/renderloop",["require","exports","module","./lib/event"],function(b,i){var g=b("./lib/event"),h=function(a,b){this.onRender=a;this.pending=!1;this.changes=0;this.window=b||window};(function(){this.schedule=function(a){this.changes|=a;if(!this.pending){this.pending=!0;var b=this;g.nextTick(function(){b.pending=!1;for(var a;a=b.changes;)b.changes=0,b.onRender(a)},this.window)}}}).call(h.prototype);i.RenderLoop=h});
(function(){var b="undefined"!=typeof require&&require;define("ace/requirejs/text",["require","exports","module","ace/lib/net"],function(i,g){g.load=function(g,a,f){b&&b.nodeRequire?f(b.nodeRequire("fs").readFileSync(a.toUrl(g),"utf8")):i("ace/lib/net").get(a.toUrl(g),f)}})})();
define("ace/range_list",["require","exports","module"],function(b,i){var g=function(){this.ranges=[]};(function(){this.comparePoints=function(b,a){return b.row-a.row||b.column-a.column};this.pointIndex=function(b,a){for(var f=this.ranges,g=a||0;g<f.length;g++){var i=f[g],l=this.comparePoints(b,i.end);if(!(0<l)){if(0==l)return g;l=this.comparePoints(b,i.start);if(0<=l)return g;break}}return-g-1};this.add=function(b){var a=this.pointIndex(b.start);0>a&&(a=-a-1);var f=this.pointIndex(b.end,a);0>f?f=
-f-1:f++;return this.ranges.splice(a,f-a,b)};this.addList=function(b){for(var a=[],f=b.length;f--;)a.push.call(a,this.add(b[f]));return a};this.substractPoint=function(b){b=this.pointIndex(b);if(0<=b)return this.ranges.splice(b,1)};this.merge=function(){for(var b=[],a=this.ranges,f=a[0],g,i=1;i<a.length;i++){g=f;var f=a[i],l=this.comparePoints(g.end,f.start);!(0>l)&&!(0==l&&!g.isEmpty()&&!f.isEmpty())&&(0>this.comparePoints(g.end,f.end)&&(g.end.row=f.end.row,g.end.column=f.end.column),a.splice(i,
1),b.push(f),f=g,i--)}return b};this.contains=function(b,a){return 0<=this.pointIndex({row:b,column:a})};this.containsPoint=function(b){return 0<=this.pointIndex(b)};this.rangeAtPoint=function(b){b=this.pointIndex(b);if(0<=b)return this.ranges[b]};this.clipRows=function(b,a){var f=this.ranges;if(f[0].start.row>a||f[f.length-1].start.row<b)return[];var g=this.pointIndex({row:b,column:0});0>g&&(g=-g-1);var i=this.pointIndex({row:a,column:0},g);0>i&&(i=-i-1);for(var l=[];g<i;g++)l.push(f[g]);return l};
this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)};this.attach=function(b){this.session&&this.detach();this.session=b;this.onChange=this.$onChange.bind(this);this.session.on("change",this.onChange)};this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)};this.$onChange=function(b){var a=b.data.range;if("i"==b.data.action[0])var b=a.start,f=a.end;else f=a.start,b=a.end;for(var a=b.row,g=f.row-a,f=-b.column+f.column,i=this.ranges,
l=0,r=i.length;l<r;l++){var p=i[l];if(!(p.end.row<a)){if(p.start.row>a)break;p.start.row==a&&p.start.column>=b.column&&(p.start.column+=f,p.start.row+=g);p.end.row==a&&p.end.column>=b.column&&(p.end.column+=f,p.end.row+=g)}}if(0!=g&&l<r)for(;l<r;l++)p=i[l],p.start.row+=g,p.end.row+=g}}).call(g.prototype);i.RangeList=g});
define("ace/mouse/multi_select_handler",["require","exports","module","../lib/event"],function(b,i){function g(a,b){return a.row==b.row&&a.column==b.column}var h=b("../lib/event");i.onMouseDown=function(a){var b=a.domEvent,k=b.altKey,b=b.shiftKey,i=a.getAccelKey(),l=a.getButton();if(a.editor.inMultiSelectMode&&2==l)a.editor.textInput.onContextMenu(a.domEvent);else if(!i&&!k)0==l&&a.editor.inMultiSelectMode&&a.editor.exitMultiSelectMode();else{var r=a.editor,p=r.selection,t=r.inMultiSelectMode,v=a.getDocumentPosition(),
w=p.getCursor(),w=a.inSelection()||p.isEmpty()&&g(v,w),x=a.x,E=a.y,z=function(a){x=a.clientX;E=a.clientY},L=r.session,C=r.renderer.pixelToScreenCoordinates(x,E),A=C;if(i&&!b&&!k&&0==l){if(t||!w){if(!t){var O=p.toOrientedRange();r.addSelectionMarker(O)}var Q=p.rangeList.rangeAtPoint(v);h.capture(r.container,function(){},function(){var a=p.toOrientedRange();Q&&a.isEmpty()&&g(Q.cursor,a.cursor)?p.substractPoint(a.cursor):(O&&(r.removeSelectionMarker(O),p.addRange(O)),p.addRange(a))})}}else if(!b&&k&&
0==l){a.stop();t&&!i?p.toSingleRange():!t&&i&&p.addRange();p.moveCursorToPosition(v);p.clearSelection();var U=[];h.capture(r.container,z,function(){clearInterval(sa);r.removeSelectionMarkers(U);for(var a=0;a<U.length;a++)p.addRange(U[a])});var sa=setInterval(function(){var a=r.renderer.pixelToScreenCoordinates(x,E),b=L.screenToDocumentPosition(a.row,a.column);if(!g(A,a)||!g(b,p.selectionLead))A=a,r.selection.moveCursorToPosition(b),r.selection.clearSelection(),r.renderer.scrollCursorIntoView(),r.removeSelectionMarkers(U),
U=p.rectangularRangeBlock(A,C),U.forEach(r.addSelectionMarker,r),r.updateSelectionMarkers()},20);return a.preventDefault()}}}});
define("ace/keyboard/hash_handler",["require","exports","module","../lib/keys"],function(b,i){function g(a,b){this.platform=b;this.commands={};this.commmandKeyBinding={};this.addCommands(a)}var h=b("../lib/keys");(function(){this.addCommand=function(a){this.commands[a.name]&&this.removeCommand(a);this.commands[a.name]=a;a.bindKey&&this._buildKeyHash(a)};this.removeCommand=function(a){var b="string"===typeof a?a:a.name,a=this.commands[b];delete this.commands[b];var b=this.commmandKeyBinding,g;for(g in b)for(var h in b[g])b[g][h]==
a&&delete b[g][h]};this.bindKey=function(a,b){if(a)if("function"==typeof b)this.addCommand({exec:b,bindKey:a,name:a});else{var g=this.commmandKeyBinding;a.split("|").forEach(function(a){var a=this.parseKeys(a,b),h=a.hashId;(g[h]||(g[h]={}))[a.key]=b},this)}};this.addCommands=function(a){a&&Object.keys(a).forEach(function(b){var g=a[b];if("string"===typeof g)return this.bindKey(g,b);"function"===typeof g&&(g={exec:g});g.name||(g.name=b);this.addCommand(g)},this)};this.removeCommands=function(a){Object.keys(a).forEach(function(b){this.removeCommand(a[b])},
this)};this.bindKeys=function(a){Object.keys(a).forEach(function(b){this.bindKey(b,a[b])},this)};this._buildKeyHash=function(a){var b=a.bindKey;b&&this.bindKey("string"==typeof b?b:b[this.platform],a)};this.parseKeys=function(a){for(var b,g=0,a=a.toLowerCase().trim().split(/\s*\-\s*/),i=0,l=a.length;i<l;i++)h.KEY_MODS[a[i]]?g|=h.KEY_MODS[a[i]]:b=a[i]||"-";"text"==a[0]&&2==a.length&&(g=-1,b=a[1]);return{key:b,hashId:g}};this.findKeyCommand=function(a,b){var g=this.commmandKeyBinding;return g[a]&&g[a][b.toLowerCase()]};
this.handleKeyboard=function(a,b,g){return{command:this.findKeyCommand(b,g)}}}).call(g.prototype);i.HashHandler=g});
define("ace/commands/command_manager","require exports module ../lib/oop ../keyboard/hash_handler ../lib/event_emitter".split(" "),function(b,i){var g=b("../lib/oop"),h=b("../keyboard/hash_handler").HashHandler,a=b("../lib/event_emitter").EventEmitter,f=function(a,b){this.platform=a;this.commands={};this.commmandKeyBinding={};this.addCommands(b);this.setDefaultHandler("exec",function(a){return a.command.exec(a.editor,a.args||{})})};g.inherits(f,h);(function(){g.implement(this,a);this.exec=function(a,
b,f){"string"===typeof a&&(a=this.commands[a]);return!a||b&&b.$readOnly&&!a.readOnly?!1:!1===this._emit("exec",{editor:b,command:a,args:f})?!1:!0};this.toggleRecording=function(){if(!this.$inReplay){if(this.recording)return this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1;this.$addCommandToMacro||(this.$addCommandToMacro=function(a){this.macro.push([a.command,a.args])}.bind(this));this.oldMacro=this.macro;this.macro=
[];this.on("exec",this.$addCommandToMacro);return this.recording=!0}};this.replay=function(a){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording();try{this.$inReplay=!0,this.macro.forEach(function(b){"string"==typeof b?this.exec(b,a):this.exec(b[0],a,b[1])},this)}finally{this.$inReplay=!1}}};this.trimMacro=function(a){return a.map(function(a){"string"!=typeof a[0]&&(a[0]=a[0].name);a[1]||(a=a[0]);return a})}}).call(f.prototype);i.CommandManager=f});
define("ace/commands/multi_select_commands",["require","exports","module","../keyboard/hash_handler"],function(b,i){i.defaultCommands=[{name:"addCursorAbove",exec:function(b){b.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},readonly:!0},{name:"addCursorBelow",exec:function(b){b.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},readonly:!0},{name:"addCursorAboveSkipCurrent",exec:function(b){b.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},
readonly:!0},{name:"addCursorBelowSkipCurrent",exec:function(b){b.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},readonly:!0},{name:"selectMoreBefore",exec:function(b){b.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},readonly:!0},{name:"selectMoreAfter",exec:function(b){b.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},readonly:!0},{name:"selectNextBefore",exec:function(b){b.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",
mac:"Ctrl-Alt-Shift-Left"},readonly:!0},{name:"selectNextAfter",exec:function(b){b.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},readonly:!0},{name:"splitIntoLines",exec:function(b){b.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Shift-L",mac:"Ctrl-Shift-L"},readonly:!0}];i.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(b){b.exitMultiSelectMode()},readonly:!0,isAvailable:function(b){return b&&b.inMultiSelectMode}}];var g=b("../keyboard/hash_handler").HashHandler;
i.keyboardHandler=new g(i.multiSelectCommands)});
define("ace/keyboard/state_handler",["require","exports","module"],function(b,i){function g(b){this.keymapping=this.$buildKeymappingRegex(b)}g.prototype={$buildKeymappingRegex:function(b){for(var a in b)this.$buildBindingsRegex(b[a]);return b},$buildBindingsRegex:function(b){b.forEach(function(a){a.key?a.key=RegExp("^"+a.key+"$"):Array.isArray(a.regex)?("key"in a||(a.key=RegExp("^"+a.regex[1]+"$")),a.regex=RegExp(a.regex.join("")+"$")):a.regex&&(a.regex=RegExp(a.regex+"$"))})},$composeBuffer:function(b,
a,f,g){if(null==b.state||null==b.buffer)b.state="start",b.buffer="";var i=[];a&1&&i.push("ctrl");a&8&&i.push("command");a&2&&i.push("option");a&4&&i.push("shift");f&&i.push(f);f=i.join("-");i=b.buffer+f;2!=a&&(b.buffer=i);b={bufferToUse:i,symbolicName:f};g&&(b.keyIdentifier=g.keyIdentifier);return b},$find:function(b,a,f,g,i,l){var r={};this.keymapping[b.state].some(function(p){var t;if(p.key&&!p.key.test(f)||p.regex&&!(t=p.regex.exec(a))||p.match&&!p.match(a,g,i,f,l))return!1;if(p.disallowMatches)for(var v=
0;v<p.disallowMatches.length;v++)if(t[p.disallowMatches[v]])return!1;if(p.exec){r.command=p.exec;if(p.params){var w;r.args={};p.params.forEach(function(a){w=null!=a.match&&null!=t?t[a.match]||a.defaultValue:a.defaultValue;"number"===a.type&&(w=parseInt(w));r.args[a.name]=w})}b.buffer=""}p.then&&(b.state=p.then,b.buffer="");null==r.command&&(r.command="null");return!0});if(r.command)return r;b.buffer="";return!1},handleKeyboard:function(b,a,f,g,i){-1==a&&(a=0);if(0!=a&&(""==f||f==String.fromCharCode(0)))return null;
g=this.$composeBuffer(b,a,f,i);return g=this.$find(b,g.bufferToUse,g.symbolicName,a,f,g.keyIdentifier)}};i.matchCharacterOnly=function(b,a,f){return 0==a?!0:4==a&&1==f.length?!0:!1};i.StateHandler=g});
define("ace/placeholder","require exports module ./range ./lib/event_emitter ./lib/oop".split(" "),function(b,i){var g=b("./range").Range,h=b("./lib/event_emitter").EventEmitter,a=b("./lib/oop"),f=function(a,b,f,g,h,i){var v=this;this.length=b;this.session=a;this.doc=a.getDocument();this.mainClass=h;this.othersClass=i;this.$onUpdate=this.onUpdate.bind(this);this.doc.on("change",this.$onUpdate);this.$others=g;this.$onCursorChange=function(){setTimeout(function(){v.onCursorChange()})};this.$pos=f;this.$undoStackDepth=
(a.getUndoManager().$undoStack||a.getUndoManager().$undostack||{length:-1}).length;this.setup();a.selection.on("changeCursor",this.$onCursorChange)};(function(){a.implement(this,h);this.setup=function(){var a=this,b=this.doc,f=this.session,h=this.$pos;this.pos=b.createAnchor(h.row,h.column);this.markerId=f.addMarker(new g(h.row,h.column,h.row,h.column+this.length),this.mainClass,null,!1);this.pos.on("change",function(b){f.removeMarker(a.markerId);a.markerId=f.addMarker(new g(b.value.row,b.value.column,
b.value.row,b.value.column+a.length),a.mainClass,null,!1)});this.others=[];this.$others.forEach(function(f){f=b.createAnchor(f.row,f.column);a.others.push(f)});f.setUndoSelect(!1)};this.showOtherMarkers=function(){if(!this.othersActive){var a=this.session,b=this;this.othersActive=!0;this.others.forEach(function(f){f.markerId=a.addMarker(new g(f.row,f.column,f.row,f.column+b.length),b.othersClass,null,!1);f.on("change",function(h){a.removeMarker(f.markerId);f.markerId=a.addMarker(new g(h.value.row,
h.value.column,h.value.row,h.value.column+b.length),b.othersClass,null,!1)})})}};this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var a=0;a<this.others.length;a++)this.session.removeMarker(this.others[a].markerId)}};this.onUpdate=function(a){var a=a.data,b=a.range;if(b.start.row===b.end.row&&b.start.row===this.pos.row&&!this.$updating){this.$updating=!0;var f="insertText"===a.action?b.end.column-b.start.column:b.start.column-b.end.column;if(b.start.column>=this.pos.column&&
b.start.column<=this.pos.column+this.length+1){var h=b.start.column-this.pos.column;this.length+=f;if(!this.session.$fromUndo){if("insertText"===a.action)for(var i=this.others.length-1;0<=i;i--){var t=this.others[i],v={row:t.row,column:t.column+h};t.row===b.start.row&&b.start.column<t.column&&(v.column+=f);this.doc.insert(v,a.text)}else if("removeText"===a.action)for(i=this.others.length-1;0<=i;i--)t=this.others[i],v={row:t.row,column:t.column+h},t.row===b.start.row&&b.start.column<t.column&&(v.column+=
f),this.doc.remove(new g(v.row,v.column,v.row,v.column-f));b.start.column===this.pos.column&&"insertText"===a.action?setTimeout(function(){this.pos.setPosition(this.pos.row,this.pos.column-f);for(var a=0;a<this.others.length;a++){var g=this.others[a],h=g.row,k=g.column-f;g.row===b.start.row&&b.start.column<g.column&&(k+=f);g.setPosition(h,k)}}.bind(this),0):b.start.column===this.pos.column&&"removeText"===a.action&&setTimeout(function(){for(var a=0;a<this.others.length;a++){var g=this.others[a];g.row===
b.start.row&&b.start.column<g.column&&g.setPosition(g.row,g.column-f)}}.bind(this),0)}this.pos._emit("change",{value:this.pos});for(i=0;i<this.others.length;i++)this.others[i]._emit("change",{value:this.others[i]})}this.$updating=!1}};this.onCursorChange=function(a){if(!this.$updating){var b=this.session.selection.getCursor();b.row===this.pos.row&&b.column>=this.pos.column&&b.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",a)):(this.hideOtherMarkers(),this._emit("cursorLeave",
a))}};this.detach=function(){this.session.removeMarker(this.markerId);this.hideOtherMarkers();this.doc.removeEventListener("change",this.$onUpdate);this.session.selection.removeEventListener("changeCursor",this.$onCursorChange);this.pos.detach();for(var a=0;a<this.others.length;a++)this.others[a].detach();this.session.setUndoSelect(!0)};this.cancel=function(){if(-1===this.$undoStackDepth)throw Error("Canceling placeholders only supported with undo manager attached to session.");for(var a=this.session.getUndoManager(),
b=(a.$undoStack||a.$undostack).length-this.$undoStackDepth,f=0;f<b;f++)a.undo(!0)}}).call(f.prototype);i.PlaceHolder=f});
define("ace/config",["require","exports","module","./lib/lang"],function(b,i,g){function h(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}"no use strict";var a=b("./lib/lang"),f=function(){return this}(),k={packaged:!1,workerPath:"",modePath:"",themePath:"",suffix:".js",$moduleUrls:{}};i.get=function(a){if(!k.hasOwnProperty(a))throw Error("Unknown config key: "+a);return k[a]};i.set=function(a,b){if(!k.hasOwnProperty(a))throw Error("Unknown config key: "+a);k[a]=b};i.all=function(){return a.copyObject(k)};
i.moduleUrl=function(a,b){if(k.$moduleUrls[a])return k.$moduleUrls[a];var f=a.split("/"),b=b||f[f.length-2]||"",g=f[f.length-1].replace(b,"").replace(/(^[\-_])|([\-_]$)/,"");!g&&1<f.length&&(g=f[f.length-2]);return this.get(b+"Path")+"/"+b+"-"+g+this.get("suffix")};i.setModuleUrl=function(a,b){return k.$moduleUrls[a]=b};i.init=function(){k.packaged=b.packaged||g.packaged||f.define&&define.packaged;if(!f.document)return"";for(var a={},l="",r=document.getElementsByTagName("script"),p=0;p<r.length;p++){var t=
r[p],v=t.src||t.getAttribute("src");if(v){for(var t=t.attributes,w=0,x=t.length;w<x;w++){var E=t[w];0===E.name.indexOf("data-ace-")&&(a[h(E.name.replace(/^data-ace-/,""))]=E.value)}(v=v.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/))&&(l=v[1])}}l&&(a.base=a.base||l,a.packaged=!0);a.workerPath=a.workerPath||a.base;a.modePath=a.modePath||a.base;a.themePath=a.themePath||a.base;delete a.base;for(var z in a)"undefined"!==typeof a[z]&&i.set(z,a[z])}});
define("ace/edit_session","require exports module ./config ./lib/oop ./lib/lang ./lib/net ./lib/event_emitter ./selection ./mode/text ./range ./document ./background_tokenizer ./search_highlight ./edit_session/folding ./edit_session/bracket_match".split(" "),function(b,i){var g=b("./config"),h=b("./lib/oop"),a=b("./lib/lang"),f=b("./lib/net"),k=b("./lib/event_emitter").EventEmitter,m=b("./selection").Selection,l=b("./mode/text").Mode,r=b("./range").Range,p=b("./document").Document,t=b("./background_tokenizer").BackgroundTokenizer,
v=b("./search_highlight").SearchHighlight,w=function(a,b){this.$modified=!0;this.$breakpoints=[];this.$frontMarkers={};this.$backMarkers={};this.$markerId=1;this.$resetRowCache(0);this.$wrapData=[];this.$foldData=[];this.$rowLengthCache=[];this.$undoSelect=!0;this.$foldData.toString=function(){var a="";this.forEach(function(b){a+="\n"+b.toString()});return a};"object"==typeof a&&a.getLine?this.setDocument(a):this.setDocument(new p(a));this.selection=new m(this);this.setMode(b)};(function(){function i(a){return 4352>
a?!1:4352<=a&&4447>=a||4515<=a&&4519>=a||4602<=a&&4607>=a||9001<=a&&9002>=a||11904<=a&&11929>=a||11931<=a&&12019>=a||12032<=a&&12245>=a||12272<=a&&12283>=a||12288<=a&&12350>=a||12353<=a&&12438>=a||12441<=a&&12543>=a||12549<=a&&12589>=a||12593<=a&&12686>=a||12688<=a&&12730>=a||12736<=a&&12771>=a||12784<=a&&12830>=a||12832<=a&&12871>=a||12880<=a&&13054>=a||13056<=a&&19903>=a||19968<=a&&42124>=a||42128<=a&&42182>=a||43360<=a&&43388>=a||44032<=a&&55203>=a||55216<=a&&55238>=a||55243<=a&&55291>=a||63744<=
a&&64255>=a||65040<=a&&65049>=a||65072<=a&&65106>=a||65108<=a&&65126>=a||65128<=a&&65131>=a||65281<=a&&65376>=a||65504<=a&&65510>=a}h.implement(this,k);this.setDocument=function(a){if(this.doc)throw Error("Document is already set");this.doc=a;a.on("change",this.onChange.bind(this));this.on("changeFold",this.onChangeFold.bind(this));this.bgTokenizer&&(this.bgTokenizer.setDocument(this.getDocument()),this.bgTokenizer.start(0))};this.getDocument=function(){return this.doc};this.$resetRowCache=function(a){if(a){var a=
this.$getRowCacheIndex(this.$docRowCache,a)+1,b=this.$docRowCache.length;this.$docRowCache.splice(a,b);this.$screenRowCache.splice(a,b)}else this.$docRowCache=[],this.$screenRowCache=[]};this.$getRowCacheIndex=function(a,b){for(var f=0,g=a.length-1;f<=g;){var h=f+g>>1,k=a[h];if(b>k)f=h+1;else if(b<k)g=h-1;else return h}return f&&f-1};this.onChangeFold=function(a){this.$resetRowCache(a.data.start.row)};this.onChange=function(a){var b=a.data;this.$modified=!0;this.$resetRowCache(b.range.start.row);
var f=this.$updateInternalDataOnChange(a);!this.$fromUndo&&(this.$undoManager&&!b.ignore)&&(this.$deltasDoc.push(b),f&&0!=f.length&&this.$deltasFold.push({action:"removeFolds",folds:f}),this.$informUndoManager.schedule());this.bgTokenizer.$updateOnChange(b);this._emit("change",a)};this.setValue=function(a){this.doc.setValue(a);this.selection.moveCursorTo(0,0);this.selection.clearSelection();this.$resetRowCache(0);this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];this.getUndoManager().reset()};
this.getValue=this.toString=function(){return this.doc.getValue()};this.getSelection=function(){return this.selection};this.getState=function(a){return this.bgTokenizer.getState(a)};this.getTokens=function(a){return this.bgTokenizer.getTokens(a)};this.getTokenAt=function(a,b){var f=this.bgTokenizer.getTokens(a),g=0;if(null==b)h=f.length-1,g=this.getLine(a).length;else for(var h=0;h<f.length&&!(g+=f[h].value.length,g>=b);h++);f=f[h];if(!f)return null;f.index=h;f.start=g-f.value.length;return f};this.highlight=
function(a){if(!this.$searchHighlight){var b=new v(null,"ace_selected_word","text");this.$searchHighlight=this.addDynamicMarker(b)}this.$searchHighlight.setRegexp(a)};this.setUndoManager=function(b){this.$undoManager=b;this.$deltas=[];this.$deltasDoc=[];this.$deltasFold=[];this.$informUndoManager&&this.$informUndoManager.cancel();if(b){var f=this;this.$syncInformUndoManager=function(){f.$informUndoManager.cancel();f.$deltasFold.length&&(f.$deltas.push({group:"fold",deltas:f.$deltasFold}),f.$deltasFold=
[]);f.$deltasDoc.length&&(f.$deltas.push({group:"doc",deltas:f.$deltasDoc}),f.$deltasDoc=[]);0<f.$deltas.length&&b.execute({action:"aceupdate",args:[f.$deltas,f]});f.$deltas=[]};this.$informUndoManager=a.deferredCall(this.$syncInformUndoManager)}};this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}};this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager};this.getTabString=function(){return this.getUseSoftTabs()?a.stringRepeat(" ",this.getTabSize()):
"\t"};this.$useSoftTabs=!0;this.setUseSoftTabs=function(a){this.$useSoftTabs!==a&&(this.$useSoftTabs=a)};this.getUseSoftTabs=function(){return this.$useSoftTabs};this.$tabSize=4;this.setTabSize=function(a){isNaN(a)||this.$tabSize===a||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=a,this._emit("changeTabSize"))};this.getTabSize=function(){return this.$tabSize};this.isTabStop=function(a){return this.$useSoftTabs&&0==a.column%this.$tabSize};this.$overwrite=!1;this.setOverwrite=function(a){this.$overwrite!=
a&&(this.$overwrite=a,this._emit("changeOverwrite"))};this.getOverwrite=function(){return this.$overwrite};this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)};this.getBreakpoints=function(){return this.$breakpoints};this.setBreakpoints=function(a){this.$breakpoints=[];for(var b=0;b<a.length;b++)this.$breakpoints[a[b]]=!0;this._emit("changeBreakpoint",{})};this.clearBreakpoints=function(){this.$breakpoints=[];this._emit("changeBreakpoint",{})};this.setBreakpoint=function(a){this.$breakpoints[a]=
!0;this._emit("changeBreakpoint",{})};this.clearBreakpoint=function(a){delete this.$breakpoints[a];this._emit("changeBreakpoint",{})};this.addMarker=function(a,b,f,g){var h=this.$markerId++,a={range:a,type:f||"line",renderer:"function"==typeof f?f:null,clazz:b,inFront:!!g,id:h};g?(this.$frontMarkers[h]=a,this._emit("changeFrontMarker")):(this.$backMarkers[h]=a,this._emit("changeBackMarker"));return h};this.addDynamicMarker=function(a,b){if(a.update){var f=this.$markerId++;a.id=f;a.inFront=!!b;b?(this.$frontMarkers[f]=
a,this._emit("changeFrontMarker")):(this.$backMarkers[f]=a,this._emit("changeBackMarker"));return a}};this.removeMarker=function(a){var b=this.$frontMarkers[a]||this.$backMarkers[a];if(b){var f=b.inFront?this.$frontMarkers:this.$backMarkers;b&&(delete f[a],this._emit(b.inFront?"changeFrontMarker":"changeBackMarker"))}};this.getMarkers=function(a){return a?this.$frontMarkers:this.$backMarkers};this.setAnnotations=function(a){this.$annotations={};for(var b=0;b<a.length;b++){var f=a[b],g=f.row;this.$annotations[g]?
this.$annotations[g].push(f):this.$annotations[g]=[f]}this._emit("changeAnnotation",{})};this.getAnnotations=function(){return this.$annotations||{}};this.clearAnnotations=function(){this.$annotations={};this._emit("changeAnnotation",{})};this.$detectNewLine=function(a){this.$autoNewLine=(a=a.match(/^.*?(\r?\n)/m))?a[1]:"\n"};this.getWordRange=function(a,b){var f=this.getLine(a),g=!1;0<b&&(g=!!f.charAt(b-1).match(this.tokenRe));g||(g=!!f.charAt(b).match(this.tokenRe));var g=g?this.tokenRe:/^\s+$/.test(f.slice(b-
1,b+1))?/\s/:this.nonTokenRe,h=b;if(0<h){do h--;while(0<=h&&f.charAt(h).match(g));h++}for(var k=b;k<f.length&&f.charAt(k).match(g);)k++;return new r(a,h,a,k)};this.getAWordRange=function(a,b){for(var f=this.getWordRange(a,b),g=this.getLine(f.end.row);g.charAt(f.end.column).match(/[ \t]/);)f.end.column+=1;return f};this.setNewLineMode=function(a){this.doc.setNewLineMode(a)};this.getNewLineMode=function(){return this.doc.getNewLineMode()};this.$useWorker=!0;this.setUseWorker=function(a){this.$useWorker!=
a&&(this.$useWorker=a,this.$stopWorker(),a&&this.$startWorker())};this.getUseWorker=function(){return this.$useWorker};this.onReloadTokenizer=function(a){this.bgTokenizer.start(a.data.first);this._emit("tokenizerUpdate",a)};this.$modes={};this._loadMode=function(a,h){function k(b){if(i.$modes[a])return h(i.$modes[a]);i.$modes[a]=new b.Mode;i.$modes[a].$id=a;i._emit("loadmode",{name:a,mode:i.$modes[a]});h(i.$modes[a])}this.$modes["null"]||(this.$modes["null"]=this.$modes["ace/mode/text"]=new l);if(this.$modes[a])return h(this.$modes[a]);
var i=this,m;try{m=b(a)}catch(p){}if(m&&m.Mode)return k(m);this.$mode||this.$setModePlaceholder();m=a;var z=function(){b([a],k)};g.get("packaged")?f.loadScript(g.moduleUrl(m,"mode"),z):z()};this.$setModePlaceholder=function(){this.$mode=this.$modes["null"];var a=this.$mode.getTokenizer();if(this.bgTokenizer)this.bgTokenizer.setTokenizer(a);else{this.bgTokenizer=new t(a);var b=this;this.bgTokenizer.addEventListener("update",function(a){b._emit("tokenizerUpdate",a)})}this.bgTokenizer.setDocument(this.getDocument());
this.tokenRe=this.$mode.tokenRe;this.nonTokenRe=this.$mode.nonTokenRe};this.$modeId=this.$mode=null;this.setMode=function(a){a=a||"null";if("string"===typeof a){if(this.$modeId!=a){this.$modeId=a;var b=this;this._loadMode(a,function(f){b.$modeId===a&&b.setMode(f)})}}else if(this.$mode!==a){this.$mode=a;this.$modeId=a.$id;this.$stopWorker();this.$useWorker&&this.$startWorker();var f=a.getTokenizer();if(void 0!==f.addEventListener){var g=this.onReloadTokenizer.bind(this);f.addEventListener("update",
g)}this.bgTokenizer?this.bgTokenizer.setTokenizer(f):(this.bgTokenizer=new t(f),b=this,this.bgTokenizer.addEventListener("update",function(a){b._emit("tokenizerUpdate",a)}));this.bgTokenizer.setDocument(this.getDocument());this.bgTokenizer.start(0);this.tokenRe=a.tokenRe;this.nonTokenRe=a.nonTokenRe;this.$setFolding(a.foldingRules);this._emit("changeMode")}};this.$stopWorker=function(){this.$worker&&this.$worker.terminate();this.$worker=null};this.$startWorker=function(){if("undefined"!==typeof Worker&&
!b.noWorker)try{this.$worker=this.$mode.createWorker(this)}catch(a){console.log("Could not load worker"),console.log(a),this.$worker=null}else this.$worker=null};this.getMode=function(){return this.$mode};this.$scrollTop=0;this.setScrollTop=function(a){a=Math.round(Math.max(0,a));this.$scrollTop!==a&&(this.$scrollTop=a,this._emit("changeScrollTop",a))};this.getScrollTop=function(){return this.$scrollTop};this.$scrollLeft=0;this.setScrollLeft=function(a){a=Math.round(Math.max(0,a));this.$scrollLeft!==
a&&(this.$scrollLeft=a,this._emit("changeScrollLeft",a))};this.getScrollLeft=function(){return this.$scrollLeft};this.getScreenWidth=function(){this.$computeWidth();return this.screenWidth};this.$computeWidth=function(a){if(this.$modified||a){this.$modified=!1;if(this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var a=this.doc.getAllLines(),b=this.$rowLengthCache,f=0,g=0,h=this.$foldData[g],k=h?h.start.row:Infinity,i=a.length,l=0;l<i;l++){if(l>k){l=h.end.row+1;if(l>=i)break;k=(h=this.$foldData[g++])?
h.start.row:Infinity}null==b[l]&&(b[l]=this.$getStringScreenWidth(a[l])[0]);b[l]>f&&(f=b[l])}this.screenWidth=f}};this.getLine=function(a){return this.doc.getLine(a)};this.getLines=function(a,b){return this.doc.getLines(a,b)};this.getLength=function(){return this.doc.getLength()};this.getTextRange=function(a){return this.doc.getTextRange(a||this.selection.getRange())};this.insert=function(a,b){return this.doc.insert(a,b)};this.remove=function(a){return this.doc.remove(a)};this.undoChanges=function(a,
b){if(a.length){this.$fromUndo=!0;for(var f=null,g=a.length-1;-1!=g;g--){var h=a[g];"doc"==h.group?(this.doc.revertDeltas(h.deltas),f=this.$getUndoSelection(h.deltas,!0,f)):h.deltas.forEach(function(a){this.addFolds(a.folds)},this)}this.$fromUndo=!1;f&&this.$undoSelect&&!b&&this.selection.setSelectionRange(f);return f}};this.redoChanges=function(a,b){if(a.length){this.$fromUndo=!0;for(var f=null,g=0;g<a.length;g++){var h=a[g];"doc"==h.group&&(this.doc.applyDeltas(h.deltas),f=this.$getUndoSelection(h.deltas,
!1,f))}this.$fromUndo=!1;f&&this.$undoSelect&&!b&&this.selection.setSelectionRange(f);return f}};this.setUndoSelect=function(a){this.$undoSelect=a};this.$getUndoSelection=function(a,b,f){function g(a){a="insertText"==a.action||"insertLines"==a.action;return b?!a:a}var h=a[0],k,i;k=g(h)?h.range.clone():r.fromPoints(h.range.start,h.range.start);for(var l=1;l<a.length;l++)h=a[l],g(h)?(i=h.range.start,-1==k.compare(i.row,i.column)&&k.setStart(h.range.start),i=h.range.end,1==k.compare(i.row,i.column)&&
k.setEnd(h.range.end)):(i=h.range.start,-1==k.compare(i.row,i.column)&&(k=r.fromPoints(h.range.start,h.range.start)));null!=f&&(a=f.compareRange(k),1==a?k.setStart(f.start):-1==a&&k.setEnd(f.end));return k};this.replace=function(a,b){return this.doc.replace(a,b)};this.moveText=function(a,b){var f=this.getTextRange(a);this.remove(a);var g=b.row,h=b.column;!a.isMultiLine()&&(a.start.row==g&&a.end.column<h)&&(h-=f.length);if(a.isMultiLine()&&a.end.row<g)var k=this.doc.$split(f),g=g-(k.length-1);var k=
g+a.end.row-a.start.row,i=a.isMultiLine()?a.end.column:h+a.end.column-a.start.column,g=new r(g,h,k,i);this.insert(g.start,f);return g};this.indentRows=function(a,b,f){for(f=f.replace(/\t/g,this.getTabString());a<=b;a++)this.insert({row:a,column:0},f)};this.outdentRows=function(a){for(var a=a.collapseRows(),b=new r(0,0,0,0),f=this.getTabSize(),g=a.start.row;g<=a.end.row;++g){var h=this.getLine(g);b.start.row=g;b.end.row=g;for(var k=0;k<f&&" "==h.charAt(k);++k);k<f&&"\t"==h.charAt(k)?(b.start.column=
k,b.end.column=k+1):(b.start.column=0,b.end.column=k);this.remove(b)}};this.moveLinesUp=function(a,b){if(0>=a)return 0;var f=this.doc.removeLines(a,b);this.doc.insertLines(a-1,f);return-1};this.moveLinesDown=function(a,b){if(b>=this.doc.getLength()-1)return 0;var f=this.doc.removeLines(a,b);this.doc.insertLines(a+1,f);return 1};this.duplicateLines=function(a,b){var a=this.$clipRowToDocument(a),b=this.$clipRowToDocument(b),f=this.getLines(a,b);this.doc.insertLines(a,f);return b-a+1};this.$clipRowToDocument=
function(a){return Math.max(0,Math.min(a,this.doc.getLength()-1))};this.$clipColumnToRow=function(a,b){return 0>b?0:Math.min(this.doc.getLine(a).length,b)};this.$clipPositionToDocument=function(a,b){b=Math.max(0,b);if(0>a)b=a=0;else{var f=this.doc.getLength();a>=f?(a=f-1,b=this.doc.getLine(f-1).length):b=Math.min(this.doc.getLine(a).length,b)}return{row:a,column:b}};this.$clipRangeToDocument=function(a){0>a.start.row?(a.start.row=0,a.start.column=0):a.start.column=this.$clipColumnToRow(a.start.row,
a.start.column);var b=this.doc.getLength()-1;a.end.row>b?(a.end.row=b,a.end.column=this.doc.getLine(b).length):a.end.column=this.$clipColumnToRow(a.end.row,a.end.column);return a};this.$wrapLimit=80;this.$useWrapMode=!1;this.$wrapLimitRange={min:null,max:null};this.setUseWrapMode=function(a){if(a!=this.$useWrapMode){this.$useWrapMode=a;this.$modified=!0;this.$resetRowCache(0);if(a){a=this.getLength();this.$wrapData=[];for(var b=0;b<a;b++)this.$wrapData.push([]);this.$updateWrapData(0,a-1)}this._emit("changeWrapMode")}};
this.getUseWrapMode=function(){return this.$useWrapMode};this.setWrapLimitRange=function(a,b){if(this.$wrapLimitRange.min!==a||this.$wrapLimitRange.max!==b)this.$wrapLimitRange.min=a,this.$wrapLimitRange.max=b,this.$modified=!0,this._emit("changeWrapMode")};this.adjustWrapLimit=function(a){a=this.$constrainWrapLimit(a);return a!=this.$wrapLimit&&0<a?(this.$wrapLimit=a,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._emit("changeWrapLimit")),
!0):!1};this.$constrainWrapLimit=function(a){var b=this.$wrapLimitRange.min;b&&(a=Math.max(b,a));(b=this.$wrapLimitRange.max)&&(a=Math.min(b,a));return Math.max(1,a)};this.getWrapLimit=function(){return this.$wrapLimit};this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}};this.$updateInternalDataOnChange=function(a){var b=this.$useWrapMode,f,g=a.data.action,h=a.data.range.start.row,k=a.data.range.end.row,i=a.data.range.start,l=a.data.range.end,m=null;
-1!=g.indexOf("Lines")?(k="insertLines"==g?h+a.data.lines.length:h,f=a.data.lines?a.data.lines.length:k-h):f=k-h;if(0!=f)if(-1!=g.indexOf("remove")){this[b?"$wrapData":"$rowLengthCache"].splice(h,f);g=this.$foldData;m=this.getFoldsInRange(a.data.range);this.removeFolds(m);var a=this.getFoldLine(l.row),p=0;if(a){a.addRemoveChars(l.row,l.column,i.column-l.column);a.shiftRow(-f);if((k=this.getFoldLine(h))&&k!==a)k.merge(a),a=k;p=g.indexOf(a)+1}for(p;p<g.length;p++)a=g[p],a.start.row>=l.row&&a.shiftRow(-f);
k=h}else{if(b){g=[h,0];for(a=0;a<f;a++)g.push([]);this.$wrapData.splice.apply(this.$wrapData,g)}else g=Array(f),g.unshift(h,0),this.$rowLengthCache.splice.apply(this.$rowLengthCache,g);g=this.$foldData;a=this.getFoldLine(h);p=0;a&&(p=a.range.compareInside(i.row,i.column),0==p?(a=a.split(i.row,i.column),a.shiftRow(f),a.addRemoveChars(k,0,l.column-i.column)):-1==p&&(a.addRemoveChars(h,0,l.column-i.column),a.shiftRow(f)),p=g.indexOf(a)+1);for(p;p<g.length;p++)a=g[p],a.start.row>=h&&a.shiftRow(f)}else f=
Math.abs(a.data.range.start.column-a.data.range.end.column),-1!=g.indexOf("remove")&&(m=this.getFoldsInRange(a.data.range),this.removeFolds(m),f=-f),(a=this.getFoldLine(h))&&a.addRemoveChars(h,i.column,f);b&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!");b?this.$updateWrapData(h,k):this.$updateRowLengthCache(h,k);return m};this.$updateRowLengthCache=function(a,b){this.$rowLengthCache[a]=null;this.$rowLengthCache[b]=null};this.$updateWrapData=
function(b,f){for(var g=this.doc.getAllLines(),h=this.getTabSize(),k=this.$wrapData,i=this.$wrapLimit,l,r,t=b,f=Math.min(f,g.length-1);t<=f;)if(r=this.getFoldLine(t,r)){l=[];for(r.walk(function(a,b,f,h){if(a){a=this.$getDisplayTokens(a,l.length);a[0]=m;for(b=1;b<a.length;b++)a[b]=p}else a=this.$getDisplayTokens(g[b].substring(h,f),l.length);l=l.concat(a)}.bind(this),r.end.row,g[r.end.row].length+1);0!=l.length&&l[l.length-1]>=w;)l.pop();k[r.start.row]=this.$computeWrapSplits(l,i,h);t=r.end.row+1}else l=
this.$getDisplayTokens(a.stringTrimRight(g[t])),k[t]=this.$computeWrapSplits(l,i,h),t++};var m=3,p=4,w=10;this.$computeWrapSplits=function(a,b){function f(b){var h=a.slice(k,b),l=h.length;h.join("").replace(/12/g,function(){l-=1}).replace(/2/g,function(){l-=1});i+=l;g.push(i);k=b}if(0==a.length)return[];for(var g=[],h=a.length,k=0,i=0;h-k>b;){var l=k+b;if(a[l]>=w){for(;a[l]>=w;)l++;f(l)}else if(a[l]==m||a[l]==p){for(l;l!=k-1&&a[l]!=m;l--);if(!(l>k)){l=k+b;for(l;l<a.length&&a[l]==p;l++);if(l==a.length)break}f(l)}else{for(var r=
Math.max(l-10,k-1);l>r&&a[l]<m;)l--;for(;l>r&&9==a[l];)l--;l>r?f(++l):(l=k+b,f(l))}}return g};this.$getDisplayTokens=function(a,b){for(var f=[],g,b=b||0,h=0;h<a.length;h++)if(g=a.charCodeAt(h),9==g){g=this.getScreenTabSize(f.length+b);f.push(11);for(var k=1;k<g;k++)f.push(12)}else 32==g?f.push(w):39<g&&48>g||57<g&&64>g?f.push(9):4352<=g&&i(g)?f.push(1,2):f.push(1);return f};this.$getStringScreenWidth=function(a,b,f){if(0==b)return[0,0];null==b&&(b=Infinity);var f=f||0,g,h;for(h=0;h<a.length&&!(g=
a.charCodeAt(h),f=9==g?f+this.getScreenTabSize(f):4352<=g&&i(g)?f+2:f+1,f>b);h++);return[f,h]};this.getRowLength=function(a){return!this.$useWrapMode||!this.$wrapData[a]?1:this.$wrapData[a].length+1};this.getRowHeight=function(a,b){return this.getRowLength(b)*a.lineHeight};this.getScreenLastRowColumn=function(a){a=this.screenToDocumentPosition(a,Number.MAX_VALUE);return this.documentToScreenColumn(a.row,a.column)};this.getDocumentLastRowColumn=function(a,b){var f=this.documentToScreenRow(a,b);return this.getScreenLastRowColumn(f)};
this.getDocumentLastRowColumnPosition=function(a,b){var f=this.documentToScreenRow(a,b);return this.screenToDocumentPosition(f,Number.MAX_VALUE/10)};this.getRowSplitData=function(a){if(this.$useWrapMode)return this.$wrapData[a]};this.getScreenTabSize=function(a){return this.$tabSize-a%this.$tabSize};this.screenToDocumentRow=function(a,b){return this.screenToDocumentPosition(a,b).row};this.screenToDocumentColumn=function(a,b){return this.screenToDocumentPosition(a,b).column};this.screenToDocumentPosition=
function(a,b){if(0>a)return{row:0,column:0};var f,g=0,h=0,k,i=0;f=0;var l=this.$screenRowCache,m=this.$getRowCacheIndex(l,a);0<m&&m<l.length?(i=l[m],g=this.$docRowCache[m],m=a>i||a==i&&m==l.length-1):m=!0;for(var p=this.getLength()-1,z=(l=this.getNextFoldLine(g))?l.start.row:Infinity;i<=a;){f=this.getRowLength(g);if(i+f-1>=a||g>=p)break;else i+=f,g++,g>z&&(g=l.end.row+1,z=(l=this.getNextFoldLine(g,l))?l.start.row:Infinity);m&&(this.$docRowCache.push(g),this.$screenRowCache.push(i))}if(l&&l.start.row<=
g)f=this.getFoldDisplayLine(l),g=l.start.row;else{if(i+f<=a||g>p)return{row:p,column:this.getLine(p).length};f=this.getLine(g);l=null}if(this.$useWrapMode&&(m=this.$wrapData[g]))k=m[a-i],a>i&&m.length&&(h=m[a-i-1]||m[m.length-1],f=f.substring(h));h+=this.$getStringScreenWidth(f,b)[1];this.$useWrapMode&&h>=k&&(h=k-1);return l?l.idxToPosition(h):{row:g,column:h}};this.documentToScreenPosition=function(a,b){var f="undefined"===typeof b?this.$clipPositionToDocument(a.row,a.column):this.$clipPositionToDocument(a,
b),a=f.row,b=f.column,f=0,g=null,g=null;if(g=this.getFoldAt(a,b,1))a=g.start.row,b=g.start.column;var h,g=0;h=this.$docRowCache;var k=this.$getRowCacheIndex(h,a);if(0<k&&k<h.length)var g=h[k],f=this.$screenRowCache[k],i=a>g||a==g&&k==h.length-1;else i=!0;for(var l=(k=this.getNextFoldLine(g))?k.start.row:Infinity;g<a;){if(g>=l){h=k.end.row+1;if(h>a)break;l=(k=this.getNextFoldLine(h,k))?k.start.row:Infinity}else h=g+1;f+=this.getRowLength(g);g=h;i&&(this.$docRowCache.push(g),this.$screenRowCache.push(f))}h=
"";k&&g>=l?(h=this.getFoldDisplayLine(k,a,b),g=k.start.row):(h=this.getLine(a).substring(0,b),g=a);if(this.$useWrapMode){g=this.$wrapData[g];for(k=0;h.length>=g[k];)f++,k++;h=h.substring(g[k-1]||0,h.length)}return{row:f,column:this.$getStringScreenWidth(h)[0]}};this.documentToScreenColumn=function(a,b){return this.documentToScreenPosition(a,b).column};this.documentToScreenRow=function(a,b){return this.documentToScreenPosition(a,b).row};this.getScreenLength=function(){var a=0,b=null;if(this.$useWrapMode)for(var f=
this.$wrapData.length,g=0,h=0,k=(b=this.$foldData[h++])?b.start.row:Infinity;g<f;)a+=this.$wrapData[g].length+1,g++,g>k&&(g=b.end.row+1,k=(b=this.$foldData[h++])?b.start.row:Infinity);else for(var a=this.getLength(),f=this.$foldData,h=0;h<f.length;h++)b=f[h],a-=b.end.row-b.start.row;return a}}).call(w.prototype);b("./edit_session/folding").Folding.call(w.prototype);b("./edit_session/bracket_match").BracketMatch.call(w.prototype);i.EditSession=w});
define("ace/editor","require exports module ./lib/fixoldbrowsers ./lib/oop ./lib/lang ./lib/useragent ./keyboard/textinput ./mouse/mouse_handler ./mouse/fold_handler ./keyboard/keybinding ./edit_session ./search ./range ./lib/event_emitter ./commands/command_manager ./commands/default_commands".split(" "),function(b,i){b("./lib/fixoldbrowsers");var g=b("./lib/oop"),h=b("./lib/lang"),a=b("./lib/useragent"),f=b("./keyboard/textinput").TextInput,k=b("./mouse/mouse_handler").MouseHandler,m=b("./mouse/fold_handler").FoldHandler,
l=b("./keyboard/keybinding").KeyBinding,r=b("./edit_session").EditSession,p=b("./search").Search,t=b("./range").Range,v=b("./lib/event_emitter").EventEmitter,w=b("./commands/command_manager").CommandManager,x=b("./commands/default_commands").commands,E=function(b,g){this.container=b.getContainerElement();this.renderer=b;this.commands=new w(a.isMac?"mac":"win",x);this.textInput=new f(b.getTextAreaContainer(),this);this.renderer.textarea=this.textInput.getElement();this.keyBinding=new l(this);a.isIPad||
(this.$mouseHandler=new k(this),new m(this));this.$blockScrolling=0;this.$search=(new p).set({wrap:!0});this.setSession(g||new r(""))};(function(){g.implement(this,v);this.setKeyboardHandler=function(a){this.keyBinding.setKeyboardHandler(a)};this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()};this.setSession=function(a){if(this.session!=a){if(this.session){var b=this.session;this.session.removeEventListener("change",this.$onDocumentChange);this.session.removeEventListener("changeMode",
this.$onChangeMode);this.session.removeEventListener("tokenizerUpdate",this.$onTokenizerUpdate);this.session.removeEventListener("changeTabSize",this.$onChangeTabSize);this.session.removeEventListener("changeWrapLimit",this.$onChangeWrapLimit);this.session.removeEventListener("changeWrapMode",this.$onChangeWrapMode);this.session.removeEventListener("onChangeFold",this.$onChangeFold);this.session.removeEventListener("changeFrontMarker",this.$onChangeFrontMarker);this.session.removeEventListener("changeBackMarker",
this.$onChangeBackMarker);this.session.removeEventListener("changeBreakpoint",this.$onChangeBreakpoint);this.session.removeEventListener("changeAnnotation",this.$onChangeAnnotation);this.session.removeEventListener("changeOverwrite",this.$onCursorChange);this.session.removeEventListener("changeScrollTop",this.$onScrollTopChange);this.session.removeEventListener("changeLeftTop",this.$onScrollLeftChange);var f=this.session.getSelection();f.removeEventListener("changeCursor",this.$onCursorChange);f.removeEventListener("changeSelection",
this.$onSelectionChange)}this.session=a;this.$onDocumentChange=this.onDocumentChange.bind(this);a.addEventListener("change",this.$onDocumentChange);this.renderer.setSession(a);this.$onChangeMode=this.onChangeMode.bind(this);a.addEventListener("changeMode",this.$onChangeMode);this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this);a.addEventListener("tokenizerUpdate",this.$onTokenizerUpdate);this.$onChangeTabSize=this.renderer.updateText.bind(this.renderer);a.addEventListener("changeTabSize",this.$onChangeTabSize);
this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this);a.addEventListener("changeWrapLimit",this.$onChangeWrapLimit);this.$onChangeWrapMode=this.onChangeWrapMode.bind(this);a.addEventListener("changeWrapMode",this.$onChangeWrapMode);this.$onChangeFold=this.onChangeFold.bind(this);a.addEventListener("changeFold",this.$onChangeFold);this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this);this.session.addEventListener("changeFrontMarker",this.$onChangeFrontMarker);this.$onChangeBackMarker=this.onChangeBackMarker.bind(this);
this.session.addEventListener("changeBackMarker",this.$onChangeBackMarker);this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this);this.session.addEventListener("changeBreakpoint",this.$onChangeBreakpoint);this.$onChangeAnnotation=this.onChangeAnnotation.bind(this);this.session.addEventListener("changeAnnotation",this.$onChangeAnnotation);this.$onCursorChange=this.onCursorChange.bind(this);this.session.addEventListener("changeOverwrite",this.$onCursorChange);this.$onScrollTopChange=this.onScrollTopChange.bind(this);
this.session.addEventListener("changeScrollTop",this.$onScrollTopChange);this.$onScrollLeftChange=this.onScrollLeftChange.bind(this);this.session.addEventListener("changeScrollLeft",this.$onScrollLeftChange);this.selection=a.getSelection();this.selection.addEventListener("changeCursor",this.$onCursorChange);this.$onSelectionChange=this.onSelectionChange.bind(this);this.selection.addEventListener("changeSelection",this.$onSelectionChange);this.onChangeMode();this.$blockScrolling+=1;this.onCursorChange();
this.$blockScrolling-=1;this.onScrollTopChange();this.onScrollLeftChange();this.onSelectionChange();this.onChangeFrontMarker();this.onChangeBackMarker();this.onChangeBreakpoint();this.onChangeAnnotation();this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit();this.renderer.updateFull();this._emit("changeSession",{session:a,oldSession:b})}};this.getSession=function(){return this.session};this.setValue=function(a,b){this.session.doc.setValue(a);b?1==b?this.navigateFileEnd():-1==b&&this.navigateFileStart():
this.selectAll();return a};this.getValue=function(){return this.session.getValue()};this.getSelection=function(){return this.selection};this.resize=function(a){this.renderer.onResize(a)};this.setTheme=function(a){this.renderer.setTheme(a)};this.getTheme=function(){return this.renderer.getTheme()};this.setStyle=function(a){this.renderer.setStyle(a)};this.unsetStyle=function(a){this.renderer.unsetStyle(a)};this.setFontSize=function(a){this.container.style.fontSize=a;this.renderer.updateFontSize()};
this.$highlightBrackets=function(){this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null);if(!this.$highlightPending){var a=this;this.$highlightPending=!0;setTimeout(function(){a.$highlightPending=!1;var b=a.session.findMatchingBracket(a.getCursorPosition());b&&(b=new t(b.row,b.column,b.row,b.column+1),a.session.$bracketHighlight=a.session.addMarker(b,"ace_bracket","text"))},10)}};this.focus=function(){var a=this;setTimeout(function(){a.textInput.focus()});
this.textInput.focus()};this.isFocused=function(){return this.textInput.isFocused()};this.blur=function(){this.textInput.blur()};this.onFocus=function(){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus"))};this.onBlur=function(){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur"))};this.$cursorChange=function(){this.renderer.updateCursor()};this.onDocumentChange=function(a){var b=
a.data,f=b.range;this.renderer.updateLines(f.start.row,f.start.row==f.end.row&&"insertLines"!=b.action&&"removeLines"!=b.action?f.end.row:Infinity);this._emit("change",a);this.$cursorChange()};this.onTokenizerUpdate=function(a){a=a.data;this.renderer.updateLines(a.first,a.last)};this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())};this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())};this.onCursorChange=function(){this.$cursorChange();
this.$blockScrolling||this.renderer.scrollCursorIntoView();this.$highlightBrackets();this.$updateHighlightActiveLine()};this.$updateHighlightActiveLine=function(){var a=this.getSession();a.$highlightLineMarker&&a.removeMarker(a.$highlightLineMarker);a.$highlightLineMarker=null;if(this.$highlightActiveLine){var b=this.getCursorPosition(),f=this.session.getFoldLine(b.row);if("line"!=this.getSelectionStyle()||!this.selection.isMultiLine())b=f?new t(f.start.row,0,f.end.row+1,0):new t(b.row,0,b.row+1,
0),a.$highlightLineMarker=a.addMarker(b,"ace_active_line","background")}};this.onSelectionChange=function(){var a=this.session;a.$selectionMarker&&a.removeMarker(a.$selectionMarker);a.$selectionMarker=null;if(this.selection.isEmpty())this.$updateHighlightActiveLine();else{var b=this.selection.getRange(),f=this.getSelectionStyle();a.$selectionMarker=a.addMarker(b,"ace_selection",f)}a=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(a)};this.$getSelectionHighLightRegexp=
function(){var a=this.session,b=this.getSelectionRange();if(!b.isEmpty()&&!b.isMultiLine()){var f=b.start.column-1,g=b.end.column+1,a=a.getLine(b.start.row),h=a.length,k=a.substring(Math.max(f,0),Math.min(g,h));if(!(0<=f&&/^[\w\d]/.test(k)||g<=h&&/[\w\d]$/.test(k)))if(k=a.substring(b.start.column,b.end.column),/^[\w\d]+$/.test(k))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:k})}};this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()};this.onChangeBackMarker=
function(){this.renderer.updateBackMarkers()};this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()};this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())};this.onChangeMode=function(){this.renderer.updateText()};this.onChangeWrapLimit=function(){this.renderer.updateFull()};this.onChangeWrapMode=function(){this.renderer.onResize(!0)};this.onChangeFold=function(){this.$updateHighlightActiveLine();this.renderer.updateFull()};this.getCopyText=function(){var a=
"";this.selection.isEmpty()||(a=this.session.getTextRange(this.getSelectionRange()));this._emit("copy",a);return a};this.onCopy=function(){this.commands.exec("copy",this)};this.onCut=function(){this.commands.exec("cut",this)};this.onPaste=function(a){this._emit("paste",a);this.insert(a)};this.insert=function(a){var b=this.session,f=b.getMode(),g=this.getCursorPosition();if(this.getBehavioursEnabled()){var h=f.transformAction(b.getState(g.row),"insertion",this,b,a);h&&(a=h.text)}a=a.replace("\t",this.session.getTabString());
if(this.selection.isEmpty()){if(this.session.getOverwrite()){var k=new t.fromPoints(g,g);k.end.column+=a.length;this.session.remove(k)}}else g=this.session.remove(this.getSelectionRange()),this.clearSelection();this.clearSelection();var i=g.column,k=b.getState(g.row),l=f.checkOutdent(k,b.getLine(g.row),a),m=b.getLine(g.row),p=f.getNextLineIndent(k,m.slice(0,g.column),b.getTabString()),r=b.insert(g,a);h&&h.selection&&(2==h.selection.length?this.selection.setSelectionRange(new t(g.row,i+h.selection[0],
g.row,i+h.selection[1])):this.selection.setSelectionRange(new t(g.row+h.selection[0],h.selection[1],g.row+h.selection[2],h.selection[3])));k=b.getState(g.row);if(b.getDocument().isNewLine(a)){this.moveCursorTo(g.row+1,0);a=b.getTabSize();h=Number.MAX_VALUE;for(i=g.row+1;i<=r.row;++i){for(var v=0,m=b.getLine(i),w=0;w<m.length;++w)if("\t"==m.charAt(w))v+=a;else if(" "==m.charAt(w))v+=1;else break;/[^\s]/.test(m)&&(h=Math.min(v,h))}for(i=g.row+1;i<=r.row;++i){v=h;m=b.getLine(i);for(w=0;w<m.length&&0<
v;++w)"\t"==m.charAt(w)?v-=a:" "==m.charAt(w)&&(v-=1);b.remove(new t(i,0,i,w))}b.indentRows(g.row+1,r.row,p)}l&&f.autoOutdent(k,b,g.row)};this.onTextInput=function(a){this.keyBinding.onTextInput(a)};this.onCommandKey=function(a,b,f){this.keyBinding.onCommandKey(a,b,f)};this.setOverwrite=function(a){this.session.setOverwrite(a)};this.getOverwrite=function(){return this.session.getOverwrite()};this.toggleOverwrite=function(){this.session.toggleOverwrite()};this.setScrollSpeed=function(a){this.$mouseHandler.setScrollSpeed(a)};
this.getScrollSpeed=function(){return this.$mouseHandler.getScrollSpeed()};this.setDragDelay=function(a){this.$mouseHandler.setDragDelay(a)};this.getDragDelay=function(){return this.$mouseHandler.getDragDelay()};this.$selectionStyle="line";this.setSelectionStyle=function(a){this.$selectionStyle!=a&&(this.$selectionStyle=a,this.onSelectionChange(),this._emit("changeSelectionStyle",{data:a}))};this.getSelectionStyle=function(){return this.$selectionStyle};this.$highlightActiveLine=!0;this.setHighlightActiveLine=
function(a){this.$highlightActiveLine!=a&&(this.$highlightActiveLine=a,this.$updateHighlightActiveLine())};this.getHighlightActiveLine=function(){return this.$highlightActiveLine};this.$highlightGutterLine=!0;this.setHighlightGutterLine=function(a){this.$highlightGutterLine!=a&&(this.renderer.setHighlightGutterLine(a),this.$highlightGutterLine=a)};this.getHighlightGutterLine=function(){return this.$highlightGutterLine};this.$highlightSelectedWord=!0;this.setHighlightSelectedWord=function(a){this.$highlightSelectedWord!=
a&&(this.$highlightSelectedWord=a,this.$onSelectionChange())};this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord};this.setAnimatedScroll=function(a){this.renderer.setAnimatedScroll(a)};this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()};this.setShowInvisibles=function(a){this.getShowInvisibles()!=a&&this.renderer.setShowInvisibles(a)};this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()};this.setShowPrintMargin=function(a){this.renderer.setShowPrintMargin(a)};
this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()};this.setPrintMarginColumn=function(a){this.renderer.setPrintMarginColumn(a)};this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()};this.$readOnly=!1;this.setReadOnly=function(a){this.$readOnly=a};this.getReadOnly=function(){return this.$readOnly};this.$modeBehaviours=!0;this.setBehavioursEnabled=function(a){this.$modeBehaviours=a};this.getBehavioursEnabled=function(){return this.$modeBehaviours};
this.setShowFoldWidgets=function(a){this.renderer.$gutterLayer.getShowFoldWidgets()!=a&&(this.renderer.$gutterLayer.setShowFoldWidgets(a),this.$showFoldWidgets=a,this.renderer.updateFull())};this.getShowFoldWidgets=function(){return this.renderer.$gutterLayer.getShowFoldWidgets()};this.setFadeFoldWidgets=function(a){this.renderer.setFadeFoldWidgets(a)};this.getFadeFoldWidgets=function(){return this.renderer.getFadeFoldWidgets()};this.remove=function(a){this.selection.isEmpty()&&("left"==a?this.selection.selectLeft():
this.selection.selectRight());a=this.getSelectionRange();if(this.getBehavioursEnabled()){var b=this.session,f=b.getState(a.start.row);(b=b.getMode().transformAction(f,"deletion",this,b,a))&&(a=b)}this.session.remove(a);this.clearSelection()};this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft();this.session.remove(this.getSelectionRange());
this.clearSelection()};this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart();this.session.remove(this.getSelectionRange());this.clearSelection()};this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var a=this.getSelectionRange();a.start.column==a.end.column&&a.start.row==a.end.row&&(a.end.column=0,a.end.row++);this.session.remove(a);this.clearSelection()};this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),
this.clearSelection());var a=this.getCursorPosition();this.insert("\n");this.moveCursorToPosition(a)};this.transposeLetters=function(){if(this.selection.isEmpty()){var a=this.getCursorPosition(),b=a.column;if(0!==b){var f=this.session.getLine(a.row);b<f.length?(f=f.charAt(b)+f.charAt(b-1),a=new t(a.row,b-1,a.row,b+1)):(f=f.charAt(b-1)+f.charAt(b-2),a=new t(a.row,b-2,a.row,b));this.session.replace(a,f)}}};this.toLowerCase=function(){var a=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();
var b=this.getSelectionRange(),f=this.session.getTextRange(b);this.session.replace(b,f.toLowerCase());this.selection.setSelectionRange(a)};this.toUpperCase=function(){var a=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var b=this.getSelectionRange(),f=this.session.getTextRange(b);this.session.replace(b,f.toUpperCase());this.selection.setSelectionRange(a)};this.indent=function(){var a=this.session,b=this.getSelectionRange();if(b.start.row<b.end.row||b.start.column<
b.end.column)b=this.$getSelectedRows(),a.indentRows(b.first,b.last,"\t");else{if(this.session.getUseSoftTabs())var b=a.getTabSize(),f=this.getCursorPosition(),a=a.documentToScreenColumn(f.row,f.column),a=h.stringRepeat(" ",b-a%b);else a="\t";return this.insert(a)}};this.blockOutdent=function(){var a=this.session.getSelection();this.session.outdentRows(a.getRange())};this.toggleCommentLines=function(){var a=this.session.getState(this.getCursorPosition().row),b=this.$getSelectedRows();this.session.getMode().toggleCommentLines(a,
this.session,b.first,b.last)};this.removeLines=function(){var a=this.$getSelectedRows(),a=0===a.first||a.last+1<this.session.getLength()?new t(a.first,0,a.last+1,0):new t(a.first-1,this.session.getLine(a.first-1).length,a.last,this.session.getLine(a.last).length);this.session.remove(a);this.clearSelection()};this.duplicateSelection=function(){var a=this.selection,b=this.session,f=a.getRange();if(f.isEmpty())a=f.start.row,b.duplicateLines(a,a);else{var g=a.isBackwards(),h=a.isBackwards()?f.start:f.end,
b=b.insert(h,b.getTextRange(f),!1);f.start=h;f.end=b;a.setSelectionRange(f,g)}};this.moveLinesDown=function(){this.$moveLines(function(a,b){return this.session.moveLinesDown(a,b)})};this.moveLinesUp=function(){this.$moveLines(function(a,b){return this.session.moveLinesUp(a,b)})};this.moveText=function(a,b){return this.$readOnly?null:this.session.moveText(a,b)};this.copyLinesUp=function(){this.$moveLines(function(a,b){this.session.duplicateLines(a,b);return 0})};this.copyLinesDown=function(){this.$moveLines(function(a,
b){return this.session.duplicateLines(a,b)})};this.$moveLines=function(a){var b=this.$getSelectedRows(),f=this.selection;if(!f.isMultiLine())var g=f.getRange(),h=f.isBackwards();var k=a.call(this,b.first,b.last);g?(g.start.row+=k,g.end.row+=k,f.setSelectionRange(g,h)):(f.setSelectionAnchor(b.last+k+1,0),f.$moveSelection(function(){f.moveCursorTo(b.first+k,0)}))};this.$getSelectedRows=function(){var a=this.getSelectionRange().collapseRows();return{first:a.start.row,last:a.end.row}};this.onCompositionStart=
function(){this.renderer.showComposition(this.getCursorPosition())};this.onCompositionUpdate=function(a){this.renderer.setCompositionText(a)};this.onCompositionEnd=function(){this.renderer.hideComposition()};this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()};this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()};this.isRowVisible=function(a){return a>=this.getFirstVisibleRow()&&a<=this.getLastVisibleRow()};this.isRowFullyVisible=function(a){return a>=
this.renderer.getFirstFullyVisibleRow()&&a<=this.renderer.getLastFullyVisibleRow()};this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1};this.$moveByPage=function(a,b){var f=this.renderer,g=this.renderer.layerConfig,h=a*Math.floor(g.height/g.lineHeight);this.$blockScrolling++;!0==b?this.selection.$moveSelection(function(){this.moveCursorBy(h,0)}):!1==b&&(this.selection.moveCursorBy(h,0),this.selection.clearSelection());this.$blockScrolling--;
var k=f.scrollTop;f.scrollBy(0,h*g.lineHeight);null!=b&&f.scrollCursorIntoView(null,0.5);f.animateScrolling(k)};this.selectPageDown=function(){this.$moveByPage(1,!0)};this.selectPageUp=function(){this.$moveByPage(-1,!0)};this.gotoPageDown=function(){this.$moveByPage(1,!1)};this.gotoPageUp=function(){this.$moveByPage(-1,!1)};this.scrollPageDown=function(){this.$moveByPage(1)};this.scrollPageUp=function(){this.$moveByPage(-1)};this.scrollToRow=function(a){this.renderer.scrollToRow(a)};this.scrollToLine=
function(a,b,f,g){this.renderer.scrollToLine(a,b,f,g)};this.centerSelection=function(){var a=this.getSelectionRange();this.renderer.alignCursor({row:Math.floor(a.start.row+(a.end.row-a.start.row)/2),column:Math.floor(a.start.column+(a.end.column-a.start.column)/2)},0.5)};this.getCursorPosition=function(){return this.selection.getCursor()};this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())};this.getSelectionRange=function(){return this.selection.getRange()};
this.selectAll=function(){this.$blockScrolling+=1;this.selection.selectAll();this.$blockScrolling-=1};this.clearSelection=function(){this.selection.clearSelection()};this.moveCursorTo=function(a,b){this.selection.moveCursorTo(a,b)};this.moveCursorToPosition=function(a){this.selection.moveCursorToPosition(a)};this.jumpToMatching=function(a){var b=this.getCursorPosition(),f=this.session.getBracketRange(b);if(!f){f=this.find({needle:/[{}()\[\]]/g,preventScroll:!0,start:{row:b.row,column:b.column-1}});
if(!f)return;var g=f.start;g.row==b.row&&2>Math.abs(g.column-b.column)&&(f=this.session.getBracketRange(g))}if(g=f&&f.cursor||g)a?f&&f.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(g.row,g.column):(this.clearSelection(),this.moveCursorTo(g.row,g.column))};this.gotoLine=function(a,b,f){this.selection.clearSelection();this.session.unfold({row:a-1,column:b||0});this.$blockScrolling+=1;this.moveCursorTo(a-1,b||0);this.$blockScrolling-=1;this.isRowFullyVisible(a-1)||this.scrollToLine(a-
1,!0,f)};this.navigateTo=function(a,b){this.clearSelection();this.moveCursorTo(a,b)};this.navigateUp=function(a){this.selection.clearSelection();this.selection.moveCursorBy(-(a||1),0)};this.navigateDown=function(a){this.selection.clearSelection();this.selection.moveCursorBy(a||1,0)};this.navigateLeft=function(a){if(this.selection.isEmpty())for(a=a||1;a--;)this.selection.moveCursorLeft();else a=this.getSelectionRange().start,this.moveCursorToPosition(a);this.clearSelection()};this.navigateRight=function(a){if(this.selection.isEmpty())for(a=
a||1;a--;)this.selection.moveCursorRight();else a=this.getSelectionRange().end,this.moveCursorToPosition(a);this.clearSelection()};this.navigateLineStart=function(){this.selection.moveCursorLineStart();this.clearSelection()};this.navigateLineEnd=function(){this.selection.moveCursorLineEnd();this.clearSelection()};this.navigateFileEnd=function(){var a=this.renderer.scrollTop;this.selection.moveCursorFileEnd();this.clearSelection();this.renderer.animateScrolling(a)};this.navigateFileStart=function(){var a=
this.renderer.scrollTop;this.selection.moveCursorFileStart();this.clearSelection();this.renderer.animateScrolling(a)};this.navigateWordRight=function(){this.selection.moveCursorWordRight();this.clearSelection()};this.navigateWordLeft=function(){this.selection.moveCursorWordLeft();this.clearSelection()};this.replace=function(a,b){b&&this.$search.set(b);var f=this.$search.find(this.session),g=0;if(!f)return g;this.$tryReplace(f,a)&&(g=1);null!==f&&(this.selection.setSelectionRange(f),this.renderer.scrollSelectionIntoView(f.start,
f.end));return g};this.replaceAll=function(a,b){b&&this.$search.set(b);var f=this.$search.findAll(this.session),g=0;if(!f.length)return g;this.$blockScrolling+=1;var h=this.getSelectionRange();this.clearSelection();this.selection.moveCursorTo(0,0);for(var k=f.length-1;0<=k;--k)this.$tryReplace(f[k],a)&&g++;this.selection.setSelectionRange(h);this.$blockScrolling-=1;return g};this.$tryReplace=function(a,b){var f=this.session.getTextRange(a),b=this.$search.replace(f,b);return null!==b?(a.end=this.session.replace(a,
b),a):null};this.getLastSearchOptions=function(){return this.$search.getOptions()};this.find=function(a,b,f){b||(b={});"string"==typeof a||a instanceof RegExp?b.needle=a:"object"==typeof a&&g.mixin(b,a);var h=this.selection.getRange();null==b.needle&&(a=this.session.getTextRange(h)||this.$search.$options.needle,a||(h=this.session.getWordRange(h.start.row,h.start.column),a=this.session.getTextRange(h)),this.$search.set({needle:a}));this.$search.set(b);b.start||this.$search.set({start:h});a=this.$search.find(this.session);
if(b.preventScroll)return a;if(a)return this.revealRange(a,f),a;b.backwards?h.start=h.end:h.end=h.start;this.selection.setRange(h)};this.findNext=function(a,b){this.find({skipCurrent:!0,backwards:!1},a,b)};this.findPrevious=function(a,b){this.find(a,{skipCurrent:!0,backwards:!0},b)};this.revealRange=function(a,b){this.$blockScrolling+=1;this.session.unfold(a);this.selection.setSelectionRange(a);this.$blockScrolling-=1;var f=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(a.start,a.end,
0.5);!1!=b&&this.renderer.animateScrolling(f)};this.undo=function(){this.$blockScrolling++;this.session.getUndoManager().undo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,0.5)};this.redo=function(){this.$blockScrolling++;this.session.getUndoManager().redo();this.$blockScrolling--;this.renderer.scrollCursorIntoView(null,0.5)};this.destroy=function(){this.renderer.destroy()}}).call(E.prototype);i.Editor=E});
define("ace/multi_select","require exports module ./range_list ./range ./selection ./mouse/multi_select_handler ./lib/event ./commands/multi_select_commands ./search ./edit_session ./editor".split(" "),function(b,i){var g=b("./range_list").RangeList,h=b("./range").Range,a=b("./selection").Selection,f=b("./mouse/multi_select_handler").onMouseDown,k=b("./lib/event"),m=b("./commands/multi_select_commands");i.commands=m.defaultCommands.concat(m.multiSelectCommands);var l=new (b("./search").Search),r=
b("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(r.prototype);(function(){this.rangeList=this.ranges=null;this.addRange=function(a,b){if(a){if(!this.inMultiSelectMode&&0==this.rangeCount){var f=this.toOrientedRange();if(a.intersects(f))return b||this.fromOrientedRange(a);this.rangeList.add(f);this.$onAddRange(f)}a.cursor||(a.cursor=a.end);f=this.rangeList.add(a);this.$onAddRange(a);f.length&&this.$onRemoveRange(f);1<this.rangeCount&&
!this.inMultiSelectMode&&(this._emit("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session));return b||this.fromOrientedRange(a)}};this.toSingleRange=function(a){var a=a||this.ranges[0],b=this.rangeList.removeAll();b.length&&this.$onRemoveRange(b);a&&this.fromOrientedRange(a)};this.substractPoint=function(a){if(a=this.rangeList.substractPoint(a))return this.$onRemoveRange(a),a[0]};this.mergeOverlappingRanges=function(){var a=this.rangeList.merge();
a.length?this.$onRemoveRange(a):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])};this.$onAddRange=function(a){this.rangeCount=this.rangeList.ranges.length;this.ranges.unshift(a);this._emit("addRange",{range:a})};this.$onRemoveRange=function(a){this.rangeCount=this.rangeList.ranges.length;if(1==this.rangeCount&&this.inMultiSelectMode){var b=this.rangeList.ranges.pop();a.push(b);this.rangeCount=0}for(var f=a.length;f--;){var g=this.ranges.indexOf(a[f]);this.ranges.splice(g,1)}this._emit("removeRange",
{ranges:a});0==this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._emit("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session));(b=b||this.ranges[0])&&!b.isEqual(this.getRange())&&this.fromOrientedRange(b)};this.$initRangeList=function(){this.rangeList||(this.rangeList=new g,this.ranges=[],this.rangeCount=0)};this.getAllRanges=function(){return this.rangeList.ranges.concat()};this.splitIntoLines=function(){if(1<this.rangeCount){var a=this.rangeList.ranges,
b=a[a.length-1],a=h.fromPoints(a[0].start,b.end);this.toSingleRange();this.setSelectionRange(a,b.cursor==b.start)}else{var a=this.getRange(),f=a.start.row,b=a.end.row;if(f!=b){var g=[],k=this.getLineRange(f,!0);k.start.column=a.start.column;g.push(k);for(f+=1;f<b;f++)g.push(this.getLineRange(f,!0));k=this.getLineRange(b,!0);k.end.column=a.end.column;g.push(k);g.forEach(this.addRange,this)}}};this.toggleBlockSelection=function(){if(1<this.rangeCount){var a=this.rangeList.ranges,b=a[a.length-1],a=h.fromPoints(a[0].start,
b.end);this.toSingleRange();this.setSelectionRange(a,b.cursor==b.start)}else b=this.session.documentToScreenPosition(this.selectionLead),a=this.session.documentToScreenPosition(this.selectionAnchor),this.rectangularRangeBlock(b,a).forEach(this.addRange,this)};this.rectangularRangeBlock=function(a,b,f){var g=[],k=a.column<b.column;if(k)var i=a.column,l=b.column;else i=b.column,l=a.column;var m=a.row<b.row;if(m)var r=a.row,a=b.row;else r=b.row,a=a.row;0>i&&(i=0);0>r&&(r=0);for(r==a&&(f=!0);r<=a;r++){b=
h.fromPoints(this.session.screenToDocumentPosition(r,i),this.session.screenToDocumentPosition(r,l));if(b.isEmpty()){if(A&&b.end.row==A.row&&b.end.column==A.column)break;var A=b.end}b.cursor=k?b.start:b.end;g.push(b)}m&&g.reverse();if(!f){for(f=g.length-1;g[f].isEmpty()&&0<f;)f--;if(0<f)for(var O=0;g[O].isEmpty();)O++;for(;f>=O;f--)g[f].isEmpty()&&g.splice(f,1)}return g}}).call(a.prototype);r=b("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor();this.renderer.updateBackMarkers()};
this.addSelectionMarker=function(a){a.cursor||(a.cursor=a.end);var b=this.getSelectionStyle();a.marker=this.session.addMarker(a,"ace_selection",b);this.session.$selectionMarkers.push(a);this.session.selectionMarkerCount=this.session.$selectionMarkers.length;return a};this.removeSelectionMarker=function(a){a.marker&&(this.session.removeMarker(a.marker),a=this.session.$selectionMarkers.indexOf(a),-1!=a&&this.session.$selectionMarkers.splice(a,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length)};
this.removeSelectionMarkers=function(a){for(var b=this.session.$selectionMarkers,f=a.length;f--;){var g=a[f];g.marker&&(this.session.removeMarker(g.marker),g=b.indexOf(g),-1!=g&&b.splice(g,1))}this.session.selectionMarkerCount=b.length};this.$onAddRange=function(a){this.addSelectionMarker(a.range);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onRemoveRange=function(a){this.removeSelectionMarkers(a.ranges);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onMultiSelect=
function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("multiselect"),this.keyBinding.addKeyboardHandler(m.keyboardHandler),this.commands.on("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())};this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("multiselect"),this.keyBinding.removeKeyboardHandler(m.keyboardHandler),this.commands.removeEventListener("exec",this.$onMultiSelectExec),
this.renderer.updateCursor(),this.renderer.updateBackMarkers())};this.$onMultiSelectExec=function(a){var b=a.command,f=a.editor;f.multiSelect&&(b.multiSelectAction?"forEach"==b.multiSelectAction?f.forEachSelection(b,a.args):"single"==b.multiSelectAction?(f.exitMultiSelectMode(),b.exec(f,a.args||{})):b.multiSelectAction(f,a.args||{}):(b.exec(f,a.args||{}),f.multiSelect.addRange(f.multiSelect.toOrientedRange()),f.multiSelect.mergeOverlappingRanges()),a.preventDefault())};this.forEachSelection=function(b,
f){if(!this.inVirtualSelectionMode){var g=this.session,h=this.selection,k=h.rangeList,i=h._eventRegistry;h._eventRegistry={};var l=new a(g);this.inVirtualSelectionMode=!0;for(var m=k.ranges.length;m--;)l.fromOrientedRange(k.ranges[m]),this.selection=g.selection=l,b.exec(this,f||{}),l.toOrientedRange(k.ranges[m]);l.detach();this.selection=g.selection=h;this.inVirtualSelectionMode=!1;h._eventRegistry=i;h.mergeOverlappingRanges();this.onCursorChange();this.onSelectionChange()}};this.exitMultiSelectMode=
function(){this.inVirtualSelectionMode||this.multiSelect.toSingleRange()};this.getCopyText=function(){var a="";if(this.inMultiSelectMode){for(var b=this.multiSelect.rangeList.ranges,a=[],f=0;f<b.length;f++)a.push(this.session.getTextRange(b[f]));a=a.join(this.session.getDocument().getNewLineCharacter())}else this.selection.isEmpty()||(a=this.session.getTextRange(this.getSelectionRange()));return a};this.onPaste=function(a){this._emit("paste",a);if(!this.inMultiSelectMode)return this.insert(a);var b=
a.split(/\r\n|\r|\n/),f=this.selection.rangeList.ranges;if(b.length>f.length||2>=b.length||!b[1])return this.commands.exec("insertstring",this,a);for(a=f.length;a--;){var g=f[a];g.isEmpty()||this.session.remove(g);this.session.insert(g.start,b[a])}};this.findAll=function(a,b,f){b=b||{};b.needle=a||b.needle;this.$search.set(b);a=this.$search.findAll(this.session);if(!a.length)return 0;this.$blockScrolling+=1;b=this.multiSelect;f||b.toSingleRange(a[0]);for(f=a.length;f--;)b.addRange(a[f],!0);this.$blockScrolling-=
1;return a.length};this.selectMoreLines=function(a,b){var f=this.selection.toOrientedRange(),g=f.cursor==f.end,k=this.session.documentToScreenPosition(f.cursor);this.selection.$desiredColumn&&(k.column=this.selection.$desiredColumn);var i=this.session.screenToDocumentPosition(k.row+a,k.column);if(f.isEmpty())l=i;else var l=this.session.documentToScreenPosition(g?f.end:f.start),l=this.session.screenToDocumentPosition(l.row+a,l.column);g?(g=h.fromPoints(i,l),g.cursor=g.start):(g=h.fromPoints(l,i),g.cursor=
g.end);g.desiredColumn=k.column;if(this.selection.inMultiSelectMode){if(b)var m=f.cursor}else this.selection.addRange(f);this.selection.addRange(g);m&&this.selection.substractPoint(m)};this.transposeSelections=function(a){for(var b=this.session,f=b.multiSelect,g=f.ranges,h=g.length;h--;){var k=g[h];if(k.isEmpty()){var i=b.getWordRange(k.start.row,k.start.column);k.start.row=i.start.row;k.start.column=i.start.column;k.end.row=i.end.row;k.end.column=i.end.column}}f.mergeOverlappingRanges();f=[];for(h=
g.length;h--;)k=g[h],f.unshift(b.getTextRange(k));0>a?f.unshift(f.pop()):f.push(f.shift());for(h=g.length;h--;)k=g[h],i=k.clone(),b.replace(k,f[h]),k.start.row=i.start.row,k.start.column=i.start.column};this.selectMore=function(a,b){var f=this.session,g=f.multiSelect.toOrientedRange();g.isEmpty()&&(g=f.getWordRange(g.start.row,g.start.column),g.cursor=g.end,this.multiSelect.addRange(g));var h=f.getTextRange(g);l.$options.wrap=!0;l.$options.needle=h;l.$options.backwards=-1==a;if(f=l.find(f))f.cursor=
-1==a?f.start:f.end,this.multiSelect.addRange(f);b&&this.multiSelect.substractPoint(g.cursor)}}).call(r.prototype);i.onSessionChange=function(a){var b=a.session;b.multiSelect||(b.$selectionMarkers=[],b.selection.$initRangeList(),b.multiSelect=b.selection);this.multiSelect=b.multiSelect;if(a=a.oldSession)a.multiSelect&&a.multiSelect.editor==this&&(a.multiSelect.editor=null),b.multiSelect.removeEventListener("addRange",this.$onAddRange),b.multiSelect.removeEventListener("removeRange",this.$onRemoveRange),
b.multiSelect.removeEventListener("multiSelect",this.$onMultiSelect),b.multiSelect.removeEventListener("singleSelect",this.$onSingleSelect);b.multiSelect.on("addRange",this.$onAddRange);b.multiSelect.on("removeRange",this.$onRemoveRange);b.multiSelect.on("multiSelect",this.$onMultiSelect);b.multiSelect.on("singleSelect",this.$onSingleSelect);this.inMultiSelectMode!=b.selection.inMultiSelectMode&&(b.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};i.MultiSelect=function(a){a.$onAddRange=
a.$onAddRange.bind(a);a.$onRemoveRange=a.$onRemoveRange.bind(a);a.$onMultiSelect=a.$onMultiSelect.bind(a);a.$onSingleSelect=a.$onSingleSelect.bind(a);i.onSessionChange.call(a,a);a.on("changeSession",i.onSessionChange.bind(a));a.on("mousedown",f);a.commands.addCommands(m.defaultCommands);var b=function(){h&&(l.style.cursor="",h=!1)},g=a.textInput.getElement(),h=!1,l=a.renderer.content;k.addListener(g,"keydown",function(a){18==a.keyCode&&!a.ctrlKey&&!a.shiftKey&&!a.metaKey?h||(l.style.cursor="crosshair",
h=!0):h&&(l.style.cursor="")});k.addListener(g,"keyup",b);k.addListener(g,"blur",b)}});
define("ace/virtual_renderer","require exports module ./lib/oop ./lib/dom ./lib/event ./lib/useragent ./config ./lib/net ./layer/gutter ./layer/marker ./layer/text ./layer/cursor ./scrollbar ./renderloop ./lib/event_emitter ace/requirejs/text!./css/editor.css".split(" "),function(b,i){var g=b("./lib/oop"),h=b("./lib/dom"),a=b("./lib/event"),f=b("./lib/useragent"),k=b("./config"),m=b("./lib/net"),l=b("./layer/gutter").Gutter,r=b("./layer/marker").Marker,p=b("./layer/text").Text,t=b("./layer/cursor").Cursor,
v=b("./scrollbar").ScrollBar,w=b("./renderloop").RenderLoop,x=b("./lib/event_emitter").EventEmitter,E=b("ace/requirejs/text!./css/editor.css");h.importCssString(E,"ace_editor");E=function(b,g){var k=this;this.container=b;this.$keepTextAreaAtCursor=!f.isIE;h.addCssClass(b,"ace_editor");this.setTheme(g);this.$gutter=h.createElement("div");this.$gutter.className="ace_gutter";this.container.appendChild(this.$gutter);this.scroller=h.createElement("div");this.scroller.className="ace_scroller";this.container.appendChild(this.scroller);
this.content=h.createElement("div");this.content.className="ace_content";this.scroller.appendChild(this.content);this.$gutterLayer=new l(this.$gutter);this.$gutterLayer.on("changeGutterWidth",this.onResize.bind(this,!0));this.setFadeFoldWidgets(!0);this.$markerBack=new r(this.content);var i=this.$textLayer=new p(this.content);this.canvas=i.element;this.$markerFront=new r(this.content);this.characterWidth=i.getCharacterWidth();this.lineHeight=i.getLineHeight();this.$cursorLayer=new t(this.content);
this.$cursorPadding=8;this.$animatedScroll=this.$horizScrollAlwaysVisible=this.$horizScroll=!1;this.scrollBar=new v(b);this.scrollBar.addEventListener("scroll",function(a){k.$inScrollAnimation||k.session.setScrollTop(a.data)});this.scrollLeft=this.scrollTop=0;a.addListener(this.scroller,"scroll",function(){var a=k.scroller.scrollLeft;k.scrollLeft=a;k.session.setScrollLeft(a)});this.cursorPos={row:0,column:0};this.$textLayer.addEventListener("changeCharacterSize",function(){k.characterWidth=i.getCharacterWidth();
k.lineHeight=i.getLineHeight();k.$updatePrintMargin();k.onResize(!0);k.$loop.schedule(k.CHANGE_FULL)});this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0};this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:1,characterWidth:1,minHeight:1,maxHeight:1,offset:0,height:1};this.$loop=new w(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView);this.$loop.schedule(this.CHANGE_FULL);this.setPadding(4);this.$updatePrintMargin()};(function(){this.showGutter=
!0;this.CHANGE_CURSOR=1;this.CHANGE_MARKER=2;this.CHANGE_GUTTER=4;this.CHANGE_SCROLL=8;this.CHANGE_LINES=16;this.CHANGE_TEXT=32;this.CHANGE_SIZE=64;this.CHANGE_MARKER_BACK=128;this.CHANGE_MARKER_FRONT=256;this.CHANGE_FULL=512;this.CHANGE_H_SCROLL=1024;g.implement(this,x);this.setSession=function(a){this.session=a;this.scroller.className="ace_scroller";this.$cursorLayer.setSession(a);this.$markerBack.setSession(a);this.$markerFront.setSession(a);this.$gutterLayer.setSession(a);this.$textLayer.setSession(a);
this.$loop.schedule(this.CHANGE_FULL)};this.updateLines=function(a,b){void 0===b&&(b=Infinity);this.$changedLines?(this.$changedLines.firstRow>a&&(this.$changedLines.firstRow=a),this.$changedLines.lastRow<b&&(this.$changedLines.lastRow=b)):this.$changedLines={firstRow:a,lastRow:b};this.$loop.schedule(this.CHANGE_LINES)};this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)};this.updateFull=function(a){a?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)};this.updateFontSize=
function(){this.$textLayer.checkForSizeChanges()};this.onResize=function(a,b,f,g){var k=this.CHANGE_SIZE,i=this.$size;if(!(2<this.resizing)){1<this.resizing?this.resizing++:this.resizing=a?1:0;g||(g=h.getInnerHeight(this.container));if(a||i.height!=g)i.height=g,this.scroller.style.height=g+"px",i.scrollerHeight=this.scroller.clientHeight,this.scrollBar.setHeight(i.scrollerHeight),this.session&&(this.session.setScrollTop(this.getScrollTop()),k|=this.CHANGE_FULL);f||(f=h.getInnerWidth(this.container));
if(a||1<this.resizing||i.width!=f)if(i.width=f,b=this.showGutter?this.$gutter.offsetWidth:0,this.scroller.style.left=b+"px",i.scrollerWidth=Math.max(0,f-b-this.scrollBar.getWidth()),this.scroller.style.right=this.scrollBar.getWidth()+"px",this.session.getUseWrapMode()&&this.adjustWrapLimit()||a)k|=this.CHANGE_FULL;a?this.$renderChanges(k,!0):this.$loop.schedule(k);a&&delete this.resizing}};this.adjustWrapLimit=function(){return this.session.adjustWrapLimit(Math.floor((this.$size.scrollerWidth-2*this.$padding)/
this.characterWidth))};this.setAnimatedScroll=function(a){this.$animatedScroll=a};this.getAnimatedScroll=function(){return this.$animatedScroll};this.setShowInvisibles=function(a){this.$textLayer.setShowInvisibles(a)&&this.$loop.schedule(this.CHANGE_TEXT)};this.getShowInvisibles=function(){return this.$textLayer.showInvisibles};this.$showPrintMargin=!0;this.setShowPrintMargin=function(a){this.$showPrintMargin=a;this.$updatePrintMargin()};this.getShowPrintMargin=function(){return this.$showPrintMargin};
this.$printMarginColumn=80;this.setPrintMarginColumn=function(a){this.$printMarginColumn=a;this.$updatePrintMargin()};this.getPrintMarginColumn=function(){return this.$printMarginColumn};this.getShowGutter=function(){return this.showGutter};this.setShowGutter=function(a){this.showGutter!==a&&(this.$gutter.style.display=a?"block":"none",this.showGutter=a,this.onResize(!0))};this.getFadeFoldWidgets=function(){return h.hasCssClass(this.$gutter,"ace_fade-fold-widgets")};this.setFadeFoldWidgets=function(a){a?
h.addCssClass(this.$gutter,"ace_fade-fold-widgets"):h.removeCssClass(this.$gutter,"ace_fade-fold-widgets")};this.$highlightGutterLine=!0;this.setHighlightGutterLine=function(a){this.$highlightGutterLine!=a&&(this.$highlightGutterLine=a,this.$loop.schedule(this.CHANGE_GUTTER))};this.getHighlightGutterLine=function(){return this.$highlightGutterLine};this.$updateGutterLineHighlight=function(a){var b=this.session.selection.lead.row;if(b!=this.$gutterLineHighlight){if(!a){var f,a=this.$gutterLayer.element.children,
g=this.$gutterLineHighlight-this.layerConfig.firstRow;0<=g&&(f=a[g])&&h.removeCssClass(f,"ace_gutter_active_line");g=b-this.layerConfig.firstRow;0<=g&&(f=a[g])&&h.addCssClass(f,"ace_gutter_active_line")}this.$gutterLayer.removeGutterDecoration(this.$gutterLineHighlight,"ace_gutter_active_line");this.$gutterLayer.addGutterDecoration(b,"ace_gutter_active_line");this.$gutterLineHighlight=b}};this.$updatePrintMargin=function(){var a;if(this.$showPrintMargin||this.$printMarginEl)this.$printMarginEl||(a=
h.createElement("div"),a.className="ace_print_margin_layer",this.$printMarginEl=h.createElement("div"),this.$printMarginEl.className="ace_print_margin",a.appendChild(this.$printMarginEl),this.content.insertBefore(a,this.$textLayer.element)),a=this.$printMarginEl.style,a.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",a.visibility=this.$showPrintMargin?"visible":"hidden"};this.getContainerElement=function(){return this.container};this.getMouseEventTarget=function(){return this.content};
this.getTextAreaContainer=function(){return this.container};this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var a=this.$cursorLayer.$pixelPos.top,b=this.$cursorLayer.$pixelPos.left,a=a-this.layerConfig.offset;if(!(0>a||a>this.layerConfig.height-this.lineHeight)){var f=this.characterWidth;this.$composition&&(f+=this.textarea.scrollWidth);b-=this.scrollLeft;b>this.$size.scrollerWidth-f&&(b=this.$size.scrollerWidth-f);this.showGutter&&(b+=this.$gutterLayer.gutterWidth);this.textarea.style.height=
this.lineHeight+"px";this.textarea.style.width=f+"px";this.textarea.style.left=b+"px";this.textarea.style.top=a-1+"px"}}};this.getFirstVisibleRow=function(){return this.layerConfig.firstRow};this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)};this.getLastFullyVisibleRow=function(){return this.layerConfig.firstRow-1+Math.floor((this.layerConfig.height+this.layerConfig.offset)/this.layerConfig.lineHeight)};this.getLastVisibleRow=function(){return this.layerConfig.lastRow};
this.$padding=null;this.setPadding=function(a){this.$padding=a;this.$textLayer.setPadding(a);this.$cursorLayer.setPadding(a);this.$markerFront.setPadding(a);this.$markerBack.setPadding(a);this.$loop.schedule(this.CHANGE_FULL);this.$updatePrintMargin()};this.getHScrollBarAlwaysVisible=function(){return this.$horizScrollAlwaysVisible};this.setHScrollBarAlwaysVisible=function(a){this.$horizScrollAlwaysVisible!=a&&(this.$horizScrollAlwaysVisible=a,(!this.$horizScrollAlwaysVisible||!this.$horizScroll)&&
this.$loop.schedule(this.CHANGE_SCROLL))};this.$updateScrollBar=function(){this.scrollBar.setInnerHeight(this.layerConfig.maxHeight);this.scrollBar.setScrollTop(this.scrollTop)};this.$renderChanges=function(a,b){if(b||a&&this.session&&this.container.offsetWidth){(a&this.CHANGE_FULL||a&this.CHANGE_SIZE||a&this.CHANGE_TEXT||a&this.CHANGE_LINES||a&this.CHANGE_SCROLL)&&this.$computeLayerConfig();if(a&this.CHANGE_H_SCROLL){this.scroller.scrollLeft=this.scrollLeft;var f=this.scroller.scrollLeft;this.scrollLeft=
f;this.session.setScrollLeft(f);this.scroller.className=0==this.scrollLeft?"ace_scroller":"ace_scroller horscroll"}a&this.CHANGE_FULL?(this.$textLayer.checkForSizeChanges(),this.$updateScrollBar(),this.$textLayer.update(this.layerConfig),this.showGutter&&(this.$highlightGutterLine&&this.$updateGutterLineHighlight(!0),this.$gutterLayer.update(this.layerConfig)),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor()):
a&this.CHANGE_SCROLL?(this.$updateScrollBar(),a&this.CHANGE_TEXT||a&this.CHANGE_LINES?this.$textLayer.update(this.layerConfig):this.$textLayer.scrollLines(this.layerConfig),this.showGutter&&(this.$highlightGutterLine&&this.$updateGutterLineHighlight(!0),this.$gutterLayer.update(this.layerConfig)),this.$markerBack.update(this.layerConfig),this.$markerFront.update(this.layerConfig),this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor()):(a&this.CHANGE_TEXT?(this.$textLayer.update(this.layerConfig),
this.showGutter&&this.$gutterLayer.update(this.layerConfig)):a&this.CHANGE_LINES?this.$updateLines()&&(this.$updateScrollBar(),this.showGutter&&this.$gutterLayer.update(this.layerConfig)):a&this.CHANGE_GUTTER&&this.showGutter&&this.$gutterLayer.update(this.layerConfig),a&this.CHANGE_CURSOR&&(this.$cursorLayer.update(this.layerConfig),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(!1)),a&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(this.layerConfig),
a&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(this.layerConfig),a&this.CHANGE_SIZE&&this.$updateScrollBar())}};this.$computeLayerConfig=function(){var a=this.session,b=this.scrollTop%this.lineHeight,f=this.$size.scrollerHeight+this.lineHeight,g=this.$getLongestLine(),h=this.$horizScrollAlwaysVisible||0>this.$size.scrollerWidth-g,k=this.$horizScroll!==h;this.$horizScroll=h;k&&(this.scroller.style.overflowX=h?"scroll":"hidden",h||this.session.setScrollLeft(0));h=this.session.getScreenLength()*
this.lineHeight;this.session.setScrollTop(Math.max(0,Math.min(this.scrollTop,h-this.$size.scrollerHeight)));var i=Math.ceil(f/this.lineHeight)-1,l=Math.max(0,Math.round((this.scrollTop-b)/this.lineHeight)),i=l+i,m,b={lineHeight:this.lineHeight},l=a.screenToDocumentRow(l,0);if(m=a.getFoldLine(l))l=m.start.row;m=a.documentToScreenRow(l,0);f=a.getRowHeight(b,l);i=Math.min(a.screenToDocumentRow(i,0),a.getLength()-1);f=this.$size.scrollerHeight+a.getRowHeight(b,i)+f;b=this.scrollTop-m*this.lineHeight;
this.layerConfig={width:g,padding:this.$padding,firstRow:l,firstRowScreen:m,lastRow:i,lineHeight:this.lineHeight,characterWidth:this.characterWidth,minHeight:f,maxHeight:h,offset:b,height:this.$size.scrollerHeight};this.$gutterLayer.element.style.marginTop=-b+"px";this.content.style.marginTop=-b+"px";this.content.style.width=g+2*this.$padding+"px";this.content.style.height=f+"px";if(k)this.onResize(!0)};this.$updateLines=function(){var a=this.$changedLines.firstRow,b=this.$changedLines.lastRow;this.$changedLines=
null;var f=this.layerConfig;if(!(a>f.lastRow+1)&&!(b<f.firstRow))if(Infinity===b)this.showGutter&&this.$gutterLayer.update(f),this.$textLayer.update(f);else return this.$textLayer.updateLines(f,a,b),!0};this.$getLongestLine=function(){var a=this.session.getScreenWidth();this.$textLayer.showInvisibles&&(a+=1);return Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(a*this.characterWidth))};this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0));this.$loop.schedule(this.CHANGE_MARKER_FRONT)};
this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers());this.$loop.schedule(this.CHANGE_MARKER_BACK)};this.addGutterDecoration=function(a,b){this.$gutterLayer.addGutterDecoration(a,b);this.$loop.schedule(this.CHANGE_GUTTER)};this.removeGutterDecoration=function(a,b){this.$gutterLayer.removeGutterDecoration(a,b);this.$loop.schedule(this.CHANGE_GUTTER)};this.updateBreakpoints=function(){this.$loop.schedule(this.CHANGE_GUTTER)};this.setAnnotations=function(a){this.$gutterLayer.setAnnotations(a);
this.$loop.schedule(this.CHANGE_GUTTER)};this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)};this.hideCursor=function(){this.$cursorLayer.hideCursor()};this.showCursor=function(){this.$cursorLayer.showCursor()};this.scrollSelectionIntoView=function(a,b,f){this.scrollCursorIntoView(a,f);this.scrollCursorIntoView(b,f)};this.scrollCursorIntoView=function(a,b){if(0!==this.$size.scrollerHeight){var f=this.$cursorLayer.getPixelPosition(a),g=f.left,f=f.top;this.scrollTop>f?(b&&(f-=b*this.$size.scrollerHeight),
this.session.setScrollTop(f)):this.scrollTop+this.$size.scrollerHeight<f+this.lineHeight&&(b&&(f+=b*this.$size.scrollerHeight),this.session.setScrollTop(f+this.lineHeight-this.$size.scrollerHeight));f=this.scrollLeft;f>g?(g<this.$padding+2*this.layerConfig.characterWidth&&(g=0),this.session.setScrollLeft(g)):f+this.$size.scrollerWidth<g+this.characterWidth&&this.session.setScrollLeft(Math.round(g+this.characterWidth-this.$size.scrollerWidth))}};this.getScrollTop=function(){return this.session.getScrollTop()};
this.getScrollLeft=function(){return this.session.getScrollLeft()};this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight};this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)};this.scrollToRow=function(a){this.session.setScrollTop(a*this.lineHeight)};this.alignCursor=function(a,b){"number"==typeof a&&(a={row:a,column:0});var f=this.$cursorLayer.getPixelPosition(a).top-this.$size.scrollerHeight*(b||0);this.session.setScrollTop(f)};
this.STEPS=8;this.$calcSteps=function(a,b){for(var f=0,g=this.STEPS,h=[],f=0;f<g;++f)h.push((b-a)*(Math.pow(f/this.STEPS-1,3)+1)+a);return h};this.scrollToLine=function(a,b,f,g){a=this.$cursorLayer.getPixelPosition({row:a,column:0}).top;b&&(a-=this.$size.scrollerHeight/2);b=this.scrollTop;this.session.setScrollTop(a);!1!==f&&this.animateScrolling(b,g)};this.animateScrolling=function(a,b){var f=this.scrollTop;if(this.$animatedScroll&&1E5>Math.abs(a-f)){var g=this,h=g.$calcSteps(a,f);this.$inScrollAnimation=
!0;clearInterval(this.$timer);g.session.setScrollTop(h.shift());this.$timer=setInterval(function(){h.length?(g.session.setScrollTop(h.shift()),g.session.$scrollTop=f):null!=f?(g.session.$scrollTop=-1,g.session.setScrollTop(f),f=null):(g.$timer=clearInterval(g.$timer),g.$inScrollAnimation=!1,b&&b())},10)}};this.scrollToY=function(a){this.scrollTop!==a&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=a)};this.scrollToX=function(a){0>a&&(a=0);this.scrollLeft!==a&&(this.scrollLeft=a);this.$loop.schedule(this.CHANGE_H_SCROLL)};
this.scrollBy=function(a,b){b&&this.session.setScrollTop(this.session.getScrollTop()+b);a&&this.session.setScrollLeft(this.session.getScrollLeft()+a)};this.isScrollableBy=function(a,b){if(0>b&&0<this.session.getScrollTop()||0<b&&this.session.getScrollTop()+this.$size.scrollerHeight<this.layerConfig.maxHeight)return!0};this.pixelToScreenCoordinates=function(a,b){var f=this.scroller.getBoundingClientRect(),g=(a+this.scrollLeft-f.left-this.$padding)/this.characterWidth,f=Math.floor((b+this.scrollTop-
f.top)/this.lineHeight),h=Math.round(g);return{row:f,column:h,side:0<g-h?1:-1}};this.screenToTextCoordinates=function(a,b){var f=this.scroller.getBoundingClientRect(),g=Math.round((a+this.scrollLeft-f.left-this.$padding)/this.characterWidth);return this.session.screenToDocumentPosition(Math.floor((b+this.scrollTop-f.top)/this.lineHeight),Math.max(g,0))};this.textToScreenCoordinates=function(a,b){var f=this.scroller.getBoundingClientRect(),g=this.session.documentToScreenPosition(a,b),h=this.$padding+
Math.round(g.column*this.characterWidth);return{pageX:f.left+h-this.scrollLeft,pageY:f.top+g.row*this.lineHeight-this.scrollTop}};this.visualizeFocus=function(){h.addCssClass(this.container,"ace_focus")};this.visualizeBlur=function(){h.removeCssClass(this.container,"ace_focus")};this.showComposition=function(){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText});this.$keepTextAreaAtCursor=!0;h.addCssClass(this.textarea,"ace_composition");
this.textarea.style.cssText="";this.$moveTextAreaToCursor()};this.setCompositionText=function(){this.$moveTextAreaToCursor()};this.hideComposition=function(){this.$composition&&(h.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)};this._loadTheme=function(a,b){if(!k.get("packaged"))return b();m.loadScript(k.moduleUrl(a,"theme"),b)};this.setTheme=function(a){function f(a){h.importCssString(a.cssText,
a.cssClass,g.container.ownerDocument);g.$theme&&h.removeCssClass(g.container,g.$theme);g.$theme=a?a.cssClass:null;g.$theme&&h.addCssClass(g.container,g.$theme);a&&a.isDark?h.addCssClass(g.container,"ace_dark"):h.removeCssClass(g.container,"ace_dark");g.$size&&(g.$size.width=0,g.onResize())}var g=this;this.$themeValue=a;if(!a||"string"==typeof a){var k=a||"ace/theme/textmate",i;try{i=b(k)}catch(l){}if(i)return f(i);g._loadTheme(k,function(){b([k],function(b){g.$themeValue===a&&f(b)})})}else f(a)};
this.getTheme=function(){return this.$themeValue};this.setStyle=function(a){h.addCssClass(this.container,a)};this.unsetStyle=function(a){h.removeCssClass(this.container,a)};this.destroy=function(){this.$textLayer.destroy();this.$cursorLayer.destroy()}}).call(E.prototype);i.VirtualRenderer=E});
define("ace/worker/worker_client","require exports module ../lib/oop ../lib/event_emitter ../config".split(" "),function(b,i){var g=b("../lib/oop"),h=b("../lib/event_emitter").EventEmitter,a=b("../config"),f=function(f,g,h){this.changeListener=this.changeListener.bind(this);if(a.get("packaged"))this.$worker=new Worker(a.moduleUrl(g,"worker"));else{var i;"undefined"!==typeof b.supports&&0<=b.supports.indexOf("ucjs2-pinf-0")?i=b.nameToUrl("ace/worker/worker_sourcemint"):(b.nameToUrl&&!b.toUrl&&(b.toUrl=
b.nameToUrl),i=this.$normalizePath(b.toUrl("ace/worker/worker",null,"_")));this.$worker=new Worker(i);i={};for(var p=0;p<f.length;p++){var t=f[p],v=this.$normalizePath(b.toUrl(t,null,"_").replace(/.js(\?.*)?$/,""));i[t]=v}}this.$worker.postMessage({init:!0,tlns:i,module:g,classname:h});this.callbackId=1;this.callbacks={};var w=this;this.$worker.onerror=function(a){window.console&&console.log&&console.log(a);throw a;};this.$worker.onmessage=function(a){a=a.data;switch(a.type){case "log":window.console&&
console.log&&console.log(a.data);break;case "event":w._emit(a.name,{data:a.data});break;case "call":var b=w.callbacks[a.id];b&&(b(a.data),delete w.callbacks[a.id])}}};(function(){g.implement(this,h);this.$normalizePath=function(a){a=a.replace(/^[a-z]+:\/\/[^\/]+/,"");return a=location.protocol+"//"+location.host+("/"==a.charAt(0)?"":location.pathname.replace(/\/[^\/]*$/,""))+"/"+a.replace(/^[\/]+/,"")};this.terminate=function(){this._emit("terminate",{});this.$worker.terminate();this.$worker=null;
this.$doc.removeEventListener("change",this.changeListener);this.$doc=null};this.send=function(a,b){this.$worker.postMessage({command:a,args:b})};this.call=function(a,b,f){if(f){var g=this.callbackId++;this.callbacks[g]=f;b.push(g)}this.send(a,b)};this.emit=function(a,b){try{this.$worker.postMessage({event:a,data:{data:b.data}})}catch(f){}};this.attachToDocument=function(a){this.$doc&&this.terminate();this.$doc=a;this.call("setValue",[a.getValue()]);a.on("change",this.changeListener)};this.changeListener=
function(a){a.range={start:a.data.range.start,end:a.data.range.end};this.emit("change",a)}}).call(f.prototype);i.WorkerClient=f});define("ace/theme/textmate",["require","exports","module","ace/requirejs/text!./textmate.css","../lib/dom"],function(b,i){i.isDark=!1;i.cssClass="ace-tm";i.cssText=b("ace/requirejs/text!./textmate.css");b("../lib/dom").importCssString(i.cssText,i.cssClass)});
define("ace/ace","require exports module ./lib/fixoldbrowsers ./lib/dom ./lib/event ./editor ./edit_session ./undomanager ./virtual_renderer ./multi_select ./worker/worker_client ./keyboard/hash_handler ./keyboard/state_handler ./placeholder ./config ./theme/textmate".split(" "),function(b,i){b("./lib/fixoldbrowsers");var g=b("./lib/dom"),h=b("./lib/event"),a=b("./editor").Editor,f=b("./edit_session").EditSession,k=b("./undomanager").UndoManager,m=b("./virtual_renderer").VirtualRenderer,l=b("./multi_select").MultiSelect;
b("./worker/worker_client");b("./keyboard/hash_handler");b("./keyboard/state_handler");b("./placeholder");i.config=b("./config");i.edit=function(i){"string"==typeof i&&(i=document.getElementById(i));if(i.env&&i.env.editor instanceof a)return i.env.editor;var p=new f(g.getInnerText(i));p.setUndoManager(new k);i.innerHTML="";var t=new a(new m(i,b("./theme/textmate")));new l(t);t.setSession(p);var v={};v.document=p;v.editor=t;t.resize();h.addListener(window,"resize",function(){t.resize()});i.env=v;t.env=
v;return t}});
define("ace/mode/quirrel_highlight_rules","require exports module ../lib/oop ../lib/lang ./text_highlight_rules".split(" "),function(b,i){var g=b("../lib/oop"),h=b("../lib/lang"),a=b("./text_highlight_rules").TextHighlightRules,f=function(){var a=h.arrayToMap("difference else solve if import intersect new then union where with".split(" ")),b=h.arrayToMap(["true","false","null"]),f=h.arrayToMap("count distinct load max mean geometricMean sumSq variance median min mode stdDev sum".split(" ")),g=[{token:"comment",
regex:"--.*$"},{token:"comment",regex:"\\(-",merge:!0,next:"comment"},{token:"string",regex:'"(?:[^\n\r\\\\"]|\\\\.)*"'},{token:"constant.numeric",regex:"[0-9]+(?:\\\\.[0-9]+)?(?:[eE][0-9]+)?"},{token:"variable",regex:"'[a-zA-Z_0-9]['a-zA-Z_0-9]*\\b"},{token:"string",regex:"/(?:/[a-zA-Z_0-9-]+)+\\b"},{token:"keyword.operator",regex:"~|:=|\\+|\\/|\\-|\\*|&|\\||<|>|<=|=>|!=|<>|=|!|neg\\b"},{token:function(g){return a.hasOwnProperty(g)?"keyword":b.hasOwnProperty(g)?"constant.language":f.hasOwnProperty(g)?
"support.function":"identifier"},regex:"([a-zA-Z]['a-zA-Z_0-9]*|_['a-zA-Z_0-9]+)\\b"},{token:"invalid",regex:"//"},{token:"identifier",regex:"\\{",next:"object-start"},{token:"identifier",regex:"`(?:[^`\\\\]|\\\\.)+`"}];this.$rules={start:g,comment:[{token:"comment",regex:".*?-\\)",next:"start"},{token:"comment",merge:!0,regex:".+"}],"object-start":[{token:"entity.name.function",regex:'(?:[a-zA-Z_][a-zA-Z_0-9]*|`(?:[^`\\\\]|\\\\.)+`|"(?:[^"\\\\]|\\\\.)+"):',next:"object-contents"},{token:"identifier",
regex:"\\}",next:"start"}],"object-contents":g.concat([{token:"identifier",regex:",",next:"object-start"},{token:"identifier",regex:"\\}",next:"start"}])}};g.inherits(f,a);i.QuirrelHighlightRules=f});
define("ace/mode/quirrel","require exports module ../lib/oop ./text ../tokenizer ./quirrel_highlight_rules ../range".split(" "),function(b,i){var g=b("../lib/oop"),h=b("./text").Mode,a=b("../tokenizer").Tokenizer,f=b("./quirrel_highlight_rules").QuirrelHighlightRules,k=b("../range").Range,m=function(){this.$tokenizer=new a((new f).getRules())};g.inherits(m,h);(function(){this.toggleCommentLines=function(a,b,f,g){for(var h=!0,a=/^(\s*)--/,i=f;i<=g;i++)if(!a.test(b.getLine(i))){h=!1;break}if(h){h=new k(0,
0,0,0);for(i=f;i<=g;i++)f=b.getLine(i).match(a),h.start.row=i,h.end.row=i,h.end.column=f[0].length,b.replace(h,f[1])}else b.indentRows(f,g,"--")}}).call(m.prototype);i.Mode=m});
define("app/editor/editor.ace",["require","ace/ace","app/util/ui","ace/mode/quirrel"],function(b,i,g){return function(h,a){function f(){$(l).trigger("execute",l.get())}function k(){$(l).trigger("execute",p.session.getTextRange(p.getSelectionRange()))}function m(a){t.css({display:"block",position:"absolute",right:"25px",bottom:a?"10px":"25px",zIndex:100});v.css({display:"block",position:"absolute",right:"100px",bottom:a?"10px":"25px",zIndex:100});a?(t.find(".ui-icon-circle-triangle-e").removeClass("ui-icon-circle-triangle-e").addClass("ui-icon-circle-triangle-s"),
v.find(".ui-icon-circle-triangle-e").removeClass("ui-icon-circle-triangle-e").addClass("ui-icon-circle-triangle-s")):(t.find(".ui-icon-circle-triangle-s").removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-e"),v.find(".ui-icon-circle-triangle-s").removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-e"))}var l,r,p=i.edit($(h).get(0));p.commands.addCommand({name:"executeSelection",bindKey:{win:"Shift-Ctrl-Return",mac:"Shift-Ctrl-Return|Command-Ctrl-Return",
sender:"editor|cli"},exec:k});p.commands.addCommand({name:"executeAll",bindKey:{win:"Shift-Return",mac:"Shift-Return|Command-Return",sender:"editor|cli"},exec:f});p.setShowPrintMargin(!1);r=p.getSession();r.setUseWrapMode(!0);r.setMode(new (b("ace/mode/quirrel").Mode));r.getSelection().on("changeCursor",function(){$(l).trigger("changeCursor",p.getCursorPosition())});r.getSelection().on("changeSelection",function(){$(l).trigger("changeSelection",p.getSelection());p.getSelection().isEmpty()?v.hide():
v.show()});r.on("change",function(){function a(){$(l).trigger("change",l.get())}var b;return function(){clearInterval(b);b=setTimeout(a,250)}}());var t=g.button(h,{label:"run",text:!0,icons:{primary:"ui-icon-circle-triangle-s"},handler:f}),v=g.button(h,{label:"run selected",text:!0,icons:{primary:"ui-icon-circle-triangle-s"},handler:k});m(a);v.hide();return l={get:function(){return r.getValue()},set:function(a){r.setValue(a)},setTabSize:function(a){a!==r.getTabSize()&&(r.setTabSize(a),$(l).trigger("tabSizeChanged",
a))},setUseSoftTabs:function(a){a!==r.getUseSoftTabs()&&(r.setUseSoftTabs(a),$(l).trigger("useSoftTabsChanged",a))},getTabSize:function(){return r.getTabSize()},getUseSoftTabs:function(){return r.getUseSoftTabs()},setTheme:function(a){var f="ace/theme/"+a;b([f],function(){p.setTheme(f)})},resize:function(){p.resize()},engine:function(){return"ace"},focus:function(){p.focus()},highlightSyntax:function(a,b,f,g){function h(){r.setAnnotations([]);r.removeListener("change",h)}r.setAnnotations([{row:a,
column:b,text:f,type:g}]);r.on("change",h)},setCursorPosition:function(a,b){p.navigateTo(a,b);p.focus()},triggerExecute:f,orientButton:m}}});
define("app/editorsync",[],function(){return function(b,i){function g(a,b){i.setCode(""+b)}function h(a,f){b.set(""+f)}$(i).on("deactivated",function(a,f){i.monitor.unbind(i.getKey(f)+".code",h);$(b).off("change",g);i.setCode(b.get(),f)});$(i).on("activated",function(a,f){b.set(""+i.getCode(f));$(b).on("change",g);b.focus();i.monitor.bind(i.getKey(f)+".code",h)})}});
define("app/util/jsonmodel",[],function(){function b(a,f,g,h,i){if("undefined"===typeof g)return"[undefined]";if(null===g)return"[null]";if(g instanceof Array){for(var r=[],p=0;p<g.length;p++)r.push(b(a,f,g[p],h,i,!0));return r.join("; ")}if("object"===typeof g){r=[];for(p in g)if(g.hasOwnProperty(p)){var t=p+": "+b(a,f,g[p],h,i,!0);r.push(t)}return r.join(", ")}return""===g?"[empty]":isNaN(g)?(g=g.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),'"'+g.replace(/"/g,'\\"')+
'"'):g}var i=new Date,g=+new Date(i.getFullYear()-10,i.getMonth(),i.getDay(),0,0,0),h=+new Date(i.getFullYear()+10,i.getMonth(),i.getDay(),0,0,0);return{create:function(a){var f=a[0],k=[];if("object"===typeof f)for(var i in f){var l=f[i];if(f.hasOwnProperty(i)&&"#id"!==i){var r={id:i,name:i,field:i,sortable:!0,formatter:b,pgvalue:!1,type:typeof l,multivalue:l instanceof Array||"object"===this.type};if(!r.multivalue){var p;if(p=r.field.match(/time|date|created/i))if(!(p="number"===r.type&&l>g&&l<h))if(p=
"string"===r.type){var t;try{ReportGrid.date.parse(l),t=!0}catch(v){t=!1}p=null!==t}p&&(r.subtype="datetime");if("datetime"===r.subtype&&1<a.length){a.sort(function(a,b){return ReportGrid.compare(a[i],b[i])});try{var w="number"===r.type?a[0][i]:ReportGrid.date.parse(a[0][i]),x=("number"===r.type?a[a.length-1][i]:ReportGrid.date.parse(a[a.length-1][i]))-w;r.periodicity=94608E6<=x?"year":80352E5<=x?"month":6048E5<=x?"day":"minute"}catch(E){}}}k.push(r)}}else k.push({id:"value",name:"Value",field:"value",
pgvalue:!0,sortable:!0,multivalue:!1});return k},find:function(a,b){for(var g=0;g<a.length;g++)if(a[g].field===b)return a[g];return null},axis:function(a,b){var g=this.find(a,b);if(!g)return null;var h={type:b};"datetime"===g.subtype&&g.periodicity&&(h.type="time:"+g.periodicity,h.transformer=function(a){if("number"===g.type)for(var b=0;b<a.length;b++)a[b][h.type]=a[b][g.field];else for(b=0;b<a.length;b++)a[b][h.type]=ReportGrid.date.parse(a[b][g.field]);return a});return h}}});
(function(b){b.fn.drag=function(a,f,g){var h="string"==typeof a?a:"",i=b.isFunction(a)?a:b.isFunction(f)?f:null;0!==h.indexOf("drag")&&(h="drag"+h);g=(a==i?f:g)||{};return i?this.bind(h,g,i):this.trigger(h)};var i=b.event,g=i.special,h=g.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",livekey:"livedrag",add:function(a){var f=b.data(this,h.datakey),g=a.data||{};f.related+=1;!f.live&&a.selector&&(f.live=!0,i.add(this,"draginit."+h.livekey,
h.delegate));b.each(h.defaults,function(a){void 0!==g[a]&&(f[a]=g[a])})},remove:function(){b.data(this,h.datakey).related-=1},setup:function(){if(!b.data(this,h.datakey)){var a=b.extend({related:0},h.defaults);b.data(this,h.datakey,a);i.add(this,"mousedown",h.init,a);this.attachEvent&&this.attachEvent("ondragstart",h.dontstart)}},teardown:function(){b.data(this,h.datakey).related||(b.removeData(this,h.datakey),i.remove(this,"mousedown",h.init),i.remove(this,"draginit",h.delegate),h.textselect(!0),
this.detachEvent&&this.detachEvent("ondragstart",h.dontstart))},init:function(a){var f=a.data,k;if(!(0<f.which&&a.which!=f.which)&&!b(a.target).is(f.not)&&(!f.handle||b(a.target).closest(f.handle,a.currentTarget).length))if(f.propagates=1,f.interactions=[h.interaction(this,f)],f.target=a.target,f.pageX=a.pageX,f.pageY=a.pageY,f.dragging=null,k=h.hijack(a,"draginit",f),f.propagates){if((k=h.flatten(k))&&k.length)f.interactions=[],b.each(k,function(){f.interactions.push(h.interaction(this,f))});f.propagates=
f.interactions.length;!1!==f.drop&&g.drop&&g.drop.handler(a,f);h.textselect(!1);i.add(document,"mousemove mouseup",h.handler,f);return!1}},interaction:function(a,f){return{drag:a,callback:new h.callback,droppable:[],offset:b(a)[f.relative?"position":"offset"]()||{top:0,left:0}}},handler:function(a){var b=a.data;switch(a.type){case !b.dragging&&"mousemove":if(Math.pow(a.pageX-b.pageX,2)+Math.pow(a.pageY-b.pageY,2)<Math.pow(b.distance,2))break;a.target=b.target;h.hijack(a,"dragstart",b);b.propagates&&
(b.dragging=!0);case "mousemove":if(b.dragging){h.hijack(a,"drag",b);if(b.propagates){!1!==b.drop&&g.drop&&g.drop.handler(a,b);break}a.type="mouseup"}case "mouseup":i.remove(document,"mousemove mouseup",h.handler),b.dragging&&(!1!==b.drop&&g.drop&&g.drop.handler(a,b),h.hijack(a,"dragend",b)),h.textselect(!0),!1===b.click&&b.dragging&&(jQuery.event.triggered=!0,setTimeout(function(){jQuery.event.triggered=!1},20),b.dragging=!1)}},delegate:function(a){var f=[],g,m=b.data(this,"events")||{};b.each(m.live||
[],function(l,m){if(0===m.preType.indexOf("drag")&&(g=b(a.target).closest(m.selector,a.currentTarget)[0]))i.add(g,m.origType+"."+h.livekey,m.origHandler,m.data),0>b.inArray(g,f)&&f.push(g)});return!f.length?!1:b(f).bind("dragend."+h.livekey,function(){i.remove(this,"."+h.livekey)})},hijack:function(a,f,g,m,l){if(g){var r=a.originalEvent,p=a.type,t=f.indexOf("drop")?"drag":"drop",v,w=m||0,x,E,m=!isNaN(m)?m:g.interactions.length;a.type=f;a.originalEvent=null;g.results=[];do if((x=g.interactions[w])&&
!("dragend"!==f&&x.cancelled))E=h.properties(a,g,x),x.results=[],b(l||x[t]||g.droppable).each(function(l,m){v=(E.target=m)?i.handle.call(m,a,E):null;!1===v?("drag"==t&&(x.cancelled=!0,g.propagates-=1),"drop"==f&&(x[t][l]=null)):"dropinit"==f&&x.droppable.push(h.element(v)||m);"dragstart"==f&&(x.proxy=b(h.element(v)||x.drag)[0]);x.results.push(v);delete a.result;if("dropinit"!==f)return v}),g.results[w]=h.flatten(x.results),"dropinit"==f&&(x.droppable=h.flatten(x.droppable)),"dragstart"==f&&!x.cancelled&&
E.update();while(++w<m);a.type=p;a.originalEvent=r;return h.flatten(g.results)}},properties:function(a,b,g){var i=g.callback;i.drag=g.drag;i.proxy=g.proxy||g.drag;i.startX=b.pageX;i.startY=b.pageY;i.deltaX=a.pageX-b.pageX;i.deltaY=a.pageY-b.pageY;i.originalX=g.offset.left;i.originalY=g.offset.top;i.offsetX=a.pageX-(b.pageX-i.originalX);i.offsetY=a.pageY-(b.pageY-i.originalY);i.drop=h.flatten((g.drop||[]).slice());i.available=h.flatten((g.droppable||[]).slice());return i},element:function(a){if(a&&
(a.jquery||1==a.nodeType))return a},flatten:function(a){return b.map(a,function(a){return a&&a.jquery?b.makeArray(a):a&&a.length?h.flatten(a):a})},textselect:function(a){b(document)[a?"unbind":"bind"]("selectstart",h.dontstart).attr("unselectable",a?"off":"on").css("MozUserSelect",a?"":"none")},dontstart:function(){return!1},callback:function(){}};h.callback.prototype={update:function(){g.drop&&this.available.length&&b.each(this.available,function(a){g.drop.locate(this,a)})}};g.draginit=g.dragstart=
g.dragend=h})(jQuery);define("libs/jquery/slickgrid/jquery.event.drag-2.0.min",function(){});
(function(b){function i(){var a=!1,b=!1;this.stopPropagation=function(){a=!0};this.isPropagationStopped=function(){return a};this.stopImmediatePropagation=function(){b=!0};this.isImmediatePropagationStopped=function(){return b}}function g(){this.__nonDataRow=!0}function h(){this.__group=!0;this.__updated=!1;this.count=0;this.title=this.value=null;this.collapsed=!1;this.totals=null}function a(){this.__groupTotals=!0;this.group=null}function f(){var a=null;this.isActive=function(b){return b?a===b:null!==
a};this.activate=function(b){if(b!==a){if(null!==a)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!b.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!b.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";a=b}};this.deactivate=function(b){if(a!==b)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";
a=null};this.commitCurrentEdit=function(){return a?a.commitCurrentEdit():!0};this.cancelCurrentEdit=function(){return a?a.cancelCurrentEdit():!0}}b.extend(!0,window,{Slick:{Event:function(){var a=[];this.subscribe=function(b){a.push(b)};this.unsubscribe=function(b){for(var f=a.length-1;0<=f;f--)a[f]===b&&a.splice(f,1)};this.notify=function(b,f,g){for(var f=f||new i,g=g||this,h,t=0;t<a.length&&!f.isPropagationStopped()&&!f.isImmediatePropagationStopped();t++)h=a[t].call(g,f,b);return h}},EventData:i,
EventHandler:function(){var a=[];this.subscribe=function(b,f){a.push({event:b,handler:f});b.subscribe(f);return this};this.unsubscribe=function(b,f){for(var g=a.length;g--;)if(a[g].event===b&&a[g].handler===f){a.splice(g,1);b.unsubscribe(f);return}return this};this.unsubscribeAll=function(){for(var b=a.length;b--;)a[b].event.unsubscribe(a[b].handler);a=[];return this}},Range:function(a,b,f,g){void 0===f&&void 0===g&&(f=a,g=b);this.fromRow=Math.min(a,f);this.fromCell=Math.min(b,g);this.toRow=Math.max(a,
f);this.toCell=Math.max(b,g);this.isSingleRow=function(){return this.fromRow==this.toRow};this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell};this.contains=function(a,b){return a>=this.fromRow&&a<=this.toRow&&b>=this.fromCell&&b<=this.toCell};this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}},NonDataRow:g,Group:h,GroupTotals:a,EditorLock:f,GlobalEditorLock:new f}});
h.prototype=new g;h.prototype.equals=function(a){return this.value===a.value&&this.count===a.count&&this.collapsed===a.collapsed};a.prototype=new g})(jQuery);define("libs/jquery/slickgrid/slick.core",function(){});if("undefined"===typeof jQuery)throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"===typeof Slick)throw"slick.core.js not loaded";
(function(b){b.extend(!0,window,{Slick:{Grid:function(h,a,f,k){function m(){if(!u){u=!0;Eb=parseFloat(b.css(Ya[0],"width",!0));var a,g=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];a=b("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo(Ra);S=cc=0;b.each(g,function(b,f){S+=parseFloat(a.css(f))||0});b.each(h,function(b,f){cc+=parseFloat(a.css(f))||0});a.remove();var i=
b("<div class='slick-row' />").appendTo(lc);a=b("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(i);q=P=0;b.each(g,function(b,f){q+=parseFloat(a.css(f))||0});b.each(h,function(b,f){P+=parseFloat(a.css(f))||0});i.remove();Ba=Math.max(S,q);Ra&&Ra.jquery&&Ra.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1});k.enableTextSelectionOnCells||Tb.bind("selectstart.ui",function(a){return b(a.target).is("input,textarea")});sa();t();Ra.click(function(a){a.metaKey=
a.metaKey||a.ctrlKey;if(!b(a.target).hasClass("slick-resizable-handle")){var g=b(a.target).closest(".slick-header-column");if(g.length&&(g=g.data("column"),g.sortable&&z().commitCurrentEdit())){for(var h=null,i=0;i<Ib.length;i++)if(Ib[i].columnId==g.id){h=Ib[i];h.sortAsc=!h.sortAsc;break}if(a.metaKey&&k.multiColumnSort)h&&Ib.splice(i,1);else{if(!a.shiftKey&&!a.metaKey||!k.multiColumnSort)Ib=[];h?0==Ib.length&&Ib.push(h):(h={columnId:g.id,sortAsc:!0},Ib.push(h))}Q(Ib);k.multiColumnSort?E(Ca.onSort,
{multiColumnSort:!0,sortCols:b.map(Ib,function(a){return{sortCol:f[fc[a.columnId]],sortAsc:a.sortAsc}})},a):E(Ca.onSort,{multiColumnSort:!1,sortCol:g,sortAsc:h.sortAsc},a)}}});x();Bb();for(g=lc[0];(g=g.parentNode)!=document.body&&null!=g;)(g==Tb[0]||g.scrollWidth!=g.clientWidth||g.scrollHeight!=g.clientHeight)&&b(g).bind("scroll.slickgrid",kb);Ya.bind("resize.slickgrid",Bb);Tb.bind("scroll.slickgrid",Xb);Qc.bind("contextmenu.slickgrid",ya).bind("click.slickgrid",sb).delegate(".slick-header-column",
"mouseenter",K).delegate(".slick-header-column","mouseleave",G);ed.bind("keydown.slickgrid",mc);lc.bind("keydown.slickgrid",mc).bind("click.slickgrid",Hb).bind("dblclick.slickgrid",ob).bind("contextmenu.slickgrid",Va).bind("draginit",fd).bind("dragstart",zc).bind("drag",sd).bind("dragend",ld).delegate(".slick-cell","mouseenter",Tc).delegate(".slick-cell","mouseleave",Lc)}}function l(a){for(var b=cd.length;0<=b;b--)if(cd[b]===a){cd[b].destroy&&cd[b].destroy();cd.splice(b,1);break}}function r(){for(var a=
0,b=0,g=f.length;b<g;b++)a+=f[b].width;a+=i.width;return Math.max(a,Eb)+1E3}function p(a){for(var b=Ob,g=ba?Eb-i.width:Eb,h=0,l=f.length;l--;)h+=f[l].width;Ob=k.fullWidthRows?Math.max(h,g):h;Ob!=b&&(lc.width(Ob),Zc.width(Ob),Ra.width(r()),F=Ob>Eb-i.width);(Ob!=b||a)&&O()}function t(){function a(){b(this).addClass("ui-state-hover")}function g(){b(this).removeClass("ui-state-hover")}Ra.find(".slick-header-column").each(function(){var a=b(this).data("column");a&&E(Ca.onBeforeHeaderDestroy,{headerNode:this,
column:a})});Ra.empty();Ra.width(r());Zc.empty();for(var h=0;h<f.length;h++){var i=f[h],l=b("<div class='ui-state-default slick-header-column' id='"+Qb+i.id+"' />").html("<span class='slick-column-name'>"+i.name+"</span>").width(i.width-S).attr("title",i.toolTip||"").data("column",i).addClass(i.headerCssClass||"").appendTo(Ra);(k.enableColumnReorder||i.sortable)&&l.hover(a,g);i.sortable&&l.append("<span class='slick-sort-indicator' />");E(Ca.onHeaderRendered,{headerNode:l[0],column:i});k.showHeaderRow&&
b("<div class='ui-state-default slick-headerrow-column l"+h+" r"+h+"'></div>").appendTo(Zc)}k.showHeaderRow&&b("<div style='display:block;height:1px;width:10000px;position:absolute;top:0;left:0;'></div>").appendTo(xc);Q(Ib);v();k.enableColumnReorder&&Ra.sortable({containment:"parent",axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,start:function(a,f){b(f.helper).addClass("slick-header-column-active")},
beforeStop:function(a,f){b(f.helper).removeClass("slick-header-column-active")},stop:function(a){if(z().commitCurrentEdit()){for(var g=Ra.sortable("toArray"),h=[],i=0;i<g.length;i++)h.push(f[L(g[i].replace(Qb,""))]);ta(h);E(Ca.onColumnsReordered,{});a.stopPropagation();v()}else b(this).sortable("cancel")}})}function v(){var a,g,h,i,l,m,r,q;i=Ra.children();i.find(".slick-resizable-handle").remove();i.each(function(a){f[a].resizable&&(void 0===r&&(r=a),q=a)});void 0!==r&&i.each(function(t,R){t<r||k.forceFitColumns&&
t>=q||(b(R),b("<div class='slick-resizable-handle' />").appendTo(R).bind("dragstart",function(p){if(!z().commitCurrentEdit())return!1;h=p.pageX;b(this).parent().addClass("slick-header-column-active");var r=p=null;i.each(function(a,g){f[a].previousWidth=b(g).outerWidth()});if(k.forceFitColumns){r=p=0;for(a=t+1;a<i.length;a++)g=f[a],g.resizable&&(null!==r&&(r=g.maxWidth?r+(g.maxWidth-g.previousWidth):null),p+=g.previousWidth-Math.max(g.minWidth||0,Ba))}var q=0,R=0;for(a=0;a<=t;a++)g=f[a],g.resizable&&
(null!==R&&(R=g.maxWidth?R+(g.maxWidth-g.previousWidth):null),q+=g.previousWidth-Math.max(g.minWidth||0,Ba));null===p&&(p=1E5);null===q&&(q=1E5);null===r&&(r=1E5);null===R&&(R=1E5);m=h+Math.min(p,R);l=h-Math.min(q,r)}).bind("drag",function(b){var p=Math.min(m,Math.max(l,b.pageX))-h,r;if(0>p){r=p;for(a=t;0<=a;a--)g=f[a],g.resizable&&(b=Math.max(g.minWidth||0,Ba),r&&g.previousWidth+r<b?(r+=g.previousWidth-b,g.width=b):(g.width=g.previousWidth+r,r=0));if(k.forceFitColumns){r=-p;for(a=t+1;a<i.length;a++)g=
f[a],g.resizable&&(r&&g.maxWidth&&g.maxWidth-g.previousWidth<r?(r-=g.maxWidth-g.previousWidth,g.width=g.maxWidth):(g.width=g.previousWidth+r,r=0))}}else{r=p;for(a=t;0<=a;a--)g=f[a],g.resizable&&(r&&g.maxWidth&&g.maxWidth-g.previousWidth<r?(r-=g.maxWidth-g.previousWidth,g.width=g.maxWidth):(g.width=g.previousWidth+r,r=0));if(k.forceFitColumns){r=-p;for(a=t+1;a<i.length;a++)g=f[a],g.resizable&&(b=Math.max(g.minWidth||0,Ba),r&&g.previousWidth+r<b?(r+=g.previousWidth-b,g.width=b):(g.width=g.previousWidth+
r,r=0))}}A();k.syncColumnCellResize&&O()}).bind("dragend",function(){var h;b(this).parent().removeClass("slick-header-column-active");for(a=0;a<i.length;a++)g=f[a],h=b(i[a]).outerWidth(),g.previousWidth!==h&&g.rerenderOnResize&&ha();p(!0);pb();E(Ca.onColumnsResized,{})}))})}function w(a){var f=0;b.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],function(b,g){f+=parseFloat(a.css(g))||0});return f}function x(){$c=b("<style type='text/css' rel='stylesheet' />").appendTo(b("head"));
for(var a=["."+Qb+" .slick-header-column { left: 1000px; }","."+Qb+" .slick-top-panel { height:"+k.topPanelHeight+"px; }","."+Qb+" .slick-headerrow-columns { height:"+k.headerRowHeight+"px; }","."+Qb+" .slick-cell { height:"+(k.rowHeight-P)+"px; }","."+Qb+" .slick-row { height:"+k.rowHeight+"px; }"],g=0;g<f.length;g++)a.push("."+Qb+" .l"+g+" { }"),a.push("."+Qb+" .r"+g+" { }");$c[0].styleSheet?$c[0].styleSheet.cssText=a.join(" "):$c[0].appendChild(document.createTextNode(a.join(" ")))}function E(a,
b,f){f=f||new Slick.EventData;b=b||{};b.grid=Ca;return a.notify(b,f,Ca)}function z(){return k.editorLock}function L(a){return fc[a]}function C(){var a,b,g=[],h=0,k=0,l,m=ba?Eb-i.width:Eb;for(a=0;a<f.length;a++)b=f[a],g.push(b.width),k+=b.width,b.resizable&&(h+=b.width-Math.max(b.minWidth,Ba));for(l=k;k>m&&h;){var r=(k-m)/h;for(a=0;a<f.length&&k>m;a++){b=f[a];var q=g[a];if(b.resizable&&!(q<=b.minWidth||q<=Ba)){b=Math.max(b.minWidth,Ba);var t=Math.floor(r*(q-b))||1,t=Math.min(t,q-b),k=k-t,h=h-t;g[a]-=
t}}if(l==k)break;l=k}for(l=k;k<m;){h=m/k;for(a=0;a<f.length&&k<m;a++)b=f[a],b.resizable&&!(b.maxWidth<=b.width)&&(r=Math.min(Math.floor(h*b.width)-b.width,b.maxWidth-b.width||1E6)||1,k+=r,g[a]+=r);if(l==k)break;l=k}k=!1;for(a=0;a<f.length;a++)f[a].rerenderOnResize&&f[a].width!=g[a]&&(k=!0),f[a].width=g[a];A();p(!0);k&&(ha(),pb())}function A(){if(u){for(var a,g=0,h=Ra.children(),i=h.length;g<i;g++)a=b(h[g]),a.width()!==f[g].width-S&&a.width(f[g].width-S);sa()}}function O(){for(var a,b,g=0,h,i=0;i<
f.length;i++){h=f[i].width;b=i;if(!vc){var k=document.styleSheets;for(a=0;a<k.length;a++)if((k[a].ownerNode||k[a].owningElement)==$c[0]){vc=k[a];break}if(!vc)throw Error("Cannot find stylesheet.");yc=[];Dd=[];var k=vc.cssRules||vc.rules,l=void 0,l=void 0;for(a=0;a<k.length;a++){var m=k[a].selectorText;if(l=/\.l\d+/.exec(m))l=parseInt(l[0].substr(2,l[0].length-2),10),yc[l]=k[a];else if(l=/\.r\d+/.exec(m))l=parseInt(l[0].substr(2,l[0].length-2),10),Dd[l]=k[a]}}a=yc[b];b=Dd[b];a.style.left=g+"px";b.style.right=
Ob-g-h+"px";g+=f[i].width}}function Q(a){Ib=a;var f=Ra.children();f.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc");b.each(Ib,function(a,b){null==b.sortAsc&&(b.sortAsc=!0);var g=fc[b.columnId];null!=g&&f.eq(g).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(b.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function U(a,b){Ed=[];for(var g={},h=0;h<b.length;h++)for(var i=
b[h].fromRow;i<=b[h].toRow;i++){g[i]||Ed.push(i);g[i]={};for(var l=b[h].fromCell;l<=b[h].toCell;l++)md(i,l)&&(g[i][f[l].id]=k.selectedCellCssClass)}Sc(k.selectedCellCssClass,g);E(Ca.onSelectedRowsChanged,{rows:bd()},a)}function sa(){ja=[];Fc=[];for(var a=0,b=0,g=f.length;b<g;b++)ja[b]=a,Fc[b]=a+f[b].width,a+=f[b].width}function ta(a){f=a;fc={};for(a=0;a<f.length;a++){var g=f[a]=b.extend({},Bc,f[a]);fc[g.id]=a}sa();u&&(ha(),t(),$c.remove(),vc=null,x(),Bb(),O(),Xb())}function ca(){return a.getLength?
a.getLength():a.length}function ra(b){return a.getItem?a.getItem(b):a[b]}function Ea(a){var a=Math.max(a,0),a=Math.min(a,dc-Db+(F?i.height:0)),b=Ab;Dc=Math.min(Mc-1,Math.floor(a/Cc));Ab=Math.round(Dc*Nc);a-=Ab;if(Ab!=b){var f=Qa(a);R(f);for(var g in xb)xb[g].rowNode.style.top=g*k.rowHeight-Ab+"px"}D!=a&&(ac=D+b<a+Ab?1:-1,Tb[0].scrollTop=$a=gb=D=a,E(Ca.onViewportChanged,{}))}function Fa(b,f){var g=a.getItemMetadata&&a.getItemMetadata(b),h=g&&g.columns&&(g.columns[f.id]||g.columns[fc[f.id]]);return h&&
h.formatter||g&&g.formatter||f.formatter||k.formatterFactory&&k.formatterFactory.getFormatter(f)||k.defaultFormatter}function Ia(b,g){var h=f[g],i=a.getItemMetadata&&a.getItemMetadata(b);return(i=i&&i.columns)&&i[h.id]&&void 0!==i[h.id].editor?i[h.id].editor:i&&i[g]&&void 0!==i[g].editor?i[g].editor:h.editor||k.editorFactory&&k.editorFactory.getEditor(h)}function Za(a,b){return k.dataItemColumnValueExtractor?k.dataItemColumnValueExtractor(a,b):a[b.field]}function Ka(a,b,g,h){var i=f[g],k=ra(b),l=
"slick-cell l"+g+" r"+Math.min(f.length-1,g+h-1)+(i.cssClass?" "+i.cssClass:"");b===oa&&g===da&&(l+=" active");for(var m in tc)tc[m][b]&&tc[m][b][i.id]&&(l+=" "+tc[m][b][i.id]);a.push("<div class='"+l+"'>");k&&(l=Za(k,i),a.push(Fa(b,i)(b,g,l,i,k)));a.push("</div>");xb[b].cellRenderQueue.push(g);xb[b].cellColSpans[g]=h}function R(a){for(var b in xb)(b=parseInt(b,10))!==oa&&(b<a.top||b>a.bottom)&&za(b)}function ha(){Ga&&zb();for(var a in xb)za(a)}function za(a){var b=xb[a];b&&(lc[0].removeChild(b.rowNode),
delete xb[a],delete Ub[a],Ld--,X++)}function Xa(a){var b,f;if(a&&a.length){b=ac=0;for(f=a.length;b<f;b++)Ga&&oa===a[b]&&zb(),xb[a[b]]&&za(a[b])}}function Oa(a){Xa([a])}function eb(a){var b=xb[a];if(b){yb(a);for(var g in b.cellNodesByColumnIdx){g|=0;var h=f[g],i=ra(a),k=b.cellNodesByColumnIdx[g];a===oa&&g===da&&Ga?Ga.loadValue(i):k.innerHTML=i?Fa(a,h)(a,g,Za(i,h),h,i):""}Sb(a)}}function Bb(){u&&(Db=k.autoHeight?k.rowHeight*(ca()+(k.enableAddRow?1:0)+(k.leaveSpaceForNewRows?Jb-1:0)):parseFloat(b.css(Ya[0],
"height",!0))-parseFloat(b.css(Qc[0],"height"))-w(Qc)-(k.showTopPanel?k.topPanelHeight+w(Ic):0)-(k.showHeaderRow?k.headerRowHeight+w(xc):0),Jb=Math.ceil(Db/k.rowHeight),Eb=parseFloat(b.css(Ya[0],"width",!0)),Tb.height(Db),k.forceFitColumns&&C(),Wb(),Xb(),pb())}function Wb(){if(u){Aa=ca()+(k.enableAddRow?1:0)+(k.leaveSpaceForNewRows?Jb-1:0);var a=ba;ba=!k.autoHeight&&Aa*k.rowHeight>Db;var b=k.enableAddRow?ca():ca()-1,f;for(f in xb)f>=b&&za(f);b=ec;dc=Math.max(k.rowHeight*Aa,Db-i.height);dc<g?(ec=Cc=
dc,Mc=1,Nc=0):(ec=g,Cc=ec/100,Mc=Math.floor(dc/Cc),Nc=(dc-ec)/(Mc-1));ec!==b&&(lc.css("height",ec),gb=Tb[0].scrollTop);f=gb+Ab<=dc-Db;0==dc||0==gb?Dc=Ab=0:f?Ea(gb+Ab):Ea(dc-Db);ec!=b&&k.autoHeight&&Bb();k.forceFitColumns&&a!=ba&&C();p(!1)}}function Qa(a,b){null==a&&(a=gb);null==b&&(b=Kb);return{top:Math.floor((a+Ab)/k.rowHeight),bottom:Math.ceil((a+Ab+Db)/k.rowHeight),leftPx:b,rightPx:b+Eb}}function Ja(a,b){var f=Qa(a,b),g=Math.round(Db/k.rowHeight);-1==ac?(f.top-=g,f.bottom+=3):1==ac?(f.top-=3,f.bottom+=
g):(f.top-=3,f.bottom+=3);f.top=Math.max(0,f.top);f.bottom=Math.min(k.enableAddRow?ca():ca()-1,f.bottom);f.leftPx-=Eb;f.rightPx+=Eb;f.leftPx=Math.max(0,f.leftPx);f.rightPx=Math.min(Ob,f.rightPx);return f}function yb(a){if((a=xb[a])&&a.cellRenderQueue.length)for(var b=a.rowNode.lastChild;a.cellRenderQueue.length;){var f=a.cellRenderQueue.pop();a.cellNodesByColumnIdx[f]=b;b=b.previousSibling}}function $b(){k.enableAsyncPostRender&&(clearTimeout(gc),gc=setTimeout(jc,k.asyncPostRenderDelay))}function Sb(a){delete Ub[a];
Xc=Math.min(Xc,a);na=Math.max(na,a);$b()}function pb(){if(u){var b=Qa(),g=Ja();R(g);if(Wa!=Kb){for(var h,i=[],l=[],m,p,r=g.top;r<=g.bottom;r++)if(h=xb[r]){yb(r);p=g;m=r;var q=0,t=xb[m],v=[],x=void 0;for(x in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(x)){var x=x|0,w=t.cellColSpans[x];if(ja[x]>p.rightPx||Fc[Math.min(f.length-1,x+w-1)]<p.leftPx)m==oa&&x==da||v.push(x)}for(p=void 0;null!=(p=v.pop());)t.rowNode.removeChild(t.cellNodesByColumnIdx[p]),delete t.cellColSpans[p],delete t.cellNodesByColumnIdx[p],
Ub[m]&&delete Ub[m][p],q++;m=0;q=(q=a.getItemMetadata&&a.getItemMetadata(r))&&q.columns;t=0;for(v=f.length;t<v&&!(ja[t]>g.rightPx);t++){if(null==(p=h.cellColSpans[t]))p=1,q&&(p=(p=q[f[t].id]||q[t])&&p.colspan||1,"*"===p&&(p=v-t)),Fc[Math.min(v-1,t+p-1)]>g.leftPx&&(Ka(i,r,t,p),m++);t+=1<p?p-1:0}m&&l.push(r)}if(i.length){r=document.createElement("div");for(r.innerHTML=i.join("");null!=(h=l.pop());)for(h=xb[h];null!=(m=h.cellRenderQueue.pop());)i=r.lastChild,h.rowNode.appendChild(i),h.cellNodesByColumnIdx[m]=
i}}l=lc[0];m=[];h=[];i=!1;for(r=g.top;r<=g.bottom;r++)if(!xb[r]){Ld++;h.push(r);xb[r]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]};q=m;t=r;v=g;p=ra(t);x="slick-row"+(t<ca()&&!p?" loading":"")+(1==t%2?" odd":" even");(p=a.getItemMetadata&&a.getItemMetadata(t))&&p.cssClasses&&(x+=" "+p.cssClasses);q.push("<div class='ui-widget-content "+x+"' style='top:"+(k.rowHeight*t-Ab)+"px'>");for(var ha=void 0,za=void 0,x=0,w=f.length;x<w;x++){za=f[x];ha=1;p&&p.columns&&(ha=(ha=p.columns[za.id]||
p.columns[x])&&ha.colspan||1,"*"===ha&&(ha=w-x));if(Fc[Math.min(w-1,x+ha-1)]>v.leftPx){if(ja[x]>v.rightPx)break;Ka(q,t,x,ha)}1<ha&&(x+=ha-1)}q.push("</div>");J&&oa===r&&(i=!0);Y++}if(h.length){g=document.createElement("div");g.innerHTML=m.join("");r=0;for(m=h.length;r<m;r++)xb[h[r]].rowNode=l.appendChild(g.firstChild);i&&(J=Zb(oa,da))}Xc=b.top;na=Math.min(k.enableAddRow?ca():ca()-1,b.bottom);$b();$a=gb;Wa=Kb;jb=null}}function Xb(){gb=Tb[0].scrollTop;Kb=Tb[0].scrollLeft;var a=Math.abs(gb-D),b=Math.abs(Kb-
dd);b&&(dd=Kb,Qc[0].scrollLeft=Kb,Ic[0].scrollLeft=Kb,xc[0].scrollLeft=Kb);if(a)if(ac=D<gb?1:-1,D=gb,a<Db)Ea(gb+Ab);else{var f=Ab;Dc=Math.min(Mc-1,Math.floor(gb*((dc-Db)/(ec-Db))*(1/Cc)));Ab=Math.round(Dc*Nc);f!=Ab&&ha()}if(b||a)if(jb&&clearTimeout(jb),20<Math.abs($a-gb)||20<Math.abs(Wa-Kb))Math.abs($a-gb)<Db&&Math.abs(Wa-Kb)<Eb?pb():jb=setTimeout(pb,50),E(Ca.onViewportChanged,{});E(Ca.onScroll,{scrollLeft:Kb,scrollTop:gb})}function jc(){for(;Xc<=na;){var a=0<=ac?Xc++:na--,b=xb[a];if(b&&!(a>=ca())){Ub[a]||
(Ub[a]={});yb(a);for(var g in b.cellNodesByColumnIdx)if(b.cellNodesByColumnIdx.hasOwnProperty(g)){g|=0;var h=f[g];if(h.asyncPostRender&&!Ub[a][g]){var i=b.cellNodesByColumnIdx[g];i&&h.asyncPostRender(i,Xc,ra(a),h);Ub[a][g]=!0}}gc=setTimeout(jc,k.asyncPostRenderDelay);break}}}function kc(a,f){var g,h,i,k,l;for(l in xb){k=f&&f[l];i=a&&a[l];if(k)for(h in k)if(!i||k[h]!=i[h])(g=Zb(l,fc[h]))&&b(g).removeClass(k[h]);if(i)for(h in i)if(!k||k[h]!=i[h])(g=Zb(l,fc[h]))&&b(g).addClass(i[h])}}function Sc(a,b){var f=
tc[a];tc[a]=b;kc(b,f);E(Ca.onCellCssStylesChanged,{key:a,hash:b})}function fd(a,b){var f=nc(a);if(!f||!pa(f.row,f.cell))return!1;retval=E(Ca.onDragInit,b,a);return a.isImmediatePropagationStopped()?retval:!1}function zc(a,b){var f=nc(a);if(!f||!pa(f.row,f.cell))return!1;f=E(Ca.onDragStart,b,a);return a.isImmediatePropagationStopped()?f:!1}function sd(a,b){return E(Ca.onDrag,b,a)}function ld(a,b){E(Ca.onDragEnd,b,a)}function mc(a){E(Ca.onKeyDown,{row:oa,cell:da},a);if(!a.isImmediatePropagationStopped())if(!a.shiftKey&&
!a.altKey&&!a.ctrlKey)if(27==a.which){if(!z().isActive())return;ma()}else if(37==a.which)oc();else if(39==a.which)Ac();else if(38==a.which)ib();else if(40==a.which)Yb();else if(9==a.which)ad();else if(13==a.which)k.editable&&(Ga?oa===ca()?Yb():fa():z().commitCurrentEdit()&&Jc());else return;else if(9==a.which&&a.shiftKey&&!a.ctrlKey&&!a.altKey)Uc();else return;a.stopPropagation();a.preventDefault();try{a.originalEvent.keyCode=0}catch(b){}}function Hb(a){Ga||a.target!=document.activeElement&&hb();
var b=nc(a);if(b&&!(null!==Ga&&oa==b.row&&da==b.cell)&&(E(Ca.onClick,{row:b.row,cell:b.cell},a),!a.isImmediatePropagationStopped()&&(da!=b.cell||oa!=b.row)&&wc(b.row,b.cell)))if(!z().isActive()||z().commitCurrentEdit())qc(b.row,!1),va(Zb(b.row,b.cell),b.row===ca()||k.autoEdit)}function Va(a){var f=b(a.target).closest(".slick-cell",lc);0!==f.length&&(J===f[0]&&null!==Ga||E(Ca.onContextMenu,{},a))}function ob(a){var b=nc(a);b&&!(null!==Ga&&oa==b.row&&da==b.cell)&&(E(Ca.onDblClick,{row:b.row,cell:b.cell},
a),a.isImmediatePropagationStopped()||k.editable&&nd(b.row,b.cell,!0))}function K(a){E(Ca.onHeaderMouseEnter,{column:b(this).data("column")},a)}function G(a){E(Ca.onHeaderMouseLeave,{column:b(this).data("column")},a)}function ya(a){var f=b(a.target).closest(".slick-header-column",".slick-header-columns"),f=f&&f.data("column");E(Ca.onHeaderContextMenu,{column:f},a)}function sb(a){var f=b(a.target).closest(".slick-header-column",".slick-header-columns");(f=f&&f.data("column"))&&E(Ca.onHeaderClick,{column:f},
a)}function Tc(a){E(Ca.onMouseEnter,{},a)}function Lc(a){E(Ca.onMouseLeave,{},a)}function pa(a,b){return!(0>a||a>=ca()||0>b||b>=f.length)}function bb(a){var b=/l\d+/.exec(a.className);if(!b)throw"getCellFromNode: cannot get cell - "+a.className;return parseInt(b[0].substr(1,b[0].length-1),10)}function gd(a){for(var b in xb)if(xb[b].rowNode===a)return b|0;return null}function nc(a){var f=b(a.target).closest(".slick-cell",lc);if(!f.length)return null;a=gd(f[0].parentNode);f=bb(f[0]);return null==a||
null==f?null:{row:a,cell:f}}function hb(){ed[0].focus()}function mb(a,b){var f=wa(a,b),g=ja[b],f=Fc[b+(1<f?f-1:0)],h=Kb+Eb;g<Kb?(Tb.scrollLeft(g),Xb(),pb()):f>h&&(Tb.scrollLeft(Math.min(g,f-Tb[0].clientWidth)),Xb(),pb())}function va(a,f){null!==J&&(zb(),b(J).removeClass("active"));var g=J!==a;J=a;null!=J?(oa=gd(J.parentNode),da=H=bb(J),b(J).addClass("active"),k.editable&&(f&&Rc(oa,da))&&(clearTimeout(pd),k.asyncEditorLoading?pd=setTimeout(function(){Jc()},k.asyncEditorLoadDelay):Jc())):oa=da=null;
g&&E(Ca.onActiveCellChanged,Cb())}function Rc(a,b){return a<ca()&&!ra(a)||f[b].cannotTriggerInsert&&a>=ca()||!Ia(a,b)?!1:!0}function zb(){if(Ga){E(Ca.onBeforeCellEditorDestroy,{editor:Ga});Ga.destroy();Ga=null;if(J){var a=ra(oa);b(J).removeClass("editable invalid");if(a){var g=f[da],h=Fa(oa,g);J.innerHTML=h(oa,da,Za(a,g),g,ra(oa));Sb(oa)}}b.browser.msie&&(document.selection&&document.selection.empty?document.selection.empty():window.getSelection&&(a=window.getSelection())&&a.removeAllRanges&&a.removeAllRanges());
z().deactivate(Rb)}}function Jc(a){if(J){if(!k.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";clearTimeout(pd);if(Rc(oa,da)){var g=f[da],h=ra(oa);!1===E(Ca.onBeforeEditCell,{row:oa,cell:da,item:h,column:g})?hb():(z().activate(Rb),b(J).addClass("editable"),a||(J.innerHTML=""),Ga=new (a||Ia(oa,da))({grid:Ca,gridPosition:ia(Ya[0]),position:ia(J),container:J,column:g,item:h||{},commitChanges:fa,cancelChanges:ma}),h&&Ga.loadValue(h),Kc=Ga.serializeValue(),
Ga.position&&kb())}}}function fa(){z().commitCurrentEdit()&&(hb(),k.autoEdit&&Yb())}function ma(){z().cancelCurrentEdit()&&hb()}function ia(a){var f={top:a.offsetTop,left:a.offsetLeft,bottom:0,right:0,width:b(a).outerWidth(),height:b(a).outerHeight(),visible:!0};f.bottom=f.top+f.height;f.right=f.left+f.width;for(var g=a.offsetParent;(a=a.parentNode)!=document.body;)f.visible&&(a.scrollHeight!=a.offsetHeight&&"visible"!=b(a).css("overflowY"))&&(f.visible=f.bottom>a.scrollTop&&f.top<a.scrollTop+a.clientHeight),
f.visible&&(a.scrollWidth!=a.offsetWidth&&"visible"!=b(a).css("overflowX"))&&(f.visible=f.right>a.scrollLeft&&f.left<a.scrollLeft+a.clientWidth),f.left-=a.scrollLeft,f.top-=a.scrollTop,a===g&&(f.left+=a.offsetLeft,f.top+=a.offsetTop,g=a.offsetParent),f.bottom=f.top+f.height,f.right=f.left+f.width;return f}function bc(){return ia(J)}function kb(){if(J&&(E(Ca.onActiveCellPositionChanged,{}),Ga)){var a=bc();Ga.show&&Ga.hide&&(a.visible?Ga.show():Ga.hide());Ga.position&&Ga.position(a)}}function Cb(){return J?
{row:oa,cell:da}:null}function qc(a,b){var f=a*k.rowHeight,g=(a+1)*k.rowHeight-Db+(F?i.height:0);(a+1)*k.rowHeight>gb+Db+Ab?(Ea(b?f:g),pb()):a*k.rowHeight<gb+Ab&&(Ea(b?g:f),pb())}function wa(b,g){var h=a.getItemMetadata&&a.getItemMetadata(b);if(!h||!h.columns)return 1;h=(h=h.columns[f[g].id]||h.columns[g])&&h.colspan;return h="*"===h?f.length-g:h||1}function wb(a){for(var b=0;b<f.length;){if(wc(a,b))return b;b+=wa(a,b)}return null}function Ua(a,b){if(b>=f.length)return null;do b+=wa(a,b);while(b<
f.length&&!wc(a,b));return b<f.length?{row:a,cell:b,posX:b}:null}function rc(a,b){if(0>=b)return null;var f=wb(a);if(null===f||f>=b)return null;for(var f={row:a,cell:f,posX:f},g;;){g=Ua(f.row,f.cell,f.posX);if(!g)return null;if(g.cell>=b)return f;f=g}}function sc(a,b,f){for(var g;;){if(++a>=ca()+(k.enableAddRow?1:0))return null;for(g=b=0;b<=f;)g=b,b+=wa(a,b);if(wc(a,g))return{row:a,cell:g,posX:f}}}function td(a,b,f){for(var g;;){if(0>--a)return null;for(g=b=0;b<=f;)g=b,b+=wa(a,b);if(wc(a,g))return{row:a,
cell:g,posX:f}}}function Pb(a,b,f){if(b=Ua(a,b,f))return b;for(b=null;++a<ca()+(k.enableAddRow?1:0);)if(b=wb(a),null!==b)return{row:a,cell:b,posX:b};return null}function hd(a,b,g){for(var h,i;!h&&!(h=rc(a,b,g));){if(0>--a)return null;b=0;i=a;for(var k=0,l=null;k<f.length;)wc(i,k)&&(l=k),k+=wa(i,k);i=l;null!==i&&(h={row:a,cell:i,posX:i})}return h}function Ac(){Vc("right")}function oc(){Vc("left")}function Yb(){Vc("down")}function ib(){Vc("up")}function ad(){Vc("next")}function Uc(){Vc("prev")}function Vc(a){if(J&&
k.enableCellNavigation&&z().commitCurrentEdit())if(hb(),a=(0,{up:td,down:sc,left:rc,right:Ua,prev:hd,next:Pb}[a])(oa,da,H)){var b=a.row==ca();qc(a.row,!b);mb(a.row,a.cell);va(Zb(a.row,a.cell),b||k.autoEdit);H=a.posX}else va(Zb(oa,da),oa==ca()||k.autoEdit)}function Zb(a,b){return xb[a]?(yb(a),xb[a].cellNodesByColumnIdx[b]):null}function wc(b,g){if(!k.enableCellNavigation||b>=ca()+(k.enableAddRow?1:0)||0>b||g>=f.length||0>g)return!1;var h=a.getItemMetadata&&a.getItemMetadata(b);return h&&"boolean"===
typeof h.focusable?h.focusable:(h=h&&h.columns)&&h[f[g].id]&&"boolean"===typeof h[f[g].id].focusable?h[f[g].id].focusable:h&&h[g]&&"boolean"===typeof h[g].focusable?h[g].focusable:"boolean"===typeof f[g].focusable?f[g].focusable:!0}function md(b,g){if(b>=ca()||0>b||g>=f.length||0>g)return!1;var h=a.getItemMetadata&&a.getItemMetadata(b);return h&&"boolean"===typeof h.selectable?h.selectable:(h=h&&h.columns&&(h.columns[f[g].id]||h.columns[g]))&&"boolean"===typeof h.selectable?h.selectable:"boolean"===
typeof f[g].selectable?f[g].selectable:!0}function nd(a,b,f){u&&(wc(a,b)&&z().commitCurrentEdit())&&(qc(a,!1),mb(a,b),b=Zb(a,b),va(b,f||a===ca()||k.autoEdit),Ga||hb())}function pc(a){for(var b=[],g=f.length-1,h=0;h<a.length;h++)b.push(new Slick.Range(a[h],0,a[h],g));return b}function bd(){if(!Oc)throw"Selection model is not set";return Ed}var od={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,
asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:function(a,b,f){return null==f?
"":f.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},Bc={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null},dc,ec,Cc,Mc,Nc,Dc=0,Ab=0,ac=1,u=!1,Ya,Qb="slickgrid_"+Math.round(1E6*Math.random()),Ca=this,ed,Qc,Ra,Zc,xc,Ic,rd,Tb,lc,$c,vc,yc,Dd,Db,Eb,Ob,F,ba,S=0,cc=0,q=0,P=0,Ba,Aa=0,H,oa,da,J=null,Ga=null,Kc,Rb,xb={},Ld=0,Jb,D=0,gb=0,$a=0,Wa=0,dd=0,Kb=0,Oc,Ed=[],cd=[],tc={},fc={},Ib=[],ja=[],Fc=[],pd=null,jb=null,gc=null,Ub={},na=null,Xc=null,
Y=0,X=0;this.debug=function(){var a;a="\ncounter_rows_rendered:  "+Y;a+="\ncounter_rows_removed:  "+X;a+="\nrenderedRows:  "+Ld;a+="\nnumVisibleRows:  "+Jb;a+="\nmaxSupportedCssHeight:  "+g;a+="\nn(umber of pages):  "+Mc;a+="\n(current) page:  "+Dc;a+="\npage height (ph):  "+Cc;a+="\nvScrollDir:  "+ac;alert(a)};this.eval=function(a){return eval(a)};b.extend(this,{slickGridVersion:"2.0",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,
onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderRendered:new Slick.Event,onBeforeHeaderDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,
onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:function(a){cd.unshift(a);a.init(Ca)},unregisterPlugin:l,getColumns:function(){return f},setColumns:ta,getColumnIndex:L,updateColumnHeader:function(a,b,
g){if(u){var a=fc[a],h=f[a],i=Ra.children().eq(a);i&&(void 0!==b&&(f[a].name=b),void 0!==g&&(f[a].toolTip=g),E(Ca.onBeforeHeaderDestroy,{headerNode:i[0],column:h}),i.attr("title",g||"").children().eq(0).html(b),E(Ca.onHeaderRendered,{headerNode:i[0],column:h}))}},setSortColumn:function(a,b){Q([{columnId:a,sortAsc:b}])},setSortColumns:Q,getSortColumns:function(){return Ib},autosizeColumns:C,getOptions:function(){return k},setOptions:function(a){z().commitCurrentEdit()&&(zb(),k.enableAddRow!==a.enableAddRow&&
Oa(ca()),k=b.extend(k,a),Tb.css("overflow-y",k.autoHeight?"hidden":"auto"),pb())},getData:function(){return a},getDataLength:ca,getDataItem:ra,setData:function(b,f){a=b;ha();Wb();f&&Ea(0)},getSelectionModel:function(){return Oc},setSelectionModel:function(a){Oc&&(Oc.onSelectedRangesChanged.unsubscribe(U),Oc.destroy&&Oc.destroy());if(Oc=a)Oc.init(Ca),Oc.onSelectedRangesChanged.subscribe(U)},getSelectedRows:bd,setSelectedRows:function(a){if(!Oc)throw"Selection model is not set";Oc.setSelectedRanges(pc(a))},
render:pb,invalidate:function(){Wb();ha();pb()},invalidateRow:Oa,invalidateRows:Xa,invalidateAllRows:ha,updateCell:function(a,b){var g=Zb(a,b);if(g){var h=f[b],i=ra(a);Ga&&oa===a&&da===b?Ga.loadValue(i):(g.innerHTML=i?Fa(a,h)(a,b,Za(i,h),h,i):"",Sb(a))}},updateRow:eb,getViewport:Qa,getRenderedRange:Ja,resizeCanvas:Bb,updateRowCount:Wb,scrollRowIntoView:qc,scrollRowToTop:function(a){Ea(a*k.rowHeight);pb()},scrollCellIntoView:mb,getCanvasNode:function(){return lc[0]},focus:hb,getCellFromPoint:function(a,
b){for(var g=Math.floor((b+Ab)/k.rowHeight),h=0,i=0,l=0;l<f.length&&i<a;l++)i+=f[l].width,h++;0>h&&(h=0);return{row:g,cell:h-1}},getCellFromEvent:nc,getActiveCell:Cb,setActiveCell:function(a,b){if(u&&!(a>ca()||0>a||b>=f.length||0>b)&&k.enableCellNavigation)qc(a,!1),mb(a,b),va(Zb(a,b),!1)},getActiveCellNode:function(){return J},getActiveCellPosition:bc,resetActiveCell:function(){va(null,!1)},editActiveCell:Jc,getCellEditor:function(){return Ga},getCellNode:Zb,getCellNodeBox:function(a,b){if(!pa(a,
b))return null;for(var g=a*k.rowHeight-Ab,h=g+k.rowHeight-1,i=0,l=0;l<b;l++)i+=f[l].width;return{top:g,left:i,bottom:h,right:i+f[b].width}},canCellBeSelected:md,canCellBeActive:wc,navigatePrev:Uc,navigateNext:ad,navigateUp:ib,navigateDown:Yb,navigateLeft:oc,navigateRight:Ac,gotoCell:nd,getTopPanel:function(){return rd[0]},showTopPanel:function(){k.showTopPanel=!0;Ic.slideDown("fast",Bb)},hideTopPanel:function(){k.showTopPanel=!1;Ic.slideUp("fast",Bb)},showHeaderRowColumns:function(){k.showHeaderRow=
!0;xc.slideDown("fast",Bb)},hideHeaderRowColumns:function(){k.showHeaderRow=!1;xc.slideUp("fast",Bb)},getHeaderRow:function(){return Zc[0]},getHeaderRowColumn:function(a){a=fc[a];return(a=Zc.children().eq(a))&&a[0]},getGridPosition:function(){return ia(Ya[0])},flashCell:function(a,f,g){g=g||100;if(xb[a]){var h=b(Zb(a,f)),i=function(a){a&&setTimeout(function(){h.queue(function(){h.toggleClass(k.cellFlashingCssClass).dequeue();i(a-1)})},g)};i(4)}},addCellCssStyles:function(a,b){if(tc[a])throw"addCellCssStyles: cell CSS hash with key '"+
a+"' already exists.";tc[a]=b;kc(b,null);E(Ca.onCellCssStylesChanged,{key:a,hash:b})},setCellCssStyles:Sc,removeCellCssStyles:function(a){tc[a]&&(kc(null,tc[a]),delete tc[a],E(Ca.onCellCssStylesChanged,{key:a,hash:null}))},getCellCssStyles:function(a){return tc[a]},init:m,destroy:function(){z().cancelCurrentEdit();E(Ca.onBeforeDestroy,{});for(var a=cd.length;a--;)l(cd[a]);k.enableColumnReorder&&Ra.sortable&&Ra.sortable("destroy");lc.parents().unbind("scroll.slickgrid");Ya.unbind(".slickgrid");$c.remove();
vc=null;lc.unbind("draginit dragstart dragend drag");Ya.empty().removeClass(Qb)},getEditorLock:z,getEditController:function(){return Rb}});Ya=b(h);if(1>Ya.length)throw Error("SlickGrid requires a valid container, "+h+" does not exist in the DOM.");var Sa;if(!(Sa=g)){for(var fe=1E6,Md=b.browser.mozilla?6E6:1E9,Z=b("<div style='display:none' />").appendTo(document.body);;){var Da=2*fe;Z.css("height",Da);if(Da>Md||Z.height()!==Da)break;else fe=Da}Z.remove();Sa=fe}g=Sa;var Yc;if(!(Yc=i)){var qb=b("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),
Ha={width:qb.width()-qb[0].clientWidth,height:qb.height()-qb[0].clientHeight};qb.remove();Yc=Ha}i=Yc;k=b.extend({},od,k);Bc.width=k.defaultColumnWidth;for(var fc={},yd=0;yd<f.length;yd++){var y=f[yd]=b.extend({},Bc,f[yd]);fc[y.id]=yd}if(k.enableColumnReorder&&!b.fn.sortable)throw Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");Rb={commitCurrentEdit:function(){var a=ra(oa),g=f[da];if(Ga){if(Ga.isValueChanged()){var h=Ga.validate();if(h.valid)return oa<
ca()?(h={row:oa,cell:da,editor:Ga,serializedValue:Ga.serializeValue(),prevSerializedValue:Kc,execute:function(){this.editor.applyValue(a,this.serializedValue);eb(this.row)},undo:function(){this.editor.applyValue(a,this.prevSerializedValue);eb(this.row)}},k.editCommandHandler?(zb(),k.editCommandHandler(a,g,h)):(h.execute(),zb()),E(Ca.onCellChange,{row:oa,cell:da,item:a})):(h={},Ga.applyValue(h,Ga.serializeValue()),zb(),E(Ca.onAddNewRow,{item:h,column:g})),!z().isActive();b(J).addClass("invalid");b(J).stop(!0,
!0).effect("highlight",{color:"red"},300);E(Ca.onValidationError,{editor:Ga,cellNode:J,validationResults:h,row:oa,cell:da,column:g});Ga.focus();return!1}zb()}return!0},cancelCurrentEdit:function(){zb();return!0}};Ya.empty().css("overflow","hidden").css("outline",0).addClass(Qb).addClass("ui-widget");/relative|absolute|fixed/.test(Ya.css("position"))||Ya.css("position","relative");ed=b("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo(Ya);
Qc=b("<div class='slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(Ya);Ra=b("<div class='slick-header-columns' style='left:-1000px' />").appendTo(Qc);Ra.width(r());xc=b("<div class='slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(Ya);Zc=b("<div class='slick-headerrow-columns' />").appendTo(xc);Ic=b("<div class='slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(Ya);rd=
b("<div class='slick-top-panel' style='width:10000px' />").appendTo(Ic);k.showTopPanel||Ic.hide();k.showHeaderRow||xc.hide();Tb=b("<div class='slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;;'>").appendTo(Ya);Tb.css("overflow-y",k.autoHeight?"hidden":"auto");lc=b("<div class='grid-canvas' />").appendTo(Tb);k.explicitInitialization||m()}}});var i,g})(jQuery);define("libs/jquery/slickgrid/slick.grid",function(){});
(function(b){b.extend(!0,window,{Slick:{Data:{DataView:function(i){function g(a){for(var b=a||0,f=x.length;b<f;b++){a=x[b][w];if(void 0===a)throw"Each data element must implement a unique 'id' property";z[a]=b}}function h(){var a=Qa?Math.max(1,Math.ceil(yb/Qa)):1;return{pageSize:Qa,pageNum:Ja,totalRows:yb,totalPages:a}}function a(a,b){Q=b;sa=a;U=null;!1===b&&x.reverse();x.sort(a);!1===b&&x.reverse();z={};g();t()}function f(a,b){Q=b;U=a;sa=null;var f=Object.prototype.toString;Object.prototype.toString=
"function"==typeof a?a:function(){return this[a]};!1===b&&x.reverse();x.sort();Object.prototype.toString=f;!1===b&&x.reverse();z={};g();t()}function k(){if(!L){L={};for(var a=0,b=E.length;a<b;a++)L[E[a][w]]=a}}function m(a){a=a.toString().match(/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/);return{params:a[1].split(","),body:a[2]}}function l(a,b){for(var f=[],g=0,h=0,i=a.length;h<i;h++)C(a[h],b)&&(f[g++]=a[h]);return f}function r(a,b,f){for(var g=[],h=0,i,k=0,l=a.length;k<l;k++)i=a[k],f[k]?g[h++]=i:
C(i,b)&&(g[h++]=i,f[k]=!0);return g}function p(a){L=null;if(ta.isFilterNarrowing!=ca.isFilterNarrowing||ta.isFilterExpanding!=ca.isFilterExpanding)Za=[];if(C){var b=i.inlineFilters?Fa:l,f=i.inlineFilters?Ia:r;ta.isFilterNarrowing?Ea=b(Ea,ra):ta.isFilterExpanding?Ea=f(a,ra,Za):ta.isFilterUnchanged||(Ea=b(a,ra))}else Ea=Qa?a:a.concat();Qa?(Ea.length<Ja*Qa&&(Ja=Math.floor(Ea.length/Qa)),b=Ea.slice(Qa*Ja,Qa*Ja+Qa)):b=Ea;yb=a=Ea.length;a=b;Xa=[];if(null!=Ka){for(var b=a,g,h=[],k=[],m,p=0,t=b.length;p<
t;p++)m=b[p],g=(g=R?Ka(m):m[Ka])||0,f=k[g],f||(f=new Slick.Group,f.count=0,f.value=g,f.rows=[],h[h.length]=f,k[g]=f),f.rows[f.count++]=m;Xa=h;if(Xa.length){a=Xa;for(b=a.length;b--;)f=a[b],f.collapsed=f.value in Oa,f.title=ha?ha(f):f.value;if(eb){a=Xa;for(b=a.length;b--;)if(f=a[b],!f.collapsed||Bb){g=new Slick.GroupTotals;h=void 0;for(k=eb.length;k--;)h=eb[k],h.init(),Wb[k].call(h,f.rows),h.storeResult(g);g.group=f;f.totals=g}}Xa.sort(za);a=Xa;b=[];h=f=0;for(k=a.length;h<k;h++){g=a[h];b[f++]=g;if(!g.collapsed){m=
0;for(p=g.rows.length;m<p;m++)b[f++]=g.rows[m]}if(g.totals&&(!g.collapsed||Bb))b[f++]=g.totals}a=b}}var b=E,f=a,v;g=[];k=0;h=f.length;ta&&ta.ignoreDiffsBefore&&(k=Math.max(0,Math.min(f.length,ta.ignoreDiffsBefore)));ta&&ta.ignoreDiffsAfter&&(h=Math.min(f.length,Math.max(0,ta.ignoreDiffsAfter)));p=k;for(t=b.length;p<h;p++)if(p>=t)g[g.length]=p;else if(k=f[p],m=b[p],Ka&&(v=k.__nonDataRow||m.__nonDataRow)&&k.__group!==m.__group||k.__updated||k.__group&&!k.equals(m)||eb&&v&&(k.__groupTotals||m.__groupTotals)||
k[w]!=m[w]||A&&A[k[w]])g[g.length]=p;E=a;return g}function t(){if(!O){var a=E.length,b=yb,f=p(x,C);Qa&&yb<Ja*Qa&&(Ja=Math.max(0,Math.ceil(yb/Qa)-1),f=p(x,C));A=null;ca=ta;ta={};b!=yb&&pb.notify(h(),null,v);a!=E.length&&$b.notify({previous:a,current:E.length},null,v);0<f.length&&Sb.notify({rows:f},null,v)}}var v=this,w="id",x=[],E=[],z={},L=null,C=null,A=null,O=!1,Q=!0,U,sa,ta={},ca={},ra,Ea=[],Fa,Ia,Za=[],Ka,R,ha,za,Xa=[],Oa={},eb,Bb=!1,Wb,Qa=0,Ja=0,yb=0,$b=new Slick.Event,Sb=new Slick.Event,pb=new Slick.Event,
i=b.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1},i);return{beginUpdate:function(){O=!0},endUpdate:function(){O=!1;t()},setPagingOptions:function(a){void 0!=a.pageSize&&(Ja=(Qa=a.pageSize)?Math.min(Ja,Math.max(0,Math.ceil(yb/Qa)-1)):0);void 0!=a.pageNum&&(Ja=Math.min(a.pageNum,Math.max(0,Math.ceil(yb/Qa)-1)));pb.notify(h(),null,v);t()},getPagingInfo:h,getItems:function(){return x},setItems:function(a,b){void 0!==b&&(w=b);x=Ea=a;z={};g();for(var f,h=0,i=x.length;h<i;h++)if(f=x[h][w],
void 0===f||z[f]!==h)throw"Each data element must implement a unique 'id' property";t()},setFilter:function(a){C=a;if(i.inlineFilters){var a=m(C),b=a.body.replace(/return false[;}]/gi,"{ continue _coreloop; }").replace(/return true[;}]/gi,"{ _retval[_idx++] = $item$; continue _coreloop; }").replace(/return ([^;}]+?);/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }"),b="var _retval = [], _idx = 0; var $item$, $args$ = _args; _coreloop: for (var _i = 0, _il = _items.length; _i < _il; _i++) { $item$ = _items[_i]; $filter$; } return _retval; ".replace(/\$filter\$/gi,
b),b=b.replace(/\$item\$/gi,a.params[0]),b=b.replace(/\$args\$/gi,a.params[1]),a=new Function("_items,_args",b);a.displayName=a.name="compiledFilter";Fa=a;a=m(C);b=a.body.replace(/return false[;}]/gi,"{ continue _coreloop; }").replace(/return true[;}]/gi,"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }").replace(/return ([^;}]+?);/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }");b="var _retval = [], _idx = 0; var $item$, $args$ = _args; _coreloop: for (var _i = 0, _il = _items.length; _i < _il; _i++) { $item$ = _items[_i]; if (_cache[_i]) { _retval[_idx++] = $item$; continue _coreloop; } $filter$; } return _retval; ".replace(/\$filter\$/gi,
b);b=b.replace(/\$item\$/gi,a.params[0]);b=b.replace(/\$args\$/gi,a.params[1]);a=new Function("_items,_args,_cache",b);a.displayName=a.name="compiledFilterWithCaching";Ia=a}t()},sort:a,fastSort:f,reSort:function(){sa?a(sa,Q):U&&f(U,Q)},groupBy:function(a,b,f){i.groupItemMetadataProvider||(i.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider);Ka=a;R="function"===typeof Ka;ha=b;za=f;Oa={};Xa=[];t()},setAggregators:function(a,b){eb=a;Bb=void 0!==b?b:Bb;Wb=[];for(var f=eb.length;f--;){var g=
Wb,h=f,i=m(eb[f].accumulate),i=new Function("_items","for (var "+i.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+i.params[0]+" = _items[_i]; "+i.body+"}");i.displayName=i.name="compiledAccumulatorLoop";g[h]=i}t()},collapseGroup:function(a){Oa[a]=!0;t()},expandGroup:function(a){delete Oa[a];t()},getGroups:function(){return Xa},getIdxById:function(a){return z[a]},getRowById:function(a){k();return L[a]},getItemById:function(a){return x[z[a]]},getItemByIdx:function(a){return x[a]},mapRowsToIds:function(a){for(var b=
[],f=0;f<a.length;f++)a[f]<E.length&&(b[b.length]=E[a[f]][w]);return b},mapIdsToRows:function(a){var b=[];k();for(var f=0;f<a.length;f++){var g=L[a[f]];null!=g&&(b[b.length]=g)}return b},setRefreshHints:function(a){ta=a},setFilterArgs:function(a){ra=a},refresh:t,updateItem:function(a,b){if(void 0===z[a]||a!==b[w])throw"Invalid or non-matching id";x[z[a]]=b;A||(A={});A[a]=!0;t()},insertItem:function(a,b){x.splice(a,0,b);g(a);t()},addItem:function(a){x.push(a);g(x.length-1);t()},deleteItem:function(a){var b=
z[a];if(void 0===b)throw"Invalid id";delete z[a];x.splice(b,1);g(b);t()},syncGridSelection:function(a,b){var f=this,g=f.mapRowsToIds(a.getSelectedRows()),h;a.onSelectedRowsChanged.subscribe(function(){h||(g=f.mapRowsToIds(a.getSelectedRows()))});this.onRowsChanged.subscribe(function(){if(0<g.length){h=!0;var i=f.mapIdsToRows(g);b||(g=f.mapRowsToIds(i));a.setSelectedRows(i);h=!1}})},syncGridCellCssStyles:function(a,b){function f(a){g={};for(var b in a)g[E[b][w]]=a[b]}var g,h;f(a.getCellCssStyles(b));
a.onCellCssStylesChanged.subscribe(function(a,g){h||b==g.key&&g.hash&&f(g.hash)});this.onRowsChanged.subscribe(function(){if(g){h=!0;k();var f={},i;for(i in g){var l=L[i];void 0!=l&&(f[l]=g[i])}a.setCellCssStyles(b,f);h=!1}})},getLength:function(){return E.length},getItem:function(a){return E[a]},getItemMetadata:function(a){a=E[a];return void 0===a?null:a.__group?i.groupItemMetadataProvider.getGroupRowMetadata(a):a.__groupTotals?i.groupItemMetadataProvider.getTotalsRowMetadata(a):null},onRowCountChanged:$b,
onRowsChanged:Sb,onPagingInfoChanged:pb}},Aggregators:{Avg:function(b){this.field_=b;this.init=function(){this.sum_=this.nonNullCount_=this.count_=0};this.accumulate=function(b){b=b[this.field_];this.count_++;null!=b&&(""!=b&&NaN!=b)&&(this.nonNullCount_++,this.sum_+=parseFloat(b))};this.storeResult=function(b){b.avg||(b.avg={});0!=this.nonNullCount_&&(b.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function(b){this.field_=b;this.init=function(){this.min_=null};this.accumulate=function(b){b=
b[this.field_];if(null!=b&&(""!=b&&NaN!=b)&&(null==this.min_||b<this.min_))this.min_=b};this.storeResult=function(b){b.min||(b.min={});b.min[this.field_]=this.min_}},Max:function(b){this.field_=b;this.init=function(){this.max_=null};this.accumulate=function(b){b=b[this.field_];if(null!=b&&(""!=b&&NaN!=b)&&(null==this.max_||b>this.max_))this.max_=b};this.storeResult=function(b){b.max||(b.max={});b.max[this.field_]=this.max_}},Sum:function(b){this.field_=b;this.init=function(){this.sum_=null};this.accumulate=
function(b){b=b[this.field_];null!=b&&(""!=b&&NaN!=b)&&(this.sum_+=parseFloat(b))};this.storeResult=function(b){b.sum||(b.sum={});b.sum[this.field_]=this.sum_}}}}}})})(jQuery);define("libs/jquery/slickgrid/slick.dataview",function(){});
(function(b){b.extend(!0,window,{Slick:{Controls:{Pager:function(i,g,h){function a(){var a=!Slick.GlobalEditorLock.commitCurrentEdit(),b=i.getPagingInfo(),f=b.totalPages-1;return{canGotoFirst:!a&&0!=b.pageSize&&0<b.pageNum,canGotoLast:!a&&0!=b.pageSize&&b.pageNum!=f,canGotoPrev:!a&&0!=b.pageSize&&0<b.pageNum,canGotoNext:!a&&0!=b.pageSize&&b.pageNum<f,pagingInfo:b}}function f(a){i.setRefreshHints({isFilterUnchanged:!0});i.setPagingOptions({pageSize:a})}function k(b){var f=a();h.find(".slick-pager-nav span").removeClass("ui-state-disabled");
f.canGotoFirst||h.find(".ui-icon-seek-first").addClass("ui-state-disabled");f.canGotoLast||h.find(".ui-icon-seek-end").addClass("ui-state-disabled");f.canGotoNext||h.find(".ui-icon-seek-next").addClass("ui-state-disabled");f.canGotoPrev||h.find(".ui-icon-seek-prev").addClass("ui-state-disabled");0==b.pageSize?m.text("Showing all "+b.totalRows+" rows"):m.text("Showing page "+(b.pageNum+1)+" of "+b.totalPages)}var m;i.onPagingInfoChanged.subscribe(function(a,b){k(b)});h.empty();var l=b("<span class='slick-pager-nav' />").appendTo(h),
r=b("<span class='slick-pager-settings' />").appendTo(h);m=b("<span class='slick-pager-status' />").appendTo(h);r.append("<span class='slick-pager-settings-expanded' style='display:none'>Show: <a data=0>All</a><a data='-1'>Auto</a><a data=25>25</a><a data=50>50</a><a data=100>100</a></span>");r.find("a[data]").click(function(a){a=b(a.target).attr("data");void 0!=a&&(-1==a?(a=g.getViewport(),f(a.bottom-a.top)):f(parseInt(a)))});b("<span class='ui-state-default ui-corner-all ui-icon-container'><span class='ui-icon ui-icon-lightbulb' /></span>").click(function(){b(".slick-pager-settings-expanded").toggle()}).appendTo(r);
b("<span class='ui-state-default ui-corner-all ui-icon-container'><span class='ui-icon ui-icon-seek-first' /></span>").click(function(){a().canGotoFirst&&i.setPagingOptions({pageNum:0})}).appendTo(l);b("<span class='ui-state-default ui-corner-all ui-icon-container'><span class='ui-icon ui-icon-seek-prev' /></span>").click(function(){var b=a();b.canGotoPrev&&i.setPagingOptions({pageNum:b.pagingInfo.pageNum-1})}).appendTo(l);b("<span class='ui-state-default ui-corner-all ui-icon-container'><span class='ui-icon ui-icon-seek-next' /></span>").click(function(){var b=
a();b.canGotoNext&&i.setPagingOptions({pageNum:b.pagingInfo.pageNum+1})}).appendTo(l);b("<span class='ui-state-default ui-corner-all ui-icon-container'><span class='ui-icon ui-icon-seek-end' /></span>").click(function(){var b=a();b.canGotoLast&&i.setPagingOptions({pageNum:b.pagingInfo.totalPages-1})}).appendTo(l);h.find(".ui-icon-container").hover(function(){b(this).toggleClass("ui-state-hover")});h.children().wrapAll("<div class='slick-pager' />");k(i.getPagingInfo())}}}})})(jQuery);
define("libs/jquery/slickgrid/slick.pager",function(){});
(function(b){b.extend(!0,window,{Slick:{Controls:{ColumnPicker:function(i,g,h){var a,f;g.onHeaderContextMenu.subscribe(function(k){k.preventDefault();a.empty();f=[];for(var m,l,r=0;r<i.length;r++)m=b("<li />").appendTo(a),l=b("<input type='checkbox' />").data("column-id",i[r].id),f.push(l),null!=g.getColumnIndex(i[r].id)&&l.attr("checked","checked"),b("<label />").text(i[r].name).prepend(l).appendTo(m);b("<hr/>").appendTo(a);m=b("<li />").appendTo(a);l=b("<input type='checkbox' />").data("option",
"autoresize");b("<label />").text("Force fit columns").prepend(l).appendTo(m);g.getOptions().forceFitColumns&&l.attr("checked","checked");m=b("<li />").appendTo(a);l=b("<input type='checkbox' />").data("option","syncresize");b("<label />").text("Synchronous resize").prepend(l).appendTo(m);g.getOptions().syncColumnCellResize&&l.attr("checked","checked");a.css("top",k.pageY-10).css("left",k.pageX-10).fadeIn(h.fadeSpeed)});h=b.extend({},{fadeSpeed:250},h);a=b("<span class='slick-columnpicker' style='display:none;position:absolute;z-index:20;' />").appendTo(document.body);
a.bind("mouseleave",function(){b(this).fadeOut(h.fadeSpeed)});a.bind("click",function(a){if("autoresize"==b(a.target).data("option"))a.target.checked?(g.setOptions({forceFitColumns:!0}),g.autosizeColumns()):g.setOptions({forceFitColumns:!1});else if("syncresize"==b(a.target).data("option"))a.target.checked?g.setOptions({syncColumnCellResize:!0}):g.setOptions({syncColumnCellResize:!1});else if(b(a.target).is(":checkbox")){var h=[];b.each(f,function(a){b(this).is(":checked")&&h.push(i[a])});h.length?
g.setColumns(h):b(a.target).attr("checked","checked")}})}}}})})(jQuery);define("libs/jquery/slickgrid/slick.columnpicker",function(){});
define("app/util/output-table","app/util/jsonmodel libs/jquery/slickgrid/jquery.event.drag-2.0.min libs/jquery/ui/jquery.ui.sortable libs/jquery/slickgrid/slick.core libs/jquery/slickgrid/slick.grid libs/jquery/slickgrid/slick.dataview libs/jquery/slickgrid/slick.pager libs/jquery/slickgrid/slick.columnpicker".split(" "),function(b){return function(){function i(a,b){f.setItems([],"#id");if(b&&b.table.sort){var g=b.table.sort;a.sort(function(a,b){for(var f=0,h=g.length;f<h;f++){var i=g[f].field,k=
a[i],i=b[i],k=(k==i?0:k>i?1:-1)*(g[f].asc?1:-1);if(0!=k)return k}return 0})}f.beginUpdate();f.setItems(a,"#id");if(b&&b.table.pager&&("undefined"!==typeof b.table.pager.size||"undefined"!==typeof b.table.pager.pageNum)){var h={};b.table.pager.size&&(h.pageSize=b.table.pager.size);b.table.pager.page&&(h.pageNum=b.table.pager.page);f.setPagingOptions(h)}f.endUpdate()}function g(){clearInterval(this.killReducedResize);this.killReducedResize=setTimeout(function(){k&&k.resizeCanvas()},20)}var h=$('<div class="ui-widget"><div class="pg-table" style="height:100%;width:100%"></div></div>'),
a=h.find(".pg-table"),f=new Slick.Data.DataView,k,m={enableCellNavigation:!1,enableColumnReorder:!0,autoHeight:!1,forceFitColumns:!0,multiColumnSort:!0},l;f.setPagingOptions({pageSize:20});f.onRowCountChanged.subscribe(function(){if(k){try{k.updateRowCount()}catch(a){}k.render()}});f.onRowsChanged.subscribe(function(a,b){k&&(k.invalidateRows(b.rows),k.render())});var r,p;return l={type:"table",name:"Table",panel:function(){return h},toolbar:function(){return $("<div></div>")},update:function(h,v){p=
v;"undefined"===typeof p.table&&(p.table={pager:{}});r&&f.onPagingInfoChanged.unsubscribe(r);try{k&&k.destroy()}catch(w){}var x=!h||0==h.length?[{id:"empty",name:"No Records Match Your Query",field:"empty"}]:b.create(h),E=h,z=[];if(1!=x.length||!x[0].pgvalue)for(var L=0;L<E.length;L++){var C=$.extend({},E[L],{"#id":"#"+L});z.push(C)}else for(L=0;L<E.length;L++)z.push({value:E[L],"#id":"#"+L});h=z;k=new Slick.Grid(a,f,x,m);r=function(a,b){p.table.pager={size:b.pageSize,page:b.pageNum};$(l).trigger("optionsChanged",
p)};p.table.sort&&k&&k.setSortColumns(p.table.sort.map(function(a){return{columnId:a.field,sortAsc:a.asc}}));k.onSort.subscribe(function(a,b){p.table.sort=b.sortCols.map(function(a){return{asc:a.sortAsc,field:a.sortCol.field}});$(l).trigger("optionsChanged",p);i(h,p)});new Slick.Controls.Pager(f,k,this.toolbar);i(h,p);f.onPagingInfoChanged.subscribe(r);g()},preferredDownloadFormat:function(){return"csv"},resize:g,paginationOptions:function(){var a=p&&p.table&&p.table.pager&&p.table.pager||{page:0,
size:20};return{skip:a.page*a.size,limit:a.size,sort:p&&p.table&&p.table.sort||null}}}}});
define("app/util/output-json",["app/util/ui"],function(b){var i,g=$('<div class="ui-widget"><pre class="json ui-content"></pre></div>'),h=g.find(".json"),a,f,k;return i={type:"json",name:"Json",panel:function(){return g},update:function(b,g){b?k=b:b=k;f=g;f.json||(f.json={compact:!1});var i=f.json.compact?JSON.stringify(b):JSON.stringify(b,null,2);a.find('input[type="checkbox"]').attr("checked",f.json.compact).button("refresh");h.text(i)},activate:function(){a||(a=$(this.toolbar).append("<div></div>").find("div:last"),
b.checks(a,{label:"compact",handler:function(a){f.json.compact!==a.checked&&(f.json.compact=a.checked,i.update(null,f),$(i).trigger("optionsChanged",f))}}));a.show()},deactivate:function(){a.hide()},preferredDownloadFormat:function(){return"json"}}});define("rtext!templates/panel.options.chart-output.html",[],function(){return'<div class="pg-description"></div>\r\n<div class="pg-selection ui-content ui-state-highlight ui-corner-all">\r\n    <label><span class="pg-label">X Axis:</span><select class="pg-x"></select></label>\r\n</div>\r\n<div class="pg-selection ui-content ui-state-highlight ui-corner-all">\r\n    <label><span class="pg-label">Y Axis:</span><select class="pg-y"></select></label>\r\n</div>\r\n<div class="pg-selection ui-content ui-state-highlight ui-corner-all">\r\n    <label><span class="pg-label">Segment On:</span><select class="pg-segment"></select></label>\r\n</div>\r\n<div class="pg-selection ui-content ui-state-highlight ui-corner-all">\r\n    <label><span class="pg-label">Max. Samples:</span><input type="number" step="1" min="1" class="pg-sample"></label>\r\n</div>\r\n<div class="pg-chart-logo">\r\n    <a href="http://reportgrid.com/" target="_blank"><img src="http://api.reportgrid.com/css/images/reportgrid-clear.png" title="Powered by ReportGrid" height="29" width="194"></a>\r\n</div>'});
(function(){var b,i;function g(j,a){function b(){}b.prototype=j;var f=new b,g;for(g in a)f[g]=a[g];return f}function h(j){return j instanceof Array?function(){return M.iter(j)}:"function"==typeof j.iterator?a(j,j.iterator):j.iterator}function a(j,a){var b=function(){return b.method.apply(b.scope,arguments)};b.scope=j;b.method=a;return b}var f,k,m,l,r,p,t,v,w,x,E,z,L,C,A,O,Q,U,sa,ta,ca,ra,Ea,Fa,Ia,Za,Ka,R,ha,za,Xa,Oa,eb,Bb,Wb,Qa,Ja,yb,$b,Sb,pb,Xb,jc,kc,Sc,fd,zc,sd,ld,mc,Hb,Va,ob,K,G,ya,sb,Tc,Lc,pa,
bb,gd,nc,hb,mb,va,Rc,zb,Jc,fa,ma,ia,bc,kb,Cb,qc,wa,wb,Ua,rc,sc,td,Pb,hd,Ac,oc,Yb,ib,ad,Uc,Vc,Zb,wc,md,nd,pc,bd,od,Bc,dc,ec,Cc,Mc,Nc,Dc,Ab,ac,u,Ya,Qb,Ca,ed,Qc,Ra,Zc,xc,Ic,rd,Tb,lc,$c,vc,yc,Dd,Db,Eb,Ob,F,ba,S,cc,q,P,Ba,Aa,H,oa,da,J,Ga,Kc,Rb,xb,Ld,Jb,D,gb,$a,Wa,dd,Kb,Oc,Ed,cd,tc,fc,Ib,ja,Fc,pd,jb,gc,Ub,na,Xc,Y,X,Sa,fe,Md,Z,Da,Yc,qb,Ha,yd,y={},N=function(){return X.__string_rec(this,"")},T=function(){};y.Arrays=T;T.__name__=["Arrays"];T.addIf=function(j,a,b){null!=a?a&&j.push(b):null!=b&&j.push(b);return j};
T.add=function(j,a){j.push(a);return j};T["delete"]=function(j,a){M.remove(j,a);return j};T.removef=function(j,a){for(var b=-1,f=0,g=j.length;f<g;){var h=f++;if(a(j[h])){b=h;break}}if(0>b)return!1;j.splice(b,1);return!0};T.deletef=function(j,a){T.removef(j,a);return j};T.filter=function(j,a){for(var b=[],f=0;f<j.length;){var g=j[f];++f;a(g)&&b.push(g)}return b};T.min=function(j,a){if(0==j.length)return null;if(null==a)for(var b=j[0],f=0,g=Na.comparef(b),h=1,i=j.length;h<i;){var k=h++;0<g(b,j[k])&&
(b=j[f=k])}else{b=a(j[0]);f=0;h=1;for(i=j.length;h<i;)if(k=h++,b>(g=a(j[k])))b=g,f=k}return j[f]};T.floatMin=function(j,a){if(0==j.length)return Math.NaN;for(var b=a(j[0]),f,g=1,h=j.length;g<h;)if(f=g++,b>(f=a(j[f])))b=f;return b};T.bounds=function(j,a){if(0==j.length)return null;if(null==a)for(var b=j[0],f=0,g=j[0],h=0,i=1,k=j.length;i<k;){var l=i++,m=Na.comparef(b);0<m(b,j[l])&&(b=j[f=l]);0>m(g,j[l])&&(g=j[h=l])}else{b=a(j[0]);f=0;m=a(j[0]);h=0;i=1;for(k=j.length;i<k;)if(l=i++,b>(g=a(j[l])))b=g,
f=l;i=1;for(k=j.length;i<k;)if(l=i++,m<(b=a(j[l])))m=b,h=l}return[j[f],j[h]]};T.boundsFloat=function(j,a){if(0==j.length)return null;for(var b=a(j[0]),f,g=a(j[0]),h=1,i=j.length;h<i;){var k=h++;if(b>(f=a(j[k])))b=f;if(g<(f=a(j[k])))g=f}return[b,g]};T.max=function(j,a){if(0==j.length)return null;if(null==a)for(var b=j[0],f=0,g=Na.comparef(b),h=1,i=j.length;h<i;){var k=h++;0>g(b,j[k])&&(b=j[f=k])}else{b=a(j[0]);f=0;h=1;for(i=j.length;h<i;)if(k=h++,b<(g=a(j[k])))b=g,f=k}return j[f]};T.floatMax=function(j,
a){if(0==j.length)return Math.NaN;for(var b=a(j[0]),f,g=1,h=j.length;g<h;)if(f=g++,b<(f=a(j[f])))b=f;return b};T.flatten=function(j){for(var a=[],b=0;b<j.length;){var f=j[b];++b;a=a.concat(f)}return a};T.map=function(j,a){return j.map(a)};T.reduce=function(j,a,b){return j.reduce(a,b)};T.order=function(j,a){j.sort(null==a?Na.compare:a);return j};T.orderMultiple=function(j,a,b){var f=!0,g;for(M.remove(b,j);f;)for(var f=!1,h=0,i=j.length-1;h<i;){var k=h++;if(0<a(j[k],j[k+1])){f=!0;g=j[k];j[k]=j[k+1];
j[k+1]=g;for(var l=0;l<b.length;){var m=b[l];++l;g=m[k];m[k]=m[k+1];m[k+1]=g}}}};T.split=function(j,a){null==a&&(a=function(j){return null==j});for(var b=[],f=[],g,h=0,i=j.length;h<i;){var k=h++;a(g=j[k],k)?f=[]:(0==f.length&&b.push(f),f.push(g))}return b};T.exists=function(j,a,b){if(null!=b)for(var f=0;f<j.length;){var g=j[f];++f;if(b(g))return!0}else for(f=0;f<j.length;)if(g=j[f],++f,g==a)return!0;return!1};T.format=function(j,a,b,f){b=F.FormatParams.params(a,b,"J");a=b.shift();switch(a){case "J":if(0==
j.length)return null==b[1]?"[]":b[1];var a=null==b[2]?", ":b[2],g=null==b[3]?null:""==b[3]?null:I.parseInt(b[3]);if(null!=g&&g<j.length){var h=null==b[4]?" ...":b[4];return j.slice().splice(0,g).map(function(j){return Na.format(j,b[0],null,null,f)}).join(a)+h}return j.map(function(j){return Na.format(j,b[0],null,null,f)}).join(a);case "C":return ka.format(j.length,"I",[],f);default:throw"Unsupported array format: "+a;}};T.formatf=function(j,a,b){a=F.FormatParams.params(j,a,"J");j=a.shift();switch(j){case "J":return function(j){if(0==
j.length)return null==a[1]?"[]":a[1];var f=null==a[2]?", ":a[2],g=null==a[3]?null:""==a[3]?null:I.parseInt(a[3]);if(null!=g&&g<j.length){var Qe=null==a[4]?" ...":a[4];return j.slice().splice(0,g).map(function(j){return Na.format(j,a[0],null,null,b)}).join(f)+Qe}return j.map(function(j){return Na.format(j,a[0],null,null,b)}).join(f)};case "C":var f=ka.formatf("I",[],b);return function(j){return f(j.length)};default:throw"Unsupported array format: "+j;}};T.interpolate=function(j,a,b,f){return T.interpolatef(a,
b,f)(j)};T.interpolatef=function(j,a,b){for(var f=[],g=0,h=ka.min(j.length,a.length);g<h;)j[g]==a[g]?f.push(function(j){return function(){return j[0]}}([a[g]])):f.push(V.interpolatef(j[g],a[g],b)),g++;for(;g<a.length;)f.push(function(j){return function(){return j[0]}}([a[g]])),g++;return function(j){return f.map(function(a){return a(j)})}};T.interpolateStrings=function(j,a,b,f){return T.interpolateStringsf(a,b,f)(j)};T.interpolateStringsf=function(j,a,b){for(var f=[],g=0,h=ka.min(j.length,a.length);g<
h;)j[g]==a[g]?f.push(function(j){return function(){return j[0]}}([a[g]])):f.push(W.interpolatef(j[g],a[g],b)),g++;for(;g<a.length;)f.push(function(j){return function(){return j[0]}}([a[g]])),g++;return function(j){return f.map(function(a){return a(j)})}};T.interpolateInts=function(j,a,b,f){return T.interpolateIntsf(a,b,f)(j)};T.interpolateIntsf=function(j,a,b){for(var f=[],g=0,h=ka.min(j.length,a.length);g<h;)j[g]==a[g]?f.push(function(j){return function(){return j[0]}}([a[g]])):f.push(ka.interpolatef(j[g],
a[g],b)),g++;for(;g<a.length;)f.push(function(j){return function(){return j[0]}}([a[g]])),g++;return function(j){return f.map(function(a){return a(j)})}};T.indexOf=function(j,a){return j.indexOf(a)};T.every=function(j,a){return j.every(a)};T.each=function(j,a){j.forEach(a)};T.any=function(j,a){return ga.any(M.iter(j),a)};T.all=function(j,a){return ga.all(M.iter(j),a)};T.random=function(j){return j[I.random(j.length)]};T.string=function(j){return"["+j.map(function(j){return Na.string(j)}).join(", ")+
"]"};T.last=function(j){return j[j.length-1]};T.lastf=function(j,a){for(var b=j.length;0<=--b;)if(a(j[b]))return j[b];return null};T.first=function(j){return j[0]};T.firstf=function(j,a){for(var b=0;b<j.length;){var f=j[b];++b;if(a(f))return f}return null};T.bisect=function(j,a,b,f){null==b&&(b=0);return T.bisectRight(j,a,b,f)};T.bisectRight=function(j,a,b,f){null==b&&(b=0);null==f&&(f=j.length);for(;b<f;){var g=b+f>>1;a<j[g]?f=g:b=g+1}return b};T.bisectLeft=function(j,a,b,f){null==b&&(b=0);null==
f&&(f=j.length);for(;b<f;){var g=b+f>>1;j[g]<a?b=g+1:f=g}return b};T.nearest=function(j,a,b){for(var f=[],g=0,h=j.length;g<h;){var i=g++;f.push({i:i,v:Math.abs(b(j[i])-a)})}f.sort(function(j,a){return V.compare(j.v,a.v)});return j[f[0].i]};T.compare=function(j,a){var b;if(0!=(b=j.length-a.length))return b;for(var f=0,g=j.length;f<g;)if(b=f++,0!=(b=Na.compare(j[b],a[b])))return b;return 0};T.product=function(j){if(0==j.length)return[];for(var j=j.slice(),a=[],b,f=0,g=j[0];f<g.length;){var h=g[f];++f;
a.push([h])}g=1;for(f=j.length;g<f;){var i=g++;b=[];for(var k=0;k<a.length;){var l=a[k];++k;for(var m=0,p=j[i];m<p.length;)h=p[m],++m,b.push(l.slice().concat([h]))}a=b}return a};T.rotate=function(j){if(0==j.length)return[];for(var a=[],b=0,f=j[0].length;b<f;){var g=b++;a[g]=[]}b=0;for(f=j.length;b<f;)for(var h=b++,i=0,k=j[0].length;i<k;)g=i++,a[g][h]=j[h][g];return a};T.shuffle=function(j){for(var a=ka.range(j.length),b=[];0<a.length;){var f=I.random(a.length),g=a[f];a.splice(f,1);b.push(j[g])}return b};
T.scanf=function(j,a,b){null==b&&(b=!0);var f=0,g=[];if(b)for(var b=0,h=j.length;b<h;){var i=b++;g[i]=f+=a(j[i],i)}else{b=0;for(h=j.length;b<h;)i=b++,g[i]=a(j[i],i);f=g[g.length-1]}var k,l=null;k=l=function(a,qa,b){if(qa==b)return j[qa];var id=Math.floor((b-qa)/2)+qa;return a<g[id]?l(a,qa,id):l(a,id+1,b)};return function(j){return 0>j||j>f?null:k(j,0,g.length-1)}};var Wc=function(){};y.Bools=Wc;Wc.__name__=["Bools"];Wc.format=function(j,a,b,f){return Wc.formatf(a,b,f)(j)};Wc.formatf=function(j,a){var a=
F.FormatParams.params(j,a,"B"),b=a.shift();switch(b){case "B":return function(j){return j?"true":"false"};case "N":return function(j){return j?"1":"0"};case "R":if(2!=a.length)throw"bool format R requires 2 parameters";return function(j){return j?a[0]:a[1]};default:throw"Unsupported bool format: "+b;}};Wc.interpolate=function(j,a,b,f){return Wc.interpolatef(a,b,f)(j)};Wc.interpolatef=function(j,a,b){if(j==a)return function(){return j};var f=V.interpolatef(0,1,b);return function(b){return 0.5>f(b)?
j:a}};Wc.canParse=function(j){j=j.toLowerCase();return"true"==j||"false"==j};Wc.parse=function(j){return"true"==j.toLowerCase()};Wc.compare=function(j,a){return j==a?0:j?-1:1};var lb=function(j,a){this.length=j;this.b=a};y.Bytes=lb;lb.__name__=["Bytes"];lb.alloc=function(j){for(var a=[],b=0;b<j;)b++,a.push(0);return new lb(j,a)};lb.ofString=function(j){for(var a=[],b=0,f=j.length;b<f;){var g=b++,g=M.cca(j,g);127>=g?a.push(g):(2047>=g?a.push(192|g>>6):(65535>=g?a.push(224|g>>12):(a.push(240|g>>18),
a.push(128|g>>12&63)),a.push(128|g>>6&63)),a.push(128|g&63))}return new lb(a.length,a)};lb.ofStringData=function(j){for(var a=[],b=0,f=j.length;b<f;){var g=b++;a.push(M.cca(j,g))}return new lb(a.length,a)};lb.ofData=function(j){return new lb(j.length,j)};lb.ofHex=function(j){j=aa.stripWhite(j);j=aa.replaceRecurse(j,":","").toLowerCase();aa.startsWith(j,"0x")&&(j=M.substr(j,2,null));1==(j.length&1)&&(j="0"+j);for(var a=new Fb,b=j.length/2|0,f=0;f<b;){var g=f++,g=M.substr(j,2*g,2);a.b.push(I.parseInt("0x"+
g))}return a.getBytes()};lb.prototype={toHex:function(j,a,b){null==a&&(a=0);null==j&&(j="");null==b&&(b=this.length-a);for(var b=this.sub(a,b),a=new Gc,b=b.length,f=!0,g=0;g<b;){var h=g++;f?f=!1:a.b+=I.string(j);a.b+=I.string(aa.hex(this.b[h],2).toLowerCase())}a=aa.rtrim(a.b);""==j&&0!=a.length%2&&(a="0"+a);return a},getData:function(){return this.b},toString:function(){return this.readString(0,this.length)},readString:function(j,a){if(0>j||0>a||j+a>this.length)throw new Z.OutsideBoundsException;
for(var b="",f=this.b,g=String.fromCharCode,h=j,i=j+a;h<i;){var k=f[h++];if(128>k){if(0==k)break;b+=g(k)}else if(224>k)b+=g((k&63)<<6|f[h++]&127);else if(240>k)var l=f[h++],b=b+g((k&31)<<12|(l&127)<<6|f[h++]&127);else var l=f[h++],m=f[h++],b=b+g((k&15)<<18|(l&127)<<12|m<<6&127|f[h++]&127)}return b},compare:function(j){for(var a=this.b,b=j.b,f=this.length<j.length?this.length:j.length,g=0;g<f;){var h=g++;if(a[h]!=b[h])return a[h]-b[h]}return this.length-j.length},sub:function(j,a){null==a&&(a=this.length-
j);j+a>this.length&&(a=this.length-j);if(0>j||0>a)throw new Z.OutsideBoundsException;return new lb(a,this.b.slice(j,j+a))},blit:function(j,a,b,f){null==f&&(f=a.length-b);b+f>a.length&&(f=a.length-b);if(0>j||0>b||0>f||j+f>this.length||b+f>a.length)throw new Z.OutsideBoundsException;var g=this.b,a=a.b;if(g==a&&j>b)for(var h=f;0<h;)h--,g[h+j]=a[h+b];else for(var i=0;i<f;)h=i++,g[h+j]=a[h+b]},set:function(j,a){this.b[j]=a&255},get:function(j){return this.b[j]},b:null,length:null,__class__:lb};var Fb=
function(){this.b=[]};y.BytesBuffer=Fb;Fb.__name__=["BytesBuffer"];Fb.prototype={writeBytes:function(j,a,b){this.addBytes(j,a,b)},writeByte:function(j){this.b.push(j)},getBytes:function(){var j=new lb(this.b.length,this.b);this.b=null;return j},addBytes:function(j,a,b){if(0>a||0>b||a+b>j.length)throw new Z.OutsideBoundsException;for(var j=j.b,f=a,a=a+b;f<a;)b=f++,this.b.push(j[b])},add:function(j){for(var a=j.b,b=0,j=j.length;b<j;){var f=b++;this.b.push(a[f])}},addByte:function(j){this.b.push(j)},
b:null,__class__:Fb};var fb=function(){};y.BytesUtil=fb;fb.__name__=["BytesUtil"];fb.byteArrayToBytes=function(j,a){for(var b=new Fb,f=0;f<j.length;){var g=j[f];++f;if(255<g||0>g)throw"Value out of range";b.b.push(g)}return null!=a&&0<a?fb.nullPad(b.getBytes(),a):b.getBytes()};fb.byteToHex=function(j){return aa.hex(j&255,2).toLowerCase()};fb.byte32ToHex=function(j){return aa.hex(j&255,2).toLowerCase()};fb.bytesToInt32LE=function(j){return Ma.unpackLE(fb.nullPad(j,4))};fb.cleanHexFormat=function(j){j=
aa.replace(j,":","");j=j.split("|").join("");j=(new xa("([\\s]*)","g")).replace(j,"");aa.startsWith(j,"0x")&&(j=M.substr(j,2,null));1==(j.length&1)&&(j="0"+j);return j.toLowerCase()};fb.encodeToBase=function(j,a){return(new dd(lb.ofString(a))).encodeBytes(j)};fb.eq=function(j,a){if(j.length!=a.length)return!1;for(var b=j.length,f=0;f<b;){var g=f++;if(j.b[g]!=a.b[g])return!1}return!0};fb.hexDump=function(j,a){return fb.toHex(j,a)};fb.int32ToBytesLE=function(j){return Ma.packLE(j)};fb.int32ArrayToBytes=
function(j,a){for(var b=new Fb,f=0;f<j.length;){var g=j[f];++f;g&=-1;if(255<g||0>g)throw"Value out of range";b.b.push(g)}return null!=a&&0<a?fb.nullPad(b.getBytes(),a):b.getBytes()};fb.intArrayToBytes=function(j,a){for(var b=new Fb,f=0;f<j.length;){var g=j[f];++f;if(255<g||0>g)throw"Value out of range";b.b.push(g)}return null!=a&&0<a?fb.nullPad(b.getBytes(),a):b.getBytes()};fb.nullBytes=function(j){for(var a=lb.alloc(j),b=0;b<j;){var f=b++;a.b[f]=0}return a};fb.nullPad=function(j,a){var b=a-j.length%
a;if(b==a)return j;var f=new Fb;f.add(j);for(var g=0;g<b;)g++,f.b.push(0);return f.getBytes()};fb.ofIntArray=function(j){for(var a=new Fb,b=0,f=j.length;b<f;){var g=b++;a.b.push(fb.cleanValue(j[g]))}return a.getBytes()};fb.ofHex=function(j){for(var j=fb.cleanHexFormat(j),a=new Fb,b=j.length/2|0,f=0;f<b;){var g=f++,g=M.substr(j,2*g,2),g=I.parseInt("0x"+g);if(255<g)throw"error";a.b.push(g)}return a.getBytes()};fb.toHex=function(j,a){null==a&&(a=" ");for(var b=new Gc,f=j.length,g=!0,h=0;h<f;){var i=
h++;g?g=!1:b.b+=I.string(a);b.b+=I.string(aa.hex(j.b[i],2).toLowerCase())}return aa.rtrim(b.b)};fb.unNullPad=function(j){for(var a=j.length-1;0<a--&&0==j.b[a];);if(0==a&&0==j.b[0])return(new Fb).getBytes();a++;var b=lb.alloc(a);b.blit(0,j,0,a);return b};fb.cleanValue=function(j){if(0>j){if(-128>j)throw"not a byte";j=j&255|128}if(255<j)throw"not a byte";return j};var ud=function(){};y.Constants=ud;ud.__name__=["Constants"];var tb=function(){};y.DateTools=tb;tb.__name__=["DateTools"];tb.__format_get=
function(j,a){var b=this;switch(a){case "%":b="%";break;case "a":b=tb.WEEKDAYS_ABBREV[j.getDay()];break;case "b":b=tb.MONTHS_ABBREV[j.getMonth()];break;case "C":b=aa.lpad(I.string(j.getFullYear()/100|0),"0",2);break;case "d":b=aa.lpad(I.string(j.getDate()),"0",2);break;case "D":b=tb.__format(j,"%m/%d/%y");break;case "e":b=I.string(j.getDate());break;case "H":case "k":b=aa.lpad(I.string(j.getHours()),"H"==a?"0":" ",2);break;case "I":case "l":b=j.getHours()%12;b=aa.lpad(I.string(0==b?12:b),"I"==a?"0":
" ",2);break;case "m":b=aa.lpad(I.string(j.getMonth()+1),"0",2);break;case "M":b=aa.lpad(I.string(j.getMinutes()),"0",2);break;case "n":b="\n";break;case "p":b=11<j.getHours()?"PM":"AM";break;case "r":b=tb.__format(j,"%I:%M:%S %p");break;case "R":b=tb.__format(j,"%H:%M");break;case "s":b=I.string(j.getTime()/1E3|0);break;case "S":b=aa.lpad(I.string(j.getSeconds()),"0",2);break;case "t":b="\t";break;case "T":b=tb.__format(j,"%H:%M:%S");break;case "u":b=j.getDay();b=0==b?"7":I.string(b);break;case "w":b=
I.string(j.getDay());break;case "y":b=aa.lpad(I.string(j.getFullYear()%100),"0",2);break;case "Y":b=I.string(j.getFullYear());break;case "z":var b=j.getTimezoneOffset(),f=I.string(Math.abs(Math.floor(100*(b/60)))|0),b=0>b?!0:!1,f=aa.lpad(f,"0",4),b=b?"-"+f:"+"+f;break;default:throw"Date.format %"+a+"- not implemented yet.";}return b};tb.__format=function(j,a){for(var b=new Gc,f=0;;){var g=a.indexOf("%",f);if(0>g)break;b.b+=M.substr(a,f,g-f);b.b+=I.string(tb.__format_get(j,M.substr(a,g+1,1)));f=g+
2}b.b+=M.substr(a,f,a.length-f);return b.b};tb.format=function(j,a){return tb.__format(j,a)};tb.delta=function(j,a){var b=new Date;b.setTime(j.getTime()+a);return b};tb.getMonthDays=function(j){var a=j.getMonth(),j=j.getFullYear();return 1!=a?tb.DAYS_OF_MONTH[a]:0==j%4&&0!=j%100||0==j%400?29:28};tb.seconds=function(j){return 1E3*j};tb.minutes=function(j){return 6E4*j};tb.hours=function(j){return 36E5*j};tb.days=function(j){return 864E5*j};tb.parse=function(j){var a=j/1E3,b=a/60,f=b/60;return{ms:j%
1E3,seconds:a%60|0,minutes:b%60|0,hours:f%24|0,days:f/24|0}};tb.make=function(j){return j.ms+1E3*(j.seconds+60*(j.minutes+60*(j.hours+24*j.days)))};var xa=function(j,a){a=a.split("u").join("");this.r=RegExp(j,a)};y.EReg=xa;xa.__name__=["EReg"];xa.prototype={customReplace:function(j,a){for(var b=new Gc;this.match(j);)b.b+=I.string(this.matchedLeft()),b.b+=I.string(a(this)),j=this.matchedRight();b.b+=I.string(j);return b.b},replace:function(j,a){return j.replace(this.r,a)},split:function(j){return j.replace(this.r,
"#__delim__#").split("#__delim__#")},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matchedRight:function(){if(null==this.r.m)throw"No string matched";if(null==this.r.r){var j=this.r.m.index+this.r.m[0].length;return this.r.s.substr(j,this.r.s.length-j)}return this.r.r},matchedLeft:function(){if(null==this.r.m)throw"No string matched";return null==this.r.l?this.r.s.substr(0,this.r.m.index):this.r.l},matched:function(j){if(null!=
this.r.m&&0<=j&&j<this.r.m.length)j=this.r.m[j];else throw"EReg::matched";return j},match:function(j){this.r.m=this.r.exec(j);this.r.s=j;this.r.l=RegExp.leftContext;this.r.r=RegExp.rightContext;return null!=this.r.m},r:null,__class__:xa};var Gb=function(){};y.Dates=Gb;Gb.__name__=["Dates"];Gb.format=function(j,a,b,f){return Gb.formatf(a,b,f)(j)};Gb.formatf=function(j,a,b){a=F.FormatParams.params(j,a,"D");j=a.shift();switch(j){case "D":return function(j){return F.FormatDate.date(j,b)};case "DS":return function(j){return F.FormatDate.dateShort(j,
b)};case "DST":return function(j){return F.FormatDate.dateShort(j,b)+" "+F.FormatDate.time(j,b)};case "DSTS":return function(j){return F.FormatDate.dateShort(j,b)+" "+F.FormatDate.timeShort(j,b)};case "DTS":return function(j){return F.FormatDate.date(j,b)+" "+F.FormatDate.timeShort(j,b)};case "Y":return function(j){return F.FormatDate.year(j,b)};case "YM":return function(j){return F.FormatDate.yearMonth(j,b)};case "M":return function(j){return F.FormatDate.month(j,b)};case "MN":return function(j){return F.FormatDate.monthName(j,
b)};case "MS":return function(j){return F.FormatDate.monthNameShort(j,b)};case "MD":return function(j){return F.FormatDate.monthDay(j,b)};case "WD":return function(j){return F.FormatDate.weekDay(j,b)};case "WDN":return function(j){return F.FormatDate.weekDayName(j,b)};case "WDS":return function(j){return F.FormatDate.weekDayNameShort(j,b)};case "R":return function(j){return F.FormatDate.dateRfc(j,b)};case "DT":return function(j){return F.FormatDate.dateTime(j,b)};case "U":return function(j){return F.FormatDate.universal(j,
b)};case "S":return function(j){return F.FormatDate.sortable(j,b)};case "T":return function(j){return F.FormatDate.time(j,b)};case "TS":return function(j){return F.FormatDate.timeShort(j,b)};case "C":var f=a[0];return null==f?function(j){return F.FormatDate.date(j,b)}:function(j){return F.FormatDate.format(f,j,b,null!=a[1]?"true"==a[1]:!0)};default:throw new ba.Error("Unsupported date format: {0}",null,j,{fileName:"Dates.hx",lineNumber:71,className:"Dates",methodName:"formatf"});}};Gb.interpolate=
function(j,a,b,f){return Gb.interpolatef(a,b,f)(j)};Gb.interpolatef=function(j,a,b){var f=V.interpolatef(j.getTime(),a.getTime(),b);return function(j){var a=new Date;a.setTime(f(j));return a}};Gb.snap=function(j,a,b){null==b&&(b=0);if(0>b)switch(a){case "second":return 1E3*Math.floor(j/1E3);case "minute":return 6E4*Math.floor(j/6E4);case "hour":return 36E5*Math.floor(j/36E5);case "day":return b=new Date,b.setTime(j),a=b,(new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0)).getTime();case "week":return 6048E5*
Math.floor(j/6048E5);case "month":return b=new Date,b.setTime(j),a=b,(new Date(a.getFullYear(),a.getMonth(),1,0,0,0)).getTime();case "year":return b=new Date,b.setTime(j),a=b,(new Date(a.getFullYear(),0,1,0,0,0)).getTime();default:return 0}else if(0<b)switch(a){case "second":return 1E3*Math.ceil(j/1E3);case "minute":return 6E4*Math.ceil(j/6E4);case "hour":return 36E5*Math.ceil(j/36E5);case "day":return b=new Date,b.setTime(j),a=b,(new Date(a.getFullYear(),a.getMonth(),a.getDate()+1,0,0,0)).getTime();
case "week":return 6048E5*Math.ceil(j/6048E5);case "month":return b=new Date,b.setTime(j),a=b,(new Date(a.getFullYear(),a.getMonth()+1,1,0,0,0)).getTime();case "year":return b=new Date,b.setTime(j),a=b,(new Date(a.getFullYear()+1,0,1,0,0,0)).getTime();default:return 0}else switch(a){case "second":return 1E3*Math.round(j/1E3);case "minute":return 6E4*Math.round(j/6E4);case "hour":return 36E5*Math.round(j/36E5);case "day":var f=new Date;f.setTime(j);return a=f,b=12<=a.getHours()?1:0,(new Date(a.getFullYear(),
a.getMonth(),a.getDate()+b,0,0,0)).getTime();case "week":return 6048E5*Math.round(j/6048E5);case "month":return f=new Date,f.setTime(j),a=f,b=a.getDate()>Math.round(tb.getMonthDays(a)/2)?1:0,(new Date(a.getFullYear(),a.getMonth()+b,1,0,0,0)).getTime();case "year":return f=new Date,f.setTime(j),a=f,b=j>(new Date(a.getFullYear(),6,2,0,0,0)).getTime()?1:0,(new Date(a.getFullYear()+b,0,1,0,0,0)).getTime();default:return 0}};Gb.snapToWeekDay=function(j,a){var b=new Date;b.setTime(j);var b=b.getDay(),f=
0;switch(a.toLowerCase()){case "sunday":f=0;break;case "monday":f=1;break;case "tuesday":f=2;break;case "wednesday":f=3;break;case "thursday":f=4;break;case "friday":f=5;break;case "saturday":f=6;break;default:throw new ba.Error("unknown week day '{0}'",null,a,{fileName:"Dates.hx",lineNumber:186,className:"Dates",methodName:"snapToWeekDay"});}return j-864E5*((b-f)%7)};Gb.canParse=function(j){return Gb._reparse.match(j)};Gb.parse=function(j){var j=j.split("."),a=M.strDate(aa.replace(j[0],"T"," "));
if(1<j.length){var b=new Date;b.setTime(a.getTime()+I.parseInt(j[1]));a=b}return a};Gb.compare=function(j,a){return V.compare(j.getTime(),a.getTime())};var Na=function(){};y.Dynamics=Na;Na.__name__=["Dynamics"];Na.format=function(j,a,b,f,g){return Na.formatf(a,b,f,g)(j)};Na.formatf=function(j,a,b,f){null==b&&(b="null");return function(g){var h=ea["typeof"](g);switch(h[1]){case 0:return b;case 1:return ka.format(g,j,a,f);case 2:return V.format(g,j,a,f);case 3:return Wc.format(g,j,a,f);case 6:return h=
h[2],h==String?W.formatOne(g,j,a,f):h==Array?T.format(g,j,a,f):h==Date?Gb.format(g,j,a,f):Pa.format(g,j,a,f);case 4:return Pa.format(g,j,a,f);case 5:return"function()";default:throw new ba.Error("Unsupported type format: {0}",null,ea["typeof"](g),{fileName:"Dynamics.hx",lineNumber:44,className:"Dynamics",methodName:"formatf"});}}};Na.interpolate=function(j,a,b,f){return Na.interpolatef(a,b,f)(j)};Na.interpolatef=function(j,a,b){var f=ea["typeof"](j),g=ea["typeof"](a);if((!X.__instanceof(j,Nd)&&!X.__instanceof(j,
Yd)||!X.__instanceof(a,Nd)&&!X.__instanceof(a,Yd))&&!ea.enumEq(f,g))throw new ba.Error("arguments a ({0}) and b ({0}) have different types",[j,a],null,{fileName:"Dynamics.hx",lineNumber:59,className:"Dynamics",methodName:"interpolatef"});switch(f[1]){case 0:return function(){return null};case 1:return X.__instanceof(a,Yd)?ka.interpolatef(j,a,b):V.interpolatef(j,a,b);case 2:return V.interpolatef(j,a,b);case 3:return Wc.interpolatef(j,a,b);case 4:return Pa.interpolatef(j,a,b);case 6:switch(f=ea.getClassName(f[2]),
f){case "String":return W.interpolatef(j,a,b);case "Date":return Gb.interpolatef(j,a,b);default:throw new ba.Error("cannot interpolate on instances of {0}",null,f,{fileName:"Dynamics.hx",lineNumber:77,className:"Dynamics",methodName:"interpolatef"});}default:throw new ba.Error("cannot interpolate on functions/enums/unknown",null,null,{fileName:"Dynamics.hx",lineNumber:79,className:"Dynamics",methodName:"interpolatef"});}};Na.string=function(j){var a=ea["typeof"](j);switch(a[1]){case 0:return"null";
case 1:return ka.format(j);case 2:return V.format(j);case 3:return Wc.format(j);case 4:for(var a=B.fields(j),b=[],f=0;f<a.length;){var g=a[f];++f;b.push(g+" : "+Na.string(B.field(j,g)))}return"{"+b.join(", ")+"}";case 6:switch(ea.getClassName(a[2])){case "Array":return T.string(j);case "String":return 0>j.indexOf('"')?'"'+j+'"':0>j.indexOf("'")?"'"+j+"'":'"'+aa.replace(j,'"','\\"')+'"';case "Date":return Gb.format(j);default:return I.string(j)}case 7:return ee.string(j);case 8:return"<unknown>";case 5:return"<function>"}};
Na.compare=function(j,a){if(null==j&&null==a)return 0;if(null==j)return-1;if(null==a)return 1;var b=ea["typeof"](j);switch(b[1]){case 1:case 2:return j<a?-1:j>a?1:0;case 3:return j==a?0:j?-1:1;case 4:return Pa.compare(j,a);case 6:switch(ea.getClassName(b[2])){case "Array":return T.compare(j,a);case "String":return W.compare(j,a);case "Date":return V.compare(j.getTime(),a.getTime());default:return W.compare(I.string(j),I.string(a))}case 7:return ee.compare(j,a);default:return 0}};Na.comparef=function(j){j=
ea["typeof"](j);switch(j[1]){case 1:case 2:return V.compare;case 3:return Wc.compare;case 4:return Pa.compare;case 6:switch(ea.getClassName(j[2])){case "Array":return T.compare;case "String":return W.compare;case "Date":return Gb.compare;default:return function(j,a){return W.compare(I.string(j),I.string(a))}}case 7:return ee.compare;default:return Na.compare}};Na.clone=function(j,a){null==a&&(a=!1);var b=ea["typeof"](j);switch(b[1]){case 0:return null;case 1:case 2:case 3:case 7:case 8:case 5:return j;
case 4:var f={};Pa.copyTo(j,f);return f;case 6:switch(b=b[2],ea.getClassName(b)){case "Array":f=[];for(b=0;b<j.length;){var g=j[b];++b;f.push(Na.clone(g))}return f;case "String":case "Date":return j;default:if(a){f=ea.createEmptyInstance(b);b=0;for(g=B.fields(j);b<g.length;){var h=g[b];++b;f[h]=Na.clone(B.field(j,h))}return f}return j}}};Na.same=function(j,a){var b=uc.typeName(j),f=uc.typeName(a);if(b!=f)return!1;b=ea["typeof"](j);switch(b[1]){case 2:return V.equals(j,a);case 0:case 1:case 3:return j==
a;case 5:return B.compareMethods(j,a);case 6:b=ea.getClassName(b[2]);f=ea.getClassName(ea.getClass(a));if(b!=f||X.__instanceof(j,String)&&j!=a)return!1;if(X.__instanceof(j,Array)){var f=j,g=a;if(f.length!=g.length)return!1;for(var i=0,b=f.length;i<b;){var k=i++;if(!Na.same(f[k],g[k]))return!1}return!0}if(X.__instanceof(j,Date))return j.getTime()==a.getTime();if(X.__instanceof(j,La)||X.__instanceof(j,Od)){f=ga.array(j.keys());b=ga.array(a.keys());if(f.length!=b.length)return!1;for(b=0;b<f.length;)if(i=
f[b],++b,!a.exists(i)||!Na.same(j.get(i),a.get(i)))return!1;return!0}if((b=ga.isIterator(j))||hc.isIterable(j)){f=b?ga.array(j):ga.array(h(j)());g=b?ga.array(a):ga.array(h(a)());if(f.length!=g.length)return!1;i=0;for(b=f.length;i<b;)if(k=i++,!Na.same(f[k],g[k]))return!1;return!0}k=ea.getInstanceFields(ea.getClass(j));for(b=0;b<k.length;)if(i=k[b],++b,f=B.field(j,i),!B.isFunction(f)&&(g=B.field(a,i),!Na.same(f,g)))return!1;return!0;case 7:b=ea.getEnumName(b[2]);f=ea.getEnum(a);f=ea.getEnumName(f);
if(b!=f||j[1]!=a[1])return!1;f=j.slice(2);g=a.slice(2);i=0;for(b=f.length;i<b;)if(k=i++,!Na.same(f[k],g[k]))return!1;return!0;case 4:for(var k=B.fields(j),l=B.fields(a),b=0;b<k.length;){i=k[b];++b;M.remove(l,i);if(!B.hasField(a,i))return!1;f=B.field(j,i);if(!B.isFunction(f)&&(g=B.field(a,i),!Na.same(f,g)))return!1}if(0<l.length)return!1;if((b=ga.isIterator(j))||hc.isIterable(j)){if(b&&!ga.isIterator(a)||!b&&!hc.isIterable(a))return!1;f=b?ga.array(j):ga.array(h(j)());g=b?ga.array(a):ga.array(h(a)());
if(f.length!=g.length)return!1;i=0;for(b=f.length;i<b;)if(k=i++,!Na.same(f[k],g[k]))return!1}return!0;case 8:throw"Unable to compare two unknown types";}throw new ba.Error("Unable to compare values: {0} and {1}",[j,a],null,{fileName:"Dynamics.hx",lineNumber:368,className:"Dynamics",methodName:"same"});};Na.number=function(j){return Number(j)};var te=function(){};y.DynamicsT=te;te.__name__=["DynamicsT"];te.toHash=function(j){var a=new La;return te.copyToHash(j,a)};te.copyToHash=function(j,a){for(var b=
0,f=B.fields(j);b<f.length;){var g=f[b];++b;a.set(g,B.field(j,g))}return a};var ee=function(){};y.Enums=ee;ee.__name__=["Enums"];ee.string=function(j){for(var a=j[0],b=[],f=0,j=j.slice(2);f<j.length;){var g=j[f];++f;b.push(Na.string(g))}return a+(0==b.length?"":"("+b.join(", ")+")")};ee.compare=function(j,a){var b;return 0!=(b=j[1]-a[1])?b:T.compare(j.slice(2),a.slice(2))};var V=function(){};y.Floats=V;V.__name__=["Floats"];V.normalize=function(j){return 0>j?0:1<j?1:j};V.clamp=function(j,a,b){return j<
a?a:j>b?b:j};V.clampSym=function(j,a){return j<-a?-a:j>a?a:j};V.range=function(j,a,b,f){null==f&&(f=!1);null==b&&(b=1);null==a&&(a=j,j=0);if((a-j)/b==Math.POSITIVE_INFINITY)throw new ba.Error("infinite range",null,null,{fileName:"Floats.hx",lineNumber:50,className:"Floats",methodName:"range"});var g=[],h=-1;if(f)if(0>b)for(;(f=j+b*++h)>=a;)g.push(f);else for(;(f=j+b*++h)<=a;)g.push(f);else if(0>b)for(;(f=j+b*++h)>a;)g.push(f);else for(;(f=j+b*++h)<a;)g.push(f);return g};V.sign=function(j){return 0>
j?-1:1};V.abs=function(j){return 0>j?-j:j};V.min=function(j,a){return j<a?j:a};V.max=function(j,a){return j>a?j:a};V.wrap=function(j,a,b){b=b-a+1;j<a&&(j+=b*((a-j)/b+1));return a+(j-a)%b};V.circularWrap=function(j,a){j%=a;0>j&&(j+=a);return j};V.interpolate=function(j,a,b,f){null==b&&(b=1);null==a&&(a=0);null==f&&(f=S.Equations.linear);return a+f(j)*(b-a)};V.interpolatef=function(j,a,b){null==a&&(a=1);null==j&&(j=0);null==b&&(b=S.Equations.linear);var f=a-j;return function(a){return j+b(a)*f}};V.interpolateClampf=
function(j,a,b){null==b&&(b=S.Equations.linear);return function(f,g){var h=g-f;return function(g){return f+b(V.clamp(g,j,a))*h}}};V.format=function(j,a,b,f){return V.formatf(a,b,f)(j)};V.formatf=function(j,a,b){var a=F.FormatParams.params(j,a,"D"),j=a.shift(),f=0<a.length?I.parseInt(a[0]):null;switch(j){case "D":return function(j){return F.FormatNumber.decimal(j,f,b)};case "I":return function(j){return F.FormatNumber["int"](j,b)};case "C":var g=1<a.length?a[1]:null;return function(j){return F.FormatNumber.currency(j,
g,f,b)};case "P":return function(j){return F.FormatNumber.percent(j,f,b)};case "M":return function(j){return F.FormatNumber.permille(j,f,b)};default:throw new ba.Error("Unsupported number format: {0}",null,j,{fileName:"Floats.hx",lineNumber:152,className:"Floats",methodName:"formatf"});}};V.canParse=function(j,a){null==a&&(a=!1);return a?V._reparseStrict.match(j):V._reparse.match(j)};V.parse=function(j){"+"==M.substr(j,0,1)&&(j=M.substr(j,1,null));return I.parseFloat(j)};V.compare=function(j,a){return j<
a?-1:j>a?1:0};V.isNumeric=function(j){return X.__instanceof(j,Nd)||X.__instanceof(j,Yd)};V.equals=function(j,a,b){null==b&&(b=1E-5);return Math.isNaN(j)?Math.isNaN(a):Math.isNaN(a)?!1:!Math.isFinite(j)&&!Math.isFinite(a)?0<j==0<a:Math.abs(a-j)<b};V.uninterpolatef=function(j,a){a=1/(a-j);return function(b){return(b-j)*a}};V.uninterpolateClampf=function(j,a){a=1/(a-j);return function(b){return V.clamp((b-j)*a,0,1)}};V.round=function(j,a){null==a&&(a=2);j*=Math.pow(10,a);return Math.round(j)/Math.pow(10,
a)};var La=function(){this.h={}};y.Hash=La;La.__name__=["Hash"];La.prototype={iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},keys:function(){var j=[],a;for(a in this.h)this.h.hasOwnProperty(a)&&j.push(a.substr(1));return M.iter(j)},remove:function(j){j="$"+j;if(!this.h.hasOwnProperty(j))return!1;delete this.h[j];return!0},exists:function(j){return this.h.hasOwnProperty("$"+j)},get:function(j){return this.h["$"+
j]},set:function(j,a){this.h["$"+j]=a},h:null,__class__:La};var Ec=function(){};y.Hashes=Ec;Ec.__name__=["Hashes"];Ec.entries=function(j){for(var a=[],b=j.keys();b.hasNext();){var f=b.next();a.push({key:f,value:j.get(f)})}return a};Ec.toDynamic=function(j){for(var a={},b=j.keys();b.hasNext();){var f=b.next();a[f]=j.get(f)}return a};Ec.importObject=function(j,a){return te.copyToHash(a,j)};Ec.copyTo=function(j,a){for(var b=j.keys();b.hasNext();){var f=b.next();a.set(f,j.get(f))}return a};Ec.clone=function(j){var a=
new La;Ec.copyTo(j,a);return a};Ec.arrayOfKeys=function(j){return ga.array(j.keys())};Ec.setOfKeys=function(j){for(var a=new cc.Set,j=j.keys();j.hasNext();){var b=j.next();a.add(b)}return a};Ec.empty=function(j){return 0==Ec.count(j)};Ec.count=function(j){for(var a=0,j=j.iterator();j.hasNext();)j.next(),a++;return a};Ec.mergef=function(j,a,b){for(var f=a.keys();f.hasNext();){var g=f.next(),h=a.get(g);if(j.exists(g)){var i=j.get(g);j.set(g,b(g,i,h))}else j.set(g,h)}};Ec.merge=function(j,a){Ec.mergef(j,
a,function(j,a,b){return b})};Ec.clear=function(j){j.h={};null!=j.h.__proto__&&(j.h.__proto__=null,delete j.h.__proto__)};var M=function(){};y.HxOverrides=M;M.__name__=["HxOverrides"];M.dateStr=function(j){var a=j.getMonth()+1,b=j.getDate(),f=j.getHours(),g=j.getMinutes(),h=j.getSeconds();return j.getFullYear()+"-"+(10>a?"0"+a:""+a)+"-"+(10>b?"0"+b:""+b)+" "+(10>f?"0"+f:""+f)+":"+(10>g?"0"+g:""+g)+":"+(10>h?"0"+h:""+h)};M.strDate=function(j){switch(j.length){case 8:var j=j.split(":"),a=new Date;a.setTime(0);
a.setUTCHours(j[0]);a.setUTCMinutes(j[1]);a.setUTCSeconds(j[2]);return a;case 10:return j=j.split("-"),new Date(j[0],j[1]-1,j[2],0,0,0);case 19:return j=j.split(" "),a=j[0].split("-"),j=j[1].split(":"),new Date(a[0],a[1]-1,a[2],j[0],j[1],j[2]);default:throw"Invalid date format : "+j;}};M.cca=function(j,a){var b=j.charCodeAt(a);return b!=b?void 0:b};M.substr=function(j,a,b){if(null!=a&&0!=a&&null!=b&&0>b)return"";null==b&&(b=j.length);0>a?(a=j.length+a,0>a&&(a=0)):0>b&&(b=j.length+b-a);return j.substr(a,
b)};M.remove=function(j,a){for(var b=0,f=j.length;b<f;){if(j[b]==a)return j.splice(b,1),!0;b++}return!1};M.iter=function(j){return{cur:0,arr:j,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Ma=function(){};y.I32=Ma;Ma.__name__=["I32"];Ma.B4=function(j){return j>>>24&-1};Ma.B3=function(j){return j>>>16&255};Ma.B2=function(j){return j>>>8&255};Ma.B1=function(j){return j&255};Ma.abs=function(j){return Math.abs(j)|0};Ma.add=function(j,a){return j+
a};Ma.alphaFromArgb=function(j){return j>>>24&-1};Ma.and=function(j,a){return j&a};Ma.baseEncode=function(j,a){if(2>a||36<a)throw"radix out of range";for(var b="",f=Math.abs(j)|0;;){var g=f%a,b="0123456789abcdefghijklmnopqrstuvwxyz".charAt(g&-1)+b,f=(f-g)/a|0;if(0==f)break}return 0>j?"-"+b:b};Ma.complement=function(j){return~j};Ma.compare=function(j,a){return j-a};Ma.div=function(j,a){return j/a|0};Ma.encodeBE=function(j){var a=new Fb;a.b.push(j>>>24&-1);a.b.push(j>>>16&255);a.b.push(j>>>8&255);a.b.push(j&
255);return a.getBytes()};Ma.encodeLE=function(j){var a=new Fb;a.b.push(j&255);a.b.push(j>>>8&255);a.b.push(j>>>16&255);a.b.push(j>>>24&-1);return a.getBytes()};Ma.decodeBE=function(j,a){null==a&&(a=0);return j.b[a+3]+(j.b[a+2]<<8)+(j.b[a+1]<<16)+(j.b[a]<<24)};Ma.decodeLE=function(j,a){null==a&&(a=0);return j.b[a]+(j.b[a+1]<<8)+(j.b[a+2]<<16)+(j.b[a+3]<<24)};Ma.eq=function(j,a){return j==a};Ma.gt=function(j,a){return j>a};Ma.gteq=function(j,a){return j>=a};Ma.lt=function(j,a){return j<a};Ma.lteq=
function(j,a){return j<=a};Ma.make=function(j,a){return(j<<16)+a};Ma.makeColor=function(j,a){return j<<24|a&16777215};Ma.mod=function(j,a){return j%a};Ma.mul=function(j,a){return j*a};Ma.neg=function(j){return-j};Ma.ofInt=function(j){return j};Ma.or=function(j,a){return j|a};Ma.packBE=function(j){for(var a=new Fb,b=0,f=j.length;b<f;){var g=b++;a.b.push(j[g]>>>24&-1);a.b.push(j[g]>>>16&255);a.b.push(j[g]>>>8&255);a.b.push(j[g]&255)}return a.getBytes()};Ma.packLE=function(j){for(var a=new Fb,b=0,f=
j.length;b<f;){var g=b++;a.b.push(j[g]&255);a.b.push(j[g]>>>8&255);a.b.push(j[g]>>>16&255);a.b.push(j[g]>>>24&-1)}return a.getBytes()};Ma.rgbFromArgb=function(j){return j&16777215};Ma.sub=function(j,a){return j-a};Ma.shl=function(j,a){return j<<a};Ma.shr=function(j,a){return j>>a};Ma.toColor=function(j){return{alpha:j>>>24&-1,color:j&16777215}};Ma.toFloat=function(j){return 1*j};Ma.toInt=function(j){return j&-1};Ma.toNativeArray=function(j){return j};Ma.unpackLE=function(j){if(null==j||0==j.length)return[];
if(0!=j.length%4)throw"Buffer not multiple of 4 bytes";for(var a=[],b=0,f=0,g=j.length;b<g;)a[f]=Ma.decodeLE(j,b),b+=4,f++;return a};Ma.unpackBE=function(j){if(null==j||0==j.length)return[];if(0!=j.length%4)throw"Buffer not multiple of 4 bytes";for(var a=[],b=0,f=0;b<j.length;)a[f]=Ma.decodeBE(j,b),b+=4,f++;return a};Ma.ushr=function(j,a){return j>>>a};Ma.xor=function(j,a){return j^a};var Od=function(){this.h={}};y.IntHash=Od;Od.__name__=["IntHash"];Od.prototype={iterator:function(){return{ref:this.h,
it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref[this.it.next()]}}},keys:function(){var j=[],a;for(a in this.h)this.h.hasOwnProperty(a)&&j.push(a|0);return M.iter(j)},remove:function(j){if(!this.h.hasOwnProperty(j))return!1;delete this.h[j];return!0},exists:function(j){return this.h.hasOwnProperty(j)},get:function(j){return this.h[j]},set:function(j,a){this.h[j]=a},h:null,__class__:Od};var Fd=function(){};y.IntHashes=Fd;Fd.__name__=["IntHashes"];Fd.empty=
function(j){return 0==Fd.count(j)};Fd.count=function(j){for(var a=0,j=j.iterator();j.hasNext();)j.next(),a++;return a};Fd.clear=function(j){j.h={};null!=j.h.__proto__&&(j.h.__proto__=null,delete j.h.__proto__)};var Ce=function(j,a){this.min=j;this.max=a};y.IntIter=Ce;Ce.__name__=["IntIter"];Ce.prototype={max:null,min:null,__class__:Ce};var ka=function(){};y.Ints=ka;ka.__name__=["Ints"];ka.range=function(j,a,b){null==b&&(b=1);null==a&&(a=j,j=0);if((a-j)/b==Math.POSITIVE_INFINITY)throw new ba.Error("infinite range",
null,null,{fileName:"Ints.hx",lineNumber:19,className:"Ints",methodName:"range"});var f=[],g=-1,h;if(0>b)for(;(h=j+b*++g)>a;)f.push(h);else for(;(h=j+b*++g)<a;)f.push(h);return f};ka.sign=function(j){return 0>j?-1:1};ka.abs=function(j){return 0>j?-j:j};ka.min=function(j,a){return j<a?j:a};ka.max=function(j,a){return j>a?j:a};ka.wrap=function(j,a,b){return Math.round(V.wrap(j,a,b))};ka.clamp=function(j,a,b){return j<a?a:j>b?b:j};ka.clampSym=function(j,a){return j<-a?-a:j>a?a:j};ka.interpolate=function(j,
a,b,f){null==b&&(b=100);null==a&&(a=0);null==f&&(f=S.Equations.linear);return Math.round(a+f(j)*(b-a))};ka.interpolatef=function(j,a,b){null==a&&(a=1);null==j&&(j=0);null==b&&(b=S.Equations.linear);var f=a-j;return function(a){return Math.round(j+b(a)*f)}};ka.format=function(j,a,b,f){return ka.formatf(a,b,f)(j)};ka.formatf=function(j,a,b){return V.formatf(null,F.FormatParams.params(j,a,"I"),b)};ka.canParse=function(j){return ka._reparse.match(j)};ka.parse=function(j){"+"==M.substr(j,0,1)&&(j=M.substr(j,
1,null));return I.parseInt(j)};ka.compare=function(j,a){return j-a};var hc=function(){};y.Iterables=hc;hc.__name__=["Iterables"];hc.count=function(j){return ga.count(h(j)())};hc.indexOf=function(j,a,b){return ga.indexOf(h(j)(),a,b)};hc.contains=function(j,a,b){return ga.contains(h(j)(),a,b)};hc.array=function(j){return ga.array(h(j)())};hc.join=function(j,a){null==a&&(a=", ");return ga.array(h(j)()).join(a)};hc.map=function(j,a){return ga.map(h(j)(),a)};hc.each=function(j,a){return ga.each(h(j)(),
a)};hc.filter=function(j,a){return ga.filter(h(j)(),a)};hc.reduce=function(j,a,b){return ga.reduce(h(j)(),a,b)};hc.random=function(j){return T.random(ga.array(h(j)()))};hc.any=function(j,a){return ga.any(h(j)(),a)};hc.all=function(j,a){return ga.all(h(j)(),a)};hc.last=function(j){return ga.last(h(j)())};hc.lastf=function(j,a){return ga.lastf(h(j)(),a)};hc.first=function(j){return h(j)().next()};hc.firstf=function(j,a){return ga.firstf(h(j)(),a)};hc.order=function(j,a){return T.order(ga.array(h(j)()),
a)};hc.isIterable=function(j){var a=B.isObject(j)&&null==ea.getClass(j)?B.fields(j):ea.getInstanceFields(ea.getClass(j));return!ue.has(a,"iterator")?!1:B.isFunction(B.field(j,"iterator"))};var ga=function(){};y.Iterators=ga;ga.__name__=["Iterators"];ga.count=function(j){for(var a=0;j.hasNext();)j.next(),a++;return a};ga.indexOf=function(j,a,b){null==b&&(b=function(j){return a==j});for(var f=0;j.hasNext();){var g=j.next();if(b(g))return f;f++}return-1};ga.contains=function(j,a,b){for(null==b&&(b=function(j){return a==
j});j.hasNext();){var f=j.next();if(b(f))return!0}return!1};ga.array=function(j){for(var a=[];j.hasNext();){var b=j.next();a.push(b)}return a};ga.join=function(j,a){null==a&&(a=", ");return ga.array(j).join(a)};ga.map=function(j,a){for(var b=[],f=0;j.hasNext();){var g=j.next();b.push(a(g,f++))}return b};ga.each=function(j,a){for(var b=0;j.hasNext();){var f=j.next();a(f,b++)}};ga.filter=function(j,a){for(var b=[];j.hasNext();){var f=j.next();a(f)&&b.push(f)}return b};ga.reduce=function(j,a,b){for(var f=
0;j.hasNext();)var g=j.next(),b=a(b,g,f++);return b};ga.random=function(j){return T.random(ga.array(j))};ga.any=function(j,a){for(;j.hasNext();){var b=j.next();if(a(b))return!0}return!1};ga.all=function(j,a){for(;j.hasNext();){var b=j.next();if(!a(b))return!1}return!0};ga.last=function(j){for(var a=null;j.hasNext();)a=j.next();return a};ga.lastf=function(j,a){var b=ga.array(j);b.reverse();return T.lastf(b,a)};ga.first=function(j){return j.next()};ga.firstf=function(j,a){for(;j.hasNext();){var b=j.next();
if(a(b))return b}return null};ga.order=function(j,a){return T.order(ga.array(j),a)};ga.isIterator=function(j){var a=B.isObject(j)&&null==ea.getClass(j)?B.fields(j):ea.getInstanceFields(ea.getClass(j));return!ue.has(a,"next")||!ue.has(a,"hasNext")?!1:B.isFunction(B.field(j,"next"))&&B.isFunction(B.field(j,"hasNext"))};var ue=function(){};y.Lambda=ue;ue.__name__=["Lambda"];ue.has=function(j,a,b){if(null==b)for(b=h(j)();b.hasNext();){if(j=b.next(),j==a)return!0}else for(var f=h(j)();f.hasNext();)if(j=
f.next(),b(j,a))return!0;return!1};var De=function(){};y.List=De;De.__name__=["List"];De.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var j=this.h[0];this.h=this.h[1];return j}}},h:null,__class__:De};var Pa=function(){};y.Objects=Pa;Pa.__name__=["Objects"];Pa.field=function(j,a,b){return B.hasField(j,a)?B.field(j,a):b};Pa.keys=function(j){return B.fields(j)};Pa.values=function(j){for(var a=[],b=0,f=B.fields(j);b<
f.length;){var g=f[b];++b;a.push(B.field(j,g))}return a};Pa.entries=function(j){for(var a=[],b=0,f=B.fields(j);b<f.length;){var g=f[b];++b;a.push({key:g,value:B.field(j,g)})}return a};Pa.each=function(j,a){for(var b=0,f=B.fields(j);b<f.length;){var g=f[b];++b;a(g,B.field(j,g))}};Pa.map=function(j,a){for(var b=[],f=0,g=B.fields(j);f<g.length;){var h=g[f];++f;b.push(a(h,B.field(j,h)))}return b};Pa["with"]=function(j,a){a(j);return j};Pa.toHash=function(j){var a=new La;return Pa.copyToHash(j,a)};Pa.copyToHash=
function(j,a){for(var b=0,f=B.fields(j);b<f.length;){var g=f[b];++b;a.set(g,B.field(j,g))}return a};Pa.interpolate=function(j,a,b,f){return Pa.interpolatef(a,b,f)(j)};Pa.interpolatef=function(j,a){for(var b={},f={},g=B.fields(j),h=0;h<g.length;){var i=g[h];++h;if(B.hasField(a,i)){var k=B.field(j,i);b[i]=Na.interpolatef(k,B.field(a,i))}else f[i]=B.field(j,i)}g=B.fields(a);for(h=0;h<g.length;)i=g[h],++h,B.hasField(j,i)||(f[i]=B.field(a,i));return function(j){for(var a=0,qa=B.fields(b);a<qa.length;){var g=
qa[a];++a;f[g]=B.field(b,g).apply(b,[j])}return f}};Pa.copyTo=function(j,a){for(var b=0,f=B.fields(j);b<f.length;){var g=f[b];++b;var h=Na.clone(B.field(j,g)),i=B.field(a,g);B.isObject(h)&&null==ea.getClass(h)&&B.isObject(i)&&null==ea.getClass(i)?Pa.copyTo(h,i):a[g]=h}return a};Pa.clone=function(j){return Pa.copyTo(j,{})};Pa.mergef=function(j,a,b){for(var f=0,g=B.fields(a);f<g.length;){var h=g[f];++f;var i=B.field(a,h);if(B.hasField(j,h)){var k=B.field(j,h);j[h]=b(h,k,i)}else j[h]=i}};Pa.merge=function(j,
a){Pa.mergef(j,a,function(j,a,b){return b})};Pa._flatten=function(j,a,b,f,g){for(var h=0,i=B.fields(j);h<i.length;){var k=i[h];++h;var l=Pa.clone(a),m=B.field(j,k);l.fields.push(k);B.isObject(m)&&null==ea.getClass(m)&&(0==f||g+1<f)?Pa._flatten(m,l,b,f,g+1):(l.value=m,b.push(l))}};Pa.flatten=function(j,a){null==a&&(a=0);for(var b=[],f=0,g=B.fields(j);f<g.length;){var h=g[f];++f;var i=B.field(j,h);B.isObject(i)&&null==ea.getClass(i)&&1!=a?Pa._flatten(i,{fields:[h],value:null},b,a,1):b.push({fields:[h],
value:i})}return b};Pa.compare=function(j,a){var b,f;if(0!=(b=T.compare(f=B.fields(j),B.fields(a))))return b;for(var g=0;g<f.length;)if(b=f[g],++g,0!=(b=Na.compare(B.field(j,b),B.field(a,b))))return b;return 0};Pa.addFields=function(j,a,b){for(var f=0,g=a.length;f<g;){var h=f++;Pa.addField(j,a[h],b[h])}return j};Pa.addField=function(j,a,b){j[a]=b;return j};Pa.format=function(j,a,b,f){return Pa.formatf(a,b,f)(j)};Pa.formatf=function(j,a,b){a=F.FormatParams.params(j,a,"R");j=a.shift();switch(j){case "O":return function(j){return I.string(j)};
case "R":return function(j){for(var a=[],qa=0,f=B.fields(j);qa<f.length;){var g=f[qa];++qa;a.push(g+":"+Na.format(B.field(j,g),null,null,null,b))}return"{"+a.join(",")+"}"};default:throw new ba.Error("Unsupported number format: {0}",null,j,{fileName:"Objects.hx",lineNumber:242,className:"Objects",methodName:"formatf"});}};var B=function(){};y.Reflect=B;B.__name__=["Reflect"];B.hasField=function(j,a){return Object.prototype.hasOwnProperty.call(j,a)};B.field=function(j,a){var b=null;try{b=j[a]}catch(f){}return b};
B.fields=function(j){var a=[];if(null!=j){var b=Object.prototype.hasOwnProperty,f;for(f in j)b.call(j,f)&&a.push(f)}return a};B.isFunction=function(j){return"function"==typeof j&&!(j.__name__||j.__ename__)};B.compareMethods=function(j,a){return j==a?!0:!B.isFunction(j)||!B.isFunction(a)?!1:j.scope==a.scope&&j.method==a.method&&null!=j.method};B.isObject=function(j){if(null==j)return!1;var a=typeof j;return"string"==a||"object"==a&&!j.__enum__||"function"==a&&(j.__name__||j.__ename__)};B.deleteField=
function(j,a){if(!B.hasField(j,a))return!1;delete j[a];return!0};B.makeVarArgs=function(j){return function(){var a=Array.prototype.slice.call(arguments);return j(a)}};var I=function(){};y.Std=I;I.__name__=["Std"];I.string=function(j){return X.__string_rec(j,"")};I.parseInt=function(j){var a=parseInt(j,10);if(0==a&&(120==M.cca(j,1)||88==M.cca(j,1)))a=parseInt(j);return isNaN(a)?null:a};I.parseFloat=function(j){return parseFloat(j)};I.random=function(j){return 0>=j?0:Math.floor(Math.random()*j)};var Gc=
function(){this.b=""};y.StringBuf=Gc;Gc.__name__=["StringBuf"];Gc.prototype={toString:function(){return this.b},addSub:function(j,a,b){this.b+=M.substr(j,a,b)},addChar:function(j){this.b+=String.fromCharCode(j)},add:function(j){this.b+=I.string(j)},b:null,__class__:Gc};var aa=function(){};y.StringTools=aa;aa.__name__=["StringTools"];aa.urlEncode=function(j){return encodeURIComponent(j)};aa.urlDecode=function(j){return decodeURIComponent(j.split("+").join(" "))};aa.htmlEscape=function(j){return j.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};
aa.htmlUnescape=function(j){return j.split("&gt;").join(">").split("&lt;").join("<").split("&amp;").join("&")};aa.startsWith=function(j,a){return j.length>=a.length&&M.substr(j,0,a.length)==a};aa.endsWith=function(j,a){var b=a.length,f=j.length;return f>=b&&M.substr(j,f-b,b)==a};aa.isSpace=function(j,a){var b=M.cca(j,a);return 9<=b&&13>=b||32==b};aa.ltrim=function(j){for(var a=j.length,b=0;b<a&&aa.isSpace(j,b);)b++;return 0<b?M.substr(j,b,a-b):j};aa.rtrim=function(j){for(var a=j.length,b=0;b<a&&aa.isSpace(j,
a-b-1);)b++;return 0<b?M.substr(j,0,a-b):j};aa.trim=function(j){return aa.ltrim(aa.rtrim(j))};aa.rpad=function(j,a,b){for(var f=j.length,g=a.length;f<b;)b-f<g?(j+=M.substr(a,0,b-f),f=b):(j+=a,f+=g);return j};aa.lpad=function(j,a,b){var f="",g=j.length;if(g>=b)return j;for(var h=a.length;g<b;)b-g<h?(f+=M.substr(a,0,b-g),g=b):(f+=a,g+=h);return f+j};aa.replace=function(j,a,b){return j.split(a).join(b)};aa.hex=function(j,a){var b="";do b="0123456789ABCDEF".charAt(j&15)+b,j>>>=4;while(0<j);if(null!=a)for(;b.length<
a;)b="0"+b;return b};aa.fastCodeAt=function(j,a){return M.cca(j,a)};aa.isEOF=function(j){return j!=j};aa.replaceRecurse=function(j,a,b){if(0==a.length)return aa.replace(j,a,b);if(0<=b.indexOf(a))throw"Infinite recursion";for(var j=j.toString(),f=0,g=j.length;f!=g;)f=j.length,aa.replace(j,a,b),g=j.length;return j};aa.stripWhite=function(j){for(var a=j.length,b=0,f=new Gc;b<a;)aa.isSpace(j,b)||(f.b+=I.string(j.charAt(b))),b++;return f.b};aa.isNum=function(j,a){var b=M.cca(j,a);return 48<=b&&57>=b};
aa.isAlpha=function(j,a){var b=M.cca(j,a);return 65<=b&&90>=b||97<=b&&122>=b};aa.num=function(j,a){var b=M.cca(j,a);return 0<b?(b-=48,0>b||9<b?null:b):null};aa.splitLines=function(j){for(var j=j.split("\n"),a=0,b=j.length;a<b;){var f=a++,g=j[f];"\r"==M.substr(g,-1,1)&&(j[f]=M.substr(g,0,-1))}return j};var W=function(){};y.Strings=W;W.__name__=["Strings"];W.format=function(j,a,b,f){null==b&&(b="null");return null==a||0==a.length?j:W.formatf(j,b,f)(a)};W.formatf=function(j,a,b){null==a&&(a="null");
for(var f=[];;){if(!W._reFormat.match(j)){f.push(function(){return function(){return j}}());break}var g=I.parseInt(W._reFormat.matched(1)),h=W._reFormat.matched(2);""==h&&(h=null);for(var i=null,k=[],l=3;20>l;){i=l++;i=W._reFormat.matched(i);if(null==i||""==i)break;k.push(F.FormatParams.cleanQuotes(i))}l=[W._reFormat.matchedLeft()];f.push(function(j){return function(){return j[0]}}(l));h=[Na.formatf(h,k,a,b)];f.push(function(){return function(j,a){return function(b){return j(a,b)}}}()(function(j){return function(a,
b){return j[0](b[a])}}(h),g));j=W._reFormat.matchedRight()}return function(j){null==j&&(j=[]);return f.map(function(a){return a(j)}).join("")}};W.formatOne=function(j,a,b,f){return W.formatOnef(a,b,f)(j)};W.formatOnef=function(j,a){var a=F.FormatParams.params(j,a,"S"),b=a.shift();switch(b){case "S":return function(j){return j};case "T":return b=1>a.length?20:I.parseInt(a[0]),W.ellipsisf(b,2>a.length?"...":a[1]);case "PR":var f=1>a.length?10:I.parseInt(a[0]),g=2>a.length?" ":a[1];return function(j){return aa.rpad(j,
g,f)};case "PL":var h=1>a.length?10:I.parseInt(a[0]),i=2>a.length?" ":a[1];return function(j){return aa.lpad(j,i,h)};default:throw"Unsupported string format: "+b;}};W.upTo=function(j,a){var b=j.indexOf(a);return 0>b?j:M.substr(j,0,b)};W.startFrom=function(j,a){var b=j.indexOf(a);return 0>b?j:M.substr(j,b+a.length,null)};W.rtrim=function(j,a){for(var b=j.length;0<b;){var f=M.substr(j,b-1,1);if(0>a.indexOf(f))break;b--}return M.substr(j,0,b)};W.ltrim=function(j,a){for(var b=0;b<j.length;){var f=M.substr(j,
b,1);if(0>a.indexOf(f))break;b++}return M.substr(j,b,null)};W.trim=function(j,a){return W.rtrim(W.ltrim(j,a),a)};W.collapse=function(j){return W._reCollapse.replace(aa.trim(j)," ")};W.ucfirst=function(j){return null==j?null:j.charAt(0).toUpperCase()+M.substr(j,1,null)};W.lcfirst=function(j){return null==j?null:j.charAt(0).toLowerCase()+M.substr(j,1,null)};W.empty=function(j){return null==j||""==j};W.isAlphaNum=function(j){return null==j?!1:W.__alphaNumPattern.match(j)};W.digitsOnly=function(j){return null==
j?!1:W.__digitsPattern.match(j)};W.ucwords=function(j){return W.__ucwordsPattern.customReplace(null==j?null:j.charAt(0).toUpperCase()+M.substr(j,1,null),W.__upperMatch)};W.ucwordsws=function(j){return W.__ucwordswsPattern.customReplace(null==j?null:j.charAt(0).toUpperCase()+M.substr(j,1,null),W.__upperMatch)};W.__upperMatch=function(j){return j.matched(0).toUpperCase()};W.humanize=function(j){return aa.replace(W.underscore(j),"_"," ")};W.capitalize=function(j){return M.substr(j,0,1).toUpperCase()+
M.substr(j,1,null)};W.succ=function(j){return M.substr(j,0,-1)+String.fromCharCode(M.cca(M.substr(j,-1,null),0)+1)};W.underscore=function(j){j=(new xa("::","g")).replace(j,"/");j=(new xa("([A-Z]+)([A-Z][a-z])","g")).replace(j,"$1_$2");j=(new xa("([a-z\\d])([A-Z])","g")).replace(j,"$1_$2");j=(new xa("-","g")).replace(j,"_");return j.toLowerCase()};W.dasherize=function(j){return aa.replace(j,"_","-")};W.repeat=function(j,a){for(var b=[],f=0;f<a;)f++,b.push(j);return b.join("")};W.wrapColumns=function(j,
a,b,f){null==f&&(f="\n");null==b&&(b="");null==a&&(a=78);for(var j=W._reSplitWC.split(j),g=[],h=0;h<j.length;){var i=j[h];++h;g.push(W._wrapColumns(aa.trim(W._reReduceWS.replace(i," ")),a,b,f))}return g.join(f)};W._wrapColumns=function(j,a,b,f){for(var g=[],h=0,i=j.length,k=b.length,a=a-k;;){if(h+a>=i-k){g.push(M.substr(j,h,null));break}for(var l=0;!aa.isSpace(j,h+a-l)&&l<a;)l++;if(l==a){for(l=0;!aa.isSpace(j,h+a+l)&&h+a+l<i;)l++;g.push(M.substr(j,h,a+l));h+=a+l+1}else g.push(M.substr(j,h,a-l)),h+=
a-l+1}return b+g.join(f+b)};W.stripTags=function(j){return W._reStripTags.replace(j,"")};W.interpolate=function(j,a,b,f){return W.interpolatef(a,b,f)(j)};W.interpolatef=function(j,a,b){var f=function(j,a,b){for(;W._reInterpolateNumber.match(j);)j=W._reInterpolateNumber.matchedLeft(),W.empty(j)||(a.push(j),b.push(null)),a.push(null),b.push(I.parseFloat(W._reInterpolateNumber.matched(0))),j=W._reInterpolateNumber.matchedRight();W.empty(j)||(a.push(j),b.push(null))},g=function(j){var j=""+j,a=j.indexOf(".");
return 0>a?0:j.length-a-1},h=[],i=[],k=[],l=[];f(j,h,i);f(a,k,l);for(var m=[],j=0,a=ka.min(h.length,k.length);j<a&&h[j]==k[j];){if(null==h[j])if(i[j]==l[j])m.push(function(j){return function(){return j[0]}}([""+i[j]]));else{var f=[V.interpolatef(i[j],l[j],b)],p=[Math.pow(10,ka.max(g(i[j]),g(l[j])))];m.push(function(j,a){return function(b){return""+Math.round(a[0](b)*j[0])/j[0]}}(p,f))}else m.push(function(j){return function(){return j[0]}}([h[j]]));j++}for(var r="";j<k.length;)r=null!=k[j]?r+k[j]:
r+l[j],j++;""!=r&&m.push(function(){return r});return function(j){return m.map(function(a){return a(j)}).join("")}};W.interpolateChars=function(j,a,b,f){return W.interpolateCharsf(a,b,f)(j)};W.interpolateCharsf=function(j,a){for(var b=j.split(""),f=a.split("");b.length>f.length;)f.splice(0,0," ");for(;f.length>b.length;)b.splice(0,0," ");for(var g=[],h=0,i=b.length;h<i;){var k=h++;g[k]=W.interpolateCharf(b[k],f[k])}return function(j){for(var a=[],b=0,qa=g.length;b<qa;){var f=b++;a[f]=g[f](j)}return aa.trim(a.join(""))}};
W.interpolateChar=function(j,a,b,f){return W.interpolateCharf(a,b,f)(j)};W.interpolateCharf=function(j,a,b){(new xa("^\\d","")).match(a)&&" "==j&&(j="0");var f=new xa("^[^a-zA-Z0-9]","");f.match(a)&&" "==j&&(j=f.matched(0));var j=M.cca(j,0),a=M.cca(a,0),g=ka.interpolatef(j,a,b);return function(j){return String.fromCharCode(g(j))}};W.ellipsis=function(j,a,b){null==b&&(b="...");null==a&&(a=20);return j.length>a?M.substr(j,0,ka.max(b.length,a-b.length))+b:j};W.ellipsisf=function(j,a){null==a&&(a="...");
null==j&&(j=20);return function(b){return b.length>j?M.substr(b,0,ka.max(a.length,j-a.length))+a:b}};W.compare=function(j,a){return j<a?-1:j>a?1:0};var cb={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" "),TNull:["TNull",0]};cb.TNull.toString=N;cb.TNull.__enum__=cb;cb.TInt=["TInt",1];cb.TInt.toString=N;cb.TInt.__enum__=cb;cb.TFloat=["TFloat",2];cb.TFloat.toString=N;cb.TFloat.__enum__=cb;cb.TBool=["TBool",3];cb.TBool.toString=N;cb.TBool.__enum__=
cb;cb.TObject=["TObject",4];cb.TObject.toString=N;cb.TObject.__enum__=cb;cb.TFunction=["TFunction",5];cb.TFunction.toString=N;cb.TFunction.__enum__=cb;cb.TClass=function(j){j=["TClass",6,j];j.__enum__=cb;j.toString=N;return j};cb.TEnum=function(j){j=["TEnum",7,j];j.__enum__=cb;j.toString=N;return j};cb.TUnknown=["TUnknown",8];cb.TUnknown.toString=N;cb.TUnknown.__enum__=cb;var ea=function(){};y.Type=ea;ea.__name__=["Type"];ea.getClass=function(j){return null==j?null:j.__class__};ea.getEnum=function(j){return null==
j?null:j.__enum__};ea.getSuperClass=function(j){return j.__super__};ea.getClassName=function(j){return j.__name__.join(".")};ea.getEnumName=function(j){return j.__ename__.join(".")};ea.resolveClass=function(j){j=y[j];return null==j||!j.__name__?null:j};ea.createInstance=function(j,a){switch(a.length){case 0:return new j;case 1:return new j(a[0]);case 2:return new j(a[0],a[1]);case 3:return new j(a[0],a[1],a[2]);case 4:return new j(a[0],a[1],a[2],a[3]);case 5:return new j(a[0],a[1],a[2],a[3],a[4]);
case 6:return new j(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new j(a[0],a[1],a[2],a[3],a[4],a[5],a[6]);case 8:return new j(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]);default:throw"Too many arguments";}};ea.createEmptyInstance=function(j){function a(){}a.prototype=j.prototype;return new a};ea.createEnum=function(j,a,b){var f=B.field(j,a);if(null==f)throw"No such constructor "+a;if(B.isFunction(f)){if(null==b)throw"Constructor "+a+" need parameters";return f.apply(j,b)}if(null!=b&&0!=b.length)throw"Constructor "+
a+" does not need parameters";return f};ea.getInstanceFields=function(j){var a=[],b;for(b in j.prototype)a.push(b);M.remove(a,"__class__");M.remove(a,"__properties__");return a};ea["typeof"]=function(j){switch(typeof j){case "boolean":return cb.TBool;case "string":return cb.TClass(String);case "number":return Math.ceil(j)==j%2147483648?cb.TInt:cb.TFloat;case "object":if(null==j)return cb.TNull;var a=j.__enum__;if(null!=a)return cb.TEnum(a);j=j.__class__;return null!=j?cb.TClass(j):cb.TObject;case "function":return j.__name__||
j.__ename__?cb.TObject:cb.TFunction;case "undefined":return cb.TNull;default:return cb.TUnknown}};ea.enumEq=function(j,a){if(j==a)return!0;try{if(j[0]!=a[0])return!1;for(var b=2,f=j.length;b<f;){var g=b++;if(!ea.enumEq(j[g],a[g]))return!1}var h=j.__enum__;if(h!=a.__enum__||null==h)return!1}catch(i){return!1}return!0};var uc=function(){};y.Types=uc;uc.__name__=["Types"];uc.className=function(j){return ea.getClassName(ea.getClass(j)).split(".").pop()};uc.fullName=function(j){return ea.getClassName(ea.getClass(j))};
uc.typeName=function(j){var a,j=ea["typeof"](j);switch(j[1]){case 0:a="null";break;case 1:a="Int";break;case 2:a="Float";break;case 3:a="Bool";break;case 5:a="function";break;case 6:a=ea.getClassName(j[2]);break;case 7:a=ea.getEnumName(j[2]);break;case 4:a="Object";break;case 8:a="Unknown"}return a};uc.hasSuperClass=function(j,a){for(;null!=j;){if(j==a)return!0;j=ea.getSuperClass(j)}return!1};uc.isAnonymous=function(j){return B.isObject(j)&&null==ea.getClass(j)};uc.as=function(j,a){return X.__instanceof(j,
a)?j:null};uc.ifIs=function(j,a,b){X.__instanceof(j,a)&&b(j);return j};uc.of=function(j,a){return X.__instanceof(a,j)?a:null};uc.sameType=function(j,a){if(null==j&&null==a)return!0;if(null==j||null==a)return!1;var b=ea["typeof"](a);switch(b[1]){case 6:return X.__instanceof(j,b[2]);case 7:return X.__instanceof(j,b[2]);default:return ea["typeof"](j)==b}};uc.isPrimitive=function(j){var a,j=ea["typeof"](j);switch(j[1]){case 0:case 1:case 2:case 3:a=!0;break;case 5:case 7:case 4:case 8:a=!1;break;case 6:a=
"String"==ea.getClassName(j[2])}return a};yd=Ha=qb=Yc=Da=Z=void 0;Da={IBlockCipher:function(){}};y["chx.crypt.IBlockCipher"]=Da.IBlockCipher;Da.IBlockCipher.__name__=["chx","crypt","IBlockCipher"];Da.IBlockCipher.prototype={decryptBlock:null,encryptBlock:null,blockSize:null,__class__:Da.IBlockCipher};Da.IPad=function(){};y["chx.crypt.IPad"]=Da.IPad;Da.IPad.__name__=["chx","crypt","IPad"];Da.IPad.prototype={getBytesReadPerBlock:null,blockOverhead:null,calcNumBlocks:null,isBlockPad:null,unpad:null,
pad:null,blockSize:null,__class__:Da.IPad};Da.PadPkcs1Type1=function(j){this.blockSize=j;this.setPadCount(8);this.typeByte=1;this.setPadByte(255)};y["chx.crypt.PadPkcs1Type1"]=Da.PadPkcs1Type1;Da.PadPkcs1Type1.__name__=["chx","crypt","PadPkcs1Type1"];Da.PadPkcs1Type1.__interfaces__=[Da.IPad];Da.PadPkcs1Type1.prototype={setPadByte:function(j){this.padByte=j&255;return j},getPadByte:function(){return this.padByte},setBlockSize:function(j){this.blockSize=j;this.textSize=j-3-this.padCount;if(0>=this.textSize)throw"Block size "+
j+" to small for Pkcs1 with padCount "+this.padCount;return j},setPadCount:function(j){if(j+3>=this.blockSize)throw"Internal padding size exceeds crypt block size";this.padCount=j;this.textSize=this.blockSize-3-this.padCount;return j},blockOverhead:function(){return 3+this.padCount},isBlockPad:function(){return!0},calcNumBlocks:function(j){return Math.ceil(j/this.textSize)},unpad:function(j){for(var a=0,b=new Fb;a<j.length;){for(;a<j.length&&0==j.b[a];)++a;if(0>j.length-a-3-this.padCount)throw"Unexpected short message";
if(j.b[a]!=this.typeByte)throw"Expected marker "+this.typeByte+" at position "+a+" ["+fb.hexDump(j)+"]";if(++a>=j.length)break;for(;a<j.length&&0!=j.b[a];)++a;a++;for(var f=0;a<j.length&&f++<this.textSize;)b.b.push(j.b[a++])}return b.getBytes()},pad:function(j){if(j.length>this.textSize)throw"Unable to pad block: provided buffer is "+j.length+" max is "+this.textSize;var a=new Fb;a.b.push(0);a.b.push(this.typeByte);for(var b=this.blockSize-j.length-3;0<b--;)a.b.push(this.getPadByte());a.b.push(0);
a.add(j);return a.getBytes()},getBytesReadPerBlock:function(){return this.textSize},typeByte:null,padCount:null,padByte:null,textSize:null,blockSize:null,__class__:Da.PadPkcs1Type1,__properties__:{set_blockSize:"setBlockSize",set_padByte:"setPadByte",get_padByte:"getPadByte"}};Da.PadPkcs1Type2=function(j){Da.PadPkcs1Type1.call(this,j);this.typeByte=2;this.rng=new Jb.Random};y["chx.crypt.PadPkcs1Type2"]=Da.PadPkcs1Type2;Da.PadPkcs1Type2.__name__=["chx","crypt","PadPkcs1Type2"];Da.PadPkcs1Type2.__interfaces__=
[Da.IPad];Da.PadPkcs1Type2.__super__=Da.PadPkcs1Type1;Da.PadPkcs1Type2.prototype=g(Da.PadPkcs1Type1.prototype,{getPadByte:function(){for(var j=0;0==j;)j=this.rng.next();return j},rng:null,__class__:Da.PadPkcs1Type2});Da.RSAEncrypt=function(j,a){this.init();null!=j&&this.setPublic(j,a)};y["chx.crypt.RSAEncrypt"]=Da.RSAEncrypt;Da.RSAEncrypt.__name__=["chx","crypt","RSAEncrypt"];Da.RSAEncrypt.__interfaces__=[Da.IBlockCipher];Da.RSAEncrypt.prototype={toString:function(){var j=new Gc;j.b+="Public:\n";
j.b+=I.string("N:\t"+this.n.toHex()+"\n");j.b+=I.string("E:\t"+D.ofInt(this.e).toHex()+"\n");return j.b},__getBlockSize:function(){return null==this.n?0:this.n.bitLength()+7>>3},doPublic:function(j){return j.modPowInt(this.e,this.n)},doBufferDecrypt:function(j,a,b){for(var f=this.__getBlockSize(),g=f-11,h=0,i=new Fb;h<j.length;){h+f>j.length&&(f=j.length-h);var k=D.ofBytes(j.sub(h,f),!0),k=a(k);if(null==k)return null;k=b.unpad(k.toBytesUnsigned());if(k.length>g)throw"block text length error";i.add(k);
h+=f}return i.getBytes()},doBufferEncrypt:function(j,a,b){for(var f=this.__getBlockSize()-11,g=0,h=new Fb;g<j.length;){g+f>j.length&&(f=j.length-g);var i=D.ofBytes(b.pad(j.sub(g,f)),!0),i=a(i).toBytesUnsigned();0!=(i.length&1)&&h.b.push(0);h.add(i);g+=f}return h.getBytes()},verify:function(j){return this.doBufferDecrypt(j,a(this,this.doPublic),new Da.PadPkcs1Type1(this.__getBlockSize()))},setPublic:function(j,a){this.init();if(null==j||0==j.length)throw new Z.NullPointerException("nHex not set: "+
j);if(null==a||0==a.length)throw new Z.NullPointerException("eHex not set: "+a);var b=fb.cleanHexFormat(j);this.n=D.ofString(b,16);if(null==this.n)throw 2;b=I.parseInt("0x"+fb.cleanHexFormat(a));if(null==b||0==b)throw 3;this.e=b},encyptText:function(j){return fb.toHex(this.encrypt(lb.ofString(j)),":")},encryptBlock:function(j){var a=this.__getBlockSize();if(j.length!=a)throw"bad block size";for(var j=this.doPublic(D.ofBytes(j,!0)).toBytesUnsigned(),b=j.length,f=0;b>a;){if(0!=j.b[f])throw new Z.FatalException("encoded length was "+
j.length);f++;b--}0!=f&&(j=j.sub(f,b));if(j.length<a){f=new Fb;b=a-j.length;for(a=0;a<b;)a++,f.b.push(0);f.addBytes(j,0,j.length);j=f.getBytes()}return j},encrypt:function(j){return this.doBufferEncrypt(j,a(this,this.doPublic),new Da.PadPkcs1Type2(this.__getBlockSize()))},decryptBlock:function(){throw"Not a private key";},init:function(){this.n=null;this.e=0},blockSize:null,e:null,n:null,__class__:Da.RSAEncrypt,__properties__:{get_blockSize:"__getBlockSize"}};Da.RSA=function(j,a,b){Da.RSAEncrypt.call(this,
null,null);this.init();null!=j&&this.setPrivate(j,a,b)};y["chx.crypt.RSA"]=Da.RSA;Da.RSA.__name__=["chx","crypt","RSA"];Da.RSA.__interfaces__=[Da.IBlockCipher];Da.RSA.generate=function(j,a){var b=new Jb.Random,f=new Da.RSA,g=j>>1;f.e=I.parseInt(aa.startsWith(a,"0x")?a:"0x"+a);for(var h=D.ofInt(f.e);;){f.p=D.randomPrime(j-g,h,10,!0,b);f.q=D.randomPrime(g,h,10,!0,b);if(0>=f.p.compare(f.q)){var i=f.p;f.p=f.q;f.q=i}var i=f.p.sub(D.getONE()),k=f.q.sub(D.getONE()),l=i.mul(k);if(0==l.gcd(h).compare(D.getONE())){f.n=
f.p.mul(f.q);f.d=h.modInverse(l);f.dmp1=f.d.mod(i);f.dmq1=f.d.mod(k);f.coeff=f.q.modInverse(f.p);break}}return f};Da.RSA.__super__=Da.RSAEncrypt;Da.RSA.prototype=g(Da.RSAEncrypt.prototype,{toString:function(){var j=new Gc;j.b+=I.string(Da.RSAEncrypt.prototype.toString.call(this));j.b+="Private:\n";j.b+=I.string("D:\t"+this.d.toHex()+"\n");null!=this.p&&(j.b+=I.string("P:\t"+this.p.toHex()+"\n"));null!=this.q&&(j.b+=I.string("Q:\t"+this.q.toHex()+"\n"));null!=this.dmp1&&(j.b+=I.string("DMP1:\t"+this.dmp1.toHex()+
"\n"));null!=this.dmq1&&(j.b+=I.string("DMQ1:\t"+this.dmq1.toHex()+"\n"));null!=this.coeff&&(j.b+=I.string("COEFF:\t"+this.coeff.toHex()+"\n"));return j.b},doPrivate:function(j){if(null==this.p||null==this.q)return j.modPow(this.d,this.n);for(var a=j.mod(this.p).modPow(this.dmp1,this.p),j=j.mod(this.q).modPow(this.dmq1,this.q);0>a.compare(j);)a=a.add(this.p);return a.sub(j).mul(this.coeff).mod(this.p).mul(this.q).add(j)},recalcCRT:function(){null!=this.p&&null!=this.q&&(null==this.dmp1&&(this.dmp1=
this.d.mod(this.p.sub(D.getONE()))),null==this.dmq1&&(this.dmq1=this.d.mod(this.q.sub(D.getONE()))),null==this.coeff&&(this.coeff=this.q.modInverse(this.p)))},setPrivateEx:function(j,a,b,f,g,h,i,k){this.init();this.setPrivate(j,a,b);if(null!=f&&null!=g)this.p=D.ofString(fb.cleanHexFormat(f),16),this.q=D.ofString(fb.cleanHexFormat(g),16),this.coeff=this.dmq1=this.dmp1=null,null!=h&&(this.dmp1=D.ofString(fb.cleanHexFormat(h),16)),null!=i&&(this.dmq1=D.ofString(fb.cleanHexFormat(i),16)),null!=k&&(this.coeff=
D.ofString(fb.cleanHexFormat(k),16)),this.recalcCRT();else throw"Invalid RSA private key ex";},setPrivate:function(j,a,b){this.init();Da.RSAEncrypt.prototype.setPublic.call(this,j,a);if(null!=b&&0<b.length)j=fb.cleanHexFormat(b),this.d=D.ofString(j,16);else throw"Invalid RSA private key";},sign:function(j){return this.doBufferEncrypt(j,a(this,this.doPrivate),new Da.PadPkcs1Type1(this.__getBlockSize()))},decryptText:function(j){return this.decrypt(fb.ofHex(fb.cleanHexFormat(j)))},decryptBlock:function(j){j=
this.doPrivate(D.ofBytes(j,!0));if(null==j)throw"doPrivate error";j=j.toBytesUnsigned();if(j.length<this.__getBlockSize()){for(var a=lb.alloc(this.__getBlockSize()),b=0,f=this.__getBlockSize()-j.length+1;b<f;){var g=b++;a.b[g]=0}a.blit(this.__getBlockSize()-j.length,j,0,j.length);j=a}else for(;j.length>this.__getBlockSize();){a=j.length-this.__getBlockSize();for(f=0;f<a;)if(g=f++,0!=j.b[g])throw"decryptBlock length error";j=j.sub(a,this.__getBlockSize())}return j},decrypt:function(j){return this.doBufferDecrypt(j,
a(this,this.doPrivate),new Da.PadPkcs1Type2(this.__getBlockSize()))},init:function(){Da.RSAEncrypt.prototype.init.call(this);this.coeff=this.dmq1=this.dmp1=this.q=this.p=this.d=null},coeff:null,dmq1:null,dmp1:null,q:null,p:null,d:null,__class__:Da.RSA});Yc={Base64:function(){}};y["chx.formats.Base64"]=Yc.Base64;Yc.Base64.__name__=["chx","formats","Base64"];Yc.Base64.encode=function(j){var a;switch(j.length%3){case 1:a="==";break;case 2:a="=";break;case 0:a=""}null==Yc.Base64.enc&&(Yc.Base64.enc=new dd(lb.ofString("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")));
return Yc.Base64.enc.encodeBytes(j).toString()+a};Yc.Base64.decode=function(j){j=aa.stripWhite(j);j=aa.replace(j,"=","");null==Yc.Base64.enc&&(Yc.Base64.enc=new dd(lb.ofString("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")));var a;try{a=Yc.Base64.enc.decodeBytes(lb.ofString(j))}catch(b){a=null}return a};qb={Input:function(){}};y["chx.io.Input"]=qb.Input;qb.Input.__name__=["chx","io","Input"];qb.Input.prototype={__setEndian:function(j){return this.bigEndian=j},__getBytesAvailable:function(){throw new Z.FatalException("Not implemented");
},readMultiByteString:function(j,a){var b=a.toLowerCase();switch(b){case "latin1":break;case "us-ascii":break;default:throw new Z.UnsupportedException(b+" not supported");}return this.readString(j)},readUTF:function(){return this.readString(this.readUInt16())},readString:function(j){var a=lb.alloc(j);this.readFullBytes(a,0,j);return a.toString()},readInt32:function(){var j=this.readByte(),a=this.readByte(),b=this.readByte(),f=this.readByte();return this.bigEndian?(j<<8|a)<<16|b<<8|f:(f<<8|b)<<16|
a<<8|j},readUInt30:function(){var j=this.readByte(),a=this.readByte(),b=this.readByte(),f=this.readByte();if(64<=(this.bigEndian?j:f))throw new Z.OverflowException;return this.bigEndian?f|b<<8|a<<16|j<<24:j|a<<8|b<<16|f<<24},readInt31:function(){var j,a,b,f;this.bigEndian?(f=this.readByte(),b=this.readByte(),a=this.readByte(),j=this.readByte()):(j=this.readByte(),a=this.readByte(),b=this.readByte(),f=this.readByte());if(0==(f&128)!=(0==(f&64)))throw new Z.OverflowException;return j|a<<8|b<<16|f<<
24},readUInt24:function(){var j=this.readByte(),a=this.readByte(),b=this.readByte();return this.bigEndian?b|a<<8|j<<16:j|a<<8|b<<16},readInt24:function(){var j=this.readByte(),a=this.readByte(),b=this.readByte(),j=this.bigEndian?b|a<<8|j<<16:j|a<<8|b<<16;return 0!=(j&8388608)?j-16777216:j},readUInt16:function(){var j=this.readByte(),a=this.readByte();return this.bigEndian?a|j<<8:j|a<<8},readInt16:function(){var j=this.readByte(),a=this.readByte(),j=this.bigEndian?a|j<<8:j|a<<8;return 0!=(j&32768)?
j-65536:j},readUInt8:function(){return this.readByte()},readInt8:function(){var j=this.readByte();return 128<=j?j-256:j},readDouble:function(){return gb.bytesToFloat(this.read(8),this.bigEndian)},readFloat:function(){return gb.bytesToFloat(this.read(4),this.bigEndian)},readLine:function(){var j=new Gc,a,b;try{for(;10!=(a=this.readByte());)j.b+=String.fromCharCode(a);b=j.b;13==M.cca(b,b.length-1)&&(b=M.substr(b,0,-1))}catch(f){if(X.__instanceof(f,Z.EofException)){if(b=j.b,0==b.length)throw f;}else throw f;
}return b},readUntil:function(j){for(var a=new Gc,b;(b=this.readByte())!=j;)a.b+=String.fromCharCode(b);return a.b},read:function(j){for(var a=lb.alloc(j),b=0;0<j;){var f=this.readBytes(a,b,j);if(0==f)throw new Z.BlockedException;b+=f;j-=f}return a},readFullBytes:function(j,a,b){for(;0<b;)var f=this.readBytes(j,a,b),a=a+f,b=b-f},readAll:function(j){null==j&&(j=16384);var a=lb.alloc(j),b=new Fb;try{for(;;){var f=this.readBytes(a,0,j);if(0==f)throw new Z.BlockedException;b.addBytes(a,0,f)}}catch(g){if(!X.__instanceof(g,
Z.EofException))throw g;}return b.getBytes()},close:function(){},isEof:function(){throw new Z.UnsupportedException("Not implemented for this input type");},readBytes:function(j,a,b){var f=b,g=j.b;if(0>a||0>b||a+b>j.length)throw new Z.OutsideBoundsException;for(;0<f;)g[a]=this.readByte(),a++,f--;return b},readByte:function(){throw new Z.FatalException("Not implemented");},bigEndian:null,bytesAvailable:null,__class__:qb.Input,__properties__:{get_bytesAvailable:"__getBytesAvailable",set_bigEndian:"__setEndian"}};
qb.BytesInput=function(j,a,b){null==a&&(a=0);null==b&&(b=j.length-a);if(0>a||0>b||a+b>j.length)throw new Z.OutsideBoundsException;this.b=j.b;this.pos=a;this.len=b;this.__setEndian(!1)};y["chx.io.BytesInput"]=qb.BytesInput;qb.BytesInput.__name__=["chx","io","BytesInput"];qb.BytesInput.__super__=qb.Input;qb.BytesInput.prototype=g(qb.Input.prototype,{getPosition:function(){return this.pos},setPosition:function(j){this.len+=this.getPosition()-j;return this.pos=j},peek:function(j){null==j&&(j=this.getPosition());
var a=this.getPosition();this.setPosition(j);j=this.readByte();this.setPosition(a);return j},__getBytesAvailable:function(){return 0<=this.len?this.len:0},readBytes:function(j,a,b){if(0>a||0>b||a+b>j.length)throw new Z.OutsideBoundsException;if(0==this.len&&0<b)throw new Z.EofException;this.len<b&&(b=this.len);for(var f=this.b,j=j.b,g=0;g<b;){var h=g++;j[a+h]=f[this.pos+h]}this.pos+=b;this.len-=b;return b},readByte:function(){if(0==this.len)throw new Z.EofException;this.len--;return this.b[this.pos++]},
getBytesCopy:function(){var j=this.getPosition(),a=null,a=lb.ofData(this.b.slice(0,this.b.length));this.setPosition(j);return a},len:null,pos:null,b:null,__class__:qb.BytesInput,__properties__:g(qb.Input.prototype.__properties__,{set_position:"setPosition",get_position:"getPosition"})});qb.Output=function(){};y["chx.io.Output"]=qb.Output;qb.Output.__name__=["chx","io","Output"];qb.Output.prototype={toString:function(){return ea.getClassName(ea.getClass(this))},printf:function(j,a,b){null==b&&(b=!1);
j=Ha.Sprintf.format(j,a);b?this.writeUTF(j):this.writeString(j);return this},writeUTF:function(j){if(65535<j.length)throw new Z.OverflowException;this.writeUInt16(j.length);this.writeString(j);return this},writeString:function(j){j=lb.ofString(j);this.writeFullBytes(j,0,j.length);return this},writeInput:function(j,a){null==a&&(a=4096);var b=lb.alloc(a);try{for(;;){var f=j.readBytes(b,0,a);if(0==f)throw new Z.BlockedException;for(var g=0;0<f;){var h=this.writeBytes(b,g,f);if(0==h)throw new Z.BlockedException;
g+=h;f-=h}}}catch(i){if(!X.__instanceof(i,Z.EofException))throw i;}return this},prepare:function(){return this},writeInt32:function(j){this.bigEndian?(this.writeByte(Kb.toInt(j>>>24)),this.writeByte(Kb.toInt(j>>>16)&255),this.writeByte(Kb.toInt(j>>>8)&255),this.writeByte(Kb.toInt(j&255))):(this.writeByte(Kb.toInt(j&255)),this.writeByte(Kb.toInt(j>>>8)&255),this.writeByte(Kb.toInt(j>>>16)&255),this.writeByte(Kb.toInt(j>>>24)));return this},writeUInt30:function(j){if(0>j||1073741824<=j)throw new Z.OverflowException;
this.bigEndian?(this.writeByte(j>>>24),this.writeByte(j>>16&255),this.writeByte(j>>8&255),this.writeByte(j&255)):(this.writeByte(j&255),this.writeByte(j>>8&255),this.writeByte(j>>16&255),this.writeByte(j>>>24));return this},writeInt31:function(j){if(-1073741824>j||1073741824<=j)throw new Z.OverflowException;this.bigEndian?(this.writeByte(j>>>24),this.writeByte(j>>16&255),this.writeByte(j>>8&255),this.writeByte(j&255)):(this.writeByte(j&255),this.writeByte(j>>8&255),this.writeByte(j>>16&255),this.writeByte(j>>>
24));return this},writeUInt24:function(j){if(0>j||16777216<=j)throw new Z.OverflowException;this.bigEndian?(this.writeByte(j>>16),this.writeByte(j>>8&255),this.writeByte(j&255)):(this.writeByte(j&255),this.writeByte(j>>8&255),this.writeByte(j>>16));return this},writeInt24:function(j){if(-8388608>j||8388608<=j)throw new Z.OverflowException;this.writeUInt24(j&16777215);return this},writeUInt16:function(j){if(0>j||65536<=j)throw new Z.OverflowException;this.bigEndian?(this.writeByte(j>>8),this.writeByte(j&
255)):(this.writeByte(j&255),this.writeByte(j>>8));return this},writeInt16:function(j){if(-32768>j||32768<=j)throw new Z.OverflowException;this.writeUInt16(j&65535);return this},writeUInt8:function(j){return this.writeByte(j)},writeInt8:function(j){if(-128>j||128<=j)throw new Z.OverflowException;this.writeByte(j&255);return this},writeDouble:function(j){this.write(gb.doubleToBytes(j,this.bigEndian));return this},writeFloat:function(j){this.write(gb.floatToBytes(j,this.bigEndian));return this},writeFullBytes:function(j,
a,b){for(;0<b;)var f=this.writeBytes(j,a,b),a=a+f,b=b-f;return this},write:function(j){for(var a=j.length,b=0;0<a;){var f=this.writeBytes(j,b,a);if(0==f)throw new Z.BlockedException;b+=f;a-=f}return this},setBigEndian:function(j){return this.bigEndian=j},close:function(){},flush:function(){return this},writeBytes:function(j,a,b){var f=b,g=j.b;if(0>a||0>b||a+b>j.length)throw new Z.OutsideBoundsException;for(;0<f;)this.writeByte(g[a]),a++,f--;return b},writeByte:function(){throw new Z.FatalException("Not implemented");
},lock:null,bigEndian:null,__class__:qb.Output,__properties__:{set_bigEndian:"setBigEndian"}};qb.BytesOutput=function(){this.b=new Fb};y["chx.io.BytesOutput"]=qb.BytesOutput;qb.BytesOutput.__name__=["chx","io","BytesOutput"];qb.BytesOutput.__super__=qb.Output;qb.BytesOutput.prototype=g(qb.Output.prototype,{getBytes:function(){return this.b.getBytes()},writeBytes:function(j,a,b){this.b.addBytes(j,a,b);return b},writeByte:function(j){this.b.b.push(j);return this},b:null,__class__:qb.BytesOutput});Z=
{Exception:function(j,a){this.message=j;this.cause=a}};y["chx.lang.Exception"]=Z.Exception;Z.Exception.__name__=["chx","lang","Exception"];Z.Exception.prototype={toString:function(){return ea.getClassName(ea.getClass(this))+"("+(null==this.message?"":this.message+")")},cause:null,message:null,__class__:Z.Exception};Z.IOException=function(j,a){Z.Exception.call(this,j,a)};y["chx.lang.IOException"]=Z.IOException;Z.IOException.__name__=["chx","lang","IOException"];Z.IOException.__super__=Z.Exception;
Z.IOException.prototype=g(Z.Exception.prototype,{__class__:Z.IOException});Z.BlockedException=function(j,a){Z.IOException.call(this,j,a)};y["chx.lang.BlockedException"]=Z.BlockedException;Z.BlockedException.__name__=["chx","lang","BlockedException"];Z.BlockedException.__super__=Z.IOException;Z.BlockedException.prototype=g(Z.IOException.prototype,{__class__:Z.BlockedException});Z.EofException=function(j,a){Z.IOException.call(this,j,a)};y["chx.lang.EofException"]=Z.EofException;Z.EofException.__name__=
["chx","lang","EofException"];Z.EofException.__super__=Z.IOException;Z.EofException.prototype=g(Z.IOException.prototype,{toString:function(){return"EOF"},__class__:Z.EofException});Z.FatalException=function(j,a){this.message=j;this.cause=a};y["chx.lang.FatalException"]=Z.FatalException;Z.FatalException.__name__=["chx","lang","FatalException"];Z.FatalException.prototype={toString:function(){return ea.getClassName(ea.getClass(this))+"("+(null==this.message?"":this.message+")")},cause:null,message:null,
__class__:Z.FatalException};Z.NullPointerException=function(j,a){Z.Exception.call(this,j,a)};y["chx.lang.NullPointerException"]=Z.NullPointerException;Z.NullPointerException.__name__=["chx","lang","NullPointerException"];Z.NullPointerException.__super__=Z.Exception;Z.NullPointerException.prototype=g(Z.Exception.prototype,{__class__:Z.NullPointerException});Z.OutsideBoundsException=function(j,a){Z.Exception.call(this,j,a)};y["chx.lang.OutsideBoundsException"]=Z.OutsideBoundsException;Z.OutsideBoundsException.__name__=
["chx","lang","OutsideBoundsException"];Z.OutsideBoundsException.__super__=Z.Exception;Z.OutsideBoundsException.prototype=g(Z.Exception.prototype,{__class__:Z.OutsideBoundsException});Z.OverflowException=function(j,a){Z.Exception.call(this,j,a)};y["chx.lang.OverflowException"]=Z.OverflowException;Z.OverflowException.__name__=["chx","lang","OverflowException"];Z.OverflowException.__super__=Z.Exception;Z.OverflowException.prototype=g(Z.Exception.prototype,{__class__:Z.OverflowException});Z.UnsupportedException=
function(j,a){Z.Exception.call(this,j,a)};y["chx.lang.UnsupportedException"]=Z.UnsupportedException;Z.UnsupportedException.__name__=["chx","lang","UnsupportedException"];Z.UnsupportedException.__super__=Z.Exception;Z.UnsupportedException.prototype=g(Z.Exception.prototype,{__class__:Z.UnsupportedException});Ha={Sprintf:function(){}};y["chx.text.Sprintf"]=Ha.Sprintf;Ha.Sprintf.__name__=["chx","text","Sprintf"];Ha.Sprintf.format=function(j,a){if(null==j)return"";null==a&&(a=[]);for(var b="",f=0,g=0,
h=0,h=0,i=null,k=0,l=0,m=0,p=0,r;g<j.length;)if(h=j.indexOf("%",g),-1==h)b+=M.substr(j,g,null),g=j.length;else{b+=M.substr(j,g,h-g);r="** sprintf: invalid format at "+f+" **";k=m=p=0;l=-1;g=h+1;for(i=a[f++];X.__instanceof(r,String)&&g<j.length;)switch(h=M.cca(j,g++),h){case 35:0==p?m|=16:r='** sprintf: "#" came too late **';break;case 45:0==p?m|=2:r='** sprintf: "-" came too late **';break;case 43:0==p?m|=4:r='** sprintf: "+" came too late **';break;case 32:0==p?m|=8:r='** sprintf: " " came too late **';
break;case 46:2>p?(p=2,l=0):r='** sprintf: "." came too late **';break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:48==h&&0==p?m|=1:3==p?r="** sprintf: shouldn't have a digit after h,l,L **":2>p?(p=1,k=10*k+(h-48)):l=10*l+(h-48);break;case 100:case 105:r=!0;b+=Ha.Sprintf.formatD(i,m,k,l);break;case 111:r=!0;b+=Ha.Sprintf.formatO(i,m,k,l);break;case 120:case 88:r=!0;b+=Ha.Sprintf.formatX(i,m,k,l,88==h);break;case 101:case 69:r=!0;b+=Ha.Sprintf.formatE(i,m,k,l,69==
h);break;case 102:r=!0;b+=Ha.Sprintf.formatF(i,m,k,l);break;case 103:case 71:r=!0;b+=Ha.Sprintf.formatG(i,m,k,l,71==h);break;case 99:case 67:case 115:case 83:if(99==h||67==h)l=1;r=!0;b+=Ha.Sprintf.formatS(i,m,k,l);break;case 37:r=!0;b+="%";f--;break;default:r="** sprintf: "+I.string(h-48)+" not supported **"}!0!=r&&Ha.Sprintf.DEBUG&&(b+=I.string(r))}return b};Ha.Sprintf.finish=function(j,a,b,f,g,h){null==h&&(h="");null==h&&(h="");0>a?h="-"+h:0!=(b&4)?h="+"+h:0!=(b&8)&&(h=" "+h);for(0==f&&-1<g&&(f=
g,b|=1);j.length+h.length<f;)0!=(b&2)?j+=" ":0!=(b&1)?j="0"+j:h=" "+h;return h+j};Ha.Sprintf.number=function(j){return null==j?0:X.__instanceof(j,String)?""==j?0:I.parseFloat(j):X.__instanceof(j,Nd)?(Math.isNaN(j),j):X.__instanceof(j,Yd)?1*j:X.__instanceof(j,He)?j?1:0:Math.NaN};Ha.Sprintf.formatD=function(j,a,b,f){var g="",j=Ha.Sprintf.number(j);if(0!=f||0!=j)g=I.string(Math.floor(Math.abs(j)));for(;g.length<f;)g="0"+g;return Ha.Sprintf.finish(g,j,a,b,f)};Ha.Sprintf.formatO=function(j,a,b,f){var g=
"",h="",j=Ha.Sprintf.number(j);0!=f&&0!=j&&(g=j.toString(8));for(0!=(a&16)&&(h="0");g.length<f;)g="0"+g;return Ha.Sprintf.finish(g,j,a,b,f,h)};Ha.Sprintf.formatX=function(j,a,b,f,g){var h="",i="",j=Ha.Sprintf.number(j);0!=f&&0!=j&&(h=j.toString(16));for(0!=(a&16)&&(i="0x");h.length<f;)h="0"+h;g?(i=i.toUpperCase(),h=h.toUpperCase()):h=h.toLowerCase();return Ha.Sprintf.finish(h,j,a,b,f,i)};Ha.Sprintf.formatE=function(j,a,b,f,g){var h="",h=0,j=Ha.Sprintf.number(j);if(1<Math.abs(j))for(;10<Math.abs(j);)j/=
10,h++;else for(;1>Math.abs(j);)j*=10,h--;g=Ha.Sprintf.format("%c%+.2d",[g?"E":"e",h]);if(0!=(a&2))for(h=Ha.Sprintf.formatF(j,a,1,f)+g;h.length<b;)h+=" ";else h=Ha.Sprintf.formatF(j,a,Math.max(b-g.length,0)|0,f)+h;return h};Ha.Sprintf.formatF=function(j,a,b,f){var g="",h=g="";-1==f&&(f=6);j=I.string(j);-1==j.indexOf(".")?(g=I.string(Math.abs(Ha.Sprintf.number(j))),h="0"):(g=I.string(Math.abs(Ha.Sprintf.number(M.substr(j,0,j.indexOf("."))))),h=M.substr(j,j.indexOf(".")+1,null));if(0==Ha.Sprintf.number(h))for(h=
"";h.length<f;)h+="0";else if(h.length>f&&(h=Math.round(Math.pow(10,f)*Ha.Sprintf.number("0."+h)),I.string(h).length>f&&0!=h?(h="0",g=I.string((Math.abs(Ha.Sprintf.number(g))+1)*(0<=Ha.Sprintf.number(g)?1:-1))):h=I.string(h)),h.length<f)for(h=new String(h);h.length<f;)h+="0";0==f?0!=(a&16)&&(g+="."):g=g+"."+h;return Ha.Sprintf.finish(g,I.parseFloat(j),a,b,f,"")};Ha.Sprintf.formatG=function(j,a,b,f,g){var h=Ha.Sprintf.formatE(j,a,1,f,g),i=Ha.Sprintf.formatF(j,a,1,f);return h.length<i.length?Ha.Sprintf.formatE(j,
a,b,f,g):Ha.Sprintf.formatF(j,a,b,f)};Ha.Sprintf.formatS=function(j,a,b,f){var g=I.string(j);0<f&&f<g.length&&(g=M.substr(g,0,f));return Ha.Sprintf.finish(g,j,a&-30,b,f,"")};yd={Lock:function(){this.lock=1}};y["chx.vm.Lock"]=yd.Lock;yd.Lock.__name__=["chx","vm","Lock"];yd.Lock.prototype={release:function(){this.lock--},wait:function(j){var a=!0,b=0;null==j&&(a=!1);for(a&&(b=(new Date).getTime()+j);0<this.lock;)if(a&&(new Date).getTime()>=b)return!1;this.lock++;return!0},lock:null,__class__:yd.Lock};
var nb,vd,zd,ge,Pc,he,Pd,ie,Qd,je,Ta,ke,Rd,le,qd,Sd,me,Td,ne,Ud,oe,Lb,Vb,Mb,Nb,rb,ub,ua,Ad,Gd,Hd,Zd,jd,pe,Wd,Bd,Ee,ve,kd,$d,Vd,ae,we,be,Xd,vb,ic;nb=function(j){this.selection=j};y["dhx.Access"]=nb;nb.__name__=["dhx","Access"];nb.getData=function(j){return B.field(j,"__dhx_data__")};nb.setData=function(j,a){j.__dhx_data__=a};nb.emptyHtmlDom=function(j){return{__dhx_data__:j}};nb.eventName=function(j){return"__dhx_on__"+j};nb.getEvent=function(j,a){return B.field(j,"__dhx_on__"+a)};nb.hasEvent=function(j,
a){return null!=B.field(j,"__dhx_on__"+a)};nb.addEvent=function(j,a,b){j["__dhx_on__"+a]=b};nb.removeEvent=function(j,a){B.deleteField(j,"__dhx_on__"+a)};nb.setTransition=function(j,a){B.hasField(j,"__dhx_transition__")?B.field(j,"__dhx_transition__").owner=a:j.__dhx_transition__={owner:a}};nb.getTransition=function(j){return B.field(j,"__dhx_transition__")};nb.resetTransition=function(j){B.deleteField(j,"__dhx_transition__")};nb.prototype={_that:function(){return this.selection},selection:null,__class__:nb};
vd=function(j,a){nb.call(this,a);this.name=j;this.qname=zd.qualify(j)};y["dhx.AccessAttribute"]=vd;vd.__name__=["dhx","AccessAttribute"];vd.__super__=nb;vd.prototype=g(nb.prototype,{"float":function(j){var a=""+j;if(null==this.qname){var b=this.name;this.selection.eachNode(function(j){j.setAttribute(b,a)})}else{var f=this.qname;this.selection.eachNode(function(j){j.setAttributeNS(f.space,f.local,a)})}return this.selection},string:function(j){if(null==this.qname){var a=this.name;this.selection.eachNode(function(b){b.setAttribute(a,
j)})}else{var b=this.qname;this.selection.eachNode(function(a){a.setAttributeNS(b.space,b.local,j)})}return this.selection},remove:function(){if(null==this.qname){var j=this.name;this.selection.eachNode(function(a){a.removeAttribute(j)})}else{var a=this.qname;this.selection.eachNode(function(j){j.removeAttributeNS(a.space,a.local)})}return this.selection},getFloat:function(){var j=this.get();return vd.refloat.match(j)?I.parseFloat(vd.refloat.matched(1)):Math.NaN},get:function(){var j=this.name,a=
this.qname;return this.selection.firstNode(function(b){return null==a?b.getAttribute(j):b.getAttributeNS(a.space,a.local)})},qname:null,name:null,__class__:vd});ge=function(j,a){vd.call(this,j,a)};y["dhx.AccessDataAttribute"]=ge;ge.__name__=["dhx","AccessDataAttribute"];ge.__super__=vd;ge.prototype=g(vd.prototype,{data:function(){return this.stringf(function(j){return""+I.string(j)})},floatf:function(j){if(null==this.qname){var a=this.name;this.selection.eachNode(function(b,f){var g=j(B.field(b,"__dhx_data__"),
f);null==g?b.removeAttribute(a):b.setAttribute(a,""+g)})}else{var b=this.qname;this.selection.eachNode(function(f,g){var h=j(B.field(f,"__dhx_data__"),g);null==h?f.removeAttributeNS(a):f.setAttributeNS(b.space,b.local,""+h)})}return this.selection},stringf:function(j){if(null==this.qname){var a=this.name;this.selection.eachNode(function(b,f){var g=j(B.field(b,"__dhx_data__"),f);null==g?b.removeAttribute(a):b.setAttribute(a,g)})}else{var b=this.qname;this.selection.eachNode(function(f,g){var h=j(B.field(f,
"__dhx_data__"),g);null==h?f.removeAttributeNS(a):f.setAttributeNS(b.space,b.local,h)})}return this.selection},__class__:ge});Pc=function(j){nb.call(this,j)};y["dhx.AccessClassed"]=Pc;Pc.__name__=["dhx","AccessClassed"];Pc.escapeERegChars=function(j){return Pc._escapePattern.customReplace(j,function(j){return"\\"+j.matched(0)})};Pc.getRe=function(j){return new xa("(^|\\s+)"+Pc.escapeERegChars(j)+"(\\s+|$)","g")};Pc.__super__=nb;Pc.prototype=g(nb.prototype,{get:function(){var j=this.selection.node(),
a=j.classList;if(null!=a){for(var j=[],b=0,f=a.length;b<f;){var g=b++;j.push(a.item(g))}return j.join(" ")}a=j.className;return null!=a.baseVal?a.baseVal:a},_add:function(j,a){var b=a.classList;if(null!=b)b.add(j);else{var b=a.className,f=null!=b.baseVal,g=f?b.baseVal:b;(new xa("(^|\\s+)"+Pc.escapeERegChars(j)+"(\\s+|$)","g")).match(g)||(g=W.collapse(g+" "+j),f?b.baseVal=g:a.className=g)}},add:function(j){this.selection.eachNode(function(j,a){return function(b,f){return j(a,b,f)}}(a(this,this._add),
j));return this.selection},_remove:function(j,a){var b=a.classList;if(null!=b)b.remove(j);else{var b=a.className,f=null!=b.baseVal,g=f?b.baseVal:b,h=new xa("(^|\\s+)"+Pc.escapeERegChars(j)+"(\\s+|$)","g"),g=W.collapse(h.replace(g," "));f?b.baseVal=g:a.className=g}},remove:function(j){this.selection.eachNode(function(j,a){return function(b,f){return j(a,b,f)}}(a(this,this._remove),j));return this.selection},exists:function(j){return this.selection.firstNode(function(a){var b=a.classList;if(null!=b)return b.contains(j);
var a=a.className,b=new xa("(^|\\s+)"+Pc.escapeERegChars(j)+"(\\s+|$)","g"),f=a.baseVal;return b.match(null!=f?f:a)})},toggle:function(j){this.exists(j)?this.remove(j):this.add(j);return this.selection},__class__:Pc});he=function(j){Pc.call(this,j)};y["dhx.AccessDataClassed"]=he;he.__name__=["dhx","AccessDataClassed"];he.__super__=Pc;he.prototype=g(Pc.prototype,{addf:function(j){var b=a(this,this._add);this.selection.eachNode(function(a,f){var g=j(B.field(a,"__dhx_data__"),f);null!=g&&b(g,a,f)});
return this.selection},removef:function(j){var b=a(this,this._remove);this.selection.eachNode(function(a,f){var g=j(B.field(a,"__dhx_data__"),f);null!=g&&b(g,a,f)});return this.selection},__class__:he});Pd=function(j){nb.call(this,j)};y["dhx.AccessHtml"]=Pd;Pd.__name__=["dhx","AccessHtml"];Pd.__super__=nb;Pd.prototype=g(nb.prototype,{"float":function(j){this.selection.eachNode(function(a){a.innerHTML=""+j});return this.selection},clear:function(){this.selection.eachNode(function(j){j.innerHTML=""});
return this.selection},string:function(j){this.selection.eachNode(function(a){a.innerHTML=j});return this.selection},get:function(){return this.selection.firstNode(function(j){return j.innerHTML})},__class__:Pd});ie=function(j){Pd.call(this,j)};y["dhx.AccessDataHtml"]=ie;ie.__name__=["dhx","AccessDataHtml"];ie.__super__=Pd;ie.prototype=g(Pd.prototype,{data:function(){return this.stringf(function(j){return""+I.string(j)})},floatf:function(j){this.selection.eachNode(function(a,b){var f=j(B.field(a,
"__dhx_data__"),b);a.innerHTML=null==f?"":""+f});return this.selection},stringf:function(j){this.selection.eachNode(function(a,b){var f=j(B.field(a,"__dhx_data__"),b);null==f&&(f="");a.innerHTML=f});return this.selection},__class__:ie});Qd=function(j,a){nb.call(this,a);this.name=j};y["dhx.AccessProperty"]=Qd;Qd.__name__=["dhx","AccessProperty"];Qd.__super__=nb;Qd.prototype=g(nb.prototype,{"float":function(j){var a=""+j,b=this.name;this.selection.eachNode(function(j){j[b]=a});return this.selection},
string:function(j){var a=this.name;this.selection.eachNode(function(b){b[a]=j});return this.selection},remove:function(){var j=this.name;this.selection.eachNode(function(a){B.deleteField(a,j)});return this.selection},get:function(){var j=this.name;return this.selection.firstNode(function(a){return B.field(a,j)})},name:null,__class__:Qd});je=function(j,a){Qd.call(this,j,a)};y["dhx.AccessDataProperty"]=je;je.__name__=["dhx","AccessDataProperty"];je.__super__=Qd;je.prototype=g(Qd.prototype,{data:function(){return this.stringf(function(j){return""+
I.string(j)})},floatf:function(j){var a=this.name;this.selection.eachNode(function(b,f){var g=j(B.field(b,"__dhx_data__"),f);null==g?B.deleteField(b,a):b[a]=""+g});return this.selection},stringf:function(j){var a=this.name;this.selection.eachNode(function(b,f){var g=j(B.field(b,"__dhx_data__"),f);null==g?B.deleteField(b,a):b[a]=g});return this.selection},__class__:je});Ta=function(j,a){nb.call(this,a);this.name=j};y["dhx.AccessStyle"]=Ta;Ta.__name__=["dhx","AccessStyle"];Ta._getPropertyName=function(j){if("float"==
j||"cssFloat"==j||"styleFloat"==j)return null==Sa.document.body.cssFloat?"styleFloat":"cssFloat";0<=j.indexOf("-")&&(j=W.ucwords(j));return j};Ta.getComputedStyleValue=function(j,a){Ta.getComputedStyleValue="getComputedStyle"in window?function(j,a){return Sa.window.getComputedStyle(j,null).getPropertyValue(a)}:function(j,a){var b=j.currentStyle;null==B.field(b,a)&&(a=Ta._getPropertyName(a));return null==B.field(b,a)?"":B.field(b,a)};return Ta.getComputedStyleValue(j,a)};Ta.setStyleProperty=function(j,
a,b,f){Ta.setStyleProperty="setProperty"in j.style?function(j,a,b,f){j.style.setProperty(a,""+b,null==f?"":f)}:function(j,a,b,f){j=j.style;null==B.field(j,a)&&(a=Ta._getPropertyName(a));null!=f&&""!=f?j.cssText+=";"+W.dasherize(a)+":"+b+"!important;":j[a]=b};Ta.setStyleProperty(j,a,b,f)};Ta.removeStyleProperty=function(j){Ta.removeStyleProperty="removeProperty"in j.style?function(j,a){j.style.removeProperty(a,value)}:function(j,a){var b=j.style;null==B.field(b,a)&&(a=Ta._getPropertyName(a));B.deleteField(b,
a)}};Ta.__super__=nb;Ta.prototype=g(nb.prototype,{color:function(j,a){var b=this,f=j.toRgbString();this.selection.eachNode(function(j){Ta.setStyleProperty(j,b.name,f,a)});return this.selection},"float":function(j,a){var b=this;this.selection.eachNode(function(f){Ta.setStyleProperty(f,b.name,j,a)});return this.selection},string:function(j,a){var b=this;this.selection.eachNode(function(f){Ta.setStyleProperty(f,b.name,j,a)});return this.selection},remove:function(){var j=this;this.selection.eachNode(function(a){Ta.removeStyleProperty(a,
j.name)});return this.selection},getFloat:function(){var j=this.get();return Ta.refloat.match(j)?I.parseFloat(Ta.refloat.matched(1)):Math.NaN},get:function(){var j=this;return this.selection.firstNode(function(a){return Ta.getComputedStyleValue(a,j.name)})},name:null,__class__:Ta});ke=function(j,a){Ta.call(this,j,a)};y["dhx.AccessDataStyle"]=ke;ke.__name__=["dhx","AccessDataStyle"];ke.__super__=Ta;ke.prototype=g(Ta.prototype,{data:function(){return this.stringf(function(j){return""+I.string(j)})},
colorf:function(j,a){var b=this;this.selection.eachNode(function(f,g){var h=j(B.field(f,"__dhx_data__"),g);null==h?Ta.removeStyleProperty(f,b.name):Ta.setStyleProperty(f,b.name,""+h.toRgbString(),a)});return this.selection},floatf:function(j,a){var b=this;this.selection.eachNode(function(f,g){var h=j(B.field(f,"__dhx_data__"),g);null==h?Ta.removeStyleProperty(f,b.name):Ta.setStyleProperty(f,b.name,""+h,a)});return this.selection},stringf:function(j,a){var b=this;this.selection.eachNode(function(f,
g){var h=j(B.field(f,"__dhx_data__"),g);null==h?Ta.removeStyleProperty(f,b.name):Ta.setStyleProperty(f,b.name,h,a)});return this.selection},__class__:ke});Rd=function(j){nb.call(this,j)};y["dhx.AccessText"]=Rd;Rd.__name__=["dhx","AccessText"];Rd.__super__=nb;Rd.prototype=g(nb.prototype,{floatNodef:function(j){this.clear();this.selection.eachNode(function(a,b){var f=j(a,b);null!=f&&(a.textContent=""+f)});return this.selection},stringNodef:function(j){this.clear();this.selection.eachNode(function(a,
b){var f=j(a,b);null!=f&&(a.textContent=f)});return this.selection},"float":function(j){this.clear();this.selection.eachNode(function(a){a.textContent=""+j});return this.selection},clear:function(){this.selection.eachNode(function(j){j.textContent=""});return this.selection},string:function(j){this.clear();this.selection.eachNode(function(a){a.textContent=j});return this.selection},get:function(){return this.selection.firstNode(function(j){return j.textContent})},__class__:Rd});le=function(j){Rd.call(this,
j)};y["dhx.AccessDataText"]=le;le.__name__=["dhx","AccessDataText"];le.__super__=Rd;le.prototype=g(Rd.prototype,{data:function(){return this.stringf(function(j){return""+I.string(j)})},floatf:function(j){this.clear();this.selection.eachNode(function(a,b){var f=j(B.field(a,"__dhx_data__"),b);null!=f&&(a.textContent=""+f)});return this.selection},stringf:function(j){this.clear();this.selection.eachNode(function(a,b){var f=j(B.field(a,"__dhx_data__"),b);null!=f&&(a.textContent=f)});return this.selection},
__class__:le});qd=function(j,a){this.transition=j;this.tweens=a};y["dhx.AccessTween"]=qd;qd.__name__=["dhx","AccessTween"];qd.prototype={_that:function(){return this.transition},transitionFloatTweenf:function(j){return function(a,b,f){return V.interpolatef(f,j(a,b))}},transitionFloatTween:function(j){return function(a,b,f){return V.interpolatef(f,j)}},transitionCharsTweenf:function(j){return function(a,b,f){return W.interpolateCharsf(f,j(a,b))}},transitionCharsTween:function(j){return function(a,
b,f){return W.interpolateCharsf(f,j)}},transitionStringTweenf:function(j){return function(a,b,f){return W.interpolatef(f,j(a,b))}},transitionStringTween:function(j){return function(a,b,f){return W.interpolatef(f,j)}},transitionColorTweenf:function(j){return function(a,b,f){return q.Rgb.interpolatef(f,j(a,b))}},transitionColorTween:function(j){return function(a,b,f){return q.Rgb.interpolatef(f,j)}},tweens:null,transition:null,__class__:qd};Sd=function(j,a,b){qd.call(this,a,b);this.name=j;this.qname=
zd.qualify(j)};y["dhx.AccessTweenAttribute"]=Sd;Sd.__name__=["dhx","AccessTweenAttribute"];Sd.__super__=qd;Sd.prototype=g(qd.prototype,{floatTweenNodef:function(j){var a=this.name;this.tweens.set("attr."+a,null==this.qname?function(b,f){var g=j(b,f,I.parseFloat(b.getAttribute(a)));return function(j){b.setAttribute(a,""+g(j))}}:function(b,f){var g=j(b,f,I.parseFloat(b.getAttributeNS(a.space,a.local)));return function(j){b.setAttributeNS(a.space,a.local,""+g(j))}});return this.transition},"float":function(j){return this.floatTweenNodef(this.transitionFloatTween(j))},
floatNodef:function(j){return this.floatTweenNodef(this.transitionFloatTweenf(j))},stringTweenNodef:function(j){var a=this.name;this.tweens.set("attr."+a,null==this.qname?function(b,f){var g=j(b,f,b.getAttribute(a));return function(j){b.setAttribute(a,g(j))}}:function(b,f){var g=j(b,f,b.getAttributeNS(a.space,a.local));return function(j){b.setAttributeNS(a.space,a.local,g(j))}});return this.transition},string:function(j){return this.stringTweenNodef(this.transitionStringTween(j))},stringNodef:function(j){return this.stringTweenNodef(this.transitionStringTweenf(j))},
qname:null,name:null,__class__:Sd});me=function(j,a,b){Sd.call(this,j,a,b)};y["dhx.AccessDataTweenAttribute"]=me;me.__name__=["dhx","AccessDataTweenAttribute"];me.__super__=Sd;me.prototype=g(Sd.prototype,{floatTweenf:function(j){var a=this.name;this.tweens.set("attr."+a,null==this.qname?function(b,f){var g=j(B.field(b,"__dhx_data__"),f,I.parseFloat(b.getAttribute(a)));return function(j){b.setAttribute(a,""+g(j))}}:function(b,f){var g=j(B.field(b,"__dhx_data__"),f,I.parseFloat(b.getAttributeNS(a.space,
a.local)));return function(j){b.setAttributeNS(a.space,a.local,""+g(j))}});return this.transition},stringTweenf:function(j){var a=this.name;this.tweens.set("attr."+a,null==this.qname?function(b,f){var g=j(B.field(b,"__dhx_data__"),f,b.getAttribute(a));return function(j){b.setAttribute(a,g(j))}}:function(b,f){var g=j(B.field(b,"__dhx_data__"),f,b.getAttributeNS(a.space,a.local));return function(j){b.setAttributeNS(a.space,a.local,g(j))}});return this.transition},floatf:function(j){return this.floatTweenNodef(this.transitionFloatTweenf(function(a,
b){return j(B.field(a,"__dhx_data__"),b)}))},stringf:function(j){return this.stringTweenNodef(this.transitionStringTweenf(function(a,b){return j(B.field(a,"__dhx_data__"),b)}))},__class__:me});Td=function(j,a,b){qd.call(this,a,b);this.name=j};y["dhx.AccessTweenStyle"]=Td;Td.__name__=["dhx","AccessTweenStyle"];Td.__super__=qd;Td.prototype=g(qd.prototype,{colorTweenNodef:function(j,a){null==a&&(a=null);var b=this.name;this.tweens.set("style."+b,function(f,g){var h=j(f,g,q.Colors.parse(Ta.getComputedStyleValue(f,
b)));return function(j){Ta.setStyleProperty(f,b,h(j).toRgbString(),a)}});return this.transition},color:function(j,a){return this.colorTweenNodef(this.transitionColorTween(q.Colors.parse(j)),a)},colorNodef:function(j,a){return this.colorTweenNodef(this.transitionColorTweenf(j),a)},stringTweenNodef:function(j,a){null==a&&(a=null);var b=this.name;this.tweens.set("style."+b,function(f,g){var h=j(f,g,Ta.getComputedStyleValue(f,b));return function(j){Ta.setStyleProperty(f,b,h(j),a)}});return this.transition},
string:function(j,a){return this.stringTweenNodef(this.transitionStringTween(j),a)},stringNodef:function(j,a){return this.stringTweenNodef(this.transitionStringTweenf(j),a)},floatTweenNodef:function(j,a){var b=this.name;this.tweens.set("style."+b,function(f,g){var h=j(f,g,I.parseFloat(Ta.getComputedStyleValue(f,b)));return function(j){Ta.setStyleProperty(f,b,""+h(j),a)}});return this.transition},"float":function(j,a){return this.floatTweenNodef(this.transitionFloatTween(j),a)},floatNodef:function(j,
a){return this.floatTweenNodef(this.transitionFloatTweenf(j),a)},name:null,__class__:Td});ne=function(j,a,b){Td.call(this,j,a,b)};y["dhx.AccessDataTweenStyle"]=ne;ne.__name__=["dhx","AccessDataTweenStyle"];ne.__super__=Td;ne.prototype=g(Td.prototype,{colorTweenf:function(j,a){null==a&&(a=null);var b=this.name;this.tweens.set("style."+b,function(f,g){var h=j(B.field(f,"__dhx_data__"),g,q.Colors.parse(Ta.getComputedStyleValue(f,b)));return function(j){Ta.setStyleProperty(f,b,h(j).toRgbString(),a)}});
return this.transition},colorf:function(j,a){return this.colorTweenNodef(this.transitionColorTweenf(function(a,b){return j(B.field(a,"__dhx_data__"),b)}),a)},stringTweenf:function(j,a){null==a&&(a=null);var b=this.name;this.tweens.set("style."+b,function(f,g){var h=j(B.field(f,"__dhx_data__"),g,Ta.getComputedStyleValue(f,b));return function(j){Ta.setStyleProperty(f,b,h(j),a)}});return this.transition},stringf:function(j,a){return this.stringTweenNodef(this.transitionStringTweenf(function(a,b){return j(B.field(a,
"__dhx_data__"),b)}),a)},floatTweenf:function(j,a){null==a&&(a=null);var b=this.name;this.tweens.set("style."+b,function(f,g){var h=j(B.field(f,"__dhx_data__"),g,I.parseFloat(Ta.getComputedStyleValue(f,b)));return function(j){Ta.setStyleProperty(f,b,""+h(j),a)}});return this.transition},floatf:function(j,a){return this.floatTweenNodef(this.transitionFloatTweenf(function(a,b){return j(B.field(a,"__dhx_data__"),b)}),a)},__class__:ne});Ud=function(j,a){qd.call(this,j,a)};y["dhx.AccessTweenText"]=Ud;
Ud.__name__=["dhx","AccessTweenText"];Ud.__super__=qd;Ud.prototype=g(qd.prototype,{chars:function(j){return this.stringTweenNodef(this.transitionCharsTween(j))},charsNodef:function(j){return this.stringTweenNodef(this.transitionCharsTweenf(j))},stringTweenNodef:function(j){this.tweens.set("text",function(a,b){var f=j(a,b,a.textContent);return function(j){a.textContent=f(j)}});return this.transition},string:function(j){return this.stringTweenNodef(this.transitionStringTween(j))},stringNodef:function(j){return this.stringTweenNodef(this.transitionStringTweenf(j))},
__class__:Ud});oe=function(j,a){Ud.call(this,j,a)};y["dhx.AccessDataTweenText"]=oe;oe.__name__=["dhx","AccessDataTweenText"];oe.__super__=Ud;oe.prototype=g(Ud.prototype,{stringTweenf:function(j){this.tweens.set("text",function(a,b){var f=j(B.field(a,"__dhx_data__"),b,d.textContent);return function(j){d.textContent=f(j)}});return this.transition},charsf:function(j){return this.stringTweenNodef(this.transitionCharsTweenf(function(a,b){return j(B.field(a,"__dhx_data__"),b)}))},stringf:function(j){return this.stringTweenNodef(this.transitionStringTweenf(function(a,
b){return j(B.field(a,"__dhx_data__"),b)}))},__class__:oe});Lb={__ename__:["dhx","HostType"],__constructs__:"UnknownServer NodeJs IE Firefox Safari Chrome Opera Unknown".split(" "),UnknownServer:["UnknownServer",0]};Lb.UnknownServer.toString=N;Lb.UnknownServer.__enum__=Lb;Lb.NodeJs=["NodeJs",1];Lb.NodeJs.toString=N;Lb.NodeJs.__enum__=Lb;Lb.IE=function(j){j=["IE",2,j];j.__enum__=Lb;j.toString=N;return j};Lb.Firefox=function(j){j=["Firefox",3,j];j.__enum__=Lb;j.toString=N;return j};Lb.Safari=function(j){j=
["Safari",4,j];j.__enum__=Lb;j.toString=N;return j};Lb.Chrome=function(j){j=["Chrome",5,j];j.__enum__=Lb;j.toString=N;return j};Lb.Opera=function(j){j=["Opera",6,j];j.__enum__=Lb;j.toString=N;return j};Lb.Unknown=function(j){j=["Unknown",7,j];j.__enum__=Lb;j.toString=N;return j};Vb={__ename__:["dhx","EnvironmentType"],__constructs__:["Mobile","Desktop","Server","UnknownEnvironment"],Mobile:["Mobile",0]};Vb.Mobile.toString=N;Vb.Mobile.__enum__=Vb;Vb.Desktop=["Desktop",1];Vb.Desktop.toString=N;Vb.Desktop.__enum__=
Vb;Vb.Server=["Server",2];Vb.Server.toString=N;Vb.Server.__enum__=Vb;Vb.UnknownEnvironment=["UnknownEnvironment",3];Vb.UnknownEnvironment.toString=N;Vb.UnknownEnvironment.__enum__=Vb;Mb={__ename__:["dhx","OSType"],__constructs__:"Windows IOs Android Mac Linux UnknownOs".split(" "),Windows:function(j){j=["Windows",0,j];j.__enum__=Mb;j.toString=N;return j},IOs:["IOs",1]};Mb.IOs.toString=N;Mb.IOs.__enum__=Mb;Mb.Android=["Android",2];Mb.Android.toString=N;Mb.Android.__enum__=Mb;Mb.Mac=["Mac",3];Mb.Mac.toString=
N;Mb.Mac.__enum__=Mb;Mb.Linux=["Linux",4];Mb.Linux.toString=N;Mb.Linux.__enum__=Mb;Mb.UnknownOs=["UnknownOs",5];Mb.UnknownOs.toString=N;Mb.UnknownOs.__enum__=Mb;Nb=function(){};y["dhx.ClientHost"]=Nb;Nb.__name__=["dhx","ClientHost"];Nb.isIE=function(){var j;switch(Nb.host[1]){case 2:j=!0;break;default:j=!1}return j};Nb.hostVersion=function(){var j;j=Nb.host;switch(j[1]){case 2:case 3:case 4:case 5:case 6:j=j[2];break;default:j=null}return j};Nb.hostString=function(){var j;switch(Nb.host[1]){case 0:j=
"unknown_server";break;case 7:j="unknown";break;case 1:j="nodejs";break;default:j=Nb.host[0]}return j};Nb.osString=function(){return Nb.os[0]};Nb.osVersion=function(){var j;j=Nb.os;switch(j[1]){case 0:j=j[2];break;default:j=null}return j};Nb.environmentString=function(){return Nb.environment[0]};Nb.userAgent=function(){return""+navigator.userAgent};Nb.hasNavigator=function(){return"undefined"!==typeof navigator};Md=fe=Sa=X=void 0;Sa=function(){};y["js.Lib"]=Sa;Sa.__name__=["js","Lib"];Sa.alert=function(j){alert(X.__string_rec(j,
""))};rb=function(j){this.nodes=j};y["dhx.Group"]=rb;rb.__name__=["dhx","Group"];rb.merge=function(j,a){if(a.length!=j.length)throw"Group length not equal";for(var b=0,f=a.length;b<f;){var g=b++,h=j[g],g=a[g];if(h.parentNode!=g.parentNode)throw"parentNodes not the same!";if(h.nodes.length!=g.nodes.length)throw"node length mismatch!";for(var i=0,k=g.nodes.length;i<k;){var l=i++;null==g.nodes[l]&&(g.nodes[l]=h.nodes[l])}}return a};rb.prototype={sort:function(j){this.nodes.sort(j)},push:function(j){this.nodes.push(j)},
count:function(){return this.nodes.length},get:function(j){return this.nodes[j]},iterator:function(){return M.iter(this.nodes)},each:function(j){for(var a=0,b=this.nodes.length;a<b;){var f=a++;null!=this.nodes[f]&&j(rb.current=this.nodes[f],f)}},nodes:null,parentNode:null,__class__:rb};ub=function(j){this.groups=j};y["dhx.BaseSelection"]=ub;ub.__name__=["dhx","BaseSelection"];ub.listenerEnterLeave=function(j,a,b){var f=ua.event.relatedTarget;null==f||ub.isChild(a,f)||j(a,b)};ub.isChild=function(j,
a){if(a==j)return!1;for(;null!=a;)if(a=a.parentNode,a==j)return!0;return!1};ub.addEvent=function(j,a,b,f){null!=j.addEventListener?ub.addEvent=function(j,a,b,f){j.addEventListener(a,b,f)}:null!=j.attachEvent&&(ub.addEvent=function(j,a,b){j.attachEvent(a,b)});ub.addEvent(j,a,b,f)};ub.removeEvent=function(j,a,b,f){null!=j.removeEventListener?ub.removeEvent=function(j,a,b){j.removeEventListener(a,B.field(j,"__dhx_on__"+b),!1)}:null!=j.attachEvent&&(ub.removeEvent=function(j,a,b){j.detachEvent(a,B.field(j,
"__dhx_on__"+b))});ub.removeEvent(j,a,b,f)};ub.bindJoin=function(j,a,b,f,g,h){var i=a.nodes.length,k=b.length,l=[],m=[],p=[],r,q,t=new La,R=[],u;q=b.length;for(var v=0;v<i;){var x=v++;r=a.nodes[x];u=j(B.field(r,"__dhx_data__"),x);t.exists(u)?m[q++]=r:t.set(u,r);R.push(u)}for(v=0;v<k;)x=v++,r=t.get(u=j(q=b[x],x)),null!=r?(r.__dhx_data__=q,l[x]=r,p[x]=m[x]=null):(r={__dhx_data__:q},p[x]=r,l[x]=m[x]=null),t.remove(u);for(v=0;v<i;)x=v++,t.exists(R[x])&&(m[x]=a.nodes[x]);j=new rb(p);j.parentNode=a.parentNode;
g.push(j);g=new rb(l);g.parentNode=a.parentNode;f.push(g);f=new rb(m);f.parentNode=a.parentNode;h.push(f)};ub.bind=function(j,a,b,f,g){var h=j.nodes.length,i=j.nodes.length,k=[],l=[],m=[],p,r;h>a.length&&(h=a.length);i<a.length&&(i=a.length);for(var q=0;q<h;){var t=q++;p=j.nodes[t];r=a[t];null!=p?(p.__dhx_data__=r,k[t]=p,m[t]=l[t]=null):(m[t]={__dhx_data__:r},k[t]=l[t]=null)}for(q=a.length;h<q;)t=h++,p={__dhx_data__:a[t]},m[t]=p,k[t]=l[t]=null;for(q=a.length;q<i;)t=q++,l[t]=j.nodes[t],m[t]=k[t]=null;
a=new rb(m);a.parentNode=j.parentNode;f.push(a);f=new rb(k);f.parentNode=j.parentNode;b.push(f);b=new rb(l);b.parentNode=j.parentNode;g.push(b)};ub.prototype={_selectAll:function(j){for(var a=[],b,f=0,g=this.groups;f<g.length;){b=g[f];++f;for(var h=M.iter(b.nodes);h.hasNext();){var i=h.next();null!=i&&(a.push(b=new rb(j(i))),b.parentNode=i)}}return this.createSelection(a)},_select:function(j){for(var a=[],b,f,g=0,h=this.groups;g<h.length;){f=h[g];++g;a.push(b=new rb([]));b.parentNode=f.parentNode;
for(var i=M.iter(f.nodes);i.hasNext();){var k=i.next();if(null!=k){if(b.parentNode=k,b.nodes.push(f=j(k)),null!=f)f.__dhx_data__=B.field(k,"__dhx_data__")}else b.nodes.push(null)}}return this.createSelection(a)},createSelection:function(){throw"abstract method";},onNode:function(j,a,b){null==b&&(b=!1);var f=j.indexOf("."),g=0>f?j:M.substr(j,0,f);if(("mouseenter"==g||"mouseleave"==g)&&!Nb.isIE())var h=ub.listenerEnterLeave,i=a,a=function(j,a){return h(i,j,a)},g="mouseenter"==g?"mouseover":"mouseout";
return this.eachNode(function(f,h){var i=function(j){var b=ua.event;ua.event=j;try{a(f,h)}catch(g){}ua.event=b};null!=B.field(f,"__dhx_on__"+j)&&(ub.removeEvent(f,g,j,b),B.deleteField(f,"__dhx_on__"+j));null!=a&&(f["__dhx_on__"+j]=i,ub.addEvent(f,g,i,b))})},mapNode:function(j){for(var a=[],b=0,f=this.groups;b<f.length;){var g=f[b];++b;for(var h=-1,g=M.iter(g.nodes);g.hasNext();){var i=g.next();null!=i&&a.push(j(i,++h))}}return a},filterNode:function(j){for(var a=[],b,f=0,g=this.groups;f<g.length;){var h=
g[f];++f;var i=new rb(b=[]);i.parentNode=h.parentNode;a.push(i);i=-1;for(h=M.iter(h.nodes);h.hasNext();){var k=h.next();null!=k&&j(k,++i)&&b.push(k)}}return this.createSelection(a)},empty:function(){return null==this.firstNode(function(j){return j})},node:function(){return this.firstNode(function(j){return j})},firstNode:function(j){for(var a=0,b=this.groups;a<b.length;){var f=b[a];++a;for(f=M.iter(f.nodes);f.hasNext();){var g=f.next();if(null!=g)return j(g)}}return null},sortNode:function(j){for(var a=
this.groups.length,b=0;b<a;){var f=this.groups[b++];f.nodes.sort(j);for(var g=f.nodes.length,h=f.nodes[0],i=1;i<g;){var k=i++,k=f.nodes[k];null!=k&&(null!=h&&h.parentNode.insertBefore(k,h.nextSibling),h=k)}}return this},insert:function(j,a,b){var f=zd.qualify(j);return this._select(null==f?function(f){var g=Sa.document.createElement(j);f.insertBefore(g,null!=a?a:ua.select(b).node());return g}:function(j){var g=Sa.document.createElementNS(f.space,f.local);j.insertBefore(g,null!=a?a:ua.select(b).node());
return g})},eachNode:function(j){for(var a=0,b=this.groups;a<b.length;){var f=b[a];++a;f.each(j)}return this},remove:function(){return this.eachNode(function(j){var a=j.parentNode;null!=a&&a.removeChild(j)})},append:function(j){var a=zd.qualify(j);return this._select(null==a?function(a){var b=Sa.document.createElement(j);a.appendChild(b);return b}:function(j){var b=Sa.document.createElementNS(a.space,a.local);j.appendChild(b);return b})},_this:function(){return this},selectAll:function(j){return this._selectAll(function(a){return ua.selectionEngine.selectAll(j,
a)})},select:function(j){return this._select(function(a){return ua.selectionEngine.select(j,a)})},groups:null,parentNode:null,__class__:ub};Ad=function(j){ub.call(this,j)};y["dhx.UnboundSelection"]=Ad;Ad.__name__=["dhx","UnboundSelection"];Ad.__super__=ub;Ad.prototype=g(ub.prototype,{selectAllData:function(j){j=this.selectAll(j);return new Gd(j.groups)},data:function(j,a){var b=[],f=[],g=[];if(null==a)for(var h=0,i=this.groups;h<i.length;){var k=i[h];++h;ub.bind(k,j,b,f,g)}else{h=0;for(i=this.groups;h<
i.length;)k=i[h],++h,ub.bindJoin(a,k,j,b,f,g)}return new Hd(b,f,g)},transition:function(){return new Zd(this)},style:function(j){return new Ta(j,this)},property:function(j){return new Qd(j,this)},classed:function(){return new Pc(this)},attr:function(j){return new vd(j,this)},text:function(){return new Rd(this)},html:function(){return new Pd(this)},__class__:Ad});jd=function(j){Ad.call(this,j)};y["dhx.Selection"]=jd;jd.__name__=["dhx","Selection"];jd.__properties__={get_currentNode:"get_currentNode",
get_current:"get_current"};jd.create=function(j){return new jd(j)};jd.get_current=function(){return ua.selectNode(rb.current)};jd.get_currentNode=function(){return rb.current};jd.__super__=Ad;jd.prototype=g(Ad.prototype,{createSelection:function(j){return new jd(j)},__class__:jd});pe=function(){};y["dhx.ISelectorEngine"]=pe;pe.__name__=["dhx","ISelectorEngine"];pe.prototype={selectAll:null,select:null,__class__:pe};Wd=function(){};y["dhx.NativeSelectorEngine"]=Wd;Wd.__name__=["dhx","NativeSelectorEngine"];
Wd.__interfaces__=[pe];Wd.supported=function(){return"undefined"!=typeof document.querySelector};Wd.prototype={selectAll:function(j,a){null==a&&(a=Sa.document);for(var b=a.querySelectorAll(j),f=[],g=0,h=b.length;g<h;){var i=g++;f.push(b[i])}return f},select:function(j,a){null==a&&(a=Sa.document);return a.querySelector(j)},__class__:Wd};Bd=function(){};y["dhx.SizzleEngine"]=Bd;Bd.__name__=["dhx","SizzleEngine"];Bd.__interfaces__=[pe];Bd.supported=function(){return null!=Bd.getSizzle()};Bd.getSizzle=
function(){return"undefined"!=typeof Sizzle&&Sizzle||"undefined"!=typeof jQuery&&jQuery.find||"undefined"!=typeof $&&$.find};Bd.prototype={selectAll:function(j,a){return Ee.uniqueSort(Ee.select(j,a))},select:function(j,a){return Ee.select(j,a)[0]},__class__:Bd};ua=function(){};y["dhx.Dom"]=ua;ua.__name__=["dhx","Dom"];ua.select=function(j){return ua.doc.select(j)};ua.selectAll=function(j){return ua.doc.selectAll(j)};ua.selectNode=function(j){return jd.create([new rb([j])])};ua.selectNodes=function(j){return jd.create([new rb(j)])};
ua.selectNodeData=function(j){return Gd.create([new rb([j])])};zd=function(){};y["dhx.Namespace"]=zd;zd.__name__=["dhx","Namespace"];zd.qualify=function(j){var a=j.indexOf(":");if(0>a)return null;var b=zd.prefix.get(M.substr(j,0,a));if(null==b)throw"unable to find a namespace for "+b;return new ve(b,M.substr(j,a+1,null))};ve=function(j,a){this.space=j;this.local=a};y["dhx.NSQualifier"]=ve;ve.__name__=["dhx","NSQualifier"];ve.prototype={local:null,space:null,__class__:ve};kd=function(j){ub.call(this,
j)};y["dhx.BoundSelection"]=kd;kd.__name__=["dhx","BoundSelection"];kd.__super__=ub;kd.prototype=g(ub.prototype,{on:function(j,a,b){null==b&&(b=!1);return this.onNode(j,null==a?null:function(j,b){a(B.field(j,"__dhx_data__"),b)},b)},first:function(j){return this.firstNode(function(a){return j(B.field(a,"__dhx_data__"))})},map:function(j){for(var a=[],b=0,f=this.groups;b<f.length;){var g=f[b];++b;for(var h=new rb([]),i=0,g=M.iter(g.nodes);g.hasNext();){var k=g.next();null!=k&&(k.__dhx_data__=j(B.field(k,
"__dhx_data__"),i++));h.nodes.push(k)}a.push(h)}return this.createSelection(a)},filter:function(j){return this.filterNode(function(a,b){return j(B.field(a,"__dhx_data__"),b)})},sort:function(j){return this.sortNode(function(a,b){return j(B.field(a,"__dhx_data__"),B.field(b,"__dhx_data__"))})},each:function(j){return this.eachNode(function(a,b){j(B.field(a,"__dhx_data__"),b)})},selfData:function(){return this.dataf(function(j){return j})},dataf:function(j,a){if(null==a)for(var b=[],f=[],g=[],h=0,i=
0,k=this.groups;i<k.length;){var l=k[i];++i;ub.bind(l,j(B.field(l.parentNode,"__dhx_data__"),h++),b,f,g)}else{b=[];f=[];g=[];i=h=0;for(k=this.groups;i<k.length;)l=k[i],++i,ub.bindJoin(a,l,j(B.field(l.parentNode,"__dhx_data__"),h++),b,f,g)}return new Hd(b,f,g)},data:function(j,a){var b=[],f=[],g=[];if(null==a)for(var h=0,i=this.groups;h<i.length;){var k=i[h];++h;ub.bind(k,j,b,f,g)}else{h=0;for(i=this.groups;h<i.length;)k=i[h],++h,ub.bindJoin(a,k,j,b,f,g)}return new Hd(b,f,g)},transition:function(){return new $d(this)},
style:function(j){return new ke(j,this)},property:function(j){return new je(j,this)},classed:function(){return new he(this)},attr:function(j){return new ge(j,this)},text:function(){return new le(this)},html:function(){return new ie(this)},__class__:kd});Vd=function(j,a){kd.call(this,j);this._choice=a};y["dhx.UpdateSelection"]=Vd;Vd.__name__=["dhx","UpdateSelection"];Vd.__super__=kd;Vd.prototype=g(kd.prototype,{exit:function(){return this._choice.exit()},enter:function(){return this._choice.enter()},
update:function(){return this},createSelection:function(j){return new Vd(j,this._choice)},_choice:null,__class__:Vd});Hd=function(j,a,b){this._update=j;this._enter=a;this._exit=b;Vd.call(this,this._update,this)};y["dhx.DataChoice"]=Hd;Hd.__name__=["dhx","DataChoice"];Hd.merge=function(j,a){rb.merge(j,a._update)};Hd.__super__=Vd;Hd.prototype=g(Vd.prototype,{exit:function(){return new ae(this._exit,this)},enter:function(){return new we(this._enter,this)},_exit:null,_enter:null,_update:null,__class__:Hd});
Gd=function(j){kd.call(this,j)};y["dhx.ResumeSelection"]=Gd;Gd.__name__=["dhx","ResumeSelection"];Gd.create=function(j){return new Gd(j)};Gd.__super__=kd;Gd.prototype=g(kd.prototype,{createSelection:function(j){return new Gd(j)},__class__:Gd});we=function(j,a){this.groups=j;this._choice=a};y["dhx.PreEnterSelection"]=we;we.__name__=["dhx","PreEnterSelection"];we.prototype={_select:function(j){for(var a=[],b,f,g=0,h=this.groups;g<h.length;){var i=h[g];++g;a.push(b=new rb([]));b.parentNode=i.parentNode;
for(var k=M.iter(i.nodes);k.hasNext();){var l=k.next();null!=l?(b.nodes.push(f=j(i.parentNode)),f.__dhx_data__=B.field(l,"__dhx_data__")):b.nodes.push(null)}}Hd.merge(a,this._choice);return this.createSelection(a)},createSelection:function(j){return new be(j,this._choice)},insert:function(j,a,b){var f=zd.qualify(j);return this._select(null==f?function(f){var g=Sa.document.createElement(j),h=null!=a?a:ua.selectNode(f).select(b).node();f.insertBefore(g,h);return g}:function(j){var g=Sa.document.createElementNS(f.space,
f.local),h=null!=a?a:ua.selectNode(j).select(b).node();j.insertBefore(g,h);return g})},append:function(j){var a=zd.qualify(j);return this._select(null==a?function(a){var b=Sa.document.createElement(j);a.appendChild(b);return b}:function(j){var b=Sa.document.createElementNS(a.space,a.local);j.appendChild(b);return b})},_choice:null,groups:null,__class__:we};be=function(j,a){kd.call(this,j);this._choice=a};y["dhx.EnterSelection"]=be;be.__name__=["dhx","EnterSelection"];be.__super__=kd;be.prototype=
g(kd.prototype,{update:function(){return this._choice.update()},exit:function(){return this._choice.exit()},createSelection:function(j){return new be(j,this._choice)},_choice:null,__class__:be});ae=function(j,a){Ad.call(this,j);this._choice=a};y["dhx.ExitSelection"]=ae;ae.__name__=["dhx","ExitSelection"];ae.__super__=Ad;ae.prototype=g(Ad.prototype,{update:function(){return this._choice.update()},enter:function(){return this._choice.enter()},createSelection:function(j){return new ae(j,this._choice)},
_choice:null,__class__:ae});Xd=function(){};y["dhx.Svg"]=Xd;Xd.__name__=["dhx","Svg"];Xd.mouse=function(j){var a=(null!=j.ownerSVGElement?j.ownerSVGElement:j).createSVGPoint();if(Xd._usepage&&(Sa.window.scrollX||Sa.window.scrollY)){var b=ua.selectNode(Sa.document.body).append("svg:svg").style("position").string("absolute").style("top")["float"](0).style("left")["float"](0),f=b.node().getScreenCTM();Xd._usepage=!(f.f||f.e);b.remove()}Xd._usepage?(a.x=ua.event.pageX,a.y=ua.event.pageY):(a.x=ua.event.clientX,
a.y=ua.event.clientY);a=a.matrixTransform(j.getScreenCTM().inverse());return[a.x,a.y]};vb=function(){};y["dhx.Timer"]=vb;vb.__name__=["dhx","Timer"];vb.timer=function(j,a){null==a&&(a=0);var b=(new Date).getTime(),f=!1,g=vb.queue;if(Math.isFinite(a)){for(;null!=g;){if(B.compareMethods(j,g.f)){g.then=b;g.delay=a;f=!0;break}g=g.next}f||(vb.queue={f:j,then:b,delay:a,next:vb.queue,flush:!1});0==vb.interval&&(vb.timeout=clearTimeout(vb.timeout),vb.interval=1,window.requestAnimationFrame(vb._step))}};vb.step=
function(){for(var j,a=(new Date).getTime(),b=vb.queue;null!=b;)j=a-b.then,j>b.delay&&(b.flush=b.f(j)),b=b.next;j=vb._flush()-a;24<j?(Math.isFinite(j)&&(clearTimeout(vb.timeout),vb.timeout=setTimeout(vb._step,j)),vb.interval=0):(vb.interval=1,window.requestAnimationFrame(vb._step))};vb.flush=function(){for(var j,a=(new Date).getTime(),b=vb.queue;null!=b;)j=a-b.then,0==b.delay&&(b.flush=b.f(j)),b=b.next;vb._flush()};vb._flush=function(){for(var j,a=null,b=vb.queue,f=Math.POSITIVE_INFINITY;null!=b;)b.flush?
(j=null!=a?a.next=b.next:vb.queue=b.next,b=j):(f=Math.min(f,b.then+b.delay),b=(a=b).next);return f};ic=function(j){this.selection=j;var b=this._transitionId=0<ic._inheritid?ic._inheritid:++ic._id;this._tweens=new La;this._interpolators=[];this._remove=!1;this._stage=[];this._delay=[];this._duration=[];this._ease=ic.DEFAULT_EASE;this._step=a(this,this.step);j.eachNode(function(j){B.hasField(j,"__dhx_transition__")?B.field(j,"__dhx_transition__").owner=b:j.__dhx_transition__={owner:b}});this.delay(null,
0);this.duration(null,250)};y["dhx.BaseTransition"]=ic;ic.__name__=["dhx","BaseTransition"];ic.CUBIC_EQUATION=function(j){return Math.pow(j,3)};ic.DEFAULT_EASE=function(j){return 0.5*(0.5>j?ic.CUBIC_EQUATION(2*j):2-ic.CUBIC_EQUATION(2-2*j))};ic.prototype={_this:function(){return this},createTransition:function(){throw"abstract method";},selectAll:function(j){var a,j=this.createTransition(this.selection.selectAll(j));j._ease=this._ease;var b=this._delay,f=this._duration;a=-1;j.delay(function(j,f){return b[0<
f?a:++a]});a=-1;j.delay(function(j,b){return f[0<b?a:++a]});return j},select:function(j){var a,j=this.createTransition(this.selection.select(j));j._ease=this._ease;var b=this._delay,f=this._duration;a=-1;j.delay(function(){return b[++a]});a=-1;j.delay(function(){return f[++a]});return j},remove:function(j){null==j&&(j=!0);this._remove=j;return this._this()},ease:function(j){this._ease=j;return this._this()},duration:function(j,a){null==a&&(a=0);var b=-1,f=this;null!=j?(this._durationMax=0,this.selection.eachNode(function(a,
g){var qa=f._duration[++b]=j(a,g);qa>f._durationMax&&(f._durationMax=qa)})):(this._durationMax=a,this.selection.eachNode(function(){f._duration[++b]=f._durationMax}));return this._this()},delay:function(j,a){null==a&&(a=0);var b=Math.POSITIVE_INFINITY,f=-1,g=this;null!=j?this.selection.eachNode(function(a,qa){var h=g._delay[++f]=j(a,qa);h<b&&(b=h)}):(b=a,this.selection.eachNode(function(){g._delay[++f]=b}));vb.timer(this._step,b);return this._this()},stop:function(){var j=-1,a=this;this.selection.eachNode(function(b){a._stage[++j]=
2;B.deleteField(b,"__dhx_transition__")});return this._this()},endNode:function(j){this._end=j;return this._this()},startNode:function(j){this._start=j;return this._this()},step:function(j){var a=!0,b=-1,f=this;this.selection.eachNode(function(g,h){if(2!=f._stage[++b]){var i=(j-f._delay[b])/f._duration[b],k=B.field(g,"__dhx_transition__"),l,m=f._interpolators[b];if(1>i){if(a=!1,0>i)return}else i=1;if(null!=f._stage[b]){if(null==k||k.active!=f._transitionId){f._stage[b]=2;return}}else{if(null==k||
k.active>f._transitionId){f._stage[b]=2;return}f._stage[b]=1;null!=f._start&&f._start(g,h);m=f._interpolators[b]=new La;k.active=f._transitionId;for(l=f._tweens.keys();l.hasNext();){var p=l.next(),r=f._tweens.get(p);m.set(p,r(g,h))}}l=f._ease(i);for(r=f._tweens.keys();r.hasNext();)p=r.next(),m.get(p)(l);if(1==i&&(f._stage[b]=2,k.active==f._transitionId))i=k.owner,i==f._transitionId&&(B.deleteField(g,"__dhx_transition__"),f._remove&&g.parentNode.removeChild(g)),ic._inheritid=f._transitionId,null!=
f._end&&f._end(g,h),ic._inheritid=0,k.owner=i}});return a},selection:null,_end:null,_start:null,_step:null,_ease:null,_durationMax:null,_duration:null,_delay:null,_stage:null,_remove:null,_interpolators:null,_tweens:null,_transitionId:null,__class__:ic};Zd=function(j){ic.call(this,j)};y["dhx.UnboundTransition"]=Zd;Zd.__name__=["dhx","UnboundTransition"];Zd.__super__=ic;Zd.prototype=g(ic.prototype,{createTransition:function(j){return new Zd(j)},attr:function(j){return new Sd(j,this,this._tweens)},
style:function(j){return new Td(j,this,this._tweens)},text:function(){return new Ud(this,this._tweens)},__class__:Zd});$d=function(j){ic.call(this,j)};y["dhx.BoundTransition"]=$d;$d.__name__=["dhx","BoundTransition"];$d.__super__=ic;$d.prototype=g(ic.prototype,{createTransition:function(j){return new $d(j)},end:function(j){return this.endNode(function(a,b){j(B.field(a,"__dhx_data__"),b)})},start:function(j){return this.startNode(function(a,b){j(B.field(a,"__dhx_data__"),b)})},attr:function(j){return new me(j,
this,this._tweens)},style:function(j){return new ne(j,this,this._tweens)},text:function(){return new oe(this,this._tweens)},__class__:$d});var Hc,wd,xe,ye;Eb={__ename__:["erazor","_Parser","ParseContext"],__constructs__:["literal","code"]};Ob=void 0;Eb.literal=["literal",0];Eb.literal.toString=N;Eb.literal.__enum__=Eb;Eb.code=["code",1];Eb.code.toString=N;Eb.code.__enum__=Eb;Ob={__ename__:["erazor","_Parser","ParseResult"],__constructs__:["keepGoing","doneIncludeCurrent","doneSkipCurrent"],keepGoing:["keepGoing",
0]};Ob.keepGoing.toString=N;Ob.keepGoing.__enum__=Ob;Ob.doneIncludeCurrent=["doneIncludeCurrent",1];Ob.doneIncludeCurrent.toString=N;Ob.doneIncludeCurrent.__enum__=Ob;Ob.doneSkipCurrent=["doneSkipCurrent",2];Ob.doneSkipCurrent.toString=N;Ob.doneSkipCurrent.__enum__=Ob;Hc=function(){this.condMatch=new xa("^@(?:if|for|while)\\b","");this.inConditionalMatch=new xa("^(?:\\}[\\s\r\n]*else if\\b|\\}[\\s\r\n]*else[\\s\r\n]*{)","");this.variableChar=new xa("^[_\\w\\.]$","")};y["erazor.Parser"]=Hc;Hc.__name__=
["erazor","Parser"];Hc.prototype={parseWithPosition:function(j){this.pos=0;var a=[];this.bracketStack=[];for(this.conditionalStack=0;""!=j;){this.context=this.parseContext(j);var b=this.parseBlock(j);null!=b.block&&a.push(b);j=M.substr(j,b.length,null);this.pos+=b.length}if(0!=this.bracketStack.length)throw new Db(Hc.bracketMismatch,this.pos);return a},parse:function(j){this.pos=0;var a=[];this.bracketStack=[];for(this.conditionalStack=0;""!=j;){this.context=this.parseContext(j);var b=this.parseBlock(j);
null!=b.block&&a.push(b.block);j=M.substr(j,b.length,null);this.pos+=b.length}if(0!=this.bracketStack.length)throw new Db(Hc.bracketMismatch,this.pos);return a},escapeLiteral:function(j){return aa.replace(j,Hc.at+Hc.at,Hc.at)},parseLiteral:function(j){for(var a=j.length,b=-1;++b<a;)switch(j.charAt(b)){case Hc.at:if(a>b+1&&j.charAt(b+1)!=Hc.at)return{block:wd.literal(this.escapeLiteral(M.substr(j,0,b))),length:b,start:this.pos};++b;break;case "}":if(0<this.bracketStack.length)switch(this.bracketStack[this.bracketStack.length-
1][1]){case 1:return{block:wd.literal(this.escapeLiteral(M.substr(j,0,b))),length:b,start:this.pos};case 0:this.bracketStack.pop()}else throw new Db(Hc.bracketMismatch,this.pos);break;case "{":this.bracketStack.push(Eb.literal)}return{block:wd.literal(this.escapeLiteral(j)),length:a,start:this.pos}},parseString:function(j,a,b){for(var f=!1,g=!1,h=-1;++h<j.length;){var i=j.charAt(h);if(!g&&!f){switch(a(i)[1]){case 1:return M.substr(j,0,h+1);case 2:return M.substr(j,0,h)}'"'==i?g=!0:"'"==i&&(f=!0)}else g&&
'"'==i&&"\\"!=j.charAt(h-1)?g=!1:f&&"'"==i&&"\\"!=j.charAt(h-1)&&(f=!1)}if(b)throw new Db("Failed to find a closing delimiter: ",this.pos,M.substr(j,0,100));return j},parseCodeBlock:function(j){if(0<this.bracketStack.length&&"}"==this.peek(j)){if(this.inConditionalMatch.match(j))return j=this.parseScriptPart(j,"","{"),{block:wd.codeBlock(j),length:j.length,start:this.pos};var a;switch(this.bracketStack.pop()[1]){case 1:a=0>--this.conditionalStack;break;default:a=!0}if(a)throw new Db(Hc.bracketMismatch,
this.pos);return{block:wd.codeBlock("}"),length:1,start:this.pos}}if(this.condMatch.match(j))return this.bracketStack.push(Eb.code),++this.conditionalStack,this.parseConditional(j);if("@"==this.peek(j)&&this.isIdentifier(this.peek(j,1)))return this.parseVariable(j);a=this.peek(j,1);var j=this.parseScriptPart(M.substr(j,1,null),a,"{"==a?"}":")"),b=aa.trim(M.substr(j,1,j.length-2));return"{"==a?{block:wd.codeBlock(b),length:j.length+1,start:this.pos}:{block:wd.printBlock(b),length:j.length+1,start:this.pos}},
parseVariableChar:function(j){return this.variableChar.match(j)?Ob.keepGoing:Ob.doneSkipCurrent},parseVariable:function(j){var a="",b=null,j=M.substr(j,1,null);do{b=this.acceptIdentifier(j);j=M.substr(j,b.length,null);a+=b;for(b=this.peek(j);"("==b||"["==b;)b=this.acceptBracket(j,b),j=M.substr(j,b.length,null),a+=b,b=this.peek(j);if("."==b&&this.isIdentifier(this.peek(j,1)))j=M.substr(j,1,null),a+=".";else break}while(null!=b);return{block:wd.printBlock(a),length:a.length+1,start:this.pos}},peek:function(j,
a){null==a&&(a=0);return j.length>a?j.charAt(a):null},parseConditional:function(j){j=this.parseScriptPart(j,"","{");return{block:wd.codeBlock(M.substr(j,1,null)),length:j.length,start:this.pos}},parseBlock:function(j){return this.context==Eb.code?this.parseCodeBlock(j):this.parseLiteral(j)},acceptBracket:function(j,a){return this.parseScriptPart(j,a,"("==a?")":"]")},acceptIdentifier:function(j){var a=!0,b=this;return this.accept(j,function(j){j=b.isIdentifier(j,a);a=!1;return j},!1)},isIdentifier:function(j,
a){null==a&&(a=!0);return a?"a"<=j&&"z">=j||"A"<=j&&"Z">=j||"_"==j:"a"<=j&&"z">=j||"A"<=j&&"Z">=j||"0"<=j&&"9">=j||"_"==j},accept:function(j,a,b){return this.parseString(j,function(j){return a(j)?Ob.keepGoing:Ob.doneSkipCurrent},b)},parseContext:function(j){if(this.peek(j)==Hc.at&&this.peek(j,1)!=Hc.at)return Eb.code;if(0<this.conditionalStack&&"}"==this.peek(j))switch(this.bracketStack[this.bracketStack.length-1][1]){case 1:return Eb.code}return Eb.literal},parseScriptPart:function(j,a,b){for(var f=
!1,g=!1,h=""==a?1:0,i=-1;++i<j.length;){var k=j.charAt(i);if(!g&&!f)switch(k){case a:++h;break;case b:--h;if(0==h)return M.substr(j,0,i+1);if(0>h)throw new Db("Unbalanced braces for block: ",this.pos,M.substr(j,0,100));break;case '"':g=!0;break;case "'":f=!0}else g&&'"'==k&&"\\"!=j.charAt(i-1)?g=!1:f&&"'"==k&&"\\"!=j.charAt(i-1)&&(f=!1)}throw new Db("Failed to find a closing delimiter for the script block: ",this.pos,M.substr(j,0,100));},pos:null,conditionalStack:null,bracketStack:null,context:null,
variableChar:null,inConditionalMatch:null,condMatch:null,__class__:Hc};xe=function(j){this.context=j};y["erazor.ScriptBuilder"]=xe;xe.__name__=["erazor","ScriptBuilder"];xe.prototype={blockToString:function(j){switch(j[1]){case 0:return j=j[2],this.context+".add('"+aa.replace(j,"'","\\'")+"');\n";case 1:return j=j[2],j+"\n";case 2:return j=j[2],this.context+".add("+j+");\n"}},build:function(j){for(var a=new Gc,b=0;b<j.length;){var f=j[b];++b;a.b+=I.string(this.blockToString(f))}return a.b},context:null,
__class__:xe};wd={__ename__:["erazor","TBlock"],__constructs__:["literal","codeBlock","printBlock"],literal:function(j){j=["literal",0,j];j.__enum__=wd;j.toString=N;return j},codeBlock:function(j){j=["codeBlock",1,j];j.__enum__=wd;j.toString=N;return j},printBlock:function(j){j=["printBlock",2,j];j.__enum__=wd;j.toString=N;return j}};ye=function(j){this.template=j};y["erazor.Template"]=ye;ye.__name__=["erazor","Template"];ye.prototype={setInterpreterVars:function(j,a){if(X.__instanceof(a,La))for(var b=
a.keys();b.hasNext();){var f=b.next();j.variables.set(f,a.get(f))}else for(var b=0,g=B.fields(a);b<g.length;)f=g[b],++b,j.variables.set(f,B.field(a,f))},execute:function(j){var a=new Gc,b=(new Hc).parse(this.template),b=(new xe("__b__")).build(b),b=(new Fc).parseString(b),f=new Dd;this.variables=f.variables;var g=[];this.setInterpreterVars(f,j);f.variables.set("__b__",a);f.variables.set("__string_buf__",function(j){g.push(j);return new Gc});f.variables.set("__restore_buf__",function(){return g.pop()});
f.execute(b);return a.b},variables:null,template:null,__class__:ye};Db=function(j,a,b){this.msg=j;this.pos=a;this.excerpt=b};y["erazor.error.ParserError"]=Db;Db.__name__=["erazor","error","ParserError"];Db.prototype={toString:function(){var j=this.excerpt;if(null!=j){var a=j.indexOf("\n");-1!=a&&(j=M.substr(j,0,a))}return this.msg+" @ "+this.pos+(null!=j?' ( "'+j+'" )':"")},excerpt:null,pos:null,msg:null,__class__:Db};Y=Xc=na=Ub=gc=jb=pd=Fc=void 0;pd=function(){this.locals=new La;this.declared=[];
this.variables=new La;this.variables.set("null",null);this.variables.set("true",!0);this.variables.set("false",!1);this.variables.set("trace",function(j){Oc.trace(I.string(j),{fileName:"hscript",lineNumber:0})});this.initOps()};y["hscript.Interp"]=pd;pd.__name__=["hscript","Interp"];pd.prototype={cnew:function(j,a){return ea.createInstance(ea.resolveClass(j),a)},call:function(j,a,b){return a.apply(j,b)},set:function(j,a,b){if(null==j)throw jb.EInvalidAccess(a);return j[a]=b},get:function(j,a){if(null==
j)throw jb.EInvalidAccess(a);return B.field(j,a)},forLoop:function(j,a,b){var f=this.declared.length;this.declared.push({n:j,old:this.locals.get(j)});a=this.makeIterator(this.expr(a));try{for(;a.hasNext();){this.locals.set(j,{r:a.next()});try{this.expr(b)}catch(g){if(X.__instanceof(g,gc.Stop))switch(g[1]){case 0:throw"__break__";case 2:throw g;}else throw g;}}}catch(h){if("__break__"!=h)throw h;}this.restore(f)},makeIterator:function(j){try{j=h(j)()}catch(a){}if(null==j.hasNext||null==j.next)throw jb.EInvalidIterator(j);
return j},whileLoop:function(j,a){var b=this.declared.length;try{for(;!0==this.expr(j);)try{this.expr(a)}catch(f){if(X.__instanceof(f,gc.Stop))switch(f[1]){case 0:throw"__break__";case 2:throw f;}else throw f;}}catch(g){if("__break__"!=g)throw g;}this.restore(b)},expr:function(j){var a=j;switch(a[1]){case 0:a=a[2];switch(a[1]){case 0:var b=a[2];return b;case 1:return b=a[2];case 2:return a[2];case 3:return b=a[2]}break;case 1:j=a[2];a=this.locals.get(j);if(null!=a)return a.r;b=this.variables.get(j);
if(null==b&&!this.variables.exists(j))throw jb.EUnknownVariable(j);return b;case 2:var j=a[4],f=a[2];this.declared.push({n:f,old:this.locals.get(f)});this.locals.set(f,{r:null==j?null:this.expr(j)});break;case 3:return j=a[2],this.expr(j);case 4:for(var f=a[2],g=this.declared.length,b=null,a=0;a<f.length;)j=f[a],++a,b=this.expr(j);this.restore(g);return b;case 5:return b=a[3],j=a[2],this.get(this.expr(j),b);case 6:f=a[4];j=a[3];a=a[2];b=this.binops.get(a);if(null==b)throw jb.EInvalidOp(a);return b(j,
f);case 7:switch(j=a[4],b=a[3],a=a[2],a){case "!":return!0!=this.expr(j);case "-":return-this.expr(j);case "++":return this.increment(j,b,1);case "--":return this.increment(j,b,-1);case "~":return~this.expr(j);default:throw jb.EInvalidOp(a);}case 8:b=a[3];j=a[2];g=[];for(a=0;a<b.length;)f=b[a],++a,g.push(this.expr(f));a=j;switch(a[1]){case 5:b=a[3];f=a[2];j=this.expr(f);if(null==j)throw jb.EInvalidAccess(b);return this.call(j,B.field(j,b),g);default:return this.call(null,this.expr(j),g)}case 9:return f=
a[4],j=a[3],a=a[2],!0==this.expr(a)?this.expr(j):null==f?null:this.expr(f);case 10:j=a[3];a=a[2];this.whileLoop(a,j);break;case 11:j=a[4];g=a[3];b=a[2];this.forLoop(b,g,j);break;case 12:throw gc.Stop.SBreak;case 13:throw gc.Stop.SContinue;case 15:throw j=a[2],gc.Stop.SReturn(null==j?null:this.expr(j));case 14:var j=a[4],h=a[3],i=a[2],k=this.duplicate(this.locals),l=this,a=B.makeVarArgs(function(j){if(j.length!=i.length)throw"Invalid number of parameters";var a=l.locals;l.locals=l.duplicate(k);for(var b=
0,f=i.length;b<f;){var g=b++;l.locals.set(i[g].name,{r:j[g]})}j=null;try{j=l.exprReturn(h)}catch(qa){throw l.locals=a,qa;}l.locals=a;return j});null!=j&&this.variables.set(j,a);return a;case 17:b=a[2];g=[];for(a=0;a<b.length;)j=b[a],++a,g.push(this.expr(j));return g;case 16:return b=a[3],j=a[2],this.expr(j)[this.expr(b)];case 18:b=a[3];f=a[2];g=[];for(a=0;a<b.length;)j=b[a],++a,g.push(this.expr(j));return this.cnew(f,g);case 19:throw j=a[2],this.expr(j);case 20:var m=a[5],f=a[3],j=a[2],g=this.declared.length;
try{return b=this.expr(j),this.restore(g),b}catch(p){if(X.__instanceof(p,gc.Stop))throw p;j=p;this.restore(g);this.declared.push({n:f,old:this.locals.get(f)});this.locals.set(f,{r:j});b=this.expr(m);this.restore(g);return b}case 21:j=a[2];g={};for(a=0;a<j.length;)b=j[a],++a,this.set(g,b.name,this.expr(b.e));return g;case 22:return f=a[4],j=a[3],a=a[2],!0==this.expr(a)?this.expr(j):this.expr(f)}return null},restore:function(j){for(;this.declared.length>j;){var a=this.declared.pop();this.locals.set(a.n,
a.old)}},duplicate:function(j){for(var a=new La,b=j.keys();b.hasNext();){var f=b.next();a.set(f,j.get(f))}return a},exprReturn:function(j){try{return this.expr(j)}catch(a){if(X.__instanceof(a,gc.Stop))switch(a[1]){case 0:throw"Invalid break";case 1:throw"Invalid continue";case 2:return a[2]}else throw a;}return null},execute:function(j){this.locals=new La;return this.exprReturn(j)},increment:function(j,a,b){switch(j[1]){case 1:var f=j[2],j=this.locals.get(f),g=null==j?this.variables.get(f):j.r;a?
(g+=b,null==j?this.variables.set(f,g):j.r=g):null==j?this.variables.set(f,g+b):j.r=g+b;return g;case 5:return f=j[3],j=j[2],j=this.expr(j),g=this.get(j,f),a?(g+=b,this.set(j,f,g)):this.set(j,f,g+b),g;case 16:return g=j[3],j=j[2],f=this.expr(j),j=this.expr(g),g=f[j],a?(g+=b,f[j]=g):f[j]=g+b,g;default:throw jb.EInvalidOp(0<b?"++":"--");}},evalAssignOp:function(j,a,b,f){switch(b[1]){case 1:var j=b[2],g=this.locals.get(j),a=a(this.expr(b),this.expr(f));null==g?this.variables.set(j,a):g.r=a;break;case 5:j=
b[3];b=b[2];b=this.expr(b);a=a(this.get(b,j),this.expr(f));a=this.set(b,j,a);break;case 16:j=b[3];b=b[2];b=this.expr(b);j=this.expr(j);a=a(b[j],this.expr(f));b[j]=a;break;default:throw jb.EInvalidOp(j);}return a},assignOp:function(j,a){var b=this;this.binops.set(j,function(f,g){return b.evalAssignOp(j,a,f,g)})},assign:function(j,a){var b=this.expr(a);switch(j[1]){case 1:var f=j[2],g=this.locals.get(f);null==g?this.variables.set(f,b):g.r=b;break;case 5:g=j[3];f=j[2];b=this.set(this.expr(f),g,b);break;
case 16:g=j[3];f=j[2];this.expr(f)[this.expr(g)]=b;break;default:throw jb.EInvalidOp("=");}return b},initOps:function(){var j=this;this.binops=new La;this.binops.set("+",function(a,b){return j.expr(a)+j.expr(b)});this.binops.set("-",function(a,b){return j.expr(a)-j.expr(b)});this.binops.set("*",function(a,b){return j.expr(a)*j.expr(b)});this.binops.set("/",function(a,b){return j.expr(a)/j.expr(b)});this.binops.set("%",function(a,b){return j.expr(a)%j.expr(b)});this.binops.set("&",function(a,b){return j.expr(a)&
j.expr(b)});this.binops.set("|",function(a,b){return j.expr(a)|j.expr(b)});this.binops.set("^",function(a,b){return j.expr(a)^j.expr(b)});this.binops.set("<<",function(a,b){return j.expr(a)<<j.expr(b)});this.binops.set(">>",function(a,b){return j.expr(a)>>j.expr(b)});this.binops.set(">>>",function(a,b){return j.expr(a)>>>j.expr(b)});this.binops.set("==",function(a,b){return j.expr(a)==j.expr(b)});this.binops.set("!=",function(a,b){return j.expr(a)!=j.expr(b)});this.binops.set(">=",function(a,b){return j.expr(a)>=
j.expr(b)});this.binops.set("<=",function(a,b){return j.expr(a)<=j.expr(b)});this.binops.set(">",function(a,b){return j.expr(a)>j.expr(b)});this.binops.set("<",function(a,b){return j.expr(a)<j.expr(b)});this.binops.set("||",function(a,b){return!0==j.expr(a)||!0==j.expr(b)});this.binops.set("&&",function(a,b){return!0==j.expr(a)&&!0==j.expr(b)});this.binops.set("=",a(this,this.assign));this.binops.set("...",function(a,b){return new Ce(j.expr(a),j.expr(b))});this.assignOp("+=",function(j,a){return j+
a});this.assignOp("-=",function(j,a){return j-a});this.assignOp("*=",function(j,a){return j*a});this.assignOp("/=",function(j,a){return j/a});this.assignOp("%=",function(j,a){return j%a});this.assignOp("&=",function(j,a){return j&a});this.assignOp("|=",function(j,a){return j|a});this.assignOp("^=",function(j,a){return j^a});this.assignOp("<<=",function(j,a){return j<<a});this.assignOp(">>=",function(j,a){return j>>a});this.assignOp(">>>=",function(j,a){return j>>>a})},declared:null,binops:null,locals:null,
variables:null,__class__:pd};Dd=function(){pd.call(this)};y["erazor.hscript.EnhancedInterp"]=Dd;Dd.__name__=["erazor","hscript","EnhancedInterp"];Dd.__super__=pd;Dd.prototype=g(pd.prototype,{call:function(j,a,b){b=b.concat([null,null,null,null,null]);return a.apply(j,b)},get:function(j,a){if(null==j)throw jb.EInvalidAccess(a);return B.field(j,a)},__class__:Dd});ja=Ib=fc=tc=cd=Ed=Oc=Kb=dd=void 0;dd=function(j){for(var a=j.length,b=1;a>1<<b;)b++;if(8<b||a!=1<<b)throw"BaseCode : base length must be a power of two.";
this.base=j;this.nbits=b};y["haxe.BaseCode"]=dd;dd.__name__=["haxe","BaseCode"];dd.encode=function(j,a){return(new dd(lb.ofString(a))).encodeString(j)};dd.decode=function(j,a){return(new dd(lb.ofString(a))).decodeString(j)};dd.prototype={decodeString:function(j){return this.decodeBytes(lb.ofString(j)).toString()},encodeString:function(j){return this.encodeBytes(lb.ofString(j)).toString()},decodeBytes:function(j){var a=this.nbits;null==this.tbl&&this.initTable();for(var b=this.tbl,f=j.length*a>>3,
g=lb.alloc(f),h=0,i=0,k=0,l=0;l<f;){for(;8>i;){var i=i+a,h=h<<a,m=b[j.b[k++]];if(-1==m)throw"BaseCode : invalid encoded char";h|=m}i-=8;g.b[l++]=h>>i&255}return g},initTable:function(){for(var j=[],a=0;256>a;){var b=a++;j[b]=-1}for(var f=0,a=this.base.length;f<a;)b=f++,j[this.base.b[b]]=b;this.tbl=j},encodeBytes:function(j){for(var a=this.nbits,b=this.base,f=8*j.length/a|0,g=lb.alloc(f+(0==8*j.length%a?0:1)),h=0,i=0,k=(1<<a)-1,l=0,m=0;m<f;){for(;i<a;)i+=8,h<<=8,h|=j.b[l++];i-=a;g.b[m++]=b.b[h>>i&
k]&255}0<i&&(g.b[m++]=b.b[h<<a-i&k]&255);return g},tbl:null,nbits:null,base:null,__class__:dd};Ed=function(j,a){this.elt=j;this.next=a};y["haxe.FastCell"]=Ed;Ed.__name__=["haxe","FastCell"];Ed.prototype={next:null,elt:null,__class__:Ed};cd=function(){};y["haxe.FastList"]=cd;cd.__name__=["haxe","FastList"];cd.prototype={pop:function(){var j=this.head;if(null==j)return null;this.head=j.next;return j.elt},add:function(j){this.head=new Ed(j,this.head)},head:null,__class__:cd};tc=function(j){this.url=
j;this.headers=new La;this.params=new La;this.async=!0};y["haxe.Http"]=tc;tc.__name__=["haxe","Http"];tc.prototype={onStatus:function(){},onError:function(){},onData:function(){},request:function(j){var a=this,b=new fe,f=function(){if(4==b.readyState){var j;try{j=b.status}catch(f){j=null}void 0==j&&(j=null);if(null!=j)a.onStatus(j);if(null!=j&&200<=j&&400>j)a.onData(b.responseText);else switch(j){case null:case void 0:a.onError("Failed to connect or resolve host");break;case 12029:a.onError("Failed to connect to host");
break;case 12007:a.onError("Unknown host");break;default:a.onError("Http Error #"+b.status)}}};this.async&&(b.onreadystatechange=f);var g=this.postData;if(null!=g)j=!0;else for(var h=this.params.keys();h.hasNext();)var i=h.next(),g=null==g?"":g+"&",g=g+(aa.urlEncode(i)+"="+aa.urlEncode(this.params.get(i)));try{if(j)b.open("POST",this.url,this.async);else if(null!=g){var k=1>=this.url.split("?").length;b.open("GET",this.url+(k?"?":"&")+g,this.async);g=null}else b.open("GET",this.url,this.async)}catch(l){this.onError(l.toString());
return}null==this.headers.get("Content-Type")&&j&&null==this.postData&&b.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(j=this.headers.keys();j.hasNext();)h=j.next(),b.setRequestHeader(h,this.headers.get(h));b.send(g);this.async||f()},setParameter:function(j,a){this.params.set(j,a)},setHeader:function(j,a){this.headers.set(j,a)},params:null,headers:null,postData:null,async:null,url:null,__class__:tc};Kb=function(){};y["haxe.Int32"]=Kb;Kb.__name__=["haxe","Int32"];Kb.toInt=
function(j){if((j>>30&1)!=j>>>31)throw"Overflow "+I.string(j);return j};Oc=function(){};y["haxe.Log"]=Oc;Oc.__name__=["haxe","Log"];Oc.trace=function(j,a){X.__trace(j,a)};fc=function(){};y["haxe.Md5"]=fc;fc.__name__=["haxe","Md5"];fc.encode=function(j){return(new fc).doEncode(j)};fc.prototype={doEncode:function(j){for(var j=this.str2blks(j),a=1732584193,b=-271733879,f=-1732584194,g=271733878,h=0;h<j.length;)var i=a,k=b,l=f,m=g,a=this.ff(a,b,f,g,j[h],7,-680876936),g=this.ff(g,a,b,f,j[h+1],12,-389564586),
f=this.ff(f,g,a,b,j[h+2],17,606105819),b=this.ff(b,f,g,a,j[h+3],22,-1044525330),a=this.ff(a,b,f,g,j[h+4],7,-176418897),g=this.ff(g,a,b,f,j[h+5],12,1200080426),f=this.ff(f,g,a,b,j[h+6],17,-1473231341),b=this.ff(b,f,g,a,j[h+7],22,-45705983),a=this.ff(a,b,f,g,j[h+8],7,1770035416),g=this.ff(g,a,b,f,j[h+9],12,-1958414417),f=this.ff(f,g,a,b,j[h+10],17,-42063),b=this.ff(b,f,g,a,j[h+11],22,-1990404162),a=this.ff(a,b,f,g,j[h+12],7,1804603682),g=this.ff(g,a,b,f,j[h+13],12,-40341101),f=this.ff(f,g,a,b,j[h+14],
17,-1502002290),b=this.ff(b,f,g,a,j[h+15],22,1236535329),a=this.gg(a,b,f,g,j[h+1],5,-165796510),g=this.gg(g,a,b,f,j[h+6],9,-1069501632),f=this.gg(f,g,a,b,j[h+11],14,643717713),b=this.gg(b,f,g,a,j[h],20,-373897302),a=this.gg(a,b,f,g,j[h+5],5,-701558691),g=this.gg(g,a,b,f,j[h+10],9,38016083),f=this.gg(f,g,a,b,j[h+15],14,-660478335),b=this.gg(b,f,g,a,j[h+4],20,-405537848),a=this.gg(a,b,f,g,j[h+9],5,568446438),g=this.gg(g,a,b,f,j[h+14],9,-1019803690),f=this.gg(f,g,a,b,j[h+3],14,-187363961),b=this.gg(b,
f,g,a,j[h+8],20,1163531501),a=this.gg(a,b,f,g,j[h+13],5,-1444681467),g=this.gg(g,a,b,f,j[h+2],9,-51403784),f=this.gg(f,g,a,b,j[h+7],14,1735328473),b=this.gg(b,f,g,a,j[h+12],20,-1926607734),a=this.hh(a,b,f,g,j[h+5],4,-378558),g=this.hh(g,a,b,f,j[h+8],11,-2022574463),f=this.hh(f,g,a,b,j[h+11],16,1839030562),b=this.hh(b,f,g,a,j[h+14],23,-35309556),a=this.hh(a,b,f,g,j[h+1],4,-1530992060),g=this.hh(g,a,b,f,j[h+4],11,1272893353),f=this.hh(f,g,a,b,j[h+7],16,-155497632),b=this.hh(b,f,g,a,j[h+10],23,-1094730640),
a=this.hh(a,b,f,g,j[h+13],4,681279174),g=this.hh(g,a,b,f,j[h],11,-358537222),f=this.hh(f,g,a,b,j[h+3],16,-722521979),b=this.hh(b,f,g,a,j[h+6],23,76029189),a=this.hh(a,b,f,g,j[h+9],4,-640364487),g=this.hh(g,a,b,f,j[h+12],11,-421815835),f=this.hh(f,g,a,b,j[h+15],16,530742520),b=this.hh(b,f,g,a,j[h+2],23,-995338651),a=this.ii(a,b,f,g,j[h],6,-198630844),g=this.ii(g,a,b,f,j[h+7],10,1126891415),f=this.ii(f,g,a,b,j[h+14],15,-1416354905),b=this.ii(b,f,g,a,j[h+5],21,-57434055),a=this.ii(a,b,f,g,j[h+12],6,
1700485571),g=this.ii(g,a,b,f,j[h+3],10,-1894986606),f=this.ii(f,g,a,b,j[h+10],15,-1051523),b=this.ii(b,f,g,a,j[h+1],21,-2054922799),a=this.ii(a,b,f,g,j[h+8],6,1873313359),g=this.ii(g,a,b,f,j[h+15],10,-30611744),f=this.ii(f,g,a,b,j[h+6],15,-1560198380),b=this.ii(b,f,g,a,j[h+13],21,1309151649),a=this.ii(a,b,f,g,j[h+4],6,-145523070),g=this.ii(g,a,b,f,j[h+11],10,-1120210379),f=this.ii(f,g,a,b,j[h+2],15,718787259),b=this.ii(b,f,g,a,j[h+9],21,-343485551),a=this.addme(a,i),b=this.addme(b,k),f=this.addme(f,
l),g=this.addme(g,m),h=h+16;return this.rhex(a)+this.rhex(b)+this.rhex(f)+this.rhex(g)},ii:function(j,a,b,f,g,h,i){return this.cmn(this.bitXOR(b,this.bitOR(a,~f)),j,a,g,h,i)},hh:function(j,a,b,f,g,h,i){return this.cmn(this.bitXOR(this.bitXOR(a,b),f),j,a,g,h,i)},gg:function(j,a,b,f,g,h,i){return this.cmn(this.bitOR(this.bitAND(a,f),this.bitAND(b,~f)),j,a,g,h,i)},ff:function(j,a,b,f,g,h,i){return this.cmn(this.bitOR(this.bitAND(a,b),this.bitAND(~a,f)),j,a,g,h,i)},cmn:function(j,a,b,f,g,h){return this.addme(this.rol(this.addme(this.addme(a,
j),this.addme(f,h)),g),b)},rol:function(j,a){return j<<a|j>>>32-a},str2blks:function(j){for(var a=(j.length+8>>6)+1,b=[],f=16*a,g=0;g<f;){var h=g++;b[h]=0}for(h=0;h<j.length;)b[h>>2]|=M.cca(j,h)<<8*((8*j.length+h)%4),h++;b[h>>2]|=128<<8*((8*j.length+h)%4);j=8*j.length;a=16*a-2;b[a]=j&255;b[a]|=(j>>>8&255)<<8;b[a]|=(j>>>16&255)<<16;b[a]|=(j>>>24&255)<<24;return b},rhex:function(j){for(var a="",b=0;4>b;)var f=b++,a=a+("0123456789abcdef".charAt(j>>8*f+4&15)+"0123456789abcdef".charAt(j>>8*f&15));return a},
addme:function(j,a){var b=(j&65535)+(a&65535);return(j>>16)+(a>>16)+(b>>16)<<16|b&65535},bitAND:function(j,a){return(j>>>1&a>>>1)<<1|j&1&a&1},bitXOR:function(j,a){return(j>>>1^a>>>1)<<1|j&1^a&1},bitOR:function(j,a){return(j>>>1|a>>>1)<<1|j&1|a&1},__class__:fc};Ib=function(j){var a=this;this.id=setInterval(function(){a.run()},j)};y["haxe.Timer"]=Ib;Ib.__name__=["haxe","Timer"];Ib.delay=function(j,a){var b=new Ib(a);b.run=function(){b.stop();j()};return b};Ib.prototype={run:function(){},stop:function(){null!=
this.id&&(clearInterval(this.id),this.id=null)},id:null,__class__:Ib};ja={Bytes:function(j,a){this.length=j;this.b=a}};y["haxe.io.Bytes"]=ja.Bytes;ja.Bytes.__name__=["haxe","io","Bytes"];ja.Bytes.alloc=function(j){for(var a=[],b=0;b<j;)b++,a.push(0);return new ja.Bytes(j,a)};ja.Bytes.ofString=function(j){for(var a=[],b=0,f=j.length;b<f;){var g=b++,g=M.cca(j,g);127>=g?a.push(g):(2047>=g?a.push(192|g>>6):(65535>=g?a.push(224|g>>12):(a.push(240|g>>18),a.push(128|g>>12&63)),a.push(128|g>>6&63)),a.push(128|
g&63))}return new ja.Bytes(a.length,a)};ja.Bytes.prototype={toString:function(){return this.readString(0,this.length)},readString:function(j,a){if(0>j||0>a||j+a>this.length)throw ja.Error.OutsideBounds;for(var b="",f=this.b,g=String.fromCharCode,h=j,i=j+a;h<i;){var k=f[h++];if(128>k){if(0==k)break;b+=g(k)}else if(224>k)b+=g((k&63)<<6|f[h++]&127);else if(240>k)var l=f[h++],b=b+g((k&31)<<12|(l&127)<<6|f[h++]&127);else var l=f[h++],m=f[h++],b=b+g((k&15)<<18|(l&127)<<12|m<<6&127|f[h++]&127)}return b},
b:null,length:null,__class__:ja.Bytes};ja.BytesBuffer=function(){this.b=[]};y["haxe.io.BytesBuffer"]=ja.BytesBuffer;ja.BytesBuffer.__name__=["haxe","io","BytesBuffer"];ja.BytesBuffer.prototype={getBytes:function(){var j=new ja.Bytes(this.b.length,this.b);this.b=null;return j},b:null,__class__:ja.BytesBuffer};ja.Input=function(){};y["haxe.io.Input"]=ja.Input;ja.Input.__name__=["haxe","io","Input"];ja.Input.prototype={readString:function(j){var a=ja.Bytes.alloc(j);this.readFullBytes(a,0,j);return a.toString()},
readFullBytes:function(j,a,b){for(;0<b;)var f=this.readBytes(j,a,b),a=a+f,b=b-f},readBytes:function(j,a,b){var f=b,g=j.b;if(0>a||0>b||a+b>j.length)throw ja.Error.OutsideBounds;for(;0<f;)g[a]=this.readByte(),a++,f--;return b},readByte:function(){throw"Not implemented";},__class__:ja.Input};ja.BytesInput=function(j,a,b){null==a&&(a=0);null==b&&(b=j.length-a);if(0>a||0>b||a+b>j.length)throw ja.Error.OutsideBounds;this.b=j.b;this.pos=a;this.len=b};y["haxe.io.BytesInput"]=ja.BytesInput;ja.BytesInput.__name__=
["haxe","io","BytesInput"];ja.BytesInput.__super__=ja.Input;ja.BytesInput.prototype=g(ja.Input.prototype,{readBytes:function(j,a,b){if(0>a||0>b||a+b>j.length)throw ja.Error.OutsideBounds;if(0==this.len&&0<b)throw new ja.Eof;this.len<b&&(b=this.len);for(var f=this.b,j=j.b,g=0;g<b;){var h=g++;j[a+h]=f[this.pos+h]}this.pos+=b;this.len-=b;return b},readByte:function(){if(0==this.len)throw new ja.Eof;this.len--;return this.b[this.pos++]},len:null,pos:null,b:null,__class__:ja.BytesInput});ja.Output=function(){};
y["haxe.io.Output"]=ja.Output;ja.Output.__name__=["haxe","io","Output"];ja.BytesOutput=function(){this.b=new ja.BytesBuffer};y["haxe.io.BytesOutput"]=ja.BytesOutput;ja.BytesOutput.__name__=["haxe","io","BytesOutput"];ja.BytesOutput.__super__=ja.Output;ja.BytesOutput.prototype=g(ja.Output.prototype,{getBytes:function(){return this.b.getBytes()},writeByte:function(j){this.b.b.push(j)},b:null,__class__:ja.BytesOutput});ja.Eof=function(){};y["haxe.io.Eof"]=ja.Eof;ja.Eof.__name__=["haxe","io","Eof"];ja.Eof.prototype=
{__class__:ja.Eof};ja.Error={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};ja.Error.Blocked=["Blocked",0];ja.Error.Blocked.toString=N;ja.Error.Blocked.__enum__=ja.Error;ja.Error.Overflow=["Overflow",1];ja.Error.Overflow.toString=N;ja.Error.Overflow.__enum__=ja.Error;ja.Error.OutsideBounds=["OutsideBounds",2];ja.Error.OutsideBounds.toString=N;ja.Error.OutsideBounds.__enum__=ja.Error;ja.Error.Custom=function(j){j=["Custom",3,j];j.__enum__=ja.Error;j.toString=
N;return j};ja.StringInput=function(j){ja.BytesInput.call(this,ja.Bytes.ofString(j))};y["haxe.io.StringInput"]=ja.StringInput;ja.StringInput.__name__=["haxe","io","StringInput"];ja.StringInput.__super__=ja.BytesInput;ja.StringInput.prototype=g(ja.BytesInput.prototype,{__class__:ja.StringInput});Ub={__ename__:["hscript","Const"],__constructs__:["CInt","CFloat","CString","CInt32"],CInt:function(j){j=["CInt",0,j];j.__enum__=Ub;j.toString=N;return j},CFloat:function(j){j=["CFloat",1,j];j.__enum__=Ub;
j.toString=N;return j},CString:function(j){j=["CString",2,j];j.__enum__=Ub;j.toString=N;return j},CInt32:function(j){j=["CInt32",3,j];j.__enum__=Ub;j.toString=N;return j}};na={__ename__:["hscript","Expr"],__constructs__:"EConst EIdent EVar EParent EBlock EField EBinop EUnop ECall EIf EWhile EFor EBreak EContinue EFunction EReturn EArray EArrayDecl ENew EThrow ETry EObject ETernary".split(" "),EConst:function(j){j=["EConst",0,j];j.__enum__=na;j.toString=N;return j},EIdent:function(j){j=["EIdent",1,
j];j.__enum__=na;j.toString=N;return j},EVar:function(j,a,b){j=["EVar",2,j,a,b];j.__enum__=na;j.toString=N;return j},EParent:function(j){j=["EParent",3,j];j.__enum__=na;j.toString=N;return j},EBlock:function(j){j=["EBlock",4,j];j.__enum__=na;j.toString=N;return j},EField:function(j,a){var b=["EField",5,j,a];b.__enum__=na;b.toString=N;return b},EBinop:function(j,a,b){j=["EBinop",6,j,a,b];j.__enum__=na;j.toString=N;return j},EUnop:function(j,a,b){j=["EUnop",7,j,a,b];j.__enum__=na;j.toString=N;return j},
ECall:function(j,a){var b=["ECall",8,j,a];b.__enum__=na;b.toString=N;return b},EIf:function(j,a,b){j=["EIf",9,j,a,b];j.__enum__=na;j.toString=N;return j},EWhile:function(j,a){var b=["EWhile",10,j,a];b.__enum__=na;b.toString=N;return b},EFor:function(j,a,b){j=["EFor",11,j,a,b];j.__enum__=na;j.toString=N;return j},EBreak:["EBreak",12]};na.EBreak.toString=N;na.EBreak.__enum__=na;na.EContinue=["EContinue",13];na.EContinue.toString=N;na.EContinue.__enum__=na;na.EFunction=function(j,a,b,f){j=["EFunction",
14,j,a,b,f];j.__enum__=na;j.toString=N;return j};na.EReturn=function(j){j=["EReturn",15,j];j.__enum__=na;j.toString=N;return j};na.EArray=function(j,a){var b=["EArray",16,j,a];b.__enum__=na;b.toString=N;return b};na.EArrayDecl=function(j){j=["EArrayDecl",17,j];j.__enum__=na;j.toString=N;return j};na.ENew=function(j,a){var b=["ENew",18,j,a];b.__enum__=na;b.toString=N;return b};na.EThrow=function(j){j=["EThrow",19,j];j.__enum__=na;j.toString=N;return j};na.ETry=function(j,a,b,f){j=["ETry",20,j,a,b,
f];j.__enum__=na;j.toString=N;return j};na.EObject=function(j){j=["EObject",21,j];j.__enum__=na;j.toString=N;return j};na.ETernary=function(j,a,b){j=["ETernary",22,j,a,b];j.__enum__=na;j.toString=N;return j};Xc={__ename__:["hscript","CType"],__constructs__:["CTPath","CTFun","CTAnon","CTParent"],CTPath:function(j,a){var b=["CTPath",0,j,a];b.__enum__=Xc;b.toString=N;return b},CTFun:function(j,a){var b=["CTFun",1,j,a];b.__enum__=Xc;b.toString=N;return b},CTAnon:function(j){j=["CTAnon",2,j];j.__enum__=
Xc;j.toString=N;return j},CTParent:function(j){j=["CTParent",3,j];j.__enum__=Xc;j.toString=N;return j}};jb={__ename__:["hscript","Error"],__constructs__:"EInvalidChar EUnexpected EUnterminatedString EUnterminatedComment EUnknownVariable EInvalidIterator EInvalidOp EInvalidAccess".split(" "),EInvalidChar:function(j){j=["EInvalidChar",0,j];j.__enum__=jb;j.toString=N;return j},EUnexpected:function(j){j=["EUnexpected",1,j];j.__enum__=jb;j.toString=N;return j},EUnterminatedString:["EUnterminatedString",
2]};jb.EUnterminatedString.toString=N;jb.EUnterminatedString.__enum__=jb;jb.EUnterminatedComment=["EUnterminatedComment",3];jb.EUnterminatedComment.toString=N;jb.EUnterminatedComment.__enum__=jb;jb.EUnknownVariable=function(j){j=["EUnknownVariable",4,j];j.__enum__=jb;j.toString=N;return j};jb.EInvalidIterator=function(j){j=["EInvalidIterator",5,j];j.__enum__=jb;j.toString=N;return j};jb.EInvalidOp=function(j){j=["EInvalidOp",6,j];j.__enum__=jb;j.toString=N;return j};jb.EInvalidAccess=function(j){j=
["EInvalidAccess",7,j];j.__enum__=jb;j.toString=N;return j};gc={Stop:{__ename__:["hscript","_Interp","Stop"],__constructs__:["SBreak","SContinue","SReturn"]}};gc.Stop.SBreak=["SBreak",0];gc.Stop.SBreak.toString=N;gc.Stop.SBreak.__enum__=gc.Stop;gc.Stop.SContinue=["SContinue",1];gc.Stop.SContinue.toString=N;gc.Stop.SContinue.__enum__=gc.Stop;gc.Stop.SReturn=function(j){j=["SReturn",2,j];j.__enum__=gc.Stop;j.toString=N;return j};Y={__ename__:["hscript","Token"],__constructs__:"TEof TConst TId TOp TPOpen TPClose TBrOpen TBrClose TDot TComma TSemicolon TBkOpen TBkClose TQuestion TDoubleDot".split(" "),
TEof:["TEof",0]};Y.TEof.toString=N;Y.TEof.__enum__=Y;Y.TConst=function(j){j=["TConst",1,j];j.__enum__=Y;j.toString=N;return j};Y.TId=function(j){j=["TId",2,j];j.__enum__=Y;j.toString=N;return j};Y.TOp=function(j){j=["TOp",3,j];j.__enum__=Y;j.toString=N;return j};Y.TPOpen=["TPOpen",4];Y.TPOpen.toString=N;Y.TPOpen.__enum__=Y;Y.TPClose=["TPClose",5];Y.TPClose.toString=N;Y.TPClose.__enum__=Y;Y.TBrOpen=["TBrOpen",6];Y.TBrOpen.toString=N;Y.TBrOpen.__enum__=Y;Y.TBrClose=["TBrClose",7];Y.TBrClose.toString=
N;Y.TBrClose.__enum__=Y;Y.TDot=["TDot",8];Y.TDot.toString=N;Y.TDot.__enum__=Y;Y.TComma=["TComma",9];Y.TComma.toString=N;Y.TComma.__enum__=Y;Y.TSemicolon=["TSemicolon",10];Y.TSemicolon.toString=N;Y.TSemicolon.__enum__=Y;Y.TBkOpen=["TBkOpen",11];Y.TBkOpen.toString=N;Y.TBkOpen.__enum__=Y;Y.TBkClose=["TBkClose",12];Y.TBkClose.toString=N;Y.TBkClose.__enum__=Y;Y.TQuestion=["TQuestion",13];Y.TQuestion.toString=N;Y.TQuestion.__enum__=Y;Y.TDoubleDot=["TDoubleDot",14];Y.TDoubleDot.toString=N;Y.TDoubleDot.__enum__=
Y;Fc=function(){this.line=1;this.opChars="+*/-=!><&|^%~";this.identChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_";var j=[["%"],["*","/"],["+","-"],["<<",">>",">>>"],["|","&","^"],"== != > < >= <=".split(" "),["..."],["&&"],["||"],"= += -= *= /= %= <<= >>= >>>= |= &= ^=".split(" ")];this.opPriority=new La;this.opRightAssoc=new La;for(var a=0,b=j.length;a<b;)for(var f=a++,g=0,h=j[f];g<h.length;){var i=h[g];++g;this.opPriority.set(i,f);9==f&&this.opRightAssoc.set(i,!0)}this.unops=
new La;b=0;for(a=["!","++","--","-","~"];b<a.length;)i=a[b],++b,this.unops.set(i,"++"==i||"--"==i)};y["hscript.Parser"]=Fc;Fc.__name__=["hscript","Parser"];Fc.prototype={tokenString:function(j){var a;switch(j[1]){case 0:a="<eof>";break;case 1:a=this.constString(j[2]);break;case 2:a=j[2];break;case 3:a=j[2];break;case 4:a="(";break;case 5:a=")";break;case 6:a="{";break;case 7:a="}";break;case 8:a=".";break;case 9:a=",";break;case 10:a=";";break;case 11:a="[";break;case 12:a="]";break;case 13:a="?";
break;case 14:a=":"}return a},constString:function(j){var a;switch(j[1]){case 0:j=j[2];a=I.string(j);break;case 1:a=I.string(j[2]);break;case 2:a=j[2];break;case 3:j=j[2],a=I.string(j)}return a},tokenComment:function(j,a){var b=M.cca(j,1),f=this.input;if(47==b){try{for(;10!=a&&13!=a;)a=f.readByte();this["char"]=a}catch(g){}return this.token()}if(42==b){b=this.line;try{for(;;){for(;42!=a;)10==a&&this.line++,a=f.readByte();a=f.readByte();if(47==a)break}}catch(h){throw this.line=b,jb.EUnterminatedComment;
}return this.token()}this["char"]=a;return Y.TOp(j)},token:function(){if(null!=this.tokens.head)return this.tokens.pop();var j;for(0>this["char"]?j=this.readChar():(j=this["char"],this["char"]=-1);;){switch(j){case 0:return Y.TEof;case 32:case 9:case 13:break;case 10:this.line++;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:for(var a=1*(j-48),b=0;;)switch(j=this.readChar(),b*=10,j){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:a=
10*a+(j-48);break;case 46:if(0<b){if(10==b&&46==this.readChar())return this.tokens.add(Y.TOp("...")),j=a|0,Y.TConst(j==a?Ub.CInt(j):Ub.CFloat(a));this.invalidChar(j)}b=1;break;case 120:(0<a||0<b)&&this.invalidChar(j);for(var f=0;;)switch(j=this.readChar(),j){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:f=(f<<4)+(j-48)|0;break;case 65:case 66:case 67:case 68:case 69:case 70:f=(f<<4)+(j-55)|0;break;case 97:case 98:case 99:case 100:case 101:case 102:f=(f<<4)+(j-87)|
0;break;default:return this["char"]=j,j=function(a){var j;try{j=Ub.CInt(function(){if((f>>30&1)!=f>>>31)throw"Overflow "+I.string(f);return f}(a))}catch(b){j=Ub.CInt32(f)}return j}(this),Y.TConst(j)}break;default:return this["char"]=j,j=a|0,Y.TConst(0<b?Ub.CFloat(10*a/b):j==a?Ub.CInt(j):Ub.CFloat(a))}break;case 59:return Y.TSemicolon;case 40:return Y.TPOpen;case 41:return Y.TPClose;case 44:return Y.TComma;case 46:j=this.readChar();switch(j){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:a=
j-48;for(b=1;;)switch(j=this.readChar(),b*=10,j){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:a=10*a+(j-48);break;default:return this["char"]=j,Y.TConst(Ub.CFloat(a/b))}break;case 46:return j=this.readChar(),46!=j&&this.invalidChar(j),Y.TOp("...");default:return this["char"]=j,Y.TDot}break;case 123:return Y.TBrOpen;case 125:return Y.TBrClose;case 91:return Y.TBkOpen;case 93:return Y.TBkClose;case 39:return Y.TConst(Ub.CString(this.readString(39)));case 34:return Y.TConst(Ub.CString(this.readString(34)));
case 63:return Y.TQuestion;case 58:return Y.TDoubleDot;default:if(this.ops[j])for(a=String.fromCharCode(j);;){j=this.readChar();if(!this.ops[j]){if(47==M.cca(a,0))return this.tokenComment(a,j);this["char"]=j;return Y.TOp(a)}a+=String.fromCharCode(j)}if(this.idents[j])for(a=String.fromCharCode(j);;){j=this.readChar();if(!this.idents[j])return this["char"]=j,Y.TId(a);a+=String.fromCharCode(j)}this.invalidChar(j)}j=this.readChar()}return null},readString:function(a){for(var b=0,f=new ja.BytesOutput,
g=!1,h=this.line,i=this.input;;){try{b=i.readByte()}catch(k){throw this.line=h,jb.EUnterminatedString;}if(g)switch(g=!1,b){case 110:f.writeByte(10);break;case 114:f.writeByte(13);break;case 116:f.writeByte(9);break;case 39:case 34:case 92:f.writeByte(b);break;case 47:this.allowJSON?f.writeByte(b):this.invalidChar(b);break;case 117:if(!this.allowJSON)throw this.invalidChar(b);var l=null;try{l=i.readString(4)}catch(m){throw this.line=h,jb.EUnterminatedString;}for(var p=0,r=0;4>r;){var q=r++,p=p<<4,
q=M.cca(l,q);switch(q){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:p+=q-48;break;case 65:case 66:case 67:case 68:case 69:case 70:p+=q-55;break;case 97:case 98:case 99:case 100:case 101:case 102:p+=q-87;break;default:this.invalidChar(q)}}127>=p?f.writeByte(p):(2047>=p?f.writeByte(192|p>>6):(f.writeByte(224|p>>12),f.writeByte(128|p>>6&63)),f.writeByte(128|p&63));break;default:this.invalidChar(b)}else if(92==b)g=!0;else if(b==a)break;else 10==b&&this.line++,f.writeByte(b)}return f.getBytes().toString()},
readChar:function(){var a;try{a=this.input.readByte()}catch(b){a=0}return a},incPos:function(){},parseExprList:function(a){var b=[],f=this.token();if(f==a)return b;this.tokens.add(f);try{for(;;)switch(b.push(this.parseExpr()),f=this.token(),f[1]){case 9:break;default:if(f==a)throw"__break__";this.unexpected(f)}}catch(g){if("__break__"!=g)throw g;}return b},parseTypeNext:function(a){var b=this.token(),f=b;switch(f[1]){case 3:if("->"!=f[2])return this.tokens.add(b),a;break;default:return this.tokens.add(b),
a}f=b=this.parseType();switch(f[1]){case 1:return f[2].unshift(a),b;default:return Xc.CTFun([a],b)}},parseType:function(){var a=this.token(),b=a;switch(b[1]){case 2:for(var f=[b[2]];;){a=this.token();if(a!=Y.TDot)break;b=a=this.token();switch(b[1]){case 2:f.push(b[2]);break;default:this.unexpected(a)}}var g=null,b=a;switch(b[1]){case 3:if("<"==b[2]){g=[];try{for(;;){g.push(this.parseType());b=a=this.token();switch(b[1]){case 9:continue;case 3:if(">"==b[2])throw"__break__";}this.unexpected(a)}}catch(h){if("__break__"!=
h)throw h;}}break;default:this.tokens.add(a)}return this.parseTypeNext(Xc.CTPath(f,g));case 4:return a=this.parseType(),this.ensure(Y.TPClose),this.parseTypeNext(Xc.CTParent(a));case 6:f=[];try{for(;;)switch(b=a=this.token(),b[1]){case 7:throw"__break__";case 2:g=b[2];this.ensure(Y.TDoubleDot);f.push({name:g,t:this.parseType()});a=this.token();switch(a[1]){case 9:break;case 7:throw"__break__";default:this.unexpected(a)}break;default:this.unexpected(a)}}catch(i){if("__break__"!=i)throw i;}return this.parseTypeNext(Xc.CTAnon(f));
default:return this.unexpected(a)}},parseExprNext:function(a){var b=this.token(),f=b;switch(f[1]){case 3:f=f[2];if(this.unops.get(f)){var g;if(!(g=this.isBlock(a)))switch(a[1]){case 3:g=!0;break;default:g=!1}return g?(this.tokens.add(b),a):this.parseExprNext(na.EUnop(f,!1,a))}return this.makeBinop(f,a,this.parseExpr());case 8:b=this.token();g=null;f=b;switch(f[1]){case 2:g=f[2];break;default:this.unexpected(b)}return this.parseExprNext(na.EField(a,g));case 4:return this.parseExprNext(na.ECall(a,this.parseExprList(Y.TPClose)));
case 11:return b=this.parseExpr(),this.ensure(Y.TBkClose),this.parseExprNext(na.EArray(a,b));case 13:return b=this.parseExpr(),this.ensure(Y.TDoubleDot),f=this.parseExpr(),na.ETernary(a,b,f);default:return this.tokens.add(b),a}},parseStructure:function(a){var b=this;switch(a){case "if":var a=b,b=a.parseExpr(),f=a.parseExpr(),g=null,h=!1,i=a.token();i==Y.TSemicolon&&(h=!0,i=a.token());ea.enumEq(i,Y.TId("else"))?g=a.parseExpr():(a.tokens.add(i),h&&a.tokens.add(Y.TSemicolon));b=na.EIf(b,f,g);break;case "var":a=
b;b=a.token();f=null;g=b;switch(g[1]){case 2:f=g[2];break;default:a.unexpected(b)}b=a.token();g=null;b==Y.TDoubleDot&&a.allowTypes&&(g=a.parseType(),b=a.token());h=null;ea.enumEq(b,Y.TOp("="))?h=a.parseExpr():a.tokens.add(b);b=na.EVar(f,g,h);break;case "while":a=b;b=a.parseExpr();a=a.parseExpr();b=na.EWhile(b,a);break;case "for":a=b;a.ensure(Y.TPOpen);b=a.token();f=null;g=b;switch(g[1]){case 2:f=g[2];break;default:a.unexpected(b)}b=a.token();ea.enumEq(b,Y.TId("in"))||a.unexpected(b);b=a.parseExpr();
a.ensure(Y.TPClose);a=a.parseExpr();b=na.EFor(f,b,a);break;case "break":b=na.EBreak;break;case "continue":b=na.EContinue;break;case "else":b=b.unexpected(Y.TId(a));break;case "function":a=b;b=a.token();f=null;g=b;switch(g[1]){case 2:f=g[2];break;default:a.tokens.add(b)}a.ensure(Y.TPOpen);h=[];b=a.token();if(b!=Y.TPClose)for(i=!0;i;){var k=null,g=b;switch(g[1]){case 2:k=g[2];break;default:a.unexpected(b)}b=a.token();g=null;b==Y.TDoubleDot&&a.allowTypes&&(g=a.parseType(),b=a.token());h.push({name:k,
t:g});switch(b[1]){case 9:b=a.token();break;case 5:i=!1;break;default:a.unexpected(b)}}i=null;a.allowTypes&&(b=a.token(),b!=Y.TDoubleDot?a.tokens.add(b):i=a.parseType());a=a.parseExpr();b=na.EFunction(h,a,f,i);break;case "return":a=b;b=a.token();a.tokens.add(b);a=b==Y.TSemicolon?null:a.parseExpr();b=na.EReturn(a);break;case "new":a=b;b=[];g=f=a.token();switch(g[1]){case 2:f=g[2];b.push(f);break;default:a.unexpected(f)}for(h=!0;h;)switch(f=a.token(),f[1]){case 8:g=f=a.token();switch(g[1]){case 2:f=
g[2];b.push(f);break;default:a.unexpected(f)}break;case 4:h=!1;break;default:a.unexpected(f)}a=a.parseExprList(Y.TPClose);b=na.ENew(b.join("."),a);break;case "throw":a=b.parseExpr();b=na.EThrow(a);break;case "try":a=b;b=a.parseExpr();f=a.token();ea.enumEq(f,Y.TId("catch"))||a.unexpected(f);a.ensure(Y.TPOpen);g=f=a.token();switch(g[1]){case 2:f=g[2];break;default:f=a.unexpected(f)}g=f;a.ensure(Y.TDoubleDot);h=null;a.allowTypes?h=a.parseType():(f=a.token(),ea.enumEq(f,Y.TId("Dynamic"))||a.unexpected(f));
a.ensure(Y.TPClose);a=a.parseExpr();b=na.ETry(b,g,h,a);break;default:b=null}return b},makeBinop:function(a,b,f){switch(f[1]){case 6:var g=f[4],h=f[3],i=f[2],a=this.opPriority.get(a)<=this.opPriority.get(i)&&!this.opRightAssoc.exists(a)?na.EBinop(i,this.makeBinop(a,b,h),g):na.EBinop(a,b,f);break;case 22:i=f[4];g=f[3];h=f[2];a=this.opRightAssoc.exists(a)?na.EBinop(a,b,f):na.ETernary(this.makeBinop(a,b,h),g,i);break;default:a=na.EBinop(a,b,f)}return a},makeUnop:function(a,b){var f;switch(b[1]){case 6:f=
b[4];var g=b[3];f=na.EBinop(b[2],this.makeUnop(a,g),f);break;case 22:var h=b[4];f=b[3];g=b[2];f=na.ETernary(this.makeUnop(a,g),f,h);break;default:f=na.EUnop(a,!0,b)}return f},parseExpr:function(){var a=this.token(),b=a;switch(b[1]){case 2:return a=b[2],b=this.parseStructure(a),null==b&&(b=na.EIdent(a)),this.parseExprNext(b);case 1:return b=b[2],this.parseExprNext(na.EConst(b));case 4:return b=this.parseExpr(),this.ensure(Y.TPClose),this.parseExprNext(na.EParent(b));case 6:b=a=this.token();switch(b[1]){case 7:return this.parseExprNext(na.EObject([]));
case 2:b=this.token();this.tokens.add(b);this.tokens.add(a);switch(b[1]){case 14:return this.parseExprNext(this.parseObject(0))}break;case 1:b=b[2];if(this.allowJSON)switch(b[1]){case 2:b=this.token();this.tokens.add(b);this.tokens.add(a);switch(b[1]){case 14:return this.parseExprNext(this.parseObject(0))}break;default:this.tokens.add(a)}else this.tokens.add(a);break;default:this.tokens.add(a)}for(b=[];;){b.push(this.parseFullExpr());a=this.token();if(a==Y.TBrClose)break;this.tokens.add(a)}return na.EBlock(b);
case 3:return b=b[2],this.unops.exists(b)?this.makeUnop(b,this.parseExpr()):this.unexpected(a);case 11:b=[];for(a=this.token();a!=Y.TBkClose;)this.tokens.add(a),b.push(this.parseExpr()),a=this.token(),a==Y.TComma&&(a=this.token());return this.parseExprNext(na.EArrayDecl(b));default:return this.unexpected(a)}},parseObject:function(){var a=[];try{for(;;){var b=this.token(),f=null,g=b;switch(g[1]){case 2:f=g[2];break;case 1:var h=g[2];this.allowJSON||this.unexpected(b);g=h;switch(g[1]){case 2:f=g[2];
break;default:this.unexpected(b)}break;case 7:throw"__break__";default:this.unexpected(b)}this.ensure(Y.TDoubleDot);a.push({name:f,e:this.parseExpr()});b=this.token();switch(b[1]){case 7:throw"__break__";case 9:break;default:this.unexpected(b)}}}catch(i){if("__break__"!=i)throw i;}return this.parseExprNext(na.EObject(a))},parseFullExpr:function(){var a=this.parseExpr(),b=this.token();b!=Y.TSemicolon&&b!=Y.TEof&&(this.isBlock(a)?this.tokens.add(b):this.unexpected(b));return a},isBlock:function(a){switch(a[1]){case 4:case 21:a=
!0;break;case 14:var b=a[3],a=this.isBlock(b);break;case 2:b=a[4];a=null!=b&&this.isBlock(b);break;case 9:var f=a[4],b=a[3],a=null!=f?this.isBlock(f):this.isBlock(b);break;case 6:b=a[4];a=this.isBlock(b);break;case 7:b=a[4];a=!a[3]&&this.isBlock(b);break;case 10:b=a[3];a=this.isBlock(b);break;case 11:b=a[4];a=this.isBlock(b);break;case 15:b=a[2];a=null!=b&&this.isBlock(b);break;default:a=!1}return a},mk:function(a){return a},pmax:function(){return 0},pmin:function(){return 0},expr:function(a){return a},
ensure:function(a){var b=this.token();b!=a&&this.unexpected(b)},push:function(a){this.tokens.add(a)},unexpected:function(a){throw jb.EUnexpected(this.tokenString(a));},parse:function(a){this.tokens=new cd;this["char"]=-1;this.input=a;this.ops=[];this.idents=[];for(var a=0,b=this.opChars.length;a<b;){var f=a++;this.ops[M.cca(this.opChars,f)]=!0}a=0;for(b=this.identChars.length;a<b;)f=a++,this.idents[M.cca(this.identChars,f)]=!0;for(a=[];;){b=this.token();if(b==Y.TEof)break;this.tokens.add(b);a.push(this.parseFullExpr())}return 1==
a.length?a[0]:na.EBlock(a)},parseString:function(a){this.line=1;return this.parse(new ja.StringInput(a))},invalidChar:function(a){throw jb.EInvalidChar(a);},error:function(a){throw a;},tokens:null,idents:null,ops:null,"char":null,input:null,allowTypes:null,allowJSON:null,unops:null,opRightAssoc:null,opPriority:null,identChars:null,opChars:null,line:null,__class__:Fc};var ce,Id;ce=function(){this.handlers=[]};y["hxevents.Dispatcher"]=ce;ce.__name__=["hxevents","Dispatcher"];ce.prototype={stop:function(){this._stop=
!0},_stop:null,has:function(a){if(null==a)return 0<this.handlers.length;for(var b=0,f=this.handlers;b<f.length;){var g=f[b];++b;if(a==g)return!0}return!1},dispatchAndAutomate:function(a){this.dispatch(a);this.handlers=[];this.add=function(b){b(a);return b}},dispatch:function(a){for(var b=this.handlers.slice(),f=0;f<b.length;){var g=b[f];++f;if(!0==this._stop){this._stop=!1;break}g(a)}},clear:function(){this.handlers=[]},remove:function(a){for(var b=0,f=this.handlers.length;b<f;){var g=b++;if(B.compareMethods(this.handlers[g],
a))return this.handlers.splice(g,1)[0]}return null},addOnce:function(a){var b=this,f=null,f=function(g){b.remove(f);a(g)};this.add(f);return f},add:function(a){this.handlers.push(a);return a},handlers:null,__class__:ce};Id=function(){this.handlers=[]};y["hxevents.Notifier"]=Id;Id.__name__=["hxevents","Notifier"];Id.prototype={stop:function(){this._stop=!0},_stop:null,has:function(a){if(null==a)return 0<this.handlers.length;for(var b=0,f=this.handlers;b<f.length;){var g=f[b];++b;if(a==g)return!0}return!1},
dispatchAndAutomate:function(){this.dispatch();this.handlers=[];this.add=function(a){a();return a}},dispatch:function(){for(var a=this.handlers.slice(),b=0;b<a.length;){var f=a[b];++b;if(!0==this._stop){this._stop=!1;break}f()}},clear:function(){this.handlers=[]},remove:function(a){for(var b=0,f=this.handlers.length;b<f;){var g=b++;if(B.compareMethods(this.handlers[g],a))return this.handlers.splice(g,1)[0]}return null},addOnce:function(a){var b=this,f=null,f=function(){b.remove(f);a()};this.add(f);
return f},add:function(a){this.handlers.push(a);return a},handlers:null,__class__:Id};X=function(){};y["js.Boot"]=X;X.__name__=["js","Boot"];X.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};X.__trace=function(a,b){var f=null!=b?b.fileName+":"+b.lineNumber+": ":"",f=f+X.__string_rec(a,""),g;"undefined"!=typeof document&&null!=(g=document.getElementById("haxe:trace"))?g.innerHTML+=X.__unhtml(f)+"<br/>":"undefined"!=typeof console&&null!=console.log&&
console.log(f)};X.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var f=typeof a;if("function"==f&&(a.__name__||a.__ename__))f="object";switch(f){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var f=a[0]+"(",b=b+"\t",g=2,h=a.length;g<h;)var i=g++,f=2!=i?f+(","+X.__string_rec(a[i],b)):f+X.__string_rec(a[i],b);return f+")"}g=a.length;f="[";b+="\t";for(h=0;h<g;)i=h++,f+=(0<i?",":"")+X.__string_rec(a[i],b);return f+"]"}try{h=a.toString}catch(k){return"???"}if(null!=
h&&h!=Object.toString&&(f=a.toString(),"[object Object]"!=f))return f;h=null;f="{\n";b+="\t";g=null!=a.hasOwnProperty;for(h in a)if(!g||a.hasOwnProperty(h))"prototype"==h||"__class__"==h||"__super__"==h||"__interfaces__"==h||"__properties__"==h||(2!=f.length&&(f+=", \n"),f+=b+h+" : "+X.__string_rec(a[h],b));b=b.substring(1);return f+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};X.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var f=a.__interfaces__;
if(null!=f)for(var g=0,h=f.length;g<h;){var i=g++,i=f[i];if(i==b||X.__interfLoop(i,b))return!0}return X.__interfLoop(a.__super__,b)};X.__instanceof=function(a,b){try{if(a instanceof b)return b==Array?null==a.__enum__:!0;if(X.__interfLoop(a.__class__,b))return!0}catch(f){if(null==b)return!1}switch(b){case Yd:return Math.ceil(a%2147483648)===a;case Nd:return"number"==typeof a;case He:return!0===a||!1===a;case String:return"string"==typeof a;case rf:return!0;default:return null==a?!1:b==sf&&null!=a.__name__||
b==tf&&null!=a.__ename__?!0:a.__enum__==b}};X.__cast=function(a,b){if(X.__instanceof(a,b))return a;throw"Cannot cast "+I.string(a)+" to "+I.string(b);};Md=function(){};y["js.Scroll"]=Md;Md.__name__=["js","Scroll"];Md.getTop=function(){var a=window.pageYOffset;return"number"==typeof a||document.body&&(a=document.body.scrollTop)?a:document.documentElement.scrollTop};Md.getLeft=function(){var a=window.pageXOffset;return"number"==typeof a||document.body&&(a=document.body.scrollLeft)?a:document.documentElement.scrollLeft};
Wa=$a=gb=D=Jb=void 0;D=function(){(null==D.BI_RC||0==D.BI_RC.length)&&D.initBiRc();if(0==D.BI_RM.length)throw"BI_RM not initialized";this.chunks=[];switch(D.defaultAm){case 1:this.am=a(this,this.am1);break;case 2:this.am=a(this,this.am2);break;case 3:this.am=a(this,this.am3);break;default:throw"am error";}};y["math.BigInteger"]=D;D.__name__=["math","BigInteger"];D.__properties__={get_ONE:"getONE",get_ZERO:"getZERO"};D.initBiRc=function(){D.BI_RC=[];for(var a=M.cca("0",0),b=0;10>b;){var f=b++;D.BI_RC[a]=
f;a++}a=M.cca("a",0);for(b=10;37>b;)f=b++,D.BI_RC[a]=f,a++;a=M.cca("A",0);for(b=10;37>b;)f=b++,D.BI_RC[a]=f,a++};D.getZERO=function(){return D.nbv(0)};D.getONE=function(){return D.nbv(1)};D.nbv=function(a){var b=D.nbi();b.fromInt(a);return b};D.nbi=function(){return new D};D.ofString=function(a,b){var f=D.nbi(),g=function(a,j){f.fromInt(0);for(var b=Math.floor(0.6931471805599453*D.DB/Math.log(j)),g=Math.pow(j,b)|0,qa=!1,h=0,i=0,k=0,Qe=a.length;k<Qe;){var l=k++,m=D.intAt(a,l);0>m?"-"==a.charAt(l)&&
0==f.sign&&(qa=!0):(i=j*i+m,++h>=b&&(f.dMultiply(g),f.dAddOffset(i,0),i=h=0))}0<h&&(f.dMultiply(Math.pow(j,h)|0),f.dAddOffset(i,0));qa&&D.getZERO().subTo(f,f);return f};if(16==b)g=4;else{if(10==b)return g(a,b);if(256==b)g=8;else if(8==b)g=3;else if(2==b)g=1;else if(32==b)g=5;else if(4==b)g=2;else return g(a,b)}f.t=0;f.sign=0;for(var h=a.length,i=!1,k=0;0<=--h;){var l=8==g?M.cca(a,h)&255:D.intAt(a,h);0>l?"-"==a.charAt(h)&&(i=!0):(i=!1,0==k?(f.chunks[f.t]=l,f.t++):k+g>D.DB?(f.chunks[f.t-1]|=(l&(1<<
D.DB-k)-1)<<k,f.chunks[f.t]=l>>D.DB-k,f.t++):f.chunks[f.t-1]|=l<<k,k+=g,k>=D.DB&&(k-=D.DB))}8==g&&0!=(M.cca(a,0)&128)&&(f.sign=-1,0<k&&(f.chunks[f.t-1]|=(1<<D.DB-k)-1<<k));f.clamp();i&&D.getZERO().subTo(f,f);return f};D.ofInt=function(a){var b=D.nbi();b.fromInt(a);return b};D.ofInt32=function(a){var b=D.nbi();b.fromInt32(a);return b};D.ofBytes=function(a,b,f,g){null==f&&(f=0);null==g&&(g=a.length-f);if(0==g)return D.getZERO();var h=D.nbi();h.sign=0;h.t=0;for(var i=f+g,k=0;--i>=f;){var l=i<g?a.b[i]&
255:0;0==k?(h.chunks[h.t]=l,h.t++):k+8>D.DB?(h.chunks[h.t-1]|=(l&(1<<D.DB-k)-1)<<k,h.chunks[h.t]=l>>D.DB-k,h.t++):h.chunks[h.t-1]|=l<<k;k+=8;k>=D.DB&&(k-=D.DB)}!b&&0!=(a.b[0]&128)&&(h.sign=-1,0<k&&(h.chunks[h.t-1]|=(1<<D.DB-k)-1<<k));h.clamp();return h};D.random=function(a,b){null==b&&(b=new Jb.Random);if(2>a)return D.ofInt(1);var f=(a>>3)+1,g=lb.alloc(f),h=a&7;b.nextBytes(g,0,f);0<h?(f=g.b[0],g.b[0]=f&(1<<h)-1&255):g.b[0]=0;return D.ofString(fb.hexDump(g,""),16)};D.randomPrime=function(a,b,f,g,h){null==
h&&(h=new Jb.Random);for(1>f&&(f=1);;){var i=D.random(a,h);g&&(i.testBit(a-1)||i.bitwiseTo(D.getONE().shl(a-1),D.op_or,i));i.isEven()&&i.dAddOffset(1,0);i.primify(a,1);if(0==i.sub(D.getONE()).gcd(b).compare(D.getONE())&&i.isProbablePrime(f))return i}return null};D.op_and=function(a,b){return a&b};D.op_or=function(a,b){return a|b};D.op_xor=function(a,b){return a^b};D.op_andnot=function(a,b){return a&~b};D.nbits=function(a){var b=1,f;if(0!=(f=a>>>16))a=f,b+=16;if(0!=(f=a>>8))a=f,b+=8;if(0!=(f=a>>4))a=
f,b+=4;if(0!=(f=a>>2))a=f,b+=2;0!=a>>1&&(b+=1);return b};D.cbit=function(a){for(var b=0;0!=a;)a&=a-1,++b;return b};D.intAt=function(a,b){var f=D.BI_RC[M.cca(a,b)];return null==f?-1:f};D.int2charCode=function(a){return M.cca(D.BI_RM,a)};D.lbit=function(a){if(0==a)return-1;var b=0;0==(a&65535)&&(a>>=16,b+=16);0==(a&255)&&(a>>=8,b+=8);0==(a&15)&&(a>>=4,b+=4);0==(a&3)&&(a>>=2,b+=2);0==(a&1)&&++b;return b};D.dumpBi=function(a){var b="sign: "+I.string(a.sign),b=b+(" t: "+a.t);return b+I.string(a.chunks)};
D.prototype={am3:function(a,b,f,g,h,i){for(var k=b&16383,b=b>>14;0<=--i;){var l=this.chunks[a]&16383,m=this.chunks[a]>>14;a++;var p=b*l+m*k,l=k*l+((p&16383)<<14)+f.chunks[g]+h,h=(l>>28)+(p>>14)+b*m;f.chunks[g]=l&268435455;g++}return h},am2:function(a,b,f,g,h,i){for(var k=b&32767,b=b>>15;0<=--i;){var l=this.chunks[a]&32767,m=this.chunks[a]>>15;a++;var p=b*l+m*k,l=k*l+((p&32767)<<15)+f.chunks[g]+(h&1073741823),h=(l>>>30)+(p>>>15)+b*m+(h>>>30);f.chunks[g]=l&1073741823;g++}return h},am1:function(a,b,
f,g,h,i){for(;0<=--i;){var k=b*this.chunks[a]+f.chunks[g]+h;a++;h=Math.floor(k/67108864);f.chunks[g]=k&67108863;g++}return h},rShiftTo:function(a,b){b.sign=this.sign;var f=Math.floor(a/D.DB);if(f>=this.t)b.t=0;else{var g=a%D.DB,h=D.DB-g,i=(1<<g)-1;b.chunks[0]=this.chunks[f]>>g;for(var k=f+1,l=this.t;k<l;){var m=k++;b.chunks[m-f-1]|=(this.chunks[m]&i)<<h;b.chunks[m-f]=this.chunks[m]>>g}0<g&&(b.chunks[this.t-f-1]|=(this.sign&i)<<h);b.t=this.t-f;b.clamp()}},lShiftTo:function(a,b){for(var f=a%D.DB,g=
D.DB-f,h=(1<<g)-1,i=Math.floor(a/D.DB),k=this.sign<<f&D.DM,l=this.t-1;0<=l;)b.chunks[l+i+1]=this.chunks[l]>>g|k,k=(this.chunks[l]&h)<<f,l--;for(l=i-1;0<=l;)b.chunks[l]=0,l--;b.chunks[i]=k;b.t=this.t+i+1;b.sign=this.sign;b.clamp()},millerRabin:function(a){var b=this.sub(D.getONE()),f=b.getLowestSetBit();if(0>=f)return!1;var g=b.shr(f),a=a+1>>1;a>D.lowprimes.length&&(a=D.lowprimes.length);for(var h=D.nbi(),i=0;i<a;){var k=i++;h.fromInt(D.lowprimes[k]);k=h.modPow(g,this);if(0!=k.compare(D.getONE())&&
0!=k.compare(b)){for(var l=1;l++<f&&0!=k.compare(b);)if(k=k.modPowInt(2,this),0==k.compare(D.getONE()))return!1;if(0!=k.compare(b))return!1}}return!0},exp:function(a,b){if(2147483647<a||1>a)return D.getONE();var f=D.nbi(),g=D.nbi(),h=b.convert(this),i=D.nbits(a)-1;for(h.copyTo(f);0<=--i;)if(b.sqrTo(f,g),0<(a&1<<i))b.mulTo(g,h,f);else var k=f,f=g,g=k;return b.revert(f)},dMultiply:function(a){this.chunks[this.t]=this.am(0,a-1,this,0,0,this.t);this.t++;this.clamp()},chunkSize:function(a){return Math.floor(0.6931471805599453*
D.DB/Math.log(a))},changeBit:function(a,b){var f=D.getONE().shl(a);this.bitwiseTo(f,b,f);return f},bitwiseTo:function(a,b,f){for(var g,h=Math.min(a.t,this.t)|0,i=0;i<h;){var k=i++;f.chunks[k]=b(this.chunks[k],a.chunks[k])}if(a.t<this.t){g=a.sign&D.DM;for(i=this.t;h<i;)k=h++,f.chunks[k]=b(this.chunks[k],g);f.t=this.t}else{g=this.sign&D.DM;for(i=a.t;h<i;)k=h++,f.chunks[k]=b(g,a.chunks[k]);f.t=a.t}f.sign=b(this.sign,a.sign);f.clamp()},primify:function(a,b){for(;this.bitLength()>a;)this.subTo(D.getONE().shl(a-
1),this);for(;!this.isProbablePrime(b);)for(this.dAddOffset(2,0);this.bitLength()>a;)this.subTo(D.getONE().shl(a-1),this)},isProbablePrime:function(a){var b,f=this.abs();if(1==f.t&&f.chunks[0]<=D.lowprimes[D.lowprimes.length-1]){a=0;for(b=D.lowprimes.length;a<b;){var g=a++;if(f.chunks[0]==D.lowprimes[g])return!0}return!1}if(f.isEven())return!1;for(b=1;b<D.lowprimes.length;){for(var g=D.lowprimes[b],h=b+1;h<D.lowprimes.length&&g<D.lplim;)g*=D.lowprimes[h],h++;for(g=f.modInt(g);b<h;){if(0==g%D.lowprimes[b])return!1;
b++}}return f.millerRabin(a)},invDigit:function(){if(1>this.t)return 0;var a=this.chunks[0];if(0==(a&1))return 0;var b=a&3,b=b*(2-(a&15)*b)&15,b=b*(2-(a&255)*b)&255,b=b*(2-((a&65535)*b&65535))&65535,b=b*(2-a*b%D.DV)%D.DV;return 0<b?D.DV-b:-b},drShiftTo:function(a,b){if(null!=b){for(var f=a;f<this.t;)b.chunks[f-a]=this.chunks[f],f++;b.t=Math.max(this.t-a,0)|0;b.sign=this.sign}},dlShiftTo:function(a,b){if(null!=b){for(var f=this.t-1;0<=f;)b.chunks[f+a]=this.chunks[f],f--;for(f=a-1;0<=f;)b.chunks[f]=
0,f--;b.t=this.t+a;b.sign=this.sign}},dAddOffset:function(a,b){for(;this.t<=b;)this.chunks[this.t]=0,this.t++;for(this.chunks[b]+=a;this.chunks[b]>=D.DV;)this.chunks[b]-=D.DV,++b>=this.t&&(this.chunks[this.t]=0,this.t++),++this.chunks[b]},sigNum:function(){return 0>this.sign?-1:0>=this.t||1==this.t&&0>=this.chunks[0]?0:1},byteValue:function(){return 0==this.t?this.sign:this.chunks[0]<<24>>24},shortValue:function(){return 0==this.t?this.sign:this.chunks[0]<<16>>16},padTo:function(a){for(;this.t<a;)this.chunks[this.t]=
0,this.t++},gcd:function(a){var b=0>this.sign?this.neg():this.clone(),a=0>a.sign?a.neg():a.clone();if(0>b.compare(a))var f=b,b=a,a=f;var f=b.getLowestSetBit(),g=a.getLowestSetBit();if(0>g)return b;f<g&&(g=f);for(0<g&&(b.rShiftTo(g,b),a.rShiftTo(g,a));0<b.sigNum();)0<(f=b.getLowestSetBit())&&b.rShiftTo(f,b),0<(f=a.getLowestSetBit())&&a.rShiftTo(f,a),0<=b.compare(a)?(b.subTo(a,b),b.rShiftTo(1,b)):(a.subTo(b,a),a.rShiftTo(1,a));0<g&&a.lShiftTo(g,a);return a},clone:function(){var a=D.nbi();this.copyTo(a);
return a},clamp:function(){for(var a=this.sign&D.DM;0<this.t&&this.chunks[this.t-1]==a;)--this.t},subTo:function(a,b){for(var f=0,g=0,h=Math.min(a.t,this.t)|0;f<h;)g+=this.chunks[f]-a.chunks[f],b.chunks[f]=g&D.DM,f++,g>>=D.DB;if(a.t<this.t){for(g-=a.sign;f<this.t;)g+=this.chunks[f],b.chunks[f]=g&D.DM,f++,g>>=D.DB;g+=this.sign}else{for(g+=this.sign;f<a.t;)g-=a.chunks[f],b.chunks[f]=g&D.DM,f++,g>>=D.DB;g-=a.sign}b.sign=0>g?-1:0;-1>g?(b.chunks[f]=D.DV+g,f++):0<g&&(b.chunks[f]=g,f++);b.t=f;b.clamp()},
squareTo:function(a){if(a==this)throw"can not squareTo self";for(var b=this.abs(),f=a.t=2*b.t;0<=--f;)a.chunks[f]=0;for(f=0;f<b.t-1;){var g=b.am(f,b.chunks[f],a,2*f,0,1);if((a.chunks[f+b.t]+=b.am(f+1,2*b.chunks[f],a,2*f+1,g,b.t-f-1))>=D.DV)a.chunks[f+b.t]-=D.DV,a.chunks[f+b.t+1]=1;f++}0<a.t&&(b=b.am(f,b.chunks[f],a,2*f,0,1),a.chunks[a.t-1]+=b);a.sign=0;a.clamp()},multiplyUpperTo:function(a,b,f){--b;var g=f.t=this.t+a.t-b;for(f.sign=0;0<=--g;)f.chunks[g]=0;for(var g=Math.max(b-this.t,0)|0,h=a.t;g<
h;){var i=g++;f.chunks[this.t+i-b]=this.am(b-i,a.chunks[i],f,0,0,this.t+i-b)}f.clamp();f.drShiftTo(1,f)},multiplyTo:function(a,b){var f=this.abs(),g=a.abs(),h=f.t;for(b.t=h+g.t;0<=--h;)b.chunks[h]=0;for(var h=0,i=g.t;h<i;){var k=h++;b.chunks[k+f.t]=f.am(0,g.chunks[k],b,k,0,f.t)}b.sign=0;b.clamp();this.sign!=a.sign&&D.getZERO().subTo(b,b)},multiplyLowerTo:function(a,b,f){var g=Math.min(this.t+a.t,b)|0;f.sign=0;for(f.t=g;0<g;)--g,f.chunks[g]=0;for(var h=f.t-this.t;g<h;)f.chunks[g+this.t]=this.am(0,
a.chunks[g],f,g,0,this.t),++g;for(h=Math.min(a.t,b)|0;g<h;)this.am(0,a.chunks[g],f,g,0,b-g),++g;f.clamp()},divRemTo:function(a,b,f){var g=a.abs();if(!(0>=g.t)){var h=this.abs();if(h.t<g.t)null!=b&&b.fromInt(0),null!=f&&this.copyTo(f);else{null==f&&(f=D.nbi());var i=D.nbi(),k=this.sign,a=a.sign,l=D.DB-D.nbits(g.chunks[g.t-1]);0<l?(h.lShiftTo(l,f),g.lShiftTo(l,i)):(h.copyTo(f),g.copyTo(i));g=i.t;h=i.chunks[g-1];if(0!=h){var m=1*h*(1<<D.F1)+(1<g?1*(i.chunks[g-2]>>D.F2):0),p=D.FV/m,m=1*(1<<D.F1)/m,r=
1*(1<<D.F2),q=f.t,t=q-g,R=null==b?D.nbi():b;i.dlShiftTo(t,R);0<=f.compare(R)&&(f.chunks[f.t]=1,f.t++,f.subTo(R,f));D.getONE().dlShiftTo(g,R);for(R.subTo(i,i);i.t<g;)i.chunks[i.t]=0,i.t++;for(;0<=--t;){var u;u=f.chunks[--q]==h?D.DM:Math.floor(1*f.chunks[q]*p+(1*f.chunks[q-1]+r)*m);f.chunks[q]+=i.am(0,u,f,t,0,g);if(f.chunks[q]<u){i.dlShiftTo(t,R);for(f.subTo(R,f);f.chunks[q]<--u;)f.subTo(R,f)}}null!=b&&(f.drShiftTo(g,b),k!=a&&D.getZERO().subTo(b,b));f.t=g;f.clamp();0<l&&f.rShiftTo(l,f);0>k&&D.getZERO().subTo(f,
f)}}}},copyTo:function(a){for(var b=0,f=this.chunks.length;b<f;){var g=b++;a.chunks[g]=this.chunks[g]}a.t=this.t;a.sign=this.sign},addTo:function(a,b){for(var f=0,g=0,h=Math.min(a.t,this.t)|0;f<h;)g+=this.chunks[f]+a.chunks[f],b.chunks[f]=g&D.DM,f++,g>>=D.DB;if(a.t<this.t){for(g+=a.sign;f<this.t;)g+=this.chunks[f],b.chunks[f]=g&D.DM,f++,g>>=D.DB;g+=this.sign}else{for(g+=this.sign;f<a.t;)g+=a.chunks[f],b.chunks[f]=g&D.DM,f++,g>>=D.DB;g+=a.sign}b.sign=0>g?-1:0;0<g?(b.chunks[f]=g,f++):-1>g&&(b.chunks[f]=
D.DV+g,f++);b.t=f;b.clamp()},xor:function(a){var b=D.nbi();this.bitwiseTo(a,D.op_xor,b);return b},testBit:function(a){var b=Math.floor(a/D.DB);return b>=this.t?0!=this.sign:0!=(this.chunks[b]&1<<a%D.DB)},shr:function(a){var b=D.nbi();0>a?this.lShiftTo(-a,b):this.rShiftTo(a,b);return b},shl:function(a){var b=D.nbi();0>a?this.rShiftTo(-a,b):this.lShiftTo(a,b);return b},setBit:function(a){return this.changeBit(a,D.op_or)},or:function(a){var b=D.nbi();this.bitwiseTo(a,D.op_or,b);return b},not:function(){for(var a=
D.nbi(),b=0,f=this.t;b<f;){var g=b++;a.chunks[g]=D.DM&~this.chunks[g]}a.t=this.t;a.sign=~this.sign;return a},getLowestSetBit:function(){for(var a=0,b=this.t;a<b;){var f=a++;if(0!=this.chunks[f])return f*D.DB+D.lbit(this.chunks[f])}return 0>this.sign?this.t*D.DB:-1},flipBit:function(a){return this.changeBit(a,D.op_xor)},clearBit:function(a){return this.changeBit(a,D.op_andnot)},complement:function(){return this.not()},bitLength:function(){return 0>=this.t?0:D.DB*(this.t-1)+D.nbits(this.chunks[this.t-
1]^this.sign&D.DM)},bitCount:function(){for(var a=0,b=this.sign&D.DM,f=0,g=this.t;f<g;)var h=f++,a=a+D.cbit(this.chunks[h]^b);return a},andNot:function(a){var b=D.nbi();this.bitwiseTo(a,D.op_andnot,b);return b},and:function(a){var b=D.nbi();this.bitwiseTo(a,D.op_and,b);return b},sub:function(a){var b=D.nbi();this.subTo(a,b);return b},remainder:function(a){var b=D.nbi();this.divRemTo(a,null,b);return b},pow:function(a){return this.exp(a,new $a.Null)},neg:function(){var a=D.nbi();D.getZERO().subTo(this,
a);return a},mul:function(a){var b=D.nbi();this.multiplyTo(a,b);return b},modPowInt:function(a,b){if(null==b)throw"m is null";var f;f=256>a||b.isEven()?new $a.Classic(b):new $a.Montgomery(b);return this.exp(a,f)},modPow:function(a,b){var f=a.bitLength(),g,h=D.nbv(1),i;if(0>=f)return h;g=18>f?1:48>f?3:144>f?4:768>f?5:6;i=8>f?new $a.Classic(b):b.isEven()?new $a.Barrett(b):new $a.Montgomery(b);var k=[],l=3,m=g-1,p=(1<<g)-1;k[1]=i.convert(this);if(1<g){f=D.nbi();for(i.sqrTo(k[1],f);l<=p;)k[l]=D.nbi(),
i.mulTo(f,k[l-2],k[l]),l+=2}for(var r=a.t-1,q,t=!0,R=D.nbi(),f=D.nbits(a.chunks[r])-1;0<=r;){f>=m?q=a.chunks[r]>>f-m&p:(q=(a.chunks[r]&(1<<f+1)-1)<<m-f,0<r&&(q|=a.chunks[r-1]>>D.DB+f-m));for(l=g;0==(q&1);)q>>=1,--l;if(0>(f-=l))f+=D.DB,--r;if(t)k[q].copyTo(h),t=!1;else{for(;1<l;)i.sqrTo(h,R),i.sqrTo(R,h),l-=2;0<l?i.sqrTo(h,R):(l=h,h=R,R=l);i.mulTo(R,k[q],h)}for(l=a.chunks[r];0<=r&&0==(l&1<<f);)i.sqrTo(h,R),l=h,h=R,R=l,0>--f&&(f=D.DB-1,--r),l=a.chunks[r]}return i.revert(h)},modInverse:function(a){var b=
a.isEven();if(this.isEven()&&b||0==a.sigNum())return D.getZERO();for(var f=a.clone(),g=this.clone(),h=D.nbv(1),i=D.nbv(0),k=D.nbv(0),l=D.nbv(1);0!=f.sigNum();){for(;f.isEven();){f.rShiftTo(1,f);if(b){if(!h.isEven()||!i.isEven())h.addTo(this,h),i.subTo(a,i);h.rShiftTo(1,h)}else i.isEven()||i.subTo(a,i);i.rShiftTo(1,i)}for(;g.isEven();){g.rShiftTo(1,g);if(b){if(!k.isEven()||!l.isEven())k.addTo(this,k),l.subTo(a,l);k.rShiftTo(1,k)}else l.isEven()||l.subTo(a,l);l.rShiftTo(1,l)}0<=f.compare(g)?(f.subTo(g,
f),b&&h.subTo(k,h),i.subTo(l,i)):(g.subTo(f,g),b&&k.subTo(h,k),l.subTo(i,l))}if(0!=g.compare(D.getONE()))return D.getZERO();if(0<=l.compare(a))return l.sub(a);0>l.sigNum()&&l.addTo(a,l);return l},modInt:function(a){if(0>=a)return 0;var b=D.DV%a,f=0>this.sign?a-1:0;if(0<this.t)if(0==b)f=this.chunks[0]%a;else for(var g=this.t-1;0<=g;)f=(b*f+this.chunks[g])%a,--g;return f},mod:function(a){var b=D.nbi();this.abs().divRemTo(a,null,b);0>this.sign&&0<b.compare(D.getZERO())&&a.subTo(b,b);return b},min:function(a){return 0>
this.compare(a)?this:a},max:function(a){return 0<this.compare(a)?this:a},isEven:function(){return 0==(0<this.t?this.chunks[0]&1:this.sign)},eq:function(a){return 0==this.compare(a)},divideAndRemainder:function(a){var b=D.nbi(),f=D.nbi();this.divRemTo(a,b,f);return[b,f]},div:function(a){var b=D.nbi();this.divRemTo(a,b,null);return b},compare:function(a){var b=this.sign-a.sign;if(0!=b)return b;var f=this.t,b=f-a.t;if(0!=b)return b;for(;0<=--f;)if(b=this.chunks[f]-a.chunks[f],0!=b)return b;return 0},
add:function(a){var b=D.nbi();this.addTo(a,b);return b},abs:function(){return 0>this.sign?this.neg():this},toRadix:function(a){null==a&&(a=10);if(2>a||36<a)throw new Z.UnsupportedException("invalid base for conversion");if(0==this.sigNum())return"0";var b=Math.floor(0.6931471805599453*D.DB/Math.log(a)),b=Math.pow(a,b)|0,f=D.nbv(b),g=D.nbi(),h=D.nbi(),i="";for(this.divRemTo(f,g,h);0<g.sigNum();)i=M.substr(Ma.baseEncode(b+h.toInt32(),a),1,null)+i,g.divRemTo(f,g,h);return Ma.baseEncode(h.toInt32(),a)+
i},toBytesUnsigned:function(){var a=new Fb,b=0,f=this.t,g=D.DB-f*D.DB%8,h=!1,i=0;if(0<f--){if(g<D.DB&&0<(b=this.chunks[f]>>g))h=!0,a.b.push(b),i++;for(;0<=f;)8>g?(b=(this.chunks[f]&(1<<g)-1)<<8-g,b|=this.chunks[--f]>>(g+=D.DB-8)):(b=this.chunks[f]>>(g-=8)&255,0>=g&&(g+=D.DB,--f)),0<b&&(h=!0),h&&(a.b.push(b),i++)}return a.getBytes()},toBytes:function(){var a=this.t,b=[];b[0]=this.sign;var f=D.DB-a*D.DB%8,g,h=0;if(0<a--){if(f<D.DB&&(g=this.chunks[a]>>f)!=(this.sign&D.DM)>>f)b[h]=g|this.sign<<D.DB-f,
h++;for(;0<=a;)if(8>f?(g=(this.chunks[a]&(1<<f)-1)<<8-f,--a,g|=this.chunks[a]>>(f+=D.DB-8)):(g=this.chunks[a]>>(f-=8)&255,0>=f&&(f+=D.DB,--a)),0!=(g&128)&&(g|=-256),0==h&&(this.sign&128)!=(g&128)&&++h,0<h||g!=this.sign)b[h]=g,h++}a=new Fb;f=0;for(g=b.length;f<g;)h=f++,a.b.push(b[h]);return a.getBytes()},toHex:function(){return this.toRadix(16).toString()},toString:function(){return this.toRadix(10).toString()},toInt32:function(){return this.toInt()},toInt:function(){if(0>this.sign){if(1==this.t)return this.chunks[0]-
D.DV;if(0==this.t)return-1}else{if(1==this.t)return this.chunks[0];if(0==this.t)return 0}return(this.chunks[1]&(1<<32-D.DB)-1)<<D.DB|this.chunks[0]},fromInt32:function(a){this.fromInt(a)},fromInt:function(a){this.t=1;this.chunks[0]=0;this.sign=0>a?-1:0;0<a?this.chunks[0]=a:-1>a?this.chunks[0]=a+D.DV:this.t=0},am:null,chunks:null,sign:null,t:null,__class__:D};Wa={Status:{__ename__:["math","_IEEE754","Status"],__constructs__:"Normal Overflow Underflow Denormalized Quiet Signalling".split(" ")}};Wa.Status.Normal=
["Normal",0];Wa.Status.Normal.toString=N;Wa.Status.Normal.__enum__=Wa.Status;Wa.Status.Overflow=["Overflow",1];Wa.Status.Overflow.toString=N;Wa.Status.Overflow.__enum__=Wa.Status;Wa.Status.Underflow=["Underflow",2];Wa.Status.Underflow.toString=N;Wa.Status.Underflow.__enum__=Wa.Status;Wa.Status.Denormalized=["Denormalized",3];Wa.Status.Denormalized.toString=N;Wa.Status.Denormalized.__enum__=Wa.Status;Wa.Status.Quiet=["Quiet",4];Wa.Status.Quiet.toString=N;Wa.Status.Quiet.__enum__=Wa.Status;Wa.Status.Signalling=
["Signalling",5];Wa.Status.Signalling.toString=N;Wa.Status.Signalling.__enum__=Wa.Status;gb=function(a){this.Size=a;this.BinaryPower=0;this.StatCond64=this.StatCond=Wa.Status.Normal;32==this.Size?(this.MaxExp=this.ExpBias=127,this.MinExp=-126,this.MinUnnormExp=-149):(this.Size=64,this.MaxExp=this.ExpBias=1023,this.MinExp=-1022,this.MinUnnormExp=-1074)};y["math.IEEE754"]=gb;gb.__name__=["math","IEEE754"];gb.floatToBytes=function(a,b){null==b&&(b=!1);var f=new gb(32);f.setEndian(b);f.rounding=!0;return f.convert(a)};
gb.doubleToBytes=function(a,b){null==b&&(b=!1);var f=new gb(64);f.setEndian(b);f.rounding=!0;return f.convert(a)};gb.bytesToFloat=function(a,b){null==b&&(b=!1);if(4!=a.length&&8!=a.length)throw"Bytes must be 4 or 8 bytes long";var f=new gb(4==a.length?32:64);f.setEndian(b);f.rounding=!0;return b?f.bytesToBin(a):f.bytesToBin(f.littleToBigEndian(a))};gb.splitFloat=function(a){var b={integral:0,decimal:0},f=I.string(a).toLowerCase(),g=f.indexOf("e"),h=0;if(0<=g)h=I.parseInt(M.substr(f,g+1,null));else return g=
f.indexOf("."),0<=g?(b.integral=I.parseFloat(M.substr(f,0,g)),b.decimal=I.parseFloat("0."+M.substr(f,g+1,null))):b.integral=I.parseFloat(f),b;f=M.substr(f,0,g);g=f.indexOf(".");f=aa.replace(f,".","");0<h?(g+=h,g==f.length?b.integral=I.parseFloat(f):g>f.length?b.integral=a:(b.integral=I.parseFloat(M.substr(f,0,g)),b.decimal=I.parseFloat("0."+M.substr(f,g+1,null)))):(h+=g,0==h?b.decimal=I.parseFloat("0."+f):0>h?b.decimal=I.parseFloat("0."+f+"e"+I.string(h)):(b.integral=I.parseFloat(M.substr(f,0,h)),
b.decimal=I.parseFloat("0."+M.substr(f,h,null))));return b};gb.prototype={numStrClipOff:function(a,b){var f="",g=a.toUpperCase(),h="",f="",i=0,k=0,l=g.indexOf("E");-1!=l?(i=l,h=M.substr(a,l+1,a.length),k=I.parseInt(h)):(i=a.length,k=0);-1==a.indexOf(".")&&(g=M.substr(a,0,i),g+=".",a.length!=i&&(g+=M.substr(a,l,a.length)),a=g,l+=1,i+=1);var g=a.indexOf("."),m=0;"-"==a.charAt(m)?(m++,f="-"):f="";for(var p=m,r=!1;p<i&&!r;){for(var q=1;10>q;){if(a.charAt(p)=="0123456789".charAt(q)){r=!0;break}q++}p++}p--;
q=0;r?(q=g-p,0<q&&(q-=1),h="e"+(k+q)):p=m;k=i-p;g=M.substr(a,p,i);-1!=g.indexOf(".")&&(k-=1);r=k;b<k&&(r=b);g=M.substr(a,p,p+r+1);if(p!=m||-1==g.indexOf(".")){f+=M.substr(a,p,p+1);for(f=f+"."+M.substr(a,p+1,p+r);k<b;)f+="0",k+=1;f+=h}else{for(f=M.substr(a,0,m+r+1);k<b;)f+="0",k+=1;a.length!=i&&(f+=M.substr(a,l,a.length))}return f},Convert2Dec:function(){var a=Math.log(10),b=32==this.Size?9:12,f=0,g=0;this.BinaryPower<this.MinExp||this.BinaryPower>this.MaxExp?g=f=0:(f=-1,g=1);for(var h=b,i=this.Size;h<
i;)var k=h++,g=g+(this.Result[k]|0)*Math.pow(2,f+b-k);f=g*Math.pow(2,this.BinaryPower);32==this.Size?(b=8,0<g&&(a=Math.floor(Math.log(f)/a),f+=0.5*Math.pow(10,a-b+1))):b=17;1==this.Result[0]&&(f=-f);return I.parseFloat(this.numStrClipOff(I.string(f),b))},bytesToBin:function(a){this.initBuffers();for(var b=0,f=0,g=this,h=function(a,j){for(var b=0;4>b;){var f=b++,a=2*a;1<=a?(g.Result[j+f]=1,a-=1):g.Result[j+f]=0}};b<this.Size;)h(((a.b[f]&240)>>4)/16,b),b+=4,h((a.b[f]&15)/16,b),b+=4,f++;a=0;f=32==this.Size?
9:12;for(b=1;b<f;)h=b++,a+=this.Result[h]*Math.pow(2,f-h-1)|0;this.BinaryPower=a-=this.ExpBias;b=1024-a;a>=this.MinExp&&a<=this.MaxExp&&(this.BinVal[b]=1,b++);var i=b,h=!1;0==this.Result[f]&&(h=!0);this.BinVal[b]=this.Result[f];f++;b++;for(var k=!0;f<this.Size&&2102>b;)1==this.Result[f]&&(k=!1),this.BinVal[b]=this.Result[f],f++,b++;for(;2102>i&&1!=this.BinVal[i];)i++;b=1024-i;if(a<this.MinExp)this.StatCond=-1078==b?Wa.Status.Normal:b<this.MinUnnormExp?Wa.Status.Underflow:Wa.Status.Denormalized;else if(a>
this.MaxExp){if(h&&k)return this.StatCond=Wa.Status.Overflow,1==this.Result[0]?Math.NEGATIVE_INFINITY:Math.POSITIVE_INFINITY;this.StatCond=!h&&k&&1==this.Result[0]?Wa.Status.Quiet:h?Wa.Status.Signalling:Wa.Status.Quiet;return Math.NaN}return this.Convert2Dec()},toBytes:function(){for(var a=32==this.Size?4:8,b=lb.alloc(a),f=0,g=0;f<this.Size;){for(var h=0,i=0,k=0;4>k;)var l=k++,h=h+(Math.pow(2,3-l)|0)*this.Result[f+l];i=h<<4;h=0;f+=4;for(k=0;4>k;)l=k++,h+=(Math.pow(2,3-l)|0)*this.Result[f+l];i|=h;
b.b[g++]=i&255;f+=4}if(!this.bigEndian){f=lb.alloc(a);g=a-1;for(k=0;k<a;)l=k++,f.b[g]=b.b[l]&255,g--;b=f}return b},Convert2Bin:function(){var a=this.BinaryPower,b=0,f=0,g=b=0,h=32==this.Size?9:12,i=0;if(this.rounding&&this.StatCond64==Wa.Status.Normal){for(;2102>g&&1!=this.BinVal[g];)g++;1024-g>=this.MinExp?g++:(b=this.MinExp-1,g=1024-b);b=this.Size-1-h+g;if(1==this.BinVal[b+1]){f=0;if(1==this.BinVal[b])f=1;else for(i=b+2;0==f&&2102>i;)f=this.BinVal[i],i++;for(i=b;1==f&&0<=i;)0==this.BinVal[i]?(this.BinVal[i]=
1,f=0):this.BinVal[i]=0,i--}g-=2;0>g&&(g=0)}for(;2102>g&&1!=this.BinVal[g];)g++;f=1024-g;this.StatCond64==Wa.Status.Normal?(b=f,b>=this.MinExp&&b<=this.MaxExp)?g++:b<this.MinExp&&(this.StatCond=-1078==f?Wa.Status.Normal:f<this.MinUnnormExp?Wa.Status.Underflow:Wa.Status.Denormalized,b=this.MinExp-1,g=1024-b):(b=a,g=1024-b,b>this.MaxExp?b=this.MaxExp+1:b<this.MinExp&&(b=this.MinExp-1));for(;h<this.Size&&2102>g;)this.Result[h]=this.BinVal[g],h++,g++;if(b>this.MaxExp||this.StatCond64!=Wa.Status.Normal){if(this.StatCond64==
Wa.Status.Normal)return this.infinity(1==this.Result[0]);this.StatCond=this.StatCond64}g=32==this.Size?8:11;this.BinaryPower=b;b+=this.ExpBias;for(a=1*b;0!=a/2;)h=(a|0)%2,this.Result[g]=h,a=0==h?a/2:a/2-0.5,g--,a=gb.splitFloat(10*a).integral/10;return this.toBytes()},convert:function(a){this.input=a;this.StatCond64=this.StatCond=Wa.Status.Normal;if(this.input==Math.POSITIVE_INFINITY)return this.infinity(!1);if(this.input==Math.NEGATIVE_INFINITY)return this.infinity(!0);if(Math.isNaN(this.input)){var a=
new Fb,b=2;32==this.Size?(a.b.push(255),a.b.push(192)):(a.b.push(255),a.b.push(248),b=6);for(var f=0;f<b;)f++,a.b.push(0);return this.bufToEndian(a.getBytes())}this.BinaryPower=0;this.initBuffers();this.Result[0]=0;0>this.input&&(this.Result[0]=1);a=Math.abs(this.input);b=gb.splitFloat(a);a=b.integral;b=b.decimal;for(f=1024;0!=a/2&&0<=f;){for(var g=a;2147483647<g;)g/=10;g=(g|0)%2;this.BinVal[f]=g;a=0==g?a/2:a/2-0.5;a=gb.splitFloat(10*a).integral/10;f--}for(f=1025;0<b&&2102>f;)b*=2,1<=b?(this.BinVal[f]=
1,b--):this.BinVal[f]=0,f++;for(f=0;2102>f&&1!=this.BinVal[f];)f++;this.BinaryPower=1024-f;this.BinaryPower<this.MinExp&&(this.BinaryPower=this.MinExp-1);return this.Convert2Bin()},infinity:function(a){if(a){var a=new Fb,b=2;32==this.Size?(a.b.push(255),a.b.push(128)):(a.b.push(255),a.b.push(240),b=6);var f=0}else a=new Fb,b=2,32==this.Size?(a.b.push(127),a.b.push(128)):(a.b.push(127),a.b.push(240),b=6),f=0;for(;f<b;)f++,a.b.push(0);return this.bufToEndian(a.getBytes())},bufToEndian:function(a){this.bigEndian||
(a=this.littleToBigEndian(a));return a},littleToBigEndian:function(a){for(var b=32==this.Size?4:8,f=lb.alloc(b),g=b-1,h=0;h<b;){var i=h++;f.b[g]=a.b[i]&255;g--}return f},initBuffers:function(){this.BinVal=[];for(var a=0;2102>a;){var b=a++;this.BinVal[b]=0}this.Result=[];for(var f=0,a=this.Size;f<a;)b=f++,this.Result[b]=0},setEndian:function(a){return this.bigEndian=a},StatCond64:null,StatCond:null,Result:null,MinUnnormExp:null,MinExp:null,MaxExp:null,ExpBias:null,BinVal:null,BinaryPower:null,Size:null,
rounding:null,input:null,bigEndian:null,__class__:gb,__properties__:{set_bigEndian:"setEndian"}};Jb={IPrng:function(){}};y["math.prng.IPrng"]=Jb.IPrng;Jb.IPrng.__name__=["math","prng","IPrng"];Jb.IPrng.prototype={toString:null,next:null,init:null,size:null,__class__:Jb.IPrng};Jb.ArcFour=function(){this.j=this.i=0;this.S=[];this.setSize(256)};y["math.prng.ArcFour"]=Jb.ArcFour;Jb.ArcFour.__name__=["math","prng","ArcFour"];Jb.ArcFour.__interfaces__=[Jb.IPrng];Jb.ArcFour.prototype={toString:function(){return"ArcFour"},
setSize:function(a){if(0!=a%4||32>a)throw"invalid size";return this.size=a},next:function(){if(0==this.S.length)throw"not initialized";var a;this.i=this.i+1&255;this.j=this.j+this.S[this.i]&255;a=this.S[this.i];this.S[this.i]=this.S[this.j];this.S[this.j]=a;return this.S[a+this.S[this.i]&255]},init:function(a){for(var b,f=0;256>f;)b=f++,this.S[b]=b;for(f=this.j=0;256>f;){var g=f++;this.j=this.j+this.S[g]+a[g%a.length]&255;b=this.S[g];this.S[g]=this.j;this.S[this.j]=b}this.j=this.i=0},size:null,S:null,
j:null,i:null,__class__:Jb.ArcFour};Jb.Random=function(a){this.createState(a);this.initialized=!1};y["math.prng.Random"]=Jb.Random;Jb.Random.__name__=["math","prng","Random"];Jb.Random.prototype={createState:function(a){this.state=null==a?new Jb.ArcFour:a;if(null==this.pool){this.pool=[];for(this.pptr=0;this.pptr<this.state.size;)a=Math.floor(65536*Math.random()),this.pool[this.pptr++]=a>>>8,this.pool[this.pptr++]=a&255;this.pptr=0;this.seedTime()}},seedTime:function(){this.seedInt(1E3*(new Date).getTime()|
0)},seedInt:function(a){this.pool[this.pptr++]^=a&255;this.pool[this.pptr++]^=a>>8&255;this.pool[this.pptr++]^=a>>16&255;this.pool[this.pptr++]^=a>>24&255;this.pptr>=this.state.size&&(this.pptr-=this.state.size)},nextBytesStream:function(a,b){for(var f=0;f<b;)f++,a.writeUInt8(this.next())},nextBytes:function(a,b,f){for(var g=0;g<f;){var h=g++;a.b[b+h]=this.next()&255}},next:function(){if(!1==this.initialized){this.createState();this.state.init(this.pool);for(var a=0,b=this.pool.length;a<b;)this.pool[a++]=
0;this.pptr=0;this.pool=[];this.initialized=!0}return this.state.next()},initialized:null,pptr:null,pool:null,state:null,__class__:Jb.Random};$a={ModularReduction:function(){}};y["math.reduction.ModularReduction"]=$a.ModularReduction;$a.ModularReduction.__name__=["math","reduction","ModularReduction"];$a.ModularReduction.prototype={sqrTo:null,mulTo:null,reduce:null,revert:null,convert:null,__class__:$a.ModularReduction};$a.Barrett=function(a){this.r2=D.nbi();this.q3=D.nbi();D.getONE().dlShiftTo(2*
a.t,this.r2);this.mu=this.r2.div(a);this.m=a};y["math.reduction.Barrett"]=$a.Barrett;$a.Barrett.__name__=["math","reduction","Barrett"];$a.Barrett.__interfaces__=[$a.ModularReduction];$a.Barrett.prototype={mulTo:function(a,b,f){a.multiplyTo(b,f);this.reduce(f)},sqrTo:function(a,b){a.squareTo(b);this.reduce(b)},reduce:function(a){a.drShiftTo(this.m.t-1,this.r2);a.t>this.m.t+1&&(a.t=this.m.t+1,a.clamp());this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);for(this.m.multiplyLowerTo(this.q3,this.m.t+
1,this.r2);0>a.compare(this.r2);)a.dAddOffset(1,this.m.t+1);for(a.subTo(this.r2,a);0<=a.compare(this.m);)a.subTo(this.m,a)},revert:function(a){return a},convert:function(a){if(0>a.sign||a.t>2*this.m.t)return a.mod(this.m);if(0>a.compare(this.m))return a;var b=D.nbi();a.copyTo(b);this.reduce(b);return b},q3:null,r2:null,mu:null,m:null,__class__:$a.Barrett};$a.Classic=function(a){this.m=a};y["math.reduction.Classic"]=$a.Classic;$a.Classic.__name__=["math","reduction","Classic"];$a.Classic.__interfaces__=
[$a.ModularReduction];$a.Classic.prototype={sqrTo:function(a,b){a.squareTo(b);this.reduce(b)},mulTo:function(a,b,f){a.multiplyTo(b,f);this.reduce(f)},reduce:function(a){a.divRemTo(this.m,null,a)},revert:function(a){return a},convert:function(a){return 0>a.sign||0<=a.compare(this.m)?a.mod(this.m):a},m:null,__class__:$a.Classic};$a.Montgomery=function(a){this.m=a;this.mp=this.m.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<D.DB-15)-1;this.mt2=2*this.m.t};y["math.reduction.Montgomery"]=
$a.Montgomery;$a.Montgomery.__name__=["math","reduction","Montgomery"];$a.Montgomery.__interfaces__=[$a.ModularReduction];$a.Montgomery.prototype={sqrTo:function(a,b){a.squareTo(b);this.reduce(b)},mulTo:function(a,b,f){a.multiplyTo(b,f);this.reduce(f)},reduce:function(a){a.padTo(this.mt2);for(var b=0;b<this.m.t;){var f=a.chunks[b]&32767,g=f*this.mpl+((f*this.mph+(a.chunks[b]>>15)*this.mpl&this.um)<<15)&D.DM,f=b+this.m.t;for(a.chunks[f]+=this.m.am(0,g,a,b,0,this.m.t);a.chunks[f]>=D.DV;)a.chunks[f]-=
D.DV,a.chunks.length<f+2&&(a.chunks[f+1]=0),a.chunks[++f]++;b++}a.clamp();a.drShiftTo(this.m.t,a);0<=a.compare(this.m)&&a.subTo(this.m,a)},revert:function(a){var b=D.nbi();a.copyTo(b);this.reduce(b);return b},convert:function(a){var b=D.nbi();a.abs().dlShiftTo(this.m.t,b);b.divRemTo(this.m,null,b);0>a.sign&&0<b.compare(D.getZERO())&&this.m.subTo(b,b);return b},um:null,mph:null,mpl:null,mp:null,mt2:null,m:null,__class__:$a.Montgomery};$a.Null=function(){};y["math.reduction.Null"]=$a.Null;$a.Null.__name__=
["math","reduction","Null"];$a.Null.__interfaces__=[$a.ModularReduction];$a.Null.prototype={reduce:function(){},sqrTo:function(a,b){a.squareTo(b)},mulTo:function(a,b,f){a.multiplyTo(b,f)},revert:function(a){return a},convert:function(a){return a},__class__:$a.Null};var xd;xd=function(){};y["rg.RGConst"]=xd;xd.__name__=["rg","RGConst"];f=function(a){this.layouts=new La;this.globalNotifier=a};m=k=void 0;y["rg.app.charts.App"]=f;f.__name__=["rg","app","charts","App"];f.nextid=function(){return":RGVIZ-"+
++f.lastid};f.supportsSvg=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect};f.prototype={getLayout:function(a,b,f,g){var h=this.layouts.get(a);if(null!=h)if(g)h.destroy();else return h;g=ib.feed(new ad,b);b=(new rc).create(g,null==b.marginheight?0:b.marginheight,f);this.layouts.set(a,b);return b},visualization:function(j,b){var g=this;f.chartsCounter++;var h=j.node(),i=h.id;null==i&&(h.id=i=f.nextid());var h=ib.feed(new Uc,b),
k=new bc(ib.feed(new Vc,b).loader),l=(new sc).createVariables(h.variables),m=ib.feed(new Zb,h.options),p=ib.feed(new wc,h.options),r=!f.supportsSvg()||m.forcelegacy,q=null,t=T.filter(l,function(a){return X.__instanceof(a,kb)}),R=T.filter(l,function(a){return X.__instanceof(a,Cb)});k.onLoad.addOnce(function(a){(new qc).process(a,t);(new wa).process(a,R)});if(!r){switch(ib.feed(new md,h.options).kind[1]){case 1:i=this.getLayout(i,h.options,j,p.replace);q=(new td).create(p.type,i,h.options);break;case 0:p.replace&&
j.selectAll("*").remove(),q=(new Pb).create(p.type,j,h.options)}q.setVariables(l,t,R);q.init();null!=m.ready&&q.addReady(m.ready);k.onLoad.addOnce(function(a){q.feedData(a)})}var u=0,v=ib.feed(new nd,b.options.download);if(r){var x=new ma(j,v.legacyservice);k.onLoad.addOnce(function(a){b.datapoints=a;x.display(b)})}if(!r&&(null!=v.position||null!=v.handler)){var w=new ia(q.container,v.service);null!=v.handler?q.addReadyOnce(function(){v.handler(a(w,w.download))}):q.addReadyOnce(function(){new fa.DownloaderMenu(a(w,
w.download),v.position,v.formats,q.container);u=24})}r||(!b.options.a&&"file://"!=document.location.href.substr(0,7)&&q.addReadyOnce(function(){fa.Logo.createLogo(q.container,u)}),q.addReadyOnce(function(){f.chartsLoaded++;f.chartsLoaded==f.chartsCounter&&g.globalNotifier.dispatch()}));Ib.delay(a(k,k.load),0);return q},globalNotifier:null,layouts:null,__class__:f};k=function(){};y["rg.app.charts.JSBridge"]=k;k.__name__=["rg","app","charts","JSBridge"];k.log=function(a){(window.console&&window.console.warn||
alert)(a)};k.getInternetExplorerVersion=function(){var a=-1;if("Microsoft Internet Explorer"==Sa.window.navigator.appName){var b=Sa.window.navigator.userAgent,f=new xa("MSIE ([0-9]{1,}[\\.0-9]{0,})","");null!=f.match(b)&&(a=I.parseFloat(f.matched(1)))}return a};k.main=function(){var a="undefined"==typeof ReportGrid?window.ReportGrid={}:ReportGrid,b=new Id,g=!1;b.addOnce(function(){g=!0});a.charts={ready:function(a){g?a():b.add(a)}};var h=new f(b);a.chart=function(a,j,b){j=k.chartopt(j,b);j.options.a=
!1;m.complete(j,function(j){try{h.visualization(k.select(a),j)}catch(b){X.__instanceof(b,ba.Error)?k.log(b.toString()):k.log(I.string(b))}})};a.barChart=function(b,f){return a.chart(b,f,"barchart")};a.funnelChart=function(b,f){return a.chart(b,f,"funnelchart")};a.geo=function(b,f){return a.chart(b,f,"geo")};a.heatGrid=function(b,f){return a.chart(b,f,"heatgrid")};a.leaderBoard=function(b,f){return a.chart(b,f,"leaderboard")};a.lineChart=function(b,f){return a.chart(b,f,"linechart")};a.pieChart=function(b,
f){return a.chart(b,f,"piechart")};a.pivotTable=function(b,f){return a.chart(b,f,"pivottable")};a.sankey=function(b,f){return a.chart(b,f,"sankey")};a.scatterGraph=function(b,f){return a.chart(b,f,"scattergraph")};a.streamGraph=function(b,f){return a.chart(b,f,"streamgraph")};a.parseQueryParameters=Tc.parseQueryParameters;a.findScript=Lc.findScript;a.format=Na.format;a.compare=Na.compare;a.dump=Na.string;var i=ob.SymbolCache.cache;a.symbol=function(a,j){return i.get(a,null==j?100:j)};a.date={range:function(a,
j,b){X.__instanceof(a,String)&&(a=P.DateParser.parse(a));null==a&&(a=pa.defaultRange(b)[0]);X.__instanceof(a,Date)&&(a=a.getTime());X.__instanceof(j,String)&&(j=P.DateParser.parse(j));null==j&&(j=pa.defaultRange(b)[1]);X.__instanceof(j,Date)&&(j=j.getTime());return pa.range(a,j,b)},formatPeriodicity:function(a,j){var b=X.__instanceof(a,Date)?a.getTime():X.__instanceof(a,Nd)?a:P.DateParser.parse(a).getTime();return pa.format(j,b)},parse:P.DateParser.parse,snap:Gb.snap};a.humanize=function(a){return X.__instanceof(a,
String)&&0<=a.indexOf("time:")?M.substr(a,a.indexOf("time:")+5,null):bb.humanize(a)};var l=new S.Random(666);a.math={setRandomSeed:function(a){l=new S.Random(a)},random:function(){return((l.seed=16807*l.seed%2147483647)&1073741823)/1073741823}};a.query=null!=a.query?a.query:k.createQuery();a.info=null!=a.info?a.info:{};a.info.charts={version:"1.5.4.8947"};a.getTooltip=function(){return fa.Tooltip.get_instance()}};k.createQuery=function(){for(var a=mc.create(),b={},f=0,g=ea.getInstanceFields(ea.getClass(a));f<
g.length;){var h=[g[f]];++f;"_"!=M.substr(h[0],0,1)&&B.isFunction(B.field(a,h[0]))&&(b[h[0]]=function(a){return function(){var j=mc.create();return B.field(j,a[0]).apply(j,arguments)}}(h))}return b};k.select=function(a){var b=X.__instanceof(a,String)?ua.select(a):ua.selectNode(a);if(b.empty())throw new ba.Error("invalid container '{0}'",a,null,{fileName:"JSBridge.hx",lineNumber:194,className:"rg.app.charts.JSBridge",methodName:"select"});return b};k.opt=function(a){return null==a?{}:Pa.clone(a)};
k.chartopt=function(a,b){a=null==a?{}:Pa.clone(a);a.options=k.opt(a.options);a.options.visualization=null!=b?b:a.options.visualization;return a};m=function(){};y["rg.app.charts.MVPOptions"]=m;m.__name__=["rg","app","charts","MVPOptions"];m.a1=function(a,b){var f=ReportGrid.authCode,g=!1;null==f&&(f=Lc.findScript("reportgrid-charts.js"),f=Tc.parseQueryParameters(f.src),f=B.field(f,"authCode"));if(null!=f){var f=new gd(f),h=[],i=Sa.window.location.hostname;if((new xa("^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$",
"")).match(i))h.push(i);else{i=i.split(".");3==i.length&&"www"==i[0]&&i.shift();for(h.push(i.join("."));2<i.length;)i.shift();h.push("*."+i.join("."))}g=f.authorizeMany(h)}else g=fa.Logo.pageIsBranded();m.a1=function(a,j){a.options.a=g;j(a)};m.a1(a,b)};m.a2=function(a,b){var f=function(f){m.a2=null==f?function(a,j){j(a)}:function(a,j){a.options.a=f;j(a)};m.a2(a,b)},g=ReportGrid.token;a.options.a||null==g?f(null):g(function(a){f((0>=a.expires||a.expires>=(new Date).getTime())&&a.permissions.read)},
function(){f(null)})};m.complete=function(a,b){var f=new nc(b);null==a.options&&(a.options={});var g=a.options;if(null!=g.download&&!uc.isAnonymous(g.download)){var h=g.download;B.deleteField(g,"download");if(!0==h)g.download={position:"auto"};else if(X.__instanceof(h,String))g.download={position:h};else throw new ba.Error("invalid value for download '{0}'",[h],null,{fileName:"MVPOptions.hx",lineNumber:118,className:"rg.app.charts.MVPOptions",methodName:"complete"});}null!=g.map&&uc.isAnonymous(g.map)&&
(g.map=[g.map]);f.addAction(m.a1);f.addAction(m.a2);f.addAction(function(a,j){var b=a.axes,f=!1;null==b&&(b=[]);a.axes=b=b.map(function(a){return X.__instanceof(a,String)?{type:a}:a});for(var g=0,h=b.length;g<h;){var qa=g++,i=b[qa].variable;null==i?b[qa].variable=!f&&qa==b.length-1?"dependent":"independent":"dependent"==i&&(f=!0)}for(h=0;h<b.length;)if(f=b[h],++h,"dependent"!=f.variable)switch(a.options.visualization){case "barchart":case "pivottable":null==f.scalemode&&(f.scalemode="fit")}j(a)});
f.addAction(function(a,j){null==a.options.label&&(a.options.label={});switch(a.options.visualization){case "linechart":case "barchart":case "streamgraph":var b=a.axes[0].type;null==a.options.label.datapointover&&(a.options.label.datapointover=function(j,f){return(null!=a.options.segmenton?hb.formatValue(a.options.segmenton,j)+", ":"")+hb.formatValue(b,j)+": "+hb.formatValue(f.type,j)});break;case "scattergraph":case "heatgrid":var f=a.axes[0].type;null==a.options.label.datapointover&&(a.options.label.datapointover=
function(a,j){return hb.formatValue(f,a)+": "+hb.formatValue(j.type,a)});break;case "geo":var g=a.axes[0].type,h=a.options.map;null==h[h.length-1].label&&(h[h.length-1].label={});null==h[h.length-1].label.datapointover&&(h[h.length-1].label.datapointover=function(a,j){var b=hb.formatValue(g,a);return null==b?null:b+": "+hb.formatValue(j.type,a)});break;case "piechart":null==a.options.label.datapoint&&(a.options.label.datapoint=function(j,b){var f=B.field(j,b.type);return 1<a.axes.length?hb.formatValue(a.axes[0].type,
j):0!=b.tot?V.format(Math.round(1E3*f/b.tot)/10,"P:1"):bb.humanize(f)});null==a.options.label.datapointover&&(a.options.label.datapointover=function(j,b){var f=B.field(j,b.type);return bb.humanize(b.type)+": "+bb.humanize(f)+(1<a.axes.length&&0!=b.tot?" ("+V.format(Math.round(1E3*f/b.tot)/10,"P:1")+")":"")});break;case "funnelchart":null==a.options.label.datapointover&&(a.options.label.datapointover=function(j,b){var f=B.field(j,b.type);return bb.humanize(b.type)+": "+bb.humanize(f)+(1<a.axes.length&&
0!=b.tot?" ("+V.format(Math.round(1E3*f/b.tot)/10,"P:1")+")":"")});break;case "sankey":var h=a.axes,qa=h[h.length-1].type;null==a.options.label.datapointover&&(a.options.label.datapointover=function(a,j){var b=B.field(a,qa);return bb.humanize(qa)+": "+hb.formatValue(qa,a)+"\n"+(0!=j.tot?V.format(Math.round(1E3*b/j.tot)/10,"P:1"):bb.humanize(b))});null==a.options.label.node&&(a.options.label.node=function(a){return null!=a?a.id:""});null==a.options.label.datapoint&&(a.options.label.datapoint=function(a){return hb.formatValue(qa,
a)+"\n"+bb.humanize(qa)});null==a.options.label.edge&&(a.options.label.edge=function(a){return V.format(100*a.edgeweight/a.nodeweight,"D:0")+"%"});null==a.options.label.edgeover&&(a.options.label.edgeover=function(a){return V.format(a.edgeweight,"D:0")+"\n"+V.format(100*a.edgeweight/a.nodeweight,"D:0")+"%"})}j(a)});f.execute(a)};Oa=function(){};ld=sd=zc=fd=Sc=kc=jc=Xb=pb=Sb=$b=yb=Ja=Qa=Wb=Bb=eb=void 0;y["rg.axis.IAxis"]=Oa;Oa.__name__=["rg","axis","IAxis"];Oa.prototype={createStats:null,min:null,
max:null,ticks:null,scale:null,__class__:Oa};eb=function(){};y["rg.axis.IAxisDiscrete"]=eb;eb.__name__=["rg","axis","IAxisDiscrete"];eb.__interfaces__=[Oa];eb.prototype={range:null,scaleDistribution:null,__class__:eb};Bb=function(){};y["rg.axis.IAxisOrdinal"]=Bb;Bb.__name__=["rg","axis","IAxisOrdinal"];Bb.__interfaces__=[eb];Bb.prototype={values:null,allTicks:null,last:null,first:null,__class__:Bb};Wb=function(){this.set_scaleDistribution(Qa.ScaleFit)};y["rg.axis.AxisOrdinal"]=Wb;Wb.__name__=["rg",
"axis","AxisOrdinal"];Wb.__interfaces__=[Bb];Wb.prototype={createStats:function(a){return new Ja(a)},max:function(){return T.last(this.values())},min:function(){return this.values()[0]},set_scaleDistribution:function(a){return this.scaleDistribution=a},allTicks:function(){var a=this,b=this.first(),f=this.last();return this.range(b,f).map(function(g){return a.toTickmark(b,f,g)})},values:function(){throw new ba.AbstractMethod({fileName:"AxisOrdinal.hx",lineNumber:64,className:"rg.axis.AxisOrdinal",
methodName:"values"});},last:function(){return T.last(this.values())},first:function(){return this.values()[0]},scale:function(a,b,f){var g=this.values(),h=g.indexOf(a),i=g.indexOf(b),k=g.indexOf(f);if(0>h)throw new ba.Error("the start bound '{0}' is not part of the values {1}",[a,g],null,{fileName:"AxisOrdinal.hx",lineNumber:54,className:"rg.axis.AxisOrdinal",methodName:"scale"});if(0>i)throw new ba.Error("the end bound '{0}' is not part of the values {1}",[b,g],null,{fileName:"AxisOrdinal.hx",lineNumber:56,
className:"rg.axis.AxisOrdinal",methodName:"scale"});if(0>k)throw new ba.Error("the value '{0}' is not part of the values {1}",[f,g],null,{fileName:"AxisOrdinal.hx",lineNumber:58,className:"rg.axis.AxisOrdinal",methodName:"scale"});return yb.distribute(this.scaleDistribution,k-h,i-h+1)},range:function(a,b){var f=this.values(),g=f.indexOf(a),h=f.indexOf(b);if(0>g)throw new ba.Error("the start bound '{0}' is not part of the acceptable values {1}",[a,f],null,{fileName:"AxisOrdinal.hx",lineNumber:41,
className:"rg.axis.AxisOrdinal",methodName:"range"});if(0>h)throw new ba.Error("the end bound '{0}' is not part of the acceptable values {1}",[b,f],null,{fileName:"AxisOrdinal.hx",lineNumber:43,className:"rg.axis.AxisOrdinal",methodName:"range"});return f.slice(g,h+1)},ticks:function(a,b,f){if(0==f)return[];a=$b.fromArray(this.range(a,b),this.scaleDistribution);return Sb.bound(a,f)},toTickmark:function(a,b,f){a=this.range(a,b);return new $b(a.indexOf(f),a,null,this.scaleDistribution)},scaleDistribution:null,
__class__:Wb,__properties__:{set_scaleDistribution:"set_scaleDistribution"}};pb=function(a){Wb.call(this);this._values=a};y["rg.axis.AxisOrdinalFixedValues"]=pb;pb.__name__=["rg","axis","AxisOrdinalFixedValues"];pb.__super__=Wb;pb.prototype=g(Wb.prototype,{values:function(){return this._values},_values:null,__class__:pb});Xb=function(a){pb.call(this,Xb.valuesByGroup(a));this.groupBy=a};y["rg.axis.AxisGroupByTime"]=Xb;Xb.__name__=["rg","axis","AxisGroupByTime"];Xb.valuesByGroup=function(a){return ka.range(Xb.defaultMin(a),
Xb.defaultMax(a)+1)};Xb.defaultMin=function(a){switch(a){case "minute":case "hour":case "week":case "month":return 0;case "day":return 1;default:throw new ba.Error("invalid periodicity '{0}' for groupBy min",null,a,{fileName:"AxisGroupByTime.hx",lineNumber:34,className:"rg.axis.AxisGroupByTime",methodName:"defaultMin"});}};Xb.defaultMax=function(a){switch(a){case "minute":return 59;case "hour":return 23;case "day":return 31;case "week":return 6;case "month":return 11;default:throw new ba.Error("invalid periodicity '{0}' for groupBy max",
null,a,{fileName:"AxisGroupByTime.hx",lineNumber:48,className:"rg.axis.AxisGroupByTime",methodName:"defaultMax"});}};Xb.__super__=pb;Xb.prototype=g(pb.prototype,{groupBy:null,__class__:Xb});jc=function(){};y["rg.axis.AxisNumeric"]=jc;jc.__name__=["rg","axis","AxisNumeric"];jc.__interfaces__=[Oa];jc._step=function(a,b){var f=Math.pow(10,Math.floor(Math.log(a/b)/2.302585092994046)),g=b/a*f;0.15>=g?f*=10:0.35>=g?f*=5:0.75>=g&&(f*=2);return f};jc.nice=function(a){return Math.pow(10,Math.round(Math.log(a)/
2.302585092994046)-1)};jc.niceMin=function(a,b){var f=Math.pow(10,Math.round(Math.log(a)/2.302585092994046)-1);return Math.floor(b/f)*f};jc.niceMax=function(a,b){var f=Math.pow(10,Math.round(Math.log(a)/2.302585092994046)-1);return Math.ceil(b/f)*f};jc.prototype={createStats:function(a){return new kc(a)},max:function(a,b){if(null!=b.max)return b.max;var f=jc.niceMax(a.max-a.min,a.max);return 0<f?f:0},min:function(a,b){if(null!=b.min)return b.min;var f=jc.niceMin(a.max-a.min,a.min);return 0>f?f:0},
ticks:function(a,b,f){var g=b-a,h;if(0==a%1&&0==b%1&&10>g&&1<=g)h=V.range(a,b+1,1),g=null;else{var i=jc._step(g,5),g=jc._step(g,20),g=0==g?[0]:V.range(a,b,g,!0);h=0==i?[0]:V.range(a,b,i,!0)}return Sb.bound(null==g?h.map(function(f){return new Sc(f,!0,(f-a)/(b-a))}):g.map(function(f){return new Sc(f,M.remove(h,f),(f-a)/(b-a))}),f)},scale:function(a,b,f){return a==b?a:V.uninterpolatef(a,b)(f)},__class__:jc};fd=function(a){Wb.call(this);this.variable=a};y["rg.axis.AxisOrdinalStats"]=fd;fd.__name__=["rg",
"axis","AxisOrdinalStats"];fd.__super__=Wb;fd.prototype=g(Wb.prototype,{values:function(){return this.variable.stats.values},variable:null,__class__:fd});zc=function(a){this.periodicity=a;this.set_scaleDistribution(Qa.ScaleFill)};y["rg.axis.AxisTime"]=zc;zc.__name__=["rg","axis","AxisTime"];zc.__interfaces__=[eb];zc.prototype={createStats:function(a){return new kc(a)},max:function(a){return a.max},min:function(a){return a.min},set_scaleDistribution:function(a){return this.scaleDistribution=a},scale:function(a,
b,f){switch(this.scaleDistribution[1]){case 1:return(f-a)/(b-a);default:return a=this.range(a,b),yb.distribute(this.scaleDistribution,a.indexOf(Gb.snap(f,this.periodicity)),a.length)}},range:function(a,b){return pa.range(a,b,this.periodicity)},ticks:function(a,b,f){var g=this,h=pa.unitsBetween(a,b,this.periodicity),i=this.range(a,b),a=i.map(function(a){return new sd(a,i,g.isMajor(h,a),g.periodicity,g.scaleDistribution)});return Sb.bound(a,f)},isMajor:function(a,b){switch(this.periodicity){case "day":if(31>=
a)return!0;var f;121>a?(f=new Date,f.setTime(b),f=(f.getDate(),pa.firstInSeries("month",b)||pa.firstInSeries("week",b))):f=pa.firstInSeries("month",b);return f;case "week":return 31>a?f=!0:(f=new Date,f.setTime(b),f=7>=f.getDate()),f;default:f=B.field(zc.snapping,this.periodicity);var g=pa.units(b,this.periodicity);if(null==f)return!0;for(var h=0;h<f.length;){var i=f[h];++h;if(!(a>i.to))return 0==g%i.s}f=B.field(zc.snapping,this.periodicity+"top");null==f&&(f=1);return 0==g%f}},scaleDistribution:null,
periodicity:null,__class__:zc,__properties__:{set_scaleDistribution:"set_scaleDistribution"}};ld=function(){};y["rg.axis.ITickmark"]=ld;ld.__name__=["rg","axis","ITickmark"];ld.prototype={label:null,value:null,major:null,delta:null,__class__:ld};Qa={__ename__:["rg","axis","ScaleDistribution"],__constructs__:["ScaleFit","ScaleFill","ScaleBefore","ScaleAfter"],ScaleFit:["ScaleFit",0]};Qa.ScaleFit.toString=N;Qa.ScaleFit.__enum__=Qa;Qa.ScaleFill=["ScaleFill",1];Qa.ScaleFill.toString=N;Qa.ScaleFill.__enum__=
Qa;Qa.ScaleBefore=["ScaleBefore",2];Qa.ScaleBefore.toString=N;Qa.ScaleBefore.__enum__=Qa;Qa.ScaleAfter=["ScaleAfter",3];Qa.ScaleAfter.toString=N;Qa.ScaleAfter.__enum__=Qa;yb=function(){};y["rg.axis.ScaleDistributions"]=yb;yb.__name__=["rg","axis","ScaleDistributions"];yb.distribute=function(a,b,f){switch(a[1]){case 0:return(b+0.5)/f;case 1:return b/(f-1);case 2:return b/f;case 3:return(b+1)/f}};Ja=function(a,b){this.type=a;this.sortf=b;this.reset()};y["rg.axis.Stats"]=Ja;Ja.__name__=["rg","axis",
"Stats"];Ja.prototype={addMany:function(a){for(a=h(a)();a.hasNext();){var b=a.next();this.count++;T.exists(this.values,b)||this.values.push(b)}null!=this.sortf&&this.values.sort(this.sortf);this.min=this.values[0];this.max=T.last(this.values);return this},add:function(a){this.count++;if(T.exists(this.values,a))return this;this.values.push(a);null!=this.sortf&&this.values.sort(this.sortf);this.min=this.values[0];this.max=T.last(this.values);return this},reset:function(){this.max=this.min=null;this.count=
0;this.values=[];return this},type:null,sortf:null,values:null,count:null,max:null,min:null,__class__:Ja};kc=function(a,b){null==b&&(b=V.compare);Ja.call(this,a,b)};y["rg.axis.StatsNumeric"]=kc;kc.__name__=["rg","axis","StatsNumeric"];kc.__super__=Ja;kc.prototype=g(Ja.prototype,{addMany:function(a){Ja.prototype.addMany.call(this,a);for(a=h(a)();a.hasNext();)this.tot+=a.next();return this},add:function(a){Ja.prototype.add.call(this,a);this.tot+=a;return this},reset:function(){Ja.prototype.reset.call(this);
this.tot=0;return this},tot:null,__class__:kc});Sc=function(a,b,f){this.value=a;this.major=b;this.delta=f};y["rg.axis.Tickmark"]=Sc;Sc.__name__=["rg","axis","Tickmark"];Sc.__interfaces__=[ld];Sc.prototype={toString:function(){return Sb.string(this)},get_label:function(){return bb.humanize(this.get_value())},get_value:function(){return this.value},get_major:function(){return this.major},get_delta:function(){return this.delta},label:null,value:null,major:null,delta:null,__class__:Sc,__properties__:{get_delta:"get_delta",
get_major:"get_major",get_value:"get_value",get_label:"get_label"}};$b=function(a,b,f,g){null==f&&(f=!0);this.pos=a;this.values=b;this.scaleDistribution=g;this.major=f};y["rg.axis.TickmarkOrdinal"]=$b;$b.__name__=["rg","axis","TickmarkOrdinal"];$b.__interfaces__=[ld];$b.fromArray=function(a,b){return a.map(function(f,g){return new $b(g,a,null,b)})};$b.prototype={toString:function(){return Sb.string(this)},get_label:function(){return bb.humanize(this.values[this.pos])},label:null,get_value:function(){return this.values[this.pos]},
value:null,get_major:function(){return this.major},major:null,get_delta:function(){return yb.distribute(this.scaleDistribution,this.pos,this.values.length)},delta:null,scaleDistribution:null,values:null,pos:null,__class__:$b,__properties__:{get_delta:"get_delta",get_major:"get_major",get_value:"get_value",get_label:"get_label"}};sd=function(a,b,f,g,h){$b.call(this,b.indexOf(a),b,f,h);this.periodicity=g};y["rg.axis.TickmarkTime"]=sd;sd.__name__=["rg","axis","TickmarkTime"];sd.__super__=$b;sd.prototype=
g($b.prototype,{get_label:function(){return pa.smartFormat(this.periodicity,this.values[this.pos])},periodicity:null,__class__:sd});Sb=function(){};y["rg.axis.Tickmarks"]=Sb;Sb.__name__=["rg","axis","Tickmarks"];Sb.bound=function(a,b){if(null==b||a.length<=(2>b?2:b))return a;var f=T.filter(a,function(a){return a.get_major()});if(f.length>b)return Sb.reduce(f,b);f=Sb.reduce(T.filter(a,function(a){return!a.get_major()}),b-f.length).concat(f);f.sort(function(a,j){return V.compare(a.get_delta(),j.get_delta())});
return f};Sb.reduce=function(a,b){if(1==b)return[a[0]];if(2==b)return[a[a.length-1]];var f=a.length/b,g=[],h=0;do g.push(a[Math.round(f*h++)]);while(b>g.length);return g};Sb.string=function(a){return Na.string(a.get_value())+" ("+(a.get_major()?"Major":"minor")+", "+V.format(a.get_delta())+")"};Sb.forFloat=function(a,b,f,g){return new Sc(f,g,(f-a)/(b-a))};bc=function(a){if(null==a)throw new ba.NullArgument("loader","invalid null argument '{0}' for method {1}.{2}()",{fileName:"DataLoader.hx",lineNumber:11,
className:"rg.data.DataLoader",methodName:"new"});this.loader=a;this.onLoad=new ce};Ua=wb=wa=qc=Cb=kb=void 0;y["rg.data.DataLoader"]=bc;bc.__name__=["rg","data","DataLoader"];bc.prototype={load:function(){var a=this;this.loader(function(b){a.onLoad.dispatch(b)})},onLoad:null,loader:null,__class__:bc};wa=function(){};y["rg.data.DependentVariableProcessor"]=wa;wa.__name__=["rg","data","DependentVariableProcessor"];wa.prototype={process:function(a,b){for(var f=0;f<b.length;){var g=b[f];++f;var h=mb.values(a,
g.type);if(0!=h.length){null==g.axis&&g.setAxis((new hd).create(g.type,X.__instanceof(h[0],Nd),g,null));g.stats.addMany(h);var i;if(null!=g.scaleDistribution&&null!=(i=uc.as(g.axis,eb)))i.set_scaleDistribution(g.scaleDistribution),g.scaleDistribution=null}}},__class__:wa};qc=function(){};y["rg.data.IndependentVariableProcessor"]=qc;qc.__name__=["rg","data","IndependentVariableProcessor"];qc.prototype={process:function(a,b){for(var f=0;f<b.length;){var g=b[f];++f;g.stats.addMany(mb.values(a,g.type));
var h;if(null!=g.scaleDistribution&&null!=(h=uc.as(g.axis,eb)))h.set_scaleDistribution(g.scaleDistribution),g.scaleDistribution=null}},__class__:qc};wb=function(a,b,f,g){this.on=a;this.transform=b;this.scale=f;this.values=g};y["rg.data.Segmenter"]=wb;wb.__name__=["rg","data","Segmenter"];wb.prototype={segment:function(a){var b=this,f;if(null==this.on)f=[a];else if(0<this.values.length){f=[];for(var g=0,h=this.values;g<h.length;){var i=[h[g]];++g;f.push(T.filter(a,function(a){return function(j){return B.field(j,
b.on)==a[0]}}(i)))}}else f=mb.partition(a,this.on);if(null!=this.scale){h=0;for(g=f.length;h<g;)a=h++,f[a]=this.scale(f[a])}if(null!=this.transform){f=T.rotate(f);h=0;for(g=f.length;h<g;)a=h++,f[a]=this.transform(f[a]);f=T.rotate(f)}return f},values:null,scale:null,transform:null,on:null,__class__:wb};Ua=function(a,b){this.type=a;this.scaleDistribution=b;this.meta={}};y["rg.data.Variable"]=Ua;Ua.__name__=["rg","data","Variable"];Ua.prototype={get_maxf:function(){if(null==this.maxf){if(null==this.axis)throw new ba.Error("axis is null in '{0}' variable (required by max)",
[this.type],null,{fileName:"Variable.hx",lineNumber:61,className:"rg.data.Variable",methodName:"get_maxf"});this.set_maxf((la=this.axis,a(la,la.max)))}return this.maxf},get_minf:function(){if(null==this.minf){if(null==this.axis)throw new ba.Error("axis is null in '{0}' variable (required by min)",[this.type],null,{fileName:"Variable.hx",lineNumber:50,className:"rg.data.Variable",methodName:"get_minf"});this.set_minf((la=this.axis,a(la,la.min)))}return this.minf},set_maxf:function(a){return this.maxf=
a},set_minf:function(a){return this.minf=a},max:function(){return this.get_maxf()(this.stats,this.meta)},min:function(){return this.get_minf()(this.stats,this.meta)},setAxis:function(a){this.axis=a;this.stats=null!=a?a.createStats(this.type):null},maxf:null,minf:null,meta:null,stats:null,axis:null,scaleDistribution:null,type:null,__class__:Ua,__properties__:{set_minf:"set_minf",get_minf:"get_minf",set_maxf:"set_maxf",get_maxf:"get_maxf"}};Cb=function(a,b){Ua.call(this,a,b)};y["rg.data.VariableDependent"]=
Cb;Cb.__name__=["rg","data","VariableDependent"];Cb.__super__=Ua;Cb.prototype=g(Ua.prototype,{__class__:Cb});kb=function(a,b){Ua.call(this,a,b)};y["rg.data.VariableIndependent"]=kb;kb.__name__=["rg","data","VariableIndependent"];kb.__super__=Ua;kb.prototype=g(Ua.prototype,{__class__:kb});hd=function(){};Yb=oc=Ac=Pb=td=sc=rc=void 0;y["rg.factory.FactoryAxis"]=hd;hd.__name__=["rg","factory","FactoryAxis"];hd.prototype={createDiscrete:function(a,b,f,g){return 0<=a.indexOf("time:")?null!=g?new Xb(M.substr(a,
a.indexOf("time:")+5,null)):new zc(M.substr(a,a.indexOf("time:")+5,null)):null!=f&&0<f.length?new pb(f):new fd(b)},create:function(a,b,f,g){return null!=g&&0<g.length?new pb(g):!0==b?new jc:!1==b?new fd(f):null},__class__:hd};Ac=function(){};y["rg.factory.FactoryGeoProjection"]=Ac;Ac.__name__=["rg","factory","FactoryGeoProjection"];Ac.prototype={create:function(a){switch(a.projection.toLowerCase()){case "mercator":var b=new Ba.Mercator;null!=a.scale&&b.set_scale(a.scale);null!=a.translate?b.set_translate(a.translate):
b.set_translate([0,0]);return b;case "albers":return b=new Ba.Albers,null!=a.scale&&b.set_scale(a.scale),null!=a.translate?b.set_translate(a.translate):b.set_translate([0,0]),null!=a.origin&&b.set_origin(a.origin),null!=a.parallels&&b.set_parallels(a.parallels),b;case "albersusa":return b=new Ba.AlbersUsa,null!=a.scale&&b.set_scale(a.scale),null!=a.translate?b.set_translate(a.translate):b.set_translate([0,0]),b;case "azimuthal":return b=new Ba.Azimuthal,null!=a.scale&&b.set_scale(a.scale),null!=a.translate?
b.set_translate(a.translate):b.set_translate([0,0]),null!=a.mode&&b.set_mode(a.mode),null!=a.origin&&b.set_origin(a.origin),b;default:throw new ba.Error("the projection '{0}' does not exist or is not implemented",[a.projection],null,{fileName:"FactoryGeoProjection.hx",lineNumber:68,className:"rg.factory.FactoryGeoProjection",methodName:"create"});}},__class__:Ac};Pb=function(){};y["rg.factory.FactoryHtmlVisualization"]=Pb;Pb.__name__=["rg","factory","FactoryHtmlVisualization"];Pb.prototype={create:function(a,
b,f){switch(a){case "pivottable":return a=new O(b),a.info=ib.feed(new pc,f),a;case "leaderboard":return a=new Q(b),a.info=ib.feed(new bd,f),a;default:throw new ba.Error("unsupported visualization '{0}'",null,a,{fileName:"FactoryHtmlVisualization.hx",lineNumber:35,className:"rg.factory.FactoryHtmlVisualization",methodName:"create"});}},__class__:Pb};rc=function(){};y["rg.factory.FactoryLayout"]=rc;rc.__name__=["rg","factory","FactoryLayout"];rc.size=function(a,b,f){var g,h=null==b.width?10<(g=a.node().clientWidth)?
g:400:b.width,a=(null==b.height?10<(g=a.node().clientHeight)?g:300:b.height)-f;return{width:h,height:a}};rc.prototype={create:function(a,b,f){var b=rc.size(f,a,b),g=a.layout;null==g&&(g=U.layoutDefault.get(a.type));if(null==g)throw new ba.Error("unable to find a suitable layout for '{0}'",null,a.type,{fileName:"FactoryLayout.hx",lineNumber:28,className:"rg.factory.FactoryLayout",methodName:"create"});f=U.instantiateLayout(g,b.width,b.height,f);f.feedOptions(a);return f},__class__:rc};td=function(){};
y["rg.factory.FactorySvgVisualization"]=td;td.__name__=["rg","factory","FactorySvgVisualization"];td.prototype={create:function(a,b,f){switch(a){case "barchart":return a=new sa(b),a.info=a.infoBar=ib.feed(new od,f),a;case "funnelchart":return a=new ta(b),a.info=ib.feed(new Bc,f),a;case "geo":return a=new ca(b),a.info=ib.feed(new dc,f),a;case "heatgrid":return a=new ra(b),a.info=a.infoHeatGrid=ib.feed(new ec,f),a;case "linechart":return a=new Ea(b),a.info=a.infoLine=ib.feed(new Cc,f),a;case "piechart":return a=
new Fa(b),a.info=ib.feed(new Mc,f),a;case "sankey":return a=new Ia(b),a.info=ib.feed(new Nc,f),a;case "scattergraph":return a=new Za(b),a.info=a.infoScatter=ib.feed(new Dc,f),a;case "streamgraph":return a=new Ka(b),a.info=a.infoStream=ib.feed(new Ab,f),a;default:throw new ba.Error("unsupported visualization type '{0}'",null,a,{fileName:"FactorySvgVisualization.hx",lineNumber:76,className:"rg.factory.FactorySvgVisualization",methodName:"create"});}},__class__:td};sc=function(){this.independentFactory=
new oc;this.dependentFactory=new Yb};y["rg.factory.FactoryVariable"]=sc;sc.__name__=["rg","factory","FactoryVariable"];sc.prototype={createDependents:function(a){for(var b=[],f=0;f<a.length;){var g=a[f];++f;var h=void 0;switch(g.variableType[1]){case 2:h=!1;break;case 0:h=!1;break;default:h=!0}h||b.push(this.dependentFactory.create(g,null))}return b},createIndependents:function(a){for(var b=[],f=0;f<a.length;){var g=a[f];++f;var h=void 0;switch(g.variableType[1]){case 1:h=!1;break;case 0:h=!0;break;
default:h=!0}h||b.push(this.independentFactory.create(g))}return b},createVariables:function(a){var b=this;return a.map(function(a){switch(a.variableType[1]){case 1:return b.independentFactory.create(a);case 2:return b.dependentFactory.create(a,null);case 0:return b.dependentFactory.create(a,null)}})},dependentFactory:null,independentFactory:null,__class__:sc};Yb=function(){};y["rg.factory.FactoryVariableDependent"]=Yb;Yb.__name__=["rg","factory","FactoryVariableDependent"];Yb.prototype={create:function(a,
b){if(null==a.type)throw new ba.Error("cannot create an axis if type is not specified",null,null,{fileName:"FactoryVariableDependent.hx",lineNumber:18,className:"rg.factory.FactoryVariableDependent",methodName:"create"});var f=new hd,g=new Cb(a.type,a.scaleDistribution),f=f.create(a.type,b,g,a.values);g.setAxis(f);g.set_minf(oc.convertBound(f,a.min));g.set_maxf(oc.convertBound(f,a.max));return g},__class__:Yb};oc=function(){};y["rg.factory.FactoryVariableIndependent"]=oc;oc.__name__=["rg","factory",
"FactoryVariableIndependent"];oc.convertBound=function(a,b){if(null==b||B.isFunction(b))return b;if(X.__instanceof(a,zc)){X.__instanceof(b,Date)&&(b=X.__cast(b,Date).getTime());if(X.__instanceof(b,Nd))return function(){return b};if(X.__instanceof(b,String))return function(){return P.DateParser.parse(b).getTime()};throw new ba.Error("invalid value '{0}' for time bound",[b],null,{fileName:"FactoryVariableIndependent.hx",lineNumber:46,className:"rg.factory.FactoryVariableIndependent",methodName:"convertBound"});
}return function(){return b}};oc.prototype={create:function(a){if(null==a.type)return null;var b=new hd,f=new kb(a.type,a.scaleDistribution),b=b.createDiscrete(a.type,f,a.values,a.groupBy);f.setAxis(b);f.set_minf(oc.convertBound(b,a.min));f.set_maxf(oc.convertBound(b,a.max));return f},__class__:oc};E=function(){this.x=this.y=this.width=this.height=0};A=C=L=z=void 0;y["rg.frame.Frame"]=E;E.__name__=["rg","frame","Frame"];E.prototype={toString:function(){return"[x: "+this.x+", y: "+this.y+", width: "+
this.width+", height: "+this.height+"]"},set_layout:function(a,b,f,g){this.x==a&&this.y==b&&this.width==f&&this.height==g||(this.x=a,this.y=b,this.width=f,this.height=g,this.change())},change:function(){},height:null,width:null,y:null,x:null,__class__:E};z={__ename__:["rg","frame","FrameLayout"],__constructs__:["Fill","FillPercent","FillRatio","Fixed","Floating"],Fill:function(a,b,f,g){a=["Fill",0,a,b,f,g];a.__enum__=z;a.toString=N;return a},FillPercent:function(a,b,f,g,h){a=["FillPercent",1,a,b,
f,g,h];a.__enum__=z;a.toString=N;return a},FillRatio:function(a,b,f){a=["FillRatio",2,a,b,f];a.__enum__=z;a.toString=N;return a},Fixed:function(a,b,f){a=["Fixed",3,a,b,f];a.__enum__=z;a.toString=N;return a},Floating:function(a,b,f,g){a=["Floating",4,a,b,f,g];a.__enum__=z;a.toString=N;return a}};L={__ename__:["rg","frame","Orientation"],__constructs__:["Vertical","Horizontal"],Vertical:["Vertical",0]};L.Vertical.toString=N;L.Vertical.__enum__=L;L.Horizontal=["Horizontal",1];L.Horizontal.toString=N;
L.Horizontal.__enum__=L;C=function(a,b,f){this.orientation=null==f?L.Vertical:f;this.children=[];this.width=a;this.height=b};y["rg.frame.Stack"]=C;C.__name__=["rg","frame","Stack"];C.prototype={toString:function(){return"Stack [width: "+this.width+", height: "+this.height+", children: "+this.children.length+"]"},setSize:function(a,b){if(this.width==a&&this.height==b)return this;this.width=a;this.height=b;this.reflow();return this},get_length:function(){return this.children.length},reflow:function(){var a;
switch(this.orientation[1]){case 0:a=this.height;break;case 1:a=this.width}var b;switch(this.orientation[1]){case 0:b=this.width;break;case 1:b=this.height}for(var f=0,g=[],h=[],i=0,k=0,l=0,m=this.children;l<m.length;){var p=m[l];++l;p=p.disposition;switch(p[1]){case 0:var r=p[5],q=p[4],t=p[3],p=p[2];null==q&&(q=0);null==r&&(r=a);f+=q+p+t;k+=h[i]=r-q;g.push(q+p+t);break;case 1:var r=p[6],q=p[5],R=p[4],t=p[3],p=p[2],R=Math.round(R*a);null!=q&&R<q&&(R=q);null!=r&&R>r&&(R=r);f+=R+p+t;g.push(R+p+t);break;
case 2:r=p[4];t=p[3];p=p[2];null==r&&(r=1);R=Math.round(b*r);f+=R+p+t;g.push(R+p+t);break;case 3:R=p[4];t=p[3];p=p[2];f+=R+p+t;g.push(R+p+t);break;case 4:g.push(0)}i++}a-=f;if(0<a){l=i=0;for(m=this.children;l<m.length;){p=m[l];++l;switch(p.disposition[1]){case 0:R=Math.round(h[i]/k*a),g[i]+=R}i++}}h=i=0;switch(this.orientation[1]){case 0:l=0;for(m=this.children;l<m.length;){p=m[l];++l;b=p;p=p.disposition;switch(p[1]){case 4:t=p[5];r=p[4];q=p[3];p=p[2];b.set_layout(p,q,r,t);break;case 3:case 0:case 1:case 2:t=
p[3],p=p[2],b.set_layout(0,h+p,this.width,g[i]-t-p)}h+=g[i++]}break;case 1:l=0;for(m=this.children;l<m.length;){p=m[l];++l;b=p;p=p.disposition;switch(p[1]){case 4:t=p[5];r=p[4];q=p[3];p=p[2];b.set_layout(p,q,r,t);break;case 3:case 0:case 1:case 2:t=p[3],p=p[2],b.set_layout(h+p,0,g[i]-t-p,this.height)}h+=g[i++]}}0>a&&this.moreSpaceRequired(f)},iterator:function(){return M.iter(this.children)},removeChild:function(a){if(!M.remove(this.children,a))return!1;a.set_parent(null);this.reflow();return!0},
addItems:function(a){for(var b=!1,a=h(a)();a.hasNext();){var f=a.next();null!=f&&(b=!0,this.children.push(f),f.set_parent(this))}b&&this.reflow();return this},addItem:function(a){if(null==a)return this;this.children.push(a);a.set_parent(this);this.reflow();return this},insertItem:function(a,b){if(null==b)return this;if(a>=this.children.length)return this.addItem(b);0>a&&(a=0);this.children.splice(a,0,b);b.set_parent(this);this.reflow();return this},moreSpaceRequired:function(){},length:null,orientation:null,
height:null,width:null,children:null,__class__:C,__properties__:{get_length:"get_length"}};A=function(a){E.call(this);this.set_disposition(a)};y["rg.frame.StackItem"]=A;A.__name__=["rg","frame","StackItem"];A.__super__=E;A.prototype=g(E.prototype,{set_disposition:function(a){this.disposition=a;null!=this.parent&&this.parent.reflow();return a},set_parent:function(a){null!=this.parent&&this.parent.removeChild(this);return this.parent=a},parent:null,disposition:null,__class__:A,__properties__:{set_disposition:"set_disposition"}});
fa=i=b=void 0;b=function(a){this.ready=new Id;this.container=a;this.animated=!0;this.animationDuration=1500;this.animationEase=S.Equations.elasticf();this.animationDelay=150;this._created=0;this.displayGradient=!0;this.colorScale=this.useMax=!1};y["rg.html.chart.Leadeboard"]=b;b.__name__=["rg","html","chart","Leadeboard"];b.prototype={id:function(a){return mb.id(a,[this.variableDependent.type])},lTitle:function(a){return this.labelDataPointOver(a,this.stats)},lDataPoint:function(a){return this.labelDataPoint(a,
this.stats)},lValue:function(a){return this.labelValue(a,this.stats)},lRank:function(a,b){return this.labelRank(a,b,this.stats)},fadeIn:function(a,b){var f=this;ua.selectNodeData(a).transition().ease(this.animationEase).duration(null,this.animationDuration).delay(null,this.animationDelay*(b-this._created)).attr("opacity")["float"](1).endNode(function(){f._created++})},onClick:function(a){this.click(a)},data:function(b){null!=this.sortDataPoint&&b.sort(this.sortDataPoint);if(null!=this.variableDependent.stats){this.stats=
X.__cast(this.variableDependent.stats,kc);var b=this.list.selectAll("li").data(b,a(this,this.id)),f=b.enter().append("li");f.attr("title").stringf(a(this,this.lTitle));f.append("div").attr("class").stringf(function(a,b){return 0==b%2?"rg_background fill-0":"rg_background"});var g=f.append("div").attr("class").string("rg_labels");if(null!=a(this,this.labelRank)){var h=g.append("div").text().stringf(a(this,this.lRank));this.colorScale?h.attr("class").stringf(function(a,b){return"rg_rank fill fill-"+
b}):h.attr("class").string("rg_rank")}null!=a(this,this.labelDataPoint)&&g.append("span").attr("class").string("rg_description color-0").text().stringf(a(this,this.lDataPoint));null!=a(this,this.labelValue)&&g.append("span").attr("class").string("rg_value color-2").text().stringf(a(this,this.lValue));f.append("div").attr("class").string("clear");this.displayBar&&(g=f.append("div").attr("class").string("rg_barpadding").append("div").attr("class").string("rg_barcontainer"),g.append("div").attr("class").string("rg_barback fill-0"),
g.append("div").attr("class").string("rg_bar fill-0").style("width").stringf(a(this,this.backgroundSize)),f.append("div").attr("class").string("clear"));if(null!=this.click)f.on("click.user",a(this,this.onClick));if(this.animated)f.style("opacity")["float"](0).eachNode(a(this,this.fadeIn));else f.style("opacity")["float"](1);this.animated?b.exit().transition().ease(this.animationEase).duration(null,this.animationDuration).style("opacity")["float"](0).remove():b.exit().remove();this.ready.dispatch()}},
backgroundSize:function(a){return 100*B.field(a,this.variableDependent.type)/(this.useMax?this.stats.max:this.stats.tot)+"%"},setVariables:function(a,b){this.variableDependent=b[0];this.variableIndependent=a[0]},init:function(){var a=this.container.append("div").attr("class").string("leaderboard");this.list=a.append("ul");a.append("div").attr("class").string("clear")},labelValue:function(a,b){return hb.formatValue(b.type,a)},labelRank:function(a,b){return""+(b+1)},labelDataPointOver:function(a,b){return V.format(100*
B.field(a,b.type)/(this.useMax?b.max:b.tot),"P:1")},labelDataPoint:function(a){return bb.humanize(B.field(a,this.variableIndependent.type))},stats:null,_created:null,list:null,container:null,displayBar:null,ready:null,colorScale:null,useMax:null,displayGradient:null,sortDataPoint:null,click:null,animationEase:null,animationDelay:null,animationDuration:null,animated:null,variableDependent:null,variableIndependent:null,__class__:b};Ld=xb=Rb=Kc=Ga=J=da=oa=H=Aa=Ba=P=q=cc=S=ba=F=void 0;q={Rgb:function(a,
b,f){this.red=ka.clamp(a,0,255);this.green=ka.clamp(b,0,255);this.blue=ka.clamp(f,0,255)}};y["thx.color.Rgb"]=q.Rgb;q.Rgb.__name__=["thx","color","Rgb"];q.Rgb.fromFloats=function(a,b,f){return new q.Rgb(ka.interpolate(a,0,255,null),ka.interpolate(b,0,255,null),ka.interpolate(f,0,255,null))};q.Rgb.fromInt=function(a){return new q.Rgb(a>>16&255,a>>8&255,a&255)};q.Rgb.equals=function(a,b){return a.red==b.red&&a.green==b.green&&a.blue==b.blue};q.Rgb.darker=function(a,b,f){return new q.Rgb(ka.interpolate(b,
a.red,0,f),ka.interpolate(b,a.green,0,f),ka.interpolate(b,a.blue,0,f))};q.Rgb.lighter=function(a,b,f){return new q.Rgb(ka.interpolate(b,a.red,255,f),ka.interpolate(b,a.green,255,f),ka.interpolate(b,a.blue,255,f))};q.Rgb.interpolate=function(a,b,f,g){return new q.Rgb(ka.interpolate(f,a.red,b.red,g),ka.interpolate(f,a.green,b.green,g),ka.interpolate(f,a.blue,b.blue,g))};q.Rgb.interpolatef=function(a,b,f){var g=ka.interpolatef(a.red,b.red,f),h=ka.interpolatef(a.green,b.green,f),i=ka.interpolatef(a.blue,
b.blue,f);return function(a){return new q.Rgb(g(a),h(a),i(a))}};q.Rgb.contrast=function(a){a=q.Hsl.toHsl(a);return 0.5>a.lightness?new q.Hsl(a.hue,a.saturation,a.lightness+0.5):new q.Hsl(a.hue,a.saturation,a.lightness-0.5)};q.Rgb.contrastBW=function(a){var b=q.Grey.toGrey(a),a=q.Hsl.toHsl(a);return 0.5>b.grey?new q.Hsl(a.hue,a.saturation,1):new q.Hsl(a.hue,a.saturation,0)};q.Rgb.interpolateBrightness=function(a,b){return q.Rgb.interpolateBrightnessf(b)(a)};q.Rgb.interpolateBrightnessf=function(a){var b=
ka.interpolatef(0,255,a);return function(a){a=b(a);return new q.Rgb(a,a,a)}};q.Rgb.interpolateHeat=function(a,b,f){return q.Rgb.interpolateHeatf(b,f)(a)};q.Rgb.interpolateHeatf=function(a,b){return q.Rgb.interpolateStepsf([new q.Rgb(0,0,0),null!=a?a:new q.Rgb(255,127,0),new q.Rgb(255,255,255)],b)};q.Rgb.interpolateRainbow=function(a,b){return q.Rgb.interpolateRainbowf(b)(a)};q.Rgb.interpolateRainbowf=function(a){return q.Rgb.interpolateStepsf([new q.Rgb(0,0,255),new q.Rgb(0,255,255),new q.Rgb(0,255,
0),new q.Rgb(255,255,0),new q.Rgb(255,0,0)],a)};q.Rgb.interpolateStepsf=function(a,b){if(0>=a.length)throw new ba.Error("invalid number of steps",null,null,{fileName:"Rgb.hx",lineNumber:164,className:"thx.color.Rgb",methodName:"interpolateStepsf"});if(1==a.length)return function(){return a[0]};if(2==a.length)return q.Rgb.interpolatef(a[0],a[1],b);for(var f=a.length-1,g=1/f,h=[],i=0;i<f;){var k=i++;h[k]=q.Rgb.interpolatef(a[k],a[k+1])}return function(a){0>a?a=0:1<a&&(a=1);var b=1==a?f-1:Math.floor(a/
g);return h[b](f*(a-b*g))}};q.Rgb.prototype={toString:function(){return this.toRgbString()},toRgbString:function(){return"rgb("+this.red+","+this.green+","+this.blue+")"},toCss:function(){return this.hex("#")},hex:function(a){null==a&&(a="");return a+aa.hex(this.red,2)+aa.hex(this.green,2)+aa.hex(this.blue,2)},"int":function(){return(this.red&255)<<16|(this.green&255)<<8|this.blue&255},red:null,green:null,blue:null,__class__:q.Rgb};q.Hsl=function(a,b,f){this.hue=a=V.circularWrap(a,360);this.saturation=
b=V.normalize(b);this.lightness=f=V.normalize(f);q.Rgb.call(this,ka.interpolate(q.Hsl._c(a+120,b,f),0,255,null),ka.interpolate(q.Hsl._c(a,b,f),0,255,null),ka.interpolate(q.Hsl._c(a-120,b,f),0,255,null))};y["thx.color.Hsl"]=q.Hsl;q.Hsl.__name__=["thx","color","Hsl"];q.Hsl._c=function(a,b,f){b=0.5>=f?f*(1+b):f+b-f*b;f=2*f-b;a=V.circularWrap(a,360);return 60>a?f+(b-f)*a/60:180>a?b:240>a?f+(b-f)*(240-a)/60:f};q.Hsl.toHsl=function(a){var b=a.red/255,f=a.green/255,g=a.blue/255,h=V.min(b<f?b:f,g),i=V.max(b>
f?b:f,g),k=i-h,a=(i+h)/2;0==k?h=b=0:(h=0.5>a?k/(i+h):k/(2-i-h),b=60*(b==i?(f-g)/k+(f<g?6:0):f==i?(g-b)/k+2:(b-f)/k+4));return new q.Hsl(b,h,a)};q.Hsl.equals=function(a,b){return a.hue==b.hue&&a.saturation==b.saturation&&a.lightness==b.lightness};q.Hsl.darker=function(a,b,f){return new q.Hsl(a.hue,a.saturation,V.interpolate(b,a.lightness,0,f))};q.Hsl.lighter=function(a,b,f){return new q.Hsl(a.hue,a.saturation,V.interpolate(b,a.lightness,1,f))};q.Hsl.interpolate=function(a,b,f,g){return new q.Hsl(V.interpolate(f,
a.hue,b.hue,g),V.interpolate(f,a.saturation,b.saturation,g),V.interpolate(f,a.lightness,b.lightness,g))};q.Hsl.interpolatef=function(a,b,f){return function(g){return new q.Hsl(V.interpolate(g,a.hue,b.hue,f),V.interpolate(g,a.saturation,b.saturation,f),V.interpolate(g,a.lightness,b.lightness,f))}};q.Hsl.__super__=q.Rgb;q.Hsl.prototype=g(q.Rgb.prototype,{toHslString:function(){return"hsl("+this.hue+","+100*this.saturation+"%,"+100*this.lightness+"%)"},lightness:null,saturation:null,hue:null,__class__:q.Hsl});
S={Equations:function(){}};y["thx.math.Equations"]=S.Equations;S.Equations.__name__=["thx","math","Equations"];S.Equations.linear=function(a){return a};S.Equations.polynomial=function(a,b){return Math.pow(a,b)};S.Equations.quadratic=function(a){return S.Equations.polynomial(a,2)};S.Equations.cubic=function(a){return S.Equations.polynomial(a,3)};S.Equations.sin=function(a){return 1-Math.cos(a*Math.PI/2)};S.Equations.exponential=function(a){return 0!=a?Math.pow(2,10*(a-1))-0.0010:0};S.Equations.circle=
function(a){return 1-Math.sqrt(1-a*a)};S.Equations.elastic=function(a,b,f){var g;null==f&&(f=0.45);null==b?(b=1,g=f/4):g=f/(2*Math.PI)/Math.asin(1/b);return 1+b*Math.pow(2,10*-a)*Math.sin(2*(a-g)*Math.PI/f)};S.Equations.elasticf=function(a,b){var f;null==b&&(b=0.45);null==a?(a=1,f=b/4):f=b/(2*Math.PI)/Math.asin(1/a);return function(g){return 1+a*Math.pow(2,10*-g)*Math.sin(2*(g-f)*Math.PI/b)}};S.Equations.back=function(a,b){null==b&&(b=1.70158);return a*a*((b+1)*a-b)};S.Equations.backf=function(a){null==
a&&(a=1.70158);return function(b){return b*b*((a+1)*b-a)}};S.Equations.bounce=function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375};S.Equations.polynomialf=function(a){return function(b){S.Equations.polynomial(b,a)}};i=function(a){this.ready=new Id;this.container=a;this.displayHeatMap=this.displayRowTotal=this.displayColumnTotal=!0;this.colorStart=i.defaultColorStart;this.colorEnd=i.defaultColorEnd;
this.incolumns=1};y["rg.html.chart.PivotTable"]=i;i.__name__=["rg","html","chart","PivotTable"];i.prototype={range:function(a){return a.axis.range(a.min(),a.max())},transformData:function(a){for(var b=[],f=[],g=[],h=[],i=new kc(null),k,l=0,m=ka.min(1,this.columnVariables.length);l<m;){var p=l++;k=this.columnVariables[p];b.push(k.type);for(var p=0,r=this.range(k);p<r.length;){var q=r[p];++p;g.push({values:[q],stats:null,type:k.type})}}l=1;for(m=this.columnVariables.length;l<m;){p=l++;k=this.columnVariables[p];
b.push(k.type);for(var t=g.slice(),g=[],p=0;p<t.length;){var R=t[p];++p;for(var r=0,u=this.range(k);r<u.length;){q=u[r];++r;var v=Pa.clone(R);v.values.push(q);g.push(v)}}}for(var x,l=0,m=g.length;l<m;){p=l++;r=[g[p]];k=new kc(null);r[0].stats=k;p=0;for(r=T.filter(a,function(a){return function(j){for(var f=0,g=b.length;f<g;){var h=f++;x=b[h];if(0<=x.indexOf("time:")&&Gb.snap(B.field(j,x),M.substr(x,x.indexOf("time:")+5,null))==a[0].values[h]||B.field(j,x)==a[0].values[h])return!0}return!1}}(r));p<
r.length;)t=r[p],++p,R=B.field(t,this.cellVariable.type),null!=R&&(k.add(R),i.add(R))}l=0;for(m=ka.min(1,this.rowVariables.length);l<m;){p=l++;k=this.rowVariables[p];f.push(k.type);p=0;for(r=this.range(k);p<r.length;)q=r[p],++p,h.push({values:[q],stats:null,cells:null})}l=1;for(m=this.rowVariables.length;l<m;){p=l++;k=this.rowVariables[p];f.push(k.type);t=h.slice();h=[];for(p=0;p<t.length;){R=t[p];++p;r=0;for(u=this.range(k);r<u.length;)q=u[r],++r,v=Pa.clone(R),v.values.push(q),h.push(v)}}for(var w,
l=0,m=h.length;l<m;){p=l++;k=[h[p]];k[0].stats=new kc(null);k[0].cells=[];q=T.filter(a,function(a){return function(b){for(var j=0,g=f.length;j<g;){var h=j++;w=f[h];if(0<=w.indexOf("time:")&&Gb.snap(B.field(b,w),M.substr(w,w.indexOf("time:")+5,null))!=a[0].values[h]||B.field(b,w)!=a[0].values[h])return!1}return!0}}(k));r=0;for(p=g.length;r<p;)t=r++,t=[g[t]],0<=t[0].type.indexOf("time:")?(R=[hb.periodicity(t[0].type)],t=T.firstf(q,function(a,j){return function(f){for(var g=0,h=j[0].values.length;g<
h;){var i=g++;if(Gb.snap(B.field(f,b[i]),a[0])!=j[0].values[i])return!1}return!0}}(R,t))):t=T.firstf(q,function(a){return function(j){for(var f=0,g=a[0].values.length;f<g;){var h=f++;if(B.field(j,b[h])!=a[0].values[h])return!1}return!0}}(t)),R=B.field(t,this.cellVariable.type),null==R?k[0].cells.push({}):(k[0].cells.push(t),k[0].stats.add(R))}return{column_headers:b,row_headers:f,columns:g,rows:h,stats:i}},destroy:function(){this.container.html().string("")},setVariables:function(a,b){this.cellVariable=
b[0];this.columnVariables=[];for(var f=0,g=this.incolumns;f<g;){var h=f++;this.columnVariables.push(a[h])}this.rowVariables=[];f=this.incolumns;for(g=a.length;f<g;)h=f++,this.rowVariables.push(a[h])},init:function(){},prependSpacer:function(a,b){if(0!=a){var f=b.append("th").attr("class").string("spacer");if(1<a)f.attr("colspan")["float"](a)}},buildValue:function(a,b,f,g){g=g.append("th").text().string(this.labelAxisValue(a,b));if(1<f)g.attr("colspan")["float"](f);f=["column value"];null!=this.valueclass&&
(a=this.valueclass(a,b),null!=a&&f.push(a));g.attr("class").string(f.join(" "))},formatDataPointOver:function(a){return this.labelDataPointOver(a,this.stats)},formatDataPoint:function(a){return this.labelDataPoint(a,this.stats)},formatTotalOver:function(a){return this.labelTotalOver(a,this.stats)},formatTotal:function(a){return this.labelTotal(a,this.stats)},onClick:function(a){this.click(a)},data:function(b){var b=this.transformData(b),f=this.container.append("table").classed().add("pivot-table"),
g=f.append("thead"),h=0<b.rows.length?b.rows[0].values.length:0,i=q.Rgb.interpolatef(this.colorStart,this.colorEnd);this.stats=b.stats;if(0<b.columns.length)for(var k=0,l=b.column_headers.length;k<l;){var m=k++,p=g.append("tr");this.prependSpacer(h,p);var p=p.append("th").text().string(this.labelAxis(b.column_headers[m])),r=["col-header"];if(null!=this.headerclass){var t=this.headerclass(b.column_headers[m]);null!=t&&r.push(t)}p.attr("class").string(r.join(" "));if(1<b.columns.length)p.attr("colspan")["float"](b.columns.length);
var r=1,R=b.columns[0].values[m],p=g.append("tr");if(m==b.column_headers.length-1)for(var u=0,v=b.row_headers;u<v.length;){var x=v[u];++u;var w=p.append("th").text().string(this.labelAxis(x)),ha=["row-header"];null!=this.headerclass&&(t=this.headerclass(x),null!=t&&ha.push(t));w.attr("class").string(ha.join(" "))}else this.prependSpacer(h,p);v=1;for(u=b.columns.length;v<u;)w=v++,w=b.columns[w].values[m],R==w?r++:(this.buildValue(R,b.column_headers[m],r,p),r=1,R=w);null!=R&&this.buildValue(R,b.column_headers[m],
r,p)}if(0==b.column_headers.length){p=g.append("tr");l=0;for(k=b.row_headers;l<k.length;)x=k[l],++l,p.append("th").attr("class").string("row header").text().string(this.labelAxis(x))}g=f.append("tbody");R=[];l=0;for(k=b.rows;l<k.length;){x=k[l];++l;p=g.append("tr");ha=x.values.length;for(u=0;u<ha;){var m=u++,t=x.values[m],za=t==R[m];if(!za){R[m]=t;for(v=m+1;v<ha;)w=v++,R[w]=null}w=p.append("th").text().string(za?"":this.labelAxisValue(t,b.row_headers[m]));r=["row value"];za&&r.push("empty");null!=
this.valueclass&&(m=this.valueclass(t,b.row_headers[m]),null!=m&&r.push(m));w.attr("class").string(r.join(" "))}u=0;for(v=x.cells;u<v.length;){m=v[u];++u;w=p.append("td").text().string(this.formatDataPoint(m)).attr("title").string(this.formatDataPointOver(m));if(null!=this.click)w.onNode("click",function(a,b){return function(j,f){return a(b,j,f)}}(a(this,this.onClick),m));if(this.displayHeatMap&&!Math.isNaN(t=B.field(m,this.cellVariable.type)/b.stats.max))r=i(t),w.style("color").color(q.Rgb.contrastBW(r)).style("background-color").color(r);
r=[];null!=this.cellclass&&(m=this.cellclass(m,x.stats),null!=m&&r.push(m));w.attr("class").string(r.join(" "))}this.displayRowTotal&&1<b.columns.length&&(w=p.append("th").text().string(this.formatTotal(x.stats.tot)),u=this.formatTotalOver(x.stats.tot),null!=u&&w.attr("title").string(u),r=["row total"],null!=this.totalclass&&(m=this.totalclass(x.stats.tot,x.values),null!=m&&r.push(m)),w.attr("class").string(r.join(" ")))}k=f.append("tfoot");if(this.displayColumnTotal&&1<b.rows.length){p=k.append("tr");
this.prependSpacer(h,p);l=0;for(k=b.columns;l<k.length;)h=k[l],++l,u=this.formatTotalOver(h.stats.tot),w=p.append("th").text().string(this.formatTotal(h.stats.tot)),null!=u&&w.attr("title").string(u),r=["column total"],null!=this.totalclass&&(m=this.totalclass(h.stats.tot,h.values),null!=m&&r.push(m)),w.attr("class").string(r.join(" "));this.displayRowTotal&&1<b.columns.length&&(w=p.append("th").text().string(this.formatTotal(b.stats.tot)).attr("title").string(this.formatTotalOver(b.stats.tot)),r=
["table total"],null!=this.totalclass&&(m=this.totalclass(b.stats.tot,[]),null!=m&&r.push(m)),w.attr("class").string(r.join(" ")))}this.ready.dispatch()},labelTotalOver:function(a,b){return F.FormatNumber.percent(100*a/b.tot,1)},labelTotal:function(a){return F.FormatNumber["int"](a)},labelAxisValue:function(a,b){if(0<=b.indexOf("time:")){var f=M.substr(b,b.indexOf("time:")+5,null);return pa.format(f,a)}return bb.humanize(a)},labelAxis:function(a){return bb.humanize(a)},labelDataPointOver:function(a,
b){var f=B.field(a,this.cellVariable.type);return Math.isNaN(f)?"0":F.FormatNumber.percent(100*f/b.tot,1)},labelDataPoint:function(a){a=B.field(a,this.cellVariable.type);return Math.isNaN(a)?"0":F.FormatNumber["int"](a)},stats:null,container:null,totalclass:null,headerclass:null,valueclass:null,cellclass:null,click:null,incolumns:null,cellVariable:null,rowVariables:null,columnVariables:null,ready:null,colorEnd:null,colorStart:null,displayHeatMap:null,displayRowTotal:null,displayColumnTotal:null,__class__:i};
fa={DownloaderMenu:function(a,b,f,g){this.handler=a;this.formats=null==f?fa.DownloaderMenu.DEFAULT_FORMATS:f;this.title=fa.DownloaderMenu.DEFAULT_TITLE;this.build(b,g)}};y["rg.html.widget.DownloaderMenu"]=fa.DownloaderMenu;fa.DownloaderMenu.__name__=["rg","html","widget","DownloaderMenu"];fa.DownloaderMenu.prototype={click:function(a){var b=this;this.menu.classed().add("downloading");this.handler(a,this.backgroundColor,function(){b.menu.classed().remove("downloading");return!0},function(a){b.menu.classed().remove("downloading");
Sa.alert("ERROR: "+a)})},createMenu:function(b){this.menu=b.append("div").attr("class").string("rg menu");b=this.menu.append("div").attr("class").string("options");b.append("div").attr("class").string("title").html().string(this.title);b.append("ul").selectAll("li").data(this.formats).enter().append("li").on("click.download",a(this,this.click)).html().stringf(function(a){return a})},build:function(a,b){this.createMenu(b);var f=this.menu.node();switch(a[1]){case 6:b.node().parentNode.insertBefore(f,
b.node().nextSibling);break;case 5:b.node().parentNode.insertBefore(f,b.node());break;case 3:this.menu.classed().add("bottom").classed().add("left");break;case 4:this.menu.classed().add("bottom").classed().add("right");break;case 0:ua.select(a[2]).node().appendChild(f);break;case 1:this.menu.classed().add("top").classed().add("left");break;case 2:this.menu.classed().add("top").classed().add("right")}},menu:null,backgroundColor:null,title:null,formats:null,handler:null,__class__:fa.DownloaderMenu};
fa.DownloaderPosition={__ename__:["rg","html","widget","DownloaderPosition"],__constructs__:"ElementSelector TopLeft TopRight BottomLeft BottomRight Before After".split(" ")};fa.DownloaderPosition.ElementSelector=function(a){a=["ElementSelector",0,a];a.__enum__=fa.DownloaderPosition;a.toString=N;return a};fa.DownloaderPosition.TopLeft=["TopLeft",1];fa.DownloaderPosition.TopLeft.toString=N;fa.DownloaderPosition.TopLeft.__enum__=fa.DownloaderPosition;fa.DownloaderPosition.TopRight=["TopRight",2];fa.DownloaderPosition.TopRight.toString=
N;fa.DownloaderPosition.TopRight.__enum__=fa.DownloaderPosition;fa.DownloaderPosition.BottomLeft=["BottomLeft",3];fa.DownloaderPosition.BottomLeft.toString=N;fa.DownloaderPosition.BottomLeft.__enum__=fa.DownloaderPosition;fa.DownloaderPosition.BottomRight=["BottomRight",4];fa.DownloaderPosition.BottomRight.toString=N;fa.DownloaderPosition.BottomRight.__enum__=fa.DownloaderPosition;fa.DownloaderPosition.Before=["Before",5];fa.DownloaderPosition.Before.toString=N;fa.DownloaderPosition.Before.__enum__=
fa.DownloaderPosition;fa.DownloaderPosition.After=["After",6];fa.DownloaderPosition.After.toString=N;fa.DownloaderPosition.After.__enum__=fa.DownloaderPosition;fa.DownloaderPositions=function(){};y["rg.html.widget.DownloaderPositions"]=fa.DownloaderPositions;fa.DownloaderPositions.__name__=["rg","html","widget","DownloaderPositions"];fa.DownloaderPositions.parse=function(a){switch(a.toLowerCase()){case "topleft":return fa.DownloaderPosition.TopLeft;case "topright":case "auto":return fa.DownloaderPosition.TopRight;
case "bottomleft":return fa.DownloaderPosition.BottomLeft;case "bottomright":return fa.DownloaderPosition.BottomRight;case "before":return fa.DownloaderPosition.Before;case "after":return fa.DownloaderPosition.After;default:return fa.DownloaderPosition.ElementSelector(a)}};fa.Logo=function(b,f){this.mapvalues=new La;this.padRight=f;this.id=++fa.Logo._id;this.container=b;this.create();(new Ib(5E3)).run=a(this,this.live)};y["rg.html.widget.Logo"]=fa.Logo;fa.Logo.__name__=["rg","html","widget","Logo"];
fa.Logo.pageIsBranded=function(){for(var a=0,b=fa.Logo.getLogos();a<b.length;){var f=b[a];++a;if(!ua.select('img[src="'+f+'"]').empty())return!0}return!1};fa.Logo.createLogo=function(a,b){var f=a.attr("id").get(),g=fa.Logo.registry.get(f);null==g?fa.Logo.registry.set(f,g=new fa.Logo(a,b)):g.live();return g};fa.Logo.getLogo=function(){return fa.Logo.getLogos()[0]};fa.Logo.getLogos=function(){return"http://api.reportgrid.com/css/images/reportgrid-clear.png http://api.reportgrid.com/css/images/reportgrid-cleart.png http://api.reportgrid.com/css/images/reportgrid-dark.png http://api.reportgrid.com/css/images/reportgrid-darkt.png https://api.reportgrid.com/css/images/reportgrid-clear.png https://api.reportgrid.com/css/images/reportgrid-cleart.png https://api.reportgrid.com/css/images/reportgrid-dark.png https://api.reportgrid.com/css/images/reportgrid-darkt.png".split(" ")};
fa.Logo.position=function(a){for(var b={x:a.offsetLeft||0,y:a.offsetTop||0};null!=(a=a.offsetParent);)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b};fa.Logo.prototype={updateImage:function(){this.setAttr(this.image,"src",fa.Logo.getLogo());this.setAttr(this.image,"title","Powered by ReportGrid");this.setAttr(this.image,"height","29");this.setAttr(this.image,"width","194");this.setStyle(this.image,"opacity","1");this.setStyle(this.image,"border","none");this.setStyle(this.image,"height","29px");this.setStyle(this.image,
"width","194px")},updateAnchor:function(){var a=Sa.document.body;ua.select("body :last-child").node()!=this.anchor.node()&&a.appendChild(this.anchor.node());var a=fa.Logo.position(this.frame.node()),b=this.frame.style("width").getFloat();this.setAttr(this.anchor,"title","Powered by ReportGrid");this.setAttr(this.anchor,"href","http://www.reportgrid.com/charts/");this.setStyle(this.anchor,"z-index","2147483647");this.setStyle(this.anchor,"display","block");this.setStyle(this.anchor,"opacity","1");
this.setStyle(this.anchor,"position","absolute");this.setStyle(this.anchor,"height","29px");this.setStyle(this.anchor,"width","194px");this.setStyle(this.anchor,"top",a.y+"px");this.setStyle(this.anchor,"left",a.x-194+b-this.padRight+"px")},setAttr:function(a,b,f){var g="attr:"+b+":"+f,h;null!=(h=this.mapvalues.get(g))&&h!=a.attr(b).get()?a.attr(b).string(h):null==h&&(a.attr(b).string(f),this.mapvalues.set(g,a.attr(b).get()))},setStyle:function(a,b,f){var g="style:"+b+":"+f,h;null!=(h=this.mapvalues.get(g))&&
h!=a.style(b).get()?a.style(b).string(h,"important"):null==h&&(a.style(b).string(f,"important"),this.mapvalues.set(g,a.style(b).get()))},updateFrame:function(){this.setStyle(this.frame,"display","block");this.setStyle(this.frame,"opacity","1");this.setStyle(this.frame,"width","100%");this.setStyle(this.frame,"height","29px");this.setStyle(this.frame,"position","relative")},createImage:function(){this.image=this.anchor.append("img");this.updateImage()},createAnchor:function(){this.anchor=ua.select("body").append("a").attr("class").string("reportgridbrandanchor"+
this.id).attr("target").string("_blank");this.updateAnchor()},createFrame:function(){this.chartContainer=this.container.select("*");this.frame=this.container.insert("div",this.chartContainer.node()).attr("class").string("reportgridbrandcontainer");this.updateFrame()},create:function(){this.createFrame();this.createAnchor();this.createImage()},live:function(){this.container.select("div.reportgridbrandcontainer").empty()?this.createFrame():this.updateFrame();ua.select("body").select("a.reportgridbrandanchor"+
this.id).empty()?this.createAnchor():this.updateAnchor();this.anchor.select("img").empty()?this.createImage():this.updateImage()},padRight:null,mapvalues:null,id:null,image:null,anchor:null,frame:null,container:null,chartContainer:null,__class__:fa.Logo};fa.Tooltip=function(b){this.visible=!1;b=null==b?Sa.document.body:b;this.tooltip=ua.selectNode(b).append("div").style("display").string("none").style("position").string("absolute").style("opacity")["float"](0).style("left").string("0px").style("top").string("0px").attr("class").string("rg tooltip").style("z-index").string("1000000");
this._anchor=this.tooltip.append("div").style("display").string("block").style("position").string("absolute");this.setAnchorClass("");this.container=this.tooltip.append("div").style("position").string("relative").attr("class").string("rg_container");this.background=this.container.append("div").style("display").string("block").style("position").string("static").append("div").style("z-index").string("-1").attr("class").string("rg_background").style("position").string("absolute").style("left").string("0").style("right").string("0").style("top").string("0").style("bottom").string("0");
this.content=this.container.append("div").attr("class").string("rg_content");this.content.onNode("DOMSubtreeModified",a(this,this.resize));this.anchortype="bottomright";this.anchordistance=0};y["rg.html.widget.Tooltip"]=fa.Tooltip;fa.Tooltip.__name__=["rg","html","widget","Tooltip"];fa.Tooltip.__properties__={get_instance:"get_instance"};fa.Tooltip.get_instance=function(){null==fa.Tooltip.instance&&(fa.Tooltip.instance=new fa.Tooltip,ReportGrid.tooltip=fa.Tooltip.instance);return fa.Tooltip.instance};
fa.Tooltip.prototype={reanchor:function(){if(this.visible){var a=this.container.style("width").getFloat(),b=this.container.style("height").getFloat(),f=this.anchortype;switch(f){case "top":case "bottom":case "center":this.container.style("left").string(-a/2+"px");break;case "left":case "topleft":case "bottomleft":this.container.style("left").string(this.anchordistance+"px");break;case "right":case "topright":case "bottomright":this.container.style("left").string(-this.anchordistance-a+"px");break;
default:throw new ba.Error("invalid anchor point: {"+this.anchortype+"}",null,null,{fileName:"Tooltip.hx",lineNumber:157,className:"rg.html.widget.Tooltip",methodName:"reanchor"});}switch(f){case "top":case "topleft":case "topright":this.container.style("top").string(this.anchordistance+"px");break;case "left":case "center":case "right":this.container.style("top").string(-b/2+"px");break;case "bottom":case "bottomleft":case "bottomright":this.container.style("top").string(-this.anchordistance-b+"px")}}},
resize:function(){this.reanchor()},setAnchorColor:function(a){this._anchor.style("background-color").string(a)},setAnchorClass:function(a){this._anchor.attr("class").string("rg_anchor "+a)},anchor:function(a,b){null==b&&(b=0);this.anchortype==a&&this.anchordistance==b||(this.anchortype=a,this.anchordistance=b,this.reanchor())},moveAt:function(a,b){this.tooltip.style("left").string(a+"px").style("top").string(b+"px")},showAt:function(a,b){this.moveAt(a,b);this.show()},hide:function(){this.visible&&
(this.visible=!1,this.tooltip.style("opacity")["float"](0).style("display").string("none"))},show:function(){this.visible||(this.tooltip.style("display").string("block"),this.visible=!0,this.reanchor(),this.tooltip.style("opacity")["float"](1))},html:function(a){this.content.node().innerHTML=a;this.reanchor()},visible:null,anchordistance:null,anchortype:null,content:null,background:null,container:null,_anchor:null,tooltip:null,__class__:fa.Tooltip};ib=function(){};yc=vc=$c=lc=Tb=rd=Ic=xc=Zc=Ra=Qc=
ed=Ca=Qb=Ya=u=ac=Ab=Dc=Nc=Mc=Cc=ec=dc=Bc=od=bd=pc=nd=md=wc=Zb=Vc=Uc=ad=void 0;y["rg.info.Info"]=ib;ib.__name__=["rg","info","Info"];ib.feed=function(a,b){if(null==b)return a;var f=ea.getClass(a),g=B.field(f,"filters");if(null==g)return a;for(var f=g.apply(f,[]),h,g=0;g<f.length;){var i=f[g];++g;if(B.hasField(b,i.name))switch(h=B.field(b,i.name),h=i.transformer.transform(h),h[1]){case 0:for(i=h[2].iterator();i.hasNext();)h=i.next(),a[h.name]=h.value;break;case 1:ib.warn(i.name,h[2])}}return a};ib.warn=
function(a,b){ib.warner("the parameter "+a+" has not been applied because: "+I.string(b))};ac=function(){this.animated=!1;this.duration=1500;this.delay=150;this.ease=S.Equations.elasticf()};y["rg.info.InfoAnimation"]=ac;ac.__name__=["rg","info","InfoAnimation"];ac.filters=function(){return[u.FilterDescription.toBool("animated"),u.FilterDescription.toInt("duration"),u.FilterDescription.toInt("delay"),u.FilterDescription.toExpressionFunction("ease",["value"])]};ac.prototype={delay:null,ease:null,duration:null,
animated:null,__class__:ac};Ya=function(){this.animation=new ac;this.label=new Qb;this.displayMinorTick=function(){return!0};this.displayMajorTick=function(){return!0};this.displayLabelTick=function(){return!0};this.displayAnchorLineTick=function(){return!1};this.displayMinorRule=function(){return!1};this.displayMajorRule=function(){return!1};this.displayAnchorLineRule=function(){return!1};this.labelOrientation=function(){return null};this.labelAnchor=function(){return null};this.labelAngle=function(){return null};
this.lengthTickMinor=2;this.lengthTickMajor=5;this.paddingTickMajor=this.paddingTickMinor=1;this.paddingLabel=10};y["rg.info.InfoCartesianChart"]=Ya;Ya.__name__=["rg","info","InfoCartesianChart"];Ya.filters=function(){return[u.FilterDescription.toInfo("animation",null,ac),u.FilterDescription.toFunction("click"),u.FilterDescription.toInfo("label",null,Qb),u.FilterDescription.toExpressionFunctionOrBool("displaytickmarks",["type"],["displayMinorTick","displayMajorTick","displayLabelTick"]),u.FilterDescription.toExpressionFunctionOrBool("displaytickminor",
["type"],["displayMinorTick"]),u.FilterDescription.toExpressionFunctionOrBool("displaytickmajor",["type"],["displayMajorTick"]),u.FilterDescription.toExpressionFunctionOrBool("displayticklabel",["type"],["displayLabelTick"]),u.FilterDescription.toExpressionFunctionOrBool("displayanchorlinetick",["type"],["displayAnchorLineTick"]),u.FilterDescription.toExpressionFunctionOrBool("displayrules",["type"],["displayMinorRule","displayMajorRule"]),u.FilterDescription.toExpressionFunctionOrBool("displayruleminor",
["type"],["displayMinorRule"]),u.FilterDescription.toExpressionFunctionOrBool("displayrulemajor",["type"],["displayMajorRule"]),u.FilterDescription.toExpressionFunctionOrBool("displayanchorlinerule",["type"],["displayAnchorLineRule"]),u.FilterDescription.toFloat("lengthtick",["lengthTickMajor","lengthTickMinor"]),u.FilterDescription.toFloat("lengthtickminor",["lengthTickMinor"]),u.FilterDescription.toFloat("lengthtickmajor",["lengthTickMajor"]),u.FilterDescription.toFloat("paddingtick",["paddingTickMajor",
"paddingTickMinor"]),u.FilterDescription.toFloat("paddingtickminor",["paddingTickMinor"]),u.FilterDescription.toFloat("paddingtickmajor",["paddingTickMajor"]),u.FilterDescription.toFloat("paddingticklabel",["paddingLabel"]),u.FilterDescription.toExpressionFunctionOrString("labelorientation",["type"],["labelOrientation"]),u.FilterDescription.toExpressionFunctionOrString("labelanchor",["type"],["labelAnchor"]),u.FilterDescription.toExpressionFunctionOrFloat("labelangle",["type"],["labelAngle"]),u.FilterDescription.simplified("labelhorizontal",
["labelAnchor"],function(a){return!1==a?function(){return"right"}:function(){return null}},u.ReturnMessageIfNot.isBool),u.FilterDescription.simplified("labelhorizontal",["labelAngle"],function(a){return!1==a?function(){return 0}:function(){return null}},u.ReturnMessageIfNot.isBool)]};Ya.prototype={paddingLabel:null,paddingTickMajor:null,paddingTickMinor:null,lengthTickMajor:null,lengthTickMinor:null,labelAngle:null,labelAnchor:null,labelOrientation:null,displayAnchorLineRule:null,displayMajorRule:null,
displayMinorRule:null,displayAnchorLineTick:null,displayLabelTick:null,displayMajorTick:null,displayMinorTick:null,label:null,click:null,animation:null,__class__:Ya};od=function(){Ya.call(this);this.segment=new Ca;this.stacked=!0;this.effect=K.GradientEffect.Gradient(1.25);this.barPadding=12;this.barPaddingAxis=4;this.barPaddingDataPoint=2;this.horizontal=!1};y["rg.info.InfoBarChart"]=od;od.__name__=["rg","info","InfoBarChart"];od.filters=function(){return[u.FilterDescription.toBool("stacked"),u.FilterDescription.toBool("horizontal"),
u.FilterDescription.simplified("effect",null,K.GradientEffects.parse,u.ReturnMessageChainer.or(u.ReturnMessageIfNot.isString,u.ReturnMessageChainer.make(K.GradientEffects.canParse,"invalid gradient effect: {0}"))),u.FilterDescription.toFloat("barpadding",["barPadding"]),u.FilterDescription.toFloat("barpaddingaxis",["barPaddingAxis"]),u.FilterDescription.toFloat("barpaddingdatapoint",["barPaddingDataPoint"]),u.FilterDescription.simplified("segmenton",["segment"],function(a){return ib.feed(new Ca,{on:a})},
u.ReturnMessageIfNot.isString),u.FilterDescription.toInfo("segment",null,Ca)].concat(Ya.filters())};od.__super__=Ya;od.prototype=g(Ya.prototype,{segment:null,horizontal:null,barPadding:null,barPaddingAxis:null,barPaddingDataPoint:null,effect:null,stacked:null,__class__:od});Vc=function(){};y["rg.info.InfoDataSource"]=Vc;Vc.__name__=["rg","info","InfoDataSource"];Vc.filters=function(){return[u.FilterDescription.toDataFunctionFromArray("data",["loader"]),u.FilterDescription.toDataFunctionFromArray("datapoints",
["loader"]),u.FilterDescription.toLoaderFunction("load",["loader"])]};Vc.prototype={loader:null,__class__:Vc};md=function(){};y["rg.info.InfoDomType"]=md;md.__name__=["rg","info","InfoDomType"];md.filters=function(){return[u.FilterDescription.custom("visualization",["kind"],function(a){var b=null==a?null:(""+I.string(a)).toLowerCase();return T.exists(U.visualizations,b)?u.TransformResult.Success(T.exists(U.html,b)?ed.Html:ed.Svg):u.TransformResult.Failure(new Aa.Message("'{0}' value is not a vailid visualization kind",
[a]))})]};md.prototype={kind:null,__class__:md};ed={__ename__:["rg","info","DomKind"],__constructs__:["Html","Svg"],Html:["Html",0]};ed.Html.toString=N;ed.Html.__enum__=ed;ed.Svg=["Svg",1];ed.Svg.toString=N;ed.Svg.__enum__=ed;nd=function(){this.service=xd.SERVICE_RENDERING_STATIC;this.legacyservice=xd.LEGACY_RENDERING_STATIC;this.formats=["pdf","png","jpg","svg"]};y["rg.info.InfoDownload"]=nd;nd.__name__=["rg","info","InfoDownload"];nd.filters=function(){return[u.FilterDescription.toFunction("handler"),
u.FilterDescription.toStr("service"),u.FilterDescription.toStr("legacyservice"),u.FilterDescription.toArray("formats"),u.FilterDescription.custom("position",null,function(a){return X.__instanceof(a,String)||a.nodeName?u.TransformResult.Success(fa.DownloaderPositions.parse(a)):u.TransformResult.Failure(new Aa.Message("invalid downloader position: {0}",a))})]};nd.prototype={formats:null,position:null,legacyservice:null,service:null,handler:null,__class__:nd};Bc=function(){this.animation=new ac;this.label=
new Qc;this.padding=2.5;this.flatness=1;this.effect=K.GradientEffect.Gradient(1.25);this.arrowSize=30};y["rg.info.InfoFunnelChart"]=Bc;Bc.__name__=["rg","info","InfoFunnelChart"];Bc.filters=function(){return[u.FilterDescription.toInfo("animation",null,ac),u.FilterDescription.toInfo("label",null,Qc),u.FilterDescription.toExpressionFunction("sort",["a","b"],["sortDataPoint"]),u.FilterDescription.toFunction("click"),u.FilterDescription.toFloat("segmentpadding",["padding"]),u.FilterDescription.toFloat("flatness"),
u.FilterDescription.custom("effect",null,function(a){return K.GradientEffects.canParse(a)?u.TransformResult.Success(K.GradientEffects.parse(a)):u.TransformResult.Failure(new Aa.Message("'{0}' is not a valid effect",a))}),u.FilterDescription.toFloat("arrowsize",["arrowSize"])]};Bc.prototype={arrowSize:null,effect:null,flatness:null,padding:null,click:null,sortDataPoint:null,label:null,animation:null,__class__:Bc};Zb=function(){this.forcelegacy=!1};y["rg.info.InfoGeneral"]=Zb;Zb.__name__=["rg","info",
"InfoGeneral"];Zb.filters=function(){return[u.FilterDescription.toFunction("ready"),u.FilterDescription.toBool("forcelegacy")]};Zb.prototype={forcelegacy:null,ready:null,__class__:Zb};dc=function(){this.labelOutline=this.labelShadow=!1;this.label=new Ra;this.map=[ib.feed(new Zc,{template:"world"})]};y["rg.info.InfoGeo"]=dc;dc.__name__=["rg","info","InfoGeo"];dc.filters=function(){return[u.FilterDescription.toInfoArray("map",null,Zc),u.FilterDescription.toBool("labeloutline",["labelOutline"]),u.FilterDescription.toBool("labelshadow",
["labelShadow"])]};dc.prototype={labelShadow:null,labelOutline:null,label:null,map:null,__class__:dc};ec=function(){Ya.call(this);this.colorScaleMode=K.ColorScaleMode.FromCssInterpolation()};y["rg.info.InfoHeatGrid"]=ec;ec.__name__=["rg","info","InfoHeatGrid"];ec.filters=function(){return[u.FilterDescription.toBool("contour"),u.FilterDescription.simplified("color",["colorScaleMode"],K.ColorScaleModes.createFromDynamic,function(a){return K.ColorScaleModes.canParse(a)?null:"value must be a a string or a function returning a string expressing a valid color scale mode"})].concat(Ya.filters())};
ec.__super__=Ya;ec.prototype=g(Ya.prototype,{colorScaleMode:null,contour:null,__class__:ec});Ra=function(){};y["rg.info.InfoLabel"]=Ra;Ra.__name__=["rg","info","InfoLabel"];Ra.filters=function(){return[u.FilterDescription.toTemplateFunctionOrString("title",["axes","values"]),u.FilterDescription.toTemplateFunction("datapoint",[null,"stats"]),u.FilterDescription.toTemplateFunction("datapointover",[null,"stats"])]};Ra.prototype={datapointover:null,datapoint:null,title:null,__class__:Ra};Qb=function(){Ra.call(this)};
y["rg.info.InfoLabelAxis"]=Qb;Qb.__name__=["rg","info","InfoLabelAxis"];Qb.filters=function(){return[u.FilterDescription.toTemplateFunction("axis",["type"]),u.FilterDescription.toTemplateFunction("tickmark",["value","type"])].concat(Ra.filters())};Qb.__super__=Ra;Qb.prototype=g(Ra.prototype,{tickmark:null,axis:null,__class__:Qb});Qc=function(){Ra.call(this)};y["rg.info.InfoLabelFunnel"]=Qc;Qc.__name__=["rg","info","InfoLabelFunnel"];Qc.filters=function(){return[u.FilterDescription.toTemplateFunction("arrow",
[null,"stats"])].concat(Ra.filters())};Qc.__super__=Ra;Qc.prototype=g(Ra.prototype,{arrow:null,__class__:Qc});xc=function(){Ra.call(this)};y["rg.info.InfoLabelLeaderboard"]=xc;xc.__name__=["rg","info","InfoLabelLeaderboard"];xc.filters=function(){return[u.FilterDescription.toTemplateFunctionOrNull("rank",[null,"index","stats"]),u.FilterDescription.toTemplateFunctionOrNull("value",[null,"stats"])].concat(Ra.filters())};xc.__super__=Ra;xc.prototype=g(Ra.prototype,{value:null,rank:null,__class__:xc});
Ic=function(){Qb.call(this)};y["rg.info.InfoLabelPivotTable"]=Ic;Ic.__name__=["rg","info","InfoLabelPivotTable"];Ic.filters=function(){return[u.FilterDescription.toTemplateFunction("total",["value","stats"]),u.FilterDescription.toTemplateFunction("totalover",["value","stats"]),u.FilterDescription.toTemplateFunction("axisvalue",["value","axis"])].concat(Qb.filters())};Ic.__super__=Qb;Ic.prototype=g(Qb.prototype,{axisvalue:null,totalover:null,total:null,__class__:Ic});rd=function(){Ra.call(this)};y["rg.info.InfoLabelSankey"]=
rd;rd.__name__=["rg","info","InfoLabelSankey"];rd.filters=function(){return[u.FilterDescription.toTemplateFunction("edge",[null,"stats"]),u.FilterDescription.toTemplateFunction("edgeover",[null,"stats"]),u.FilterDescription.toTemplateFunction("node",[null,"stats"])].concat(Ra.filters())};rd.__super__=Ra;rd.prototype=g(Ra.prototype,{node:null,edgeover:null,edge:null,__class__:rd});ad=function(){this.main="main";this.titleOnTop=!0;this.scalePattern=l.ScalesAlternating;this.padding=new Tb};y["rg.info.InfoLayout"]=
ad;ad.__name__=["rg","info","InfoLayout"];ad.filters=function(){return[u.FilterDescription.custom("layout",null,function(a){var b=null==a?null:(""+I.string(a)).toLowerCase();return T.exists(U.layouts,b)?u.TransformResult.Success(b):u.TransformResult.Failure(new Aa.Message("value '{0}' is not a valid visualization layout",[a]))}),u.FilterDescription.toFloat("width"),u.FilterDescription.toFloat("height"),u.FilterDescription.custom("visualization",["type"],function(a){var b=null==a?null:(""+I.string(a)).toLowerCase();
return T.exists(U.svg,b)?u.TransformResult.Success(b):u.TransformResult.Failure(new Aa.Message("value '{0}' is not a valid visualization type",[a]))}),u.FilterDescription.toStr("main"),u.FilterDescription.toBool("titleontop",["titleOnTop"]),u.FilterDescription.custom("yscaleposition",["scalePattern"],function(a){return!X.__instanceof(a,String)?u.TransformResult.Failure(new Aa.Message("value '{0}' must be a string",[a])):u.TransformResult.Success(function(){var b;switch(a){case "alt":case "alternate":case "alternating":b=
l.ScalesAlternating;break;case "right":b=l.ScalesAfter;break;default:b=l.ScalesBefore}return b}(this))}),u.FilterDescription.toInfo("padding",null,Tb)]};ad.prototype={padding:null,scalePattern:null,titleOnTop:null,main:null,type:null,height:null,width:null,layout:null,__class__:ad};bd=function(){this.animation=new ac;this.label=new xc;this.usemax=!1;this.displaybar=!0;this.colorscale=!1};y["rg.info.InfoLeaderboard"]=bd;bd.__name__=["rg","info","InfoLeaderboard"];bd.filters=function(){return[u.FilterDescription.toInfo("animation",
null,ac,function(a){a.ease=S.Equations.linear}),u.FilterDescription.toInfo("label",null,xc),u.FilterDescription.toFunction("click"),u.FilterDescription.toExpressionFunction("sort",["a","b"],["sortDataPoint"]),u.FilterDescription.toBool("displaybar"),u.FilterDescription.toBool("usemax"),u.FilterDescription.toBool("colorscale")]};bd.prototype={colorscale:null,displaybar:null,usemax:null,sortDataPoint:null,click:null,label:null,animation:null,__class__:bd};Cc=function(){Ya.call(this);this.segment=new Ca;
this.effect=K.LineEffect.Gradient(-1.2,2);this.interpolation=H.LineInterpolator.Linear;this.displayarea=!1;this.sensibleradius=100};y["rg.info.InfoLineChart"]=Cc;Cc.__name__=["rg","info","InfoLineChart"];Cc.filters=function(){return[u.FilterDescription.toExpressionFunctionOrString("symbol",[null,"stats"]),u.FilterDescription.toExpressionFunctionOrString("symbolstyle",[null,"stats"],["symbolStyle"]),u.FilterDescription.simplified("segmenton",["segment"],function(a){return ib.feed(new Ca,{on:a})},u.ReturnMessageIfNot.isString),
u.FilterDescription.toInfo("segment",null,Ca),u.FilterDescription.toStr("y0property"),u.FilterDescription.toBool("displayarea"),u.FilterDescription.toInt("sensibleradius"),u.FilterDescription.toTry("effect",null,K.LineEffects.parse,"invalid effect string value '{0}'"),u.FilterDescription.toTry("interpolation",null,function(a){return H.LineInterpolators.parse(a)},"invalid line interpolation string value '{0}'")].concat(Ya.filters())};Cc.__super__=Ya;Cc.prototype=g(Ya.prototype,{sensibleradius:null,
segment:null,y0property:null,displayarea:null,symbolStyle:null,symbol:null,interpolation:null,effect:null,__class__:Cc});Zc=function(){this.property="location";this.type="geojson";this.colorScaleMode=K.ColorScaleMode.FromCssInterpolation();this.usejsonp=!0;this.radius=function(){return 10}};y["rg.info.InfoMap"]=Zc;Zc.__name__=["rg","info","InfoMap"];Zc.filters=function(){return[u.FilterDescription.toStr("url"),u.FilterDescription.toStr("type"),u.FilterDescription.toFloat("scale"),u.FilterDescription.toStr("projection"),
u.FilterDescription.toStr("classname"),u.FilterDescription.toArray("translate"),u.FilterDescription.toArray("origin"),u.FilterDescription.toArray("parallels"),u.FilterDescription.toTry("mode",null,function(a){return ea.createEnum(Ba.ProjectionMode,W.ucfirst(a.toLowerCase()),[])},"value is not a valid projection mode '{0}'"),u.FilterDescription.toStrOrNull("property"),u.FilterDescription.toBool("usejsonp"),new u.FilterDescription("template",new lc),u.FilterDescription.toInfo("label",null,Ra),u.FilterDescription.toFunction("click"),
u.FilterDescription.simplified("color",["colorScaleMode"],K.ColorScaleModes.createFromDynamic,u.ReturnMessageChainer.make(function(a){return X.__instanceof(a,String)||B.isFunction(a)},"invalid color mode value '{0}'")),u.FilterDescription.toExpressionFunctionOrFloat("radius",[null,"stats"]),new u.FilterDescription("mapping",new $c)]};Zc.prototype={mappingurl:null,mapping:null,usejsonp:null,colorScaleMode:null,radius:null,click:null,label:null,property:null,mode:null,parallels:null,origin:null,translate:null,
classname:null,projection:null,scale:null,type:null,url:null,__class__:Zc};u={ITransformer:function(){}};y["rg.info.filter.ITransformer"]=u.ITransformer;u.ITransformer.__name__=["rg","info","filter","ITransformer"];u.ITransformer.prototype={transform:null,__class__:u.ITransformer};$c=function(){};y["rg.info.MapTransformer"]=$c;$c.__name__=["rg","info","MapTransformer"];$c.__interfaces__=[u.ITransformer];$c.prototype={transform:function(a){return X.__instanceof(a,String)?u.TransformResult.Success(new u.Pairs(["mappingurl"],
[a])):B.isObject(a)&&null==ea.getClass(a)?u.TransformResult.Success(new u.Pairs(["mapping"],[a])):u.TransformResult.Failure(new Aa.Message("value should be url string or an object",[a]))},__class__:$c};lc=function(){};y["rg.info.TemplateTransformer"]=lc;lc.__name__=["rg","info","TemplateTransformer"];lc.__interfaces__=[u.ITransformer];lc.prototype={transform:function(a){a=null==a?"":""+I.string(a);switch(a.toLowerCase()){case "world":case "world-countries":a=u.TransformResult.Success(new u.Pairs(["projection",
"url"],["mercator",xd.BASE_URL_GEOJSON+"world-countries.json.js"]));break;case "usa-states":a=u.TransformResult.Success(new u.Pairs(["projection","url"],["albersusa",xd.BASE_URL_GEOJSON+"usa-states.json.js"]));break;case "usa-state-centroids":a=u.TransformResult.Success(new u.Pairs(["projection","url"],["albersusa",xd.BASE_URL_GEOJSON+"usa-state-centroids.json.js"]));break;case "usa-counties":a=u.TransformResult.Success(new u.Pairs(["projection","url"],["albersusa",xd.BASE_URL_GEOJSON+"usa-counties.json.js"]));
break;default:a=u.TransformResult.Failure(new Aa.Message("{0} is not a valid map template",[a]))}return a},__class__:lc};Tb=function(){};y["rg.info.InfoPadding"]=Tb;Tb.__name__=["rg","info","InfoPadding"];Tb.filters=function(){return[u.FilterDescription.toInt("top"),u.FilterDescription.toInt("bottom"),u.FilterDescription.toInt("left"),u.FilterDescription.toInt("right")]};Tb.prototype={right:null,left:null,bottom:null,top:null,__class__:Tb};Mc=function(){this.innerradius=0;this.labelradius=0.45;this.labelorientation=
G.LabelOrientation.Aligned;this.outerradius=0.9;this.overradius=0.95;this.tooltipradius=0.5;this.animation=new ac;this.label=new Ra;this.effect=K.GradientEffect.Gradient(1.2);this.dontfliplabel=!0};y["rg.info.InfoPieChart"]=Mc;Mc.__name__=["rg","info","InfoPieChart"];Mc.filters=function(){return[u.FilterDescription.toFloat("labelradius"),u.FilterDescription.toBool("dontfliplabel"),u.FilterDescription.toTry("labelorientation",null,G.LabelOrientations.parse,"invalid orientation value '{0}'"),u.FilterDescription.toFloat("innerradius"),
u.FilterDescription.toFloat("outerradius"),u.FilterDescription.toFloat("overradius"),u.FilterDescription.toFloat("tooltipradius"),u.FilterDescription.toInfo("animation",null,ac),u.FilterDescription.toInfo("label",null,Ra),u.FilterDescription.toExpressionFunction("sort",["a","b"],["sortDataPoint"]),u.FilterDescription.toFunction("click"),u.FilterDescription.simplified("effect",null,K.GradientEffects.parse,u.ReturnMessageChainer.or(u.ReturnMessageIfNot.isString,u.ReturnMessageChainer.make(K.GradientEffects.canParse,
"invalid gradient effect: {0}")))]};Mc.prototype={click:null,dontfliplabel:null,sortDataPoint:null,effect:null,label:null,animation:null,tooltipradius:null,overradius:null,outerradius:null,innerradius:null,labelorientation:null,labelradius:null,__class__:Mc};pc=function(){this.label=new Ic;this.heatmapColorStart=pc.defaultStartColor;this.heatmapColorEnd=pc.defaultEndColor;this.displayRowTotal=this.displayColumnTotal=this.displayHeatmap=!0;this.columnAxes=1};y["rg.info.InfoPivotTable"]=pc;pc.__name__=
["rg","info","InfoPivotTable"];pc.filters=function(){return[u.FilterDescription.toInt("columnaxes",["columnAxes"]),u.FilterDescription.toBool("displayheatmap",["displayHeatmap"]),u.FilterDescription.toBool("displaycolumntotal",["displayColumnTotal"]),u.FilterDescription.toBool("displayrowtotal",["displayRowTotal"]),u.FilterDescription.toTry("startcolor",["heatmapColorStart"],function(a){return q.Hsl.toHsl(va.parse(a,pc.defaultStartColor.hex("#")))},"value is not a parsable color '{0}'"),u.FilterDescription.toTry("endcolor",
["heatmapColorEnd"],function(a){return q.Hsl.toHsl(va.parse(a,pc.defaultEndColor.hex("#")))},"value is not a parsable color '{0}'"),u.FilterDescription.toInfo("label",null,Ic),u.FilterDescription.toFunction("click"),u.FilterDescription.toExpressionFunction("cellclass",[null,"stats"]),u.FilterDescription.toExpressionFunction("valueclass",["value","header"]),u.FilterDescription.toExpressionFunction("headerclass",["header"]),u.FilterDescription.toExpressionFunction("totalclass",["value","values"])]};
pc.prototype={totalclass:null,headerclass:null,valueclass:null,cellclass:null,click:null,columnAxes:null,displayRowTotal:null,displayColumnTotal:null,displayHeatmap:null,heatmapColorEnd:null,heatmapColorStart:null,label:null,__class__:pc};Nc=function(){this.label=new rd;this.idproperty="id";this.weightproperty="count";this.parentsproperty="parents";this.stackbackedges=!0;this.thinbackedges=!1};y["rg.info.InfoSankey"]=Nc;Nc.__name__=["rg","info","InfoSankey"];Nc.filters=function(){return[u.FilterDescription.toInfo("label",
null,rd),u.FilterDescription.toFloat("layerwidth",["layerWidth"]),u.FilterDescription.toFloat("nodespacing",["nodeSpacing"]),u.FilterDescription.toFloat("dummyspacing",["dummySpacing"]),u.FilterDescription.toFloat("extrawidth",["extraWidth"]),u.FilterDescription.toFloat("backedgespacing",["backEdgeSpacing"]),u.FilterDescription.toFloat("extraheight",["extraHeight"]),u.FilterDescription.toFloat("extraradius",["extraRadius"]),u.FilterDescription.toFloat("imagewidth",["imageWidth"]),u.FilterDescription.toFloat("imageheight",
["imageHeight"]),u.FilterDescription.toFloat("imagespacing",["imageSpacing"]),u.FilterDescription.toFloat("labelnodespacing",["labelNodeSpacing"]),u.FilterDescription.toExpressionFunction("imagepath",[null],["imagePath"]),u.FilterDescription.toFunction("click",["click"]),u.FilterDescription.toFunction("clickedge",["clickEdge"]),u.FilterDescription.toObject("layoutmap"),u.FilterDescription.toStr("layoutmethod"),u.FilterDescription.toExpressionFunctionOrString("nodeclass",[null,"stats"]),u.FilterDescription.toExpressionFunctionOrString("edgeclass",
[null,"stats"]),u.FilterDescription.toExpressionFunctionOrBool("displayentry",[null,"stats"]),u.FilterDescription.toExpressionFunctionOrBool("displayexit",[null,"stats"]),u.FilterDescription.toBool("stackbackedges"),u.FilterDescription.toBool("thinbackedges")]};Nc.prototype={thinbackedges:null,stackbackedges:null,displayexit:null,displayentry:null,edgeclass:null,nodeclass:null,layoutmethod:null,clickEdge:null,click:null,layoutmap:null,imagePath:null,labelNodeSpacing:null,imageSpacing:null,imageHeight:null,
imageWidth:null,extraRadius:null,extraHeight:null,backEdgeSpacing:null,extraWidth:null,dummySpacing:null,nodeSpacing:null,layerWidth:null,parentsproperty:null,weightproperty:null,idproperty:null,label:null,__class__:Nc};Dc=function(){Ya.call(this);this.segment=new Ca;this.symbol=function(){return ob.SymbolCache.cache.get("circle",16)}};y["rg.info.InfoScatterGraph"]=Dc;Dc.__name__=["rg","info","InfoScatterGraph"];Dc.filters=function(){return[u.FilterDescription.toExpressionFunctionOrString("symbol",
[null,"stats"]),u.FilterDescription.toTemplateFunction("symbolstyle",[null,"stats"],["symbolStyle"]),u.FilterDescription.simplified("segmenton",["segment"],function(a){return ib.feed(new Ca,{on:a})},u.ReturnMessageIfNot.isString),u.FilterDescription.toInfo("segment",null,Ca)].concat(Ya.filters())};Dc.__super__=Ya;Dc.prototype=g(Ya.prototype,{segment:null,symbolStyle:null,symbol:null,__class__:Dc});Ca=function(){this.values=[]};y["rg.info.InfoSegment"]=Ca;Ca.__name__=["rg","info","InfoSegment"];Ca.filters=
function(){return[u.FilterDescription.toStr("on"),u.FilterDescription.toFunction("transform"),u.FilterDescription.toFunction("scale"),u.FilterDescription.toArray("values")]};Ca.prototype={values:null,scale:null,transform:null,on:null,__class__:Ca};Ab=function(){Ya.call(this);this.segment=new Ca;this.interpolation=H.LineInterpolator.Cardinal();this.effect=K.StreamEffect.GradientVertical(1.25)};y["rg.info.InfoStreamGraph"]=Ab;Ab.__name__=["rg","info","InfoStreamGraph"];Ab.filters=function(){return[u.FilterDescription.toTry("interpolation",
null,function(a){return H.LineInterpolators.parse(a)},"value is expected to be a valid interpolation string, it is '{0}'"),u.FilterDescription.toTry("effect",null,function(a){return K.StreamEffects.parse(a)},"value is expected to be a valid effect string, it is '{0}'"),u.FilterDescription.simplified("segmenton",["segment"],function(a){return ib.feed(new Ca,{on:a})},u.ReturnMessageIfNot.isString),u.FilterDescription.toInfo("segment",null,Ca)].concat(Ya.filters())};Ab.__super__=Ya;Ab.prototype=g(Ya.prototype,
{segment:null,effect:null,interpolation:null,__class__:Ab});vc=function(){this.variableType=yc.Unknown};y["rg.info.InfoVariable"]=vc;vc.__name__=["rg","info","InfoVariable"];vc.filters=function(){return[u.FilterDescription.toStr("type"),u.FilterDescription.custom("view",["min"],function(a){return!X.__instanceof(a,Array)||!vc.testViewValue(a[0])?u.TransformResult.Failure(new Aa.Message("value is expected to be an array of two items but is '{0}'",[a])):u.TransformResult.Success(a[0])}),u.FilterDescription.custom("view",
["max"],function(a){return!X.__instanceof(a,Array)||!vc.testViewValue(a[1])?u.TransformResult.Failure(new Aa.Message("value is expected to be an array of two items but is '{0}'",[a])):u.TransformResult.Success(a[1])}),u.FilterDescription.toArray("values"),u.FilterDescription.custom("values",["min"],function(a){return X.__instanceof(a,Array)?u.TransformResult.Success(a[0]):u.TransformResult.Failure(new Aa.Message("values is expected to be an array"))}),u.FilterDescription.custom("values",["max"],function(a){return X.__instanceof(a,
Array)?(a=X.__cast(a,Array),u.TransformResult.Success(a[a.length-1])):u.TransformResult.Failure(new Aa.Message("values is expected to be an array"))}),u.FilterDescription.custom("groupby",["groupBy"],function(a){return!X.__instanceof(a,String)||!pa.isValidGroupBy(a)?u.TransformResult.Failure(new Aa.Message("value is expected to be a valid string periodicity but is '{0}'",[a])):u.TransformResult.Success(a)}),u.FilterDescription.custom("variable",["variableType"],function(a){var b=null==a?null:(""+
I.string(a)).toLowerCase();return T.exists(["independent","dependent"],b)?u.TransformResult.Success(ea.createEnum(yc,W.ucfirst(b.toLowerCase()),[])):u.TransformResult.Failure(new Aa.Message("value is expected to be an 'independent' or 'dependent' but is '{0}'",[a]))}),u.FilterDescription.toTry("scalemode",["scaleDistribution"],function(a){return ea.createEnum(Qa,"Scale"+W.ucfirst((""+I.string(a)).toLowerCase()),[])},"value is expected to be a valid scale distribution value but is '{0}'")]};vc.testViewValue=
function(a){return null==a||uc.isPrimitive(a)||X.__instanceof(a,Date)||B.isFunction(a)};vc.__super__=ib;vc.prototype=g(ib.prototype,{scaleDistribution:null,variableType:null,groupBy:null,values:null,max:null,min:null,type:null,__class__:vc});yc={__ename__:["rg","info","VariableType"],__constructs__:["Unknown","Independent","Dependent"],Unknown:["Unknown",0]};yc.Unknown.toString=N;yc.Unknown.__enum__=yc;yc.Independent=["Independent",1];yc.Independent.toString=N;yc.Independent.__enum__=yc;yc.Dependent=
["Dependent",2];yc.Dependent.toString=N;yc.Dependent.__enum__=yc;Uc=function(){};y["rg.info.InfoVisualizationOption"]=Uc;Uc.__name__=["rg","info","InfoVisualizationOption"];Uc.filters=function(){return[u.FilterDescription.toInfoArray("axes",["variables"],vc),u.FilterDescription.toObject("options")]};Uc.prototype={options:null,variables:null,__class__:Uc};wc=function(){this.replace=!0};y["rg.info.InfoVisualizationType"]=wc;wc.__name__=["rg","info","InfoVisualizationType"];wc.filters=function(){return[u.FilterDescription.custom("visualization",
["type"],function(a){var b=null==a?null:(""+I.string(a)).toLowerCase();return T.exists(U.visualizations,b)?u.TransformResult.Success(b):u.TransformResult.Failure(new Aa.Message("invalid visualization type '{0}'",a))}),u.FilterDescription.toBool("replace")]};wc.prototype={type:null,replace:null,__class__:wc};u.EmptyTransformer=function(a){this.mapto=a};y["rg.info.filter.EmptyTransformer"]=u.EmptyTransformer;u.EmptyTransformer.__name__=["rg","info","filter","EmptyTransformer"];u.EmptyTransformer.__interfaces__=
[u.ITransformer];u.EmptyTransformer.prototype={transform:function(a){return u.TransformResult.Success(new u.Pairs([this.mapto],[a]))},mapto:null,__class__:u.EmptyTransformer};u.FilterDescription=function(a,b){this.name=a;this.transformer=null==b?new u.EmptyTransformer(a):b};y["rg.info.filter.FilterDescription"]=u.FilterDescription;u.FilterDescription.__name__=["rg","info","filter","FilterDescription"];u.FilterDescription.toBool=function(a,b){return u.FilterDescription.pair(a,b,u.TransformerBool.instance)};
u.FilterDescription.toInt=function(a,b){return u.FilterDescription.pair(a,b,u.TransformerInt.instance)};u.FilterDescription.toFloat=function(a,b){return u.FilterDescription.pair(a,b,u.TransformerFloat.instance)};u.FilterDescription.toStr=function(a,b){return u.FilterDescription.pair(a,b,u.TransformerString.instance)};u.FilterDescription.toStrOrNull=function(a,b){return u.FilterDescription.custom(a,b,function(a){return null==a?u.TransformResult.Success(null):u.TransformerString.instance.transform(a)})};
u.FilterDescription.toArray=function(a,b){return u.FilterDescription.custom(a,b,function(a){return X.__instanceof(a,Array)?u.TransformResult.Success(a):u.TransformResult.Failure(new Aa.Message("expected array but was '{0}'",a))})};u.FilterDescription.toObject=function(a,b){return u.FilterDescription.pair(a,b,u.TransformerObject.instance)};u.FilterDescription.toFunction=function(a,b){return u.FilterDescription.pair(a,b,u.TransformerFunction.instance)};u.FilterDescription.toTemplateFunction=function(a,
b,f){return u.FilterDescription.pair(a,f,new u.TransformerTemplateToFunction(b))};u.FilterDescription.toExpressionFunction=function(a,b,f){return u.FilterDescription.pair(a,f,new u.TransformerExpressionToFunction(b))};u.FilterDescription.toInfo=function(a,b,f,g){return u.FilterDescription.simplified(a,b,function(a){var b=ea.createInstance(f,[]);null!=g&&g(b);return ib.feed(b,a)},u.ReturnMessageIfNot.isObject)};u.FilterDescription.toInfoArray=function(a,b,f){return u.FilterDescription.custom(a,b,function(a){if(!X.__instanceof(a,
Array))if(B.isObject(a)&&null==ea.getClass(a))a=[a];else return u.TransformResult.Failure(new Aa.Message("value must be either an array of objects or an object but is {0}",[a]));return u.TransformResult.Success(a.map(function(a){var b=ea.createInstance(f,[]);return ib.feed(b,a)}))})};u.FilterDescription.toTry=function(a,b,f,g){return u.FilterDescription.custom(a,b,function(a){try{return u.TransformResult.Success(f(a))}catch(b){return u.TransformResult.Failure(new Aa.Message(g,[a]))}})};u.FilterDescription.toDataFunctionFromArray=
function(b,f){return u.FilterDescription.custom(b,f,u.TransformerChainer.onResult((la=u.TransformerArray.instance,a(la,la.transform)),function(a){return u.TransformResult.Success(function(b){return b(a)})},function(){return u.TransformResult.Failure(new Aa.Message("parameter must be an array of values"))}))};u.FilterDescription.toLoaderFunction=function(b,f){return u.FilterDescription.custom(b,f,u.TransformerChainer.onResult((la=u.TransformerFunction.instance,a(la,la.transform)),function(a){return u.TransformResult.Success(a)},
function(a){var b=B.field(a,"execute");return null!=b&&B.isFunction(b)?u.TransformResult.Success(function(j){b.apply(a,[j])}):u.TransformResult.Failure(new Aa.Message("parameter must be an array of values"))}))};u.FilterDescription.toFunctionOrBool=function(b,f){return u.FilterDescription.custom(b,f,u.TransformerChainer.onResult((la=u.TransformerFunction.instance,a(la,la.transform)),function(a){return u.TransformResult.Success(a)},function(b){return u.TransformerChainer.onResult((la=u.TransformerBool.instance,
a(la,la.transform)),function(a){return u.TransformResult.Success(function(){return a})},function(){return u.TransformResult.Failure(new Aa.Message("parameter should be a boolean value or a function returning a boolean value"))})(b)}))};u.FilterDescription.toExpressionFunctionOrBool=function(b,f,g){return u.FilterDescription.custom(b,g,u.TransformerChainer.onResult((la=new u.TransformerExpressionToFunction(f),a(la,la.transform)),function(a){return u.TransformResult.Success(a)},function(b){return u.TransformerChainer.onResult((la=
u.TransformerBool.instance,a(la,la.transform)),function(a){return u.TransformResult.Success(function(){return a})},function(){return u.TransformResult.Failure(new Aa.Message("parameter should be a boolean value or a function returning a boolean value"))})(b)}))};u.FilterDescription.toFunctionOrFloat=function(b,f){return u.FilterDescription.custom(b,f,u.TransformerChainer.onResult((la=u.TransformerFunction.instance,a(la,la.transform)),function(a){return u.TransformResult.Success(a)},function(b){return u.TransformerChainer.onResult((la=
u.TransformerFloat.instance,a(la,la.transform)),function(a){return u.TransformResult.Success(function(){return a})},function(){return u.TransformResult.Failure(new Aa.Message("parameter should be a float value or a function returning a float value"))})(b)}))};u.FilterDescription.toExpressionFunctionOrFloat=function(b,f,g){return u.FilterDescription.custom(b,g,u.TransformerChainer.onResult((la=new u.TransformerExpressionToFunction(f),a(la,la.transform)),function(a){return u.TransformResult.Success(a)},
function(b){return u.TransformerChainer.onResult((la=u.TransformerFloat.instance,a(la,la.transform)),function(a){return u.TransformResult.Success(function(){return a})},function(){return u.TransformResult.Failure(new Aa.Message("parameter should be a float value or a function returning a float value"))})(b)}))};u.FilterDescription.toFunctionOrNull=function(b,f){return u.FilterDescription.custom(b,f,u.TransformerChainer.onResult((la=u.TransformerFunction.instance,a(la,la.transform)),function(a){return u.TransformResult.Success(a)},
function(a){return null==a?u.TransformResult.Success(null):u.TransformResult.Failure(new Aa.Message("parameter should be a function or null"))}))};u.FilterDescription.toExpressionFunctionOrNull=function(b,f,g){return u.FilterDescription.custom(b,g,u.TransformerChainer.onResult((la=new u.TransformerExpressionToFunction(f),a(la,la.transform)),function(a){return u.TransformResult.Success(a)},function(a){return null==a?u.TransformResult.Success(null):u.TransformResult.Failure(new Aa.Message("parameter should be a function or null"))}))};
u.FilterDescription.toTemplateFunctionOrNull=function(b,f,g){return u.FilterDescription.custom(b,g,u.TransformerChainer.onResult((la=new u.TransformerTemplateToFunction(f),a(la,la.transform)),function(a){return u.TransformResult.Success(a)},function(a){return null==a?u.TransformResult.Success(null):u.TransformResult.Failure(new Aa.Message("parameter should be a function or null"))}))};u.FilterDescription.toFunctionOrString=function(b,f){return u.FilterDescription.custom(b,f,u.TransformerChainer.onResult((la=
u.TransformerFunction.instance,a(la,la.transform)),function(a){return u.TransformResult.Success(a)},function(b){return u.TransformerChainer.onResult((la=u.TransformerString.instance,a(la,la.transform)),function(a){return u.TransformResult.Success(function(){return a})},function(){return u.TransformResult.Failure(new Aa.Message("parameter should be a string value or a function returning a string value"))})(b)}))};u.FilterDescription.toExpressionFunctionOrString=function(b,f,g){return u.FilterDescription.custom(b,
g,u.TransformerChainer.onResult((la=new u.TransformerExpressionToFunction(f),a(la,la.transform)),function(a){return u.TransformResult.Success(a)},function(b){return u.TransformerChainer.onResult((la=u.TransformerString.instance,a(la,la.transform)),function(a){return u.TransformResult.Success(function(){return a})},function(){return u.TransformResult.Failure(new Aa.Message("parameter should be a string value or a function returning a string value"))})(b)}))};u.FilterDescription.toTemplateFunctionOrString=
function(b,f,g){return u.FilterDescription.custom(b,g,u.TransformerChainer.onResult((la=new u.TransformerTemplateToFunction(f),a(la,la.transform)),function(a){return u.TransformResult.Success(a)},function(b){return u.TransformerChainer.onResult((la=u.TransformerString.instance,a(la,la.transform)),function(a){return u.TransformResult.Success(function(){return a})},function(){return u.TransformResult.Failure(new Aa.Message("parameter should be a string value or a function returning a string value"))})(b)}))};
u.FilterDescription.custom=function(a,b,f){return u.FilterDescription.pair(a,b,new u.CustomTransformer(f))};u.FilterDescription.simplified=function(a,b,f,g){return u.FilterDescription.pair(a,b,u.CustomTransformer.simplified(f,g))};u.FilterDescription.pair=function(a,b,f){null==b&&(b=[a]);return new u.FilterDescription(a,new u.PairTransformer(b,f))};u.FilterDescription.prototype={transformer:null,name:null,__class__:u.FilterDescription};u.CustomTransformer=function(a){this.transformer=a};y["rg.info.filter.CustomTransformer"]=
u.CustomTransformer;u.CustomTransformer.__name__=["rg","info","filter","CustomTransformer"];u.CustomTransformer.__interfaces__=[u.ITransformer];u.CustomTransformer.simplified=function(a,b){return new u.CustomTransformer(function(f){var g=b(f);return null==g?u.TransformResult.Success(a(f)):u.TransformResult.Failure(new Aa.Message(g,[f]))})};u.CustomTransformer.prototype={transform:function(a){return this.transformer(a)},transformer:null,__class__:u.CustomTransformer};u.TransformerChainer=function(){};
y["rg.info.filter.TransformerChainer"]=u.TransformerChainer;u.TransformerChainer.__name__=["rg","info","filter","TransformerChainer"];u.TransformerChainer.onResult=function(a,b,f){return function(g){var h=a(g);switch(h[1]){case 0:return b(h[2],g);case 1:return f(g,h[2])}}};u.TransformerArray=function(){};y["rg.info.filter.TransformerArray"]=u.TransformerArray;u.TransformerArray.__name__=["rg","info","filter","TransformerArray"];u.TransformerArray.__interfaces__=[u.ITransformer];u.TransformerArray.prototype=
{transform:function(a){return X.__instanceof(a,Array)?u.TransformResult.Success(a):u.TransformResult.Failure(new Aa.Message("value {0} is not an array",[a]))},__class__:u.TransformerArray};u.TransformerObject=function(){};y["rg.info.filter.TransformerObject"]=u.TransformerObject;u.TransformerObject.__name__=["rg","info","filter","TransformerObject"];u.TransformerObject.__interfaces__=[u.ITransformer];u.TransformerObject.prototype={transform:function(a){return B.isObject(a)&&null==ea.getClass(a)?u.TransformResult.Success(a):
u.TransformResult.Failure(new Aa.Message("value {0} is not an object",[a]))},__class__:u.TransformerObject};u.TransformerString=function(){};y["rg.info.filter.TransformerString"]=u.TransformerString;u.TransformerString.__name__=["rg","info","filter","TransformerString"];u.TransformerString.__interfaces__=[u.ITransformer];u.TransformerString.prototype={transform:function(a){switch(ea["typeof"](a)[1]){case 3:return u.TransformResult.Success(a?"true":"false");case 1:case 2:return u.TransformResult.Success(""+
I.string(a));case 6:return u.TransformResult.Success(I.string(a));default:return u.TransformResult.Failure(new Aa.Message("unable to tranform {0} into a string value",[a]))}},__class__:u.TransformerString};u.TransformerBool=function(){};y["rg.info.filter.TransformerBool"]=u.TransformerBool;u.TransformerBool.__name__=["rg","info","filter","TransformerBool"];u.TransformerBool.__interfaces__=[u.ITransformer];u.TransformerBool.prototype={transform:function(a){var b=ea["typeof"](a);switch(b[1]){case 3:return u.TransformResult.Success(a);
case 1:case 2:return u.TransformResult.Success(0!=a);case 6:return"String"==ea.getClassName(b[2])?Wc.canParse(a)?u.TransformResult.Success(Wc.parse(a)):u.TransformResult.Failure(new Aa.Message("unable to tranform the string '{0}'' into a boolean value",[a])):u.TransformResult.Failure(new Aa.Message("unable to tranform the instance of {0} into a boolean value",[a]));default:return u.TransformResult.Failure(new Aa.Message("unable to tranform {0} into a boolean value",[a]))}},__class__:u.TransformerBool};
u.TransformerInt=function(){};y["rg.info.filter.TransformerInt"]=u.TransformerInt;u.TransformerInt.__name__=["rg","info","filter","TransformerInt"];u.TransformerInt.__interfaces__=[u.ITransformer];u.TransformerInt.prototype={transform:function(a){switch(ea["typeof"](a)[1]){case 3:return u.TransformResult.Success(a?1:0);case 1:return u.TransformResult.Success(a);case 2:return u.TransformResult.Success(a|0);default:return X.__instanceof(a,String)&&ka.canParse(a)?u.TransformResult.Success(ka.parse(a)):
u.TransformResult.Failure(new Aa.Message("unable to tranform {0} into an integer value",[a]))}},__class__:u.TransformerInt};u.TransformerFloat=function(){};y["rg.info.filter.TransformerFloat"]=u.TransformerFloat;u.TransformerFloat.__name__=["rg","info","filter","TransformerFloat"];u.TransformerFloat.__interfaces__=[u.ITransformer];u.TransformerFloat.prototype={transform:function(a){switch(ea["typeof"](a)[1]){case 3:return u.TransformResult.Success(a?1:0);case 1:case 2:return u.TransformResult.Success(a);
default:return X.__instanceof(a,String)&&V.canParse(a)?u.TransformResult.Success(V.parse(a)):u.TransformResult.Failure(new Aa.Message("unable to tranform {0} into a float value",[a]))}},__class__:u.TransformerFloat};u.TransformerFunction=function(){};y["rg.info.filter.TransformerFunction"]=u.TransformerFunction;u.TransformerFunction.__name__=["rg","info","filter","TransformerFunction"];u.TransformerFunction.__interfaces__=[u.ITransformer];u.TransformerFunction.prototype={transform:function(a){return B.isFunction(a)?
u.TransformResult.Success(a):u.TransformResult.Failure(new Aa.Message("not a function"))},__class__:u.TransformerFunction};u.TransformerTemplateToFunction=function(a){this.argumentsMap=a};y["rg.info.filter.TransformerTemplateToFunction"]=u.TransformerTemplateToFunction;u.TransformerTemplateToFunction.__name__=["rg","info","filter","TransformerTemplateToFunction"];u.TransformerTemplateToFunction.__interfaces__=[u.ITransformer];u.TransformerTemplateToFunction.prototype={transform:function(a){var b=
this;if(X.__instanceof(a,String)){var f=new ye(a);return u.TransformResult.Success(function(){return f.execute(u.TransformerExpressionToFunction.extractValues(b.argumentsMap,arguments))})}return B.isFunction(a)?u.TransformResult.Success(a):u.TransformResult.Failure(new Aa.Message("not a function"))},argumentsMap:null,__class__:u.TransformerTemplateToFunction};u.TransformerExpressionToFunction=function(a){this.argumentsMap=a};y["rg.info.filter.TransformerExpressionToFunction"]=u.TransformerExpressionToFunction;
u.TransformerExpressionToFunction.__name__=["rg","info","filter","TransformerExpressionToFunction"];u.TransformerExpressionToFunction.__interfaces__=[u.ITransformer];u.TransformerExpressionToFunction.extractValues=function(a,b){var f=a.length,g=new La;g.set("ReportGrid",ReportGrid);g.set("format",ReportGrid.format);g.set("symbol",ReportGrid.symbol);g.set("humanize",ReportGrid.humanize);g.set("compare",ReportGrid.compare);g.set("Math",Math);g.set("null",null);g.set("true",!0);for(g.set("false",!1);0<=
--f;){var h=a[f];if(null==h)for(var h=0,i=B.fields(b[f]);h<i.length;){var k=i[h];++h;g.set(k,B.field(b[f],k))}else g.set(h,b[f])}return g};u.TransformerExpressionToFunction.prototype={transform:function(a){var b=this;if(X.__instanceof(a,String)&&u.TransformerExpressionToFunction.pattern.match(a)){var a=a.substr(a.indexOf("=")+1),f=(new Fc).parseString(a);return u.TransformResult.Success(function(){u.TransformerExpressionToFunction.interp.variables=u.TransformerExpressionToFunction.extractValues(b.argumentsMap,
arguments);return u.TransformerExpressionToFunction.interp.execute(f)})}return B.isFunction(a)?u.TransformResult.Success(a):u.TransformResult.Failure(new Aa.Message("not a function"))},argumentsMap:null,__class__:u.TransformerExpressionToFunction};u.ReturnMessageIfNot=function(){};y["rg.info.filter.ReturnMessageIfNot"]=u.ReturnMessageIfNot;u.ReturnMessageIfNot.__name__=["rg","info","filter","ReturnMessageIfNot"];u.ReturnMessageIfNot.isBool=function(a){return X.__instanceof(a,He)?null:"not a boolean"};
u.ReturnMessageIfNot.isString=function(a){return X.__instanceof(a,String)?null:"not a string"};u.ReturnMessageIfNot.isObject=function(a){return B.isObject(a)&&null==ea.getClass(a)?null:"not an object"};u.ReturnMessageChainer=function(){};y["rg.info.filter.ReturnMessageChainer"]=u.ReturnMessageChainer;u.ReturnMessageChainer.__name__=["rg","info","filter","ReturnMessageChainer"];u.ReturnMessageChainer.make=function(a,b){return function(f){return a(f)?null:b}};u.ReturnMessageChainer.or=function(a,b){return function(f){var g=
a(f);return null==g?b(f):g}};u.ReturnMessageChainer.and=function(a,b){return function(f){return null==a(f)&&null==b(f)}};u.PairTransformer=function(a,b){this.names=a;this.valueTransformer=b};y["rg.info.filter.PairTransformer"]=u.PairTransformer;u.PairTransformer.__name__=["rg","info","filter","PairTransformer"];u.PairTransformer.__interfaces__=[u.ITransformer];u.PairTransformer.prototype={transform:function(a){a=this.valueTransformer.transform(a);switch(a[1]){case 0:var b=a[2];return u.TransformResult.Success(new u.Pairs(this.names,
this.names.map(function(){return b})));case 1:return u.TransformResult.Failure(a[2])}},valueTransformer:null,names:null,__class__:u.PairTransformer};u.Pairs=function(a,b){if(a.length!=b.length)throw new ba.Error("names and values must have the same length",null,null,{fileName:"Pairs.hx",lineNumber:15,className:"rg.info.filter.Pairs",methodName:"new"});this.names=a;this.values=b};y["rg.info.filter.Pairs"]=u.Pairs;u.Pairs.__name__=["rg","info","filter","Pairs"];u.Pairs.prototype={iterator:function(){for(var a=
[],b=0,f=this.names.length;b<f;){var g=b++;a.push({name:this.names[g],value:this.values[g]})}return M.iter(a)},values:null,names:null,__class__:u.Pairs};u.TransformResult={__ename__:["rg","info","filter","TransformResult"],__constructs__:["Success","Failure"]};u.TransformResult.Success=function(a){a=["Success",0,a];a.__enum__=u.TransformResult;a.toString=N;return a};u.TransformResult.Failure=function(a){a=["Failure",1,a];a.__enum__=u.TransformResult;a.toString=N;return a};ia=function(a,b){this.container=
a;this.serviceUrl=b;this.tokenId=Rc.getTokenId()};ma=void 0;y["rg.interactive.RGDownloader"]=ia;ia.__name__=["rg","interactive","RGDownloader"];ia.getClassName=function(a){a=a.attr("class").get();a=aa.trim((new xa("\\s+","g")).replace((new xa("(^rg$|^rg\\s+|\\s+rg\\s+|\\s+rg$)","g")).replace(a," ")," "));return""==a?null:a};ia.appendArgument=function(a,b,f){var g=0<=a.indexOf("?")?"&":"?";return a+g+b+"="+aa.urlEncode(f)};ia.prototype={complete:function(a,b,f){f=oa.Json.decode(f);null!=f.error?null!=
b&&b(f.error):a(f)&&(a=B.field(f.service,this.format),null!=this.tokenId&&(a=ia.appendArgument(a,"tokenId",this.tokenId)),a=ia.appendArgument(a,"forceDownload","true"),Sa.window.location.href=a)},config:function(){var a=this.container.select("svg"),b=a.attr("width").getFloat(),a=a.attr("height").getFloat(),b='"cache":"1d","duration":"1d","width":'+b+',"height":'+a+',"formats":["'+ia.ALLOWED_FORMATS.join('","')+'"]';null!=this.tokenId&&(b+=',"params":{"tokenId":true}');return"{"+b+"}"},html:function(){var a=
this.findCssSources(),b=this.container.attr("class").get(),f=this.extractSvg(this.container.html().get());return'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml">\n<head>\n<title></title>\n'+(null==a?"":a.map(function(a){return'<link href="'+a+'" rel="stylesheet" type="text/css" />'}).join("\n"))+'\n</head>\n<body>\n<div class="'+(null==b?"rg":b+" rg")+'">'+f+"</div>\n</body>\n</html>"},
extractSvg:function(a){var b=new xa("<svg",""),f=new xa("</svg>","");b.match(a);a=b.matchedRight();f.match(a);return"<svg"+f.matchedLeft()+"</svg>"},findCssSources:function(){return ua.selectAll("link").filterNode(function(a){return"stylesheet"==a.rel}).mapNode(function(a){return a.href})},download:function(b,f,g,h){if(!T.exists(ia.ALLOWED_FORMATS,b))throw new ba.Error("The download format '{0}' is not correct",[b],null,{fileName:"RGDownloader.hx",lineNumber:33,className:"rg.interactive.RGDownloader",
methodName:"download"});this.format=b;b=new tc(this.url(b));b.setHeader("Accept","application/json");b.onError=null!=h?h:function(){};var f=b,i=a(this,this.complete);f.onData=function(a){return i(g,h,a)};b.setParameter("html",this.html());b.setParameter("config",this.config());b.request(!0)},url:function(a){return aa.replace(this.serviceUrl,"{ext}",a)},tokenId:null,format:null,container:null,serviceUrl:null,__class__:ia};ma=function(a,b){this.container=a;this.serviceUrl=b;this.tokenId=Rc.getTokenId()};
y["rg.interactive.RGLegacyRenderer"]=ma;ma.__name__=["rg","interactive","RGLegacyRenderer"];ma.getIframeDoc=function(a){var b=null;a.contentDocument?b=a.contentDocument:a.contentWindow?b=a.contentWindow.document:null!=Sa.window.frames[a.name]&&(b=Sa.window.frames[a.name].document);return b};ma.isIE7orBelow=function(){return document.all&&!document.querySelector};ma.removeFunctions=function(a){for(var b=0,f=B.fields(a);b<f.length;){var g=f[b];++b;var h=B.field(a,g);B.isFunction(h)?B.deleteField(a,
g):B.isObject(a)&&null==ea.getClass(a)&&ma.removeFunctions(h)}};ma.removeEmpties=function(a){for(var b=0,f=B.fields(a);b<f.length;){var g=f[b];++b;var h=B.field(a,g);B.isObject(h)&&null==ea.getClass(h)?(ma.removeEmpties(h),0==B.fields(h).length&&B.deleteField(a,g)):null==h&&B.deleteField(a,g)}};ma.prototype={config:function(a){return"{"+('"cache":"1d","duration":"1d","width":'+a.width+',"height":'+a.height+',"formats":["'+ma.FORMAT+'"]')+"}"},html:function(a,b,f){var b=oa.Json.encode(b),g=this.findJsSources(),
h=this.findCssSources(),i=this.container.attr("class").get();return"<!DOCTYPE html>\n<html>\n<head>\n<title></title>\n"+(null==g?"":g.map(function(a){return'<script src="'+a+'" type="text/javascript"><\/script>'}).join("\n"))+(null==h?"":h.map(function(a){return'<link href="'+a+'" rel="stylesheet" type="text/css" />'}).join("\n"))+'\n<script type="text/javascript">\nfunction __RG__render()\n{\nReportGrid.chart("#'+a+'", '+b+');\n}\n<\/script>\n</head>\n<body onload="__RG__render()">\n<div id="'+a+
'" class="'+(null==i?"rg":i+" rg")+'" style="margin:0;width:'+f.width+"px;height:"+f.height+'px;"></div>\n</body>\n</html>'},findCssSources:function(){return ua.selectAll("link").filterNode(function(a){return"stylesheet"==a.rel}).mapNode(function(a){return a.href})},findJsSources:function(){var a=new xa("reportgrid-[^.]+\\.js","");return ua.selectAll("script").filterNode(function(b){return a.match(b.src)}).mapNode(function(a){return a.src})},normalizeParams:function(a){null==a.options&&(a.options=
{});var b=rc.size(this.container,a.options,0);a.options.width=b.width;a.options.height=b.height;ma.removeFunctions(a.options);ma.removeEmpties(a);B.deleteField(a,"load");B.deleteField(a.options,"download");a.options.forcelegacy=!1;return b},writeToIframe:function(a,b){var f=ma.getIframeDoc(a);null!=f&&(f.open(),f.write('<html><head><title></title></head><body style="visibility:hidden;border:none" scroll="no">'+b+"</body></html>"),f.close())},createIframe:function(a,b){var f="rgiframe"+ ++ma.nextframeid;
return this.container.append("iframe").attr("name").string(f).attr("id").string(f).attr("frameBorder").string("0").attr("scrolling").string("no").attr("width").string(a+"").attr("height").string(b+"").attr("marginwidth").string("0").attr("marginheight").string("0").attr("hspace").string("0").attr("vspace").string("0").attr("style").string("width:100%; border:0; height:100%; overflow:auto;").attr("src").string(ma.isIE7orBelow()?'javascript:\'<script>window.onload=function(){document.body.scroll="no";document.body.style.overflow="hidden";document.write(\\\'<script>document.domain=\\\\"'+
Sa.document.domain+"\\\\\";<\\\\\\\\/script>\\');document.close();};<\\/script>'":"about:blank")},display:function(a){var b=this,f=this.normalizeParams(a),g=this.container.attr("id").get(),h=this.createIframe(f.width,f.height);null==g&&(g="rgchart");var i=this.url(),a=this.html(g,a,f),f=this.config(f),k='<form method="post" action="'+i+'" name="VIZ"><textarea name="html" style="width:40em;height:50%">'+a+'</textarea><textarea name="config" style="width:40em;height:50%">'+f+'</textarea><script type="text/javascript">\ndocument.VIZ.submit();\n<\/script>\n</form>';
Ib.delay(function(){b.writeToIframe(h.node(),k)},100);if(ma.isIE7orBelow()){var l=h.node();l.attachEvent("onload",function(){var a=ma.getIframeDoc(l);a.body.scroll="no";a.body.style.overflow="hidden";a.body.style.border=0;a.body.style.margin=0;a.body.style.padding=0})}},url:function(){return aa.replace(this.serviceUrl,"{ext}",ma.FORMAT)},tokenId:null,container:null,serviceUrl:null,__class__:ma};r={__ename__:["rg","layout","Anchor"],__constructs__:["Top","Bottom","Left","Right"]};x=w=v=t=p=l=void 0;
r.Top=["Top",0];r.Top.toString=N;r.Top.__enum__=r;r.Bottom=["Bottom",1];r.Bottom.toString=N;r.Bottom.__enum__=r;r.Left=["Left",2];r.Left.toString=N;r.Left.__enum__=r;r.Right=["Right",3];r.Right.toString=N;r.Right.__enum__=r;p=function(a,b,f){this.container=f;f.classed().add("rg");this.space=new ya.Space(this.width=a,this.height=b,f.append("div"))};y["rg.layout.Layout"]=p;p.__name__=["rg","layout","Layout"];p.prototype={adjustPadding:function(){},feedOptions:function(a){this.mainPanelName=a.main;this.paddings=
a.padding},paddings:null,suggestPanelPadding:function(a,b,f){if(null!=a&&(a=uc.as(a.frame,A),null!=a)){var g=a.disposition;switch(g[1]){case 0:var h=g[5],i=g[4],k=g[3],g=g[2];a.set_disposition(z.Fill(null==b?g:b,null==f?k:f,i,h));break;case 1:var h=g[6],i=g[5],l=g[4],k=g[3],g=g[2];a.set_disposition(z.FillPercent(null==b?g:b,null==f?k:f,l,i,h));break;case 2:h=g[4];k=g[3];g=g[2];a.set_disposition(z.FillRatio(null==b?g:b,null==f?k:f,h));break;case 3:h=g[4],k=g[3],g=g[2],a.set_disposition(z.Fixed(null==
b?g:b,null==f?k:f,h))}}},suggestPanelSize:function(a,b){var f=uc.as(a.frame,A);if(null!=f){var g=f.disposition;switch(g[1]){case 3:f.set_disposition(z.Fixed(g[2],g[3],b))}}},destroy:function(){this.container.selectAll("*").remove()},suggestSize:function(a,b){var f=this.getPanel(a);null!=f&&this.suggestPanelSize(f,b)},getPanel:function(){return null},getContext:function(){return null},container:null,space:null,height:null,width:null,mainPanelName:null,__class__:p};t=function(a,b,f){p.call(this,a,b,
f);this.titleOnTop=!0;this.right=!1;this.alternating=!0;this.yitems=[]};y["rg.layout.LayoutCartesian"]=t;t.__name__=["rg","layout","LayoutCartesian"];t.__super__=p;t.prototype=g(p.prototype,{adjustPadding:function(){var a=null==this.title&&null==this.paddings.top?8:this.paddings.top,b=(null==this.xtickmarks||!this.titleOnTop&&null==this.title)&&null==this.paddings.bottom?8:this.paddings.bottom,f=null==this.leftcontainer&&null==this.paddings.left?20:this.paddings.left,g=null==this.rightcontainer&&
null==this.paddings.right?20:this.paddings.right;if(null!=f||null!=g)this.suggestPanelPadding(this.getMain(),f,g),this.suggestPanelPadding(this.bottommiddlecontainer,f,g);(null!=a||null!=b)&&this.suggestPanelPadding(this.middlecontainer,a,b)},feedOptions:function(a){p.prototype.feedOptions.call(this,a);this.titleOnTop=a.titleOnTop;switch(a.scalePattern[1]){case 0:this.alternating=this.right=!1;break;case 1:this.right=!0;this.alternating=!1;break;case 2:this.right=!1,this.alternating=!0}},getMain:function(){null==
this.main&&(this.main=this.getMiddleContainer().createPanelAt(1,z.Fill(0,0)));return this.main},getXTickmarks:function(){if(null==this.xtickmarks){var a=this.getBottomMiddleContainer();this.xtickmarks=new v(a.createPanelAt(0,z.Fixed(0,0,0)),r.Top)}return this.xtickmarks},getBottomMiddleContainer:function(){if(null==this.bottommiddlecontainer){var a=this.getBottomContainer();this.bottomleft=a.createPanel(z.Fixed(0,0,0));this.bottommiddlecontainer=a.createContainer(z.Fill(0,0),L.Vertical);this.bottommiddlecontainer.g.classed().add("axis-x");
this.bottomright=a.createPanel(z.Fixed(0,0,0))}return this.bottommiddlecontainer},getBottomContainer:function(){null==this.bottomcontainer&&(this.bottomcontainer=this.getMainContainer().createContainerAt(1,z.Fixed(0,0,0),L.Horizontal));return this.bottomcontainer},getRightContainer:function(){null==this.rightcontainer&&(this.getMain(),this.rightcontainer=this.getMiddleContainer().createContainer(z.Fixed(0,0,0),L.Horizontal));return this.rightcontainer},getLeftContainer:function(){null==this.leftcontainer&&
(this.leftcontainer=this.getMiddleContainer().createContainerAt(0,z.Fixed(0,0,0),L.Horizontal));return this.leftcontainer},getMiddleContainer:function(){null==this.middlecontainer&&(this.middlecontainer=this.getMainContainer().createContainerAt(0,z.Fill(0,0),L.Horizontal));return this.middlecontainer},getMainContainer:function(){null==this.maincontainer&&(this.maincontainer=this.space.createContainerAt(this.titleOnTop?1:0,z.Fill(0,0),L.Vertical));return this.maincontainer},getXTitle:function(){null==
this.xtitle&&(this.xtitle=new v(this.getBottomMiddleContainer().createPanel(z.Fixed(0,0,0)),r.Top));return this.xtitle},suggestLateralSize:function(a){for(var b=0,f=0,g=0,h=this.yitems;g<h.length;){var i=h[g];++g;f++;null!=i.container&&ea.enumEq(i.anchor,a)&&(b+=i.container.frame.width)}switch(a[1]){case 3:this.suggestSize("left",b);this.suggestSize("bottomleft",b);break;case 2:this.suggestSize("right",b),this.suggestSize("bottomright",b)}},suggestSize:function(a,b){if(this.isY(a)||this.isYTitle(a)){var f=
this.getYItem(this.getYIndex(a));if(null!=f.container){var g=0;null!=f.context&&(this.isY(a)&&this.suggestPanelSize(f.context.panel,b),g+=f.context.panel.frame.width);null!=f.title&&(this.isYTitle(a)&&this.suggestPanelSize(f.title.panel,b),g+=f.title.panel.frame.width);this.suggestPanelSize(f.container,Math.round(g));this.suggestLateralSize(f.anchor)}}else switch(p.prototype.suggestSize.call(this,a,b),a){case "x":case "xtitle":f=0,g=this.getPanel("x"),null!=g&&(f+=g.frame.height),g=this.getPanel("xtitle"),
null!=g&&(f+=g.frame.height),p.prototype.suggestSize.call(this,"xtickmarks",f)}},isYTitle:function(a){return t.REYTITLE.match(a)},isY:function(a){return t.REYAXIS.match(a)},getYIndex:function(a){return t.REYINDEX.match(a)?I.parseInt(t.REYINDEX.matched(1)):-1},getYTitle:function(a){var b=this.getYItem(a);if(null==b.title){switch(b.anchor[1]){case 2:a=this.getYContainer(a).createPanel(z.Fixed(0,0,0));break;case 3:a=this.getYContainer(a).createPanelAt(0,z.Fixed(0,0,0));break;default:a=null}b.title=new v(a,
b.anchor)}return b.title},getYContext:function(a){var b=this.getYItem(a);if(null==b.context){switch(b.anchor[1]){case 2:a=this.getYContainer(a).createPanelAt(0,z.Fixed(0,0,0));break;case 3:a=this.getYContainer(a).createPanel(z.Fixed(0,0,0));break;default:a=null}b.context=new v(a,b.anchor)}return b.context},getYContainer:function(a){var b=this.getYItem(a);null==b.container&&(b.container=this.right||this.alternating&&0!=a%2?this.getRightContainer().createContainer(z.Fixed(0,0,0),L.Horizontal):this.getLeftContainer().createContainerAt(0,
z.Fixed(0,0,0),L.Horizontal),b.container.g.classed().add("group-"+a));return b.container},getYItem:function(a){null==this.yitems[a]&&(this.yitems[a]={container:null,context:null,title:null,anchor:this.right||this.alternating&&0!=a%2?r.Left:r.Right});return this.yitems[a]},getPanel:function(a){switch(a){case "main":return this.getMain();case "xtickmarks":return this.getBottomContainer();case "left":return this.getLeftContainer();case "right":return this.getRightContainer();case "bottomleft":return this.bottomleft;
case "bottomright":return this.bottomright;default:return a=this.getContext(a),null==a?null:a.panel}},getContext:function(a){if(this.isY(a))return this.getYContext(this.getYIndex(a));if(this.isYTitle(a))return this.getYTitle(this.getYIndex(a));switch(a){case "title":return null==this.title&&(this.title=new v(this.space.createPanelAt(this.titleOnTop?0:1,z.Fixed(0,0,0)),this.titleOnTop?r.Bottom:r.Top)),this.title;case "x":return this.getXTickmarks();case "xtitle":return this.getXTitle();default:return null}},
xtitle:null,yitems:null,alternating:null,right:null,title:null,xtickmarks:null,bottomright:null,bottomleft:null,middlecontainer:null,maincontainer:null,bottommiddlecontainer:null,bottomcontainer:null,rightcontainer:null,leftcontainer:null,titleOnTop:null,main:null,__class__:t});w=function(a,b,f){p.call(this,a,b,f);this.titleOnTop=!0};y["rg.layout.LayoutSimple"]=w;w.__name__=["rg","layout","LayoutSimple"];w.__super__=p;w.prototype=g(p.prototype,{feedOptions:function(a){p.prototype.feedOptions.call(this,
a);this.titleOnTop=a.titleOnTop},getTitle:function(){null==this.title&&(this.title=new v(this.space.createPanelAt(this.titleOnTop?0:1,z.Fixed(0,0,20)),this.titleOnTop?r.Bottom:r.Top));return this.title},title:null,getPanel:function(a){switch(a){case "main":return null==this.main&&(this.main=this.space.createPanelAt(this.titleOnTop?1:0,z.Fill(0,0))),this.main;case "title":return this.getTitle().panel;default:return null}},getContext:function(a){switch(a){case "title":return null!=this.title?null:this.getTitle();
default:return null}},titleOnTop:null,main:null,__class__:w});x=function(a,b,f){p.call(this,a,b,f);this.titleOnTop=!0};y["rg.layout.LayoutX"]=x;x.__name__=["rg","layout","LayoutX"];x.__super__=p;x.prototype=g(p.prototype,{adjustPadding:function(){var a=null==this.title&&null==this.paddings.top?8:this.paddings.top,b=(null==this.xtickmarks||!this.titleOnTop&&null==this.title)&&null==this.paddings.bottom?8:this.paddings.bottom,f=null==this.paddings.left?20:this.paddings.left,g=null==this.paddings.right?
20:this.paddings.right;if(null!=f||null!=g)this.suggestPanelPadding(this.getMain(),f,g),this.suggestPanelPadding(this.bottommiddlecontainer,f,g);(null!=a||null!=b)&&this.suggestPanelPadding(this.middlecontainer,a,b)},feedOptions:function(a){p.prototype.feedOptions.call(this,a);this.titleOnTop=a.titleOnTop},getMain:function(){null==this.main&&(this.main=this.getMiddleContainer().createPanelAt(1,z.Fill(0,0)));return this.main},getXTickmarks:function(){if(null==this.xtickmarks){var a=this.getBottomMiddleContainer();
this.xtickmarks=new v(a.createPanelAt(0,z.Fixed(0,0,0)),r.Top)}return this.xtickmarks},getBottomMiddleContainer:function(){null==this.bottommiddlecontainer&&(this.bottommiddlecontainer=this.getBottomContainer().createContainer(z.Fill(0,0),L.Vertical),this.bottommiddlecontainer.g.classed().add("axis-x"));return this.bottommiddlecontainer},getBottomContainer:function(){null==this.bottomcontainer&&(this.bottomcontainer=this.getMainContainer().createContainerAt(1,z.Fixed(0,0,0),L.Horizontal));return this.bottomcontainer},
getMiddleContainer:function(){null==this.middlecontainer&&(this.middlecontainer=this.getMainContainer().createContainerAt(0,z.Fill(0,0),L.Horizontal));return this.middlecontainer},getMainContainer:function(){null==this.maincontainer&&(this.maincontainer=this.space.createContainerAt(this.titleOnTop?1:0,z.Fill(0,0),L.Vertical));return this.maincontainer},getXTitle:function(){null==this.xtitle&&(this.xtitle=new v(this.getBottomMiddleContainer().createPanel(z.Fixed(0,0,0)),r.Top));return this.xtitle},
suggestSize:function(a,b){p.prototype.suggestSize.call(this,a,b);switch(a){case "x":case "xtitle":var f=0,g=this.getPanel("x");null!=g&&(f+=g.frame.height);g=this.getPanel("xtitle");null!=g&&(f+=g.frame.height);p.prototype.suggestSize.call(this,"xtickmarks",f)}},getPanel:function(a){switch(a){case "main":return this.getMain();case "xtickmarks":return this.getBottomContainer();default:return a=this.getContext(a),null==a?null:a.panel}},getContext:function(a){switch(a){case "title":return null==this.title&&
(this.title=new v(this.space.createPanelAt(this.titleOnTop?0:1,z.Fixed(0,0,0)),this.titleOnTop?r.Bottom:r.Top)),this.title;case "x":return this.getXTickmarks();case "xtitle":return this.getXTitle();default:return null}},xtitle:null,title:null,xtickmarks:null,middlecontainer:null,maincontainer:null,bottommiddlecontainer:null,bottomcontainer:null,titleOnTop:null,main:null,__class__:x});v=function(a,b){this.panel=a;this.anchor=b};y["rg.layout.PanelContext"]=v;v.__name__=["rg","layout","PanelContext"];
v.prototype={anchor:null,panel:null,__class__:v};l={__ename__:["rg","layout","ScalePattern"],__constructs__:["ScalesBefore","ScalesAfter","ScalesAlternating"],ScalesBefore:["ScalesBefore",0]};l.ScalesBefore.toString=N;l.ScalesBefore.__enum__=l;l.ScalesAfter=["ScalesAfter",1];l.ScalesAfter.toString=N;l.ScalesAfter.__enum__=l;l.ScalesAlternating=["ScalesAlternating",2];l.ScalesAlternating.toString=N;l.ScalesAlternating.__enum__=l;Hb=function(a,b){this._async=a;this._first=b;this._store=new La};Va=mc=
void 0;y["rg.query.BaseQuery"]=Hb;Hb.__name__=["rg","query","BaseQuery"];Hb.asyncTransform=function(a){return function(b,f){for(var g=0,h=b.length;g<h;){var i=g++;b[i]=a(b[i])}f(b)}};Hb.stackAsyncTransform=function(a){return function(b,f){f(a(b))}};Hb.prototype={_this:function(a){return a},toString:function(){return ea.getClassName(ea.getClass(this)).split(".").pop()+(" [next: "+I.string(null!=this._next)+", async: "+I.string(null!=this._async)+"]")},_createQuery:function(a,b){return new Hb(a,b)},
_query:function(a){return a},execute:function(a){this._first.execute(a)},stackClear:function(){return this.stackTransform(function(){return[]})},stackRetrieve:function(a){var b=this;null==a&&(a="");return this.stackTransform(function(f){return f.concat(b._first._store.get(a))})},stackSortValue:function(a,b){null==b&&(b=!0);var f=function(b){return b.reduce(function(b,f){return b+B.field(f,a)},0)};return this.stackSort(function(a,j){return(b?1:-1)*(f(a)-f(j))})},stackSort:function(a){return this.stackTransform(function(b){b.sort(a);
return b})},stackStore:function(a){var b=this;null==a&&(a="");return this.stackTransform(function(f){b._first._store.set(a,f.slice());return f})},stackReverse:function(){return this.stackAsync(Hb.stackAsyncTransform(function(a){a.reverse();return a}))},stackRotate:function(a){var b=Va.rotate(a);return this.stackAsync(Hb.stackAsyncTransform(function(a){return b(a)}))},split:function(a){if(X.__instanceof(a,String))var b=a,a=function(a){return B.field(a,b)};return this.stackAsync(Hb.stackAsyncTransform(function(b){for(var f=
[],g=0;g<b.length;){var h=b[g];++g;f=f.concat(Va.split(h,a))}return f}))},stackKeep:function(a){null==a&&(a=1);return this.stackAsync(Hb.stackAsyncTransform(function(b){return b.slice(0,a)}))},stackDiscard:function(a){null==a&&(a=1);return this.stackAsync(Hb.stackAsyncTransform(function(b){for(var f=0;f<a;)f++,b.pop();return b}))},stackMerge:function(){return this.stackAsync(Hb.stackAsyncTransform(function(a){return[T.flatten(a)]}))},fold:function(a,b){return this.transform(function(f){var g=[],h=
B.isFunction(a)?a(f,g):a;f.forEach(function(a){h=b(h,a,g)});return g})},unique:function(a){null==a&&(a=Na.same);return this.transform(Va.uniquef(a))},reverse:function(){return this.transform(Va.reverse)},limit:function(a,b){null==b&&(b=a,a=0);return this.transform(Va.limit(a,b))},sortValues:function(a){for(var b=[],f=[],g=0,h=B.fields(a);g<h.length;){var i=h[g];++g;b.push(i);f.push(!1!=B.field(a,i))}return this.sort(function(a,j){for(var g,h=0,i=b.length;h<i;){var k=h++;g=b[k];g=(f[k]?1:-1)*Na.compare(B.field(a,
g),B.field(j,g));if(0!=g)return g}return 0})},sortValue:function(a,b){var f={};f[a]=null==b?!0:b;return this.sortValues(f)},sort:function(a){return this.transform(Va.sort(a))},filterValue:function(a,b){return this.transform(Va.filterValue(a,b))},filterValues:function(a){return this.transform(Va.filterValues(a))},filter:function(a){return this.transform(Va.filter(a))},addIndex:function(a,b){null==a&&(a="index");null==b&&(b=0);return this.fold(function(){return b},function(b,f,g){f[a]=b;g.push(f);return++b})},
mapValues:function(a){return this.transform(Va.mapFields(a))},mapValue:function(a,b){return this.transform(Va.mapField(a,b))},setValues:function(a){return this.transform(Va.setFields(a))},setValue:function(a,b){return this.transform(Va.setField(a,b))},asyncEach:function(a){return this.asyncAll(function(b,f){for(var g=b.length,h=0,i=[],k=function(a,b){i[a]=b;++h==g&&f(T.flatten(i))},l=0,m=b.length;l<m;){var p=l++;a(b[p],function(a,b){return function(j){return a(b,j)}}(k,p))}})},asyncAll:function(a){return this.stackAsync(function(b,
f){for(var g=b.length,h=0,i=[],k=function(a,b){i[a]=b;++h==g&&f(i)},l=0,m=b.length;l<m;){var p=l++;a(b[p],function(a,b){return function(j){return a(b,j)}}(k,p))}})},stackAsync:function(a){return this._next=this._createQuery(a,this._first)},stackTransform:function(a){return this.stackAsync(Hb.stackAsyncTransform(a))},stackCross:function(){return this.stackTransform(Va.crossStack)},firstElement:function(){return this.transform(function(a){return a[0]})},transform:function(a){return this.stackAsync(Hb.asyncTransform(a))},
toObject:function(a){return this.transform(Va.toObject(a))},renameFields:function(a){var b=B.fields(a).map(function(b){return{src:b,dst:B.field(a,b)}});return this.map(function(a){for(var j={},f=0;f<b.length;){var g=b[f];++f;j[g.dst]=B.field(a,g.src)}return j})},console:function(a){return this.stackTransform(function(b){var f=console;null!=f&&f.log((null==a?"":a+": ")+Na.string(b));return b})},audit:function(a){return this.transform(function(b){a(b);return b})},map:function(a){return this.transform(Va.map(a))},
data:function(a){X.__instanceof(a,Array)||(a=[a]);return this.stackAsync(function(b,f){b.push(a);f(b)})},load:function(a){return this.stackAsync(function(b,f){a(function(a){b.push(a);f(b)})})},_store:null,_async:null,_next:null,_first:null,__class__:Hb};mc=function(){Hb.call(this,null,this)};y["rg.query.Query"]=mc;mc.__name__=["rg","query","Query"];mc.create=function(){var a=new mc,b=a._createQuery(function(a,b){b(a)},a);return a._next=b};mc.executeHandler=function(a,b){var f=a._next,g=null;(g=function(a){null==
f._next?b(T.flatten(a)):(f=f._next,f._async(a,g))})([])};mc.__super__=Hb;mc.prototype=g(Hb.prototype,{execute:function(a){mc.executeHandler(this,a)},__class__:mc});Va=function(){};y["rg.query.Transformers"]=Va;Va.__name__=["rg","query","Transformers"];Va.crossStack=function(a){if(1>=a.length)return a;for(var b=a.shift();0<a.length;){for(var f=a.shift(),g=[],h=0;h<b.length;){var i=b[h];++h;for(var k=0;k<f.length;){var l=f[k];++k;g.push(Pa.copyTo(l,Pa.copyTo(i,{})))}}b=g}return[b]};Va.split=function(a,
b){var f=new La,g=[];a.forEach(function(a){var j=""+b(a),h=f.get(j);null==h&&(h=g.length,f.set(j,h),g.push([]));g[h].push(a)});return g};Va.map=function(a){return function(b){return b.map(a)}};Va.toObject=function(a){return function(b){return b.map(function(b){var f={};f[a]=b;return f})}};Va.filter=function(a){return function(b){return T.filter(b,a)}};Va.filterValues=function(a){var b=Pa.entries(a);b.forEach(function(a){if(!B.isFunction(a.value)){var b=a.value;a.value=function(a){return a==b}}});
var f=function(a){for(var j=0;j<b.length;){var f=b[j];++j;if(!f.value(B.field(a,f.key)))return!1}return!0};return function(a){return T.filter(a,f)}};Va.filterValue=function(a,b){if(!B.isFunction(b))var f=b,b=function(a){return a==f};var g=function(f){return!b(B.field(f,a))?!1:!0};return function(a){return T.filter(a,g)}};Va.setField=function(a,b){if(!B.isFunction(b))var f=b,b=function(){return f};return function(f){f.forEach(function(f){f[a]=b(f)});return f}};Va.mapField=function(a,b){if(!B.isFunction(b))var f=
b,b=function(){return f};return function(f){f.forEach(function(f){f[a]=b(B.field(f,a))});return f}};Va.setFields=function(a){for(var b=B.fields(a),f=[],g=0;g<b.length;){var h=b[g];++g;h=B.field(a,h);B.isFunction(h)?f.push(h):f.push(function(a,b){return function(j){return a(b,j)}}(function(a){return a},h))}return function(a){a.forEach(function(a){for(var j=0,g=b.length;j<g;){var h=j++;a[b[h]]=f[h](a)}});return a}};Va.mapFields=function(a){for(var b=B.fields(a),f=[],g=0;g<b.length;){var h=b[g];++g;
h=B.field(a,h);B.isFunction(h)?f.push(h):f.push(function(a,b){return function(j){return a(b,j)}}(function(a){return a},h))}return function(a){a.forEach(function(a){for(var j=0,g=b.length;j<g;){var h=j++;a[b[h]]=f[h](B.field(a,b[h]))}});return a}};Va.sort=function(a){return function(b){b.sort(null==a?Na.compare:a);return b}};Va.limit=function(a,b){return function(f){return a>=f.length?[]:f.slice(a,a+b>f.length?f.length:a+b)}};Va.reverse=function(a){a.reverse();return a};Va.uniquef=function(a){return function(b){for(var f=
0,g;f<b.length-1;){var h=b[f];for(g=b.length-1;g>f;)a(h,b[g])&&b.splice(g,1),g--;f++}return b}};Va.rotate=function(a){if(X.__instanceof(a,String))var b=a,a=function(a,j){return B.field(a,b)==B.field(j,b)};var f=null==a?function(a,b,j,f){return j==f}:function(b,f){return a(b,f)};return function(a){for(var b=[],j=a[0],g=0,h=j.length;g<h;){for(var i=g++,k=j[i],qa=[k],l=1,m=a.length;l<m;)for(var p=l++,p=a[p],r=0,q=p.length;r<q;){var t=r++,R=p[t];if(f(k,R,i,t)){qa.push(R);break}}b.push(qa)}return b}};
ya={};sb=G=K=ob=void 0;ya.Layer=function(a){this.frame=(this.panel=a).frame;a.addLayer(this);this.g=a.g.append("svg:g");this.g.attr("class").string("layer");this._resize()};y["rg.svg.panel.Layer"]=ya.Layer;ya.Layer.__name__=["rg","svg","panel","Layer"];ya.Layer.prototype={set_customClass:function(a){null!=this.customClass&&this.g.classed().remove(this.customClass);this.g.classed().add(a);return this.customClass=a},destroy:function(){this.panel.removeLayer(this);this.g.remove()},resize:function(){},
_resize:function(){this.width=this.frame.width;this.height=this.frame.height;this.resize()},toggleClass:function(a){this.g.classed().toggle(a)},removeClass:function(a){this.g.classed().remove(a)},addClass:function(a){var b=this;a.split(" ").forEach(function(a){b.g.classed().add(a)})},customClass:null,height:null,width:null,g:null,frame:null,panel:null,__class__:ya.Layer,__properties__:{set_customClass:"set_customClass"}};K={Chart:function(a){ya.Layer.call(this,a);this.animated=!0;this.animationDuration=
1500;this.animationEase=S.Equations.linear;this.ready=new Id}};y["rg.svg.chart.Chart"]=K.Chart;K.Chart.__name__=["rg","svg","chart","Chart"];K.Chart.__super__=ya.Layer;K.Chart.prototype=g(ya.Layer.prototype,{moveTooltip:function(a,b,f){var g=ya.Panels.absolutePos(this.panel);this.panelx=g.x;this.panely=g.y;this.tooltip.setAnchorColor(f);this.tooltip.showAt(this.panelx+a|0,this.panely+b|0)},init:function(){null!=this.labelDataPointOver&&(this.tooltip=fa.Tooltip.get_instance());this.resize()},resize:function(){var a=
ya.Panels.absolutePos(this.panel);this.panelx=a.x;this.panely=a.y},tooltip:null,panely:null,panelx:null,ready:null,labelDataPointOver:null,labelDataPoint:null,click:null,animationEase:null,animationDuration:null,animated:null,__class__:K.Chart});K.CartesianChart=function(a){K.Chart.call(this,a)};y["rg.svg.chart.CartesianChart"]=K.CartesianChart;K.CartesianChart.__name__=["rg","svg","chart","CartesianChart"];K.CartesianChart.__super__=K.Chart;K.CartesianChart.prototype=g(K.Chart.prototype,{data:function(){throw new ba.AbstractMethod({fileName:"CartesianChart.hx",
lineNumber:36,className:"rg.svg.chart.CartesianChart",methodName:"data"});},setVariables:function(a){this.xVariable=a[0];this.yVariables=a.slice(1)},xVariable:null,yVariables:null,__class__:K.CartesianChart});K.BarChart=function(a){K.CartesianChart.call(this,a);this.addClass("bar-chart");this.defs=this.g.append("svg:defs");this.chart=this.g.append("svg:g");this.gradientLightness=2;this.displayGradient=!0;this.padding=10;this.paddingAxis=4;this.paddingDataPoint=2;this.horizontal=!1};y["rg.svg.chart.BarChart"]=
K.BarChart;K.BarChart.__name__=["rg","svg","chart","BarChart"];K.BarChart.__super__=K.CartesianChart;K.BarChart.prototype=g(K.CartesianChart.prototype,{applyGradient:function(a){var b=ua.selectNodeData(a);B.field(a,"__dhx_data__");var a=b.style("fill").get(),a=va.parse(a,"#ccc"),f="rg_bar_gradient_"+a.hex("");if(this.defs.select("#"+f).empty()){var g=va.applyLightness(q.Hsl.toHsl(a),this.gradientLightness).toRgbString(),h=this.defs.append("svg:linearGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string(f).attr("x1")["float"](0).attr("x2")["float"](0).attr("y1")["float"](1).attr("y2")["float"](0).attr("spreadMethod").string("pad");
h.append("svg:stop").attr("offset")["float"](0).attr("stop-color").string(g).attr("stop-opacity")["float"](1);h.append("svg:stop").attr("offset")["float"](1).attr("stop-color").string(a.toRgbString()).attr("stop-opacity")["float"](1)}b.attr("style").string("fill:url(#"+f+")")},onmouseover:function(a,b){var f=this.labelDataPointOver(B.field(b,"__dhx_data__"),a);if(null==f)this.tooltip.hide();else{var g=ua.selectNode(b),h=g.attr("x").getFloat(),i=g.attr("y").getFloat(),g=g.attr("width").getFloat();
this.tooltip.html(f.split("\n").join("<br>"));this.moveTooltip(h+g/2,i,va.extractColor(b))}},onclick:function(a,b){this.click(b,a)},datav:function(b){for(var f=new La,g=(this.width-this.padding*(b.length-1))/b.length,h=function(a,b){var j=f.get(a);null==j&&(j=b.append("svg:g").attr("class").string(a),f.set(a,j));return j},i=0,k=b.length;i<k;)for(var l=i++,l=b[l],m=(g-this.paddingAxis*(l.length-1))/l.length,p=0,r=l.length;p<r;)for(var q=p++,t=l[q],R=h("group-"+q,this.chart),u=this.xVariable.type,v=
this.xVariable.axis,x=this.xVariable.min(),w=this.xVariable.max(),ha=this.yVariables[q].type,za=this.yVariables[q].axis,z=this.yVariables[q].min(),E=this.yVariables[q].max(),y=Math.max(1,(m-this.paddingDataPoint*(t.length-1))/t.length),C=-g/2+q*(m+this.paddingAxis),A=this.yVariables[q].stats,q=function(a,b){return function(j,f){return a(b,j,f)}}(a(this,this.onmouseover),A),A=function(a,b){return function(j,f,g){return a(b,j,f,g)}}(a(this,this.onclick),A),Xa=0,Oa=0,eb=t.length;Oa<eb;){var D=Oa++,F=
t[D],G=h("fill-"+D,R),H=this.width*v.scale(x,w,B.field(F,u)),L=Xa,I=za.scale(z,E,B.field(F,ha))*this.height;Math.isNaN(I)&&(I=0);D=G.append("svg:rect").attr("class").string("bar").attr("x")["float"](this.stacked?H+C:H+C+D*(y+this.paddingDataPoint)).attr("width")["float"](Math.max(this.stacked?m:y,1)).attr("y")["float"](this.height-I-L).attr("height")["float"](I).onNode("mouseover",q).onNode("click",function(a,b){return function(j,f){return a(b,j,f)}}(A,F));D.node().__dhx_data__=F;va.storeColorForSelection(D);
this.displayGradient&&D.eachNode(a(this,this.applyGradient));this.stacked&&(Xa=L+I)}this.ready.dispatch()},datah:function(b){for(var f=new La,g=(this.height-this.padding*(b.length-1))/b.length,h=function(a,b){var j=f.get(a);null==j&&(j=b.append("svg:g").attr("class").string(a),f.set(a,j));return j},i=0,k=b.length;i<k;)for(var l=i++,l=b[l],m=(g-this.paddingAxis*(l.length-1))/l.length,p=0,r=l.length;p<r;)for(var q=p++,t=l[q],R=h("group-"+q,this.chart),u=this.xVariable.type,v=this.xVariable.axis,x=this.xVariable.min(),
w=this.xVariable.max(),ha=this.yVariables[q].type,za=this.yVariables[q].axis,z=this.yVariables[q].min(),E=this.yVariables[q].max(),y=Math.max(1,(m-this.paddingDataPoint*(t.length-1))/t.length),q=-g/2+q*(m+this.paddingAxis),C=this.xVariable.stats,A=function(a,b){return function(j,f){return a(b,j,f)}}(a(this,this.onmouseover),C),C=function(a,b){return function(j,f,g){return a(b,j,f,g)}}(a(this,this.onclick),C),Xa=0,Oa=0,D=t.length;Oa<D;){var eb=Oa++,F=t[eb],G=h("fill-"+eb,R),H=Xa,L=Math.max(this.height*
za.scale(z,E,B.field(F,ha)),1),I=v.scale(x,w,B.field(F,u))*this.width,eb=G.append("svg:rect").attr("class").string("bar").attr("x")["float"](H).attr("y")["float"](this.height-(this.stacked?L-q:L-q-eb*(y+this.paddingDataPoint))).attr("height")["float"](this.stacked?m:y).attr("width")["float"](I).onNode("mouseover",A).onNode("click",function(a,b){return function(j,f){return a(b,j,f)}}(C,F));eb.node().__dhx_data__=F;va.storeColorForSelection(eb);this.displayGradient&&eb.eachNode(a(this,this.applyGradient));
this.stacked&&(Xa=H+I)}this.ready.dispatch()},data:function(a){this.horizontal?this.datah(a):this.datav(a)},setVariables:function(a,b,f,g){this.horizontal?(this.xVariable=f[0],this.yVariables=b):(this.xVariable=b[0],this.yVariables=f);if(this.stacked){for(a=0;a<f.length;)b=f[a],++a,b.meta.max=Math.NEGATIVE_INFINITY;for(var h=0,a=g.length;h<a;)for(var i=h++,k=0,l=g[i].length;k<l;){for(var m=k++,b=f[m],p=0,r=0,q=g[i][m].length;r<q;)var t=r++,p=p+mb.valueAlt(g[i][m][t],b.type,0);b.meta.max<p&&(b.meta.max=
p)}}},horizontal:null,paddingDataPoint:null,paddingAxis:null,padding:null,displayGradient:null,gradientLightness:null,dps:null,defs:null,chart:null,stacked:null,__class__:K.BarChart});K.ColorScaleMode={__ename__:["rg","svg","chart","ColorScaleMode"],__constructs__:"FromCssInterpolation FromCss Interpolation Sequence Fixed Fun".split(" ")};K.ColorScaleMode.FromCssInterpolation=function(a){a=["FromCssInterpolation",0,a];a.__enum__=K.ColorScaleMode;a.toString=N;return a};K.ColorScaleMode.FromCss=function(a){a=
["FromCss",1,a];a.__enum__=K.ColorScaleMode;a.toString=N;return a};K.ColorScaleMode.Interpolation=function(a){a=["Interpolation",2,a];a.__enum__=K.ColorScaleMode;a.toString=N;return a};K.ColorScaleMode.Sequence=function(a){a=["Sequence",3,a];a.__enum__=K.ColorScaleMode;a.toString=N;return a};K.ColorScaleMode.Fixed=function(a){a=["Fixed",4,a];a.__enum__=K.ColorScaleMode;a.toString=N;return a};K.ColorScaleMode.Fun=function(a){a=["Fun",5,a];a.__enum__=K.ColorScaleMode;a.toString=N;return a};K.ColorScaleModes=
function(){};y["rg.svg.chart.ColorScaleModes"]=K.ColorScaleModes;K.ColorScaleModes.__name__=["rg","svg","chart","ColorScaleModes"];K.ColorScaleModes.canParse=function(a){try{return K.ColorScaleModes.createFromDynamic(a),!0}catch(b){return!1}};K.ColorScaleModes.createFromDynamic=function(a){if(B.isFunction(a))return K.ColorScaleMode.Fun(a);if(!X.__instanceof(a,String))throw new ba.Error("invalid color mode '{0}'",[a],null,{fileName:"ColorScaleModes.hx",lineNumber:28,className:"rg.svg.chart.ColorScaleModes",
methodName:"createFromDynamic"});a=X.__cast(a,String).split(":");switch(a[0].toLowerCase()){case "css":return K.ColorScaleMode.FromCss(null==a[1]?null:I.parseInt(a[1]));case "i":case "interpolated":return K.ColorScaleMode.Interpolation(a[1].split(",").map(function(a){return q.Colors.parse(a)}));case "s":case "sequence":return K.ColorScaleMode.Sequence(a[1].split(",").map(function(a){return q.Colors.parse(a)}));case "f":case "fixed":return K.ColorScaleMode.Fixed(q.Colors.parse(a[1]));default:return 0<=
a[0].indexOf(",")?K.ColorScaleMode.Sequence(a[0].split(",").map(function(a){return q.Colors.parse(a)})):K.ColorScaleMode.Fixed(q.Colors.parse(a[0]))}};K.Coords=function(){};y["rg.svg.chart.Coords"]=K.Coords;K.Coords.__name__=["rg","svg","chart","Coords"];K.Coords.fromTransform=function(a){return K.Coords.retransform.match(a)?(a=K.Coords.retransform.matched(2),[I.parseFloat(K.Coords.retransform.matched(1)),null==a?0:I.parseFloat(a)]):[0,0]};K.FunnelChart=function(b){K.Chart.call(this,b);this.padding=
2.5;this.flatness=1;this.arrowSize=30;this.gradientLightness=1;this.displayGradient=!0;this.labelArrow=a(this,this.defaultLabelArrow);this.labelDataPoint=a(this,this.defaultLabelDataPoint);this.labelDataPointOver=a(this,this.defaultLabelDataPointOver)};y["rg.svg.chart.FunnelChart"]=K.FunnelChart;K.FunnelChart.__name__=["rg","svg","chart","FunnelChart"];K.FunnelChart.__super__=K.Chart;K.FunnelChart.prototype=g(K.Chart.prototype,{externalGradient:function(a,b){var f=ua.selectNode(a).select("path"),
g=q.Hsl.toHsl(va.parse(f.style("fill").get(),"#cccccc")),h=this.next(b),i=this.dpvalue(this.dps[b]),k=Math.round(100*(h/i))/100,k="rg_funnel_ext_gradient_"+g.hex("#")+"-"+k,l=this.defs.append("svg:radialGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string(k).attr("cx").string("50%").attr("cy").string("0%").attr("r").string("110%"),m=g.hex("#");l.append("svg:stop").attr("offset").string("10%").attr("stop-color").string(m);g=va.applyLightness(g,1-(i<h?i/h:h/i),this.gradientLightness*
(i>=h?1:-1)).hex("#");l.append("svg:stop").attr("offset").string("50%").attr("stop-color").string(g);l.append("svg:stop").attr("offset").string("90%").attr("stop-color").string(m);f.attr("style").string("fill:url(#"+k+")")},internalGradient:function(a){var b=va.parse(a.style("fill").get(),"#cccccc"),f=this.defs.append("svg:radialGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string("rg_funnel_int_gradient_0").attr("cx").string("50%").attr("fx").string("75%").attr("cy").string("20%").attr("r").string(Math.round(75)+
"%");f.append("svg:stop").attr("offset").string("0%").attr("stop-color").string(va.applyLightness(q.Hsl.toHsl(b),this.gradientLightness).toRgbString());f.append("svg:stop").attr("offset").string("100%").attr("stop-color").string(va.applyLightness(q.Hsl.toHsl(b),-this.gradientLightness).toRgbString());a.attr("style").string("fill:url(#rg_funnel_int_gradient_0)")},init:function(){K.Chart.prototype.init.call(this);null!=this.tooltip&&this.tooltip.anchor("bottomright");this.defs=this.g.classed().add("funnel-chart").append("svg:defs")},
mouseOver:function(a,b,f){null!=this.labelDataPointOver&&(a=this.labelDataPointOver(a,f),null==a?this.tooltip.hide():(this.tooltip.html(a.split("\n").join("<br>")),this.moveTooltip(this.width/2,this.topheight+0.6*this.h+(this.h+this.padding)*b,va.extractColor(this.currentNode))))},redraw:function(){var b=this;if(!(null==this.dps||0==this.dps.length)){this.g.selectAll("g").remove();this.g.selectAll("radialGradient").remove();this.stats=this.variableDependent.stats;var f=this.scale(this.stats.max),
g=function(a){return b.width/2-b.scale(a)/f*(b.width-2)/2},h=function(a){return b.width-g(a)},i=(new H.Diagonal).sourcef(function(a){return[g(b.dpvalue(a)),0]}).targetf(function(a,f){return[g(b.next(f)),b.h]}),k=(new H.Diagonal).sourcef(function(a,f){return[h(b.next(f)),b.h]}).targetf(function(a){return[h(b.dpvalue(a)),0]}),l=function(a,f,i){a=f?g(a)-h(a):h(a)-g(a);return" a 5 "+b.flatness+" 0 0 "+(f?0==i?1:0:i)+" "+a+" 0"},m=function(a){a=b.dpvalue(a);return" M "+g(a)+" 0 "+l(a,!1,0)+l(a,!0,1)},
p=this.g.append("svg:g"),r=p.append("svg:path").attr("class").string("funnel-inside fill-0").attr("d").string(m(this.dps[0]));if(null!=this.click)p.onNode("click",function(){b.click(b.dps[0],b.stats)});this.displayGradient&&this.internalGradient(r);r.onNode("mouseover",function(a){b.currentNode=a;b.mouseOver(b.dps[0],0,b.stats)});va.storeColorForSelection(r);this.topheight=Math.ceil(r.node().getBBox().height/2)+1;r=this.dps.length-1;m=this.g.append("svg:path").attr("class").string("funnel-inside fill-"+
r).attr("d").string(m(this.dps[r]));r=Math.ceil(m.node().getBBox().height/2)+1;m.remove();this.h=(this.height-this.topheight-r-(this.dps.length-1)*this.padding)/this.dps.length;p.attr("transform").string("translate(0,"+(1+this.topheight)+")");p=this.g.selectAll("g.section").data(this.dps).enter().append("svg:g").attr("class").string("section").attr("transform").stringf(function(a,f){return"translate(0,"+(b.topheight+f*(b.padding+b.h))+")"});m=p.append("svg:path").attr("class").stringf(function(a,
b){return"funnel-outside fill-"+b}).attr("d").stringf(function(a,f){var g=k.diagonal(a,f).split("C");g.shift();g="C"+g.join("C");return i.diagonal(a,f)+l(b.next(f),!1,0)+g+l(b.dpvalue(a),!0,0)});if(null!=this.click)m.on("click",function(a){b.click(a,b.stats)});va.storeColorForSelection(m);m.onNode("mouseover",function(a,f){b.currentNode=a;b.mouseOver(B.field(a,"__dhx_data__"),f,b.stats)});this.displayGradient&&p.eachNode(a(this,this.externalGradient));p=this.g.selectAll("g.arrow").data(this.dps).enter().append("svg:g").attr("class").string("arrow").attr("transform").stringf(function(a,
f){return"translate("+b.width/2+","+(b.topheight+b.h*f+b.arrowSize/2)+")"});p.each(function(a){if(null!=b.labelArrow&&(a=b.labelArrow(a,b.stats),null!=a)){var f=ua.selectNode(rb.current);f.append("svg:path").attr("transform").string("scale(1.1,0.85)translate(1,1)").attr("class").string("shadow").style("fill").string("#000").attr("opacity")["float"](0.25).attr("d").string(H.Symbol.arrowDownWide(b.arrowSize*b.arrowSize));f.append("svg:path").attr("transform").string("scale(1.1,0.8)").attr("d").string(H.Symbol.arrowDownWide(b.arrowSize*
b.arrowSize));f=new G.Label(f,!0,!1,!0);f.set_anchor(G.GridAnchor.Bottom);f.set_text(a)}});p.each(function(a,f){if(null!=b.labelDataPoint){var g=b.labelDataPoint(a,b.stats);if(null!=g){var h=new G.Balloon(b.g);h.set_boundingBox({x:b.width/2+2*(b.arrowSize/3),y:0,width:b.width,height:b.height});h.set_preferredSide(3);h.set_text(g.split("\n"));h.moveTo(b.width/2,b.topheight+0.6*b.h+(b.h+b.padding)*f,!1)}}});this.ready.dispatch()}},next:function(a){return this.dpvalue(this.dps[a+1<this.dps.length?a+
1:a])},scale:function(a){return this.variableDependent.axis.scale(this.variableDependent.min(),this.variableDependent.max(),a)},currentNode:null,h:null,topheight:null,stats:null,dpvalue:function(a){return B.field(a,this.variableDependent.type)},resize:function(){K.Chart.prototype.resize.call(this);this.redraw()},data:function(a){this.dps=a;this.redraw()},setVariables:function(a,b){this.variableIndependent=a[0];this.variableDependent=b[0]},defaultLabelDataPointOver:function(a){return ka.format(B.field(a,
this.variableDependent.type))},defaultLabelDataPoint:function(a){return bb.humanize(B.field(a,this.variableIndependent.type)).split(" ").join("\n")},defaultLabelArrow:function(a,b){var f=B.field(a,this.variableDependent.type)/b.max;return F.FormatNumber.percent(100*f,0)},dps:null,defs:null,variableDependent:null,variableIndependent:null,labelArrow:null,arrowSize:null,gradientLightness:null,displayGradient:null,flatness:null,padding:null,__class__:K.FunnelChart});K.Geo=function(a){this.labelOutline=
this.labelShadow=!1;K.Chart.call(this,a);this.mapcontainer=this.g.append("svg:g").attr("class").string("mapcontainer");this.queue=[];this.set_colorMode(K.ColorScaleMode.FromCss());this.resize()};y["rg.svg.chart.Geo"]=K.Geo;K.Geo.__name__=["rg","svg","chart","Geo"];K.Geo.__super__=K.Chart;K.Geo.prototype=g(K.Chart.prototype,{addMap:function(b,f){null!=f&&b.onReady.add(function(a,b,j){return function(){return a(b,j)}}(a(this,this.drawmap),b,f))},init:function(){K.Chart.prototype.init.call(this);fa.Tooltip.get_instance().hide();
null==this.tooltip&&(this.tooltip=fa.Tooltip.get_instance());this.g.classed().add("geo")},set_colorMode:function(a){var b=this,f=this.colorMode=a;switch(f[1]){case 0:f=f[2];null==f&&(f=1);var g=ob.RGCss.colorsInCss();g.length>f&&(g=g.slice(0,f));1==g.length&&g.push(q.Hsl.lighter(q.Hsl.toHsl(q.Colors.parse(g[0])),0.9).hex("#"));g.reverse();this.set_colorMode(K.ColorScaleMode.Interpolation(g.map(function(a){return q.Colors.parse(a)})));break;case 1:var h=f[2];null==h&&(h=ob.RGCss.numberOfColorsInCss());
this.stylefeature=function(a,j){var f=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),B.field(j,b.variableDependent.type)),f=Math.floor(h*f);a.attr("class").string("fill-"+f);va.storeColorForSelection(a)};break;case 3:var f=f[2],i=f.map(function(a){return a.hex("#")});this.stylefeature=function(a,j){var f=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),B.field(j,b.variableDependent.type)),f=Math.floor(i.length*f);a.style("fill").string(i[f]);
va.storeColorForSelection(a)};break;case 2:var g=f[2],k=q.Rgb.interpolateStepsf(g);this.stylefeature=function(a,j){var f=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),B.field(j,b.variableDependent.type));a.style("fill").string(k(f).hex("#"));va.storeColorForSelection(a)};break;case 4:var f=f[2],l=f.hex("#");this.stylefeature=function(a){a.style("fill").string(l);va.storeColorForSelection(a)};break;case 5:var m=f[2];this.stylefeature=function(a,j){a.style("fill").string(m(j,
b.variableDependent.stats));va.storeColorForSelection(a)}}return a},get_colorMode:function(){return this.colorMode},redraw:function(){for(;0<this.queue.length;)this.queue.shift()()},stylefeature:function(){},handlerClick:function(a,b){b(a,this.variableDependent.stats)},handlerDataPointOver:function(a,b,f){f=f(b,this.variableDependent.stats);null==f?this.tooltip.hide():(this.tooltip.html(f.split("\n").join("<br>")),b=B.field(b,"$centroid"),this.moveTooltip(b[0]+this.width/2,b[1]+this.height/2,va.extractColor(a)))},
drawmap:function(b,f){if(null==this.dps||0==this.dps.length)this.queue.push(function(a,b,j){return function(){return a(b,j)}}(a(this,this.drawmap),b,f));else{this.set_colorMode(b.colorMode);for(var g=null,h=0,i=this.dps;h<i.length;){var k=i[h];++h;var l=B.field(k,f),l=b.map.get(l);if(null!=l){this.stylefeature(l.svg,Pa.copyTo(k,l.dp));if(null!=b.radius&&"circle"==l.svg.node().nodeName)l.svg.attr("r")["float"](b.radius(l.dp,this.variableDependent.stats));if(null!=b.labelDataPoint&&null!=(g=b.labelDataPoint(l.dp,
this.variableDependent.stats)))k=B.field(l.dp,"$centroid"),l=new G.Label(this.mapcontainer,!0,this.labelShadow,this.labelOutline),l.set_text(g),l.place(k[0],k[1],0)}}0==this.queue.length&&this.ready.dispatch()}},dpvalue:function(a){return B.field(a,this.variableDependent.type)},resize:function(){K.Chart.prototype.resize.call(this);null!=this.mapcontainer&&this.mapcontainer.attr("transform").string("translate("+this.width/2+","+this.height/2+")")},data:function(a){this.dps=a;this.redraw()},setVariables:function(a,
b){this.variableDependent=b[0]},queue:null,dps:null,variableDependent:null,labelShadow:null,labelOutline:null,colorMode:null,mapcontainer:null,__class__:K.Geo,__properties__:g(K.Chart.prototype.__properties__,{set_colorMode:"set_colorMode",get_colorMode:"get_colorMode"})});K.GradientEffect={__ename__:["rg","svg","chart","GradientEffect"],__constructs__:["NoEffect","Gradient"]};K.GradientEffect.NoEffect=["NoEffect",0];K.GradientEffect.NoEffect.toString=N;K.GradientEffect.NoEffect.__enum__=K.GradientEffect;
K.GradientEffect.Gradient=function(a){a=["Gradient",1,a];a.__enum__=K.GradientEffect;a.toString=N;return a};K.GradientEffects=function(){};y["rg.svg.chart.GradientEffects"]=K.GradientEffects;K.GradientEffects.__name__=["rg","svg","chart","GradientEffects"];K.GradientEffects.canParse=function(a){switch(a.toLowerCase().split(":")[0]){case "gradient":case "noeffect":case "none":case "flat":a=!0;break;default:a=!1}return a};K.GradientEffects.parse=function(a){var b=a.toLowerCase().split(":");switch(b.shift()){case "gradient":return a=
0.75,b=b.pop(),null!=b&&(a=I.parseFloat(b.split(",").shift())),K.GradientEffect.Gradient(a);default:return K.GradientEffect.NoEffect}};K.HeatGrid=function(a){K.CartesianChart.call(this,a);this.useContour=!1;this.set_colorMode(K.ColorScaleMode.FromCss())};y["rg.svg.chart.HeatGrid"]=K.HeatGrid;K.HeatGrid.__name__=["rg","svg","chart","HeatGrid"];K.HeatGrid.__super__=K.CartesianChart;K.HeatGrid.prototype=g(K.CartesianChart.prototype,{set_colorMode:function(a){var b=this,f=this.colorMode=a;switch(f[1]){case 0:f=
f[2];null==f&&(f=1);var g=ob.RGCss.colorsInCss();g.length>f&&(g=g.slice(0,f));1==g.length&&g.push(q.Hsl.lighter(q.Hsl.toHsl(q.Colors.parse(g[0])),0.9).hex("#"));g.reverse();this.set_colorMode(K.ColorScaleMode.Interpolation(g.map(function(a){return q.Colors.parse(a)})));break;case 1:var h=f[2];null==h&&(h=ob.RGCss.numberOfColorsInCss());this.stylefeature=function(a,j){var f=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),B.field(j,b.variableDependent.type)),f=Math.floor(h*
f);a.attr("class").string("fill-"+f)};break;case 3:var f=f[2],i=f.map(function(a){return a.hex("#")});this.stylefeature=function(a,j){var f=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),B.field(j,b.variableDependent.type)),f=Math.floor(i.length*f);a.style("fill").string(i[f])};break;case 2:var g=f[2],k=q.Rgb.interpolateStepsf(g);this.stylefeature=function(a,j){var f=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),B.field(j,b.variableDependent.type));
a.style("fill").string(k(f).hex("#"))};break;case 4:var f=f[2],l=f.hex("#");this.stylefeature=function(a){a.style("fill").string(l)};break;case 5:var m=f[2];this.stylefeature=function(a,j){a.style("fill").string(m(j,b.variableDependent.stats))}}return a},get_colorMode:function(){return this.colorMode},stylefeature:function(){},range:function(a){var b=X.__instanceof(a,kb)?a:null;return null!=b?b.axis.range(b.min(),b.max()):a.axis.ticks(a.min(),a.max()).map(function(a){return a.get_value()})},onclick:function(a){null!=
this.click&&this.click(a,this.stats)},onmouseover:function(a,b){if(null!=this.labelDataPointOver){var f=this.labelDataPointOver(a,this.stats);null==f?this.tooltip.hide():(this.tooltip.html(f.split("\n").join("<br>")),this.moveTooltip(this.x(a,b)+this.w/2,this.y(a,b)+this.h/2,va.extractColor(this.currentNode)))}},drawSquares:function(){var b=this,f=this.g.selectAll("rect").data(this.dps).enter().append("svg:rect").attr("x").floatf(a(this,this.x)).attr("y").floatf(a(this,this.y)).attr("width")["float"](this.w).attr("height")["float"](this.h).each(function(a){b.stylefeature(ua.selectNode(rb.current),
a)}).on("click",a(this,this.onclick)).onNode("mouseover",function(a,f){b.currentNode=a;b.onmouseover(B.field(a,"__dhx_data__"),f)});va.storeColorForSelection(f)},currentNode:null,createGridMap:function(a){for(var b=new La,f=0,g=this.rows;f<g;)for(var h=f++,i=0,k=this.cols;i<k;){var l=i++;a(l,h)&&b.set(h+"-"+l,[h,l])}return b},drawContour:function(){},redraw:function(){null==this.dps||0==this.dps.length||(this.stats=this.variableDependent.stats,this.xrange=this.range(this.xVariable),this.yrange=this.range(this.yVariables[0]),
this.cols=this.xrange.length,this.rows=this.yrange.length,this.w=this.width/this.cols,this.h=this.height/this.rows,this.useContour?this.drawContour():this.drawSquares(),this.ready.dispatch())},y:function(a){return this.height-(1+this.yrange.indexOf(B.field(a,this.yVariables[0].type)))*this.h},x:function(a){return this.xrange.indexOf(B.field(a,this.xVariable.type))*this.w},stats:null,h:null,w:null,rows:null,cols:null,yrange:null,xrange:null,scale:function(a){return this.variableDependent.axis.scale(this.variableDependent.min(),
this.variableDependent.max(),a)},value:function(a){return this.scale(B.field(a,this.variableDependent.type))},data:function(a){this.dps=a;this.redraw()},resize:function(){K.CartesianChart.prototype.resize.call(this);this.redraw()},init:function(){K.CartesianChart.prototype.init.call(this);this.g.classed().add("heat-grid")},setVariables:function(a,b,f){this.xVariable=b[0];this.yVariables=[b[1]];this.variableDependent=f[0]},variableDependent:null,dps:null,colorMode:null,useContour:null,__class__:K.HeatGrid,
__properties__:g(K.CartesianChart.prototype.__properties__,{set_colorMode:"set_colorMode",get_colorMode:"get_colorMode"})});K.LineChart=function(a){K.CartesianChart.call(this,a);this.addClass("line-chart");this.chart=this.g.append("svg:g");this.sensibleRadius=100};y["rg.svg.chart.LineChart"]=K.LineChart;K.LineChart.__name__=["rg","svg","chart","LineChart"];K.LineChart.__super__=K.CartesianChart;K.LineChart.prototype=g(K.CartesianChart.prototype,{onclick:function(a){var a=B.field(a,"__dhx_data__"),
b=this.getStats(a);this.click(a,b)},onmouseover:function(a){var b=B.field(a,"__dhx_data__"),f=this.getStats(b),b=this.labelDataPointOver(b,f);null==b?this.tooltip.hide():(f=ua.selectNode(a.parentNode),f=K.Coords.fromTransform(f.attr("transform").get()),this.tooltip.html(b.split("\n").join("<br>")),this.moveTooltip(f[0],f[1],va.extractColor(a)))},getStats:function(a){for(var b=0,f=this.stats;b<f.length;){var g=f[b];++b;if(null!=B.field(a,g.type))return g}return null},getTranslatePointf:function(b){var f=
a(this,this.x),g=this.getY1(b);return function(a,b){return"translate("+f(a)+","+g(a,b)+")"}},data:function(b){var f=this;this.linePathShape=[];for(var g=0,h=this.yVariables.length;g<h;){var i=g++,k=[new H.Line(a(this,this.x),this.getY1(i))];null!=this.lineInterpolator&&k[0].interpolator(this.lineInterpolator);this.linePathShape[i]=function(a){return function(b,j){f.segment=j;return a[0].shape(b,j)}}(k)}g=this.chart.selectAll("g.group").data(b);g.enter().append("svg:g").attr("class").stringf(function(a,
b){return"group group-"+b});g.exit().remove();this.stats=[];g=0;for(h=b.length;g<h;){i=[g++];this.segments=b[i[0]];k=this.chart.select("g.group-"+i[0]);this.stats[i[0]]=new Ja(this.yVariables[i[0]].type);this.stats[i[0]].addMany(mb.values(T.flatten(this.segments),this.yVariables[i[0]].type));if(null!=this.y0property){var l=new H.Area(a(this,this.x),this.getY0(i[0]),this.getY1(i[0]));null!=this.lineInterpolator&&l.interpolator(this.lineInterpolator);k.selectAll("path.area").data(this.segments).enter().append("svg:path").attr("class").stringf(this.classff(i[0],
"area area-"+i[0])).attr("d").stringf(a(l,l.shape))}var l=k.selectAll("path.main").data(this.segments),m=this.lineEffect;switch(m[1]){case 1:var p=m[3],p=[p],m=[m[2]],r=[[]];l.enter().append("svg:path").attr("class").stringf(this.classsf(i[0],"line")).eachNode(function(a,b){return function(j,f){var g=q.Hsl.toHsl(va.parse(ua.selectNode(j).style("stroke").get(),"#000000")),h=va.applyLightness(g,b[0]);a[0][f]=q.Hsl.interpolatef(h,g)}}(r,m)).remove();for(m=0;m<p[0];){var t=[m++];l.enter().append("svg:path").attr("class").string("line grad-"+
(p[0]-t[0]-1)).style("stroke").stringf(function(a,b,j){return function(f,g){return b[0][g](a[0]/j[0]).hex("#")}}(t,r,p)).attr("d").stringf(this.linePathShape[i[0]])}break;case 2:for(var p=m[4],r=m[3],R=m[2],m=0;m<p;)t=m++,l.enter().append("svg:path").attr("transform").string("translate("+(1+t)*R+","+(1+t)*r+")").attr("class").stringf(this.classsf(i[0],"line shadow shadow-"+t)).attr("d").stringf(this.linePathShape[i[0]])}m=l.enter().append("svg:path").attr("class").stringf(this.classsf(i[0],"line")).attr("d").stringf(this.linePathShape[i[0]]);
switch(this.lineEffect[1]){case 1:m.classed().add("gradient");break;case 2:m.classed().add("dropshadow");break;case 0:m.classed().add("noeffect")}l.update().attr("d").stringf(this.linePathShape[i[0]]);l.exit().remove();k=k.selectAll("g.symbols").data(this.segments);l=k.enter().append("svg:g").attr("class").stringf(this.classsf(i[0],"symbols")).selectAll("g.symbol").dataf(function(){return function(a){return a}}()).enter().append("svg:g").attr("transform").stringf(this.getTranslatePointf(i[0]));m=
l.append("svg:circle").attr("r")["float"](6).attr("opacity")["float"](0).style("fill").string("#000000");null!=this.labelDataPointOver&&m.classed().add("rgdata");va.storeColorForSelection(m,"stroke");null!=this.symbol&&(m=[this.symbol],m=l.append("svg:path").attr("d").stringf(function(a,b){return function(j){return a[0](j,f.stats[b[0]])}}(m,i)),va.storeColorForSelection(m,"stroke"),null!=this.symbolStyle&&(t=[this.symbolStyle],m.attr("style").stringf(function(a,b){return function(j){return a[0](j,
f.stats[b[0]])}}(t,i))));null!=this.labelDataPoint&&l.eachNode(function(a,b){return function(j){var g=B.field(j,"__dhx_data__");(new G.Label(ua.selectNode(j),!0,!1,!1)).set_text(a[0](g,f.stats[b[0]]))}}([this.labelDataPoint],i));k.update().selectAll("g.symbol").dataf(function(){return function(a){return a}}()).update().attr("transform").stringf(this.getTranslatePointf(i[0]));k.exit().remove()}G.Sensible.sensibleZone(this.g,this.panel,null==this.click?null:a(this,this.onclick),null==this.labelDataPointOver?
null:a(this,this.onmouseover),this.sensibleRadius);this.ready.dispatch()},classff:function(a,b){return function(f,g){return b+" fill-"+(a+g)}},classsf:function(a,b){return function(f,g){return b+" stroke-"+(a+g)}},segments:null,getY0:function(b){var f=this,g=this.yVariables[b],h,i=(la=g.axis,a(la,la.scale)),k=g.min(),l=g.max();h=function(a){return i(k,l,a)};return function(a){return f.height-h(mb.valueAlt(a,f.y0property,g.min()))*f.height}},getY1:function(b){var f=this,g=this.yVariables[b],h,i=(la=
g.axis,a(la,la.scale)),k=g.min(),l=g.max();h=function(a){return i(k,l,a)};if(null!=this.y0property){var m=h(g.min())*this.height;return function(a,i){return f.getY0(b)(a,i)-h(B.field(a,g.type))*f.height+m}}return function(a){a=B.field(a,g.type);a=h(a)*f.height;return f.height-a}},x:function(a){a=B.field(a,this.xVariable.type);return this.xVariable.axis.scale(this.xVariable.min(),this.xVariable.max(),a)*this.width},setVariables:function(a,b,f,g){K.CartesianChart.prototype.setVariables.call(this,a,
b,f,g);if(null!=this.y0property&&""!=this.y0property){for(var h,a=0;a<f.length;)b=f[a],++a,b.meta.max=Math.NEGATIVE_INFINITY;for(var i=0,a=g.length;i<a;)for(var k=i++,b=f[k],l=0,m=g[k].length;l<m;)for(var p=l++,r=0,q=g[k][p].length;r<q;)if(h=r++,h=g[k][p][h],h=mb.valueAlt(h,b.type,0)+mb.valueAlt(h,this.y0property,0),b.meta.max<h)b.meta.max=h}},stats:null,segment:null,dps:null,chart:null,linePathShape:null,sensibleRadius:null,y0property:null,lineEffect:null,lineInterpolator:null,symbolStyle:null,symbol:null,
__class__:K.LineChart});K.LineEffect={__ename__:["rg","svg","chart","LineEffect"],__constructs__:["NoEffect","Gradient","DropShadow"]};K.LineEffect.NoEffect=["NoEffect",0];K.LineEffect.NoEffect.toString=N;K.LineEffect.NoEffect.__enum__=K.LineEffect;K.LineEffect.Gradient=function(a,b){var f=["Gradient",1,a,b];f.__enum__=K.LineEffect;f.toString=N;return f};K.LineEffect.DropShadow=function(a,b,f){a=["DropShadow",2,a,b,f];a.__enum__=K.LineEffect;a.toString=N;return a};K.LineEffects=function(){};y["rg.svg.chart.LineEffects"]=
K.LineEffects;K.LineEffects.__name__=["rg","svg","chart","LineEffects"];K.LineEffects.parse=function(a){var b=a.toLowerCase().split(":");switch(b.shift()){case "dropshadow":var f=0.5,g=0.5,a=2,b=b.pop();null!=b&&(b=b.split(","),f=I.parseFloat(b[0]),g=1<b.length?I.parseFloat(b[1]):f,2<b.length&&(a=I.parseInt(b[2])));return K.LineEffect.DropShadow(f,g,a);case "gradient":return f=0.75,a=2,b=b.pop(),null!=b&&(f=I.parseFloat(b.split(",").shift()),g=b.split(",").pop(),null!=g&&(a=I.parseInt(g))),K.LineEffect.Gradient(f,
a);default:return K.LineEffect.NoEffect}};K.PieChart=function(a){K.Chart.call(this,a);this.addClass("pie-chart");this.g.append("svg:defs");this.pie=new da.layout.Pie;this.gradientLightness=0.75;this.displayGradient=!0;this.innerRadius=this.animationDelay=0;this.outerRadius=0.9;this.overRadius=0.95;this.labelRadius=0.45;this.tooltipRadius=0.5;this.labels=new La;this.labelOrientation=G.LabelOrientation.Orthogonal;this.labelDontFlip=!0};y["rg.svg.chart.PieChart"]=K.PieChart;K.PieChart.__name__=["rg",
"svg","chart","PieChart"];K.PieChart.__super__=K.Chart;K.PieChart.prototype=g(K.Chart.prototype,{destroy:function(){for(var a=this.labels.iterator();a.hasNext();)a.next().destroy();K.Chart.prototype.destroy.call(this)},pief:function(a){for(var b=this.variableDependent.type,f=this.pie.pie(a.map(function(a){return B.field(a,b)})),g=0,h=f.length;g<h;){var i=g++,k=this.makeid(a[i]);f[i].id=k;f[i].dp=a[i]}return f},arcShape:function(a){return function(b){return a.shape(b)}},makeid:function(a){a=Pa.clone(a);
B.deleteField(a,this.variableDependent.type);return fc.encode(Na.string(a))},id:function(a){return a.id},backtonormal:function(a){ua.selectNodeData(a).selectAll("path").transition().ease(this.animationEase).duration(null,this.animationDuration).attr("d").stringf(this.arcShape(this.arcNormal))},highlight:function(a){ua.selectNodeData(a).selectAll("path").transition().ease(this.animationEase).duration(null,this.animationDuration).attr("d").stringf(this.arcShape(this.arcBig))},fadein:function(a){var b=
ua.selectNodeData(a),a=this.arcNormal.shape(B.field(a,"__dhx_data__"));b.selectAll("path.slice").transition().ease(this.animationEase).duration(null,this.animationDuration).delay(null,this.animationDelay).attr("d").string(a)},applyGradient:function(a){var b=ua.selectNodeData(a),f=B.field(a,"__dhx_data__").id;if(this.g.select("defs").select("#rg_pie_gradient_"+f).empty()){var g=b.select("path.slice"),a=this.arcNormal.shape(B.field(a,"__dhx_data__")),a=b.append("svg:path").attr("d").string(a),h;try{h=
a.node().getBBox()}catch(i){h={x:0,y:0,width:0,height:0}}a.remove();var g=va.parse(g.style("fill").get(),"#cccccc"),a=va.applyLightness(q.Hsl.toHsl(g),this.gradientLightness),k=h.width/h.height,l=100*-h.x/h.width/k,m=100*-h.y/h.height/k;h=100*(h.width>h.height?Math.min(1,this.radius*this.outerRadius/h.width):Math.max(1,this.radius*this.outerRadius/h.width));h=this.g.select("defs").append("svg:radialGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string("rg_pie_gradient_"+f).attr("cx").string(l*
k+"%").attr("cy").string(m+"%").attr("gradientTransform").string("scale(1 "+k+")").attr("r").string(h+"%");h.append("svg:stop").attr("offset").string(100*this.innerRadius+"%").attr("stop-color").string(g.toRgbString()).attr("stop-opacity")["float"](1);h.append("svg:stop").attr("offset").string("100%").attr("stop-color").string(a.toRgbString()).attr("stop-opacity")["float"](1)}b.select("path.slice").attr("style").string("fill:url(#rg_pie_gradient_"+f+")")},appendLabel:function(a){var b=ua.selectNode(a),
b=new G.Label(b,this.labelDontFlip,!0,!0),a=B.field(a,"__dhx_data__"),f=this.radius*this.labelRadius,g=a.startAngle+(a.endAngle-a.startAngle)/2-Math.PI/2;b.set_orientation(this.labelOrientation);switch(this.labelOrientation[1]){case 0:b.set_anchor(G.GridAnchor.Center);break;case 1:b.set_anchor(G.GridAnchor.Left);break;case 2:b.set_anchor(G.GridAnchor.Top)}b.set_text(this.labelDataPoint(a.dp,this.stats));b.place(-2.5+Math.cos(g)*f,-2.5+Math.sin(g)*f,57.29577951308232*g);this.labels.set(a.id,b);0>=
B.field(a.dp,this.stats.type)&&b.hide()},updateLabel:function(a){ua.selectNode(a);var a=B.field(a,"__dhx_data__"),b=this.labels.get(a.id),f=this.radius*this.labelRadius,g=a.startAngle+(a.endAngle-a.startAngle)/2-Math.PI/2;b.set_text(this.labelDataPoint(a.dp,this.stats));b.place(-2.5+Math.cos(g)*f,-2.5+Math.sin(g)*f,57.29577951308232*g);0==B.field(a.dp,this.stats.type)?b.hide():b.show()},removeLabel:function(a){ua.selectNode(a);a=B.field(a,"__dhx_data__");this.labels.get(a.id).destroy();this.labels.remove(a.id)},
onMouseClick:function(a){this.mouseClick(B.field(a,"__dhx_data__").dp)},onMouseOver:function(a){if(null!=this.labelDataPointOver){var b=B.field(a,"__dhx_data__"),f=this.labelDataPointOver(b.dp,this.stats);if(null==f)this.tooltip.hide();else{var b=b.startAngle+(b.endAngle-b.startAngle)/2-Math.PI/2,g=this.radius*this.tooltipRadius;this.tooltip.html(f.split("\n").join("<br>"));this.moveTooltip(this.width/2+Math.cos(b)*g,this.height/2+Math.sin(b)*g,va.extractColor(a))}}},data:function(b){this.stats=this.variableDependent.stats;
var b=this.g.selectAll("g.group").data(this.pief(b),a(this,this.id)),f=b.enter().append("svg:g").attr("class").stringf(function(a,b){return"group fill-"+b}).attr("transform").string("translate("+this.radius+","+this.radius+")"),g=f.append("svg:path").attr("class").string("slice");va.storeColorForSelection(f);this.displayGradient&&f.eachNode(a(this,this.applyGradient));this.animated?(g.attr("d").stringf(this.arcShape(this.arcStart)),f.eachNode(a(this,this.fadein)).onNode("mouseover.animation",a(this,
this.highlight)).onNode("mouseout.animation",a(this,this.backtonormal))):g.attr("d").stringf(this.arcShape(this.arcNormal));f.onNode("mouseover.label",a(this,this.onMouseOver));if(null!=this.mouseClick)f.onNode("click.user",a(this,this.onMouseClick));null!=this.labelDataPoint&&b.enter().append("svg:g").attr("transform").string("translate("+this.radius+","+this.radius+")").eachNode(a(this,this.appendLabel));b.update().select("path").transition().ease(this.animationEase).duration(null,this.animationDuration).attr("d").stringf(this.arcShape(this.arcNormal));
null!=this.labelDataPoint&&b.update().eachNode(a(this,this.updateLabel));b.exit().eachNode(a(this,this.removeLabel)).remove();this.ready.dispatch()},resize:function(){K.Chart.prototype.resize.call(this);this.radius=Math.min(this.width,this.height)/2;this.arcStart=H.Arc.fromAngleObject().innerRadius(this.radius*this.innerRadius).outerRadius(this.radius*this.innerRadius);this.arcNormal=H.Arc.fromAngleObject().innerRadius(this.radius*this.innerRadius).outerRadius(this.radius*this.outerRadius);this.arcBig=
H.Arc.fromAngleObject().innerRadius(this.radius*this.innerRadius).outerRadius(this.radius*this.overRadius);this.width>this.height?this.g.attr("transform").string("translate("+(this.width/2-this.height/2)+",0)"):this.g.attr("transform").string("translate(0,"+(this.height/2-this.width/2)+")")},setVariables:function(a,b){this.variableDependent=b[0]},mouseClick:null,labels:null,labelDontFlip:null,labelOrientation:null,animationDelay:null,displayGradient:null,gradientLightness:null,variableDependent:null,
stats:null,radius:null,pie:null,arcBig:null,arcStart:null,arcNormal:null,tooltipRadius:null,labelRadius:null,overRadius:null,outerRadius:null,innerRadius:null,__class__:K.PieChart});K.Sankey=function(a){K.Chart.call(this,a);this.addClass("sankey");this.layerWidth=61;this.nodeSpacing=28;this.dummySpacing=18;this.extraWidth=28;this.backEdgeSpacing=4;this.extraRadius=this.extraHeight=5;this.imageWidth=60;this.imageHeight=48;this.imageSpacing=0;this.labelNodeSpacing=4;this.styleNode="0";this.styleentry=
"4";this.styleexit="6";this.styleEdgeBackward="3";this.styleEdgeForward="0";this.thinbackedges=this.stackbackedges=!0};y["rg.svg.chart.Sankey"]=K.Sankey;K.Sankey.__name__=["rg","svg","chart","Sankey"];K.Sankey.__super__=K.Chart;K.Sankey.prototype=g(K.Chart.prototype,{hnode:function(a){return this.nheight(a.data.weight)},isdummy:function(a){return"#"==M.substr(a.data.id,0,1)},nodepadding:function(a){return this.isdummy(a)?this.dummySpacing:this.nodeSpacing},ynode:function(a){for(var b=this.layout.cell(a),
f=this.layerstarty[b.layer],g=0,h=b.position;g<h;)var i=g++,i=this.layout.nodeAt(b.layer,i),f=f+(this.hnode(i)+this.nodepadding(i));f+=this.nodepadding(a);return Math.round(f)+0.5},xlayer:function(a){return 1>=this.layout.length?this.width/2:Math.round((this.width-this.padBefore-this.padAfter-this.layerWidth)/(this.layout.length-1)*a+this.layerWidth/2+this.padBefore)},hafter:function(a,b){for(var f=!1,g=this.backEdgeSpacing/this.nheight(1),h=g;b.hasNext();){var i=b.next();f?h+=i.weight+g:i.id==a&&
(f=!0)}return this.nheight(h)},cafter:function(a,b){for(var f=!1,g=0;b.hasNext();){var h=b.next();f?g++:h.id==a&&(f=!0)}return g},ydiagonal:function(a,b){for(var f=0;b.hasNext();){var g=b.next();if(g.id==a)break;f+=g.weight}return this.nheight(f)},nheight:function(a){return 0==a?0:Math.round(a/this.maxweight*this.availableheight)},onmouseoverexit:function(a,b,f,g){this.highlight(f.id,"node");null!=this.labelEdgeOver&&(f=this.labelEdgeOver(this.edgeDataWithNode(f,!0),this.dependentVariable.stats),
null==f?this.tooltip.hide():(this.tooltip.anchor("topleft"),this.tooltip.html(f.split("\n").join("<br>")),this.moveTooltip(a,b,va.extractColor(g))))},onmouseoverentry:function(a,b,f,g){this.highlight(f.id,"node");null!=this.labelEdgeOver&&(f=this.labelEdgeOver(this.edgeDataWithNode(f,!1),this.dependentVariable.stats),null==f?this.tooltip.hide():(this.tooltip.anchor("bottomright"),this.tooltip.html(f.split("\n").join("<br>")),this.moveTooltip(a,b,va.extractColor(g))))},onmouseoveredge:function(a,b,
f,g){this.highlight(f.id,"edge");null!=this.labelEdgeOver&&(f=this.labelEdgeOver(this.edgeData(f),this.dependentVariable.stats),null==f?this.tooltip.hide():(this.tooltip.anchor("bottomright"),this.tooltip.html(f.split("\n").join("<br>")),this.moveTooltip(a,b,va.extractColor(g))))},onmouseovernode:function(a,b){this.highlight(a.id,"node");if(this.isdummy(a)){if(null!=this.labelEdgeOver){var f=this.labelEdgeOver(this.edgeData(a.graph.edges.positives(a).next()),this.dependentVariable.stats);if(!1!==
f)if(null==f)this.tooltip.hide();else{var g=this.layout.cell(a);this.tooltip.anchor("bottomright");this.tooltip.html(f.split("\n").join("<br>"));this.moveTooltip(this.xlayer(g.layer),this.ynode(a)+this.hnode(a)/2,va.extractColor(b))}}}else null!=this.labelDataPointOver&&(f=this.labelDataPointOver(a.data.dp,this.dependentVariable.stats),!1!==f&&(null==f?this.tooltip.hide():(g=this.layout.cell(a),this.tooltip.anchor("bottomright"),this.tooltip.html(f.split("\n").join("<br>")),this.moveTooltip(this.xlayer(g.layer),
this.ynode(a)+this.hnode(a)/2,va.extractColor(b)))))},edgeClickWithNode:function(a,b,f,g){this.edgeclick(this.edgeDataWithNode(a,b),f,g)},edgeClickWithEdge:function(a,b,f){this.edgeclick(this.edgeData(a),b,f)},edgeclick:function(a){this.clickEdge(a,this.dependentVariable.stats)},nodeclick:function(a){this.click(a.data.dp,this.dependentVariable.stats)},edgeDataWithNode:function(a,b){return{tail:b?a.data.dp:null,head:b?null:a.data.dp,edgeweight:b?a.data.exit:a.data.entry,nodeweight:a.data.weight}},
edgeData:function(a){for(var b=a.head,f=a.tail;this.isdummy(b);)b=b.graph.edges.positives(b).next().head;for(;this.isdummy(f);)f=f.graph.edges.negatives(f).next().tail;return{head:b.data.dp,tail:f.data.dp,edgeweight:a.weight,nodeweight:f.data.weight}},highlight:function(a,b){for(var f=this,g=this.maphi.iterator();g.hasNext();)g.next().classed().remove("over");this.maphi=new La;var h=null,i=null,k=null,l=null,m=function(a,b){var j=b+":"+a;f.maphi.set(j,f.mapelements.get(j).classed().add("over"))},
p=function(a){var a="entry:"+a,b=f.mapelements.get(a);null!=b&&f.maphi.set(a,b.classed().add("over"))},h=function(a){f.maphi.exists("edge:"+a.id)||(m(a.id,"edge"),f.isbackward(a)||i(a.head))},i=function(a){if(!f.maphi.exists("node:"+a.id)){m(a.id,"node");var b="exit:"+a.id,j=f.mapelements.get(b);null!=j&&f.maphi.set(b,j.classed().add("over"));for(a=a.graph.edges.positives(a);a.hasNext();)b=a.next(),h(b)}},k=function(a){f.isbackward(a)||l(a.tail);f.maphi.exists("edge:"+a.id)||f.isbackward(a)||m(a.id,
"edge")},l=function(a){for(var b=a.graph.edges.negatives(a);b.hasNext();){var j=b.next();k(j)}f.maphi.exists("node:"+a.id)||(m(a.id,"node"),p(a.id))};"edge"==b?(h(this.layout.graph.edges.get(a)),k(this.layout.graph.edges.get(a))):"node"==b&&(i(this.layout.graph.nodes.get(a)),l(this.layout.graph.nodes.get(a)),p(a))},isbackward:function(a){return this.layout.cell(a.head).layer<=this.layout.cell(a.tail).layer},addToMap:function(a,b,f){this.mapelements.set(b+":"+a,f)},redraw:function(){var b=this;this.mapelements=
new La;this.maphi=new La;this.maxweight=0;this.layerstarty=[];for(var f=0,g=this.layout.length;f<g;){var i=f++,k=ga.reduce(h(this.layout.layer(i))(),function(a,b){return a+b.data.weight},0);k>this.maxweight&&(this.maxweight=k)}for(var l=0,f=0,g=this.layout.length;f<g;)i=f++,k=ga.reduce(h(this.layout.layer(i))(),function(a,f){return a+b.nodepadding(f)},0),k>l&&(l=k);this.availableheight=this.height-l;if(this.thinbackedges)this.availableheight-=(1+this.backEdgeSpacing)*(this.stackbackedges?ga.filter(this.layout.graph.edges.collection.iterator(),
function(a){return b.layout.cell(a.tail).layer>=b.layout.cell(a.head).layer}).length:1);else if(this.stackbackedges)for(f=this.layout.graph.edges.collection.iterator();f.hasNext();)i=f.next(),this.layout.cell(i.tail).layer<this.layout.cell(i.head).layer||(this.availableheight-=this.backEdgeSpacing,this.maxweight+=i.weight);else{this.availableheight-=this.backEdgeSpacing;k=0;for(f=this.layout.graph.edges.collection.iterator();f.hasNext();)if(i=f.next(),!(this.layout.cell(i.tail).layer<this.layout.cell(i.head).layer)&&
i.weight>k)k=i.weight;this.maxweight+=k}this.availableheight-=this.extraRadius+this.extraHeight;for(var m=0,f=0,g=this.layout.length;f<g;){for(var i=f++,l=this.layout.layer(i),p=0,r=0;r<l.length;)k=l[r],++r,p+=this.nodepadding(k)+this.nheight(k.data.weight);this.layerstarty[i]=p;p>m&&(m=p)}f=0;for(g=this.layerstarty.length;f<g;)i=f++,this.layerstarty[i]=(m-this.layerstarty[i])/2;m+=this.extraRadius+this.extraHeight;g=this.padBefore=0;for(f=this.layout.layer(0);g<f.length;){k=f[g];++g;l=Math.min(this.nheight(k.data.entry),
this.extraWidth);for(p=k.graph.edges.negatives(k);p.hasNext();)i=p.next(),i=this.hafter(i.id,k.graph.edges.negatives(k))+this.nheight(i.weight),i>l&&(l=i);l>this.padBefore&&(this.padBefore=l)}this.padBefore+=2;g=this.padAfter=0;for(f=this.layout.layer(this.layout.length-1);g<f.length;){k=f[g];++g;l=Math.min(this.nheight(k.data.exit),this.extraWidth);for(p=k.graph.edges.positives(k);p.hasNext();)i=p.next(),i=this.hafter(i.id,k.graph.edges.positives(k))+this.nheight(i.weight)+Math.min(this.nheight(k.data.exit),
this.extraWidth),i>l&&(l=i);l>this.padAfter&&(this.padAfter=l)}this.padAfter+=2;var q=this.g.select("g.edges");q.empty()?q=this.g.append("svg:g").attr("class").string("edges"):q.selectAll("*").remove();f=T.order(ga.array(h(ga.array(this.layout.graph.edges.iterator()))()),function(a,f){var g=b.layout.cell(a.tail).layer-b.layout.cell(a.head).layer,g=b.layout.cell(f.tail).layer-b.layout.cell(f.head).layer-g;return 0!=g?g:V.compare(f.weight,a.weight)});ga.each(this.layout.graph.nodes.iterator(),function(a){a.graph.edges.sortPositives(a,
function(a,f){var g=b.layout.cell(a.head),h=b.layout.cell(f.head),i=h.layer-g.layer;return 0!=i?i:g.position-h.position});a.graph.edges.sortNegatives(a,function(a,f){var g=b.layout.cell(a.tail),h=b.layout.cell(f.tail);return g.layer>h.layer?1:g.position-h.position})});g=f.slice();g.sort(function(a,f){var g=b.layout.cell(a.tail);return b.layout.cell(f.tail).position-g.position});this.thinbackedges?ga.each(h(g)(),function(f){if(!(0>=f.weight)){var g=b.layout.cell(f.head),h=b.layout.cell(f.tail);if(!(g.layer>
h.layer)){var i=b.nheight(f.weight),k=5+b.cafter(f.id,f.tail.positives())*(b.backEdgeSpacing+1),l=5+b.cafter(f.id,f.head.negatives())*(b.backEdgeSpacing+1),h=b.layerWidth/2+b.xlayer(h.layer),qa=-b.layerWidth/2+b.xlayer(g.layer),id=b.ynode(f.tail)+b.ydiagonal(f.id,f.tail.positives()),p=b.nheight(f.head.data.entry)+b.ynode(f.head)+b.ydiagonal(f.id,f.head.negatives()),r=q.append("svg:g");r.append("svg:rect").attr("x")["float"](h).attr("y")["float"](id).attr("width")["float"](10).attr("height")["float"](i).attr("class").string("edge fill fill-"+
b.styleEdgeBackward+" stroke stroke-"+b.styleEdgeBackward).onNode("mouseover",function(a,b,f,j){return function(g,h){return a(b,f,j,g,h)}}(a(b,b.onmouseoveredge),(h+qa)/2,m,f));r.append("svg:rect").attr("x")["float"](qa-10).attr("y")["float"](p).attr("width")["float"](10).attr("height")["float"](i).attr("class").string("edge fill fill-"+b.styleEdgeBackward+" stroke stroke-"+b.styleEdgeBackward).onNode("mouseover",function(a,b,f,j){return function(g,h){return a(b,f,j,g,h)}}(a(b,b.onmouseoveredge),
(h+qa)/2,m,f));g=new G.HookConnector(r,"stroke stroke-"+b.styleEdgeBackward);b.addToMap(f.id,"edge",r);g.update(h+10,id+i/2,qa-10,p+i/2,m,k,l);g.g.onNode("mouseover",function(a,b,f,j){return function(g,h){return a(b,f,j,g,h)}}(a(b,b.onmouseoveredge),(h+qa)/2,m,f));null!=b.edgeClass&&(i=b.edgeClass({head:f.head.data,tail:f.tail.data,edgeweight:f.weight},b.dependentVariable.stats),null!=i&&g.addClass(i));va.storeColorForSelection(g.g,"stroke",g.line.style("stroke").get());if(null!=b.clickEdge)g.g.onNode("click",
function(a,b){return function(f,j){return a(b,f,j)}}(a(b,b.edgeClickWithEdge),f));b.stackbackedges&&(m+=1+b.backEdgeSpacing)}}}):ga.each(h(g)(),function(f){if(!(0>=f.weight)){var g=b.layout.cell(f.head),h=b.layout.cell(f.tail);if(!(g.layer>h.layer)){var i=b.nheight(f.weight),k=new G.HookConnectorArea(q,"fill fill-"+b.styleEdgeBackward,"stroke stroke-"+b.styleEdgeBackward),l=b.hafter(f.id,f.tail.positives())+Math.min(b.extraWidth,b.nheight(f.tail.data.exit)),qa=b.hafter(f.id,f.head.negatives()),h=
b.layerWidth/2+b.xlayer(h.layer),g=-b.layerWidth/2+b.xlayer(g.layer),id=b.ynode(f.tail)+b.ydiagonal(f.id,f.tail.positives()),p=b.nheight(f.head.data.entry)+b.ynode(f.head)+b.ydiagonal(f.id,f.head.negatives());b.addToMap(f.id,"edge",k.g);k.update(h,id,g,p,i,m,l,qa);k.g.onNode("mouseover",function(a,b,f,j){return function(g,h){return a(b,f,j,g,h)}}(a(b,b.onmouseoveredge),(h+g)/2,m+i/2,f));null!=b.edgeClass&&(l=b.edgeClass({head:f.head.data,tail:f.tail.data,edgeweight:f.weight},b.dependentVariable.stats),
null!=l&&k.addClass(l));va.storeColorForSelection(k.g,"fill",k.area.style("fill").get());if(null!=b.clickEdge)k.g.onNode("click",function(a,b){return function(f,j){return a(b,f,j)}}(a(b,b.edgeClickWithEdge),f));b.stackbackedges&&(m+=i+b.backEdgeSpacing)}}});ga.each(h(f)(),function(f){if(!(0>=f.weight)){var g=f.head,h=f.tail,i=b.layout.cell(g),k=b.layout.cell(h);if(!(i.layer<=k.layer)){var k=Math.round(b.layerWidth/2+b.xlayer(k.layer))-0.5,i=Math.round(-b.layerWidth/2+b.xlayer(i.layer))-0.5,h=b.ynode(h)+
b.ydiagonal(f.id,h.graph.edges.positives(h)),g=b.ynode(g)+b.nheight(g.data.entry)+b.ydiagonal(f.id,g.graph.edges.negatives(g)),l=b.nheight(f.weight),qa=new G.DiagonalArea(q,"fill fill-"+b.styleEdgeForward,"stroke stroke-"+b.styleEdgeForward);qa.update(k,h,i,g,l,l);if(null!=b.edgeClass){var m=b.edgeClass({head:f.head.data,tail:f.tail.data,edgeweight:f.weight},b.dependentVariable.stats);null!=m&&qa.addClass(m)}b.addToMap(f.id,"edge",qa.g);qa.g.onNode("mouseover",function(a,b,f,j){return function(g,
h){return a(b,f,j,g,h)}}(a(b,b.onmouseoveredge),(k+i)/2,(h+g+l)/2,f));va.storeColorForSelection(qa.g,"fill",qa.area.style("fill").get());if(null!=b.clickEdge)qa.g.onNode("click",function(a,b){return function(f,j){return a(b,f,j)}}(a(b,b.edgeClickWithEdge),f))}}});this.layout.each(function(f,g){if(!(0>=g.data.exit||0>=b.extraWidth||null!=b.displayExit&&!b.displayExit(g.data,b.dependentVariable.stats))){var h=new G.ElbowArea(q,"fill fill-"+b.styleexit,"stroke stroke-"+b.styleexit),i=b.nheight(g.data.exit),
k=b.layerWidth/2+b.xlayer(f.layer),l=b.ynode(g)+b.ydiagonal(null,g.graph.edges.positives(g)),qa=Math.max(0,Math.min(i-3,b.extraRadius));h.update(G.Orientation.RightBottom,i,k,l+i,qa,b.extraWidth,0,b.extraHeight);if(null!=b.labelEdge){var m,id=b.labelEdge({tail:g,head:null,nodeweight:g.data.weight,edgeweight:g.data.exit},b.dependentVariable.stats);m=new G.Label(q,!0,!0,!1);m.addClass("edge");m.place(k,l+i/2,0);m.set_anchor(G.GridAnchor.Left);m.set_text(id);m.getSize().height>0.75*i&&m.destroy()}h.g.onNode("mouseover",
function(a,b,f,j){return function(g,h){return a(b,f,j,g,h)}}(a(b,b.onmouseoverexit),k+qa+(-qa+Math.min(b.extraWidth,i))/2,b.ynode(g)+b.hnode(g)+qa+b.extraHeight,g));null!=b.edgeClass&&(i=b.edgeClass({head:null,tail:g.data,edgeweight:g.data.exit},b.dependentVariable.stats),null!=i&&h.addClass(i));va.storeColorForSelection(h.g,"fill",h.area.style("fill").get());if(null!=b.clickEdge)h.g.onNode("click",function(a,b,f){return function(j,g){return a(b,f,j,g)}}(a(b,b.edgeClickWithNode),g,!0));b.addToMap(g.id,
"exit",h.g)}});this.layout.each(function(f,g){if(!(0>=g.data.entry||0>=b.extraWidth||null!=b.displayEntry&&!b.displayEntry(g.data,b.dependentVariable.stats))){var h=new G.ElbowArea(q,"fill fill-"+b.styleentry,"stroke stroke-"+b.styleentry),i=b.nheight(g.data.entry),k=Math.max(0,Math.min(i-3,b.extraRadius)),l=-b.layerWidth/2+b.xlayer(f.layer);h.update(G.Orientation.LeftTop,i,l,b.ynode(g),k,b.extraWidth,0,b.extraHeight);if(null!=b.labelEdge){var qa,m=b.labelEdge({tail:null,head:g,nodeweight:g.data.weight,
edgeweight:g.data.entry},b.dependentVariable.stats);qa=new G.Label(q,!0,!0,!1);qa.addClass("edge");qa.place(l,b.ynode(g)+i/2,0);qa.set_anchor(G.GridAnchor.Right);qa.set_text(m);qa.getSize().height>0.75*i&&qa.destroy()}h.g.onNode("mouseover",function(a,b,f,j){return function(g,h){return a(b,f,j,g,h)}}(a(b,b.onmouseoverentry),l-k+(k-Math.min(b.extraWidth,i))/2,b.ynode(g)-k-b.extraHeight,g));null!=b.edgeClass&&(i=b.edgeClass({head:g.data,tail:null,edgeweight:g.data.entry},b.dependentVariable.stats),
null!=i&&h.addClass(i));va.storeColorForSelection(h.g,"fill",h.area.style("fill").get());if(null!=b.clickEdge)h.g.onNode("click",function(a,b,f){return function(j,g){return a(b,f,j,g)}}(a(b,b.edgeClickWithNode),g,!1));b.addToMap(g.id,"entry",h.g)}});null!=this.labelEdge&&ga.each(h(f)(),function(a){if(!(0>=a.weight)){var f=a.tail;if(!b.isdummy(f)){var g=b.layout.cell(f),h=b.nheight(a.weight),i,k=b.labelEdge(b.edgeData(a),b.dependentVariable.stats);i=new G.Label(q,!0,!0,!1);i.addClass("edge");i.place(b.layerWidth/
2+b.xlayer(g.layer)+2,b.ynode(f)+b.ydiagonal(a.id,f.graph.edges.positives(f))+h/2,0);i.set_anchor(G.GridAnchor.Left);i.set_text(k);i.getSize().height>0.75*h&&i.destroy()}}});f=this.g.selectAll("g.layer").data(this.layout.layers()).enter().append("svg:g").attr("class").string("layer").append("svg:line").attr("class").stringf(function(a,b){return"rule rule-"+b}).attr("x1")["float"](0).attr("x2")["float"](0).attr("y1")["float"](0).attr("y2")["float"](this.height).update().attr("transform").stringf(function(a,
f){return"translate("+b.xlayer(f)+",0)"}).exit().remove().update().selectAll("g.node").dataf(function(a,f){return b.layout.layer(f)});g=f.enter().append("svg:g").attr("class").string("node");0<this.layerWidth&&(k=g.append("svg:rect").attr("class").stringf(function(a){return"fill fill-"+(b.isdummy(a)?b.styleEdgeForward+" nonode":b.styleNode+" node")}).attr("x")["float"](-this.layerWidth/2).attr("y")["float"](0).attr("width")["float"](Math.round(this.layerWidth)).attr("height").floatf(a(this,this.hnode)),
g.each(function(a){b.addToMap(a.id,"node",ua.selectNode(rb.current));null!=b.nodeClass&&(a=b.nodeClass(a.data,b.dependentVariable.stats),null!=a&&ua.selectNode(rb.current).classed().add(a))}),va.storeColorForSelection(g,"fill",k.style("fill").get()),g.append("svg:line").attr("class").stringf(function(a){return"node stroke stroke-"+(b.isdummy(a)?b.styleEdgeForward:b.styleNode)}).attr("x1")["float"](-this.layerWidth/2).attr("y1")["float"](0).attr("x2")["float"](this.layerWidth/2).attr("y2")["float"](0),
g.append("svg:line").attr("class").stringf(function(a){return"node stroke stroke-"+(b.isdummy(a)?b.styleEdgeForward:b.styleNode)}).attr("x1")["float"](-this.layerWidth/2).attr("y1").floatf(a(this,this.hnode)).attr("x2")["float"](this.layerWidth/2).attr("y2").floatf(a(this,this.hnode)));f.update().attr("transform").stringf(function(a){return"translate(0,"+b.ynode(a)+")"});g.each(function(a){var f=ua.selectNode(rb.current);if(!b.isdummy(a)){var g=b.hnode(a),h;if(null!=b.labelDataPoint)for(var i=b.labelDataPoint(a.data.dp,
b.dependentVariable.stats).split("\n"),k=null,l,qa=0,m=0,id=i.length;m<id;){qa=m++;l=i[qa];h=new G.Label(f,!0,!0,!1);h.addClass("node");0==qa&&h.addClass("first");qa=3;null!=k&&(qa+=k.y+k.getSize().height);h.place(-b.layerWidth/2+6,qa,0);h.set_anchor(G.GridAnchor.TopLeft);h.set_text(l);if(h.y+h.getSize().height>g){h.destroy();break}k=h}g=!1;null!=b.imagePath&&!b.isdummy(a)&&(h=b.imagePath(a.data.dp),null!=h&&(g=!0,f.append("svg:g").attr("transform").string("translate("+Math.round(-b.imageWidth/2)+
","+Math.round(-b.imageHeight-b.imageSpacing)+")").append("svg:image").attr("preserveAspectRatio").string("xMidYMid slice").attr("width")["float"](b.imageWidth).attr("height")["float"](b.imageHeight).attr("xlink:href").string(h)));null!=b.labelNode&&(h=g?new G.Label(f,!0,!0,!0):new G.Label(f,!0,!1,!1),h.set_anchor(G.GridAnchor.Bottom),h.place(0,-b.labelNodeSpacing,0),h.set_text(b.labelNode(a.data.dp,b.dependentVariable.stats)))}});g.each(function(f){var g=ua.selectNode(rb.current);g.onNode("mouseover",
function(a,b){return function(f,j){return a(b,f,j)}}(a(b,b.onmouseovernode),f));if(null!=b.click)g.onNode("click",function(a,b){return function(f,j){return a(b,f,j)}}(a(b,b.nodeclick),f))});this.ready.dispatch()},data:function(a){var b=this;this.layout=a.clone();for(var a=ga.filter(h(ga.filter(this.layout.graph.nodes.iterator(),function(a){return b.isdummy(a)}))(),function(a){a=a.graph.edges.positives(a).next();if(null==a)return!1;var f=b.layout.cell(a.head);return b.layout.cell(a.tail).layer>f.layer}),
f=this.layout.layers(),g=0;g<a.length;){var i=a[g];++g;var k=this.layout.cell(i),l=i.graph.edges.positives(i).next(),m=i.graph.edges.negatives(i).next();f[k.layer].splice(k.position,1);this.layout.graph.edges.create(m.tail,l.head,l.weight,l.data);i.graph.nodes._remove(i)}this.redraw()},setVariables:function(a,b){this.dependentVariable=b[0]},maphi:null,mapelements:null,dependentVariable:null,styleEdgeForward:null,styleEdgeBackward:null,styleexit:null,styleentry:null,styleNode:null,layerstarty:null,
padAfter:null,padBefore:null,availableheight:null,maxweight:null,layout:null,displayExit:null,displayEntry:null,edgeClass:null,nodeClass:null,clickEdge:null,imagePath:null,labelNode:null,labelEdgeOver:null,labelEdge:null,thinbackedges:null,stackbackedges:null,labelNodeSpacing:null,imageSpacing:null,imageHeight:null,imageWidth:null,extraRadius:null,extraHeight:null,backEdgeSpacing:null,extraWidth:null,dummySpacing:null,nodeSpacing:null,layerWidth:null,__class__:K.Sankey});K.ScatterGraph=function(a){K.CartesianChart.call(this,
a);this.addClass("scatter-graph");this.chart=this.g.append("svg:g")};y["rg.svg.chart.ScatterGraph"]=K.ScatterGraph;K.ScatterGraph.__name__=["rg","svg","chart","ScatterGraph"];K.ScatterGraph.__super__=K.CartesianChart;K.ScatterGraph.prototype=g(K.CartesianChart.prototype,{onclick:function(a,b){this.click(b,a)},onmouseover:function(a,b){var f=this.labelDataPointOver(B.field(b,"__dhx_data__"),a);if(null==f)this.tooltip.hide();else{var g=ua.selectNode(b),g=K.Coords.fromTransform(g.attr("transform").get());
this.tooltip.html(f.split("\n").join("<br>"));this.moveTooltip(g[0],g[1],null)}},getTranslatePointf:function(b){var f=a(this,this.x),g=this.getY1(b);return function(a,b){return"translate("+f(a)+","+g(a,b)+")"}},redraw:function(){var b=this;if(!(null==this.dps||null==this.dps[0]||null==this.dps[0][0])){var f=this.chart.selectAll("g.group").data(this.dps);f.enter().append("svg:g").attr("class").stringf(function(a,b){return"group group-"+b});f.exit().remove();for(var f=0,g=this.dps.length;f<g;){var h=
f++,i=this.dps[h],k=this.chart.select("g.group-"+h),l=[this.yVariables[h].stats],i=k.selectAll("g.symbol").data(i),m=function(){return function(a,b){return function(f,j){return a(b,f,j)}}}()(a(this,this.onclick),l[0]),p=function(){return function(a,b){return function(f,j){return a(b,f,j)}}}()(a(this,this.onmouseover),l[0]),k=i.enter().append("svg:g").attr("class").stringf(this.classf(h,"symbol")).attr("transform").stringf(this.getTranslatePointf(h));if(null!=this.click)k.on("click",m);if(null!=this.labelDataPointOver)k.onNode("mouseover",
p);m=k.append("svg:path").attr("d").stringf(function(a){return function(f){return b.symbol(f,a[0])}}(l));null!=this.symbolStyle&&m.attr("style").stringf(function(a){return function(f){return b.symbolStyle(f,a[0])}}(l));null!=this.labelDataPoint&&k.eachNode(function(a,b){return function(f){var j=B.field(f,"__dhx_data__");(new G.Label(ua.selectNode(f),!0,!0,!0)).set_text(a[0](j,b[0]))}}([this.labelDataPoint],l));i.update().selectAll("g.symbol").dataf(function(){return function(a){return a}}()).update().attr("transform").stringf(this.getTranslatePointf(h));
i.exit().remove()}this.ready.dispatch()}},resize:function(){K.CartesianChart.prototype.resize.call(this);this.redraw()},data:function(a){this.dps=a;this.redraw()},classf:function(a,b){return function(){return b+" stroke-"+a+" fill-"+a}},getY1:function(a){var b=this.height,f=this.yVariables[a];return function(a){a=B.field(a,f.type);a=f.axis.scale(f.min(),f.max(),a)*b;return b-a}},x:function(a){a=B.field(a,this.xVariable.type);return this.xVariable.axis.scale(this.xVariable.min(),this.xVariable.max(),
a)*this.width},dps:null,chart:null,symbolStyle:null,symbol:null,__class__:K.ScatterGraph});K.StreamEffect={__ename__:["rg","svg","chart","StreamEffect"],__constructs__:["NoEffect","GradientHorizontal","GradientVertical"]};K.StreamEffect.NoEffect=["NoEffect",0];K.StreamEffect.NoEffect.toString=N;K.StreamEffect.NoEffect.__enum__=K.StreamEffect;K.StreamEffect.GradientHorizontal=function(a){a=["GradientHorizontal",1,a];a.__enum__=K.StreamEffect;a.toString=N;return a};K.StreamEffect.GradientVertical=function(a){a=
["GradientVertical",2,a];a.__enum__=K.StreamEffect;a.toString=N;return a};K.StreamEffects=function(){};y["rg.svg.chart.StreamEffects"]=K.StreamEffects;K.StreamEffects.__name__=["rg","svg","chart","StreamEffects"];K.StreamEffects.getLightness=function(a,b){return null==a?b:I.parseFloat(a)};K.StreamEffects.parse=function(a){a=a.toLowerCase().split(":");switch(a.shift()){case "gradient":case "gradientv":case "gradientvert":case "gradientvertical":return K.StreamEffect.GradientVertical(K.StreamEffects.getLightness(a.pop(),
0.75));case "gradienth":case "gradienthoriz":case "gradienthorizontal":return K.StreamEffect.GradientHorizontal(K.StreamEffects.getLightness(a.pop(),0.75));default:return K.StreamEffect.NoEffect}};K.StreamGraph=function(a){K.CartesianChart.call(this,a);this.interpolator=H.LineInterpolator.Cardinal(0.6);this.gradientLightness=0.75;this.gradientStyle=1};y["rg.svg.chart.StreamGraph"]=K.StreamGraph;K.StreamGraph.__name__=["rg","svg","chart","StreamGraph"];K.StreamGraph.__super__=K.CartesianChart;K.StreamGraph.prototype=
g(K.CartesianChart.prototype,{applyGradientH:function(a){for(var b=ua.selectNode(rb.current),f=q.Hsl.toHsl(va.parse(b.style("fill").get(),"#cccccc")),g="rg_stream_gradient_v_"+K.StreamGraph.vid++,h=this.defs.append("svg:linearGradient").attr("gradientUnits").string("objectBoundingBox").attr("class").string("x").attr("id").string(g).attr("x1").string("0%").attr("x2").string("100%").attr("y1").string("0%").attr("y2").string("0%"),i=a[0].coord.x,k=a[a.length-1].coord.x-i,l=T.floatMax(a,function(a){return a.coord.y}),
m=0,p=a.length;m<p;){var r=m++,r=a[r],t=va.applyLightness(f,this.gradientLightness,r.coord.y/l);h.append("svg:stop").attr("offset").string(Math.round(1E4*((r.coord.x-i)/k))/100+"%").attr("stop-color").string(t.hex("#")).attr("stop-opacity")["float"](1)}b.attr("style").string("fill:url(#"+g+")")},applyGradientV:function(){var a=ua.selectNode(rb.current),b=va.parse(a.style("fill").get(),"#cccccc"),f="rg_stream_gradient_h_"+b.hex("");if(this.defs.select("#"+f).empty()){var g=va.applyLightness(q.Hsl.toHsl(b),
this.gradientLightness).toRgbString(),h=this.defs.append("svg:linearGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string(f).attr("x1").string("0%").attr("x2").string("0%").attr("y1").string("100%").attr("y2").string("0%").attr("spreadMethod").string("pad");h.append("svg:stop").attr("offset").string("0%").attr("stop-color").string(g).attr("stop-opacity")["float"](1);h.append("svg:stop").attr("offset").string("100%").attr("stop-color").string(b.toRgbString()).attr("stop-opacity")["float"](1)}a.attr("style").string("fill:url(#"+
f+")")},prepareData:function(){var b=this;this.defs.selectAll("linearGradient.h").remove();var f,g=(la=this.xVariable.axis,a(la,la.scale)),h=this.xVariable.min(),i=this.xVariable.max();f=function(a){return g(h,i,a)};var k=this.xVariable.type,l,m=(la=this.yVariables[0].axis,a(la,la.scale)),p=this.yVariables[0].min(),r=this.yVariables[0].max();l=function(a){return m(p,r,a)};var q=this.yVariables[0].type,t=T.floatMax(this.dps,function(a){return a.length})|0,R=this.dps.map(function(a){return ka.range(0,
t).map(function(g,h){var i=a[h];if(null==i){a:{for(var i=0,m=b.dps.length;i<m;){var id=i++;if(null!=b.dps[id][h]){i=b.dps[id][h];break a}}i=null}i={x:f(B.field(i,k)),y:0}}else i={x:f(B.field(i,k)),y:Math.max(0,l(B.field(i,q)))};return i})}),R=(new da.layout.Stack).offset(da.layout.StackOffset.Silhouette).order(da.layout.StackOrder.DefaultOrder).stack(R);this.transformedData=R.map(function(a,f){return a.map(function(a,g){return{coord:a,dp:b.dps[f][g]}})});this.stats=this.yVariables[0].stats;this.maxy=
T.floatMax(R,function(a){return T.floatMax(a,function(a){return a.y0+a.y})});this.area=(new H.Area).interpolator(this.interpolator).x(function(a){return a.coord.x*b.width}).y0(function(a){return b.height-a.coord.y0*b.height/b.maxy}).y1(function(a){return b.height-(a.coord.y+a.coord.y0)*b.height/b.maxy})},onclick:function(a,b){null!=this.click&&this.click(this.getDataAtNode(a,b).dp,this.stats)},onover:function(a,b){if(null!=this.labelDataPointOver){var f=this.getDataAtNode(a,b);this.tooltip.html(this.labelDataPointOver(f.dp,
this.stats).split("\n").join("<br>"));this.moveTooltip(f.coord.x*this.width,this.height-(f.coord.y+f.coord.y0)*this.height/this.maxy,va.extractColor(a))}},getDataAtNode:function(a,b){var f=Xd.mouse(a)[0],f=V.uninterpolatef(this.transformedData[b][0].coord.x,T.last(this.transformedData[b]).coord.x)(f/this.width);B.field(a,"__dhx_data__");return T.nearest(this.transformedData[b],f,function(a){return a.coord.x})},redraw:function(){if(null!=this.transformedData){var b=this.g.selectAll("g.group").data(this.transformedData);
b.update().select("path.line").attr("d").stringf((la=this.area,a(la,la.shape)));var f=b.enter().append("svg:g").attr("class").string("group").append("svg:path").attr("class").stringf(function(a,b){return"line fill-"+b+" stroke-"+b}).attr("d").stringf((la=this.area,a(la,la.shape))).onNode("mousemove",a(this,this.onover)).onNode("click",a(this,this.onclick));va.storeColorForSelection(f);0!=this.gradientStyle&&f.each(1==this.gradientStyle?a(this,this.applyGradientV):a(this,this.applyGradientH));b.exit().remove();
this.ready.dispatch()}},data:function(a){this.dps=a;this.prepareData();this.redraw()},setVariables:function(a,b,f,g){K.CartesianChart.prototype.setVariables.call(this,a,b,f,g)},init:function(){K.CartesianChart.prototype.init.call(this);this.defs=this.g.append("svg:defs");this.g.classed().add("stream-chart")},maxy:null,defs:null,stats:null,transformedData:null,area:null,dps:null,gradientStyle:null,gradientLightness:null,interpolator:null,__class__:K.StreamGraph});sb={RulesOrtho:function(a,b){ya.Layer.call(this,
a);this.orientation=b;this.displayAnchorLine=this.displayMajor=this.displayMinor=!0;this.g.classed().add("tickmarks")}};y["rg.svg.layer.RulesOrtho"]=sb.RulesOrtho;sb.RulesOrtho.__name__=["rg","svg","layer","RulesOrtho"];sb.RulesOrtho.__super__=ya.Layer;sb.RulesOrtho.prototype=g(ya.Layer.prototype,{tickClass:function(a){return a.get_major()?"major":null},y2Vertical:function(){return this.height},y2Horizontal:function(){return 0},x2Vertical:function(){return 0},x2Horizontal:function(){return this.width},
y1Vertical:function(){return 0},y1Horizontal:function(){return 0},x1Vertical:function(){return 0},x1Horizontal:function(){return 0},translateVertical:function(a){return"translate("+a.get_delta()*this.width+",0)"},translateHorizontal:function(a){return"translate(0,"+(this.height-a.get_delta()*this.height)+")"},t:function(a,b){return"translate("+a+","+b+")"},init:function(){this.initf();this.displayAnchorLine&&(this.g.append("svg:line").attr("class").string("anchor-line"),this.updateAnchorLine())},
initf:function(){switch(this.orientation[1]){case 1:this.translate=a(this,this.translateHorizontal);this.x1=a(this,this.x1Horizontal);this.y1=a(this,this.y1Horizontal);this.x2=a(this,this.x2Horizontal);this.y2=a(this,this.y2Horizontal);break;case 0:this.translate=a(this,this.translateVertical),this.x1=a(this,this.x1Vertical),this.y1=a(this,this.y1Vertical),this.x2=a(this,this.x2Vertical),this.y2=a(this,this.y2Vertical)}},redraw:function(){var b=this.axis.ticks(this.min,this.max,this.maxTicks()),b=
this.g.selectAll("g.rule").data(b,a(this,this.id)),f=b.enter().append("svg:g").attr("class").string("rule").attr("transform").stringf(this.translate);this.displayMinor&&f.filter(function(a){return!a.major}).append("svg:line").attr("x1").floatf(this.x1).attr("y1").floatf(this.y1).attr("x2").floatf(this.x2).attr("y2").floatf(this.y2).attr("class").stringf(a(this,this.tickClass));this.displayMajor&&f.filter(function(a){return a.major}).append("svg:line").attr("x1").floatf(this.x1).attr("y1").floatf(this.y1).attr("x2").floatf(this.x2).attr("y2").floatf(this.y2).attr("class").stringf(a(this,
this.tickClass));b.update().attr("transform").stringf(this.translate);b.exit().remove()},id:function(a){return""+I.string(a.get_value())},maxTicks:function(){var a;switch(this.orientation[1]){case 1:a=this.width;break;case 0:a=this.height}return Math.round(a/2.5)},updateAnchorLine:function(){var a=this.g.select("line.anchor-line");switch(this.orientation[1]){case 1:a.attr("x1")["float"](0).attr("y1")["float"](0).attr("x2")["float"](0).attr("y2")["float"](this.height);break;case 0:a.attr("x1")["float"](0).attr("y1")["float"](this.height).attr("x2")["float"](this.width).attr("y2")["float"](this.height)}},
update:function(a,b,f){this.axis=a;this.min=b;this.max=f;this.redraw()},resize:function(){null!=this.axis&&(this.displayAnchorLine&&this.updateAnchorLine(),this.redraw())},max:null,min:null,axis:null,y:null,x:null,y2:null,x2:null,y1:null,x1:null,translate:null,displayAnchorLine:null,displayMajor:null,displayMinor:null,orientation:null,__class__:sb.RulesOrtho});sb.TickmarksOrtho=function(a,b){ya.Layer.call(this,a);this.anchor=b;this.displayLabel=this.displayMajor=this.displayMinor=!0;this.displayAnchorLine=
!1;this.lengthMinor=2;this.lengthMajor=5;this.paddingMajor=this.paddingMinor=1;this.paddingLabel=10;this.g.classed().add("tickmarks")};y["rg.svg.layer.TickmarksOrtho"]=sb.TickmarksOrtho;sb.TickmarksOrtho.__name__=["rg","svg","layer","TickmarksOrtho"];sb.TickmarksOrtho.__super__=ya.Layer;sb.TickmarksOrtho.prototype=g(ya.Layer.prototype,{tickClass:function(a){return a.get_major()?"major":null},y2Right:function(){return 0},y2Left:function(){return 0},y2Bottom:function(a){return-(a.get_major()?this.lengthMajor+
this.paddingMajor:this.lengthMinor+this.paddingMinor)},y2Top:function(a){return a.get_major()?this.lengthMajor+this.paddingMajor:this.lengthMinor+this.paddingMinor},x2Right:function(a){return-(a.get_major()?this.lengthMajor+this.paddingMajor:this.lengthMinor+this.paddingMinor)},x2Left:function(a){return a.get_major()?this.lengthMajor+this.paddingMajor:this.lengthMinor+this.paddingMinor},x2Bottom:function(){return 0},x2Top:function(){return 0},y1Right:function(){return 0},y1Left:function(){return 0},
y1Bottom:function(a){return-(a.get_major()?this.paddingMajor:this.paddingMinor)},y1Top:function(a){return a.get_major()?this.paddingMajor:this.paddingMinor},x1Right:function(a){return-(a.get_major()?this.paddingMajor:this.paddingMinor)},x1Left:function(a){return a.get_major()?this.paddingMajor:this.paddingMinor},x1Bottom:function(){return 0},x1Top:function(){return 0},translateRight:function(a){return"translate("+this.panel.frame.width+","+(this.panel.frame.height-a.get_delta()*this.panel.frame.height)+
")"},translateLeft:function(a){return"translate(0,"+(this.panel.frame.height-a.get_delta()*this.panel.frame.height)+")"},translateBottom:function(a){return"translate("+a.get_delta()*this.panel.frame.width+","+this.panel.frame.height+")"},translateTop:function(a){return"translate("+a.get_delta()*this.panel.frame.width+",0)"},t:function(a,b){return"translate("+a+","+b+")"},init:function(){this.initf();this.displayAnchorLine&&(this.g.append("svg:line").attr("class").string("anchor-line"),this.updateAnchorLine())},
initf:function(){switch(this.anchor[1]){case 0:this.translate=a(this,this.translateTop);this.x1=a(this,this.x1Top);this.y1=a(this,this.y1Top);this.x2=a(this,this.x2Top);this.y2=a(this,this.y2Top);break;case 1:this.translate=a(this,this.translateBottom);this.x1=a(this,this.x1Bottom);this.y1=a(this,this.y1Bottom);this.x2=a(this,this.x2Bottom);this.y2=a(this,this.y2Bottom);break;case 2:this.translate=a(this,this.translateLeft);this.x1=a(this,this.x1Left);this.y1=a(this,this.y1Left);this.x2=a(this,this.x2Left);
this.y2=a(this,this.y2Left);break;case 3:this.translate=a(this,this.translateRight),this.x1=a(this,this.x1Right),this.y1=a(this,this.y1Right),this.x2=a(this,this.x2Right),this.y2=a(this,this.y2Right)}if(null==this.labelOrientation)switch(this.anchor[1]){case 0:case 1:this.labelOrientation=G.LabelOrientation.Orthogonal;break;case 2:case 3:this.labelOrientation=G.LabelOrientation.Aligned}else if(null==this.labelAnchor)switch(this.labelOrientation[1]){case 1:switch(this.anchor[1]){case 0:case 2:this.labelAnchor=
G.GridAnchor.Left;break;case 1:case 3:this.labelAnchor=G.GridAnchor.Right}break;case 2:switch(this.anchor[1]){case 0:case 2:this.labelAnchor=G.GridAnchor.Top;break;case 1:case 3:this.labelAnchor=G.GridAnchor.Bottom}}if(null==this.labelAnchor)switch(this.anchor[1]){case 0:this.labelAnchor=G.GridAnchor.Top;break;case 1:this.labelAnchor=G.GridAnchor.Bottom;break;case 2:this.labelAnchor=G.GridAnchor.Left;break;case 3:this.labelAnchor=G.GridAnchor.Right}if(null==this.labelAngle)switch(this.anchor[1]){case 0:this.labelAngle=
90;break;case 1:this.labelAngle=90;break;case 2:this.labelAngle=0;break;case 3:this.labelAngle=0}},createLabel:function(a){var b=B.field(a,"__dhx_data__");if(b.get_major()){a=new G.Label(ua.selectNode(a),!1,!1,!1);a.set_anchor(this.labelAnchor);a.set_orientation(this.labelOrientation);var f=this.paddingLabel;a.set_text(null==this.tickLabel?b.get_label():this.tickLabel(b.get_value()));switch(this.anchor[1]){case 0:a.place(0,f,this.labelAngle);break;case 1:a.place(0,-f,this.labelAngle);break;case 2:a.place(f,
0,this.labelAngle);break;case 3:a.place(-f,0,this.labelAngle)}var g;switch(this.anchor[1]){case 0:case 1:g=a.getSize().height+f;break;case 2:case 3:g=a.getSize().width+f}b=g;b>this.desiredSize&&(this.desiredSize=b)}},redraw:function(){this.desiredSize=Math.max(this.paddingMinor+this.lengthMinor,this.paddingMajor+this.lengthMajor);var b=this.axis.ticks(this.min,this.max,this.maxTicks()),b=this.g.selectAll("g.tick").data(b,a(this,this.id)),f=b.enter().append("svg:g").attr("class").string("tick").attr("transform").stringf(this.translate);
this.displayMinor&&f.filter(function(a){return!a.major}).append("svg:line").attr("x1").floatf(this.x1).attr("y1").floatf(this.y1).attr("x2").floatf(this.x2).attr("y2").floatf(this.y2).attr("class").stringf(a(this,this.tickClass));this.displayMajor&&f.filter(function(a){return a.major}).append("svg:line").attr("x1").floatf(this.x1).attr("y1").floatf(this.y1).attr("x2").floatf(this.x2).attr("y2").floatf(this.y2).attr("class").stringf(a(this,this.tickClass));this.displayLabel&&f.eachNode(a(this,this.createLabel));
b.update().attr("transform").stringf(this.translate);b.exit().remove()},id:function(a){return""+I.string(a.get_value())},maxTicks:function(){var a;switch(this.anchor[1]){case 2:case 3:a=this.height;break;case 0:case 1:a=this.width}return Math.round(a/2.5)},updateAnchorLine:function(){var a=this.g.select("line.anchor-line");switch(this.anchor[1]){case 0:a.attr("x1")["float"](0).attr("y1")["float"](0).attr("x2")["float"](this.panel.frame.width).attr("y2")["float"](0);break;case 1:a.attr("x1")["float"](0).attr("y1")["float"](this.panel.frame.height).attr("x2")["float"](this.panel.frame.width).attr("y2")["float"](this.panel.frame.height);
break;case 2:a.attr("x1")["float"](0).attr("y1")["float"](0).attr("x2")["float"](0).attr("y2")["float"](this.panel.frame.height);break;case 3:a.attr("x1")["float"](this.panel.frame.width).attr("y1")["float"](0).attr("x2")["float"](this.panel.frame.width).attr("y2")["float"](this.panel.frame.height)}},update:function(a,b,f){this.axis=a;this.min=b;this.max=f;this.redraw()},resize:function(){null!=this.axis&&(this.displayAnchorLine&&this.updateAnchorLine(),this.redraw())},max:null,min:null,axis:null,
y:null,x:null,y2:null,x2:null,y1:null,x1:null,translate:null,tickLabel:null,desiredSize:null,labelAngle:null,labelAnchor:null,labelOrientation:null,paddingLabel:null,paddingMajor:null,paddingMinor:null,lengthMajor:null,lengthMinor:null,displayAnchorLine:null,displayLabel:null,displayMajor:null,displayMinor:null,anchor:null,__class__:sb.TickmarksOrtho});sb.Title=function(a,b,f,g,h,i,k){null==k&&(k=!1);null==i&&(i=!1);null==h&&(h="title");null==g&&(g=1);ya.Layer.call(this,a);this.addClass(h);this.group=
this.g.append("svg:g");this.label=new G.Label(this.group,!1,i,k);this.label.set_orientation(G.LabelOrientation.Orthogonal);this.set_anchor(f);this.set_padding(g);this.set_text(b);this.resize()};y["rg.svg.layer.Title"]=sb.Title;sb.Title.__name__=["rg","svg","layer","Title"];sb.Title.__super__=ya.Layer;sb.Title.prototype=g(ya.Layer.prototype,{set_padding:function(a){this.padding=a;switch(this.anchor[1]){case 0:this.label.place(0,0,90);break;case 1:this.label.place(0,0,90);break;case 2:this.label.place(0,
0,180);break;case 3:this.label.place(0,0,0)}return a},set_anchor:function(a){switch((this.anchor=a)[1]){case 0:this.label.set_anchor(G.GridAnchor.Top);break;case 1:this.label.set_anchor(G.GridAnchor.Bottom);break;case 2:this.label.set_anchor(G.GridAnchor.Bottom);break;case 3:this.label.set_anchor(G.GridAnchor.Bottom)}return a},set_text:function(a){return this.label.set_text(a)},get_text:function(){return this.label.text},resize:function(){if(!(null==this.anchor||null==this.width||null==this.padding))switch(this.anchor[1]){case 0:this.group.attr("transform").string("translate("+
this.width/2+","+this.padding+")");break;case 3:this.group.attr("transform").string("translate("+(this.width-this.padding)+","+this.height/2+")");break;case 2:this.group.attr("transform").string("translate("+this.padding+","+this.height/2+")");break;case 1:this.group.attr("transform").string("translate("+this.width/2+","+(this.height-this.padding)+")")}},idealHeight:function(){var a=this.label.getSize();return Math.round(function(b){var f;switch(b.anchor[1]){case 2:case 3:f=a.width+b.padding;break;
case 0:case 1:f=a.height+b.padding}return f}(this))},group:null,label:null,padding:null,anchor:null,__class__:sb.Title,__properties__:g(ya.Layer.prototype.__properties__,{set_text:"set_text",get_text:"get_text",set_anchor:"set_anchor",set_padding:"set_padding"})});ya.Panel=function(b){this.frame=b;b.change=a(this,this.reframe);this._layers=[]};y["rg.svg.panel.Panel"]=ya.Panel;ya.Panel.__name__=["rg","svg","panel","Panel"];ya.Panel.prototype={reframe:function(){this.g.attr("transform").string("translate("+
this.frame.x+","+this.frame.y+")");for(var a,b=0,f=this._layers.length;b<f;)a=this._layers[b++],a._resize()},init:function(a){this.g=a.append("svg:g").attr("class").string("panel").attr("transform").string("translate("+this.frame.x+","+this.frame.y+")")},setParent:function(a){null!=this.g&&this.g.remove();this.parent=a;null!=a&&this.init(a.g)},removeLayer:function(a){M.remove(this._layers,a)},addLayer:function(a){M.remove(this._layers,a);this._layers.push(a)},toString:function(){return ea.getClassName(ea.getClass(this)).split(".").pop()},
_layers:null,parent:null,g:null,frame:null,__class__:ya.Panel};ya.Container=function(a,b){ya.Panel.call(this,a);this.stack=new C(a.width,a.height,b);this.panels=[]};y["rg.svg.panel.Container"]=ya.Container;ya.Container.__name__=["rg","svg","panel","Container"];ya.Container.__super__=ya.Panel;ya.Container.prototype=g(ya.Panel.prototype,{reframe:function(){ya.Panel.prototype.reframe.call(this);this.stack.setSize(this.frame.width,this.frame.height);this.stack.reflow()},createContainerAt:function(a,b,
f){b=new ya.Container(new A(b),f);this.insertPanel(a,b);return b},createPanelAt:function(a,b){var f=new ya.Panel(new A(b));this.insertPanel(a,f);return f},createContainer:function(a,b){var f=new ya.Container(new A(a),b);this.addPanel(f);return f},createPanel:function(a){a=new ya.Panel(new A(a));this.addPanel(a);return a},removePanel:function(a){if(!M.remove(this.panels,a))return this;this.stack.removeChild(X.__cast(a.frame,A));a.setParent(null);return this},addPanels:function(a){for(var b=[],a=h(a)();a.hasNext();){var f=
a.next();null!=f&&(null!=f.parent&&f.parent.removePanel(f),this.panels.push(f),f.setParent(this),b.push(X.__cast(f.frame,A)))}this.stack.addItems(b);return this},addPanel:function(a){return this.addPanels([a])},insertPanel:function(a,b){if(null==b)return this;if(a>=this.stack.get_length())return this.addPanel(b);0>a&&(a=0);null!=b.parent&&b.parent.removePanel(b);this.panels.splice(a,0,b);b.setParent(this);this.stack.insertItem(a,X.__cast(b.frame,A));return this},panels:null,stack:null,__class__:ya.Container});
ya.Panels=function(){};y["rg.svg.panel.Panels"]=ya.Panels;ya.Panels.__name__=["rg","svg","panel","Panels"];ya.Panels.rootSize=function(a){for(var b=a.parent;null!=b;)var f=b,b=a.parent,a=f;return{width:a.frame.width,height:a.frame.height}};ya.Panels.absolutePos=function(a){for(var b=a,f=0,g=0;null!=b;)a=b,f+=b.frame.x,g+=b.frame.y,b=b.parent;var h=ya.Panels.htmlContainer(a),a=Md.getLeft(),b=Md.getTop();if(null==h)return{x:a,y:b};h=h.getBoundingClientRect();return{x:h.left+f+a,y:h.top+g+b}};ya.Panels.svgContainer=
function(a){a=a.g.node();do a=a.ownerSVGElement;while(null!=a&&null!=B.field(a.ownerSVGElement,"ownerSVGElement"));return null==a?null:a};ya.Panels.htmlContainer=function(a){a=ya.Panels.svgContainer(a);return null==a?null:a.parentNode};ya.Panels.boundingBox=function(a,b){for(var f=a,g=0,h=0;b!=f;)g+=f.frame.x,h+=f.frame.y,f=f.parent;return{x:g,y:h,width:a.frame.width,height:a.frame.height}};ya.Panels.ancestorBoundingBox=function(a,b){for(var f=a,g=0,h=0,i=0,k=0;b!=f;)g+=f.frame.x,h+=f.frame.y,i=f.frame.width,
k=f.frame.height,f=f.parent;return{x:-g,y:-h,width:i,height:k}};ya.Space=function(a,b,f){this.panel=new A(z.Fill(0,0));ya.Container.call(this,this.panel,L.Vertical);this.init(this.svg=f.append("svg:svg").attr("xmlns").string("http://www.w3.org/2000/svg"));this.resize(a,b)};y["rg.svg.panel.Space"]=ya.Space;ya.Space.__name__=["rg","svg","panel","Space"];ya.Space.__super__=ya.Container;ya.Space.prototype=g(ya.Container.prototype,{resize:function(a,b){this.panel.width==a&&this.panel.height==b||(this.svg.attr("width")["float"](a).attr("height")["float"](b),
this.panel.set_layout(0,0,a,b))},svg:null,panel:null,__class__:ya.Space});ob={RGCss:function(){}};y["rg.svg.util.RGCss"]=ob.RGCss;ob.RGCss.__name__=["rg","svg","util","RGCss"];ob.RGCss.cssSources=function(){var a=[];ua.selectAll('link[rel="stylesheet"]').eachNode(function(b){a.push(b.href)});return a};ob.RGCss.colorsInCss=function(){if(null!=ob.RGCss.cache)return ob.RGCss.cache;var a=ua.select("body").append("svg:svg").attr("class").string("rg"),b=ob.RGCss.createBlock(a,0).style("fill").get();ob.RGCss.cache=
[b];for(var f=1;1E3>f;){var g=f++,g=ob.RGCss.createBlock(a,g).style("fill").get();if(b==g)break;else ob.RGCss.cache.push(g)}a.remove();return ob.RGCss.cache};ob.RGCss.numberOfColorsInCss=function(){return ob.RGCss.colorsInCss().length};ob.RGCss.createBlock=function(a,b){return a.append("svg:rect").attr("class").string("fill-"+b)};ob.SymbolCache=function(){this.c=new La;this.r=0};y["rg.svg.util.SymbolCache"]=ob.SymbolCache;ob.SymbolCache.__name__=["rg","svg","util","SymbolCache"];ob.SymbolCache.prototype=
{stats:function(){return{cachedSymbols:ga.array(this.c.iterator()).length}},get:function(a,b){null==b&&(b=100);var f=a+":"+b,g=this.c.get(f);null==g&&(g=B.field(H.Symbol,a)(b),this.c.set(f,g));return g},r:null,c:null,__class__:ob.SymbolCache};G={Balloon:function(a,b){null==b&&(b=!0);if(b){for(var f=a.node();null!=f&&"svg"!=f.nodeName;)f=f.parentNode;this.container=null==f?a:ua.selectNode(f)}else this.container=a;this.visible=!0;this.duration=350;this.minwidth=30;this.set_preferredSide(2);this.ease=
S.Ease.mode(S.EaseMode.EaseOut,S.Equations.cubic);this.set_roundedCorner(5);this.paddingHorizontal=3.5;this.paddingVertical=1.5;this.transition_id=0;this.balloon=this.container.append("svg:g").attr("pointer-events").string("none").attr("class").string("balloon").attr("transform").string("translate("+(this.x=0)+", "+(this.y=0)+")");this.frame=this.balloon.append("svg:g").attr("transform").string("translate(0, 0)").attr("class").string("frame");this.frame.append("svg:path").attr("class").string("shadow").attr("transform").string("translate(1, 1)");
this.connectorShapeV=H.Diagonal.forObject();this.connectorShapeH=H.Diagonal.forObject().projection(function(a){return[a[1],a[0]]});this.connector=this.balloon.append("svg:path").attr("class").string("balloon-connector").style("fill").string("none").style("display").string("none").attr("transform").string("translate(0, 0)");this.frame.append("svg:path").attr("class").string("bg");this.labelsContainer=this.frame.append("svg:g").attr("class").string("labels");this.labels=[];f=this.createLabel(0);f.set_text("HELLO");
this.set_lineHeight(f.getSize().height);f.destroy()}};y["rg.svg.widget.Balloon"]=G.Balloon;G.Balloon.__name__=["rg","svg","widget","Balloon"];G.Balloon.prototype={redraw:function(){var a=this;if(!(null==this.text||0==this.text.length)){for(var b=this.boxWidth=0,f=0,g=this.labels;f<g.length;)if(b=g[f],++f,(b=Math.ceil(b.getSize().width))>this.boxWidth)this.boxWidth=b;if(0==b){var h=this.text;Ib.delay(function(){a.set_text(h)},15)}else this.boxWidth+=2*this.paddingHorizontal,this.boxHeight=this.lineHeight*
this.labels.length+2*this.paddingVertical,f=this.frame.selectAll(".bg"),g=f.style("stroke-width").getFloat(),Math.isNaN(g)&&(g=0),this.labelsContainer.attr("transform").string("translate("+this.boxWidth/2+","+(g+this.paddingVertical)+")"),f.transition().ease(this.ease).delay(null,this.duration)}},hide:function(a){null==a&&(a=!1);var b=this;this.visible&&(this.visible=!1,a?this.balloon.transition().attr("opacity")["float"](0).endNode(function(){b.balloon.style("display").string("none")}):(this.balloon.attr("opacity")["float"](0),
this.balloon.style("display").string("none")))},show:function(a){if(!this.visible)if(this.visible=!0,this.balloon.style("display").string("block"),a)this.balloon.transition().attr("opacity")["float"](1);else this.balloon.attr("opacity")["float"](1)},_moveTo:function(a,b){for(var f=this.get_boundingBox(),g=f.x,h=f.x+f.width,i=f.y,k=f.y+f.height,l=2*this.roundedCorner,m=f=0,p=0,r=0,q=this.preferredSide,t=1;0<t&&5>t;){if(a>=h-l)if(b<=i+l){a-h<i-b?(p=-this.boxWidth+h-a,r=i-b+this.roundedCorner,q=0,f=
this.boxWidth-4*this.roundedCorner):(p=-this.boxWidth+h-a-this.roundedCorner,r=i-b,q=1,f=this.roundedCorner);m=1;break}else{if(b>=k-l){a-h<b-k?(p=-this.boxWidth+h-a,r=k-b-this.boxHeight-this.roundedCorner,q=2,f=this.boxWidth-4*this.roundedCorner):(p=-this.boxWidth+h-a-this.roundedCorner,r=k-b-this.boxHeight,q=1,f=this.boxHeight-3*this.roundedCorner);m=1;break}}else if(a<=g+l)if(b<=i+l){g-a<i-b?(p=g-a,r=i-b+this.roundedCorner,f=q=0):(p=g-a+this.roundedCorner,r=i-b,q=3,f=this.roundedCorner);m=1;break}else if(b>=
k-l){g-a<b-k?(p=g-a,r=k-b-this.boxHeight-this.roundedCorner,q=2,f=0):(p=g-a+this.roundedCorner,r=k-b-this.boxHeight,q=3,f=this.boxHeight-3*this.roundedCorner);m=1;break}switch(q){case 0:if(b+this.boxHeight+this.roundedCorner>=k){q=2;t++;continue}else if(a<=g+l){q=3;t++;continue}else if(a>=h-l){q=1;t++;continue}p=-this.boxWidth/2;r=this.roundedCorner;f=this.boxWidth/2-2*this.roundedCorner;a-this.boxWidth/2<=g?(t=g-a+this.boxWidth/2,f=Math.max(0,f-t),p+=t):a+this.boxWidth/2>=h&&(t=h-a-this.boxWidth/
2,f=Math.min(this.boxWidth-3*this.roundedCorner,f-t),p+=t);b<i&&(m=1,r=i-b+this.roundedCorner);break;case 1:if(a-this.boxWidth-this.roundedCorner<=g){q=3;t++;continue}else if(b<=i+l){q=2;t++;continue}else if(b>=k-l){q=0;t++;continue}p=-this.boxWidth-this.roundedCorner;r=-this.boxHeight/2;f=(this.boxHeight-2*this.roundedCorner)/2;b-this.boxHeight/2<=i?(t=i-b+this.boxHeight/2,f=Math.max(0,f-t),r+=t):b+this.boxHeight/2>=k&&(t=k-b-this.boxHeight/2,f=Math.min(this.boxHeight-3*this.roundedCorner,f-t),r+=
t);a>h&&(m=2,p=h-a-this.boxWidth-this.roundedCorner);break;case 2:if(b-this.boxHeight-this.roundedCorner<=i){q=0;t++;continue}else if(a<=g+l){q=3;t++;continue}else if(a>=h-l){q=1;t++;continue}p=-this.boxWidth/2;r=-this.boxHeight-this.roundedCorner;f=this.boxWidth/2-2*this.roundedCorner;a-this.boxWidth/2<=g?(t=g-a+this.boxWidth/2,f=Math.max(this.roundedCorner,f-t),p+=t):a+this.boxWidth/2>=h&&(t=h-a-this.boxWidth/2,f=Math.min(this.boxWidth-3*this.roundedCorner,f-t),p+=t);b>k&&(m=1,r=k-b-this.boxHeight-
this.roundedCorner);break;case 3:if(a+this.boxWidth+this.roundedCorner>=h){q=1;t++;continue}else if(b<=i+l){q=2;t++;continue}else if(b>=k-l){q=0;t++;continue}p=this.roundedCorner;r=-this.boxHeight/2;f=(this.boxHeight-2*this.roundedCorner)/2;b-this.boxHeight/2<=i?(t=i-b+this.boxHeight/2,f=Math.max(this.roundedCorner,f-t),r+=t):b+this.boxHeight/2>=k&&(t=k-b-this.boxHeight/2,f=Math.min(this.boxHeight-3*this.roundedCorner,f-t),r+=t);a<g&&(m=2,p=g-a+this.roundedCorner)}t=0}g=null;if(0==m)this.connector.style("display").string("none");
else switch(this.connector.style("display").string("block"),g={x0:1,y0:1,x1:1,y1:1},q){case 0:g.x1=p+1+f+2*this.roundedCorner;g.y1=r+1-this.roundedCorner;break;case 1:g.y1=p+1+this.boxWidth+this.roundedCorner;g.x1=r+1+f+this.roundedCorner;break;case 2:g.x1=p+1+f+2*this.roundedCorner;g.y1=r+1+this.boxHeight+this.roundedCorner;break;case 3:g.y1=p+1+-this.roundedCorner,g.x1=r+1+f+this.roundedCorner}this.balloon.attr("transform").string("translate("+(this.x=a)+", "+(this.y=b)+")");this.frame.attr("transform").string("translate("+
p+", "+r+")").selectAll("path").attr("d").string(G.BalloonShape.shape(this.boxWidth,this.boxHeight,this.roundedCorner,this.roundedCorner,q,f));0!=m&&this.connector.attr("d").string(0==q%2?this.connectorShapeV.diagonal(g):this.connectorShapeH.diagonal(g))},moveTo:function(b,f,g){null==g&&(g=!0);var h=this;if(g){S.Equations.elasticf();var i=++this.transition_id,k=V.interpolatef(this.x,b,this.ease),l=V.interpolatef(this.y,f,this.ease);vb.timer(function(a){if(i!=h.transition_id)return!0;if(a>h.duration)return h._moveTo(b,
f),!0;h._moveTo(k(a/h.duration),l(a/h.duration));return!1},0)}else 0==this.boxWidth?Ib.delay(function(a,b,f){return function(){return a(b,f)}}(a(this,this._moveTo),b,f),15):this._moveTo(b,f)},transition_id:null,get_boundingBox:function(){if(null==this.boundingBox)try{this.set_boundingBox(this.container.node().getBBox())}catch(a){return{width:0,height:0,x:0,y:0}}return this.boundingBox},set_boundingBox:function(a){this.boundingBox=a;this.redraw();return a},set_roundedCorner:function(a){this.roundedCorner=
a;this.redraw();return a},setPadding:function(a,b){this.paddingHorizontal=a;this.paddingVertical=b;this.redraw()},set_lineHeight:function(a){this.lineHeight=a;this.redraw();return a},set_text:function(a){for(;this.labels.length>a.length;)this.labels.pop().destroy();for(var b=this.labels.length,f=a.length;b<f;){var g=b++;this.labels[g]=this.createLabel(g)}b=0;for(f=a.length;b<f;)g=b++,this.labels[g].set_text(a[g]);this.text=a;this.redraw();return a},set_preferredSide:function(a){this.preferredSide=
ka.clamp(a,0,3);this.redraw();return a},createLabel:function(a){var b=new G.Label(this.labelsContainer,!0,!1,!1);b.addClass("line-"+a);b.set_anchor(G.GridAnchor.Top);b.set_orientation(G.LabelOrientation.Orthogonal);b.place(0,a*this.lineHeight,90);return b},removeClass:function(a){this.frame.select("path.bg").classed().remove(a)},addClass:function(a){this.frame.select("path.bg").classed().add(a)},boundingBox:null,connectorShapeH:null,connectorShapeV:null,ease:null,duration:null,connector:null,labelsContainer:null,
frame:null,balloon:null,container:null,labels:null,minwidth:null,preferredSide:null,paddingVertical:null,paddingHorizontal:null,roundedCorner:null,lineHeight:null,visible:null,boxHeight:null,boxWidth:null,y:null,x:null,text:null,__class__:G.Balloon,__properties__:{set_text:"set_text",set_lineHeight:"set_lineHeight",set_roundedCorner:"set_roundedCorner",set_preferredSide:"set_preferredSide",set_boundingBox:"set_boundingBox",get_boundingBox:"get_boundingBox"}};G.BalloonShape=function(){};y["rg.svg.widget.BalloonShape"]=
G.BalloonShape;G.BalloonShape.__name__=["rg","svg","widget","BalloonShape"];G.BalloonShape.shape=function(a,b,f,g,h,i){a-=2*f;b-=2*f;g="M"+f+",0";g=(0==h?g+("h"+i)+("a"+f+","+f+",0,0,0,"+f+","+-f)+("a"+f+","+f+",0,0,0,"+f+","+f)+("h"+(a-(i+2*f))):g+("h"+a))+("a"+f+","+f+",0,0,1,"+f+","+f);g=1==h?g+("v"+(i-f))+("a"+f+","+f+",0,0,0,"+f+","+f)+("a"+f+","+f+",0,0,0,"+-f+","+f)+("v"+(b-(i+f))):g+("v"+b);g+="a"+f+","+f+",0,0,1,"+-f+","+f;g=2==h?g+("h"+-(a-(i+2*f)))+("a"+f+","+f+",0,0,0,"+-f+","+f)+("a"+
f+","+f+",0,0,0,"+-f+","+-f)+("h"+-i):g+("h"+-a);g+="a"+f+","+f+",0,0,1,"+-f+","+-f;g=3==h?g+("v"+-(b-(i+f)))+("a"+f+","+f+",0,0,0,"+-f+","+-f)+("a"+f+","+f+",0,0,0,"+f+","+-f)+("v"+-(i-f)):g+("v"+-b);return g+("a"+f+","+f+",0,0,1,"+f+","+-f)+"Z"};G.DiagonalArea=function(a,b,f){this.g=a.append("svg:g").attr("class").string("diagonal");this.diagonal=H.Diagonal.forArray().projection(function(a){return[a[1],a[0]]});this.area=this.g.append("svg:path").attr("class").string("diagonal-fill"+(null==b?"":
" "+b));this.before=this.g.append("svg:path").attr("class").string("diagonal-stroke before"+(null==f?"":" "+f));this.after=this.g.append("svg:path").attr("class").string("diagonal-stroke after"+(null==f?"":" "+f))};y["rg.svg.widget.DiagonalArea"]=G.DiagonalArea;G.DiagonalArea.__name__=["rg","svg","widget","DiagonalArea"];G.DiagonalArea.prototype={update:function(a,b,f,g,h,i){var k=this.diagonal.diagonal([b,a,g,f]),a=this.diagonal.diagonal([g+i,f,b+h,a]),b=k+"L"+M.substr(a,1,null)+"z";this.before.attr("d").string(k);
this.after.attr("d").string(a);this.area.attr("d").string(b)},addClass:function(a){this.g.classed().add(a)},after:null,before:null,area:null,diagonal:null,g:null,__class__:G.DiagonalArea};G.ElbowArea=function(a,b,f){this.g=a.append("svg:g").attr("class").string("elbow");this.area=this.g.append("svg:path").attr("class").string("elbow-fill"+(null==b?"":" "+b));this.outer=this.g.append("svg:path").attr("class").string("elbow-stroke outer"+(null==f?"":" "+f));this.inner=this.g.append("svg:path").attr("class").string("elbow-stroke inner"+
(null==f?"":" "+f))};y["rg.svg.widget.ElbowArea"]=G.ElbowArea;G.ElbowArea.__name__=["rg","svg","widget","ElbowArea"];G.ElbowArea.prototype={update:function(a,b,f,g,h,i,k,l){null==l&&(l=10);null==k&&(k=0);null==i&&(i=16);null==h&&(h=3);if(0!=b){var m="",p="",r=0>b?Math.max(i,b):Math.min(i,b);switch(a[1]){case 0:m="M"+(k+f+h)+","+(g+h+l)+"L"+(k+f+h)+","+(g+h)+"A"+Math.abs(h)+","+Math.abs(h)+" 0 0,0 "+(k+f)+","+g+"L"+f+","+g;p="M"+f+","+(g-b)+"L"+(k+f)+","+(g-b)+"A"+Math.abs(r)+","+Math.abs(r)+" 0 0,1 "+
(k+f+r)+","+(g-b+r)+"L"+(k+f+r)+","+(g+l+h);break;case 3:this.update(G.Orientation.RightBottom,-b,f,g,-h,-i,-k,-l);return}a=p+"L"+M.substr(m,1,null)+"z";this.inner.attr("d").string(m);this.outer.attr("d").string(p);this.area.attr("d").string(a)}},addClass:function(a){this.g.classed().add(a)},inner:null,outer:null,area:null,g:null,__class__:G.ElbowArea};G.Orientation={__ename__:["rg","svg","widget","Orientation"],__constructs__:"RightBottom LeftBottom RightTop LeftTop BottomRight BottomLeft TopRight TopLeft".split(" ")};
G.Orientation.RightBottom=["RightBottom",0];G.Orientation.RightBottom.toString=N;G.Orientation.RightBottom.__enum__=G.Orientation;G.Orientation.LeftBottom=["LeftBottom",1];G.Orientation.LeftBottom.toString=N;G.Orientation.LeftBottom.__enum__=G.Orientation;G.Orientation.RightTop=["RightTop",2];G.Orientation.RightTop.toString=N;G.Orientation.RightTop.__enum__=G.Orientation;G.Orientation.LeftTop=["LeftTop",3];G.Orientation.LeftTop.toString=N;G.Orientation.LeftTop.__enum__=G.Orientation;G.Orientation.BottomRight=
["BottomRight",4];G.Orientation.BottomRight.toString=N;G.Orientation.BottomRight.__enum__=G.Orientation;G.Orientation.BottomLeft=["BottomLeft",5];G.Orientation.BottomLeft.toString=N;G.Orientation.BottomLeft.__enum__=G.Orientation;G.Orientation.TopRight=["TopRight",6];G.Orientation.TopRight.toString=N;G.Orientation.TopRight.__enum__=G.Orientation;G.Orientation.TopLeft=["TopLeft",7];G.Orientation.TopLeft.toString=N;G.Orientation.TopLeft.__enum__=G.Orientation;G.GridAnchor={__ename__:["rg","svg","widget",
"GridAnchor"],__constructs__:"TopLeft Top TopRight Left Center Right BottomLeft Bottom BottomRight".split(" ")};G.GridAnchor.TopLeft=["TopLeft",0];G.GridAnchor.TopLeft.toString=N;G.GridAnchor.TopLeft.__enum__=G.GridAnchor;G.GridAnchor.Top=["Top",1];G.GridAnchor.Top.toString=N;G.GridAnchor.Top.__enum__=G.GridAnchor;G.GridAnchor.TopRight=["TopRight",2];G.GridAnchor.TopRight.toString=N;G.GridAnchor.TopRight.__enum__=G.GridAnchor;G.GridAnchor.Left=["Left",3];G.GridAnchor.Left.toString=N;G.GridAnchor.Left.__enum__=
G.GridAnchor;G.GridAnchor.Center=["Center",4];G.GridAnchor.Center.toString=N;G.GridAnchor.Center.__enum__=G.GridAnchor;G.GridAnchor.Right=["Right",5];G.GridAnchor.Right.toString=N;G.GridAnchor.Right.__enum__=G.GridAnchor;G.GridAnchor.BottomLeft=["BottomLeft",6];G.GridAnchor.BottomLeft.toString=N;G.GridAnchor.BottomLeft.__enum__=G.GridAnchor;G.GridAnchor.Bottom=["Bottom",7];G.GridAnchor.Bottom.toString=N;G.GridAnchor.Bottom.__enum__=G.GridAnchor;G.GridAnchor.BottomRight=["BottomRight",8];G.GridAnchor.BottomRight.toString=
N;G.GridAnchor.BottomRight.__enum__=G.GridAnchor;G.GridAnchors=function(){};y["rg.svg.widget.GridAnchors"]=G.GridAnchors;G.GridAnchors.__name__=["rg","svg","widget","GridAnchors"];G.GridAnchors.parse=function(a){switch(a.toLowerCase()){case "topleft":a=G.GridAnchor.TopLeft;break;case "top":a=G.GridAnchor.Top;break;case "topright":a=G.GridAnchor.TopRight;break;case "left":a=G.GridAnchor.Left;break;case "center":a=G.GridAnchor.Center;break;case "right":a=G.GridAnchor.Right;break;case "bottomleft":a=
G.GridAnchor.BottomLeft;break;case "bottom":a=G.GridAnchor.Bottom;break;case "bottomright":a=G.GridAnchor.BottomRight;break;default:a=G.GridAnchor.Center}return a};G.HookConnector=function(a,b){this.g=a.append("svg:g").attr("class").string("hook");this.line=this.g.append("svg:path").attr("class").string("hook-stroke line"+(null==b?"":" "+b))};y["rg.svg.widget.HookConnector"]=G.HookConnector;G.HookConnector.__name__=["rg","svg","widget","HookConnector"];G.HookConnector.lineTo=function(a,b){return"L"+
a+","+b};G.HookConnector.quarterTo=function(a,b,f){return"A"+Math.abs(f)+","+Math.abs(f)+" 0 0,"+(0>f?0:1)+" "+a+","+b};G.HookConnector.prototype={createPath2:function(a,b,f,g,h,i){var k="M"+a+","+b;i>b?(k+="A"+Math.abs(f)+","+Math.abs(f)+" 0 0,1 "+(a+f)+","+(b+f),k=k+("L"+(f+a)+","+(i-f))+("A"+Math.abs(f)+","+Math.abs(f)+" 0 0,1 "+a+","+i)):(k+="A"+Math.abs(f)+","+Math.abs(f)+" 0 0,0 "+(a+f)+","+(b-f),k=k+("L"+(f+a)+","+(i+f))+("A"+Math.abs(f)+","+Math.abs(f)+" 0 0,0 "+a+","+i));k+="L"+g+","+i;i>
h?(k+="A"+Math.abs(f)+","+Math.abs(f)+" 0 0,1 "+(g-f)+","+(i-f),k=k+("L"+(g-f)+","+(h+f))+("A"+Math.abs(f)+","+Math.abs(f)+" 0 0,1 "+g+","+h)):(k+="A"+Math.abs(f)+","+Math.abs(f)+" 0 0,0 "+(g-f)+","+(i+f),k=k+("L"+(g-f)+","+(h-f))+("A"+Math.abs(f)+","+Math.abs(f)+" 0 0,0 "+g+","+h));return k},createPath:function(a,b,f,g,h,i,k,l,m){var p;p="M"+a+","+b+G.HookConnector.lineTo(a+i-l,b);p+=G.HookConnector.quarterTo(a+i,b+m,l);p+=G.HookConnector.lineTo(a+i,h-m);p+=G.HookConnector.quarterTo(a+i-l,h,l);p+=
G.HookConnector.lineTo(f-k+l,h);p+=G.HookConnector.quarterTo(f-k,h-m,l);p+=G.HookConnector.lineTo(f-k,g+m);p+=G.HookConnector.quarterTo(f-k+l,g,l);return p+G.HookConnector.lineTo(f,g)},update:function(a,b,f,g,h,i,k){a=this.createPath(a,b,f,g,h,i,k,5,5);this.line.attr("d").string(a)},addClass:function(a){this.g.classed().add(a)},line:null,g:null,__class__:G.HookConnector};G.HookConnectorArea=function(a,b,f){this.g=a.append("svg:g").attr("class").string("hook-area");this.area=this.g.append("svg:path").attr("class").string("hook-area-fill"+
(null==b?"":" "+b));this.upper=this.g.append("svg:path").attr("class").string("hook-area-stroke upper"+(null==f?"":" "+f));this.lower=this.g.append("svg:path").attr("class").string("hook-area-stroke lower"+(null==f?"":" "+f))};y["rg.svg.widget.HookConnectorArea"]=G.HookConnectorArea;G.HookConnectorArea.__name__=["rg","svg","widget","HookConnectorArea"];G.HookConnectorArea.lineTo=function(a,b){return"L"+a+","+b};G.HookConnectorArea.quarterTo=function(a,b,f){return"A"+Math.abs(f)+","+Math.abs(f)+" 0 0,"+
(0>f?0:1)+" "+a+","+b};G.HookConnectorArea.prototype={createPath2:function(a,b,f,g,h,i){var k="M"+a+","+b;i>b?(k+="A"+Math.abs(f)+","+Math.abs(f)+" 0 0,1 "+(a+f)+","+(b+f),k=k+("L"+(f+a)+","+(i-f))+("A"+Math.abs(f)+","+Math.abs(f)+" 0 0,1 "+a+","+i)):(k+="A"+Math.abs(f)+","+Math.abs(f)+" 0 0,0 "+(a+f)+","+(b-f),k=k+("L"+(f+a)+","+(i+f))+("A"+Math.abs(f)+","+Math.abs(f)+" 0 0,0 "+a+","+i));k+="L"+g+","+i;i>h?(k+="A"+Math.abs(f)+","+Math.abs(f)+" 0 0,1 "+(g-f)+","+(i-f),k=k+("L"+(g-f)+","+(h+f))+("A"+
Math.abs(f)+","+Math.abs(f)+" 0 0,1 "+g+","+h)):(k+="A"+Math.abs(f)+","+Math.abs(f)+" 0 0,0 "+(g-f)+","+(i+f),k=k+("L"+(g-f)+","+(h-f))+("A"+Math.abs(f)+","+Math.abs(f)+" 0 0,0 "+g+","+h));return k},createPath:function(a,b,f,g,h,i,k,l,m){var p;p="M"+a+","+b+G.HookConnectorArea.lineTo(a+i-l,b);p+=G.HookConnectorArea.quarterTo(a+i,b+m,l);p+=G.HookConnectorArea.lineTo(a+i,h-m);p+=G.HookConnectorArea.quarterTo(a+i-l,h,l);p+=G.HookConnectorArea.lineTo(f-k+l,h);p+=G.HookConnectorArea.quarterTo(f-k,h-m,
l);p+=G.HookConnectorArea.lineTo(f-k,g+m);p+=G.HookConnectorArea.quarterTo(f-k+l,g,l);return p+G.HookConnectorArea.lineTo(f,g)},update:function(a,b,f,g,h,i,k,l){var m=Math.min(5,h),p=this.createPath(a,b,f,g,b>i?i:i+h,k+h,l+h,h,h),a=this.createPath(f,g+h,a,b+h,b>i?i-h:i,-l,-k,-m,m);this.upper.attr("d").string(p);this.lower.attr("d").string(a);this.area.attr("d").string(p+"L"+M.substr(a,1,null)+"z")},addClass:function(a){this.g.classed().add(a)},lower:null,upper:null,area:null,g:null,__class__:G.HookConnectorArea};
G.Label=function(a,b,f,g){null==b&&(b=!0);this.shadow=f;this.outline=g;this.g=a.append("svg:g").attr("class").string("label");f&&(this.gshadow=this.g.append("svg:g").attr("transform").string("translate(0,0)"),this.gshadowrot=this.gshadow.append("svg:g"),this.tshadow=this.gshadowrot.append("svg:text").attr("class").string("shadow"+(g?"":" nooutline")));this.gtext=this.g.append("svg:g");g&&(this.toutline=this.gtext.append("svg:text").attr("class").string("outline"+(f?"":" noshadow")));a=T.addIf(T.addIf(["text"],
!g,"nooutline"),!f,"noshadow");this.ttext=this.gtext.append("svg:text").attr("class").string(a.join(" "));this.dontFlip=b;g?this.setShadowOffset(1,1.25):this.setShadowOffset(0.5,0.5);this.angle=this.y=this.x=0;this.set_orientation(G.LabelOrientation.FixedAngle(0));this.set_anchor(G.GridAnchor.Center);this.visible=!0};y["rg.svg.widget.Label"]=G.Label;G.Label.__name__=["rg","svg","widget","Label"];G.Label.prototype={destroy:function(){this.g.remove()},reanchor:function(){if(null!=this.anchor){var a=
this.getBB(),b,f,g=this.anchor;if(this.dontFlip)switch(this.orientation[1]){case 1:if(90<this.angle&&270>this.angle){var h;switch(g[1]){case 0:h=G.GridAnchor.BottomRight;break;case 1:h=G.GridAnchor.Bottom;break;case 2:h=G.GridAnchor.BottomLeft;break;case 3:h=G.GridAnchor.Right;break;case 4:h=G.GridAnchor.Center;break;case 5:h=G.GridAnchor.Left;break;case 6:h=G.GridAnchor.TopRight;break;case 7:h=G.GridAnchor.Top;break;case 8:h=G.GridAnchor.TopLeft}g=h}break;case 2:if(180<this.angle){var i;switch(g[1]){case 0:i=
G.GridAnchor.BottomRight;break;case 1:i=G.GridAnchor.Bottom;break;case 2:i=G.GridAnchor.BottomLeft;break;case 3:i=G.GridAnchor.Right;break;case 4:i=G.GridAnchor.Center;break;case 5:i=G.GridAnchor.Left;break;case 6:i=G.GridAnchor.TopRight;break;case 7:i=G.GridAnchor.Top;break;case 8:i=G.GridAnchor.TopLeft}g=i}}switch(g[1]){case 0:b=0;f=a.height;break;case 1:b=-a.width/2;f=a.height;break;case 2:b=-a.width;f=a.height;break;case 3:b=0;f=a.height/2;break;case 4:b=-a.width/2;f=a.height/2;break;case 5:b=
-a.width;f=a.height/2;break;case 6:f=b=0;break;case 7:b=-a.width/2;f=0;break;case 8:b=-a.width,f=0}if(this.outline)this.toutline.attr("x")["float"](b+0.5).attr("y")["float"](f-1.5);this.ttext.attr("x")["float"](b+0.5).attr("y")["float"](f-1.5);if(this.shadow)this.tshadow.attr("x")["float"](b+0.5).attr("y")["float"](f-1.5)}},getBB:function(){var a=this.ttext.node(),b=this.ttext.style("font-size").getFloat();if(null==b||0>=b)try{b=a.getExtentOfChar("A").height}catch(f){b=ua.selectNode(a).style("height").getFloat()}var g;
try{g=a.getComputedTextLength()}catch(h){g=ua.selectNode(a).style("width").getFloat()}return{width:g,height:b}},set_anchor:function(a){this.anchor=a;this.reanchor();return a},set_orientation:function(a){this.orientation=a;this.place(this.x,this.y,this.angle);return a},set_text:function(a){this.text=a;this.outline&&this.toutline.text().string(a);this.ttext.text().string(a);this.shadow&&this.tshadow.text().string(a);this.reanchor();return a},setShadowOffset:function(a,b){this.shadowOffsetX=a;this.shadowOffsetY=
b;this.shadow&&this.gshadow.attr("transform").string("translate("+this.shadowOffsetX+","+this.shadowOffsetY+")")},place:function(a,b,f){this.x=Math.isNaN(a)?0:a;this.y=Math.isNaN(b)?0:b;this.angle=f%360;0>this.angle&&(this.angle+=360);this.g.attr("transform").string("translate("+this.x+","+this.y+")");a=this.orientation;switch(a[1]){case 0:f=a[2];this.gtext.attr("transform").string("rotate("+f+")");break;case 1:this.dontFlip&&90<this.angle&&270>this.angle&&(f+=180);this.gtext.attr("transform").string("rotate("+
f+")");break;case 2:this.dontFlip&&180<this.angle&&(f-=180),this.gtext.attr("transform").string("rotate("+(-90+f)+")")}this.shadow&&this.gshadowrot.attr("transform").string(this.gtext.attr("transform").get());this.reanchor()},getSize:function(){try{return this.g.node().getBBox()}catch(a){return{width:0,height:0}}},removeClass:function(a){this.g.classed().remove(a)},addClass:function(a){this.g.classed().add(a)},_toggleVisibility:function(){this.g.style("opacity")["float"](this.visible?1:0)},hide:function(){this.visible&&
(this.visible=!1,this._toggleVisibility())},show:function(){this.visible||(this.visible=!0,this._toggleVisibility())},tshadow:null,toutline:null,ttext:null,gshadowrot:null,gtext:null,gshadow:null,g:null,visible:null,outline:null,shadow:null,shadowOffsetY:null,shadowOffsetX:null,dontFlip:null,angle:null,y:null,x:null,anchor:null,orientation:null,text:null,__class__:G.Label,__properties__:{set_text:"set_text",set_orientation:"set_orientation",set_anchor:"set_anchor"}};G.LabelOrientation={__ename__:["rg",
"svg","widget","LabelOrientation"],__constructs__:["FixedAngle","Aligned","Orthogonal"]};G.LabelOrientation.FixedAngle=function(a){a=["FixedAngle",0,a];a.__enum__=G.LabelOrientation;a.toString=N;return a};G.LabelOrientation.Aligned=["Aligned",1];G.LabelOrientation.Aligned.toString=N;G.LabelOrientation.Aligned.__enum__=G.LabelOrientation;G.LabelOrientation.Orthogonal=["Orthogonal",2];G.LabelOrientation.Orthogonal.toString=N;G.LabelOrientation.Orthogonal.__enum__=G.LabelOrientation;G.LabelOrientations=
function(){};y["rg.svg.widget.LabelOrientations"]=G.LabelOrientations;G.LabelOrientations.__name__=["rg","svg","widget","LabelOrientations"];G.LabelOrientations.canParse=function(a){a=a.split(":")[0].toLowerCase();return T.exists("angle fixed ortho orthogonal align aligned horizontal".split(" "),a)};G.LabelOrientations.parse=function(a){switch(a.split(":")[0].toLowerCase()){case "fixed":case "angle":a=I.parseFloat(a.split(":")[1]);if(null==a||!Math.isFinite(a))throw new ba.Error("when 'fixed' is used a number should follow the 'dash' character",
null,null,{fileName:"LabelOrientations.hx",lineNumber:27,className:"rg.svg.widget.LabelOrientations",methodName:"parse"});return G.LabelOrientation.FixedAngle(a);case "ortho":case "orthogonal":return G.LabelOrientation.Orthogonal;case "align":case "aligned":return G.LabelOrientation.Aligned;case "horiz":case "horizontal":return G.LabelOrientation.FixedAngle(0);default:throw new ba.Error("invalid filter orientation '{0}'",null,a,{fileName:"LabelOrientations.hx",lineNumber:36,className:"rg.svg.widget.LabelOrientations",
methodName:"parse"});}};G.Map=function(a,b){var f=this;this.g=a.append("svg:g").attr("class").string("map");this.projection=b;this.map=new La;this.ready=!1;this.onReady=new Id;this.onReady.addOnce(function(){f.ready=!0})};y["rg.svg.widget.Map"]=G.Map;G.Map.__name__=["rg","svg","widget","Map"];G.Map.loadJsonp=function(a,b){zb.get(a,b,null,null,null)};G.Map.loadJsonAjax=function(a,b){var f=new tc(a);f.onData=function(a){a=oa.Json.decode(a);b(a)};f.onError=function(b){throw new ba.Error("unable to load JSON file '{0}': {1}",
[a,b],null,{fileName:"Map.hx",lineNumber:90,className:"rg.svg.widget.Map",methodName:"loadJsonAjax"});};f.request(!1)};G.Map.prototype={set_className:function(a){this.g.attr("class").string("map"+(null==a?"":" "+a));return a},handlerClick:null,handlerDataPointOver:null,onClick:function(a){this.handlerClick(a,this.click)},onMouseOver:function(a,b){this.handlerDataPointOver(b,a,this.labelDataPointOver)},draw:function(b){var f=this,g=null!=this.mapping?function(a){return B.hasField(f.mapping,a)?B.field(f.mapping,
a):a}:function(a){return a},h=new H.PathGeoJson;h.set_projection(this.projection);switch(b.type){case "FeatureCollection":for(var i=0,k=b.features.length;i<k;){var l=i++,l=b.features[l],m=h.centroid(l.geometry),p="Point"==l.geometry.type?this.g.append("svg:circle").attr("cx")["float"](m[0]).attr("cy")["float"](m[1]).attr("r")["float"](5):this.g.append("svg:path").attr("d").string(h.path(l.geometry)),r={};r.$centroid=m;r.$data=l.properties;null!=l.id&&this.map.set(g(l.id),{svg:p,dp:r});if(null!=this.labelDataPointOver)p.onNode("mouseover",
function(a,b){return function(f,j){return a(b,f,j)}}(a(this,this.onMouseOver),r));if(null!=this.click)p.onNode("click",function(a,b){return function(f,j){return a(b,f,j)}}(a(this,this.onClick),r))}break;case "MultiPoint":case "MultiLineString":case "MultiPolygon":case "GeometryCollection":throw new ba.Error("the type '{0}' is not implemented yet",[b.type],null,{fileName:"Map.hx",lineNumber:136,className:"rg.svg.widget.Map",methodName:"draw"});default:this.g.append("svg:path").attr("d").string(h.path(b))}this.onReady.dispatch()},
loadGeoJson:function(b,f,g){var h=this,i=g?G.Map.loadJsonp:G.Map.loadJsonAjax;null==f?i(b,a(this,this.draw)):i(f,function(f){h.mapping=f;i(b,a(h,h.draw))})},load:function(a,b,f,g){switch(b){case "geojson":this.loadGeoJson(a,f,g);break;default:new ba.Error("unsupported geographic format '{0}'",null,b,{fileName:"Map.hx",lineNumber:59,className:"rg.svg.widget.Map",methodName:"load"})}},g:null,projection:null,mapping:null,ready:null,colorMode:null,radius:null,labelDataPointOver:null,labelDataPoint:null,
click:null,onReady:null,map:null,className:null,__class__:G.Map,__properties__:{set_className:"set_className"}};G.Sensible=function(){};y["rg.svg.widget.Sensible"]=G.Sensible;G.Sensible.__name__=["rg","svg","widget","Sensible"];G.Sensible.sensibleZone=function(a,b,f,g,h){if(!(null==f&&null==g)){var i=a.append("svg:rect").attr("class").string("sensible").attr("x")["float"](0).attr("y")["float"](0).attr("width")["float"](b.frame.width).attr("height")["float"](b.frame.height).attr("fill").string("#000").style("fill-opacity")["float"](0);
if(null!=g)i.onNode("mousemove",function(){var b=G.Sensible.findDataNodeNearMouse(a,h);0<b.length?(g(b[0]),null!=f&&i.classed().add("pointer")):null!=f&&i.classed().remove("pointer")});if(null!=f){if(null==g)i.onNode("mousemove",function(){0<G.Sensible.findDataNodeNearMouse(a,h).length?i.classed().add("pointer"):i.classed().remove("pointer")});i.onNode("click",function(){var b=G.Sensible.findDataNodeNearMouse(a,h);0<b.length&&f(b[0])})}}};G.Sensible.findDataNodeNearMouse=function(a,b){var f=ua.event;
return G.Sensible.findDataNodesNear({x:f.clientX,y:f.clientY},a,b)};G.Sensible.findDataNodesNear=function(a,b,f){var b=b.selectAll(".rgdata"),g=[],h=f*f;b.eachNode(function(b){var f=b.getBoundingClientRect(),i=a.x-(f.left+f.width/2),f=a.y-(f.top+f.height/2),i=i*i+f*f;i>h||g.push({node:b,dist:i})});g.sort(function(a,b){return V.compare(a.dist,b.dist)});return g.map(function(a){return a.node})};Jc=zb=Rc=va=mb=hb=nc=gd=bb=pa=Lc=Tc=void 0;gd=function(a){try{this.tests=Jc.decrypt(a).split(",")}catch(b){}};
y["rg.util.Auth"]=gd;gd.__name__=["rg","util","Auth"];gd.prototype={authorizeMany:function(a){for(var b=0;b<a.length;){var f=a[b];++b;if(this.authorize(f))return!0}return!1},authorizeOne:function(a,b){return"*."==a.substring(0,2)?aa.endsWith("."+b,a.substring(1)):b==a},authorize:function(a){for(var b=0,f=this.tests;b<f.length;){var g=f[b];++b;if(this.authorizeOne(a,g))return!0}return!1},tests:null,__class__:gd};nc=function(b){this.handler=b;this.actions=[];this.pos=0;this.executor=a(this,this.execute)};
y["rg.util.ChainedExecutor"]=nc;nc.__name__=["rg","util","ChainedExecutor"];nc.prototype={executor:null,execute:function(b){if(this.pos==this.actions.length)this.pos=0,this.handler(b);else this.actions[this.pos++](b,a(this,this.execute))},addAction:function(a){this.actions.push(a)},pos:null,actions:null,handler:null,__class__:nc};mb=function(){};y["rg.util.DataPoints"]=mb;mb.__name__=["rg","util","DataPoints"];mb.partition=function(a,b,f){null==f&&(f="default");for(var g=new cc.HashList,h,i=0;i<a.length;){var k=
a[i];++i;h=B.field(k,b);h=null==h?f:Na.string(h);var l=g.get(h);null==l&&(l=[],g.set(h,l));l.push(k)}return g.array()};mb.filterByIndependents=function(a,b){for(var f=0;f<b.length;){var g=[b[f]];++f;var h=[g[0].axis.range(g[0].min(),g[0].max())],a=T.filter(a,function(a,b){return function(f){f=B.field(f,b[0].type);return null==f?!1:T.exists(a[0],f)}}(h,g))}return a};mb.filterByDependents=function(a,b){for(var f=0;f<b.length;){var g=[b[f]];++f;a=T.filter(a,function(a){return function(b){return null==
B.field(b,a[0].type)?!1:!0}}(g))}return a};mb.value=function(a,b){return B.field(a,b)};mb.valueAlt=function(a,b,f){var g;return null==(g=B.field(a,b))?f:g};mb.values=function(a,b){return T.filter(a.map(function(a){return B.field(a,b)}),function(a){return null!=a})};mb.id=function(a,b){for(var f=Pa.clone(a),g=0;g<b.length;){var h=b[g];++g;B.deleteField(f,h)}return fc.encode(Na.string(f))};Jc=function(){};y["rg.util.Decrypt"]=Jc;Jc.__name__=["rg","util","Decrypt"];Jc.decrypt=function(a){var b=new Da.RSAEncrypt(Jc.modulus,
Jc.publicExponent),a=Yc.Base64.decode(a);try{return b.verify(a).toString()}catch(f){return null}};Lc=function(){};y["rg.util.Js"]=Lc;Lc.__name__=["rg","util","Js"];Lc.findScript=function(a){var b=Sa.document.getElementsByTagName("SCRIPT");if("string"==typeof a)for(var f=0,g=b.length;f<g;){var h=f++,h=b[h],i=h.getAttribute("src");if(null!=i&&0<=i.indexOf(a))return h}else{f=0;for(g=b.length;f<g;)if(h=f++,h=b[h],i=h.getAttribute("src"),null!=i&&i.match(a))return h}return null};Lc.findPosition=function(a){var b=
0,f=0;do b+=a.offsetLeft,f+=a.offsetTop;while(null!=(a=a.offsetParent));return{x:b,y:f}};zb=function(){};y["rg.util.Jsonp"]=zb;zb.__name__=["rg","util","Jsonp"];zb.get=function(a,b,f,g,h){var i=zb.get_api;i(a,{success:b,failure:f},g,h)};zb.post=function(a,b,f,g,h,i){var k=zb.post_api;k(a,b,{success:f,failure:g},h,i)};zb.request_api=function(a,b,f,g,h,i){null==h&&(h={});b=Tc.addQueryParameters(b,h);null==i&&(i={});var k=g.success,l=null==g.failure?function(){}:g.failure,m="ReportGridChartsJsonpCallback"+
(214748363*Math.random()|0),p=Sa.document.head;null==p&&(p=Sa.document.getElementsByTagName("head")[0]);Sa.window[m]=function(a,b){200==b.status.code?k(a):l(b.status.code,b.status.reason);p.removeChild(Sa.document.getElementById(m));Sa.window[m]=void 0;try{delete window[m]}catch(f){}};g={};g.method=a;0<B.fields(i).length&&(g.headers=oa.Json.encode(i));g.callback=m;null!=f&&(g.content=oa.Json.encode(f));a=Tc.addQueryParameters(b,g);b=Sa.document.createElement("SCRIPT");b.setAttribute("type","text/javascript");
b.setAttribute("src",a);b.setAttribute("id",m);p.appendChild(b)};zb.get_api=function(a,b,f,g){zb.request_api("GET",a,null,b,f,g)};zb.post_api=function(a,b,f,g,h){zb.request_api("POST",a,b,f,g,h)};pa=function(){};y["rg.util.Periodicity"]=pa;pa.__name__=["rg","util","Periodicity"];pa.defaultPeriodicity=function(a){return null==a||0==a?"eternity":216E5>=a?"minute":1728E5>=a?"hour":5184E6>=a?"day":62208E6>=a?"month":"year"};pa.defaultRange=function(a){var b;switch(a){case "eternity":case "single":b=[0,
0];break;case "minute":b=pa.parsePair("6 hours ago","now");break;case "hour":b=pa.parsePair("2 days ago","now");break;case "day":b=pa.parsePair("14 days ago","today");break;case "month":b=pa.parsePair("6 months ago","today");break;case "year":b=pa.parsePair("6 years ago","today")}return b};pa.isValid=function(a){return T.exists(pa.validPeriods,a)};pa.calculateBetween=function(a,b,f){null==f&&(f=2);if(null==a||null==b)return"eternity";a=Math.abs(b.getTime()-a.getTime());return a>=tb.days(365*f)?"year":
a>=tb.days(30*f)?"month":a>=tb.days(7*f)?"week":a>=tb.days(f)?"day":a>=tb.hours(f)?"hour":"minute"};pa.unitsBetween=function(a,b,f){var g;switch(f){case "eternity":case "single":g=1;break;case "minute":g=Math.floor((b-a)/6E4);break;case "hour":g=Math.floor((b-a)/36E5);break;case "day":g=Math.floor((b-a)/864E5);break;case "week":g=Math.floor((b-a)/6048E5);break;case "month":f=this;f=new Date;f.setTime(a);a=f;f=new Date;f.setTime(b);b=f;f=a.getFullYear();g=b.getFullYear();a=a.getMonth();b=b.getMonth();
g=12*(g-f)+(b-a);break;case "year":g=Math.floor(pa.unitsBetween(a,b,"month")/12)}return g};pa.units=function(a,b){var f=pa.unitsBetween(0,a,b),g;switch(b){case "hour":g=1;break;default:g=0}return f+g};pa.range=function(a,b,f){var g=1E3;switch(f){case "eternity":case "single":return[0];case "minute":g=6E4;break;case "hour":g=36E5;break;case "day":for(var g=Gb.snap(a,"day"),h=Gb.snap(b,"day"),b=[];g<=h;)b.push(g),g=Gb.snap(g+864E5,"day");return b;case "week":g=6048E5;break;case "month":g=pa.dateUtc(a);
h=pa.dateUtc(b);a=g.getFullYear();f=h.getFullYear();g=g.getMonth();h=h.getMonth();for(b=[];a<f||a==f&&g<=h;)b.push((new Date(a,g,1,0,0,0)).getTime()),g++,11<g&&(g=0,a++);return b;case "year":return b=ka.range(pa.dateUtc(a).getFullYear(),pa.dateUtc(b).getFullYear()+1,1).map(function(a){return(new Date(a,0,1,0,0,0)).getTime()})}return V.range(a,b+g,g)};pa.next=function(a,b,f){null==f&&(f=1);null==b&&(b=(new Date).getTime());if(0==f)f=b;else{var g;switch(a){case "eternity":case "single":g=b;break;case "minute":g=
b+6E4*f;break;case "hour":g=b+36E5*f;break;case "day":g=b+864E5*f;break;case "week":g=b+6048E5*f;break;case "month":a=new Date;a.setTime(b);b=a.getFullYear();f=a.getMonth()+f;g=(new Date(b,f,a.getDay(),a.getHours(),a.getMinutes(),a.getSeconds())).getTime();break;case "year":a=new Date,a.setTime(b),g=(new Date(a.getFullYear()+f,a.getMonth(),a.getDay(),a.getHours(),a.getMinutes(),a.getSeconds())).getTime()}f=g}return f};pa.minForPeriodicityInSeries=function(a,b){return T.floatMin(a,function(a){return T.floatMin(B.fields(B.field(a,
b)),function(a){return I.parseFloat(a)})})};pa.maxForPeriodicityInSeries=function(a,b){return T.floatMax(a,function(a){return T.floatMax(B.fields(B.field(a,b)),function(a){return I.parseFloat(a)})})};pa.formatf=function(a){var b;switch(a){case "eternity":b=function(){return"all time"};break;case "single":b=function(){return"period"};break;case "minute":case "hour":b=function(a){return F.FormatDate.timeShort(function(){var b=new Date;b.setTime(a);return b}(this))};break;case "day":case "week":b=function(a){return F.FormatDate.dateShort(function(){var b=
new Date;b.setTime(a);return b}(this))};break;case "month":b=function(a){return F.FormatDate.yearMonth(function(){var b=new Date;b.setTime(a);return b}(this))};break;case "year":b=function(a){return F.FormatDate.year(function(){var b=new Date;b.setTime(a);return b}(this))}}return b};pa.format=function(a,b){switch(a){case "eternity":return"all time";case "single":return"period";case "minute":return F.FormatDate.timeShort(function(){var a=new Date;a.setTime(b);return a}(this));case "hour":return F.FormatDate.hourShort(function(){var a=
new Date;a.setTime(b);return a}(this));case "day":case "week":return F.FormatDate.dateShort(function(){var a=new Date;a.setTime(b);return a}(this));case "month":return F.FormatDate.yearMonth(function(){var a=new Date;a.setTime(b);return a}(this));case "year":return F.FormatDate.year(function(){var a=new Date;a.setTime(b);return a}(this));default:return a+": "+b}};pa.smartFormat=function(a,b){switch(a){case "eternity":case "single":return"all time";case "minute":return pa.firstInSeries("hour",b)?F.FormatDate.timeShort(function(){var a=
new Date;a.setTime(b);return a}(this)):F.FormatDate.format("%i",function(){var a=new Date;a.setTime(b);return a}(this));case "hour":return pa.firstInSeries("day",b)?F.FormatDate.format("%b %e",pa.dateUtc(b)):F.FormatDate.hourShort(function(){var a=new Date;a.setTime(b);return a}(this));case "day":return pa.firstInSeries("month",b)?F.FormatDate.format("%b %e",pa.dateUtc(b)):F.FormatDate.format("%e",pa.dateUtc(b));case "week":var f=pa.dateUtc(b);return 7>=f.getDate()?F.FormatDate.format("%b %e",f):
F.FormatDate.format("%e",f);case "month":return pa.firstInSeries("year",b)?F.FormatDate.year(pa.dateUtc(b)):F.FormatDate.format("%b",pa.dateUtc(b));case "year":return F.FormatDate.year(pa.dateUtc(b));default:return a+": "+I.string(function(){var a=new Date;a.setTime(b);return a}(this))}};pa.firstInSeries=function(a,b){var f=this;switch(a){case "eternity":case "single":f=0==b;break;case "minute":f=0==b%6E4;break;case "hour":f=0==b%36E5;break;case "day":f=new Date;f.setTime(b);f=0==f.getHours()&&0==
f.getMinutes()&&0==f.getSeconds();break;case "week":f=new Date;f.setTime(b);f=0==f.getDay();break;case "month":f=new Date;f.setTime(b);f=1==f.getDate();break;case "year":f=new Date;f.setTime(b);f=1==f.getDate()&&0==f.getMonth();break;default:f=!1}return f};pa.nextPeriodicity=function(a){switch(a){case "minute":a="hour";break;case "hour":a="day";break;case "day":case "week":a="month";break;case "month":a="year";break;default:a="year"}return a};pa.prevPeriodicity=function(a){switch(a){case "minute":a=
"hour";break;case "hour":a="minute";break;case "day":a="hour";break;case "week":case "month":a="day";break;default:a="minute"}return a};pa.parsePair=function(a,b){return[P.DateParser.parse(a).getTime(),P.DateParser.parse(b).getTime()]};pa.timezoneOffset=function(a){return a.getTimezoneOffset()};pa.dateUtc=function(a){var b=new Date;b.setTime(a);b=b.getTimezoneOffset();0>b&&(b=0);var f=new Date;f.setTime(a+6E4*b);return f};pa.isValidGroupBy=function(a){return T.exists(pa.validGroupValues,a)};hb=function(){};
y["rg.util.Properties"]=hb;hb.__name__=["rg","util","Properties"];hb.isTime=function(a){return 0<=a.indexOf("time:")};hb.periodicity=function(a){return M.substr(a,a.indexOf("time:")+5,null)};hb.timeProperty=function(a){return".time:"+a};hb.humanize=function(a){return bb.humanize(a)};hb.formatValue=function(a,b){var f=B.field(b,a);if(null==f)return f;if(0<=a.indexOf("time:")){var g=M.substr(a,a.indexOf("time:")+5,null);return pa.format(g,Gb.snap(f,g))}return bb.humanize(f)};Rc=function(){};y["rg.util.RG"]=
Rc;Rc.__name__=["rg","util","RG"];Rc.getTokenId=function(){try{return W.rtrim(W.ltrim(ReportGrid.$.Config.tokenId,'"'),'"')}catch(a){return null}};va=function(){};y["rg.util.RGColors"]=va;va.__name__=["rg","util","RGColors"];va.parse=function(a,b){try{var f=q.Colors.parse(a);if(null!=f)return f}catch(g){}return q.Colors.parse(b)};va.applyLightness=function(a,b,f){null==f&&(f=1/Math.abs(b));return 0<=b?q.Hsl.lighter(a,(1-f)*(1+b)):q.Hsl.darker(a,(1-f)*(1-b))};va.extractColor=function(a){return a.__rgcolor__};
va.storeColor=function(a,b){a.__rgcolor__=b};va.storeColorForSelection=function(a,b,f){null==b&&(b="fill");a.eachNode(function(a){var g=null==f?ua.selectNode(rb.current).style(b).get():f;va.storeColor(a,g)})};bb=function(){};y["rg.util.RGStrings"]=bb;bb.__name__=["rg","util","RGStrings"];bb.humanize=function(a){if(X.__instanceof(a,Yd))return ka.format(a);if(X.__instanceof(a,Nd))return V.format(a);a=I.string(a);if(bb.range.match(a)){var a=bb.range.matched(1),b=bb.range.matched(2),a=null!=a?ka.canParse(a)?
ka.format(ka.parse(a)):V.format(V.parse(a)):"",b=null!=b?ka.canParse(b)?ka.format(ka.parse(b)):V.format(V.parse(b)):"";return bb.hstring(bb.range.matchedLeft())+a+"-"+b+bb.hstring(bb.range.matchedRight())}return bb.hstring(a)};bb.hstring=function(a){return W.ucwords(W.humanize(a))};Tc=function(){};y["rg.util.Urls"]=Tc;Tc.__name__=["rg","util","Urls"];Tc.addQueryParameters=function(a,b){for(var f=0>a.indexOf("?")?"?":"&",g=[],h=0,i=B.fields(b);h<i.length;){var k=i[h];++h;var l=I.string(B.field(b,k));
g.push(k+"="+aa.urlEncode(l))}return 0==g.length?a:a+f+g.join("&")};Tc.parseQueryParameters=function(a){var b=a.indexOf("?");if(0>b)return{};for(var a=M.substr(a,b+1,null).split("&"),b={},f=0;f<a.length;){var g=a[f];++f;var h=g.split("="),g=h[0],h=null==h[1]?null:aa.urlDecode(h[1]);b[g]=h}return b};R=function(a){this.container=a};Xa=za=ha=Ka=Za=Ia=Fa=Ea=ra=ca=ta=sa=U=Q=O=void 0;y["rg.visualization.Visualization"]=R;R.__name__=["rg","visualization","Visualization"];R.prototype={removeReady:function(a){this.ready.remove(a)},
addReady:function(a){this.ready.add(a);this.hasRendered&&a()},addReadyOnce:function(a){this.ready.addOnce(a);this.hasRendered&&a()},destroy:function(){},feedData:function(){},init:function(){throw new ba.AbstractMethod({fileName:"Visualization.hx",lineNumber:42,className:"rg.visualization.Visualization",methodName:"init"});},setVariables:function(a,b,f){var g=this;this.variables=a;this.independentVariables=b;this.dependentVariables=f;this.hasRendered=!1;this.ready=new Id;this.ready.addOnce(function(){g.hasRendered=
!0})},hasRendered:null,ready:null,container:null,variables:null,dependentVariables:null,independentVariables:null,__class__:R};ha=function(a){R.call(this,a.container);this.layout=a};y["rg.visualization.VisualizationSvg"]=ha;ha.__name__=["rg","visualization","VisualizationSvg"];ha.__super__=R;ha.prototype=g(R.prototype,{layout:null,baseChart:null,__class__:ha});za=function(a){ha.call(this,a)};y["rg.visualization.VisualizationCartesian"]=za;za.__name__=["rg","visualization","VisualizationCartesian"];
za.__super__=ha;za.prototype=g(ha.prototype,{createRules:function(a,b,f){var a=this.info.displayMinorRule(b),g=this.info.displayMajorRule(b),h=this.info.displayAnchorLineRule(b);null!=this.info.label.axis&&this.info.label.axis(b);b=null;if(a||g){b=this.layout.getPanel("main");if(null==b)return null;b=new sb.RulesOrtho(b,f);b.displayMinor=a;b.displayMajor=g;b.displayAnchorLine=h;b.init()}return b},createTickmarks:function(a,b,f){var g=this,h=this.info.displayMinorTick(b),i=this.info.displayMajorTick(b),
k=this.info.displayLabelTick(b),l=this.info.displayAnchorLineTick(b),m=null!=this.info.label.axis?this.info.label.axis(b):null,p=null,r;if(h||i||k||l){r=this.layout.getContext(f);if(null==r)return null;p=new sb.TickmarksOrtho(r.panel,r.anchor);this.setTickmarksDefaults(p,a,b,f);k?null!=this.info.label.tickmark&&(p.tickLabel=function(a){return g.info.label.tickmark(a,b)}):p.displayLabel=!1;p.displayMinor=h;p.displayMajor=i;p.lengthMinor=this.info.lengthTickMinor;p.lengthMajor=this.info.lengthTickMajor;
p.paddingMinor=this.info.paddingTickMinor;p.paddingMajor=this.info.paddingTickMajor;p.paddingLabel=this.info.paddingLabel;a=this.info.labelAnchor(b);null!=a&&(p.labelAnchor=G.GridAnchors.parse(a));a=this.info.labelOrientation(b);null!=a&&(p.labelOrientation=G.LabelOrientations.parse(a));if(null!=(a=this.info.labelAngle(b)))p.labelAngle=a;p.displayAnchorLine=l}if(null!=m&&null!=(r=this.layout.getContext(f+"title")))l=(new sb.Title(r.panel,m,r.anchor,null,"axis-title")).idealHeight(),this.layout.suggestSize(f+
"title",l);null!=p&&p.init();return p},setTickmarksDefaults:function(){},destroy:function(){this.chart.destroy()},transformData:function(){throw new ba.AbstractMethod({fileName:"VisualizationCartesian.hx",lineNumber:162,className:"rg.visualization.VisualizationCartesian",methodName:"transformData"});},feedData:function(a){if(0!=a.length){null!=this.title&&null!=this.info.label.title&&(this.title.set_text(this.info.label.title(this.variables,a)),this.layout.suggestSize("title",this.title.idealHeight()));
a=this.transformData(a);this.chart.setVariables(this.variables,this.independentVariables,this.dependentVariables,a);for(var b=0,f=this.ylabels.length;b<f;){var g=b++,g=this.ylabels[g],h=this.yvariables[g.id];g.tickmarks.update(h.axis,h.min(),h.max());h=Math.round(g.tickmarks.desiredSize);this.layout.suggestSize("y"+g.id,h)}b=0;for(f=this.yrules.length;b<f;)g=b++,g=this.yrules[g],h=this.yvariables[g.id],g.rules.update(h.axis,h.min(),h.max());null!=this.xlabel&&(h=this.xvariable,this.xlabel.update(h.axis,
h.min(),h.max()),h=Math.round(this.xlabel.desiredSize),this.layout.suggestSize("x",h));null!=this.xrule&&(h=this.xvariable,this.xrule.update(h.axis,h.min(),h.max()));this.chart.data(a)}},initTitle:function(){if(null!=this.info.label.title){var a=this.layout.getContext("title");null!=a&&(this.title=new sb.Title(a.panel,null,a.anchor))}},initCartesianChart:function(){this.chart.animated=this.info.animation.animated;this.chart.animationDuration=this.info.animation.duration;this.chart.animationEase=this.info.animation.ease;
this.chart.click=this.info.click;this.chart.labelDataPoint=this.info.label.datapoint;this.chart.labelDataPointOver=this.info.label.datapointover;this.chart.init()},initChart:function(){throw new ba.AbstractMethod({fileName:"VisualizationCartesian.hx",lineNumber:87,className:"rg.visualization.VisualizationCartesian",methodName:"initChart"});},initXAxis:function(){this.xlabel=this.createTickmarks(0,this.xvariable.type,"x");this.xrule=this.createRules(0,this.xvariable.type,L.Vertical)},initYAxes:function(){this.ylabels=
[];this.yrules=[];for(var a=0,b=this.yvariables.length;a<b;){var f=a++,g=this.createTickmarks(f+1,this.yvariables[f].type,"y"+f),h=this.createRules(f+1,this.yvariables[f].type,L.Horizontal);null!=g&&this.ylabels.push({id:f,tickmarks:g});null!=h&&this.yrules.push({id:f,rules:h})}},initPadding:function(){this.layout.adjustPadding()},initAxes:function(){throw new ba.AbstractMethod({fileName:"VisualizationCartesian.hx",lineNumber:45,className:"rg.visualization.VisualizationCartesian",methodName:"initAxes"});
},init:function(){this.initAxes();this.initYAxes();this.initXAxis();this.initTitle();this.initPadding();this.initChart();this.initCartesianChart()},yvariables:null,xvariable:null,title:null,yrules:null,ylabels:null,xrule:null,xlabel:null,chart:null,info:null,__class__:za});sa=function(a){za.call(this,a)};y["rg.visualization.VisualizationBarChart"]=sa;sa.__name__=["rg","visualization","VisualizationBarChart"];sa.__super__=za;sa.prototype=g(za.prototype,{transformData:function(a){var b=[],f=this.independentVariables[0],
g=f.axis.range(f.min(),f.max());if(0<=f.type.indexOf("time:"))for(var h=hb.periodicity(f.type),i=0;i<g.length;){var k=[g[i]];++i;for(var l=[],m=0,p=this.dependentVariables.length;m<p;){var r=m++,r=mb.filterByDependents(a,[this.dependentVariables[r]]);l.push(T.filter(r,function(a){return function(b){return Gb.snap(B.field(b,f.type),h)==a[0]}}(k)))}b.push(l)}else for(i=0;i<g.length;){k=[g[i]];++i;l=[];m=0;for(p=this.dependentVariables.length;m<p;)r=m++,r=mb.filterByDependents(a,[this.dependentVariables[r]]),
l.push(T.filter(r,function(a){return function(b){return B.field(b,f.type)==a[0]}}(k)));b.push(l)}if(null!=this.infoBar.segment.on){var q=this.infoBar.segment.on,t=new cc.Set;if(0!=this.infoBar.segment.values.length){i=0;for(p=this.infoBar.segment.values;i<p.length;)k=p[i],++i,t.add(k)}else a.forEach(function(a){t.add(B.field(a,q))});p=0;for(i=g.length;p<i;){r=p++;a=0;for(m=this.dependentVariables.length;a<m;){for(var l=a++,k=b[r][l],R=[],u=0,v=t.iterator();v.hasNext();){var x=v.next();if(x==B.field(k[u],
q))R.push(k[u++]);else{var w={};w[q]=x;w[f.type]=g[r];w[this.dependentVariables[l].type]=0;R.push(w)}}b[r][l]=R}}}return b},initChart:function(){var a=this,b=new K.BarChart(this.layout.getPanel(this.layout.mainPanelName));this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.stacked=this.infoBar.stacked;var f=this.infoBar.effect;switch(f[1]){case 0:b.displayGradient=!1;break;case 1:f=f[2],b.displayGradient=!0,b.gradientLightness=f}b.padding=this.infoBar.barPadding;b.paddingAxis=this.infoBar.barPaddingAxis;
b.paddingDataPoint=this.infoBar.barPaddingDataPoint;b.horizontal=this.infoBar.horizontal;this.chart=b},initAxes:function(){this.infoBar.horizontal?(this.xvariable=this.dependentVariables.map(function(a){return a})[0],this.yvariables=[this.independentVariables[0]]):(this.yvariables=this.dependentVariables.map(function(a){return a}),this.xvariable=this.independentVariables[0])},infoBar:null,__class__:sa});ta=function(a){ha.call(this,a)};y["rg.visualization.VisualizationFunnelChart"]=ta;ta.__name__=
["rg","visualization","VisualizationFunnelChart"];ta.__super__=ha;ta.prototype=g(ha.prototype,{destroy:function(){this.chart.destroy();null!=this.title&&this.title.destroy();ha.prototype.destroy.call(this)},feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables);a=mb.filterByIndependents(mb.filterByDependents(a,this.dependentVariables),this.independentVariables);null!=this.info.sortDataPoint&&a.sort(this.info.sortDataPoint);null!=this.title&&(null!=this.info.label.title?
(this.title.set_text(this.info.label.title(this.variables,a)),this.layout.suggestSize("title",this.title.idealHeight())):this.layout.suggestSize("title",0));null!=this.info.sortDataPoint&&a.sort(this.info.sortDataPoint);this.chart.init();this.chart.data(a)},init:function(){var a=this,b=this.layout.getPanel(this.layout.mainPanelName);this.baseChart=this.chart=new K.FunnelChart(b);this.chart.ready.add(function(){a.ready.dispatch()});null!=this.info.label.datapoint&&(this.chart.labelDataPoint=this.info.label.datapoint);
null!=this.info.label.datapoint&&(this.chart.labelDataPointOver=this.info.label.datapointover);null!=this.info.label.arrow&&(this.chart.labelArrow=this.info.label.arrow);null!=this.info.click&&(this.chart.click=this.info.click);this.chart.padding=this.info.padding;this.chart.flatness=this.info.flatness;b=this.info.effect;switch(b[1]){case 1:b=b[2];this.chart.displayGradient=!0;this.chart.gradientLightness=b;break;case 0:this.chart.displayGradient=!1}this.chart.arrowSize=this.info.arrowSize;if(null!=
this.info.label.title&&(b=this.layout.getContext("title"),null!=b))this.title=new sb.Title(b.panel,null,b.anchor)},chart:null,title:null,info:null,__class__:ta});ca=function(a){ha.call(this,a)};y["rg.visualization.VisualizationGeo"]=ca;ca.__name__=["rg","visualization","VisualizationGeo"];ca.__super__=ha;ca.prototype=g(ha.prototype,{destroy:function(){this.chart.destroy();null!=this.title&&this.title.destroy();ha.prototype.destroy.call(this)},feedData:function(a){this.chart.setVariables(this.independentVariables,
this.dependentVariables,a);null!=this.title&&(null!=this.info.label.title?(this.title.set_text(this.info.label.title(this.variables,a)),this.layout.suggestSize("title",this.title.idealHeight())):this.layout.suggestSize("title",0));this.chart.init();this.chart.data(a)},init:function(){var b=this;if(null!=this.info.label.title){var f=this.layout.getContext("title");if(null==f)return;this.title=new sb.Title(f.panel,null,f.anchor)}f=this.layout.getPanel(this.layout.mainPanelName);this.chart=new K.Geo(f);
this.chart.labelOutline=this.info.labelOutline;this.chart.labelShadow=this.info.labelShadow;this.baseChart=this.chart;this.chart.ready.add(function(){b.ready.dispatch()});for(var f=new Ac,g=0,h=this.info.map;g<h.length;){var i=h[g];++g;var k=f.create(i),k=new G.Map(this.chart.mapcontainer,k);k.set_className(i.classname);k.labelDataPoint=null==i.label?this.info.label.datapoint:i.label.datapoint;k.labelDataPointOver=null==i.label?this.info.label.datapointover:i.label.datapointover;k.click=i.click;k.radius=
i.radius;k.colorMode=i.colorScaleMode;k.handlerClick=(la=this.chart,a(la,la.handlerClick));k.handlerDataPointOver=(la=this.chart,a(la,la.handlerDataPointOver));k.mapping=i.mapping;var l=i.mappingurl;if(null!=l&&(!aa.startsWith(l,"http://")||!aa.startsWith(l,"https://")))l=xd.BASE_URL_GEOJSON+l+".json"+(i.usejsonp?".js":"");k.load(i.url,i.type,l,i.usejsonp);this.chart.addMap(k,i.property)}},chart:null,title:null,info:null,__class__:ca});ra=function(a){za.call(this,a)};y["rg.visualization.VisualizationHeatGrid"]=
ra;ra.__name__=["rg","visualization","VisualizationHeatGrid"];ra.__super__=za;ra.prototype=g(za.prototype,{setTickmarksDefaults:function(a,b){0==b&&(a.labelAnchor=G.GridAnchor.Left,a.labelAngle=180)},transformData:function(a){return a},initChart:function(){var a=this,b=new K.HeatGrid(this.layout.getPanel(this.layout.mainPanelName));this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.useContour=this.infoHeatGrid.contour;b.set_colorMode(this.infoHeatGrid.colorScaleMode);this.chart=b},initAxes:function(){this.xvariable=
this.independentVariables[0];this.yvariables=[this.independentVariables[1]]},infoHeatGrid:null,__class__:ra});Xa=function(a){R.call(this,a);a.classed().add("rg")};y["rg.visualization.VisualizationHtml"]=Xa;Xa.__name__=["rg","visualization","VisualizationHtml"];Xa.__super__=R;Xa.prototype=g(R.prototype,{__class__:Xa});Q=function(a){Xa.call(this,a)};y["rg.visualization.VisualizationLeaderboard"]=Q;Q.__name__=["rg","visualization","VisualizationLeaderboard"];Q.__super__=Xa;Q.prototype=g(Xa.prototype,
{feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables);this.chart.data(a)},init:function(){var a=this;this.chart=new b(this.container);this.chart.ready.add(function(){a.ready.dispatch()});null!=this.info.label.datapoint&&(this.chart.labelDataPoint=this.info.label.datapoint);null!=this.info.label.datapointover&&(this.chart.labelDataPointOver=this.info.label.datapointover);null!=this.info.label.rank&&(this.chart.labelRank=this.info.label.rank);null!=this.info.label.value&&
(this.chart.labelValue=this.info.label.value);this.chart.animated=this.info.animation.animated;this.chart.animationDuration=this.info.animation.duration;this.chart.animationDelay=this.info.animation.delay;this.chart.animationEase=this.info.animation.ease;this.chart.useMax=this.info.usemax;this.chart.displayBar=this.info.displaybar;this.chart.colorScale=this.info.colorscale;null!=this.info.click&&(this.chart.click=this.info.click);null!=this.info.sortDataPoint&&(this.chart.sortDataPoint=this.info.sortDataPoint);
this.chart.init()},chart:null,info:null,__class__:Q});Ea=function(a){za.call(this,a)};y["rg.visualization.VisualizationLineChart"]=Ea;Ea.__name__=["rg","visualization","VisualizationLineChart"];Ea.__super__=za;Ea.prototype=g(za.prototype,{transformData:function(a){for(var b=[],f=new wb(this.infoLine.segment.on,this.infoLine.segment.transform,this.infoLine.segment.scale,this.infoLine.segment.values),g=0,h=this.dependentVariables.length;g<h;){var i=this.dependentVariables[g++],i=mb.filterByDependents(a,
[i]);b.push(f.segment(i))}return b},initChart:function(){var a=this,b=new K.LineChart(this.layout.getPanel(this.layout.mainPanelName));this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.symbol=this.infoLine.symbol;b.symbolStyle=this.infoLine.symbolStyle;b.lineInterpolator=this.infoLine.interpolation;b.lineEffect=this.infoLine.effect;b.sensibleRadius=this.infoLine.sensibleradius;null==this.independentVariables[0].scaleDistribution&&(this.independentVariables[0].scaleDistribution=Qa.ScaleFill);
null!=this.infoLine.y0property?b.y0property=this.infoLine.y0property:this.infoLine.displayarea&&(b.y0property="");this.chart=b},initAxes:function(){this.xvariable=this.variables[0];this.yvariables=this.variables.slice(1)},infoLine:null,__class__:Ea});Fa=function(a){ha.call(this,a)};y["rg.visualization.VisualizationPieChart"]=Fa;Fa.__name__=["rg","visualization","VisualizationPieChart"];Fa.__super__=ha;Fa.prototype=g(ha.prototype,{destroy:function(){this.chart.destroy();null!=this.title&&this.title.destroy();
ha.prototype.destroy.call(this)},feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables);null!=this.title&&(null!=this.info.label.title?(this.title.set_text(this.info.label.title(this.variables,a)),this.layout.suggestSize("title",this.title.idealHeight())):this.layout.suggestSize("title",0));null!=this.info.sortDataPoint&&a.sort(this.info.sortDataPoint);this.chart.init();this.chart.data(a)},init:function(){var a=this,b=this.layout.getPanel(this.layout.mainPanelName);
this.baseChart=this.chart=new K.PieChart(b);this.chart.ready.add(function(){a.ready.dispatch()});this.chart.innerRadius=this.info.innerradius;this.chart.outerRadius=this.info.outerradius;this.chart.overRadius=this.info.overradius;this.chart.tooltipRadius=this.info.tooltipradius;b=this.info.effect;switch(b[1]){case 1:b=b[2];this.chart.displayGradient=!0;this.chart.gradientLightness=b;break;case 0:this.chart.displayGradient=!1}this.chart.labelDataPoint=this.info.label.datapoint;this.chart.labelDataPointOver=
this.info.label.datapointover;this.chart.labelRadius=this.info.labelradius;this.chart.labelOrientation=this.info.labelorientation;this.chart.labelDontFlip=this.info.dontfliplabel;this.chart.animated=this.info.animation.animated;this.chart.animationDuration=this.info.animation.duration;this.chart.animationEase=this.info.animation.ease;this.chart.animationDelay=this.info.animation.delay;null!=this.info.click&&(this.chart.mouseClick=this.info.click);if(null!=this.info.label.title&&(b=this.layout.getContext("title"),
null!=b))this.title=new sb.Title(b.panel,null,b.anchor)},info:null,title:null,chart:null,__class__:Fa});O=function(a){Xa.call(this,a)};y["rg.visualization.VisualizationPivotTable"]=O;O.__name__=["rg","visualization","VisualizationPivotTable"];O.__super__=Xa;O.prototype=g(Xa.prototype,{destroy:function(){this.chart.destroy()},feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables);this.chart.data(a)},init:function(){var a=this;this.chart=new i(this.container);
this.chart.ready.add(function(){a.ready.dispatch()});this.chart.displayColumnTotal=this.info.displayColumnTotal;this.chart.displayHeatMap=this.info.displayHeatmap;this.chart.displayRowTotal=this.info.displayRowTotal;this.chart.colorStart=this.info.heatmapColorStart;this.chart.colorEnd=this.info.heatmapColorEnd;this.chart.cellclass=this.info.cellclass;this.chart.valueclass=this.info.valueclass;this.chart.headerclass=this.info.headerclass;this.chart.totalclass=this.info.totalclass;null!=this.info.click&&
(this.chart.click=this.info.click);null!=this.info.label.datapoint&&(this.chart.labelDataPoint=this.info.label.datapoint);null!=this.info.label.datapointover&&(this.chart.labelDataPointOver=this.info.label.datapointover);null!=this.info.label.axis&&(this.chart.labelAxis=this.info.label.axis);null!=this.info.label.axisvalue&&(this.chart.labelAxisValue=this.info.label.axisvalue);null!=this.info.label.total&&(this.chart.labelTotal=this.info.label.total);null!=this.info.label.totalover&&(this.chart.labelTotalOver=
this.info.label.totalover);this.chart.incolumns=ka.min(this.info.columnAxes,this.independentVariables.length);this.chart.init()},chart:null,info:null,__class__:O});Ia=function(a){ha.call(this,a)};y["rg.visualization.VisualizationSankey"]=Ia;Ia.__name__=["rg","visualization","VisualizationSankey"];Ia.defaultIdf=function(a){return null==a?function(a){return a.id}:a};Ia.defaultNodef=function(a){if(null==a){var b=0;return function(a){return{id:"#"+ ++b,weight:a.weight,entry:0,exit:0}}}return a};Ia.defaultEdgesf=
function(a,b){return null==b?function(b){for(var f=[],g=a(b),h=0,i=B.fields(b.parents);h<i.length;){var k=i[h];++h;f.push({head:g,tail:k,weight:B.field(b.parents,k)})}return f}:b};Ia.__super__=ha;Ia.prototype=g(ha.prototype,{destroy:function(){this.chart.destroy();null!=this.title&&this.title.destroy();ha.prototype.destroy.call(this)},defaultWeightf:function(a){if(null==a){var b=this.dependentVariables[0].type;return function(a){a=B.field(a,b);return null!=a?a:0}}return a},sugiyama:function(a,b){return(new J.SugiyamaMethod).resolve(a,
b)},weightBalance:function(a,b){var f=new J.GraphLayout(a,(new J.HeaviestNodeLayer).lay(a)),f=(new J.EdgeSplitter).split(f,[],b);return J.GreedySwitchDecrosser.best().decross(f)},layoutData:function(a,b,f,g,h,i){a=this.createGraph(a,f,h,i);g=Ia.defaultNodef(g);switch(b){case "weightbalance":return this.weightBalance(a,g);default:return this.sugiyama(a,g)}},extractEdges:function(a){return T.filter(a,function(a){return null!=a.head&&null!=a.tail})},extractNodes:function(a){var b=T.filter(a,function(a){return null!=
a.id});if(0==b.length){var f=this.dependentVariables[0].type,g=new La,h=function(a,b,f){if(null!=a){var j=g.get(a);null==j&&(j={node:{id:a},positive:0,negative:0},g.set(a,j));b?j.positive+=f:j.negative+=f}};T.filter(a,function(a){return B.hasField(a,"head")||B.hasField(a,"tail")}).forEach(function(a){var b=B.field(a,f);h(a.tail,!0,b);h(a.head,!1,b)});b=ga.array(g.iterator()).map(function(a){var b=a.node;b[f]=Math.max(a.positive,a.negative);return b})}return b},createGraph:function(a,b,f,g){b=Ia.defaultIdf(b);
Ia.defaultEdgesf(b,g);for(var f=this.defaultWeightf(f),g=new J.Graph(b),h=this.extractNodes(a),a=this.extractEdges(a),i=0;i<h.length;){var k=h[i];++i;g.nodes.create({dp:k,id:b(k),weight:f(k),entry:0,exit:0})}for(i=0;i<a.length;){b=a[i];++i;var h=g.nodes.getById(b.head),l=g.nodes.getById(b.tail);if(null==h){var k={id:b.head},m=f(b);k[this.dependentVariables[0].type]=m;h=g.nodes.create({dp:k,id:b.head,weight:m,entry:0,exit:0})}null==l&&(k={id:b.tail},m=f(b),k[this.dependentVariables[0].type]=m,l=g.nodes.create({dp:k,
id:b.tail,weight:m,entry:0,exit:0}));g.edges.create(l,h,f(b))}for(f=g.nodes.collection.iterator();f.hasNext();)a=f.next(),i=a.negativeWeight(),k=a.positiveWeight(),0==a.data.weight&&(a.data.weight=i),a.data.entry=Math.max(0,a.data.weight-i),a.data.exit=Math.max(0,a.data.weight-k);return g},layoutDataWithMap:function(a,b,f,g,h){var i=this.createGraph(a,f,g,h);b.layers.map(function(a){return a.map(function(a){var b=i.nodes.getById(a);null==b&&(b=i.nodes.create({id:a,weight:0,entry:0,exit:0,dp:{id:a}}));
return b.id})});a=0;for(f=b.dummies;a<f.length;){g=f[a];++a;for(var k=i.nodes.getById(g[0]),h=i.nodes.getById(g[g.length-1]),l=[k],k=k.connectedBy(h),m=null==k?0:k.weight,p=1,r=g.length-1;p<r;){var q=p++;l.push(i.nodes.create({id:g[q],weight:m,entry:0,exit:0,dp:null}))}l.push(h);p=0;for(r=l.length-1;p<r;)q=p++,i.edges.create(l[q],l[q+1],m);null!=k&&k.graph.edges._remove(k)}b=b.layers.map(function(a){return a.map(function(a){var b=i.nodes.getById(a);null==b&&(b=i.nodes.create({id:a,weight:0,entry:0,
exit:0,dp:{id:a}}));return b.id})});return new J.GraphLayout(i,b)},feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables,a);null!=this.title&&(null!=this.info.label.title?(this.title.set_text(this.info.label.title(this.variables,a)),this.layout.suggestSize("title",this.title.idealHeight())):this.layout.suggestSize("title",0));a=null!=this.info.layoutmap?this.layoutDataWithMap(a,this.info.layoutmap):this.layoutData(a,this.info.layoutmethod);null!=this.info.layerWidth&&
(this.chart.layerWidth=this.info.layerWidth);null!=this.info.nodeSpacing&&(this.chart.nodeSpacing=this.info.nodeSpacing);null!=this.info.dummySpacing&&(this.chart.dummySpacing=this.info.dummySpacing);null!=this.info.extraWidth&&(this.chart.extraWidth=this.info.extraWidth);null!=this.info.backEdgeSpacing&&(this.chart.backEdgeSpacing=this.info.backEdgeSpacing);null!=this.info.extraHeight&&(this.chart.extraHeight=this.info.extraHeight);null!=this.info.extraRadius&&(this.chart.extraRadius=this.info.extraRadius);
null!=this.info.imageWidth&&(this.chart.imageWidth=this.info.imageWidth);null!=this.info.imageHeight&&(this.chart.imageHeight=this.info.imageHeight);null!=this.info.imageSpacing&&(this.chart.imageSpacing=this.info.imageSpacing);null!=this.info.labelNodeSpacing&&(this.chart.labelNodeSpacing=this.info.labelNodeSpacing);this.chart.stackbackedges=this.info.stackbackedges;this.chart.thinbackedges=this.info.thinbackedges;this.chart.labelDataPoint=this.info.label.datapoint;this.chart.labelDataPointOver=
this.info.label.datapointover;this.chart.labelNode=this.info.label.node;this.chart.labelEdge=this.info.label.edge;this.chart.labelEdgeOver=this.info.label.edgeover;this.chart.imagePath=this.info.imagePath;this.chart.click=this.info.click;this.chart.clickEdge=this.info.clickEdge;this.chart.nodeClass=this.info.nodeclass;this.chart.edgeClass=this.info.edgeclass;this.chart.displayEntry=this.info.displayentry;this.chart.displayExit=this.info.displayexit;this.chart.init();this.chart.data(a)},init:function(){var a=
this;if(null!=this.info.label.title){var b=this.layout.getContext("title");if(null==b)return;this.title=new sb.Title(b.panel,null,b.anchor)}b=this.layout.getPanel(this.layout.mainPanelName);this.baseChart=this.chart=new K.Sankey(b);this.chart.ready.add(function(){a.ready.dispatch()})},chart:null,title:null,info:null,__class__:Ia});Za=function(a){za.call(this,a)};y["rg.visualization.VisualizationScatterGraph"]=Za;Za.__name__=["rg","visualization","VisualizationScatterGraph"];Za.__super__=za;Za.prototype=
g(za.prototype,{transformData:function(a){var b=[];new wb(this.infoScatter.segment.on,this.infoScatter.segment.transform,this.infoScatter.segment.scale,this.infoScatter.segment.values);for(var f=0,g=this.dependentVariables;f<g.length;){var h=g[f];++f;b.push(mb.filterByDependents(a,[h]))}return b},initChart:function(){var a=this,b=new K.ScatterGraph(this.layout.getPanel(this.layout.mainPanelName));this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.symbol=this.infoScatter.symbol;b.symbolStyle=
this.infoScatter.symbolStyle;null==this.independentVariables[0].scaleDistribution&&(this.independentVariables[0].scaleDistribution=Qa.ScaleFill);this.chart=b},initAxes:function(){this.xvariable=this.independentVariables[0];this.yvariables=this.dependentVariables.map(function(a){return a})},infoScatter:null,__class__:Za});Ka=function(a){za.call(this,a)};y["rg.visualization.VisualizationStreamGraph"]=Ka;Ka.__name__=["rg","visualization","VisualizationStreamGraph"];Ka.__super__=za;Ka.prototype=g(za.prototype,
{transformData:function(a){return(new wb(this.infoStream.segment.on,this.infoStream.segment.transform,this.infoStream.segment.scale,this.infoStream.segment.values)).segment(a)},initChart:function(){var a=this,b=new K.StreamGraph(this.layout.getPanel(this.layout.mainPanelName));this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.interpolator=this.infoStream.interpolation;var f=this.infoStream.effect;switch(f[1]){case 0:b.gradientStyle=0;break;case 2:f=f[2];b.gradientStyle=1;b.gradientLightness=
f;break;case 1:f=f[2],b.gradientStyle=2,b.gradientLightness=f}this.chart=b},initAxes:function(){this.xvariable=this.independentVariables[0];this.yvariables=this.dependentVariables.map(function(a){return a})},infoStream:null,__class__:Ka});U=function(){};y["rg.visualization.Visualizations"]=U;U.__name__=["rg","visualization","Visualizations"];U.instantiateLayout=function(a,b,f,g){return ea.createInstance(U.layoutType.get(a),[b,f,g])};cc={HashList:function(){this.length=0;this.__keys=[];this.__hash=
new La}};y["thx.collection.HashList"]=cc.HashList;cc.HashList.__name__=["thx","collection","HashList"];cc.HashList.prototype={__hash:null,__keys:null,toString:function(){var a=new Gc;a.b+="{";for(var b=this.keys();b.hasNext();){var f=b.next();a.b+=I.string(f);a.b+=" => ";a.b+=I.string(I.string(this.get(f)));b.hasNext()&&(a.b+=", ")}a.b+="}";return a.b},array:function(){for(var a=[],b=0,f=this.__keys;b<f.length;){var g=f[b];++b;a.push(this.__hash.get(g))}return a},clear:function(){this.__hash=new La;
this.__keys=[];this.length=0},iterator:function(){return M.iter(this.array())},keys:function(){return M.iter(this.__keys)},keyAt:function(a){return this.__keys[a]},removeAt:function(a){a=this.__keys[a];if(null==a)return null;var b=this.__hash.get(a);this.__hash.remove(a);M.remove(this.__keys,a);this.length--;return b},remove:function(a){var b=this.__hash.get(a);if(null==b)return null;this.__hash.remove(a);M.remove(this.__keys,a);this.length--;return b},exists:function(a){return this.__hash.exists(a)},
indexOf:function(a){if(!this.__hash.exists(a))return-1;for(var b=0,f=this.__keys.length;b<f;){var g=b++;if(this.__keys[g]==a)return g}throw"this should never happen";},getAt:function(a){return this.__hash.get(this.__keys[a])},get:function(a){return this.__hash.get(a)},setAt:function(a,b,f){this.remove(b);this.__keys.splice(a,0,b);this.__hash.set(b,f);this.length++},set:function(a,b){this.__hash.exists(a)||(this.__keys.push(a),this.length++);this.__hash.set(a,b)},length:null,__class__:cc.HashList};
cc.Set=function(){this._v=[];this.length=0};y["thx.collection.Set"]=cc.Set;cc.Set.__name__=["thx","collection","Set"];cc.Set.ofArray=function(a){for(var b=new cc.Set,f=0;f<a.length;){var g=a[f];++f;b.add(g)}return b};cc.Set.prototype={toString:function(){return"{"+this._v.join(", ")+"}"},array:function(){return this._v.slice()},iterator:function(){return M.iter(this._v)},exists:function(a){for(var b=0,f=this._v;b<f.length;){var g=f[b];++b;if(g==a)return!0}return!1},remove:function(a){a=M.remove(this._v,
a);this.length=this._v.length;return a},add:function(a){M.remove(this._v,a);this._v.push(a);this.length=this._v.length},_v:null,length:null,__class__:cc.Set};q.Cmyk=function(a,b,f,g){q.Rgb.call(this,ka.interpolate(V.normalize(1-a-g),0,255,null),ka.interpolate(V.normalize(1-b-g),0,255,null),ka.interpolate(V.normalize(1-f-g),0,255,null));this.cyan=V.normalize(a);this.magenta=V.normalize(b);this.yellow=V.normalize(f);this.black=V.normalize(g)};y["thx.color.Cmyk"]=q.Cmyk;q.Cmyk.__name__=["thx","color",
"Cmyk"];q.Cmyk.toCmyk=function(a){var b=0,f=0,g=0;0==a.red+a.blue+a.green?a=1:(b=1-a.red/255,g=1-a.green/255,f=1-a.blue/255,a=V.min(b<g?b:g,f),b=(b-a)/(1-a),g=(g-a)/(1-a),f=(f-a)/(1-a));return new q.Cmyk(b,g,f,a)};q.Cmyk.equals=function(a,b){return a.black==b.black&&a.cyan==b.cyan&&a.magenta==b.magenta&&a.yellow==b.yellow};q.Cmyk.darker=function(a,b,f){return new q.Cmyk(a.cyan,a.magenta,a.yellow,V.interpolate(b,a.black,0,f))};q.Cmyk.lighter=function(a,b,f){return new q.Cmyk(a.cyan,a.magenta,a.yellow,
V.interpolate(b,a.black,1,f))};q.Cmyk.interpolate=function(a,b,f,g){return new q.Cmyk(V.interpolate(f,a.cyan,b.cyan,g),V.interpolate(f,a.magenta,b.magenta,g),V.interpolate(f,a.yellow,b.yellow,g),V.interpolate(f,a.black,b.black,g))};q.Cmyk.__super__=q.Rgb;q.Cmyk.prototype=g(q.Rgb.prototype,{toCmykString:function(){return"cmyk("+this.cyan+","+this.magenta+","+this.yellow+","+this.black+")"},yellow:null,magenta:null,cyan:null,black:null,__class__:q.Cmyk});q.Colors=function(){};y["thx.color.Colors"]=
q.Colors;q.Colors.__name__=["thx","color","Colors"];q.Colors.interpolatef=function(a,b,f){var a=q.Colors.parse(a),b=q.Colors.parse(b),g=q.Rgb.interpolatef(a,b,f);return function(a){return g(a).toString()}};q.Colors.interpolate=function(a,b,f,g){return q.Colors.interpolatef(b,f,g)(a)};q.Colors.parse=function(a){if(!q.Colors._reParse.match(a=aa.trim(a.toLowerCase()))){var b=q.NamedColors.byName.get(a);return null==b?"transparent"==a?q.Rgb.fromInt(16777215):null:b}a=q.Colors._reParse.matched(1);if(!W.empty(a))switch(b=
q.Colors._reParse.matched(2).split(","),a){case "rgb":case "rgba":return new q.Rgb(q.Colors._c(b[0]),q.Colors._c(b[1]),q.Colors._c(b[2]));case "hsl":return new q.Hsl(q.Colors._d(b[0]),q.Colors._p(b[1]),q.Colors._p(b[2]));case "cmyk":return new q.Cmyk(q.Colors._p(b[0]),q.Colors._p(b[1]),q.Colors._p(b[2]),q.Colors._p(b[3]))}a=q.Colors._reParse.matched(3);if(3==a.length)a=a.split("").map(function(a){return a+a}).join("");else if(6!=a.length)return null;return q.Rgb.fromInt(I.parseInt("0x"+a))};q.Colors._c=
function(a){return I.parseInt(aa.trim(a))};q.Colors._d=function(a){a=aa.trim(a);"deg"==M.substr(a,-3,null)?a=M.substr(a,0,-3):"\u00ba"==M.substr(a,-1,null)&&(a=M.substr(a,0,-1));return I.parseFloat(a)};q.Colors._p=function(a){a=aa.trim(a);return"%"==M.substr(a,-1,null)?I.parseFloat(M.substr(a,0,-1))/100:I.parseFloat(a)};q.Grey=function(a){this.grey=V.normalize(a);a=ka.interpolate(this.grey,0,255,null);q.Rgb.call(this,a,a,a)};y["thx.color.Grey"]=q.Grey;q.Grey.__name__=["thx","color","Grey"];q.Grey.toGrey=
function(a,b){null==b&&(b=q.PerceivedLuminance.Perceived);switch(b[1]){case 0:return new q.Grey(0.2126*(a.red/255)+0.7152*(a.green/255)+0.0722*(a.blue/255));case 1:return new q.Grey(0.299*(a.red/255)+0.587*(a.green/255)+0.114*(a.blue/255));case 2:return new q.Grey(Math.sqrt(0.241*Math.pow(a.red/255,2)+0.691*Math.pow(a.green/255,2)+0.068*Math.pow(a.blue/255,2)))}};q.Grey.equals=function(a,b){return a.grey==b.grey};q.Grey.darker=function(a,b,f){return new q.Grey(V.interpolate(b,a.grey,0,f))};q.Grey.lighter=
function(a,b,f){return new q.Grey(V.interpolate(b,a.grey,1,f))};q.Grey.interpolate=function(a,b,f,g){return new q.Grey(V.interpolate(f,a.grey,b.grey,g))};q.Grey.__super__=q.Rgb;q.Grey.prototype=g(q.Rgb.prototype,{grey:null,__class__:q.Grey});q.PerceivedLuminance={__ename__:["thx","color","PerceivedLuminance"],__constructs__:["Standard","Perceived","PerceivedAccurate"]};q.PerceivedLuminance.Standard=["Standard",0];q.PerceivedLuminance.Standard.toString=N;q.PerceivedLuminance.Standard.__enum__=q.PerceivedLuminance;
q.PerceivedLuminance.Perceived=["Perceived",1];q.PerceivedLuminance.Perceived.toString=N;q.PerceivedLuminance.Perceived.__enum__=q.PerceivedLuminance;q.PerceivedLuminance.PerceivedAccurate=["PerceivedAccurate",2];q.PerceivedLuminance.PerceivedAccurate.toString=N;q.PerceivedLuminance.PerceivedAccurate.__enum__=q.PerceivedLuminance;q.NamedColors=function(){};y["thx.color.NamedColors"]=q.NamedColors;q.NamedColors.__name__=["thx","color","NamedColors"];F={Info:function(){}};y["thx.culture.Info"]=F.Info;
F.Info.__name__=["thx","culture","Info"];F.Info.prototype={toString:function(){return this["native"]+" ("+this.english+")"},pluralRule:null,iso3:null,iso2:null,english:null,"native":null,name:null,__class__:F.Info};F.Culture=function(){};y["thx.culture.Culture"]=F.Culture;F.Culture.__name__=["thx","culture","Culture"];F.Culture.__properties__={set_defaultCulture:"set_defaultCulture",get_defaultCulture:"get_defaultCulture",get_cultures:"get_cultures"};F.Culture.get_cultures=function(){null==F.Culture.cultures&&
(F.Culture.cultures=new La);return F.Culture.cultures};F.Culture.get=function(a){return F.Culture.get_cultures().get(a.toLowerCase())};F.Culture.names=function(){return F.Culture.get_cultures().keys()};F.Culture.exists=function(a){return F.Culture.get_cultures().exists(a.toLowerCase())};F.Culture.get_defaultCulture=function(){return null==F.Culture._defaultCulture?Ga.EnUS.get_culture():F.Culture._defaultCulture};F.Culture.set_defaultCulture=function(a){return F.Culture._defaultCulture=a};F.Culture.add=
function(a){null==F.Culture._defaultCulture&&(F.Culture._defaultCulture=a);var b=a.name.toLowerCase();F.Culture.get_cultures().exists(b)||F.Culture.get_cultures().set(b,a)};F.Culture.loadAll=function(){};F.Culture.__super__=F.Info;F.Culture.prototype=g(F.Info.prototype,{percent:null,currency:null,number:null,symbolPosInf:null,symbolNegInf:null,symbolPermille:null,symbolPercent:null,symbolNaN:null,signPos:null,signNeg:null,digits:null,isMetric:null,nativeRegion:null,englishRegion:null,currencyIso:null,
currencySymbol:null,nativeCurrency:null,englishCurrency:null,date:null,language:null,__class__:F.Culture});F.FormatDate=function(){};y["thx.culture.FormatDate"]=F.FormatDate;F.FormatDate.__name__=["thx","culture","FormatDate"];F.FormatDate.format=function(a,b,f,g){null==g&&(g=!0);null==f&&(f=F.Culture.get_defaultCulture());for(var h=0,i=a.length,k=new Gc,l=f.date;h<i;){var m=a.charAt(h);if("%"!=m)k.b+=I.string(m);else switch(h++,m=a.charAt(h),m){case "a":k.b+=I.string(l.abbrDays[b.getDay()]);break;
case "A":k.b+=I.string(l.days[b.getDay()]);break;case "b":case "h":k.b+=I.string(l.abbrMonths[b.getMonth()]);break;case "B":k.b+=I.string(l.months[b.getMonth()]);break;case "c":k.b+=I.string(F.FormatDate.dateTime(b,f));break;case "C":k.b+=I.string(F.FormatNumber.digits(""+Math.floor(b.getFullYear()/100),f));break;case "d":k.b+=I.string(F.FormatNumber.digits(aa.lpad(""+b.getDate(),"0",2),f));break;case "D":k.b+=I.string(F.FormatDate.format("%m/%d/%y",b,f));break;case "e":k.b+=I.string(F.FormatNumber.digits(g?
aa.lpad(""+b.getDate()," ",2):""+b.getDate(),f));break;case "f":k.b+=I.string(F.FormatNumber.digits(g?aa.lpad(""+(b.getMonth()+1)," ",2):""+(b.getMonth()+1),f));break;case "G":throw"Not Implemented Yet";case "g":throw"Not Implemented Yet";case "H":k.b+=I.string(F.FormatNumber.digits(aa.lpad(""+b.getHours(),"0",2),f));break;case "i":k.b+=I.string(F.FormatNumber.digits(g?aa.lpad(""+b.getMinutes()," ",2):""+b.getMinutes(),f));break;case "I":k.b+=I.string(F.FormatNumber.digits(aa.lpad(""+F.FormatDate.getMHours(b),
"0",2),f));break;case "j":throw"Not Implemented Yet";case "k":k.b+=I.string(F.FormatNumber.digits(g?aa.lpad(""+b.getHours()," ",2):""+b.getHours(),f));break;case "l":k.b+=I.string(F.FormatNumber.digits(g?aa.lpad(""+F.FormatDate.getMHours(b)," ",2):""+F.FormatDate.getMHours(b),f));break;case "m":k.b+=I.string(F.FormatNumber.digits(aa.lpad(""+(b.getMonth()+1),"0",2),f));break;case "M":k.b+=I.string(F.FormatNumber.digits(aa.lpad(""+b.getMinutes(),"0",2),f));break;case "n":k.b+="\n";break;case "p":k.b+=
I.string(11<b.getHours()?l.pm:l.am);break;case "P":k.b+=I.string((11<b.getHours()?l.pm:l.am).toLowerCase());break;case "q":k.b+=I.string(F.FormatNumber.digits(g?aa.lpad(""+b.getSeconds()," ",2):""+b.getSeconds(),f));break;case "r":k.b+=I.string(F.FormatDate.format("%I:%M:%S %p",b,f));break;case "R":k.b+=I.string(F.FormatDate.format("%H:%M",b,f));break;case "s":k.b+=I.string(""+(b.getTime()/1E3|0));break;case "S":k.b+=I.string(F.FormatNumber.digits(aa.lpad(""+b.getSeconds(),"0",2),f));break;case "t":k.b+=
"\t";break;case "T":k.b+=I.string(F.FormatDate.format("%H:%M:%S",b,f));break;case "u":m=b.getDay();k.b+=I.string(F.FormatNumber.digits(0==m?"7":""+m,f));break;case "U":throw"Not Implemented Yet";case "V":throw"Not Implemented Yet";case "w":k.b+=I.string(F.FormatNumber.digits(""+b.getDay(),f));break;case "W":throw"Not Implemented Yet";case "x":k.b+=I.string(F.FormatDate.date(b,f));break;case "X":k.b+=I.string(F.FormatDate.time(b,f));break;case "y":k.b+=I.string(F.FormatNumber.digits(M.substr(""+b.getFullYear(),
-2,null),f));break;case "Y":k.b+=I.string(F.FormatNumber.digits(""+b.getFullYear(),f));break;case "z":k.b+="+0000";break;case "Z":k.b+="GMT";break;case "%":k.b+="%";break;default:k.b+=I.string("%"+m)}h++}return k.b};F.FormatDate.getMHours=function(a){a=a.getHours();return 12<a?a-12:a};F.FormatDate.yearMonth=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());return F.FormatDate.format(b.date.patternYearMonth,a,b,!1)};F.FormatDate.monthDay=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());
return F.FormatDate.format(b.date.patternMonthDay,a,b,!1)};F.FormatDate.date=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());return F.FormatDate.format(b.date.patternDate,a,b,!1)};F.FormatDate.dateShort=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());return F.FormatDate.format(b.date.patternDateShort,a,b,!1)};F.FormatDate.dateRfc=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());return F.FormatDate.format(b.date.patternDateRfc,a,b,!1)};F.FormatDate.dateTime=function(a,
b){null==b&&(b=F.Culture.get_defaultCulture());return F.FormatDate.format(b.date.patternDateTime,a,b,!1)};F.FormatDate.universal=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());return F.FormatDate.format(b.date.patternUniversal,a,b,!1)};F.FormatDate.sortable=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());return F.FormatDate.format(b.date.patternSortable,a,b,!1)};F.FormatDate.time=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());return F.FormatDate.format(b.date.patternTime,
a,b,!1)};F.FormatDate.timeShort=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());return F.FormatDate.format(b.date.patternTimeShort,a,b,!1)};F.FormatDate.hourShort=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());return null==b.date.am?F.FormatDate.format("%H",a,b,!1):F.FormatDate.format("%l %p",a,b,!1)};F.FormatDate.year=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());return F.FormatNumber.digits(""+a.getFullYear(),b)};F.FormatDate.month=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());
return F.FormatNumber.digits(""+(a.getMonth()+1),b)};F.FormatDate.monthName=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());return b.date.abbrMonths[a.getMonth()]};F.FormatDate.monthNameShort=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());return b.date.months[a.getMonth()]};F.FormatDate.weekDay=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());return F.FormatNumber.digits(""+(a.getDay()+b.date.firstWeekDay),b)};F.FormatDate.weekDayName=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());
return b.date.abbrDays[a.getDay()]};F.FormatDate.weekDayNameShort=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());return b.date.days[a.getDay()]};F.FormatNumber=function(){};y["thx.culture.FormatNumber"]=F.FormatNumber;F.FormatNumber.__name__=["thx","culture","FormatNumber"];F.FormatNumber.decimal=function(a,b,f){null==f&&(f=F.Culture.get_defaultCulture());return F.FormatNumber.crunch(a,b,f.percent,f.number.patternNegative,f.number.patternPositive,f,null,null)};F.FormatNumber.percent=function(a,
b,f){null==f&&(f=F.Culture.get_defaultCulture());return F.FormatNumber.crunch(a,b,f.percent,f.percent.patternNegative,f.percent.patternPositive,f,"%",f.symbolPercent)};F.FormatNumber.permille=function(a,b,f){null==f&&(f=F.Culture.get_defaultCulture());return F.FormatNumber.crunch(a,b,f.percent,f.percent.patternNegative,f.percent.patternPositive,f,"%",f.symbolPermille)};F.FormatNumber.currency=function(a,b,f,g){null==g&&(g=F.Culture.get_defaultCulture());return F.FormatNumber.crunch(a,f,g.currency,
g.currency.patternNegative,g.currency.patternPositive,g,"$",null==b?g.currencySymbol:b)};F.FormatNumber["int"]=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());return F.FormatNumber.decimal(a,0,b)};F.FormatNumber.digits=function(a,b){null==b&&(b=F.Culture.get_defaultCulture());return F.FormatNumber.processDigits(a,b.digits)};F.FormatNumber.crunch=function(a,b,f,g,h,i,k,l){if(Math.isNaN(a))return i.symbolNaN;if(!Math.isFinite(a))return a==Math.NEGATIVE_INFINITY?i.symbolNegInf:i.symbolPosInf;
b=F.FormatNumber.value(a,f,null==b?f.decimals:0>b?0:b,i.digits);return null!=k?aa.replace(aa.replace(0>a?g:h,"n",b),k,l):aa.replace(0>a?g:h,"n",b)};F.FormatNumber.processDigits=function(a,b){if(null==b)return a;for(var f=[],g=0,h=a.length;g<h;){var i=g++;f.push(b[I.parseInt(M.substr(a,i,1))])}return f.join("")};F.FormatNumber.value=function(a,b,f,g){var h=""+Math.abs(a),i=h.indexOf("E");if(0<i){var a=I.parseInt(M.substr(h,i+1,null)),k=!0;0>a&&(k=!1,a=-a);h=aa.replace(M.substr(h,0,i),".","");h=k?aa.rpad(h,
"0",a+1):"0"+aa.rpad(".","0",a)+h}a=h.split(".");k=a[0];h=[];for(i=0;0!=k.length;){var l=b.groups[i];if(k.length<=l){h.unshift(F.FormatNumber.processDigits(k,g));break}h.unshift(F.FormatNumber.processDigits(M.substr(k,-l,null),g));k=M.substr(k,0,-l);i<b.groups.length-1&&i++}k=h.join(b.groupsSeparator);return 0<f?(f=1==a.length?aa.lpad("","0",f):a[1].length>f?M.substr(a[1],0,f):aa.rpad(a[1],"0",f),k+b.decimalsSeparator+F.FormatNumber.processDigits(f,g)):k};F.FormatParams=function(){};y["thx.culture.FormatParams"]=
F.FormatParams;F.FormatParams.__name__=["thx","culture","FormatParams"];F.FormatParams.cleanQuotes=function(a){if(1>=a.length)return a;var b=M.substr(a,0,1);return('"'==b||"'"==b)&&M.substr(a,-1,null)==b?M.substr(a,1,a.length-2):a};F.FormatParams.params=function(a,b,f){return null!=b&&null!=a?[a].concat(b):(null==b||0==b.length)&&null==a?[f]:null==b||0==b.length?(a=a.split(":"),[a[0]].concat(1==a.length?[]:a[1].split(",").map(function(a,b){return 0==b?a:F.FormatParams.cleanQuotes(a)}))):b};F.Language=
function(){};y["thx.culture.Language"]=F.Language;F.Language.__name__=["thx","culture","Language"];F.Language.__properties__={get_languages:"get_languages"};F.Language.get_languages=function(){null==F.Language.languages&&(F.Language.languages=new La);return F.Language.languages};F.Language.get=function(a){return F.Language.get_languages().get(a.toLowerCase())};F.Language.names=function(){return F.Language.get_languages().keys()};F.Language.add=function(a){F.Language.get_languages().exists(a.iso2)||
F.Language.get_languages().set(a.iso2,a)};F.Language.__super__=F.Info;F.Language.prototype=g(F.Info.prototype,{__class__:F.Language});F.core={};F.core.DateTimeInfo=function(a,b,f,g,h,i,k,l,m,p,r,q,t,R,u,v,x,w,ha,za){this.months=a;this.abbrMonths=b;this.days=f;this.abbrDays=g;this.shortDays=h;this.am=i;this.pm=k;this.separatorDate=l;this.separatorTime=m;this.firstWeekDay=p;this.patternYearMonth=r;this.patternMonthDay=q;this.patternDate=t;this.patternDateShort=R;this.patternDateRfc=u;this.patternDateTime=
v;this.patternUniversal=x;this.patternSortable=w;this.patternTime=ha;this.patternTimeShort=za};y["thx.culture.core.DateTimeInfo"]=F.core.DateTimeInfo;F.core.DateTimeInfo.__name__=["thx","culture","core","DateTimeInfo"];F.core.DateTimeInfo.prototype={patternTimeShort:null,patternTime:null,patternSortable:null,patternUniversal:null,patternDateTime:null,patternDateRfc:null,patternDateShort:null,patternDate:null,patternMonthDay:null,patternYearMonth:null,firstWeekDay:null,separatorTime:null,separatorDate:null,
pm:null,am:null,shortDays:null,abbrDays:null,days:null,abbrMonths:null,months:null,__class__:F.core.DateTimeInfo};F.core.NumberInfo=function(a,b,f,g,h,i){this.decimals=a;this.decimalsSeparator=b;this.groups=f;this.groupsSeparator=g;this.patternNegative=h;this.patternPositive=i};y["thx.culture.core.NumberInfo"]=F.core.NumberInfo;F.core.NumberInfo.__name__=["thx","culture","core","NumberInfo"];F.core.NumberInfo.prototype={patternPositive:null,patternNegative:null,groupsSeparator:null,groups:null,decimalsSeparator:null,
decimals:null,__class__:F.core.NumberInfo};Kc={En:function(){this.name="en";this.english="English";this["native"]="English";this.iso2="en";this.iso3="eng";this.pluralRule=1;F.Language.add(this)}};y["thx.languages.En"]=Kc.En;Kc.En.__name__=["thx","languages","En"];Kc.En.__properties__={get_language:"get_language"};Kc.En.get_language=function(){null==Kc.En.language&&(Kc.En.language=new Kc.En);return Kc.En.language};Kc.En.__super__=F.Language;Kc.En.prototype=g(F.Language.prototype,{__class__:Kc.En});
Ga={EnUS:function(){this.language=Kc.En.get_language();this.name="en-US";this.english="English (United States)";this["native"]="English (United States)";this.date=new F.core.DateTimeInfo("January February March April May June July August September October November December ".split(" "),"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec ".split(" "),"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),"Sun Mon Tue Wed Thu Fri Sat".split(" "),"Su Mo Tu We Th Fr Sa".split(" "),"AM","PM",
"/",":",0,"%B, %Y","%B %d","%A, %B %d, %Y","%f/%e/%Y","%a, %d %b %Y %H:%M:%S GMT","%A, %B %d, %Y %l:%M:%S %p","%Y-%m-%d %H:%M:%SZ","%Y-%m-%dT%H:%M:%S","%l:%M:%S %p","%l:%M %p");this.symbolNaN="NaN";this.symbolPercent="%";this.symbolPermille="\u2030";this.signNeg="-";this.signPos="+";this.symbolNegInf="-Infinity";this.symbolPosInf="Infinity";this.number=new F.core.NumberInfo(2,".",[3],",","-n","n");this.currency=new F.core.NumberInfo(2,".",[3],",","($n)","$n");this.percent=new F.core.NumberInfo(2,
".",[3],",","-n %","n %");this.pluralRule=1;this.nativeCurrency=this.englishCurrency="US Dollar";this.currencySymbol="$";this.currencyIso="USD";this.nativeRegion=this.englishRegion="United States";this.iso2="US";this.iso3="USA";this.isMetric=!1;F.Culture.add(this)}};y["thx.cultures.EnUS"]=Ga.EnUS;Ga.EnUS.__name__=["thx","cultures","EnUS"];Ga.EnUS.__properties__={get_culture:"get_culture"};Ga.EnUS.get_culture=function(){null==Ga.EnUS.culture&&(Ga.EnUS.culture=new Ga.EnUS);return Ga.EnUS.culture};Ga.EnUS.__super__=
F.Culture;Ga.EnUS.prototype=g(F.Culture.prototype,{__class__:Ga.EnUS});Rb={IDataHandler:function(){}};y["thx.data.IDataHandler"]=Rb.IDataHandler;Rb.IDataHandler.__name__=["thx","data","IDataHandler"];Rb.IDataHandler.prototype={comment:null,valueBool:null,valueNull:null,valueFloat:null,valueInt:null,valueString:null,valueDate:null,arrayEnd:null,arrayItemEnd:null,arrayItemStart:null,arrayStart:null,objectEnd:null,objectFieldEnd:null,objectFieldStart:null,objectStart:null,end:null,start:null,__class__:Rb.IDataHandler};
Rb.ValueEncoder=function(a){this.handler=a};y["thx.data.ValueEncoder"]=Rb.ValueEncoder;Rb.ValueEncoder.__name__=["thx","data","ValueEncoder"];Rb.ValueEncoder.prototype={encodeArray:function(a){this.handler.arrayStart();for(var b=0;b<a.length;){var f=a[b];++b;this.handler.arrayItemStart();this.encodeValue(f);this.handler.arrayItemEnd()}this.handler.arrayEnd()},encodeList:function(a){this.handler.arrayStart();for(a=a.iterator();a.hasNext();){var b=a.next();this.handler.arrayItemStart();this.encodeValue(b);
this.handler.arrayItemEnd()}this.handler.arrayEnd()},encodeHash:function(a){this.handler.objectStart();for(var b=a.keys();b.hasNext();){var f=b.next();this.handler.objectFieldStart(f);this.encodeValue(a.get(f));this.handler.objectFieldEnd()}this.handler.objectEnd()},encodeObject:function(a){this.handler.objectStart();for(var b=0,f=B.fields(a);b<f.length;){var g=f[b];++b;this.handler.objectFieldStart(g);this.encodeValue(B.field(a,g));this.handler.objectFieldEnd()}this.handler.objectEnd()},encodeValue:function(a){var b=
ea["typeof"](a);switch(b[1]){case 0:this.handler.valueNull();break;case 1:this.handler.valueInt(a);break;case 2:this.handler.valueFloat(a);break;case 3:this.handler.valueBool(a);break;case 4:this.encodeObject(a);break;case 5:throw new ba.Error("unable to encode TFunction type",null,null,{fileName:"ValueEncoder.hx",lineNumber:39,className:"thx.data.ValueEncoder",methodName:"encodeValue"});case 6:b=b[2];if(X.__instanceof(a,String))this.handler.valueString(a);else if(X.__instanceof(a,Array))this.encodeArray(a);
else if(X.__instanceof(a,Date))this.handler.valueDate(a);else if(X.__instanceof(a,La))this.encodeHash(a);else if(X.__instanceof(a,De))this.encodeList(a);else throw new ba.Error("unable to encode class '{0}'",null,ea.getClassName(b),{fileName:"ValueEncoder.hx",lineNumber:53,className:"thx.data.ValueEncoder",methodName:"encodeValue"});break;case 7:throw new ba.Error("unable to encode TEnum type '{0}'",null,ea.getEnumName(b[2]),{fileName:"ValueEncoder.hx",lineNumber:55,className:"thx.data.ValueEncoder",
methodName:"encodeValue"});case 8:throw new ba.Error("unable to encode TUnknown type",null,null,{fileName:"ValueEncoder.hx",lineNumber:57,className:"thx.data.ValueEncoder",methodName:"encodeValue"});}},encode:function(a){this.handler.start();this.encodeValue(a);this.handler.end()},handler:null,__class__:Rb.ValueEncoder};Rb.ValueHandler=function(){};y["thx.data.ValueHandler"]=Rb.ValueHandler;Rb.ValueHandler.__name__=["thx","data","ValueHandler"];Rb.ValueHandler.__interfaces__=[Rb.IDataHandler];Rb.ValueHandler.prototype=
{comment:function(){},valueBool:function(a){this._stack.push(a)},valueNull:function(){this._stack.push(null)},valueFloat:function(a){this._stack.push(a)},valueInt:function(a){this._stack.push(a)},valueString:function(a){this._stack.push(a)},valueDate:function(a){this._stack.push(a)},arrayItemEnd:function(){var a=this._stack.pop();T.last(this._stack).push(a)},arrayItemStart:function(){},arrayEnd:function(){},arrayStart:function(){this._stack.push([])},objectFieldEnd:function(){var a=this._stack.pop();
T.last(this._stack)[this._names.pop()]=a},objectFieldStart:function(a){this._names.push(a)},objectEnd:function(){},objectStart:function(){this._stack.push({})},end:function(){this.value=this._stack.pop()},start:function(){this._stack=[];this._names=[]},_names:null,_stack:null,value:null,__class__:Rb.ValueHandler};P={DateParser:function(){}};y["thx.date.DateParser"]=P.DateParser;P.DateParser.__name__=["thx","date","DateParser"];P.DateParser.parse=function(a,b){var f=P.DateParser.parseTime(a),g;null==
b&&(b=new Date);null!=f.matched&&(a=aa.replace(a,f.matched,""));var h=0,i=0,k=0,l=null!=f.matched;if(P.DateParser.dateexp.match(a))if(l=!0,a=aa.replace(a,P.DateParser.dateexp.matched(0),""),null!=(g=P.DateParser.dateexp.matched(1)))k=I.parseInt(P.DateParser.dateexp.matched(2)),i=P.DateParser.months.indexOf(g.toLowerCase()),h=null!=(g=P.DateParser.dateexp.matched(3))?P.DateParser.fixyear(I.parseInt(g)):b.getFullYear();else if(null!=(g=P.DateParser.dateexp.matched(4)))k=I.parseInt(P.DateParser.dateexp.matched(5)),
i=P.DateParser.shortmonths.indexOf(g.toLowerCase()),h=null!=(g=P.DateParser.dateexp.matched(6))?P.DateParser.fixyear(I.parseInt(g)):b.getFullYear();else if(null!=(g=P.DateParser.dateexp.matched(8)))i=P.DateParser.months.indexOf(g.toLowerCase()),k=null!=(g=P.DateParser.dateexp.matched(7))?I.parseInt(g):1,h=null!=(g=P.DateParser.dateexp.matched(9))?P.DateParser.fixyear(I.parseInt(g)):b.getFullYear();else if(null!=(g=P.DateParser.dateexp.matched(11)))i=P.DateParser.shortmonths.indexOf(g.toLowerCase()),
k=null!=(g=P.DateParser.dateexp.matched(10))?I.parseInt(g):1,h=null!=(g=P.DateParser.dateexp.matched(12))?P.DateParser.fixyear(I.parseInt(g)):b.getFullYear();else if(null!=(g=P.DateParser.dateexp.matched(14)))i=P.DateParser.months.indexOf(g.toLowerCase()),k=null!=(g=P.DateParser.dateexp.matched(13))?I.parseInt(g):1,h=null!=(g=P.DateParser.dateexp.matched(15))?P.DateParser.fixyear(I.parseInt(g)):b.getFullYear();else if(null!=(g=P.DateParser.dateexp.matched(17)))i=P.DateParser.shortmonths.indexOf(g.toLowerCase()),
k=null!=(g=P.DateParser.dateexp.matched(16))?I.parseInt(g):1,h=null!=(g=P.DateParser.dateexp.matched(18))?P.DateParser.fixyear(I.parseInt(g)):b.getFullYear();else if(null!=(g=P.DateParser.dateexp.matched(19)))k=I.parseInt(P.DateParser.dateexp.matched(20)),i=I.parseInt(g)-1,h=null!=(g=P.DateParser.dateexp.matched(21))?P.DateParser.fixyear(I.parseInt(g)):b.getFullYear();else if(null!=(g=P.DateParser.dateexp.matched(23)))k=I.parseInt(P.DateParser.dateexp.matched(22)),i=I.parseInt(g)-1,h=null!=(g=P.DateParser.dateexp.matched(24))?
P.DateParser.fixyear(I.parseInt(g)):b.getFullYear();else if(null!=(g=P.DateParser.dateexp.matched(25)))h=P.DateParser.fixyear(I.parseInt(g)),k=I.parseInt(P.DateParser.dateexp.matched(27)),i=I.parseInt(P.DateParser.dateexp.matched(26))-1;else{if(null!=(g=P.DateParser.dateexp.matched(28)))h=b.getFullYear(),k=I.parseInt(g),i=b.getMonth()}else if(P.DateParser.absdateexp.match(a)){l=!0;a=aa.replace(a,P.DateParser.absdateexp.matched(0),"");h=b.getFullYear();i=b.getMonth();k=b.getDate();if(null!=(g=P.DateParser.absdateexp.matched(1)))switch(g.toLowerCase()){case "now":case "this second":null==
f.matched&&(f.hour=b.getHours(),f.minute=b.getMinutes(),f.second=b.getSeconds());break;case "tomorrow":k+=1;break;case "yesterday":k-=1}else if(null!=(g=P.DateParser.absdateexp.matched(3)))var m=P.DateParser.absdateexp.matched(2),p=P.DateParser.months.indexOf(g.toLowerCase()),h=p==i?h+(P.DateParser.last(m)?-1:P.DateParser.next(m)?1:0):p>i?h+(P.DateParser.last(m)?-1:0):h+(P.DateParser.next(m)?1:0),i=p,k=1;else if(null!=(g=P.DateParser.absdateexp.matched(5)))var m=P.DateParser.absdateexp.matched(4),
p=P.DateParser.days.indexOf(g.toLowerCase()),r=b.getDay(),k=p==r?k+(P.DateParser.last(m)?-7:P.DateParser.next(m)?7:0):p>r?k+(p-r+(P.DateParser.last(m)?-7:0)):k+(p-r+(P.DateParser.next(m)?7:0));else if(null!=(g=P.DateParser.absdateexp.matched(7)))m=P.DateParser.absdateexp.matched(6),p=P.DateParser.shortmonths.indexOf(g.toLowerCase()),h=p==i?h+(P.DateParser.last(m)?-1:P.DateParser.next(m)?1:0):p>i?h+(P.DateParser.last(m)?-1:0):h+(P.DateParser.next(m)?1:0),i=p,k=1;else if(null!=(g=P.DateParser.absdateexp.matched(9)))m=
P.DateParser.absdateexp.matched(8),p=P.DateParser.shortdays.indexOf(g.toLowerCase()),r=b.getDay(),k=p==r?k+(P.DateParser.last(m)?-7:P.DateParser.next(m)?7:0):p>r?k+(p-r+(P.DateParser.last(m)?-7:0)):k+(p-r+(P.DateParser.next(m)?7:0));null==f.matched&&(f.matched="x")}else h=b.getFullYear(),i=b.getMonth(),k=b.getDate();for(;P.DateParser.relexp.match(a);){l=!0;a=aa.replace(a,P.DateParser.relexp.matched(0),"");m=P.DateParser.relexp.matched(1);if(null!=m)p=null!=(g=P.DateParser.relexp.matched(2))?I.parseInt(g):
1,r=P.DateParser.relexp.matched(3);else{r=P.DateParser.relexp.matched(5);if(null==r)break;p=null!=(g=P.DateParser.relexp.matched(4))?I.parseInt(g):1;m=null!=(g=P.DateParser.relexp.matched(6))?g:"after"}m=m.toLowerCase();switch(m){case "minus":case "-":case "before":case "ago":p=-p}switch(m){case "ago":case "in":null==f.matched&&(f.hour=b.getHours(),f.minute=b.getMinutes(),f.second=b.getSeconds(),f.matched="x")}switch(r.toLowerCase()){case "second":case "seconds":f.second+=p;break;case "minute":case "minutes":f.minute+=
p;break;case "hour":case "hours":f.hour+=p;break;case "day":case "days":k+=p;break;case "week":case "weeks":k+=7*p;break;case "month":case "months":i+=p;break;case "year":case "years":h+=p}}if(!l)throw new ba.Error("no date information found in the string '{0}'",null,a,{fileName:"DateParser.hx",lineNumber:339,className:"thx.date.DateParser",methodName:"parse"});g=new Date;g.setTime((new Date(h,i,k,f.hour,f.minute,f.second)).getTime()+f.millis);return g};P.DateParser.parseTime=function(a){var b={hour:0,
minute:0,second:0,millis:0,matched:null};if(!P.DateParser.timeexp.match(a))return b;b.matched=P.DateParser.timeexp.matched(0);var f;if(null!=(f=P.DateParser.timeexp.matched(1)))b.hour=I.parseInt(f)+P.DateParser.plusPm(P.DateParser.timeexp.matched(3)),b.minute=I.parseInt(P.DateParser.timeexp.matched(2));else if(null!=(f=P.DateParser.timeexp.matched(4))){b.hour=I.parseInt(f);b.minute=I.parseInt(P.DateParser.timeexp.matched(5));if(null!=(f=P.DateParser.timeexp.matched(6)))b.second=I.parseInt(f);if(null!=
(f=P.DateParser.timeexp.matched(7)))b.millis=I.parseFloat(f)/1E3}else if(null!=(f=P.DateParser.timeexp.matched(8)))b.hour=I.parseInt(f)+P.DateParser.plusPm(P.DateParser.timeexp.matched(10)),b.minute=I.parseInt(P.DateParser.timeexp.matched(9));else if(null!=(f=P.DateParser.timeexp.matched(11)))b.hour=I.parseInt(f)+P.DateParser.plusPm(P.DateParser.timeexp.matched(12));else if(null!=(f=P.DateParser.timeexp.matched(13)))switch(f.toLowerCase()){case "evening":b.hour=17;break;case "morning":b.hour=8;break;
case "afternoon":b.hour=14;break;case "sunsrise":case "dawn":b.hour=6;break;case "sunset":case "dusk":b.hour=19;break;case "noon":case "midday":case "mid-day":b.hour=12;break;case "mid-night":case "midnight":b.hour=23,b.minute=59,b.second=59,b.millis=0.999}else throw new ba.Error("failed to parse time for '{0}'",null,a,{fileName:"DateParser.hx",lineNumber:406,className:"thx.date.DateParser",methodName:"parseTime"});return b};P.DateParser.fixyear=function(a){return 70>a?2E3+a:100>a?1900+a:a};P.DateParser.last=
function(a){return null==a?!1:"last"==a.toLowerCase()};P.DateParser.next=function(a){return null==a?!0:"next"==a.toLowerCase()};P.DateParser.plusPm=function(a){if(null==a)a=0;else switch(a.toLowerCase()){case "pm":case "evening":case "afternoon":a=12;break;default:a=0}return a};Aa={Message:function(a,b,f){this.message=a;this.params=null==b?[]:b;null!=f&&this.params.push(f)}};y["thx.util.Message"]=Aa.Message;Aa.Message.__name__=["thx","util","Message"];Aa.Message.prototype={translate:function(a,b){null==
b&&(b=a.get_domain());var f=F.Culture.get(b);return 1==this.params.length&&X.__instanceof(this.params[0],Yd)?W.format(a.plural(null,this.message,this.params[0],b),this.params,null,f):W.format(a.singular(this.message,b),this.params,null,f)},translatef:function(a){return W.format(a(this.message),this.params)},toString:function(){return W.format(this.message,this.params)},params:null,message:null,__class__:Aa.Message};ba={Error:function(a,b,f,g){Aa.Message.call(this,a,b,f);this.pos=g}};y["thx.error.Error"]=
ba.Error;ba.Error.__name__=["thx","error","Error"];ba.Error.__super__=Aa.Message;ba.Error.prototype=g(Aa.Message.prototype,{toString:function(){try{return W.format(this.message,this.params)}catch(a){return""}},toStringError:function(a){return W.format(null==a?ba.Error.errorPositionPattern:a,[this.pos.className,this.pos.methodName,this.pos.lineNumber,this.pos.fileName,this.pos.customParams])+this.toString()},setInner:function(a){this.inner=a;return this},inner:null,pos:null,__class__:ba.Error});ba.AbstractMethod=
function(a){ba.Error.call(this,"method {0}.{1}() is abstract",[a.className,a.methodName],a,{fileName:"AbstractMethod.hx",lineNumber:14,className:"thx.error.AbstractMethod",methodName:"new"})};y["thx.error.AbstractMethod"]=ba.AbstractMethod;ba.AbstractMethod.__name__=["thx","error","AbstractMethod"];ba.AbstractMethod.__super__=ba.Error;ba.AbstractMethod.prototype=g(ba.Error.prototype,{__class__:ba.AbstractMethod});ba.NotImplemented=function(a){ba.Error.call(this,"method {0}.{1}() needs to be implemented",
[a.className,a.methodName],a,{fileName:"NotImplemented.hx",lineNumber:13,className:"thx.error.NotImplemented",methodName:"new"})};y["thx.error.NotImplemented"]=ba.NotImplemented;ba.NotImplemented.__name__=["thx","error","NotImplemented"];ba.NotImplemented.__super__=ba.Error;ba.NotImplemented.prototype=g(ba.Error.prototype,{__class__:ba.NotImplemented});ba.NullArgument=function(a,b,f){null==b&&(b="invalid null or empty argument '{0}' for method {1}.{2}()");ba.Error.call(this,b,[a,f.className,f.methodName],
f,{fileName:"NullArgument.hx",lineNumber:16,className:"thx.error.NullArgument",methodName:"new"})};y["thx.error.NullArgument"]=ba.NullArgument;ba.NullArgument.__name__=["thx","error","NullArgument"];ba.NullArgument.__super__=ba.Error;ba.NullArgument.prototype=g(ba.Error.prototype,{__class__:ba.NullArgument});Ba={IProjection:function(){}};y["thx.geo.IProjection"]=Ba.IProjection;Ba.IProjection.__name__=["thx","geo","IProjection"];Ba.IProjection.prototype={invert:null,project:null,__class__:Ba.IProjection};
Ba.Albers=function(){this._origin=[-98,38];this._parallels=[29.5,45.5];this._scale=1E3;this._translate=[480,250];this.reload()};y["thx.geo.Albers"]=Ba.Albers;Ba.Albers.__name__=["thx","geo","Albers"];Ba.Albers.__interfaces__=[Ba.IProjection];Ba.Albers.prototype={get_scale:function(){return this._scale},set_scale:function(a){return this._scale=a},reload:function(){var a=0.017453292519943295*this.get_parallels()[0],b=0.017453292519943295*this.get_parallels()[1],f=0.017453292519943295*this.get_origin()[1],
g=Math.sin(a),a=Math.cos(a);this.lng0=0.017453292519943295*this.get_origin()[0];this.n=0.5*(g+Math.sin(b));this.C=a*a+2*this.n*g;this.p0=Math.sqrt(this.C-2*this.n*Math.sin(f))/this.n;return this},set_translate:function(a){this._translate=[a[0],a[1]];return a},get_translate:function(){return this._translate.slice()},set_parallels:function(a){this._parallels=[a[0],a[1]];this.reload();return a},get_parallels:function(){return this._parallels.slice()},set_origin:function(a){this._origin=[a[0],a[1]];this.reload();
return a},get_origin:function(){return this._origin.slice()},invert:function(a){var b=(a[0]-this.get_translate()[0])/this.get_scale(),f=this.p0+(a[1]-this.get_translate()[1])/this.get_scale(),a=Math.atan2(b,f),b=Math.sqrt(b*b+f*f);return[(this.lng0+a/this.n)/0.017453292519943295,Math.asin((this.C-b*b*this.n*this.n)/(2*this.n))/0.017453292519943295]},project:function(a){var b=this.n*(0.017453292519943295*a[0]-this.lng0),a=Math.sqrt(this.C-2*this.n*Math.sin(0.017453292519943295*a[1]))/this.n;return[this.get_scale()*
a*Math.sin(b)+this.get_translate()[0],this.get_scale()*(a*Math.cos(b)-this.p0)+this.get_translate()[1]]},_scale:null,_translate:null,_parallels:null,_origin:null,p0:null,C:null,n:null,lng0:null,__class__:Ba.Albers,__properties__:{set_origin:"set_origin",get_origin:"get_origin",set_parallels:"set_parallels",get_parallels:"get_parallels",set_translate:"set_translate",get_translate:"get_translate",set_scale:"set_scale",get_scale:"get_scale"}};Ba.AlbersUsa=function(){this.lower48=new Ba.Albers;this.alaska=
new Ba.Albers;this.alaska.set_origin([-160,60]);this.alaska.set_parallels([55,65]);this.hawaii=new Ba.Albers;this.hawaii.set_origin([-160,20]);this.hawaii.set_parallels([8,18]);this.puertoRico=new Ba.Albers;this.puertoRico.set_origin([-60,10]);this.puertoRico.set_parallels([8,18]);this.set_scale(this.lower48.get_scale())};y["thx.geo.AlbersUsa"]=Ba.AlbersUsa;Ba.AlbersUsa.__name__=["thx","geo","AlbersUsa"];Ba.AlbersUsa.__interfaces__=[Ba.IProjection];Ba.AlbersUsa.prototype={get_translate:function(){return this.lower48.get_translate()},
set_translate:function(a){var b=this.lower48.get_scale()/1E3,f=a[0],g=a[1];this.lower48.set_translate(a);this.alaska.set_translate([f-400*b,g+170*b]);this.hawaii.set_translate([f-190*b,g+200*b]);this.puertoRico.set_translate([f+580*b,g+430*b]);return a},get_scale:function(){return this.lower48.get_scale()},set_scale:function(a){this.lower48.set_scale(a);this.alaska.set_scale(0.6*a);this.hawaii.set_scale(a);this.puertoRico.set_scale(1.5*a);this.set_translate(this.lower48.get_translate());return a},
invert:function(){throw new ba.NotImplemented({fileName:"AlbersUsa.hx",lineNumber:67,className:"thx.geo.AlbersUsa",methodName:"invert"});},project:function(a){var b=a[0],f=a[1];return(50<f?this.alaska:-140>b?this.hawaii:21>f?this.puertoRico:this.lower48).project(a)},last:null,puertoRico:null,hawaii:null,alaska:null,lower48:null,__class__:Ba.AlbersUsa,__properties__:{set_translate:"set_translate",get_translate:"get_translate",set_scale:"set_scale",get_scale:"get_scale"}};Ba.Azimuthal=function(){this.set_mode(Ba.ProjectionMode.Orthographic);
this.set_scale(200);this.set_translate([480,250]);this.set_origin([0,0])};y["thx.geo.Azimuthal"]=Ba.Azimuthal;Ba.Azimuthal.__name__=["thx","geo","Azimuthal"];Ba.Azimuthal.__interfaces__=[Ba.IProjection];Ba.Azimuthal.prototype={get_mode:function(){return this.mode},set_mode:function(a){return this.mode=a},get_scale:function(){return this.scale},set_scale:function(a){return this.scale=a},set_translate:function(a){this.translate=[a[0],a[1]];return a},get_translate:function(){return this.translate.slice()},
set_origin:function(a){this.origin=[a[0],a[1]];this.x0=0.017453292519943295*a[0];this.y0=0.017453292519943295*a[1];this.cy0=Math.cos(this.y0);this.sy0=Math.sin(this.y0);return a},get_origin:function(){return this.origin.slice()},invert:function(a){var b=(a[0]-this.get_translate()[0])/this.get_scale(),a=(a[1]-this.get_translate()[1])/this.get_scale(),f=Math.sqrt(b*b+a*a),g,h;switch(this.get_mode()[1]){case 0:h=Math.asin(f);break;case 1:h=Math.atan(f)}g=h;h=Math.sin(g);g=Math.cos(g);return[(this.x0+
Math.atan2(b*h,f*this.cy0*g+a*this.sy0*h))/0.017453292519943295,Math.asin(g*this.sy0-a*h*this.cy0/f)/0.017453292519943295]},project:function(a){var b=0.017453292519943295*a[0]-this.x0,f=0.017453292519943295*a[1],a=Math.cos(b),b=Math.sin(b),g=Math.cos(f),f=Math.sin(f),h;switch(this.get_mode()[1]){case 0:h=1;break;case 1:h=1/(1+this.sy0*f+this.cy0*g*a)}a=h*(this.sy0*g*a-this.cy0*f);return[this.get_scale()*h*g*b+this.get_translate()[0],this.get_scale()*a+this.get_translate()[1]]},sy0:null,cy0:null,y0:null,
x0:null,translate:null,scale:null,origin:null,mode:null,__class__:Ba.Azimuthal,__properties__:{set_mode:"set_mode",get_mode:"get_mode",set_origin:"set_origin",get_origin:"get_origin",set_scale:"set_scale",get_scale:"get_scale",set_translate:"set_translate",get_translate:"get_translate"}};Ba.ProjectionMode={__ename__:["thx","geo","ProjectionMode"],__constructs__:["Orthographic","Stereographic"]};Ba.ProjectionMode.Orthographic=["Orthographic",0];Ba.ProjectionMode.Orthographic.toString=N;Ba.ProjectionMode.Orthographic.__enum__=
Ba.ProjectionMode;Ba.ProjectionMode.Stereographic=["Stereographic",1];Ba.ProjectionMode.Stereographic.toString=N;Ba.ProjectionMode.Stereographic.__enum__=Ba.ProjectionMode;Ba.Mercator=function(){this.set_scale(500);this.set_translate([480,250])};y["thx.geo.Mercator"]=Ba.Mercator;Ba.Mercator.__name__=["thx","geo","Mercator"];Ba.Mercator.__interfaces__=[Ba.IProjection];Ba.Mercator.prototype={set_translate:function(a){this.translate=[a[0],a[1]];return a},get_translate:function(){return this.translate.slice()},
get_scale:function(){return this.scale},set_scale:function(a){return this.scale=a},invert:function(a){var b=(a[0]-this.get_translate()[0])/this.get_scale(),a=(a[1]-this.get_translate()[1])/this.get_scale();return[360*b,2*Math.atan(Math.exp(-6.283185307179586*a))/0.017453292519943295-90]},project:function(a){var b=a[0]/360,a=-(Math.log(Math.tan(Math.PI/4+0.017453292519943295*a[1]/2))/0.017453292519943295)/360;return[this.get_scale()*b+this.get_translate()[0],this.get_scale()*Math.max(-0.5,Math.min(0.5,
a))+this.get_translate()[1]]},translate:null,scale:null,__class__:Ba.Mercator,__properties__:{set_scale:"set_scale",get_scale:"get_scale",set_translate:"set_translate",get_translate:"get_translate"}};da={Contour:function(){}};y["thx.geom.Contour"]=da.Contour;da.Contour.__name__=["thx","geom","Contour"];da.Contour.contourStart=function(a){for(var b=0,f=0;;){if(a(b,f))return[b,f];0==b?(b=f+1,f=0):(b-=1,f+=1)}return null};da.Contour.contour=function(a,b){var f=null==b?da.Contour.contourStart(a):b,g=
[],h=f[0],i=f[1],k=0,l=0,m=666,p=666;do l=0,a(h-1,i-1)&&(l+=1),a(h,i-1)&&(l+=2),a(h-1,i)&&(l+=4),a(h,i)&&(l+=8),6==l?(k=-1==p?-1:1,l=0):9==l?(k=0,l=1==m?-1:1):(k=da.Contour.contourDx[l],l=da.Contour.contourDy[l]),k!=m&&l!=p&&(g.push([h,i]),m=k,p=l),h+=k,i+=l;while(f[0]!=h||f[1]!=i);return g};da.Polygon=function(a){this.coordinates=a};y["thx.geom.Polygon"]=da.Polygon;da.Polygon.__name__=["thx","geom","Polygon"];da.Polygon.polygonInside=function(a,b,f){return(f[0]-b[0])*(a[1]-b[1])<(f[1]-b[1])*(a[0]-
b[0])};da.Polygon.polygonIntersect=function(a,b,f,g){var h=a[0],i=f[0],a=a[1],k=f[1],f=b[0]-h,l=g[0]-i,b=b[1]-a,g=g[1]-k,i=(l*(a-k)-g*(h-i))/(g*f-l*b);return[h+i*f,a+i*b]};da.Polygon.prototype={clip:function(a){for(var b,f=T.last(this.coordinates),g,h,i,k,l=0,m=this.coordinates.length;l<m;){g=l++;b=a.slice();a=[];g=this.coordinates[g];h=b[(k=b.length)-1];for(var p=0;p<k;)i=p++,i=b[i],da.Polygon.polygonInside(i,f,g)?(da.Polygon.polygonInside(h,f,g)||a.push(da.Polygon.polygonIntersect(h,i,f,g)),a.push(i)):
da.Polygon.polygonInside(h,f,g)&&a.push(da.Polygon.polygonIntersect(h,i,f,g)),h=i;f=g}return a},centroid:function(a){var b,f,g,h=0,i=0;null==a&&(a=1/(6*this.area()));for(var k=0,l=this.coordinates.length-1;k<l;)f=k++,b=this.coordinates[f],f=this.coordinates[f+1],g=b[0]*f[1]-f[0]*b[1],h+=(b[0]+f[0])*g,i+=(b[1]+f[1])*g;return[h*a,i*a]},area:function(){for(var a=this.coordinates.length,b=this.coordinates[a-1][0]*this.coordinates[0][1],f=this.coordinates[a-1][1]*this.coordinates[0][0],g=1;g<a;)var h=
g++,b=b+this.coordinates[h-1][0]*this.coordinates[h][1],f=f+this.coordinates[h-1][1]*this.coordinates[h][0];return 0.5*(f-b)},coordinates:null,__class__:da.Polygon};da.layout={};da.layout.Pie=function(){this._startAngle=function(){return 0};this._endAngle=function(){return 6.283185307179586};this._sort=null;this._value=function(a){return Number(a)}};y["thx.geom.layout.Pie"]=da.layout.Pie;da.layout.Pie.__name__=["thx","geom","layout","Pie"];da.layout.Pie.prototype={valuef:function(a){this._value=a;
return this},getValue:function(){return this._value},sort:function(a){this._sort=a;return this},getSort:function(){return this._sort},endAnglef:function(a){this._endAngle=a;return this},endAngle:function(a){return this.endAnglef(function(){return a})},getEndAngle:function(){return this._endAngle},startAnglef:function(a){this._startAngle=a;return this},startAngle:function(a){return this.startAnglef(function(){return a})},getStartAngle:function(){return this._startAngle},pie:function(a,b){var f=this._startAngle(a,
b),g=this._endAngle(a,b)-f,h=ka.range(a.length);if(null!=this._sort){var i=this._sort;h.sort(function(b,f){return i(a[b],a[f])})}var k=a.map(this._value),g=g/k.reduce(function(a,b){return a+b},0);Math.isFinite(g)||(g=0);var l,m=h.map(function(a,b){l=k[b];return{value:l,startAngle:f,endAngle:f+=l*g}});return a.map(function(a,b){return m[h[b]]})},_value:null,_sort:null,_endAngle:null,_startAngle:null,__class__:da.layout.Pie};da.layout.Stack=function(){this._order=da.layout.StackOrder.DefaultOrder;this._offset=
da.layout.StackOffset.ZeroOffset};y["thx.geom.layout.Stack"]=da.layout.Stack;da.layout.Stack.__name__=["thx","geom","layout","Stack"];da.layout.Stack.getStackOrder=function(a,b){switch(a[1]){case 0:return ka.range(b.length);case 1:var f=b.length,g=b.map(da.layout.Stack.stackMaxIndex),h=b.map(da.layout.Stack.stackReduceSum),i=ka.range(f),k=0,l=0,m=[],p=[];i.sort(function(a,b){return g[a]-g[b]});for(var r=0;r<f;){var q=r++,q=i[q];k<l?(k+=h[q],m.push(q)):(l+=h[q],p.push(q))}p.reverse();return p.concat(m);
case 2:return i=ka.range(b.length),i.reverse(),i}};da.layout.Stack.getStackOffset=function(a,b,f){switch(a[1]){case 0:for(var a=f.length,g=f[0].length,h=[],i=0,k,l=0;l<g;){for(var m=l++,p=k=0;p<a;){var r=p++;k+=f[r][m].y}k>i&&(i=k);h.push(k)}r=b[0];for(l=0;l<g;)m=l++,f[r][m].y0=(i-h[m])/2;break;case 1:var a=f.length,i=f[0],g=i.length,q,t=b[0],R,u,v,x,w;f[t][0].y0=k=w=0;for(l=1;l<g;){m=l++;for(p=R=0;p<a;)r=p++,R+=f[r][m].y;u=0;x=i[m].x-i[m-1].x;for(p=0;p<a;){r=p++;q=b[r];v=(f[q][m].y-f[q][m-1].y)/
(2*x);for(var ha=0;ha<r;){var za=ha++;v+=(f[h=b[za]][m].y-f[h][m-1].y)/x}u+=v*f[q][m].y}f[t][m].y0=k-=0!=R?u/R*x:0;k<w&&(w=k)}for(l=0;l<g;)m=l++,f[t][m].y0-=w;break;case 2:g=f[0].length;t=b[0];for(l=0;l<g;)m=l++,f[t][m].y0=0}};da.layout.Stack.stackMaxIndex=function(a){for(var b=0,f=a[0].y,g,h=a.length,i=1;i<h;){var k=i++;if((g=a[k].y)>f)b=k,f=g}return b};da.layout.Stack.stackReduceSum=function(a){return a.reduce(da.layout.Stack.stackSum,0)};da.layout.Stack.stackSum=function(a,b){return a+b.y};da.layout.Stack.prototype=
{offset:function(a){this._offset=a;return this},getOffset:function(){return this._offset},order:function(a){this._order=a;return this},getOrder:function(){return this._order},stack:function(a){for(var b=a.length,f=a[0].length,g=[],h=0;h<b;){var i=h++,k=[];g.push(k);for(var l=0;l<f;){var m=l++,p=a[i][m];k[m]={x:p.x,y:p.y,y0:0}}}k=da.layout.Stack.getStackOrder(this._order,g);da.layout.Stack.getStackOffset(this._offset,k,g);for(h=0;h<f;){m=h++;a=g[k[0]][m].y0;for(l=1;l<b;)i=l++,g[k[i]][m].y0=a+=g[k[i-
1]][m].y}return g},_offset:null,_order:null,__class__:da.layout.Stack};da.layout.StackOrder={__ename__:["thx","geom","layout","StackOrder"],__constructs__:["DefaultOrder","InsideOut","ReverseOrder"]};da.layout.StackOrder.DefaultOrder=["DefaultOrder",0];da.layout.StackOrder.DefaultOrder.toString=N;da.layout.StackOrder.DefaultOrder.__enum__=da.layout.StackOrder;da.layout.StackOrder.InsideOut=["InsideOut",1];da.layout.StackOrder.InsideOut.toString=N;da.layout.StackOrder.InsideOut.__enum__=da.layout.StackOrder;
da.layout.StackOrder.ReverseOrder=["ReverseOrder",2];da.layout.StackOrder.ReverseOrder.toString=N;da.layout.StackOrder.ReverseOrder.__enum__=da.layout.StackOrder;da.layout.StackOffset={__ename__:["thx","geom","layout","StackOffset"],__constructs__:["Silhouette","Wiggle","ZeroOffset"]};da.layout.StackOffset.Silhouette=["Silhouette",0];da.layout.StackOffset.Silhouette.toString=N;da.layout.StackOffset.Silhouette.__enum__=da.layout.StackOffset;da.layout.StackOffset.Wiggle=["Wiggle",1];da.layout.StackOffset.Wiggle.toString=
N;da.layout.StackOffset.Wiggle.__enum__=da.layout.StackOffset;da.layout.StackOffset.ZeroOffset=["ZeroOffset",2];da.layout.StackOffset.ZeroOffset.toString=N;da.layout.StackOffset.ZeroOffset.__enum__=da.layout.StackOffset;J={EdgeSplitter:function(){}};y["thx.graph.EdgeSplitter"]=J.EdgeSplitter;J.EdgeSplitter.__name__=["thx","graph","EdgeSplitter"];J.EdgeSplitter.prototype={split:function(a,b,f,g){var h=a.layers(),i,k;null==g&&(g=function(){});for(var l=a.graph.nodes.collection.iterator();l.hasNext();){var m=
l.next();i=a.cell(m);for(m=m.graph.edges.positives(m);m.hasNext();){var p=m.next();k=a.cell(p.head);if(i.layer!=k.layer&&i.layer!=k.layer-1&&i.layer!=k.layer+1){var r=[i.layer<k.layer?1:-1];k=ka.abs(k.layer-i.layer)-1;b.push(p.split(k,f,function(a){return function(b,f,j){h[i.layer+(1+j)*a[0]].push(b.head.id);g(b,f,j)}}(r)))}}}return new J.GraphLayout(a.graph,h)},__class__:J.EdgeSplitter};J.GraphElement=function(a,b,f){this.id=b;this.data=f;this.graph=a};y["thx.graph.GraphElement"]=J.GraphElement;
J.GraphElement.__name__=["thx","graph","GraphElement"];J.GraphElement.friendDestroy=function(a){return a};J.GraphElement.prototype={destroyed:function(){return null==this.graph},destroy:function(){this.graph=null;this.id=-1},data:null,id:null,graph:null,__class__:J.GraphElement};J.GEdge=function(a,b,f,g,h,i){J.GraphElement.call(this,a,b,i);this.tail=f;this.head=g;this.weight=h};y["thx.graph.GEdge"]=J.GEdge;J.GEdge.__name__=["thx","graph","GEdge"];J.GEdge.create=function(a,b,f,g,h,i){return new J.GEdge(a,
b,f,g,h,i)};J.GEdge.__super__=J.GraphElement;J.GEdge.prototype=g(J.GraphElement.prototype,{toString:function(){return null==this.graph?"Edge Destroyed":"Edge (n."+this.id+", tail: n."+this.tail.id+", head: n."+this.head.id+", weight : "+this.weight+(null==this.data?"":", data: "+I.string(this.data))+")"},friendRemove:function(){return this.graph.edges},remove:function(){this.graph.edges._remove(this)},invert:function(){var a=this.graph.edges.create(this.head,this.tail,this.weight,this.data);this.graph.edges._remove(this);
return a},other:function(a){if(a.graph!=this.graph)throw new ba.Error("node is part of the edge graph",null,null,{fileName:"GEdge.hx",lineNumber:61,className:"thx.graph.GEdge",methodName:"other"});if(this.tail==a)return this.head;if(this.head==a)return this.tail;throw new ba.Error("node is not part of the edge",null,null,{fileName:"GEdge.hx",lineNumber:67,className:"thx.graph.GEdge",methodName:"other"});},split:function(a,b,f){null==a&&(a=1);if(1>a)throw new ba.Error("the split times parameter must be an integer value greater than zero",
null,null,{fileName:"GEdge.hx",lineNumber:34,className:"thx.graph.GEdge",methodName:"split"});null==f&&(f=function(){});null==b&&(b=function(){return null});for(var g=this,h=[],i,k,l=g.graph,m=0;m<a;){var p=m++;i=l.nodes.create(b(g));k=l.edges.create(g.tail,i,g.weight,g.data);i=l.edges.create(i,g.head,g.weight,g.data);l.edges.remove(g);f(k,i,p);g=i;l=g.graph;h.push(k)}h.push(g);return h},destroy:function(){J.GraphElement.prototype.destroy.call(this);this.head=this.tail=null},weight:null,head:null,
tail:null,__class__:J.GEdge});J.GNode=function(a,b,f){J.GraphElement.call(this,a,b,f)};y["thx.graph.GNode"]=J.GNode;J.GNode.__name__=["thx","graph","GNode"];J.GNode.create=function(a,b,f){return new J.GNode(a,b,f)};J.GNode.__super__=J.GraphElement;J.GNode.prototype=g(J.GraphElement.prototype,{toString:function(){return null==this.graph?"Node Destroyed":"Node (n."+this.id+", positives "+this.graph.edges.positiveCount(this)+", negatives: "+this.graph.edges.negativeCount(this)+(null==this.data?"":", data: "+
I.string(this.data))+")"},friendEdges:function(){return this.graph.edges},friendRemove:function(){return this.graph.nodes},remove:function(){this.graph.nodes._remove(this)},negativeCount:function(){return this.graph.edges.negativeCount(this)},positiveCount:function(){return this.graph.edges.positiveCount(this)},edgeCount:function(){return this.graph.edges.edgeCount(this)},sortNegatives:function(a){this.graph.edges.sortNegatives(this,a)},sortPositives:function(a){this.graph.edges.sortPositives(this,
a)},negatives:function(){return this.graph.edges.negatives(this)},positives:function(){return this.graph.edges.positives(this)},edges:function(){return this.graph.edges.edges(this)},predecessorBy:function(a){return ga.firstf(this.graph.edges.positives(this),function(b){return b.head.id==a.id})},successorBy:function(a){return ga.firstf(this.graph.edges.negatives(this),function(b){return b.tail.id==a.id})},isPredecessorOf:function(a){return ga.contains(this.graph.edges.positives(this),null,function(b){return b.head.id==
a.id})},isSuccessorOf:function(a){return a.isPredecessorOf(this)},isIsolated:function(){return!this.graph.edges.edges(this).hasNext()},isSink:function(){return this.graph.edges.negatives(this).hasNext()&&!this.graph.edges.positives(this).hasNext()},isSource:function(){return this.graph.edges.positives(this).hasNext()&&!this.graph.edges.negatives(this).hasNext()},_weight:function(a){for(var b=0;a.hasNext();)var f=a.next(),b=b+f.weight;return b},negativeWeight:function(){return this._weight(this.graph.edges.negatives(this))},
positiveWeight:function(){return this._weight(this.graph.edges.positives(this))},connectedBy:function(a){if(a.graph!=this.graph)throw new ba.Error("the node is not part of this graph",null,null,{fileName:"GNode.hx",lineNumber:41,className:"thx.graph.GNode",methodName:"connectedBy"});var b=ga.firstf(this.graph.edges.positives(this),function(b){return b.head.id==a.id});return null!=b?b:ga.firstf(this.graph.edges.negatives(this),function(b){return b.tail.id==a.id})},isConnectedTo:function(a){if(a.graph!=
this.graph)throw new ba.Error("the node is not part of this graph",null,null,{fileName:"GNode.hx",lineNumber:30,className:"thx.graph.GNode",methodName:"isConnectedTo"});return ga.contains(this.graph.edges.positives(this),null,function(b){return b.head.id==a.id})||ga.contains(this.graph.edges.negatives(this),null,function(b){return b.tail.id==a.id})},destroy:function(){J.GraphElement.prototype.destroy.call(this)},__class__:J.GNode});J.Graph=function(a,b){this.nodes=J.GraphNodes.newInstance(this,a);
this.edges=J.GraphEdges.newInstance(this,b)};y["thx.graph.Graph"]=J.Graph;J.Graph.__name__=["thx","graph","Graph"];J.Graph.friendNodes=function(a){return a};J.Graph.friendEdges=function(a){return a};J.Graph.prototype={toString:function(){return"Graph (nodes: "+Fd.count(this.nodes.collection)+", edges: "+Fd.count(this.edges.collection)+")"},pickPath:function(a,b){return 0==a.length?null:b?T.min(a,function(a){return ga.reduce(h(a)(),function(a,b){return a+b.weight},0)}):T.min(a,function(a){return a.length})},
directedPath:function(a,b,f){null==f&&(f=!1);return this.pickPath(this.directedPaths(a,b),f)},directedPaths:function(a,b){var f=new cc.Set,g=[],h,i=null;(i=function(a,j){for(var k=[],l=j.graph.edges.positives(j);l.hasNext();){var m=l.next();h=m.head;f.exists(m.id)||(h==b?g.push(a.concat([m])):!h.isSink()&&!h.isSource()&&k.push(function(a,b,f){return function(){return a(b,f)}}(i,a.concat([m]),h)),f.add(m.id))}for(l=0;l<k.length;)m=k[l],++l,m()})([],a);return g},path:function(a,b,f){null==f&&(f=!1);
return this.pickPath(this.paths(a,b),f)},paths:function(a,b){var f=new cc.Set,g=[],h,i=null;(i=function(a,j){for(var k=[],l=j.graph.edges.edges(j);l.hasNext();){var m=l.next();h=m.other(j);f.exists(m.id)||(h==b?g.push(a.concat([m])):h.isSource()||k.push(function(a,b,f){return function(){return a(b,f)}}(i,a.concat([m]),h)),f.add(m.id))}for(l=0;l<k.length;)m=k[l],++l,m()})([],a);return g},findIsolated:function(){return ga.firstf(this.nodes.iterator(),function(a){return a.isIsolated()})},findIsolateds:function(){return ga.filter(this.nodes.iterator(),
function(a){return a.isIsolated()})},findSource:function(){return ga.firstf(this.nodes.iterator(),function(a){return a.isSource()})},findSources:function(){return ga.filter(this.nodes.iterator(),function(a){return a.isSource()})},findSink:function(){return ga.firstf(this.nodes.iterator(),function(a){return a.isSink()})},findSinks:function(){return ga.filter(this.nodes.iterator(),function(a){return a.isSink()})},clone:function(){var a=new J.Graph;a.nodes=this.nodes.copyTo(a);a.edges=this.edges.copyTo(a);
return a},clear:function(){this.edges.clear();this.nodes.clear()},empty:function(){return 0==ga.count(this.nodes.iterator())},edges:null,nodes:null,__class__:J.Graph};J.GraphCollection=function(b,f){var g=this;this.nextid=0;this.graph=b;this.idf=f;this.collection=new Od;this._map=new La;if(null!=f){var h=a(this,this.collectionCreate);this.collectionCreate=function(a){g._map.set(f(a.data),a);h(a)};var i=a(this,this.collectionRemove);this.collectionRemove=function(a){g._map.remove(f(a.data));i(a)}}this.onRemove=
new ce;this.onCreate=new ce};y["thx.graph.GraphCollection"]=J.GraphCollection;J.GraphCollection.__name__=["thx","graph","GraphCollection"];J.GraphCollection.prototype={toString:function(){return ga.map(this.collection.iterator(),function(a){return I.string(a)}).join(", ")},iterator:function(){return this.collection.iterator()},collectionRemove:function(a){this.collection.remove(a.id);this.onRemove.dispatch(a)},collectionCreate:function(a){this.onCreate.dispatch(a);this.collection.set(a.id,a)},get_length:function(){return Fd.count(this.collection)},
has:function(a){return a.graph==this.graph&&this.collection.exists(a.id)},get:function(a){return this.collection.get(a)},getById:function(a){return this._map.get(a)},length:null,_map:null,idf:null,nextid:null,collection:null,graph:null,onCreate:null,onRemove:null,__class__:J.GraphCollection,__properties__:{get_length:"get_length"}};J.GraphEdges=function(a,b){J.GraphCollection.call(this,a,b);this.edgesp=new Od;this.edgesn=new Od};y["thx.graph.GraphEdges"]=J.GraphEdges;J.GraphEdges.__name__=["thx",
"graph","GraphEdges"];J.GraphEdges.newInstance=function(a,b){return new J.GraphEdges(a,b)};J.GraphEdges.__super__=J.GraphCollection;J.GraphEdges.prototype=g(J.GraphCollection.prototype,{toString:function(){return"GraphEdges ("+Fd.count(this.collection)+"): "+J.GraphCollection.prototype.toString.call(this)},removeConnection:function(a,b,f){var g=f.get(b);null!=g&&(M.remove(g,a),0==g.length&&f.remove(b))},connections:function(a,b){var f=b.get(a);null==f&&b.set(a,f=[]);return f},clear:function(){for(var a=
ga.array(this.collection.iterator()).slice(),b=0;b<a.length;){var f=a[b];++b;this.remove(f)}},_unlink:function(a,b){var f=b.get(a.id);if(null!=f){for(var f=f.slice(),g=0;g<f.length;){var h=f[g];++g;h=this.get(h);null==h||null==h.graph||this._remove(h)}b.remove(a.id)}},unlinkNegatives:function(a){if(a.graph!=this.graph)throw new ba.Error("unlinkeNegatives: the node is not part of this graph",null,null,{fileName:"GraphEdges.hx",lineNumber:150,className:"thx.graph.GraphEdges",methodName:"unlinkNegatives"});
this._unlink(a,this.edgesn)},unlinkPositives:function(a){if(a.graph!=this.graph)throw new ba.Error("unlinkePositives: the node is not part of this graph",null,null,{fileName:"GraphEdges.hx",lineNumber:143,className:"thx.graph.GraphEdges",methodName:"unlinkPositives"});this._unlink(a,this.edgesp)},_edges:function(a,b){var f=this;return this._edgeids(a,b).map(function(a){return f.get(a)})},_edgeids:function(a,b){var f=b.get(a);null==f&&(f=[]);return f},edgeCount:function(a){return this._edgeids(a.id,
this.edgesp).length+this._edgeids(a.id,this.edgesn).length},negativeCount:function(a){return this._edgeids(a.id,this.edgesn).length},positiveCount:function(a){return this._edgeids(a.id,this.edgesp).length},edges:function(a){return M.iter(this._edges(a.id,this.edgesp).concat(this._edges(a.id,this.edgesn)))},_sort:function(a,b,f){var g=this,a=f.get(a.id);null!=a&&a.sort(function(a,f){var j=g.graph.edges.get(a),h=g.graph.edges.get(f);return b(j,h)})},sortNegatives:function(a,b){this._sort(a,b,this.edgesn)},
sortPositives:function(a,b){this._sort(a,b,this.edgesp)},negatives:function(a){return M.iter(this._edges(a.id,this.edgesn))},positives:function(a){return M.iter(this._edges(a.id,this.edgesp))},unlink:function(a){if(a.graph!=this.graph)throw new ba.Error("unlink: the node is not part of this graph",null,null,{fileName:"GraphEdges.hx",lineNumber:70,className:"thx.graph.GraphEdges",methodName:"unlink"});this._unlink(a,this.edgesp);this._unlink(a,this.edgesn)},_remove:function(a){this.collectionRemove(a);
this.removeConnection(a.id,a.tail.id,this.edgesp);this.removeConnection(a.id,a.head.id,this.edgesn);a.destroy()},remove:function(a){if(a.graph!=this.graph)throw new ba.Error("remove: the edge is not part of this graph",null,null,{fileName:"GraphEdges.hx",lineNumber:55,className:"thx.graph.GraphEdges",methodName:"remove"});this._remove(a)},_create:function(a,b,f,g,h){g=J.GEdge.create(this.graph,a,b,f,g,h);this.collectionCreate(g);this.connections(b.id,this.edgesp).push(a);this.connections(f.id,this.edgesn).push(a);
return g},create:function(a,b,f,g){null==f&&(f=1);if(a.graph!=b.graph||a.graph!=this.graph)throw new ba.Error("can't create an edge between nodes on different graphs",null,null,{fileName:"GraphEdges.hx",lineNumber:39,className:"thx.graph.GraphEdges",methodName:"create"});return this._create(++this.nextid,a,b,f,g)},copyTo:function(a){for(var b=new J.GraphEdges(a),a=a.nodes,f,g,h=this.collection.iterator();h.hasNext();){var i=h.next();f=a.get(i.tail.id);g=a.get(i.head.id);b._create(i.id,f,g,i.weight,
i.data)}b.nextid=this.nextid;return b},edgesn:null,edgesp:null,__class__:J.GraphEdges});J.GraphLayout=function(b,f){this.graph=b;this._layers=f.map(function(a){return a.slice()});this.friendCell=this._cell=new J.LayoutCell;this._updateMap();this.length=this._layers.length;b.nodes.onRemove.add(a(this,this._nodeRemove))};y["thx.graph.GraphLayout"]=J.GraphLayout;J.GraphLayout.__name__=["thx","graph","GraphLayout"];J.GraphLayout.arrayCrossings=function(a,b,f){for(var g=new Od,h=0,i=0,k=f.length;i<k;){var l=
i++;g.set(f[l],l)}if(1>=b.length||1>=f.length)return h;i=0;for(k=b.length;i<k;){l=i++;f=a.nodes.get(b[l]);for(f=f.graph.edges.positives(f);f.hasNext();){var m=f.next(),m=g.get(m.head.id);if(null!=m)for(var p=l+1,r=b.length;p<r;)for(var q=p++,q=a.nodes.get(b[q]),q=q.graph.edges.positives(q);q.hasNext();){var t=q.next();g.get(t.head.id)<m&&h++}}}return h};J.GraphLayout.prototype={toString:function(){return"GraphLayout ("+I.string(this.graph)+", layers: "+this._layers.length+", crossings : "+this.crossings()+
")"},_nodeRemove:function(a){a=this.cell(a);this._layers[a.layer].splice(a.position,1);0==this._layers[a.layer].length&&this._layers.splice(a.layer,1);this._updateMap()},maxCells:function(){return T.floatMax(this._layers,function(a){return a.length})|0},crossings:function(){for(var a=0,b=0,f=this._layers.length-1;b<f;)var g=b++,a=a+J.GraphLayout.arrayCrossings(this.graph,this._layers[g],this._layers[g+1]);return a},layers:function(){for(var a=[],b=0,f=this._layers;b<f.length;){var g=f[b];++b;a.push(g.slice())}return a},
layer:function(a){var b=this;return this._layers[a].map(function(a){return b.graph.nodes.get(a)})},nodeAt:function(a,b){var f=this._layers[a];return null==f||b>=f.length?null:this.graph.nodes.get(f[b])},cell:function(a){if(a.graph!=this.graph)throw new ba.Error("node doesn't belong to this graph",null,null,{fileName:"GraphLayout.hx",lineNumber:59,className:"thx.graph.GraphLayout",methodName:"cell"});a=this._map.get(a.id);return null==a?null:new J.LayoutCell(a[0],a[1],this._layers.length,this._layers[a[0]].length)},
each:function(a){for(var b=this._layers.length,f,g=0;g<b;){var h=g++;f=this._layers[h].length;for(var i=0;i<f;){var k=i++;this.friendCell.update(h,k,b,f);a(this._cell,this.graph.nodes.get(this._layers[h][k]))}}},clone:function(){return new J.GraphLayout(this.graph.clone(),this.layers())},_updateMap:function(){var a=this;this._map=new Od;this.each(function(b,f){a._map.set(f.id,[b.layer,b.position])})},friendCell:null,_map:null,_cell:null,_layers:null,length:null,graph:null,__class__:J.GraphLayout};
J.LayoutCell=function(a,b,f,g){null==g&&(g=0);null==f&&(f=0);null==b&&(b=0);null==a&&(a=0);this.layer=a;this.layers=f;this.position=b;this.positions=g};y["thx.graph.LayoutCell"]=J.LayoutCell;J.LayoutCell.__name__=["thx","graph","LayoutCell"];J.LayoutCell.prototype={toString:function(){return"LayoutCell, layer "+this.layer+" ("+this.layers+"), position "+this.position+" ("+this.positions+")"},update:function(a,b,f,g){this.layer=a;this.layers=f;this.position=b;this.positions=g},positions:null,layers:null,
position:null,layer:null,__class__:J.LayoutCell};J.GraphNodes=function(a,b){J.GraphCollection.call(this,a,b)};y["thx.graph.GraphNodes"]=J.GraphNodes;J.GraphNodes.__name__=["thx","graph","GraphNodes"];J.GraphNodes.newInstance=function(a,b){return new J.GraphNodes(a,b)};J.GraphNodes.__super__=J.GraphCollection;J.GraphNodes.prototype=g(J.GraphCollection.prototype,{toString:function(){return"GraphNodes ("+Fd.count(this.collection)+"): "+J.GraphCollection.prototype.toString.call(this)},clear:function(){for(var a=
ga.array(this.collection.iterator()).slice(),b=0;b<a.length;){var f=a[b];++b;this.remove(f)}},_remove:function(a){this.graph.edges.unlink(a);this.collectionRemove(a);a.destroy()},remove:function(a){if(a.graph!=this.graph)throw new ba.Error("the node is not part of this graph",null,null,{fileName:"GraphNodes.hx",lineNumber:39,className:"thx.graph.GraphNodes",methodName:"remove"});this._remove(a)},_create:function(a,b){var f=J.GNode.create(this.graph,a,b);this.collectionCreate(f);return f},create:function(a){return this._create(++this.nextid,
a)},copyTo:function(a){for(var a=new J.GraphNodes(a),b=this.collection.iterator();b.hasNext();){var f=b.next();a._create(f.id,f.data)}a.nextid=this.nextid;return a},__class__:J.GraphNodes});J.Graphs=function(){};y["thx.graph.Graphs"]=J.Graphs;J.Graphs.__name__=["thx","graph","Graphs"];J.Graphs.crossings=function(a,b){for(var f=new La,g=0,h=0,i=b.length;h<i;){var k=h++;f.set(b[k].vertex,k)}if(1>=a.length||1>=b.length)return g;h=0;for(i=a.length;h<i;)for(var k=h++,l=0,m=a[k].edgesp;l<m.length;){var p=
m[l];++l;p=f.get(p);if(null!=p)for(var r=k+1,q=a.length;r<q;)for(var t=r++,R=0,t=a[t].edgesp;R<t.length;){var u=t[R];++R;f.get(u)<p&&g++}}return g};J.Graphs.layoutCrossings=function(a){for(var b=0,f=0,g=a.length-1;f<g;)var h=f++,b=b+J.Graphs.crossings(a[h],a[h+1]);return b};J.Graphs.toMap=function(a){for(var b=new La,f=0,g=a.length;f<g;)for(var h=f++,i=0,k=a[h].length;i<k;){var l=i++;b.set(a[h][l].vertex,a[h][l])}return b};J.Graphs.toVertices=function(a){for(var b=[],f=0,g=a.length;f<g;)for(var h=
f++,i=0,k=a[h].length;i<k;){var l=i++;b.push(a[h][l].vertex)}return b};J.Graphs.toEdges=function(a){for(var b=[],f=0,g=a.length;f<g;)for(var h=f++,i=0,k=a[h].length;i<k;)for(var l=i++,m=a[h][l].vertex,p=0,l=a[h][l].edgesp;p<l.length;){var r=l[p];++p;b.push({a:m,b:r})}return b};J.Graphs.findMaxPositiveOverNegative=function(a){for(var b=null,f=0,a=a.iterator();a.hasNext();){var g=a.next(),h=g.edgesp.length-g.edgesn.length;if(null==b||f<h)b=g,f=h}return b};J.Graphs.isSink=function(a){return 0==a.edgesp.length&&
0<a.edgesn.length};J.Graphs.isSource=function(a){return 0==a.edgesn.length&&0==a.edgesp.length};J.Graphs.findSink=function(a){for(a=a.iterator();a.hasNext();){var b=a.next();if(0==b.edgesp.length&&0<b.edgesn.length)return b}return null};J.Graphs.findSource=function(a){for(a=a.iterator();a.hasNext();){var b=a.next();if(0==b.edgesn.length&&0<b.edgesp.length)return b}return null};J.Graphs.findAllIsolated=function(a){for(var b=[],a=a.iterator();a.hasNext();){var f=a.next();0==f.edgesn.length&&0==f.edgesp.length&&
b.push(f)}return b};J.Graphs.addConnection=function(a,b,f){var g=J.Graphs.findPath(a,f,b);null!=g&&g.every(function(a,b){return 0==b||b==g.length-1||J.Graphs.isDummy(a)})?(g.reverse(),J.Graphs.addConnections(a,g)):J.Graphs.addConnections(a,[b,f])};J.Graphs.addConnections=function(a,b){for(var f=0,g=b.length-1;f<g;){var h=f++,i=b[h],h=b[h+1];a.get(i).edgesp.push(h);a.get(h).edgesp.push(i)}};J.Graphs.reverseConnection=function(a,b,f){b=J.Graphs.findPath(a,b,f);if(null==b)return!1;for(var f=0,g=b.length-
1;f<g;){var h=f++,i=b[h],h=b[h+1],k=a.get(i),l=a.get(h);M.remove(k.edgesp,h);k.edgesn.push(h);M.remove(l.edgesn,i);l.edgesp.push(i)}return!0};J.Graphs.findPath=function(a,b,f){new cc.Set;var g,h,i=null,f=(i=function(f,k){for(var l=[],m=0,p=k.edgesn;m<p.length;){var r=p[m];++m;if(r==b)return f.concat([b]);J.Graphs.isSource(g=a.get(r))||l.push(function(a,b,f){return function(){return a(b,f)}}(i,f.concat([r]),g))}for(m=0;m<l.length;)if(p=l[m],++m,null!=(h=p()))return h;return null})([f],a.get(f));if(null==
f)return null;f.reverse();return f};J.Graphs.isDummy=function(a){return"#"==M.substr(a,0,1)};J.Graphs.createDummy=function(){return"#"+ ++J.Graphs.id};J.Graphs.removeNode=function(a,b){a.remove(b.vertex)};J.Graphs.addNode=function(a,b){a.set(b.vertex,b)};J.Graphs.clone=function(a){for(var b=new La,a=a.iterator();a.hasNext();){var f=a.next();J.Graphs.addNode(b,{vertex:f.vertex,edgesn:f.edgesn.slice(),edgesp:f.edgesp.slice()})}return b};J.Graphs.empty=function(a){return 0==Ec.count(a)};J.Graphs.count=
function(a){return Ec.count(a)};J.GreedyCyclePartitioner=function(){};y["thx.graph.GreedyCyclePartitioner"]=J.GreedyCyclePartitioner;J.GreedyCyclePartitioner.__name__=["thx","graph","GreedyCyclePartitioner"];J.GreedyCyclePartitioner.findMaxPositiveOverNegative=function(a){for(var b=null,f=0,a=a.nodes.collection.iterator();a.hasNext();){var g=a.next(),h=g.graph.edges.positiveCount(g)-g.graph.edges.negativeCount(g);if(null==b||f<h)b=g,f=h}return b};J.GreedyCyclePartitioner.prototype={partition:function(a){for(var b=
[],f=[],g=a.clone(),h;0!=ga.count(g.nodes.iterator());){for(;null!=(h=g.findSink());){for(var i=h.graph.edges.negatives(h);i.hasNext();){var k=i.next();f.unshift(a.edges.get(k.id));k.graph.edges._remove(k)}h.graph.nodes._remove(h)}h=0;for(k=g.findIsolateds();h<k.length;)i=k[h],++h,i.graph.nodes._remove(i);for(;null!=(h=g.findSource());){for(i=h.graph.edges.positives(h);i.hasNext();)k=i.next(),b.push(a.edges.get(k.id)),k.graph.edges._remove(k);h.graph.nodes._remove(h)}if(0!=ga.count(g.nodes.iterator())){h=
J.GreedyCyclePartitioner.findMaxPositiveOverNegative(g);for(i=h.graph.edges.negatives(h);i.hasNext();)k=i.next(),f.unshift(a.edges.get(k.id)),k.graph.edges._remove(k);for(i=h.graph.edges.positives(h);i.hasNext();)k=i.next(),b.push(a.edges.get(k.id)),k.graph.edges._remove(k);h.graph.nodes._remove(h)}}return{left:b,right:f}},__class__:J.GreedyCyclePartitioner};J.GreedySwitchDecrosser=function(){};y["thx.graph.GreedySwitchDecrosser"]=J.GreedySwitchDecrosser;J.GreedySwitchDecrosser.__name__=["thx","graph",
"GreedySwitchDecrosser"];J.GreedySwitchDecrosser.combined=function(){return{decross:function(a){a=(new J.GreedySwitchDecrosser).decross(a);return(new J.GreedySwitch2Decrosser).decross(a)}}};J.GreedySwitchDecrosser.best=function(){return{decross:function(a){a=[(new J.GreedySwitchDecrosser).decross(a),(new J.GreedySwitch2Decrosser).decross(a),J.GreedySwitchDecrosser.combined().decross(a)];return T.min(a,function(a){return a.crossings()})}}};J.GreedySwitchDecrosser.prototype={swap:function(a,b){var f=
a[b];a[b]=a[b+1];a[b+1]=f},decrossPair:function(a,b,f){var g=J.GraphLayout.arrayCrossings(a,b,f),h=g,i;do for(var g=h,k=0,l=f.length-1;k<l;){var m=k++;this.swap(f,m);(i=J.GraphLayout.arrayCrossings(a,b,f))>=h?this.swap(f,m):h=i}while(h<g)},decross:function(a){var b=a.layers(),f=a.graph,g=a;if(1>=b.length)return new J.GraphLayout(a.graph,b);var h,i,k=b.length-1,l;do{a=b.map(function(a){return a.slice()});g=new J.GraphLayout(f,b);h=g.crossings();for(i=0;i<k;)l=i++,b=a[l],l=a[l+1],this.decrossPair(f,
b,l);i=(new J.GraphLayout(f,a)).crossings();b=a}while(h>i);return g},__class__:J.GreedySwitchDecrosser};J.GreedySwitch2Decrosser=function(){J.GreedySwitchDecrosser.call(this)};y["thx.graph.GreedySwitch2Decrosser"]=J.GreedySwitch2Decrosser;J.GreedySwitch2Decrosser.__name__=["thx","graph","GreedySwitch2Decrosser"];J.GreedySwitch2Decrosser.__super__=J.GreedySwitchDecrosser;J.GreedySwitch2Decrosser.prototype=g(J.GreedySwitchDecrosser.prototype,{decrossTriplet:function(a,b,f,g){if(null==b)this.decrossPair(a,
f,g);else if(null==g)this.decrossPair(a,b,f);else{var h=J.GraphLayout.arrayCrossings(a,b,f)+J.GraphLayout.arrayCrossings(a,f,g),i=h,k;do for(var h=i,l=0,m=f.length-1;l<m;){var p=l++;this.swap(f,p);(k=J.GraphLayout.arrayCrossings(a,b,f)+J.GraphLayout.arrayCrossings(a,f,g))>=i?this.swap(f,p):i=k}while(i<h)}},decross:function(a){var b=a.layers(),f=a.graph,g=a;if(1>=b.length)return new J.GraphLayout(a.graph,b);var h,i,k=b.length-1,l;do{a=b.map(function(a){return a.slice()});g=new J.GraphLayout(f,b);h=
g.crossings();for(var m=0;m<k;)l=m++,b=a[l-1],i=a[l],l=a[l+1],this.decrossTriplet(f,b,i,l);i=(new J.GraphLayout(f,a)).crossings();b=a}while(h>i);return g},__class__:J.GreedySwitch2Decrosser});J.HeaviestNodeLayer=function(){};y["thx.graph.HeaviestNodeLayer"]=J.HeaviestNodeLayer;J.HeaviestNodeLayer.__name__=["thx","graph","HeaviestNodeLayer"];J.HeaviestNodeLayer.prototype={lay:function(a){var b=[],f=T.order(ga.array(a.nodes.iterator()),function(a,b){return V.compare(b.positiveWeight(),a.positiveWeight())}),
g,h=null;for(g=h=function(a,g){if(M.remove(f,a)){var j=b[g];null==j&&(j=b[g]=[]);j.push(a.id);for(j=a.graph.edges.positives(a);j.hasNext();){var i=j.next();h(i.head,g+1)}}};0<f.length;)g(f[0],0);for(g=0;g<b.length;){var i=b[g];++g;i.sort(function(b,f){return V.compare(a.nodes.get(f).positiveWeight(),a.nodes.get(b).positiveWeight())})}return b},__class__:J.HeaviestNodeLayer};J.LongestPathLayer=function(){};y["thx.graph.LongestPathLayer"]=J.LongestPathLayer;J.LongestPathLayer.__name__=["thx","graph",
"LongestPathLayer"];J.LongestPathLayer.distanceToASink=function(a,b){var f,g=null;f=g=function(a,b){for(var f=b;a.hasNext();){var j=a.next();j.head.isSink()||(f=ka.max(f,g(j.head.positives(),b+1)))}return f};return b.isIsolated()?0:f(b.graph.edges.positives(b),1)};J.LongestPathLayer.prototype={lay:function(a){for(var a=a.clone(),b=[[]],f=0,g=a.findSinks();f<g.length;){var h=g[f];++f;b[0].push(h.id)}f=0;for(g=ga.filter(a.nodes.iterator(),function(a){return!a.isSink()});f<g.length;){h=g[f];++f;var i=
J.LongestPathLayer.distanceToASink(a,h),k=b[i];null==k&&(k=b[i]=[]);k.push(h.id)}b.reverse();return b},__class__:J.LongestPathLayer};J.OneCycleRemover=function(){};y["thx.graph.OneCycleRemover"]=J.OneCycleRemover;J.OneCycleRemover.__name__=["thx","graph","OneCycleRemover"];J.OneCycleRemover.prototype={remove:function(a){for(var b=[],f=a.nodes.collection.iterator();f.hasNext();){var g=f.next(),a=g.predecessorBy(g);null!=a&&(b.push({node:g,weight:a.weight,data:a.data}),a.graph.edges._remove(a))}return b},
__class__:J.OneCycleRemover};J.SugiyamaMethod=function(a,b,f,g){this.partitioner=null==a?new J.GreedyCyclePartitioner:a;this.layer=null==b?new J.LongestPathLayer:b;this.splitter=null==f?new J.EdgeSplitter:f;this.decrosser=null==g?J.GreedySwitchDecrosser.best():g};y["thx.graph.SugiyamaMethod"]=J.SugiyamaMethod;J.SugiyamaMethod.__name__=["thx","graph","SugiyamaMethod"];J.SugiyamaMethod.prototype={resolve:function(a,b,f){var g=(new J.OneCycleRemover).remove(a),h=(new J.TwoCycleRemover).remove(a),i=this.partitioner.partition(a),
k=new La;(i.left.length>i.right.length?i.right:i.left).forEach(function(a){k.set(a.tail.id+"-"+a.head.id,[a.invert()])});i=this.layer.lay(a);a=new J.GraphLayout(a,i);i=[];a=this.splitter.split(a,i,b,f);i.forEach(function(a){var b=a[a.length-1].head.id+"-"+a[0].tail.id;k.exists(b)&&k.set(b,a)});a=this.decrosser.decross(a);for(b=k.iterator();b.hasNext();)b.next().forEach(function(a){a.invert()});for(b=0;b<h.length;)f=h[b],++b,a.graph.edges.create(f.tail,f.head,f.weight,f.data);for(b=0;b<g.length;)f=
g[b],++b,a.graph.edges.create(f.node,f.node,f.weight,f.data);return a},decrosser:null,splitter:null,layer:null,partitioner:null,__class__:J.SugiyamaMethod};J.TwoCycleRemover=function(){};y["thx.graph.TwoCycleRemover"]=J.TwoCycleRemover;J.TwoCycleRemover.__name__=["thx","graph","TwoCycleRemover"];J.TwoCycleRemover.prototype={remove:function(a){for(var b=[],a=a.nodes.collection.iterator();a.hasNext();)for(var f=a.next(),g=f.graph.edges.positives(f);g.hasNext();){var h=g.next().head.predecessorBy(f);
null!=h&&(b.push({tail:h.tail,head:h.head,weight:h.weight,data:h.data}),h.graph.edges._remove(h))}return b},__class__:J.TwoCycleRemover};oa={Json:function(){}};y["thx.json.Json"]=oa.Json;oa.Json.__name__=["thx","json","Json"];oa.Json.encode=function(a){if(null!=oa.Json.nativeEncoder)return oa.Json.nativeEncoder(a);var b=new oa.JsonEncoder;(new Rb.ValueEncoder(b)).encode(a);return b.encodedString};oa.Json.decode=function(a){if(null!=oa.Json.nativeDecoder)return oa.Json.nativeDecoder(a);var b=new Rb.ValueHandler;
(new oa.JsonDecoder(b)).decode(a);return b.value};oa.JsonDecoder=function(a,b){null==b&&(b=4);this.handler=a;this.tabsize=b};y["thx.json.JsonDecoder"]=oa.JsonDecoder;oa.JsonDecoder.__name__=["thx","json","JsonDecoder"];oa.JsonDecoder.prototype={error:function(a){var b=this.pos==this.src.length?"":"\nrest: "+(null!=this["char"]?this["char"]:"")+M.substr(this.src,this.pos,null)+"...";throw new ba.Error("error at L {0} C {1}: {2}{3}",[this.line,this.col,a,b],null,{fileName:"JsonDecoder.hx",lineNumber:358,
className:"thx.json.JsonDecoder",methodName:"error"});},parseDigits:function(a){null==a&&(a=0);for(var b="";;){var f=null;try{f=this.readChar()}catch(g){if(X.__instanceof(g,oa._JsonDecoder.StreamError))return b.length<a&&this.error("expected digit"),b;throw g;}var h=M.cca(f,0);if(48>h||57<h)return b.length<a&&this.error("expected digit"),this.col+=b.length,this["char"]=f,b;b+=f}return null},parseFloat:function(){var a="";this.expect("-")&&(a="-");if(this.expect("0"))a+="0";else{var b=this.readChar(),
f=M.cca(b,0);(49>f||57<f)&&this.error("expected digit between 1 and 9");a+=b;this.col++}try{a+=this.parseDigits()}catch(g){if(X.__instanceof(g,oa._JsonDecoder.StreamError)){this.handler.valueInt(I.parseInt(a));return}throw g;}try{if(this.expect("."))a+="."+this.parseDigits(1);else{this.handler.valueInt(I.parseInt(a));return}if(this.expect("e")||this.expect("E"))a+="e",this.expect("+")||this.expect("-")&&(a+="-"),a+=this.parseDigits(1)}catch(h){if(X.__instanceof(h,oa._JsonDecoder.StreamError)){this.handler.valueFloat(I.parseFloat(a));
return}throw h;}this.handler.valueFloat(I.parseFloat(a))},parseHexa:function(){for(var a=[],b=0;4>b;){b++;var f=this.readChar(),g=M.cca(f.toLowerCase(),0);48<=g&&57>=g||97<=g&&102>=g||this.error("invalid hexadecimal value "+f);a.push(f)}this.handler.valueInt(I.parseInt("0x"+a.join("")));return I.parseInt("0x"+a.join(""))},_parseString:function(){this.expect('"')||this.error("expected double quote");var a="",b=!1;try{for(;;){var f=this.readChar();this.col++;if(b){switch(f){case '"':a+='"';break;case "\\":a+=
"\\";break;case "/":a+="/";break;case "b":a+="\b";break;case "f":a+="\f";break;case "n":a+="\n";break;case "r":a+="\r";break;case "t":a+="\t";break;case "u":a+=String.fromCharCode(this.parseHexa());break;default:this.error("unexpected char "+f)}b=!1}else switch(f){case "\\":b=!0;break;case '"':throw"__break__";default:a+=f}}}catch(g){if("__break__"!=g)throw g;}return a},parseString:function(){this.handler.valueString(this._parseString())},parseValue:function(){this.expect("true")?this.handler.valueBool(!0):
this.expect("false")?this.handler.valueBool(!1):this.expect("null")?this.handler.valueNull():this.parseFloat()},parseArray:function(){this.ignoreWhiteSpace();var a=!0;for(this.handler.arrayStart();;){this.ignoreWhiteSpace();if(this.expect("]"))break;else a?a=!1:this.expect(",")?this.ignoreWhiteSpace():this.error("expected ','");this.handler.arrayItemStart();this.parse();this.handler.arrayItemEnd()}this.handler.arrayEnd()},parseObject:function(){var a=!0;for(this.handler.objectStart();;){this.ignoreWhiteSpace();
if(this.expect("}"))break;else a?a=!1:this.expect(",")?this.ignoreWhiteSpace():this.error("expected ','");var b=this._parseString();this.ignoreWhiteSpace();this.expect(":")||this.error("expected ':'");this.ignoreWhiteSpace();this.handler.objectFieldStart(b);this.parse();this.handler.objectFieldEnd()}this.handler.objectEnd()},expect:function(a){return(null==this["char"]?M.substr(this.src,this.pos,a.length):this["char"]+M.substr(this.src,this.pos,a.length-1))==a?(null==this["char"]?this.pos+=a.length:
(this.pos+=a.length-1,this["char"]=null),!0):!1},readChar:function(){if(null==this["char"]){if(this.pos==this.src.length)throw oa._JsonDecoder.StreamError.Eof;return this.src.charAt(this.pos++)}var a=this["char"];this["char"]=null;return a},parse:function(){var a=this.readChar();switch(a){case "{":return this.col++,this.ignoreWhiteSpace(),this.parseObject();case "[":return this.col++,this.ignoreWhiteSpace(),this.parseArray();case '"':return this["char"]=a,this.parseString();default:return this["char"]=
a,this.parseValue()}},ignoreWhiteSpace:function(){for(;this.pos<this.src.length;){var a=this.readChar();switch(a){case " ":this.col++;break;case "\n":this.col=0;this.line++;break;case "\r":break;case "\t":this.col+=this.tabsize;break;default:this["char"]=a;return}}},decode:function(a){this.line=this.col=0;this.src=a;this["char"]=null;this.pos=0;this.ignoreWhiteSpace();this.handler.start();try{this.parse()}catch(b){if(X.__instanceof(b,oa._JsonDecoder.StreamError))this.error("unexpected end of stream");
else throw b;}this.ignoreWhiteSpace();this.pos<this.src.length&&this.error("the stream contains unrecognized characters at its end");this.handler.end()},handler:null,pos:null,"char":null,src:null,tabsize:null,line:null,col:null,__class__:oa.JsonDecoder};oa._JsonDecoder={};oa._JsonDecoder.StreamError={__ename__:["thx","json","_JsonDecoder","StreamError"],__constructs__:["Eof"]};oa._JsonDecoder.StreamError.Eof=["Eof",0];oa._JsonDecoder.StreamError.Eof.toString=N;oa._JsonDecoder.StreamError.Eof.__enum__=
oa._JsonDecoder.StreamError;oa.JsonEncoder=function(){};y["thx.json.JsonEncoder"]=oa.JsonEncoder;oa.JsonEncoder.__name__=["thx","json","JsonEncoder"];oa.JsonEncoder.__interfaces__=[Rb.IDataHandler];oa.JsonEncoder.prototype={quote:function(a){return'"'+(new xa(".","")).customReplace((new xa("(\n)","g")).replace((new xa('("|\\\\)',"g")).replace(a,"\\$1"),"\\n"),function(a){a=M.cca(a.matched(0),0);return 32<=a&&127>=a?String.fromCharCode(a):"\\u"+aa.hex(a,4)})+'"'},comment:function(){},valueBool:function(a){this.buf.b+=
I.string(a?"true":"false")},valueNull:function(){this.buf.b+="null"},valueFloat:function(a){this.buf.b+=I.string(a)},valueInt:function(a){this.buf.b+=I.string(a)},valueString:function(a){this.buf.b+=I.string(this.quote(a))},valueDate:function(a){this.buf.b+=I.string(a.getTime())},arrayEnd:function(){this.buf.b+="]";this.count.pop()},arrayItemEnd:function(){},arrayItemStart:function(){0<this.count[this.count.length-1]++&&(this.buf.b+=",")},arrayStart:function(){this.buf.b+="[";this.count.push(0)},
objectEnd:function(){this.buf.b+="}";this.count.pop()},objectFieldEnd:function(){},objectFieldStart:function(a){0<this.count[this.count.length-1]++&&(this.buf.b+=",");this.buf.b+=I.string(this.quote(a)+":")},objectStart:function(){this.buf.b+="{";this.count.push(0)},end:function(){this.encodedString=this.buf.b;this.buf=null},start:function(){this.lvl=0;this.buf=new Gc;this.encodedString=null;this.count=[]},count:null,lvl:null,buf:null,encodedString:null,__class__:oa.JsonEncoder};S.Const=function(){};
y["thx.math.Const"]=S.Const;S.Const.__name__=["thx","math","Const"];S.Ease=function(){};y["thx.math.Ease"]=S.Ease;S.Ease.__name__=["thx","math","Ease"];S.Ease.mode=function(a,b){null==b&&(b=S.Equations.cubic);null==a&&(a=S.EaseMode.EaseIn);switch(a[1]){case 0:return b;case 1:return function(a){return 1-b(1-a)};case 2:return function(a){return 0.5*(0.5>a?b(2*a):2-b(2-2*a))};case 3:return S.Ease.mode(S.EaseMode.EaseInEaseOut,S.Ease.mode(S.EaseMode.EaseOut,b))}};S.EaseMode={__ename__:["thx","math","EaseMode"],
__constructs__:["EaseIn","EaseOut","EaseInEaseOut","EaseOutEaseIn"]};S.EaseMode.EaseIn=["EaseIn",0];S.EaseMode.EaseIn.toString=N;S.EaseMode.EaseIn.__enum__=S.EaseMode;S.EaseMode.EaseOut=["EaseOut",1];S.EaseMode.EaseOut.toString=N;S.EaseMode.EaseOut.__enum__=S.EaseMode;S.EaseMode.EaseInEaseOut=["EaseInEaseOut",2];S.EaseMode.EaseInEaseOut.toString=N;S.EaseMode.EaseInEaseOut.__enum__=S.EaseMode;S.EaseMode.EaseOutEaseIn=["EaseOutEaseIn",3];S.EaseMode.EaseOutEaseIn.toString=N;S.EaseMode.EaseOutEaseIn.__enum__=
S.EaseMode;S.Random=function(a){null==a&&(a=1);this.seed=a};y["thx.math.Random"]=S.Random;S.Random.__name__=["thx","math","Random"];S.Random.prototype={"float":function(){return((this.seed=16807*this.seed%2147483647)&1073741823)/1073741823},"int":function(){return(this.seed=16807*this.seed%2147483647)&1073741823},seed:null,__class__:S.Random};S.scale={};S.scale.IScale=function(){};y["thx.math.scale.IScale"]=S.scale.IScale;S.scale.IScale.__name__=["thx","math","scale","IScale"];S.scale.IScale.prototype=
{getRange:null,getDomain:null,scale:null,__class__:S.scale.IScale};S.scale.NumericScale=function(){this._domain=[0,1];this._range=[0,1];this.f=V.interpolatef;this._clamp=!1;this.rescale()};y["thx.math.scale.NumericScale"]=S.scale.NumericScale;S.scale.NumericScale.__name__=["thx","math","scale","NumericScale"];S.scale.NumericScale.__interfaces__=[S.scale.IScale];S.scale.NumericScale.scaleBilinear=function(a,b,f,g){var h=f(a[0],a[1]),i=g(b[0],b[1],null);return function(a){return i(h(a))}};S.scale.NumericScale.scalePolylinear=
function(a,b,f,g){for(var h=[],i=[],k=1,l=a.length;k<l;){var m=k++;h.push(f(a[m-1],a[m]));i.push(g(b[m-1],b[m],null))}return function(b){var f=T.bisectRight(a,b,1,a.length-1)-1;return i[f](h[f](b))}};S.scale.NumericScale.prototype={_this:function(){return this},transform:function(b,f,g,h){var i=this.getRange().map(function(a){return(a-f)/b});this.domain([g,h]);this.domain(i.map(a(this,this.invert)));return this},tickFormat:function(){throw new ba.AbstractMethod({fileName:"NumericScale.hx",lineNumber:91,
className:"thx.math.scale.NumericScale",methodName:"tickFormat"});},ticks:function(){throw new ba.AbstractMethod({fileName:"NumericScale.hx",lineNumber:86,className:"thx.math.scale.NumericScale",methodName:"ticks"});},clamp:function(a){this._clamp=a;return this.rescale()},getClamp:function(){return this._clamp},interpolatef:function(a){this.f=a;return this.rescale()},getInterpolate:function(){return this.f},rangeRound:function(a){this.range(a);this.interpolatef(ka.interpolatef);return this},range:function(a){this._range=
a;return this.rescale()},getRange:function(){return this._range},domain:function(a){this._domain=a;return this.rescale()},getDomain:function(){return this._domain},invert:function(a){return this._input(a)},scale:function(a){return this._output(a)},rescale:function(){var a=2==this._domain.length?S.scale.NumericScale.scaleBilinear:S.scale.NumericScale.scalePolylinear,b=this._clamp?V.uninterpolateClampf:V.uninterpolatef;this._output=a(this._domain,this._range,b,this.f);this._input=a(this._range,this._domain,
b,V.interpolatef);return this},_input:null,_output:null,_clamp:null,f:null,_range:null,_domain:null,__class__:S.scale.NumericScale};S.scale.Linear=function(){S.scale.NumericScale.call(this);this.m=10};y["thx.math.scale.Linear"]=S.scale.Linear;S.scale.Linear.__name__=["thx","math","scale","Linear"];S.scale.Linear.__super__=S.scale.NumericScale;S.scale.Linear.prototype=g(S.scale.NumericScale.prototype,{tickFormat:function(a){var b=Math.max(0,-Math.floor(Math.log(this.tickRange().step)/2.302585092994046+
0.01));return V.format(a,"D:"+b)},ticks:function(){var a=this.tickRange();return V.range(a.start,a.stop,a.step)},tickRange:function(){var a=T.min(this._domain),b=T.max(this._domain),f=b-a,g=Math.pow(10,Math.floor(Math.log(f/this.m)/2.302585092994046)),f=this.m/(f/g);0.15>=f?g*=10:0.35>=f?g*=5:0.75>=f&&(g*=2);return{start:Math.ceil(a/g)*g,stop:Math.floor(b/g)*g+0.5*g,step:g}},modulo:function(a){this.m=a;return this},getModulo:function(){return this.m},m:null,__class__:S.scale.Linear});S.scale.LinearT=
function(){this._domain=[0,1];this._range=null;this.f=S.scale.LinearT._f;this._clamp=!1;this.rescale()};y["thx.math.scale.LinearT"]=S.scale.LinearT;S.scale.LinearT.__name__=["thx","math","scale","LinearT"];S.scale.LinearT.__interfaces__=[S.scale.IScale];S.scale.LinearT._f=function(){return function(){return null}};S.scale.LinearT.scaleBilinear=function(a,b,f,g){var h=f(a[0],a[1]),i=g(b[0],b[1],null);return function(a){return i(h(a))}};S.scale.LinearT.scalePolylinear=function(a,b,f,g){for(var h=[],
i=[],k=1,l=a.length;k<l;){var m=k++;h.push(f(a[m-1],a[m]));i.push(g(b[m-1],b[m],null))}return function(b){var f=T.bisectRight(a,b,1,a.length-1)-1;return i[f](h[f](b))}};S.scale.LinearT.prototype={tickFormat:function(a){a=Math.max(0,-Math.floor(Math.log(this.tickRange(a).step)/2.302585092994046+0.01));return V.formatf("D:"+a)},ticks:function(a){a=this.tickRange(a);return V.range(a.start,a.stop,a.step)},tickRange:function(a){var b=Math.min(this._domain[0],this._domain[1]),f=Math.max(this._domain[0],
this._domain[1]),g=f-b,h=Math.pow(10,Math.floor(Math.log(g/a)/2.302585092994046)),a=a/(g/h);0.15>=a?h*=10:0.35>=a?h*=5:-75>=a&&(h*=2);return{start:Math.ceil(b/h)*h,stop:Math.floor(f/h)*h+0.5*h,step:h}},clamp:function(a){this._clamp=a;return this.rescale()},getClamp:function(){return this._clamp},interpolatef:function(a){this.f=a;return this.rescale()},getInterpolate:function(){return this.f},range:function(a){this._range=a;return this.rescale()},getRange:function(){return this._range},domain:function(a){this._domain=
a;return this.rescale()},getDomain:function(){return this._domain},scale:function(a){return this._output(a)},rescale:function(){if(null==this._range)return this;this._output=(2==this._domain.length?S.scale.LinearT.scaleBilinear:S.scale.LinearT.scalePolylinear)(this._domain,this._range,this._clamp?V.uninterpolateClampf:V.uninterpolatef,this.f);return this},_output:null,_clamp:null,f:null,_range:null,_domain:null,__class__:S.scale.LinearT};S.scale.Linears=function(){};y["thx.math.scale.Linears"]=S.scale.Linears;
S.scale.Linears.__name__=["thx","math","scale","Linears"];S.scale.Linears.forString=function(){return(new S.scale.LinearT).interpolatef(W.interpolatef)};S.scale.Linears.forHsl=function(){return(new S.scale.LinearT).interpolatef(q.Hsl.interpolatef)};S.scale.Linears.forHslString=function(){return(new S.scale.LinearT).interpolatef(function(a,b,f){if(W.empty(a)||W.empty(b))return function(){return""};var a=q.Hsl.toHsl(q.Colors.parse(a)),b=q.Hsl.toHsl(q.Colors.parse(b)),g=q.Hsl.interpolatef(a,b,f);return function(a){return g(a).toHslString()}})};
S.scale.Linears.forRgb=function(){return(new S.scale.LinearT).interpolatef(q.Rgb.interpolatef)};S.scale.Linears.forRgbString=function(){return(new S.scale.LinearT).interpolatef(function(a,b,f){if(W.empty(a)||W.empty(b))return function(){return""};var a=q.Colors.parse(a),b=q.Colors.parse(b),g=q.Rgb.interpolatef(a,b,f);return function(a){return g(a).toRgbString()}})};H={Arc:function(){this._r0=function(){return 0};this._r1=function(){return 1};this._a0=function(){return 0};this._a1=function(){return Math.PI}}};
y["thx.svg.Arc"]=H.Arc;H.Arc.__name__=["thx","svg","Arc"];H.Arc.fromObject=function(){return(new H.Arc).innerRadiusf(function(a){return a.innerRadius}).outerRadiusf(function(a){return a.outerRadius}).startAnglef(function(a){return a.startAngle}).endAnglef(function(a){return a.endAngle})};H.Arc.fromAngleObject=function(){return(new H.Arc).startAnglef(function(a){return a.startAngle}).endAnglef(function(a){return a.endAngle})};H.Arc.prototype={centroid:function(a,b){var f=(this._r0(a,b)+this._r1(a,
b))/2,g=(this._a0(a,b)+this._a1(a,b))/2+H.LineInternals.arcOffset;return[Math.cos(g)*f,Math.sin(g)*f]},shape:function(a,b){var f=this._a0(a,b)+H.LineInternals.arcOffset,g=this._a1(a,b)+H.LineInternals.arcOffset,h=g-f,i=h<Math.PI?"0":"1",k=Math.cos(f),f=Math.sin(f),l=Math.cos(g),g=Math.sin(g),m=this._r0(a,b),p=this._r1(a,b);return h>=H.LineInternals.arcMax?0!=m?"M0,"+p+"A"+p+","+p+" 0 1,1 0,"+-p+"A"+p+","+p+" 0 1,1 0,"+p+"M0,"+m+"A"+m+","+m+" 0 1,1 0,"+-m+"A"+m+","+m+" 0 1,1 0,"+m+"Z":"M0,"+p+"A"+
p+","+p+" 0 1,1 0,"+-p+"A"+p+","+p+" 0 1,1 0,"+p+"Z":0!=m?"M"+p*k+","+p*f+"A"+p+","+p+" 0 "+i+",1 "+p*l+","+p*g+"L"+m*l+","+m*g+"A"+m+","+m+" 0 "+i+",0 "+m*k+","+m*f+"Z":"M"+p*k+","+p*f+"A"+p+","+p+" 0 "+i+",1 "+p*l+","+p*g+"L0,0Z"},endAnglef:function(a){this._a1=a;return this},endAngle:function(a){return this.endAnglef(function(){return a})},getEndAngle:function(){return this._a1},startAnglef:function(a){this._a0=a;return this},startAngle:function(a){return this.startAnglef(function(){return a})},
getStartAngle:function(){return this._a0},outerRadiusf:function(a){this._r1=a;return this},outerRadius:function(a){return this.outerRadiusf(function(){return a})},getOuterRadius:function(){return this._r1},innerRadiusf:function(a){this._r0=a;return this},innerRadius:function(a){return this.innerRadiusf(function(){return a})},getInnerRadius:function(){return this._r0},_a1:null,_a0:null,_r1:null,_r0:null,__class__:H.Arc};H.Area=function(a,b,f,g){this._x=a;this._y0=b;this._y1=f;this._interpolator=g};
y["thx.svg.Area"]=H.Area;H.Area.__name__=["thx","svg","Area"];H.Area.pointArray=function(a){return new H.Area(function(a){return a[0]},function(a){return a[1]},function(a){return a[2]},a)};H.Area.pointObject=function(a){return new H.Area(function(a){return a.x},function(a){return a.y0},function(a){return a.y1},a)};H.Area.pointArray2=function(a){return new H.Area(function(a){return a[0]},function(){return 0},function(a){return a[1]},a)};H.Area.pointObjectXY=function(a){return new H.Area(function(a){return a.x},
function(){return 0},function(a){return a.y},a)};H.Area.prototype={y1:function(a){this._y1=a;return this},getY1:function(){return this._y1},y0:function(a){this._y0=a;return this},getY0:function(){return this._y0},x:function(a){this._x=a;return this},getX:function(){return this._x},interpolator:function(a){this._interpolator=a;return this},getInterpolator:function(){return this._interpolator},shape:function(a){var b=H.LineInternals.linePoints(a,this._x,this._y0);b.reverse();return 1>a.length?null:
"M"+H.LineInternals.interpolatePoints(H.LineInternals.linePoints(a,this._x,this._y1),this._interpolator)+"L"+H.LineInternals.interpolatePoints(b,this._interpolator)+"Z"},_interpolator:null,_y1:null,_y0:null,_x:null,__class__:H.Area};H.Diagonal=function(){this._projection=H.Diagonal.diagonalProjection};y["thx.svg.Diagonal"]=H.Diagonal;H.Diagonal.__name__=["thx","svg","Diagonal"];H.Diagonal.diagonalProjection=function(a){return a};H.Diagonal.forObject=function(){return(new H.Diagonal).sourcef(function(a){return[a.x0,
a.y0]}).targetf(function(a){return[a.x1,a.y1]})};H.Diagonal.forArray=function(){return(new H.Diagonal).sourcef(function(a){return[a[0],a[1]]}).targetf(function(a){return[a[2],a[3]]})};H.Diagonal.prototype={projection:function(a){this._projection=a;return this},getProjection:function(){return this._projection},targetf:function(a){this._target=a;return this},getTarget:function(){return this._target},sourcef:function(a){this._source=a;return this},getSource:function(){return this._source},diagonal:function(a,
b){var f=this._source(a,b),g=this._target(a,b),h=(f[1]+g[1])/2,f=[f,[f[0],h],[g[0],h],g].map(this._projection);return"M "+f[0][0]+" "+f[0][1]+" C "+f[1][0]+" "+f[1][1]+" "+f[2][0]+" "+f[2][1]+" "+f[3][0]+" "+f[3][1]},_projection:null,_target:null,_source:null,__class__:H.Diagonal};H.Line=function(a,b,f){this._x=a;this._y=b;this._interpolator=f};y["thx.svg.Line"]=H.Line;H.Line.__name__=["thx","svg","Line"];H.Line.pointArray=function(a){return new H.Line(function(a){return a[0]},function(a){return a[1]},
a)};H.Line.pointObject=function(a){return new H.Line(function(a){return a.x},function(a){return a.y},a)};H.Line.prototype={y:function(a){this._y=a;return this},getY:function(){return this._y},x:function(a){this._x=a;return this},getX:function(){return this._x},interpolator:function(a){this._interpolator=a;return this},getInterpolator:function(){return this._interpolator},shape:function(a){return 1>a.length?null:"M"+H.LineInternals.interpolatePoints(H.LineInternals.linePoints(a,this._x,this._y),this._interpolator)},
_interpolator:null,_y:null,_x:null,__class__:H.Line};H.LineInternals=function(){};y["thx.svg.LineInternals"]=H.LineInternals;H.LineInternals.__name__=["thx","svg","LineInternals"];H.LineInternals.linePoints=function(a,b,f){for(var g=[],h,i=0,k=a.length;i<k;){var l=i++;h=a[l];g.push([b(h,l),f(h,l)])}return g};H.LineInternals.interpolatePoints=function(a,b){null==b&&(b=H.LineInterpolator.Linear);var f=[],g=0,h=a.length,i=a[0],k=b;switch(k[1]){case 0:for(f.push(i[0]+","+i[1]);++g<h;)i=a[g],f.push("L"+
i[0]+","+i[1]);break;case 1:for(f.push(i[0]+","+i[1]);++g<h-1;)i=a[g],k=a[g+1],f.push("H"+(i[0]+k[0])/2+"V"+i[1]);i=a[g];f.push("H"+i[0]+"V"+i[1]);break;case 2:for(f.push(i[0]+","+i[1]);++g<h;)i=a[g],f.push("V"+i[1]+"H"+i[0]);break;case 3:for(f.push(i[0]+","+i[1]);++g<h;)i=a[g],f.push("H"+i[0]+"V"+i[1]);break;case 4:if(3>a.length)return H.LineInternals.interpolatePoints(a,H.LineInterpolator.Linear);var g=1,i=a[1],l=i[0],m=i[1],k=[l,l,l,i[0]],p=[m,m,m,i[1]];f.push(l+","+m);for(H.LineInternals._lineBasisBezier(f,
k,p);++g<h;)i=a[g],k.shift(),k.push(i[0]),p.shift(),p.push(i[1]),H.LineInternals._lineBasisBezier(f,k,p);for(g=-1;2>++g;)k.shift(),k.push(i[0]),p.shift(),p.push(i[1]),H.LineInternals._lineBasisBezier(f,k,p);break;case 5:if(4>a.length)return H.LineInternals.interpolatePoints(a,H.LineInterpolator.Linear);g=-1;k=[0];for(p=[0];3>++g;)i=a[g],k.push(i[0]),p.push(i[1]);f.push(H.LineInternals._lineDot4(H.LineInternals._lineBasisBezier3,k)+","+H.LineInternals._lineDot4(H.LineInternals._lineBasisBezier3,p));
for(--g;++g<h;)i=a[g],k.shift(),k.push(i[0]),p.shift(),p.push(i[1]),H.LineInternals._lineBasisBezier(f,k,p);break;case 6:g=-1;l=h+4;k=[];for(p=[];4>++g;)i=a[g%h],k.push(i[0]),p.push(i[1]);f.push(H.LineInternals._lineDot4(H.LineInternals._lineBasisBezier3,k)+","+H.LineInternals._lineDot4(H.LineInternals._lineBasisBezier3,p));for(--g;++g<l;)i=a[g%h],k.shift(),k.push(i[0]),p.shift(),p.push(i[1]),H.LineInternals._lineBasisBezier(f,k,p);break;case 7:return f=k[2],null==f&&(f=0.7),3>a.length?H.LineInternals.interpolatePoints(a,
H.LineInterpolator.Linear):a[0][0]+","+a[0][1]+H.LineInternals._lineHermite(a,H.LineInternals._lineCardinalTangents(a,f));case 8:return f=k[2],4>a.length?H.LineInternals.interpolatePoints(a,H.LineInterpolator.Linear):a[1][0]+","+a[1][1]+I.string(H.LineInternals._lineCardinalTangents(a,f));case 9:return f=k[2],null==f&&(f=0.7),3>a.length?H.LineInternals.interpolatePoints(a,H.LineInterpolator.Linear):a[0][0]+","+a[0][1]+H.LineInternals._lineHermite(a,H.LineInternals._lineCardinalTangents([a[a.length-
2]].concat(a).concat([a[1]]),f));case 10:return 3>a.length?H.LineInternals.interpolatePoints(a,H.LineInterpolator.Linear):a[0][0]+","+a[0][1]+H.LineInternals._lineHermite(a,H.LineInternals._lineMonotoneTangents(a))}return f.join("")};H.LineInternals._lineDot4=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};H.LineInternals._lineBasisBezier=function(a,b,f){a.push("C"+H.LineInternals._lineDot4(H.LineInternals._lineBasisBezier1,b)+","+H.LineInternals._lineDot4(H.LineInternals._lineBasisBezier1,
f)+","+H.LineInternals._lineDot4(H.LineInternals._lineBasisBezier2,b)+","+H.LineInternals._lineDot4(H.LineInternals._lineBasisBezier2,f)+","+H.LineInternals._lineDot4(H.LineInternals._lineBasisBezier3,b)+","+H.LineInternals._lineDot4(H.LineInternals._lineBasisBezier3,f))};H.LineInternals._lineSlope=function(a,b){return(b[1]-a[1])/(b[0]-a[0])};H.LineInternals._lineFiniteDifferences=function(a){for(var b=0,f=a.length-1,g=[],h=a[1],i=g[0]=H.LineInternals._lineSlope(a[0],h);++b<f;)g[b]=i+(i=H.LineInternals._lineSlope(h,
h=a[b+1]));g[b]=i;return g};H.LineInternals._lineMonotoneTangents=function(a){for(var b=[],f,g,h,i,k=H.LineInternals._lineFiniteDifferences(a),l=-1,m=a.length-1;++l<m;)f=H.LineInternals._lineSlope(a[l],a[l+1]),1E-6>Math.abs(f)?k[l]=k[l+1]=0:(g=k[l]/f,h=k[l+1]/f,i=g*g+h*h,9<i&&(i=3*f/Math.sqrt(i),k[l]=i*g,k[l+1]=i*h));for(l=-1;++l<=m;)i=(a[ka.min(m,l+1)][0]-a[ka.max(0,l-1)][0])/(6*(1+k[l]*k[l])),b.push([Math.isFinite(i)?i:0,Math.isFinite(i*=k[l])?i:0]);return b};H.LineInternals._lineHermite=function(a,
b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return H.LineInternals.interpolatePoints(a,H.LineInterpolator.Linear);var f=a.length!=b.length,g="",h=a[0],i=a[1],k=b[0],l=k,m=1;f&&(g+="Q"+(i[0]-2*k[0]/3)+","+(i[1]-2*k[1]/3)+","+i[0]+","+i[1],h=a[1],m=2);if(1<b.length){l=b[1];i=a[m];m++;g+="C"+(h[0]+k[0])+","+(h[1]+k[1])+","+(i[0]-l[0])+","+(i[1]-l[1])+","+i[0]+","+i[1];h=2;for(k=b.length;h<k;)l=h++,i=a[m],l=b[l],g+="S"+(i[0]-l[0])+","+(i[1]-l[1])+","+i[0]+","+i[1],m++}f&&(f=a[m],g+="Q"+
(i[0]+2*l[0]/3)+","+(i[1]+2*l[1]/3)+","+f[0]+","+f[1]);return g};H.LineInternals._lineCardinalTangents=function(a,b){for(var f=[],g=(1-b)/2,h=a[0],i=a[1],k=a[2],l=2,m=a.length;++l<m;)f.push([g*(k[0]-h[0]),g*(k[1]-h[1])]),h=i,i=k,k=a[l];f.push([g*(k[0]-h[0]),g*(k[1]-h[1])]);return f};H.LineInterpolator={__ename__:["thx","svg","LineInterpolator"],__constructs__:"Linear Step StepBefore StepAfter Basis BasisOpen BasisClosed Cardinal CardinalOpen CardinalClosed Monotone".split(" ")};H.LineInterpolator.Linear=
["Linear",0];H.LineInterpolator.Linear.toString=N;H.LineInterpolator.Linear.__enum__=H.LineInterpolator;H.LineInterpolator.Step=["Step",1];H.LineInterpolator.Step.toString=N;H.LineInterpolator.Step.__enum__=H.LineInterpolator;H.LineInterpolator.StepBefore=["StepBefore",2];H.LineInterpolator.StepBefore.toString=N;H.LineInterpolator.StepBefore.__enum__=H.LineInterpolator;H.LineInterpolator.StepAfter=["StepAfter",3];H.LineInterpolator.StepAfter.toString=N;H.LineInterpolator.StepAfter.__enum__=H.LineInterpolator;
H.LineInterpolator.Basis=["Basis",4];H.LineInterpolator.Basis.toString=N;H.LineInterpolator.Basis.__enum__=H.LineInterpolator;H.LineInterpolator.BasisOpen=["BasisOpen",5];H.LineInterpolator.BasisOpen.toString=N;H.LineInterpolator.BasisOpen.__enum__=H.LineInterpolator;H.LineInterpolator.BasisClosed=["BasisClosed",6];H.LineInterpolator.BasisClosed.toString=N;H.LineInterpolator.BasisClosed.__enum__=H.LineInterpolator;H.LineInterpolator.Cardinal=function(a){a=["Cardinal",7,a];a.__enum__=H.LineInterpolator;
a.toString=N;return a};H.LineInterpolator.CardinalOpen=function(a){a=["CardinalOpen",8,a];a.__enum__=H.LineInterpolator;a.toString=N;return a};H.LineInterpolator.CardinalClosed=function(a){a=["CardinalClosed",9,a];a.__enum__=H.LineInterpolator;a.toString=N;return a};H.LineInterpolator.Monotone=["Monotone",10];H.LineInterpolator.Monotone.toString=N;H.LineInterpolator.Monotone.__enum__=H.LineInterpolator;H.LineInterpolators=function(){};y["thx.svg.LineInterpolators"]=H.LineInterpolators;H.LineInterpolators.__name__=
["thx","svg","LineInterpolators"];H.LineInterpolators.parse=function(a,b){null==b&&(b=":");var f;switch(a.split(b)[0].toLowerCase()){case "basis":f=H.LineInterpolator.Basis;break;case "basisopen":f=H.LineInterpolator.BasisOpen;break;case "basisclosed":f=H.LineInterpolator.BasisClosed;break;case "cardinal":f=H.LineInterpolator.Cardinal(H.LineInterpolators.argument(a,b));break;case "cardinalopen":f=H.LineInterpolator.CardinalOpen(H.LineInterpolators.argument(a,b));break;case "cardinalclosed":f=H.LineInterpolator.CardinalClosed(H.LineInterpolators.argument(a,
b));break;case "monotone":f=H.LineInterpolator.Monotone;break;case "step":f=H.LineInterpolator.Step;break;case "stepafter":f=H.LineInterpolator.StepAfter;break;case "stepbefore":f=H.LineInterpolator.StepBefore;break;default:f=H.LineInterpolator.Linear}return f};H.LineInterpolators.argument=function(a,b){var f=a.split(b)[1];return null==f?null:I.parseFloat(f)};H.PathGeoJson=function(){this.set_pointRadius(4.5);this.set_projection(new Ba.AlbersUsa);this.pathTypes=new H.PathTypes(this);this.centroidTypes=
new H.CentroidTypes(this);this.areaTypes=new H.AreaTypes(this)};y["thx.svg.PathGeoJson"]=H.PathGeoJson;H.PathGeoJson.__name__=["thx","svg","PathGeoJson"];H.PathGeoJson.circle=function(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"};H.PathGeoJson.bounds=function(a){var b=Math.POSITIVE_INFINITY,f=Math.POSITIVE_INFINITY,g=Math.NEGATIVE_INFINITY,h=Math.NEGATIVE_INFINITY;H.PathGeoJson.applyBounds(a,function(a,j){a<b&&(b=a);a>g&&(g=a);j<f&&(f=j);j>h&&(h=j)});return[[b,f],
[g,h]]};H.PathGeoJson.applyBounds=function(a,b){switch(a.type){case "Feature":H.PathGeoJson.applyBounds(a.geometry,b);break;case "FeatureCollection":for(var f=0,g=a.features;f<g.length;){var h=g[f];++f;H.PathGeoJson.applyBounds(h.geometry,b)}break;case "LineString":case "MultiPoint":h=a.coordinates;for(f=0;f<h.length;){var i=h[f];++f;b(i[0],i[1])}break;case "MultiLineString":h=a.coordinates;for(f=0;f<h.length;){i=h[f];++f;for(g=0;g<i.length;){var k=i[g];++g;b(k[0],k[1])}}break;case "MultiPolygon":h=
a.coordinates;for(f=0;f<h.length;){i=h[f];++f;g=0;for(i=i[0];g<i.length;)k=i[g],++g,b(k[0],k[1])}break;case "Point":h=a.coordinates;b(h[0],h[1]);break;case "Polygon":h=a.coordinates;f=0;for(g=h[0];f<g.length;)i=g[f],++f,b(i[0],i[1]);break;default:throw new ba.Error("invalid geomtry type '{0}'",null,a.type,{fileName:"PathGeoJson.hx",lineNumber:113,className:"thx.svg.PathGeoJson",methodName:"applyBounds"});}};H.PathGeoJson.prototype={set_projection:function(a){return this.projection=a},set_pointRadius:function(a){this.pointRadius=
a;this.pathCircle=H.PathGeoJson.circle(a);return a},area:function(a){return this.areaTypes.area(a)},centroid:function(a){return this.centroidTypes.centroid(a)},path:function(a){return this.pathTypes.path(a)},areaTypes:null,centroidTypes:null,pathTypes:null,pathCircle:null,projection:null,pointRadius:null,__class__:H.PathGeoJson,__properties__:{set_pointRadius:"set_pointRadius",set_projection:"set_projection"}};H.PathTypes=function(a){this.geo=a};y["thx.svg.PathTypes"]=H.PathTypes;H.PathTypes.__name__=
["thx","svg","PathTypes"];H.PathTypes.prototype={project:function(a){return this.geo.projection.project(a).join(",")},geometryCollection:function(a){for(var b=[],f=0,a=a.geometries;f<a.length;){var g=a[f];++f;b.push(this.path(g))}return b.join("")},multiPolygon:function(a){for(var b=[],a=a.coordinates,f=0;f<a.length;){var g=a[f];++f;for(var h=0;h<g.length;){var i=g[h];++h;b.push("M");for(var k=0;k<i.length;){var l=i[k];++k;b.push(this.project(l));b.push("L")}b[b.length-1]="Z"}}return b.join("")},
polygon:function(a){for(var b=[],a=a.coordinates,f=0;f<a.length;){var g=a[f];++f;b.push("M");for(var h=0,i=g.length;h<i;){var k=h++;b.push(this.project(g[k]));b.push("L")}b[b.length-1]="Z"}return b.join("")},multiLineString:function(a){for(var b=[],a=a.coordinates,f=0;f<a.length;){var g=a[f];++f;b.push("M");for(var h=0,i=g.length;h<i;){var k=h++;b.push(this.project(g[k]));b.push("L")}b.pop()}return b.join("")},lineString:function(a){for(var b=[],a=a.coordinates,f=0,g=a.length;f<g;){var h=f++;b.push(this.project(a[h]))}return"M"+
b.join("L")},multiPoint:function(a){for(var b=[],a=a.coordinates,f=0,g=a.length;f<g;){var h=f++;b.push("M"+this.project(a[h])+this.geo.pathCircle)}return b.join("")},point:function(a){return"M"+this.project(a.coordinates)+this.geo.pathCircle},feature:function(a){return this.path(a.geometry)},featureCollection:function(a){for(var b=[],a=a.features,f=0,g=a.length;f<g;){var h=f++;b.push(this.path(a[h].geometry))}return b.join("")},path:function(a){var b=B.field(this,W.lcfirst(a.type));return null==b?
"":b.apply(this,[a])},geo:null,__class__:H.PathTypes};H.AreaTypes=function(a){this.geo=a};y["thx.svg.AreaTypes"]=H.AreaTypes;H.AreaTypes.__name__=["thx","svg","AreaTypes"];H.AreaTypes.prototype={project:function(a){return this.geo.projection.project(a)},parea:function(b){return Math.abs((new da.Polygon(b.map(a(this,this.project)))).area())},polygonArea:function(a){for(var b=this.parea(a[0]),f=1,g=a.length;f<g;)var h=f++,b=b-this.parea(a[h]);return b},geometryCollection:function(a){for(var b=0,f=0,
a=a.geometries;f<a.length;){var g=a[f];++f;b+=this.area(g)}return b},multiPolygon:function(a){for(var b=0,a=a.coordinates,f=0;f<a.length;){var g=a[f];++f;b+=this.polygonArea(g)}return b},polygon:function(a){return this.polygonArea(a.coordinates)},multiLineString:function(){return 0},lineString:function(){return 0},multiPoint:function(){return 0},point:function(){return 0},feature:function(a){return this.area(a.geometry)},featureCollection:function(a){for(var b=0,f=0,a=a.features;f<a.length;){var g=
a[f];++f;b+=this.area(g.geometry)}return b},area:function(a){var b=B.field(this,W.lcfirst(a.type));return null==b?0:b.apply(this,[a])},geo:null,__class__:H.AreaTypes};H.CentroidTypes=function(a){this.geo=a};y["thx.svg.CentroidTypes"]=H.CentroidTypes;H.CentroidTypes.__name__=["thx","svg","CentroidTypes"];H.CentroidTypes.prototype={project:function(a){return this.geo.projection.project(a)},polygonCentroid:function(b){for(var f=new da.Polygon(b[0].map(a(this,this.project))),g=f.centroid(1),h=g[0],i=
g[1],k=Math.abs(f.area()),l=1,m=b.length;l<m;)f=l++,f=new da.Polygon(b[f].map(a(this,this.project))),g=f.centroid(1),h-=g[0],i-=g[1],k-=Math.abs(f.area());return[h,i,6*k]},multiPolygon:function(a){for(var b=0,f=0,g=0,h,a=a.coordinates,i=0;i<a.length;)h=a[i],++i,h=this.polygonCentroid(h),b+=h[0],f+=h[1],g+=h[2];return[b/g,f/g]},polygon:function(a){a=this.polygonCentroid(a.coordinates);return[a[0]/a[2],a[1]/a[2]]},feature:function(a){return this.centroid(a.geometry)},point:function(a){return this.project(a.coordinates)},
centroid:function(a){var b=B.field(this,W.lcfirst(a.type));return null==b?[0,0]:b.apply(this,[a])},geo:null,__class__:H.CentroidTypes};H.Symbol=function(){};y["thx.svg.Symbol"]=H.Symbol;H.Symbol.__name__=["thx","svg","Symbol"];H.Symbol.triangleDown=function(a){var a=Math.sqrt(a/H.Symbol.sqrt3),b=a*H.Symbol.sqrt3/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"};H.Symbol.triangleUp=function(a){var a=Math.sqrt(a/H.Symbol.sqrt3),b=a*H.Symbol.sqrt3/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"};H.Symbol.square=
function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"};H.Symbol.diamond=function(a){var a=Math.sqrt(a/(2*H.Symbol.tan30)),b=a*H.Symbol.tan30;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"};H.Symbol.cross=function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"};H.Symbol.circle=function(a){a=Math.sqrt(a/Math.PI);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"};H.Symbol.arrowUp=
function(a){a=Math.sqrt(a/2);return"M"+-a+",0h"+a/2+"v"+a+"h"+a+"v"+-a+"h"+a/2+"l"+-a+","+-a+"Z"};H.Symbol.arrowDown=function(a){a=Math.sqrt(a/2);return"M"+-a+",0h"+a/2+"v"+-a+"h"+a+"v"+a+"h"+a/2+"l"+-a+","+a+"Z"};H.Symbol.arrowDownWide=function(a){a=Math.sqrt(a/2.5);return"M"+-a+",0h"+a/4+"v"+-a+"h"+1.5*a+"v"+a+"h"+a/4+"l"+-a+","+a+"Z"};H.Symbol.arrowRight=function(a){a=Math.sqrt(a/2);return"M0,"+-a+"v"+a/2+"h"+-a+"v"+a+"h"+a+"v"+a/2+"l"+a+","+-a+"Z"};H.Symbol.arrowLeft=function(a){a=Math.sqrt(a/
2);return"M0,"+-a+"v"+a/2+"h"+a+"v"+a+"h"+-a+"v"+a/2+"l"+-a+","+-a+"Z"};H.Symbol.star=function(a){a=Math.sqrt(a/0.31027)/2;return"M0,"+-a+"L"+0.236*a+","+-0.325*a+" "+0.951*a+","+-0.309*a+" "+0.382*a+","+0.124*a+" "+0.588*a+","+0.809*a+" "+0*a+","+0.401*a+" "+-0.588*a+","+0.809*a+" "+-0.382*a+","+0.124*a+" "+-0.951*a+","+-0.309*a+" "+-0.236*a+","+-0.325*a+" Z"};xb={ITranslation:function(){}};y["thx.translation.ITranslation"]=xb.ITranslation;xb.ITranslation.__name__=["thx","translation","ITranslation"];
xb.ITranslation.prototype={plural:null,singular:null,__class__:xb.ITranslation};Aa.MacroVersion=function(){};y["thx.util.MacroVersion"]=Aa.MacroVersion;Aa.MacroVersion.__name__=["thx","util","MacroVersion"];Aa.Result={__ename__:["thx","util","Result"],__constructs__:["Ok","Failure"]};Aa.Result.Ok=["Ok",0];Aa.Result.Ok.toString=N;Aa.Result.Ok.__enum__=Aa.Result;Aa.Result.Failure=function(a){a=["Failure",1,a];a.__enum__=Aa.Result;a.toString=N;return a};Ld={IValidator:function(){}};y["thx.validation.IValidator"]=
Ld.IValidator;Ld.IValidator.__name__=["thx","validation","IValidator"];Ld.IValidator.prototype={isValid:null,validate:null,__class__:Ld.IValidator};var la;"indexOf"in Array.prototype||(Array.prototype.indexOf=function(a,b){void 0===b&&(b=0);0>b&&(b+=this.length);0>b&&(b=0);for(var f=this.length;b<f;b++)if(b in this&&this[b]===a)return b;return-1});"lastIndexOf"in Array.prototype||(Array.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);0>b&&(b+=this.length);b>this.length-1&&(b=this.length-
1);for(b++;0<b--;)if(b in this&&this[b]===a)return b;return-1});"forEach"in Array.prototype||(Array.prototype.forEach=function(a,b){for(var f=0,g=this.length;f<g;f++)f in this&&a.call(b,this[f],f,this)});"map"in Array.prototype||(Array.prototype.map=function(a,b){for(var f=Array(this.length),g=0,h=this.length;g<h;g++)g in this&&(f[g]=a.call(b,this[g],g,this));return f});"filter"in Array.prototype||(Array.prototype.filter=function(a,b){for(var f=[],g,h=0,i=this.length;h<i;h++)h in this&&a.call(b,g=
this[h],h,this)&&f.push(g);return f});"every"in Array.prototype||(Array.prototype.every=function(a,b){for(var f=0,g=this.length;f<g;f++)if(f in this&&!a.call(b,this[f],f,this))return!1;return!0});var uf=new Fb;fb.EMPTY=uf.getBytes();Array.prototype.indexOf&&(M.remove=function(a,b){var f=a.indexOf(b);if(-1==f)return!1;a.splice(f,1);return!0});Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;y.Math=Math;Math.isFinite=
function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=y.String=String;String.__name__=["String"];Array.prototype.__class__=y.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=y.Date=Date;Date.__name__=["Date"];var Yd=y.Int={__name__:["Int"]},rf=y.Dynamic={__name__:["Dynamic"]},Nd=y.Float=Number;Nd.__name__=["Float"];var He=Boolean;He.__ename__=["Bool"];var sf=y.Class={__name__:["Class"]},tf={},Jd=Nb.userAgent(),df=Nb.hasNavigator(),Cd;Nb.host=
!df?Lb.UnknownServer:"undefined"!==typeof module&&module.exports?Lb.NodeJs:(Cd=new xa("MSIE(?:/| )(\\S*);","")).match(Jd)?Lb.IE(Cd.matched(1)):(Cd=new xa("Firefox(?:/| )(\\S*)","")).match(Jd)?Lb.Firefox(Cd.matched(1)):(Cd=new xa("Chrome(?:/| )(\\S*)","")).match(Jd)?Lb.Chrome(Cd.matched(1)):(Cd=new xa("Version(?:/| )(\\S*) Safari(?:/| )(\\S*)","")).match(Jd)?Lb.Safari(Cd.matched(1)):(Cd=new xa("Opera(?:/| )(\\S*)","")).match(Jd)?Lb.Opera(Cd.matched(1)):Lb.Unknown(Jd);var Re;if(df){var Se;if((Cd=new xa("Windows NT\\s+(\\d+\\.\\d+)",
"")).match(Jd)){var qe;switch(Cd.matched(1)){case "5.1":qe="XP";break;case "5.2":qe="2003/XP x64";break;case "6.0":qe="Vista";break;case "6.1":qe="7";break;case "6.2":qe="8";break;default:qe="unknown"}Se=Mb.Windows(qe)}else Se=(new xa("Mac OS X","")).match(Jd)?Mb.Mac:(new xa("(iPhone|iPad|iPod)","")).match(Jd)?Mb.IOs:(new xa("Linux","")).match(Jd)?Mb.Linux:(new xa("Android","")).match(Jd)?Mb.Android:Mb.UnknownOs;Re=Se}else Re=Mb.UnknownOs;Nb.os=Re;var re;switch(Nb.host[1]){case 0:re=Vb.Server;break;
case 1:re=Vb.Server;break;case 2:case 6:case 3:re=Vb.Desktop;break;case 4:var Te;switch(Nb.os[1]){case 1:Te=Vb.Mobile;break;default:Te=Vb.Desktop}re=Te;break;case 5:var Ue;switch(Nb.os[1]){case 2:Ue=Vb.Mobile;break;default:Ue=Vb.Desktop}re=Ue;break;case 7:var Ve;switch(Nb.os[1]){case 5:Ve=Vb.UnknownEnvironment;break;default:Ve=Vb.Desktop}re=Ve}Nb.environment=re;"undefined"!=typeof document&&(Sa.document=document);"undefined"!=typeof window&&(Sa.window=window,Sa.window.onerror=function(a,b,f){var g=
Sa.onerror;return null==g?!1:g(a,[b+":"+f])});var ef=function(a,b,f,g,h,i){for(var h=0,k=g.length;h<k;h++){var l=g[h];if(l){for(var m=!1,l=l[a];l;){if(l.sizcache===f){m=g[l.sizset];break}1===l.nodeType&&!i&&(l.sizcache=f,l.sizset=h);if(l.nodeName.toLowerCase()===b){m=l;break}l=l[a]}g[h]=m}}},ff=function(a,b,f,g,h,i){for(var h=0,k=g.length;h<k;h++){var l=g[h];if(l){for(var m=!1,l=l[a];l;){if(l.sizcache===f){m=g[l.sizset];break}if(1===l.nodeType)if(i||(l.sizcache=f,l.sizset=h),"string"!==typeof b){if(l===
b){m=!0;break}}else if(0<ab.filter(b,[l]).length){m=l;break}l=l[a]}g[h]=m}}},We=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,Xe=0,gf=Object.prototype.toString,Ie=!1,hf=!0,ze=/\\/g,Je=/\W/;[0,0].sort(function(){hf=!1;return 0});var ab=function(a,b,f,g){var f=f||[],h=b=b||document;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!==typeof a)return f;var i,k,l,m,p,r=!0,q=ab.isXML(b),t=[],R=a;do if(We.exec(""),
i=We.exec(R))if(R=i[3],t.push(i[1]),i[2]){m=i[3];break}while(i);if(1<t.length&&vf.exec(a))if(2===t.length&&db.relative[t[0]])k=jf(t[0]+t[1],b);else for(k=db.relative[t[0]]?[b]:ab(t.shift(),b);t.length;)a=t.shift(),db.relative[a]&&(a+=t.shift()),k=jf(a,k);else if(!g&&1<t.length&&9===b.nodeType&&!q&&db.match.ID.test(t[0])&&!db.match.ID.test(t[t.length-1])&&(i=ab.find(t.shift(),b,q),b=i.expr?ab.filter(i.expr,i.set)[0]:i.set[0]),b){i=g?{expr:t.pop(),set:Kd(g)}:ab.find(t.pop(),1===t.length&&("~"===t[0]||
"+"===t[0])&&b.parentNode?b.parentNode:b,q);k=i.expr?ab.filter(i.expr,i.set):i.set;for(0<t.length?l=Kd(k):r=!1;t.length;)i=p=t.pop(),db.relative[p]?i=t.pop():p="",null==i&&(i=b),db.relative[p](l,i,q)}else l=[];l||(l=k);l||ab.error(p||a);if("[object Array]"===gf.call(l))if(r)if(b&&1===b.nodeType)for(a=0;null!=l[a];a++)l[a]&&(!0===l[a]||1===l[a].nodeType&&ab.contains(b,l[a]))&&f.push(k[a]);else for(a=0;null!=l[a];a++)l[a]&&1===l[a].nodeType&&f.push(k[a]);else f.push.apply(f,l);else Kd(l,f);m&&(ab(m,
h,f,g),ab.uniqueSort(f));return f};ab.uniqueSort=function(a){if(Ke&&(Ie=hf,a.sort(Ke),Ie))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a};ab.matches=function(a,b){return ab(a,null,null,b)};ab.matchesSelector=function(a,b){return 0<ab(b,null,null,[a]).length};ab.find=function(a,b,f){var g;if(!a)return[];for(var h=0,i=db.order.length;h<i;h++){var k,l=db.order[h];if(k=db.leftMatch[l].exec(a)){var m=k[1];k.splice(1,1);if("\\"!==m.substr(m.length-1)&&(k[1]=(k[1]||"").replace(ze,""),
g=db.find[l](k,b,f),null!=g)){a=a.replace(db.match[l],"");break}}}g||(g="undefined"!==typeof b.getElementsByTagName?b.getElementsByTagName("*"):[]);return{set:g,expr:a}};ab.filter=function(a,b,f,g){for(var h,i,k=a,l=[],m=b,p=b&&b[0]&&ab.isXML(b[0]);a&&b.length;){for(var r in db.filter)if(null!=(h=db.leftMatch[r].exec(a))&&h[2]){var q,t,R=db.filter[r];t=h[1];i=!1;h.splice(1,1);if("\\"!==t.substr(t.length-1)){m===l&&(l=[]);if(db.preFilter[r])if(h=db.preFilter[r](h,m,f,l,g,p)){if(!0===h)continue}else i=
q=!0;if(h)for(var u=0;null!=(t=m[u]);u++)if(t){q=R(t,h,u,m);var v=g^!!q;f&&null!=q?v?i=!0:m[u]=!1:v&&(l.push(t),i=!0)}if(void 0!==q){f||(m=l);a=a.replace(db.match[r],"");if(!i)return[];break}}}if(a===k)if(null==i)ab.error(a);else break;k=a}return m};ab.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var db=ab.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},
type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var f="string"===typeof b,g=f&&!Je.test(b),f=f&&!g;g&&(b=b.toLowerCase());for(var g=0,h=a.length,i;g<h;g++)if(i=a[g]){for(;(i=i.previousSibling)&&1!==i.nodeType;);a[g]=f||i&&i.nodeName.toLowerCase()===b?i||!1:i===b}f&&ab.filter(b,a,!0)},">":function(a,b){var f,g="string"===typeof b,h=0,i=a.length;if(g&&!Je.test(b))for(b=b.toLowerCase();h<i;h++){if(f=a[h])f=f.parentNode,a[h]=f.nodeName.toLowerCase()===b?f:!1}else{for(;h<i;h++)(f=
a[h])&&(a[h]=g?f.parentNode:f.parentNode===b);g&&ab.filter(b,a,!0)}},"":function(a,b,f){var g,h=Xe++,i=ff;"string"===typeof b&&!Je.test(b)&&(g=b=b.toLowerCase(),i=ef);i("parentNode",b,h,a,g,f)},"~":function(a,b,f){var g,h=Xe++,i=ff;"string"===typeof b&&!Je.test(b)&&(g=b=b.toLowerCase(),i=ef);i("previousSibling",b,h,a,g,f)}},find:{ID:function(a,b,f){if("undefined"!==typeof b.getElementById&&!f)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if("undefined"!==typeof b.getElementsByName){for(var f=
[],g=b.getElementsByName(a[1]),h=0,i=g.length;h<i;h++)g[h].getAttribute("name")===a[1]&&f.push(g[h]);return 0===f.length?null:f}},TAG:function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,f,g,h,i){a=" "+a[1].replace(ze,"")+" ";if(i)return a;for(var i=0,k;null!=(k=b[i]);i++)k&&(h^(k.className&&0<=(" "+k.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?f||g.push(k):f&&(b[i]=!1));return!1},ID:function(a){return a[1].replace(ze,
"")},TAG:function(a){return a[1].replace(ze,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||ab.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&ab.error(a[0]);a[0]=Xe++;return a},ATTR:function(a,b,f,g,h,i){b=a[1]=a[1].replace(ze,"");!i&&db.attrMap[b]&&(a[1]=db.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(ze,"");"~="===a[2]&&(a[4]=
" "+a[4]+" ");return a},PSEUDO:function(a,b,f,g,h){if("not"===a[1])if(1<(We.exec(a[3])||"").length||/^\w/.test(a[3]))a[3]=ab(a[3],null,null,b);else return a=ab.filter(a[3],b,f,1^h),f||g.push.apply(g,a),!1;else if(db.match.POS.test(a[0])||db.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){return!0===
a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,f){return!!ab(f[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),a=a.type;return"text"===a&&(b===a||null===b)},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},
image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||"button"===a.nodeName.toLowerCase()},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,f,g){return b===g.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,f){return b<f[3]-0},gt:function(a,b,f){return b>f[3]-0},nth:function(a,b,f){return f[3]-
0===b},eq:function(a,b,f){return f[3]-0===b}},filter:{PSEUDO:function(a,b,f,g){var h=b[1],i=db.filters[h];if(i)return i(a,f,b,g);if("contains"===h)return 0<=(a.textContent||a.innerText||ab.getText([a])||"").indexOf(b[3]);if("not"===h){b=b[3];f=0;for(g=b.length;f<g;f++)if(b[f]===a)return!1;return!0}ab.error(h)},CHILD:function(a,b){var f=b[1],g=a;switch(f){case "only":case "first":for(;g=g.previousSibling;)if(1===g.nodeType)return!1;if("first"===f)return!0;g=a;case "last":for(;g=g.nextSibling;)if(1===
g.nodeType)return!1;return!0;case "nth":var f=b[2],h=b[3];if(1===f&&0===h)return!0;var i=b[0],k=a.parentNode;if(k&&(k.sizcache!==i||!a.nodeIndex)){for(var l=0,g=k.firstChild;g;g=g.nextSibling)1===g.nodeType&&(g.nodeIndex=++l);k.sizcache=i}g=a.nodeIndex-h;return 0===f?0===g:0===g%f&&0<=g/f}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+
" ").indexOf(b)},ATTR:function(a,b){var f=b[1],f=db.attrHandle[f]?db.attrHandle[f](a):null!=a[f]?a[f]:a.getAttribute(f),g=f+"",h=b[2],i=b[4];return null==f?"!="===h:"="===h?g===i:"*="===h?0<=g.indexOf(i):"~="===h?0<=(" "+g+" ").indexOf(i):!i?g&&!1!==f:"!="===h?g!==i:"^="===h?0===g.indexOf(i):"$="===h?g.substr(g.length-i.length)===i:"|="===h?g===i||g.substr(0,i.length+1)===i+"-":!1},POS:function(a,b,f,g){var h=db.setFilters[b[2]];if(h)return h(a,f,b,g)}}},vf=db.match.POS,wf=function(a,b){return"\\"+
(b-0+1)},Fe;for(Fe in db.match)db.match[Fe]=RegExp(db.match[Fe].source+/(?![^\[]*\])(?![^\(]*\))/.source),db.leftMatch[Fe]=RegExp(/(^(?:.|\r|\n)*?)/.source+db.match[Fe].source.replace(/\\(\d+)/g,wf));var Kd=function(a,b){a=Array.prototype.slice.call(a,0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(Bf){Kd=function(a,b){var f=0,g=b||[];if("[object Array]"===gf.call(a))Array.prototype.push.apply(g,a);else if("number"===typeof a.length)for(var h=
a.length;f<h;f++)g.push(a[f]);else for(;a[f];f++)g.push(a[f]);return g}}var Ke,Ge;document.documentElement.compareDocumentPosition?Ke=function(a,b){return a===b?(Ie=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(Ke=function(a,b){var f,g,h=[],i=[];f=a.parentNode;g=b.parentNode;var k=f;if(a===b)return Ie=!0,0;if(f===g)return Ge(a,b);if(f){if(!g)return 1}else return-1;for(;k;)h.unshift(k),k=k.parentNode;for(k=g;k;)i.unshift(k),
k=k.parentNode;f=h.length;g=i.length;for(k=0;k<f&&k<g;k++)if(h[k]!==i[k])return Ge(h[k],i[k]);return k===f?Ge(a,i[k],-1):Ge(h[k],b,1)},Ge=function(a,b,f){if(a===b)return f;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});ab.getText=function(a){for(var b="",f,g=0;a[g];g++)f=a[g],3===f.nodeType||4===f.nodeType?b+=f.nodeValue:8!==f.nodeType&&(b+=ab.getText(f.childNodes));return b};var Le=document.createElement("div"),kf="script"+(new Date).getTime(),Me=document.documentElement;Le.innerHTML=
"<a name='"+kf+"'/>";Me.insertBefore(Le,Me.firstChild);document.getElementById(kf)&&(db.find.ID=function(a,b,f){if("undefined"!==typeof b.getElementById&&!f)return(b=b.getElementById(a[1]))?b.id===a[1]||"undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id").nodeValue===a[1]?[b]:void 0:[]},db.filter.ID=function(a,b){var f="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&f&&f.nodeValue===b});Me.removeChild(Le);var Me=Le=null,se=document.createElement("div");
se.appendChild(document.createComment(""));0<se.getElementsByTagName("*").length&&(db.find.TAG=function(a,b){var f=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var g=[],h=0;f[h];h++)1===f[h].nodeType&&g.push(f[h]);f=g}return f});se.innerHTML="<a href='#'></a>";se.firstChild&&("undefined"!==typeof se.firstChild.getAttribute&&"#"!==se.firstChild.getAttribute("href"))&&(db.attrHandle.href=function(a){return a.getAttribute("href",2)});se=null;if(document.querySelectorAll){var Ye=ab,Ne=document.createElement("div");
Ne.innerHTML="<p class='TEST'></p>";if(!(Ne.querySelectorAll&&0===Ne.querySelectorAll(".TEST").length)){var ab=function(a,b,f,g){b=b||document;if(!g&&!ab.isXML(b)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(a);if(h&&(1===b.nodeType||9===b.nodeType)){if(h[1])return Kd(b.getElementsByTagName(a),f);if(h[2]&&db.find.CLASS&&b.getElementsByClassName)return Kd(b.getElementsByClassName(h[2]),f)}if(9===b.nodeType){if("body"===a&&b.body)return Kd([b.body],f);if(h&&h[3]){var i=b.getElementById(h[3]);if(i&&
i.parentNode){if(i.id===h[3])return Kd([i],f)}else return Kd([],f)}try{return Kd(b.querySelectorAll(a),f)}catch(k){}}else if(1===b.nodeType&&"object"!==b.nodeName.toLowerCase()){var h=b,l=(i=b.getAttribute("id"))||"__sizzle__",m=b.parentNode,p=/^\s*[+~]/.test(a);i?l=l.replace(/'/g,"\\$&"):b.setAttribute("id",l);p&&m&&(b=b.parentNode);try{if(!p||m)return Kd(b.querySelectorAll("[id='"+l+"'] "+a),f)}catch(r){}finally{i||h.removeAttribute("id")}}}return Ye(a,b,f,g)},Ze;for(Ze in Ye)ab[Ze]=Ye[Ze];Ne=null}}var Oe=
document.documentElement,Pe=Oe.matchesSelector||Oe.mozMatchesSelector||Oe.webkitMatchesSelector||Oe.msMatchesSelector;if(Pe){var xf=!Pe.call(document.createElement("div"),"div"),lf=!1;try{Pe.call(document.documentElement,"[test!='']:sizzle")}catch(Cf){lf=!0}ab.matchesSelector=function(a,b){b=b.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!ab.isXML(a))try{if(lf||!db.match.PSEUDO.test(b)&&!/!=/.test(b)){var f=Pe.call(a,b);if(f||!xf||a.document&&11!==a.document.nodeType)return f}}catch(g){}return 0<
ab(b,null,null,[a]).length}}var Ae=document.createElement("div");Ae.innerHTML="<div class='test e'></div><div class='test'></div>";if(Ae.getElementsByClassName&&0!==Ae.getElementsByClassName("e").length&&(Ae.lastChild.className="e",1!==Ae.getElementsByClassName("e").length))db.order.splice(1,0,"CLASS"),db.find.CLASS=function(a,b,f){if("undefined"!==typeof b.getElementsByClassName&&!f)return b.getElementsByClassName(a[1])},Ae=null;ab.contains=document.documentElement.contains?function(a,b){return a!==
b&&(a.contains?a.contains(b):!0)}:document.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return!1};ab.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var jf=function(a,b){for(var f,g=[],h="",i=b.nodeType?[b]:b;f=db.match.PSEUDO.exec(a);)h+=f[0],a=a.replace(db.match.PSEUDO,"");a=db.relative[a]?a+"*":a;f=0;for(var k=i.length;f<k;f++)ab(a,i[f],g);return ab.filter(h,g)};window.Sizzle=ab;var mf=Bd.getSizzle();
Ee=mf;Ee.select=mf;window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1E3/60)};var $e;if(window.XMLHttpRequest)$e=XMLHttpRequest;else{var nf;if(window.ActiveXObject)nf=function(){try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(b){throw"Unable to create XMLHttpRequest object.";
}}};else throw"Unable to create XMLHttpRequest object.";$e=nf}fe=$e;var af,of=window.navigator.appName;af="Microsoft Internet Explorer"==of?30:"Netscape"!=of?26:28;switch(af){case 30:D.defaultAm=2;break;case 28:D.defaultAm=3;break;case 26:D.defaultAm=1;break;default:throw"bad dbits value";}D.DB=af;D.DM=(1<<D.DB)-1;D.DV=1<<D.DB;D.BI_FP=52;D.FV=Math.pow(2,D.BI_FP);D.F1=D.BI_FP-D.DB;D.F2=2*D.DB-D.BI_FP;D.initBiRc();D.BI_RM="0123456789abcdefghijklmnopqrstuvwxyz";D.lowprimes=[2,3,5,7,11,13,17,19,23,29,
31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509];D.lplim=67108864/D.lowprimes[D.lowprimes.length-1]|0;var de=window.ReportGrid?window.ReportGrid:window.ReportGrid={};de.$=de.$||{};de.$.pk=de.$.pk||{};de.$.pk.rg_query_BaseQuery=
de.$.pk.rg_query_BaseQuery||Hb;de.$.pk.rg_query_Query=de.$.pk.rg_query_Query||mc;ob.SymbolCache.cache=new ob.SymbolCache;U.layoutDefault=new La;U.layoutType=new La;U.layoutArgs=new La;U.layoutDefault.set("barchart","cartesian");U.layoutDefault.set("funnelchart","simple");U.layoutDefault.set("geo","simple");U.layoutDefault.set("heatgrid","cartesian");U.layoutDefault.set("linechart","cartesian");U.layoutDefault.set("piechart","simple");U.layoutDefault.set("sankey","simple");U.layoutDefault.set("scattergraph",
"cartesian");U.layoutDefault.set("streamgraph","x");U.layoutType.set("cartesian",t);U.layoutType.set("simple",w);U.layoutType.set("x",x);q.NamedColors.byName=new La;q.NamedColors.byName.set("aliceblue",q.NamedColors.aliceblue=q.Rgb.fromInt(15792383));q.NamedColors.byName.set("alice blue",q.NamedColors.aliceblue);q.NamedColors.byName.set("antiquewhite",q.NamedColors.antiquewhite=q.Rgb.fromInt(16444375));q.NamedColors.byName.set("antique white",q.NamedColors.antiquewhite);q.NamedColors.byName.set("aqua",
q.NamedColors.aqua=q.Rgb.fromInt(65535));q.NamedColors.byName.set("aquamarine",q.NamedColors.aquamarine=q.Rgb.fromInt(8388564));q.NamedColors.byName.set("azure",q.NamedColors.azure=q.Rgb.fromInt(15794175));q.NamedColors.byName.set("beige",q.NamedColors.beige=q.Rgb.fromInt(16119260));q.NamedColors.byName.set("bisque",q.NamedColors.bisque=q.Rgb.fromInt(16770244));q.NamedColors.byName.set("black",q.NamedColors.black=q.Rgb.fromInt(0));q.NamedColors.byName.set("blanchedalmond",q.NamedColors.blanchedalmond=
q.Rgb.fromInt(16772045));q.NamedColors.byName.set("blanched almond",q.NamedColors.blanchedalmond);q.NamedColors.byName.set("blue",q.NamedColors.blue=q.Rgb.fromInt(255));q.NamedColors.byName.set("blueviolet",q.NamedColors.blueviolet=q.Rgb.fromInt(9055202));q.NamedColors.byName.set("blue violet",q.NamedColors.blueviolet);q.NamedColors.byName.set("brown",q.NamedColors.brown=q.Rgb.fromInt(10824234));q.NamedColors.byName.set("burlywood",q.NamedColors.burlywood=q.Rgb.fromInt(14596231));q.NamedColors.byName.set("burly wood",
q.NamedColors.burlywood);q.NamedColors.byName.set("cadetblue",q.NamedColors.cadetblue=q.Rgb.fromInt(6266528));q.NamedColors.byName.set("cadet blue",q.NamedColors.cadetblue);q.NamedColors.byName.set("chartreuse",q.NamedColors.chartreuse=q.Rgb.fromInt(8388352));q.NamedColors.byName.set("chart reuse",q.NamedColors.chartreuse);q.NamedColors.byName.set("chocolate",q.NamedColors.chocolate=q.Rgb.fromInt(13789470));q.NamedColors.byName.set("coral",q.NamedColors.coral=q.Rgb.fromInt(16744272));q.NamedColors.byName.set("cornflowerblue",
q.NamedColors.cornflowerblue=q.Rgb.fromInt(6591981));q.NamedColors.byName.set("corn flower blue",q.NamedColors.cornflowerblue);q.NamedColors.byName.set("cornsilk",q.NamedColors.cornsilk=q.Rgb.fromInt(16775388));q.NamedColors.byName.set("corn silk",q.NamedColors.cornsilk);q.NamedColors.byName.set("crimson",q.NamedColors.crimson=q.Rgb.fromInt(14423100));q.NamedColors.byName.set("cyan",q.NamedColors.cyan=q.Rgb.fromInt(65535));q.NamedColors.byName.set("darkblue",q.NamedColors.darkblue=q.Rgb.fromInt(139));
q.NamedColors.byName.set("dark blue",q.NamedColors.darkblue);q.NamedColors.byName.set("darkcyan",q.NamedColors.darkcyan=q.Rgb.fromInt(35723));q.NamedColors.byName.set("dark cyan",q.NamedColors.darkcyan);q.NamedColors.byName.set("darkgoldenrod",q.NamedColors.darkgoldenrod=q.Rgb.fromInt(12092939));q.NamedColors.byName.set("dark golden rod",q.NamedColors.darkgoldenrod);q.NamedColors.byName.set("darkgray",q.NamedColors.darkgray=q.NamedColors.darkgrey=q.Rgb.fromInt(11119017));q.NamedColors.byName.set("dark gray",
q.NamedColors.darkgray);q.NamedColors.byName.set("darkgrey",q.NamedColors.darkgrey);q.NamedColors.byName.set("dark grey",q.NamedColors.darkgrey);q.NamedColors.byName.set("darkgreen",q.NamedColors.darkgreen=q.Rgb.fromInt(25600));q.NamedColors.byName.set("dark green",q.NamedColors.darkgreen);q.NamedColors.byName.set("darkkhaki",q.NamedColors.darkkhaki=q.Rgb.fromInt(12433259));q.NamedColors.byName.set("dark khaki",q.NamedColors.darkkhaki);q.NamedColors.byName.set("darkmagenta",q.NamedColors.darkmagenta=
q.Rgb.fromInt(9109643));q.NamedColors.byName.set("dark magenta",q.NamedColors.darkmagenta);q.NamedColors.byName.set("darkolivegreen",q.NamedColors.darkolivegreen=q.Rgb.fromInt(5597999));q.NamedColors.byName.set("dark olive green",q.NamedColors.darkolivegreen);q.NamedColors.byName.set("darkorange",q.NamedColors.darkorange=q.Rgb.fromInt(16747520));q.NamedColors.byName.set("dark orange",q.NamedColors.darkorange);q.NamedColors.byName.set("darkorchid",q.NamedColors.darkorchid=q.Rgb.fromInt(10040012));
q.NamedColors.byName.set("dark orchid",q.NamedColors.darkorchid);q.NamedColors.byName.set("darkred",q.NamedColors.darkred=q.Rgb.fromInt(9109504));q.NamedColors.byName.set("dark red",q.NamedColors.darkred);q.NamedColors.byName.set("darksalmon",q.NamedColors.darksalmon=q.Rgb.fromInt(15308410));q.NamedColors.byName.set("dark salmon",q.NamedColors.darksalmon);q.NamedColors.byName.set("darkseagreen",q.NamedColors.darkseagreen=q.Rgb.fromInt(9419919));q.NamedColors.byName.set("dark sea green",q.NamedColors.darkseagreen);
q.NamedColors.byName.set("darkslateblue",q.NamedColors.darkslateblue=q.Rgb.fromInt(4734347));q.NamedColors.byName.set("dark slate blue",q.NamedColors.darkslateblue);q.NamedColors.byName.set("darkslategray",q.NamedColors.darkslategray=q.NamedColors.darkslategrey=q.Rgb.fromInt(3100495));q.NamedColors.byName.set("dark slate gray",q.NamedColors.darkslategray);q.NamedColors.byName.set("darkslategrey",q.NamedColors.darkslategrey);q.NamedColors.byName.set("dark slate grey",q.NamedColors.darkslategrey);q.NamedColors.byName.set("darkturquoise",
q.NamedColors.darkturquoise=q.Rgb.fromInt(52945));q.NamedColors.byName.set("dark turquoise",q.NamedColors.darkturquoise);q.NamedColors.byName.set("darkviolet",q.NamedColors.darkviolet=q.Rgb.fromInt(9699539));q.NamedColors.byName.set("dark violet",q.NamedColors.darkviolet);q.NamedColors.byName.set("deeppink",q.NamedColors.deeppink=q.Rgb.fromInt(16716947));q.NamedColors.byName.set("deep pink",q.NamedColors.deeppink);q.NamedColors.byName.set("deepskyblue",q.NamedColors.deepskyblue=q.Rgb.fromInt(49151));
q.NamedColors.byName.set("deep sky blue",q.NamedColors.deepskyblue);q.NamedColors.byName.set("dimgray",q.NamedColors.dimgray=q.NamedColors.dimgrey=q.Rgb.fromInt(6908265));q.NamedColors.byName.set("dim grey",q.NamedColors.dimgrey);q.NamedColors.byName.set("dimgrey",q.NamedColors.dimgrey);q.NamedColors.byName.set("dim grey",q.NamedColors.dimgrey);q.NamedColors.byName.set("dodgerblue",q.NamedColors.dodgerblue=q.Rgb.fromInt(2003199));q.NamedColors.byName.set("dodger blue",q.NamedColors.dodgerblue);q.NamedColors.byName.set("firebrick",
q.NamedColors.firebrick=q.Rgb.fromInt(11674146));q.NamedColors.byName.set("fire brick",q.NamedColors.firebrick);q.NamedColors.byName.set("floralwhite",q.NamedColors.floralwhite=q.Rgb.fromInt(16775920));q.NamedColors.byName.set("floral white",q.NamedColors.floralwhite);q.NamedColors.byName.set("forestgreen",q.NamedColors.forestgreen=q.Rgb.fromInt(2263842));q.NamedColors.byName.set("forest green",q.NamedColors.forestgreen);q.NamedColors.byName.set("fuchsia",q.NamedColors.fuchsia=q.Rgb.fromInt(16711935));
q.NamedColors.byName.set("gainsboro",q.NamedColors.gainsboro=q.Rgb.fromInt(14474460));q.NamedColors.byName.set("ghostwhite",q.NamedColors.ghostwhite=q.Rgb.fromInt(16316671));q.NamedColors.byName.set("ghost white",q.NamedColors.ghostwhite);q.NamedColors.byName.set("gold",q.NamedColors.gold=q.Rgb.fromInt(16766720));q.NamedColors.byName.set("goldenrod",q.NamedColors.goldenrod=q.Rgb.fromInt(14329120));q.NamedColors.byName.set("golden rod",q.NamedColors.goldenrod);q.NamedColors.byName.set("gray",q.NamedColors.gray=
q.NamedColors.grey=q.Rgb.fromInt(8421504));q.NamedColors.byName.set("grey",q.NamedColors.grey);q.NamedColors.byName.set("green",q.NamedColors.green=q.Rgb.fromInt(32768));q.NamedColors.byName.set("greenyellow",q.NamedColors.greenyellow=q.Rgb.fromInt(11403055));q.NamedColors.byName.set("green yellow",q.NamedColors.greenyellow);q.NamedColors.byName.set("honeydew",q.NamedColors.honeydew=q.Rgb.fromInt(15794160));q.NamedColors.byName.set("honey dew",q.NamedColors.honeydew);q.NamedColors.byName.set("hotpink",
q.NamedColors.hotpink=q.Rgb.fromInt(16738740));q.NamedColors.byName.set("hot pink",q.NamedColors.hotpink);q.NamedColors.byName.set("indianred",q.NamedColors.indianred=q.Rgb.fromInt(13458524));q.NamedColors.byName.set("indian red",q.NamedColors.indianred);q.NamedColors.byName.set("indigo",q.NamedColors.indigo=q.Rgb.fromInt(4915330));q.NamedColors.byName.set("ivory",q.NamedColors.ivory=q.Rgb.fromInt(16777200));q.NamedColors.byName.set("khaki",q.NamedColors.khaki=q.Rgb.fromInt(15787660));q.NamedColors.byName.set("lavender",
q.NamedColors.lavender=q.Rgb.fromInt(15132410));q.NamedColors.byName.set("lavenderblush",q.NamedColors.lavenderblush=q.Rgb.fromInt(16773365));q.NamedColors.byName.set("lavender blush",q.NamedColors.lavenderblush);q.NamedColors.byName.set("lawngreen",q.NamedColors.lawngreen=q.Rgb.fromInt(8190976));q.NamedColors.byName.set("lawn green",q.NamedColors.lawngreen);q.NamedColors.byName.set("lemonchiffon",q.NamedColors.lemonchiffon=q.Rgb.fromInt(16775885));q.NamedColors.byName.set("lemon chiffon",q.NamedColors.lemonchiffon);
q.NamedColors.byName.set("lightblue",q.NamedColors.lightblue=q.Rgb.fromInt(11393254));q.NamedColors.byName.set("light blue",q.NamedColors.lightblue);q.NamedColors.byName.set("lightcoral",q.NamedColors.lightcoral=q.Rgb.fromInt(15761536));q.NamedColors.byName.set("light coral",q.NamedColors.lightcoral);q.NamedColors.byName.set("lightcyan",q.NamedColors.lightcyan=q.Rgb.fromInt(14745599));q.NamedColors.byName.set("light cyan",q.NamedColors.lightcyan);q.NamedColors.byName.set("lightgoldenrodyellow",q.NamedColors.lightgoldenrodyellow=
q.Rgb.fromInt(16448210));q.NamedColors.byName.set("light golden rod yellow",q.NamedColors.lightgoldenrodyellow);q.NamedColors.byName.set("lightgray",q.NamedColors.lightgray=q.NamedColors.lightgrey=q.Rgb.fromInt(13882323));q.NamedColors.byName.set("light gray",q.NamedColors.lightgray);q.NamedColors.byName.set("lightgrey",q.NamedColors.lightgrey);q.NamedColors.byName.set("light grey",q.NamedColors.lightgrey);q.NamedColors.byName.set("lightgreen",q.NamedColors.lightgreen=q.Rgb.fromInt(9498256));q.NamedColors.byName.set("light green",
q.NamedColors.lightgreen);q.NamedColors.byName.set("lightpink",q.NamedColors.lightpink=q.Rgb.fromInt(16758465));q.NamedColors.byName.set("light pink",q.NamedColors.lightpink);q.NamedColors.byName.set("lightsalmon",q.NamedColors.lightsalmon=q.Rgb.fromInt(16752762));q.NamedColors.byName.set("light salmon",q.NamedColors.lightsalmon);q.NamedColors.byName.set("lightseagreen",q.NamedColors.lightseagreen=q.Rgb.fromInt(2142890));q.NamedColors.byName.set("light sea green",q.NamedColors.lightseagreen);q.NamedColors.byName.set("lightskyblue",
q.NamedColors.lightskyblue=q.Rgb.fromInt(8900346));q.NamedColors.byName.set("light sky blue",q.NamedColors.lightskyblue);q.NamedColors.byName.set("lightslategray",q.NamedColors.lightslategray=q.NamedColors.lightslategrey=q.Rgb.fromInt(7833753));q.NamedColors.byName.set("light slate gray",q.NamedColors.lightslategray);q.NamedColors.byName.set("lightslategrey",q.NamedColors.lightslategrey);q.NamedColors.byName.set("light slate grey",q.NamedColors.lightslategrey);q.NamedColors.byName.set("lightsteelblue",
q.NamedColors.lightsteelblue=q.Rgb.fromInt(11584734));q.NamedColors.byName.set("light steel blue",q.NamedColors.lightsteelblue);q.NamedColors.byName.set("lightyellow",q.NamedColors.lightyellow=q.Rgb.fromInt(16777184));q.NamedColors.byName.set("light yellow",q.NamedColors.lightyellow);q.NamedColors.byName.set("lime",q.NamedColors.lime=q.Rgb.fromInt(65280));q.NamedColors.byName.set("limegreen",q.NamedColors.limegreen=q.Rgb.fromInt(3329330));q.NamedColors.byName.set("lime green",q.NamedColors.limegreen);
q.NamedColors.byName.set("linen",q.NamedColors.linen=q.Rgb.fromInt(16445670));q.NamedColors.byName.set("magenta",q.NamedColors.magenta=q.Rgb.fromInt(16711935));q.NamedColors.byName.set("maroon",q.NamedColors.maroon=q.Rgb.fromInt(8388608));q.NamedColors.byName.set("mediumaquamarine",q.NamedColors.mediumaquamarine=q.Rgb.fromInt(6737322));q.NamedColors.byName.set("mediuma quamarine",q.NamedColors.mediumaquamarine);q.NamedColors.byName.set("mediumblue",q.NamedColors.mediumblue=q.Rgb.fromInt(205));q.NamedColors.byName.set("medium blue",
q.NamedColors.mediumblue);q.NamedColors.byName.set("mediumorchid",q.NamedColors.mediumorchid=q.Rgb.fromInt(12211667));q.NamedColors.byName.set("medium orchid",q.NamedColors.mediumorchid);q.NamedColors.byName.set("mediumpurple",q.NamedColors.mediumpurple=q.Rgb.fromInt(9662683));q.NamedColors.byName.set("medium purple",q.NamedColors.mediumpurple);q.NamedColors.byName.set("mediumseagreen",q.NamedColors.mediumseagreen=q.Rgb.fromInt(3978097));q.NamedColors.byName.set("medium sea green",q.NamedColors.mediumseagreen);
q.NamedColors.byName.set("mediumslateblue",q.NamedColors.mediumslateblue=q.Rgb.fromInt(8087790));q.NamedColors.byName.set("medium slate blue",q.NamedColors.mediumslateblue);q.NamedColors.byName.set("mediumspringgreen",q.NamedColors.mediumspringgreen=q.Rgb.fromInt(64154));q.NamedColors.byName.set("medium spring green",q.NamedColors.mediumspringgreen);q.NamedColors.byName.set("mediumturquoise",q.NamedColors.mediumturquoise=q.Rgb.fromInt(4772300));q.NamedColors.byName.set("medium turquoise",q.NamedColors.mediumturquoise);
q.NamedColors.byName.set("mediumvioletred",q.NamedColors.mediumvioletred=q.Rgb.fromInt(13047173));q.NamedColors.byName.set("medium violet red",q.NamedColors.mediumvioletred);q.NamedColors.byName.set("midnightblue",q.NamedColors.midnightblue=q.Rgb.fromInt(1644912));q.NamedColors.byName.set("midnight blue",q.NamedColors.midnightblue);q.NamedColors.byName.set("mintcream",q.NamedColors.mintcream=q.Rgb.fromInt(16121850));q.NamedColors.byName.set("mint cream",q.NamedColors.mintcream);q.NamedColors.byName.set("mistyrose",
q.NamedColors.mistyrose=q.Rgb.fromInt(16770273));q.NamedColors.byName.set("misty rose",q.NamedColors.mistyrose);q.NamedColors.byName.set("moccasin",q.NamedColors.moccasin=q.Rgb.fromInt(16770229));q.NamedColors.byName.set("navajowhite",q.NamedColors.navajowhite=q.Rgb.fromInt(16768685));q.NamedColors.byName.set("navajo white",q.NamedColors.navajowhite);q.NamedColors.byName.set("navy",q.NamedColors.navy=q.Rgb.fromInt(128));q.NamedColors.byName.set("oldlace",q.NamedColors.oldlace=q.Rgb.fromInt(16643558));
q.NamedColors.byName.set("old lace",q.NamedColors.oldlace);q.NamedColors.byName.set("olive",q.NamedColors.olive=q.Rgb.fromInt(8421376));q.NamedColors.byName.set("olivedrab",q.NamedColors.olivedrab=q.Rgb.fromInt(7048739));q.NamedColors.byName.set("olive drab",q.NamedColors.olivedrab);q.NamedColors.byName.set("orange",q.NamedColors.orange=q.Rgb.fromInt(16753920));q.NamedColors.byName.set("orangered",q.NamedColors.orangered=q.Rgb.fromInt(16729344));q.NamedColors.byName.set("orangered",q.NamedColors.orangered);
q.NamedColors.byName.set("orchid",q.NamedColors.orchid=q.Rgb.fromInt(14315734));q.NamedColors.byName.set("palegoldenrod",q.NamedColors.palegoldenrod=q.Rgb.fromInt(15657130));q.NamedColors.byName.set("pale golden rod",q.NamedColors.palegoldenrod);q.NamedColors.byName.set("palegreen",q.NamedColors.palegreen=q.Rgb.fromInt(10025880));q.NamedColors.byName.set("pale green",q.NamedColors.palegreen);q.NamedColors.byName.set("paleturquoise",q.NamedColors.paleturquoise=q.Rgb.fromInt(11529966));q.NamedColors.byName.set("pale turquoise",
q.NamedColors.paleturquoise);q.NamedColors.byName.set("palevioletred",q.NamedColors.palevioletred=q.Rgb.fromInt(14381203));q.NamedColors.byName.set("pale violet red",q.NamedColors.palevioletred);q.NamedColors.byName.set("papayawhip",q.NamedColors.papayawhip=q.Rgb.fromInt(16773077));q.NamedColors.byName.set("papaya whip",q.NamedColors.papayawhip);q.NamedColors.byName.set("peachpuff",q.NamedColors.peachpuff=q.Rgb.fromInt(16767673));q.NamedColors.byName.set("peach puff",q.NamedColors.peachpuff);q.NamedColors.byName.set("peru",
q.NamedColors.peru=q.Rgb.fromInt(13468991));q.NamedColors.byName.set("pink",q.NamedColors.pink=q.Rgb.fromInt(16761035));q.NamedColors.byName.set("plum",q.NamedColors.plum=q.Rgb.fromInt(14524637));q.NamedColors.byName.set("powderblue",q.NamedColors.powderblue=q.Rgb.fromInt(11591910));q.NamedColors.byName.set("powder blue",q.NamedColors.powderblue);q.NamedColors.byName.set("purple",q.NamedColors.purple=q.Rgb.fromInt(8388736));q.NamedColors.byName.set("red",q.NamedColors.red=q.Rgb.fromInt(16711680));
q.NamedColors.byName.set("rosybrown",q.NamedColors.rosybrown=q.Rgb.fromInt(12357519));q.NamedColors.byName.set("rosy brown",q.NamedColors.rosybrown);q.NamedColors.byName.set("royalblue",q.NamedColors.royalblue=q.Rgb.fromInt(4286945));q.NamedColors.byName.set("royal blue",q.NamedColors.royalblue);q.NamedColors.byName.set("saddlebrown",q.NamedColors.saddlebrown=q.Rgb.fromInt(9127187));q.NamedColors.byName.set("saddle brown",q.NamedColors.saddlebrown);q.NamedColors.byName.set("salmon",q.NamedColors.salmon=
q.Rgb.fromInt(16416882));q.NamedColors.byName.set("sandybrown",q.NamedColors.sandybrown=q.Rgb.fromInt(16032864));q.NamedColors.byName.set("sandy brown",q.NamedColors.sandybrown);q.NamedColors.byName.set("seagreen",q.NamedColors.seagreen=q.Rgb.fromInt(3050327));q.NamedColors.byName.set("sea green",q.NamedColors.seagreen);q.NamedColors.byName.set("seashell",q.NamedColors.seashell=q.Rgb.fromInt(16774638));q.NamedColors.byName.set("sea shell",q.NamedColors.seashell);q.NamedColors.byName.set("sienna",
q.NamedColors.sienna=q.Rgb.fromInt(10506797));q.NamedColors.byName.set("silver",q.NamedColors.silver=q.Rgb.fromInt(12632256));q.NamedColors.byName.set("skyblue",q.NamedColors.skyblue=q.Rgb.fromInt(8900331));q.NamedColors.byName.set("sky blue",q.NamedColors.skyblue);q.NamedColors.byName.set("slateblue",q.NamedColors.slateblue=q.Rgb.fromInt(6970061));q.NamedColors.byName.set("slate blue",q.NamedColors.slateblue);q.NamedColors.byName.set("slategray",q.NamedColors.slategray=q.NamedColors.slategrey=q.Rgb.fromInt(7372944));
q.NamedColors.byName.set("slate gray",q.NamedColors.slategray);q.NamedColors.byName.set("slategrey",q.NamedColors.slategrey);q.NamedColors.byName.set("slate grey",q.NamedColors.slategrey);q.NamedColors.byName.set("snow",q.NamedColors.snow=q.Rgb.fromInt(16775930));q.NamedColors.byName.set("springgreen",q.NamedColors.springgreen=q.Rgb.fromInt(65407));q.NamedColors.byName.set("spring green",q.NamedColors.springgreen);q.NamedColors.byName.set("steelblue",q.NamedColors.steelblue=q.Rgb.fromInt(4620980));
q.NamedColors.byName.set("steel blue",q.NamedColors.steelblue);q.NamedColors.byName.set("tan",q.NamedColors.tan=q.Rgb.fromInt(13808780));q.NamedColors.byName.set("teal",q.NamedColors.teal=q.Rgb.fromInt(32896));q.NamedColors.byName.set("thistle",q.NamedColors.thistle=q.Rgb.fromInt(14204888));q.NamedColors.byName.set("tomato",q.NamedColors.tomato=q.Rgb.fromInt(16737095));q.NamedColors.byName.set("turquoise",q.NamedColors.turquoise=q.Rgb.fromInt(4251856));q.NamedColors.byName.set("violet",q.NamedColors.violet=
q.Rgb.fromInt(15631086));q.NamedColors.byName.set("wheat",q.NamedColors.wheat=q.Rgb.fromInt(16113331));q.NamedColors.byName.set("white",q.NamedColors.white=q.Rgb.fromInt(16777215));q.NamedColors.byName.set("whitesmoke",q.NamedColors.whitesmoke=q.Rgb.fromInt(16119285));q.NamedColors.byName.set("white smoke",q.NamedColors.whitesmoke);q.NamedColors.byName.set("yellow",q.NamedColors.yellow=q.Rgb.fromInt(16776960));q.NamedColors.byName.set("yellowgreen",q.NamedColors.yellowgreen=q.Rgb.fromInt(10145074));
q.NamedColors.byName.set("yellow green",q.NamedColors.yellowgreen);Kc.En.get_language();Ga.EnUS.get_culture();var bf;if(null!=(bf=window.JSON))oa.Json.nativeDecoder=bf.parse,oa.Json.nativeEncoder=bf.stringify;ud.DIGITS_BASE10="0123456789";ud.DIGITS_HEXU="0123456789ABCDEF";ud.DIGITS_HEXL="0123456789abcdef";ud.DIGITS_OCTAL="01234567";ud.DIGITS_BN="0123456789abcdefghijklmnopqrstuvwxyz";ud.DIGITS_BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";ud.PROTO_HTTP="http://";ud.PROTO_HTTPS=
"http://";ud.PROTO_FILE="file://";ud.PROTO_FTP="ftp://";ud.PROTO_RTMP="rtmp://";tb.WEEKDAYS="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");tb.WEEKDAYS_ABBREV="Sun Mon Tue Wed Thu Fri Sat".split(" ");tb.MONTHS="January February March April May June July August September October November December".split(" ");tb.MONTHS_ABBREV="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");tb.DAYS_OF_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];Gb._reparse=new xa("^\\d{4}-\\d\\d-\\d\\d(( |T)\\d\\d:\\d\\d(:\\d\\d(\\.\\d{1,3})?)?)?Z?$",
"");V._reparse=new xa("^[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?","");V._reparseStrict=new xa("^[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?$","");Ma.ZERO=0;Ma.ONE=1;Ma.BYTE_MASK=255;ka._reparse=new xa("^([+-])?\\d+$","");W._re=new xa("[{](\\d+)(?::[^}]*)?[}]","m");W._reSplitWC=new xa("(\r\n|\n\r|\n|\r)","g");W._reReduceWS=new xa("\\s+","");W._reStripTags=new xa("(<[a-z]+[^>/]*/?>|</[a-z]+>)","i");W._reFormat=new xa("{(\\d+)(?::([a-zA-Z]+))?(?:,([^\"',}]+|'[^']+'|\"[^\"]+\"))?(?:,([^\"',}]+|'[^']+'|\"[^\"]+\"))?(?:,([^\"',}]+|'[^']+'|\"[^\"]+\"))?}",
"m");W._reCollapse=new xa("\\s+","g");W.__ucwordsPattern=new xa("[^a-zA-Z]([a-z])","");W.__ucwordswsPattern=new xa("\\s([a-z])","");W.__alphaNumPattern=new xa("^[a-z0-9]+$","i");W.__digitsPattern=new xa("^[0-9]+$","");W._reInterpolateNumber=new xa("[-+]?(?:\\d+\\.\\d+|\\d+\\.|\\.\\d+|\\d+)(?:[eE][-]?\\d+)?","");Ha.Sprintf.kPAD_ZEROES=1;Ha.Sprintf.kLEFT_ALIGN=2;Ha.Sprintf.kSHOW_SIGN=4;Ha.Sprintf.kPAD_POS=8;Ha.Sprintf.kALT_FORM=16;Ha.Sprintf.kLONG_VALUE=32;Ha.Sprintf.kUSE_SEPARATOR=64;Ha.Sprintf.DEBUG=
!1;Ha.Sprintf.TRACE=!1;nb.FIELD_DATA="__dhx_data__";nb.FIELD_EVENT="__dhx_on__";nb.FIELD_TRANSITION="__dhx_transition__";vd.refloat=new xa("(\\d+(?:\\.\\d+)?)","");Pc._escapePattern=new xa("[*+?|{[()^$.# \\\\]","");Ta.refloat=new xa("(\\d+(?:\\.\\d+)?)","");var yf=ua,pf=new rb([Sa.document]),qf=jd.create([pf]);pf.parentNode=qf.parentNode=Sa.document.documentElement;yf.doc=qf;var zf=ua,cf;if(Wd.supported())cf=new Wd;else if(Bd.supported())cf=new Bd;else throw"no selector engine available";zf.selectionEngine=
cf;var Af=zd,Be=new La;Be.set("svg","http://www.w3.org/2000/svg");Be.set("xhtml","http://www.w3.org/1999/xhtml");Be.set("xlink","http://www.w3.org/1999/xlink");Be.set("xml","http://www.w3.org/XML/1998/namespace");Be.set("xmlns","http://www.w3.org/2000/xmlns/");Af.prefix=Be;Xd._usepage=(new xa("WebKit","")).match(Sa.window.navigator.userAgent);vb.timeout=0;vb.interval=0;vb._step=vb.step;ic._id=0;ic._inheritid=0;Hc.at="@";Hc.bracketMismatch="Bracket mismatch! Inside template, non-paired brackets, '{' or '}', should be replaced by @{'{'} and @{'}'}.";
Fc.p1=0;Fc.readPos=0;Fc.tokenMin=0;Fc.tokenMax=0;D.MAX_RADIX=36;D.MIN_RADIX=2;gb.bias=1024;gb.cnst=2102;xd.BASE_URL_GEOJSON="https://api.reportgrid.com/geo/json/";xd.SERVICE_RENDERING_STATIC="https://api.reportgrid.com/services/viz/charts/up.json";xd.LEGACY_RENDERING_STATIC="https://api.reportgrid.com/services/viz/charts/upandsee.{ext}";f.lastid=0;f.chartsCounter=0;f.chartsLoaded=0;zc.snapping={minute:[{to:10,s:1},{to:20,s:2},{to:30,s:5},{to:60,s:10},{to:120,s:30},{to:240,s:60},{to:960,s:240}],minutetop:480,
hour:[{to:12,s:1},{to:24,s:6},{to:60,s:12},{to:240,s:24},{to:480,s:48},{to:960,s:120}],hourtop:240,month:[{to:13,s:1},{to:25,s:2},{to:49,s:4},{to:73,s:6}],monthtop:12,year:[{to:10,s:1},{to:20,s:2},{to:50,s:5}],yeartop:10};rc.LIMIT_WIDTH=10;rc.LIMIT_HEIGHT=10;rc.DEFAULT_WIDTH=400;rc.DEFAULT_HEIGHT=300;i.defaultColorStart=new q.Hsl(210,1,1);i.defaultColorEnd=new q.Hsl(210,1,0.5);fa.DownloaderMenu.DEFAULT_FORMATS=["png","jpg","pdf"];fa.DownloaderMenu.DEFAULT_TITLE="Download";fa.Logo.registry=new La;
fa.Logo._id=0;fa.Logo.LOGO_WIDTH=194;fa.Logo.LOGO_HEIGHT=29;fa.Tooltip.DEFAULT_DISTANCE=0;fa.Tooltip.DEFAULT_ANCHOR="bottomright";ib.warner=window.console&&window.console.warn?function(a){console.warn(""+I.string(a))}:function(){};pc.defaultStartColor=new q.Hsl(210,1,1);pc.defaultEndColor=new q.Hsl(210,1,0.5);u.TransformerArray.instance=new u.TransformerArray;u.TransformerObject.instance=new u.TransformerObject;u.TransformerString.instance=new u.TransformerString;u.TransformerBool.instance=new u.TransformerBool;
u.TransformerInt.instance=new u.TransformerInt;u.TransformerFloat.instance=new u.TransformerFloat;u.TransformerFunction.instance=new u.TransformerFunction;u.TransformerExpressionToFunction.interp=new pd;u.TransformerExpressionToFunction.pattern=new xa("^\\s*=","");ia.ALLOWED_FORMATS=["pdf","ps","png","jpg","svg"];ma.FORMAT="jpg";ma.nextframeid=0;t.ALT_RIGHT=20;t.ALT_LEFT=20;t.ALT_TOP=8;t.ALT_BOTTOM=8;t.REYAXIS=new xa("^y(\\d+)$","");t.REYINDEX=new xa("^y(\\d+)","");t.REYTITLE=new xa("^y(\\d+)title$",
"");x.ALT_RIGHT=20;x.ALT_LEFT=20;x.ALT_TOP=8;x.ALT_BOTTOM=8;K.Coords.retransform=new xa("translate\\(\\s*(\\d+(?:\\.\\d+)?)\\s*(?:[, ]\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)","");K.StreamGraph.vid=0;ob.SymbolCache.DEFAULT_SYMBOL="circle";Jc.modulus="00:ca:a7:37:07:b0:26:63:cb:f1:37:9d:e9:cc:c1:bd:f1:57:f5:90:72:4d:74:e2:5f:33:df:6c:c4:e4:7f:95:3c:87:89:ed:3c:60:cc:b0:15:f9:ad:57:77:52:4b:25:9b:c8:f9:d0:8a:b8:0a:ab:17:3d:7c:cf:1d:19:a3:8c:43:9b:ee:5b:2e:9e:45:18:b3:97:2a:91:c2:90:c2:1e:49:a3:5e:b1:48:09:1c:ee:06:b9:6e:ec:22:e6:2d:06:b8:b4:22:5f:4d:5e:81:6a:91:13:30:5d:6c:b5:7c:cc:fa:47:dc:8e:b4:f3:fd:0a:6e:d2:f8:09:3c:b1:c2:90:19";
Jc.publicExponent="3";pa.validPeriods="minute hour day week month year eternity".split(" ");pa.validGroupValues=["hour","day","week","month","year"];hb.TIME_TOKEN="time:";bb.range=new xa("(\\d+(?:\\.\\d+)?|\\.\\d+)?-(\\d+(?:\\.\\d+|\\.\\d+)?)?","");U.html=["pivottable","leaderboard"];U.svg="barchart geo funnelchart heatgrid linechart piechart scattergraph streamgraph sankey".split(" ");U.visualizations=U.svg.concat(U.html);U.layouts=["simple","cartesian","x"];q.Colors._reParse=new xa("^(?:(hsl|rgb|rgba|cmyk)\\(([^)]+)\\))|(?:(?:0x|#)([a-f0-9]{3,6}))$",
"i");P.DateParser.daynumeric="0?[1-9]|[1-2][0-9]|3[0-1]";P.DateParser.months=Ga.EnUS.get_culture().date.months.slice(0,-1).map(function(a){return a.toLowerCase()});P.DateParser.shortmonths=Ga.EnUS.get_culture().date.abbrMonths.slice(0,-1).map(function(a){return a.toLowerCase()});P.DateParser.days=Ga.EnUS.get_culture().date.days.map(function(a){return a.toLowerCase()});P.DateParser.shortdays=Ga.EnUS.get_culture().date.abbrDays.map(function(a){return a.toLowerCase()});P.DateParser.sfullmonths=P.DateParser.months.join("|");
P.DateParser.sshortmonths=P.DateParser.shortmonths.join("|");P.DateParser.sfulldays=P.DateParser.days.join("|");P.DateParser.sshortdays=P.DateParser.shortdays.join("|");P.DateParser.day="(0?[0-9]|[1-2][0-9]|3[0-1])(?:st|nd|rd|th)?";P.DateParser.month="(?:0?[1-9]|1[0-2])";P.DateParser.hour="(?:0?[0-9]|1[0-9]|2[0-3])";P.DateParser.hhour="(?:0[0-9]|1[0-2])";P.DateParser.hohour="(?:0?[0-9]|1[0-2])";P.DateParser.fminsec="(?:0[0-9]|[1-5][0-9])";P.DateParser.minsec="(?:0?[0-9]|[1-5][0-9])";P.DateParser.ampm=
"(?:(?:in\\s+the\\s+)?(am|pm|evening|morning|afternoon))";P.DateParser.daypart="(?:(?:in\\s+the\\s+)?(evening|morning|afternoon|sunsrise|sunset|dawn|dusk|noon|mid-day|midday|mid-night|midnight))";P.DateParser.period="minute|minutes|hour|hours|day|days|week|weeks|month|months|year|years|second|seconds";P.DateParser.dateexp=new xa("(?:(?:\\b("+P.DateParser.sfullmonths+")\\s+"+P.DateParser.day+"(?:\\s*,\\s*(\\d{2,4}))?\\b)|(?:\\b("+P.DateParser.sshortmonths+")\\s+"+P.DateParser.day+"(?:\\s*,?\\s*(\\d{2,4}))?\\b)|(?:\\b"+
P.DateParser.day+"\\s+("+P.DateParser.sfullmonths+")(?:\\s+(\\d{2,4}))?\\b)|(?:\\b"+P.DateParser.day+"\\s+("+P.DateParser.sshortmonths+")(?:\\s+(\\d{2,4}))?\\b)|(?:\\b(?:"+P.DateParser.day+"\\s+)?("+P.DateParser.sfullmonths+")\\s+(\\d{2,4})\\b)|(?:\\b(?:"+P.DateParser.day+"\\s+)?("+P.DateParser.sshortmonths+")\\s+(\\d{2,4})\\b)|(?:\\b("+P.DateParser.month+")/"+P.DateParser.day+"(?:/(\\d{2,4}))?\\b)|(?:\\b"+P.DateParser.day+"/("+P.DateParser.month+")(?:/(\\d{2,4}))?\\b)|(?:\\b(\\d{2,4})-("+P.DateParser.month+
")-"+P.DateParser.day+"\\b)|(?:^\\s*"+P.DateParser.day+"\\s*$))","i");P.DateParser.absdateexp=new xa("(?:(?:\\b(today|now|this\\s+second|tomorrow|yesterday)\\b)|(?:\\b(?:(next|last|this)\\s+)?("+P.DateParser.sfullmonths+")\\b)|(?:\\b(?:(next|last|this)\\s+)?("+P.DateParser.sfulldays+")\\b)|(?:\\b(?:(next|last|this)\\s+)?("+P.DateParser.sshortmonths+")\\b)|(?:\\b(?:(next|last|this)\\s+)?("+P.DateParser.sshortdays+")\\b))","i");P.DateParser.relexp=new xa("(?:(?:\\b(plus\\s+|minus\\s|\\+|-|in)\\s*(\\d+)?\\s+("+
P.DateParser.period+")\\b)|(?:\\b(\\d+)?\\s+("+P.DateParser.period+")\\s+(from|before|hence|after|ago)?\\b))","i");P.DateParser.timeexp=new xa("(?:\\bat\\s+)?(?:(?:\\b("+P.DateParser.hohour+"):("+P.DateParser.minsec+")\\s*"+P.DateParser.ampm+"\\b)|(?:(?:\\b|T)("+P.DateParser.hour+"):("+P.DateParser.minsec+")(?:[:]("+P.DateParser.minsec+")(?:\\.(\\d+))?)?\\b)|(?:(?:^|\\s+)("+P.DateParser.hhour+")("+P.DateParser.fminsec+")\\s*"+P.DateParser.ampm+"?(?:\\s+|$))|(?:\\b("+P.DateParser.hohour+")\\s*"+P.DateParser.ampm+
"\\b)|(?:\\b"+P.DateParser.daypart+"\\b))","i");ba.Error.errorPositionPattern="{0}.{1}({2}): ";da.Contour.contourDx=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,null];da.Contour.contourDy=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,null];J.Graphs.id=0;S.Const.TWO_PI=6.283185307179586;S.Const.PI=3.141592653589793;S.Const.HALF_PI=1.5707963267948966;S.Const.TO_DEGREE=57.29577951308232;S.Const.TO_RADIAN=0.017453292519943295;S.Const.LN10=2.302585092994046;S.Const.E=2.718281828459045;S.scale.Linears._default_color=new q.Hsl(0,
0,0);H.LineInternals.arcOffset=-Math.PI/2;H.LineInternals.arcMax=2*Math.PI-1E-6;H.LineInternals._lineBasisBezier1=[0,2/3,1/3,0];H.LineInternals._lineBasisBezier2=[0,1/3,2/3,0];H.LineInternals._lineBasisBezier3=[0,1/6,2/3,1/6];H.Symbol.sqrt3=Math.sqrt(3);H.Symbol.tan30=Math.tan(30*Math.PI/180);k.main()})();define("libs/precog/reportgrid-charts",function(){});
define("app/util/output-chart",["app/util/jsonmodel","app/util/ui","app/util/notification","rtext!templates/panel.options.chart-output.html","libs/precog/reportgrid-charts"],function(b,i,g,h){function a(){clearInterval(this.k);this.k=setTimeout(f,50)}function f(){try{v.find("*").remove(),ReportGrid.chart(v.get(0),A)}catch(a){}}function k(a,b){return"time:"===b.type.substr(0,5)?ReportGrid.format("number"===typeof a?new Date(a):ReportGrid.date.parse(a),"DT"):ReportGrid.humanize(a)}function m(){r();
ReportGrid.tooltip&&ReportGrid.tooltip.hide();if(x.chart.x&&x.chart.y&&x.chart.x!==x.chart.y){x.chart.samplesize||(x.chart.samplesize=100);var f=b.axis(L,x.chart.x),g=b.axis(L,x.chart.y);if(f&&g){var h=E.slice(0);f.transformer&&(h=f.transformer(h));g.transformer&&(h=g.transformer(h));var i=x.chart.x,h=h.splice(0);h.sort(function(a,b){return ReportGrid.compare(a[i],b[i])});h.length>x.chart.samplesize&&(h=h.slice(0,x.chart.samplesize));A={axes:[f,g],data:h,options:{displayrules:!0,visualization:"time:"===
f.type.substr(0,5)?"linechart":"barchart",label:{axis:function(a){return a},datapointover:function(a){return k(a[x.chart.x],f)+": "+k(a[x.chart.y],g)}}}};"linechart"===A.options.visualization&&(A.options.effect="dropshadow");x.chart.segment&&(A.options.segmenton=x.chart.segment);a()}}}function l(a){function b(a){return!!a.multivalue}function f(a){return!!a.multivalue||"number"===a.type||"datetime"===a.subtype||x&&x.chart.x===a.field||x&&x.chart.y===a.field}function i(a,b,f,g,h){a.find("option").remove();
g&&a.append('<option value="">[none]</option>');for(var k=0;k<b.length;k++)h(b[k])||a.append('<option value="'+b[k].field+'"'+(f===b[k].field?" selected":"")+">"+b[k].name+"</option>");a.find("option").length===(g?1:0)?a.closest(".pg-selection").hide():a.closest(".pg-selection").show();return a}function k(a){return function(){x.chart[a]=$(this).val();x.chart.segment===x.chart[a]&&(x.chart.segment=null);i(z.find(".pg-segment"),L,x.chart.segment,!0,f);$(p).trigger("optionsChanged",x);m()}}function l(a){return function(){x.chart[a]=
$(this).val();$(p).trigger("optionsChanged",x);m()}}return function(){z&&z.remove();z=g.context(a,{width:"264px",text:h,target:this,before_open:function(){ReportGrid.tooltip&&ReportGrid.tooltip.hide()},after_open:function(){i(z.find(".pg-x"),L,x.chart.x,!1,b).change(k("x"));i(z.find(".pg-y"),L,x.chart.y,!1,b).change(k("y"));i(z.find(".pg-segment"),L,x.chart.segment,!0,f).change(l("segment"));z.find(".pg-sample").val(x.chart.samplesize).change(l("samplesize"));x.chart.x=z.find(".pg-x").val();x.chart.y=
z.find(".pg-y").val();m()}})}}function r(){v.find("*").remove().removeClass("rg");v.append('<div class="pg-message ui-content ui-state-highlight ui-corner-all"><p>Please select the chart axis using the options button above.</p></div>')}ReportGrid.authCode="r59uh0XNfjFqI1M+yxJK33KGZ0Mm82UqEme9ShK7g12KlIHBhCZK1rFV7KdOHgZ7GAePArW/T4EuOgzCPCbZB+AGlqH7I8OeRMwxKJA5lSRO1GTNp5IkXcrS4rKVj0KT3jnc/kc6gJBjzZPBwwX10Xgdg2+/KI1QnoOCVhDJ8Hg=";var p,t=$('<div class="ui-widget ui-content pg-overflow-hidden"><div class="pg-chart"></div></div>'),
v=t.find(".pg-chart"),w,x,E,z,L,C,A;return p={type:"chart",name:"Chart",panel:function(){return t},update:function(a,f){z&&z.remove();"undefined"==typeof f.chart&&(f.chart={samplesize:200});x=f;a?E=a:a=E;!a||1>=a.length?(L=[],v.html('<div class="pg-message ui-content ui-state-highlight ui-corner-all">The dataset doesn\'t contain enough values to build a chart.</div>'),C&&C.button("disable")):(L=b.create(a),C&&C.button("enable"),m())},resize:function(){v.css({width:t.innerWidth()+"px",height:t.innerHeight()+
"px"});m()},activate:function(){w||(w=$(this.toolbar),C=i.button(w,{label:"options",text:!0,handler:l("Chart Options"),disabled:!0}));w.show()},deactivate:function(){ReportGrid.tooltip&&ReportGrid.tooltip.hide();z&&z.remove();r();w.hide()}}});
define("app/util/output-error",[],function(){function b(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(a,f){var g="<p>"+(a&&b("undefined"!==typeof a.message?a.message:a))+"</p>";"undefined"!==typeof a.lineNum&&(g+='<p class="pg-position">Error at line '+a.lineNum+", column "+a.colNum+"</p>",g+="<pre>"+b(a.detail)+"</pre>",$(f).trigger("syntaxError",{line:a.lineNum,column:a.colNum,text:a.detail}));g=$(g);"undefined"!==typeof a.lineNum&&g.find(".pg-position").click(function(){$(f).trigger("requestCursorChange",
{line:a.lineNum,column:a.colNum})});return $('<div class="error-container"></div>').append(g)}var g=$('<div class="ui-widget"><div class="ui-content ui-state-error ui-corner-all"></div></div>'),h=g.find(".ui-state-error");return{type:"error",name:"Error",display:!1,panel:function(){return g},update:function(a,b,g){h.find("*").remove();$(a).each(function(){(this.message||"string"===typeof this)&&h.append(i(this,g))})}}});
define("app/util/output-message",[],function(){var b=$('<div class="ui-widget"><div class="pg-message ui-content ui-state-highlight ui-corner-all"></div></div>'),i=b.find(".pg-message");return{type:"message",name:"Message",display:!1,panel:function(){return b},update:function(b){i.html("<p>"+b.message+"</p>")}}});
define("app/config/output-results",["app/util/output-table","app/util/output-json","app/util/output-chart","app/util/output-error","app/util/output-message"],function(){var b=arguments,i=[{name:"update",f:function(){return function(){}}},{name:"panel",f:function(){return function(){return $("<div></div>")}}},{name:"toolbar",f:function(){return function(){return $("<div></div>")}}},{name:"activate",f:function(){return function(){}}},{name:"deactivate",f:function(){return function(){}}},{name:"display",
f:function(){return!0}},{name:"resize",f:function(){return function(){}}},{name:"preferredDownloadFormat",f:function(){return function(){return null}}},{name:"paginationOptions",f:function(){return function(){return null}}}],g=!1;return function(){if(!g){for(var h=0;h<b.length;h++){var a=b[h];"function"===typeof a&&(b[h]=a=a());$.each(i,function(b,g){"undefined"===typeof a[g.name]&&(a[g.name]=g.f())})}g=!0}return b}});
define("app/config/output-formats",["app/util/converters","app/util/ui"],function(b,i){return[{token:"json",name:"Json",handler:function(b,h){return h.compact?JSON.stringify(b):JSON.stringify(b,null,2)},options:{compact:!1},buildOptions:function(b,h){var a=this;i.checks(b,[{name:"options",checked:this.options.compact,label:"compact json",description:"format json output with no newlines and minimal spacing",handler:function(){a.options.compact=$(this).prop("checked");h()}}])}},{token:"csv",name:"CSV",
handler:function(g){return b.jsonToCsv(g)}}]});define("rtext!templates/toolbar.output.html",[],function(){return'<div class="pg-toolbar-actions pg-tabs-container">\r\n    <div class="pg-output-formats">\r\n    </div>\r\n</div>\r\n<div class="pg-toolbar-context pg-stacked-context">\r\n    <div class="pg-toolbar-result-type"></div>\r\n    <div class="pg-toolbar-result-general"></div>\r\n</div>'});
define("app/output",["app/util/ui","app/config/output-results","app/config/output-formats","app/util/dialog-export","rtext!templates/toolbar.output.html"],function(b,i,g,h,a){var f=0;return function(k,m){function l(){return!0}function r(){if(t[x.type]){var a=t[x.type].panel;a.css({width:a.parent().width()+"px",height:a.parent().height()+"px"});t[x.type].resize()}}function p(a,b,f){b!==x.type&&(x.type&&t[x.type]&&(t[x.type].deactivate(),$(t[x.type].toolbar).hide(),$(t[x.type].panel).hide()),$(t[b].toolbar).show(),
$(t[b].panel).show(),t[b].activate(),clearTimeout(this.killActivatePanel),this.killActivatePanel=setTimeout(r,0));t[b].display&&(t[b].display[0].checked=!0,t[b].display.button("refresh"));t[b].update(a,f,w)}var t={},v=i();$.each(v,function(a,b){t[b.type]=b});f++;var w,x={result:null,type:null,current:null},E=k.find(".pg-toolbar").append(a),z=k.find(".pg-toolbar-context .pg-toolbar-result-type"),L=k.find(".pg-toolbar-context .pg-toolbar-result-general"),C=E.find(".pg-output-formats"),A=k.find(".pg-result"),
O,Q=b.button(L,{icon:"ui-icon-arrowthickstop-1-s",description:"download query result",handler:function(){var a=x&&t[x.current].preferredDownloadFormat(O);h("Download Results",g,m.getOutputResult(),a,l)}});$.each(v,function(a,b){if(b.display){var g="pg-output-type-radio-"+f+"-"+ ++a;b.display=C.append('<input type="radio" id="'+g+'" name="radio" data-format="'+b.type+'" /><label for="'+g+'">'+b.name+"</label>").find("#"+g);b.display.click(function(){b.type===x.type?x.current=b.type:w.setOutput(x.result,
b.type,O)})}b.panel=b.panel();A.append(b.panel);b.toolbar=b.toolbar();z.append(b.toolbar);$(b.toolbar).hide();$(b.panel).hide();$(b).on("update",function(){w.setOutput(null,null,O)});$(b).on("optionsChanged",function(a,b){$(w).trigger("optionsChanged",b)});$(b).on("paginationChanged",function(a,b){console.log("INTERCEPT PAGINATION");$(w).trigger("paginationChanged",b)});$(b).on("sortChanged",function(a,b){console.log("INTERCEPT SORT");$(w).trigger("sortChanged",b)})});b.buttonset(C);return w={setOutput:function(a,
b,f){"undefined"===typeof a&&(a=a||x.result||null);b=b||"table";f||(f={});O=f;var g=!1;null==a?p({message:"please, type and execute a query"},b="message",f):a instanceof Array&&0==a.length?p({message:"empty dataset"},b="message",f):t[b]?(g=t[b].display,p(a,b,f)):(g=!1,p({message:"invalid result type: "+b},b="error",f));a&&(x.result=a);x.type!=b&&(x.type=b,$(w).trigger("typeChanged",b));t[b]&&t[b].display&&(x.current=b);C.find("input[type=radio]").each(function(){$(this).attr("checked",$(this).attr("data-format")===
b)});g?(C.buttonset("enable"),Q.button("enable")):(C.buttonset("disable"),Q.button("disable"));C.buttonset("refresh")},paginationOptions:function(){return t[x.current||"table"].paginationOptions()},last:x,resize:r}}});
define("app/util/humanize",[],function(){var b=this,i=b.humanize,g={};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=g),exports.humanize=g):("function"===typeof define&&define.amd&&define("humanize",function(){return g}),b.humanize=g);g.noConflict=function(){b.humanize=i;return this};g.pad=function(a,b,g,h){a+="";g?1<g.length&&(g=g.charAt(0)):g=" ";if("right"===(void 0===h?"left":"right"))for(;a.length<b;)a+=g;else for(;a.length<b;)a=g+a;return a};
g.time=function(){return(new Date).getTime()/1E3};var h=[0,0,31,59,90,120,151,181,212,243,273,304,334],a=[0,0,31,60,91,121,152,182,213,244,274,305,335];g.date=function(b,i){var m=void 0===i?new Date:i instanceof Date?new Date(i):new Date(1E3*i),l=/\\?([a-z])/gi,r=function(a,b){return v[a]?v[a]():b},p="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),t="January February March April May June July August September October November December".split(" "),v={d:function(){return g.pad(v.j(),
2,"0")},D:function(){return v.l().slice(0,3)},j:function(){return m.getDate()},l:function(){return p[v.w()]},N:function(){return v.w()||7},S:function(){var a=v.j();return 4<a&&21>a?"th":{1:"st",2:"nd",3:"rd"}[a%10]||"th"},w:function(){return m.getDay()},z:function(){return(v.L()?a[v.n()]:h[v.n()])+v.j()-1},W:function(){var a=v.z()-v.N()+1.5;return g.pad(1+Math.floor(Math.abs(a)/7)+(3.5<a%7?1:0),2,"0")},F:function(){return t[m.getMonth()]},m:function(){return g.pad(v.n(),2,"0")},M:function(){return v.F().slice(0,
3)},n:function(){return m.getMonth()+1},t:function(){return(new Date(v.Y(),v.n(),0)).getDate()},L:function(){return 1===(new Date(v.Y(),1,29)).getMonth()?1:0},o:function(){var a=v.n(),b=v.W();return v.Y()+(12===a&&9>b?-1:1===a&&9<b)},Y:function(){return m.getFullYear()},y:function(){return String(v.Y()).slice(-2)},a:function(){return 11<m.getHours()?"pm":"am"},A:function(){return v.a().toUpperCase()},B:function(){var a=m.getTime()/1E3,b=a%86400+3600;0>b&&(b+=86400);b=b/86.4%1E3;return 0>a?Math.ceil(b):
Math.floor(b)},g:function(){return v.G()%12||12},G:function(){return m.getHours()},h:function(){return g.pad(v.g(),2,"0")},H:function(){return g.pad(v.G(),2,"0")},i:function(){return g.pad(m.getMinutes(),2,"0")},s:function(){return g.pad(m.getSeconds(),2,"0")},u:function(){return g.pad(1E3*m.getMilliseconds(),6,"0")},O:function(){var a=m.getTimezoneOffset(),b=Math.abs(a);return(0<a?"-":"+")+g.pad(100*Math.floor(b/60)+b%60,4,"0")},P:function(){var a=v.O();return a.substr(0,3)+":"+a.substr(3,2)},Z:function(){return 60*
-m.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(l,r)},r:function(){return"D, d M Y H:i:s O".replace(l,r)},U:function(){return m.getTime()/1E3||0}};return b.replace(l,r)};g.numberFormat=function(a,b,g,h){var b=isNaN(b)?2:Math.abs(b),g=void 0===g?".":g,h=void 0===h?",":h,i=0>a?"-":"",a=Math.abs(+a||0),p=parseInt(a.toFixed(b),10)+"",t=3<p.length?p.length%3:0;return i+(t?p.substr(0,t)+h:"")+p.substr(t).replace(/(\d{3})(?=\d)/g,"$1"+h)+(b?g+Math.abs(a-p).toFixed(b).slice(2):"")};g.naturalDay=
function(a,b){var a=void 0===a?g.time():a,b=void 0===b?"Y-m-d":b,h=new Date,h=(new Date(h.getFullYear(),h.getMonth(),h.getDate())).getTime()/1E3;return a<h&&a>=h-86400?"yesterday":a>=h&&a<h+86400?"today":a>=h+86400&&a<h+172800?"tomorrow":g.date(b,a)};g.relativeTime=function(a){var a=void 0===a?g.time():a,b=g.time(),h=b-a;if(2>h&&-2<h)return(0<=h?"just ":"")+"now";if(60>h&&-60<h)return 0<=h?Math.floor(h)+" seconds ago":"in "+Math.floor(-h)+" seconds";if(120>h&&-120<h)return 0<=h?"about a minute ago":
"in about a minute";if(3600>h&&-3600<h)return 0<=h?Math.floor(h/60)+" minutes ago":"in "+Math.floor(-h/60)+" minutes";if(7200>h&&-7200<h)return 0<=h?"about an hour ago":"in about an hour";if(86400>h&&-86400<h)return 0<=h?Math.floor(h/3600)+" hours ago":"in "+Math.floor(-h/3600)+" hours";if(172800>h&&-172800<h)return 0<=h?"1 day ago":"in 1 day";if(2505600>h&&-2505600<h)return 0<=h?Math.floor(h/86400)+" days ago":"in "+Math.floor(-h/86400)+" days";if(5184E3>h&&-5184E3<h)return 0<=h?"about a month ago":
"in about a month";var h=parseInt(g.date("Y",b),10),i=parseInt(g.date("Y",a),10),b=12*h+parseInt(g.date("n",b),10),a=12*i+parseInt(g.date("n",a),10),a=b-a;if(12>a&&-12<a)return 0<=a?a+" months ago":"in "+-a+" months";h-=i;return 2>h&&-2<h?0<=h?"a year ago":"in a year":0<=h?h+" years ago":"in "+-h+" years"};g.ordinal=function(a){var a=parseInt(a,10),a=isNaN(a)?0:a,b=0>a?"-":"",a=Math.abs(a);return b+a+(4<a&&21>a?"th":{1:"st",2:"nd",3:"rd"}[a%10]||"th")};g.filesize=function(a,b,h,i,r){b=void 0===b?
1024:b;h=isNaN(h)?2:Math.abs(h);i=void 0===i?".":i;r=void 0===r?",":r;if(0>=a)return"0 bytes";var p=[1],t="bytes Kb Mb Gb Tb Pb".split(" ");if(a<b)return g.numberFormat(a,0)+" "+t[0];for(var v=1;v<t.length;v++)if(p[v]=p[v-1]*b,a<p[v])return g.numberFormat(a/p[v-1],h,i,r)+" "+t[v-1];return g.numberFormat(a/p[t.length-1],h,i,r)+" "+t[t.length-1]};g.linebreaks=function(a){a=a.replace(/^([\n|\r]*)/,"");a=a.replace(/([\n|\r]*)$/,"");a=a.replace(/(\r\n|\n|\r)/g,"\n");a=a.replace(/(\n{2,})/g,"</p><p>");
a=a.replace(/\n/g,"<br />");return"<p>"+a+"</p>"};g.nl2br=function(a){return a.replace(/(\r\n|\n|\r)/g,"<br />")};g.truncatechars=function(a,b){return a.length<=b?a:a.substr(0,b)+"\u2026"};g.truncatewords=function(a,b){var g=a.split(" ");return g.length<b?a:g.slice(0,b).join(" ")+"\u2026"};return g});define("rtext!templates/toolbar.folders.html",[],function(){return'<div class="pg-toolbar-description">\r\n</div>\r\n<div class="pg-toolbar-actions">\r\n</div>\r\n<div class="pg-toolbar-context">\r\n</div>'});
(function(b){b.vakata={}})(jQuery);(function(b){b.fn.vakata_reverse=[].reverse})(jQuery);(function(){jQuery.expr[":"].vakata_icontains=function(b,i,g){return 0<=(b.textContent||b.innerText||"").toLowerCase().indexOf(g[3].toLowerCase())}})(jQuery);(function(b){b.vakata.array_remove=function(b,g,h){h=b.slice((h||g)+1||b.length);b.length=0>g?b.length+g:g;b.push.apply(b,h);return b}})(jQuery);
(function(b){b.vakata.array_unique=function(b){var g=[],h,a,f;h=0;for(f=b.length;h<f;h++){for(a=0;a<=h&&b[h]!==b[a];a++);a===h&&g.push(b[h])}return g}})(jQuery);(function(b){b.vakata.attributes=function(i,g){var i=b(i)[0],h=g?{}:[];b.each(i.attributes,function(a,f){-1===b.inArray(f.nodeName.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&(null!==f.nodeValue&&""!==b.trim(f.nodeValue))&&(g?h[f.nodeName]=f.nodeValue:h.push(f.nodeName))});return h}})(jQuery);
(function(b){var i;b.vakata.get_scrollbar_width=function(){var g,h;i||(/msie/.test(navigator.userAgent.toLowerCase())?(g=b('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),h=b('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1E3,left:0}).appendTo("body"),i=g.width()-h.width(),g.add(h).remove()):(g=b("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1E3,left:0}).prependTo("body").append("<div />").find("div").css({width:"100%",
height:200}),i=100-g.width(),g.parent().remove()));return i}})(jQuery);
(function(b){b.vakata.css={get_css:function(b,g,h){var b=b.toLowerCase(),a=h.cssRules||h.rules,f=0;do{if(a.length&&f>a.length+5)break;if(a[f].selectorText&&a[f].selectorText.toLowerCase()===b)return!0===g?(h.removeRule&&h.removeRule(f),h.deleteRule&&h.deleteRule(f),!0):a[f]}while(a[++f]);return!1},add_css:function(i,g){if(b.jstree.css.get_css(i,!1,g))return!1;g.insertRule?g.insertRule(i+" { }",0):g.addRule(i,null,0);return b.vakata.css.get_css(i)},remove_css:function(i,g){return b.vakata.css.get_css(i,
!0,g)},add_sheet:function(i){var g=!1,h=!0;if(i.str)return i.title&&(g=b("style[id='"+i.title+"-stylesheet']")[0]),g?h=!1:(g=document.createElement("style"),g.setAttribute("type","text/css"),i.title&&g.setAttribute("id",i.title+"-stylesheet")),g.styleSheet?h?(document.getElementsByTagName("head")[0].appendChild(g),g.styleSheet.cssText=i.str):g.styleSheet.cssText=g.styleSheet.cssText+" "+i.str:(g.appendChild(document.createTextNode(i.str)),document.getElementsByTagName("head")[0].appendChild(g)),g.sheet||
g.styleSheet;if(i.url)if(document.createStyleSheet)try{document.createStyleSheet(i.url)}catch(a){}else return g=document.createElement("link"),g.rel="stylesheet",g.type="text/css",g.media="all",g.href=i.url,document.getElementsByTagName("head")[0].appendChild(g),g.styleSheet}}})(jQuery);
(function(b){var i=!1,g=!1,h=!1,a=!1,f=0,k=!1,m=0,l=0,r=0,p=0,t=!1,v=!1;b.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5},_trigger:function(a,f){var g=b.vakata.dnd._get();g.event=f;b(document).triggerHandler("dnd_"+a+".vakata",g)},_get:function(){return{data:k,element:i,helper:a}},_clean:function(){a&&a.remove();v&&(clearInterval(v),v=!1);a=h=g=i=!1;f=0;k=!1;p=r=l=m=0;v=t=!1;b(document).unbind("mousemove",b.vakata.dnd.drag);b(document).unbind("mouseup",
b.vakata.dnd.stop)},_scroll:function(a){if(!t||!r&&!p)return v&&(clearInterval(v),v=!1),!1;if(!v)return v=setInterval(b.vakata.dnd._scroll,100),!1;if(!0===a)return!1;var a=t.scrollTop(),f=t.scrollLeft();t.scrollTop(a+p*b.vakata.dnd.settings.scroll_speed);t.scrollLeft(f+r*b.vakata.dnd.settings.scroll_speed);(a!==t.scrollTop()||f!==t.scrollLeft())&&b.vakata.dnd._trigger("scroll",t)},start:function(f,p,r){h&&b.vakata.dnd.stop({});try{f.currentTarget.unselectable="on",f.currentTarget.onselectstart=function(){return!1},
f.currentTarget.style&&(f.currentTarget.style.MozUserSelect="none")}catch(t){}m=f.pageX;l=f.pageY;k=p;g=!0;i=f.currentTarget;!1!==r&&(a=b("<div id='vakata-dnd'></div>").html(r).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"}));b(document).bind("mousemove",b.vakata.dnd.drag);b(document).bind("mouseup",b.vakata.dnd.stop);return!1},drag:function(i){if(g){if(!h)if(Math.abs(i.pageX-m)>b.vakata.dnd.settings.threshold||Math.abs(i.pageY-l)>b.vakata.dnd.settings.threshold)a&&
(a.appendTo("body"),f=a.outerWidth()),h=!0,b.vakata.dnd._trigger("start",i);else return;var k=!1,v=!1,z=!1,L=!1,C=!1,A=v=!1,O=!1,L=k=!1;r=p=0;t=!1;b(i.target).parentsUntil("body").andSelf().vakata_reverse().filter(function(){return/^auto|scroll$/.test(b(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var a=b(this),f=a.offset();this.scrollHeight>this.offsetHeight&&(f.top+a.height()-i.pageY<b.vakata.dnd.settings.scroll_proximity&&(p=
1),i.pageY-f.top<b.vakata.dnd.settings.scroll_proximity&&(p=-1));this.scrollWidth>this.offsetWidth&&(f.left+a.width()-i.pageX<b.vakata.dnd.settings.scroll_proximity&&(r=1),i.pageX-f.left<b.vakata.dnd.settings.scroll_proximity&&(r=-1));if(p||r)return t=b(this),!1});if(!t&&(k=b(document),v=b(window),z=k.height(),L=v.height(),C=k.width(),v=v.width(),A=k.scrollTop(),O=k.scrollLeft(),z>L&&i.pageY-A<b.vakata.dnd.settings.scroll_proximity&&(p=-1),z>L&&L-(i.pageY-A)<b.vakata.dnd.settings.scroll_proximity&&
(p=1),C>v&&i.pageX-O<b.vakata.dnd.settings.scroll_proximity&&(r=-1),C>v&&v-(i.pageX-O)<b.vakata.dnd.settings.scroll_proximity&&(r=1),p||r))t=k;t&&b.vakata.dnd._scroll(!0);a&&(k=parseInt(i.pageY+b.vakata.dnd.settings.helper_top,10),L=parseInt(i.pageX+b.vakata.dnd.settings.helper_left,10),z&&k+25>z&&(k=z-50),C&&L+f>C&&(L=C-(f+2)),a.css({left:L+"px",top:k+"px"}));b.vakata.dnd._trigger("move",i)}},stop:function(a){h&&b.vakata.dnd._trigger("stop",a);b.vakata.dnd._clean()}}})(jQuery);
(function(b){b.vakata.xslt=function(i,g){var h=!1,a,f,k;if(!1===h&&window.ActiveXObject)try{h=new ActiveXObject("Msxml2.XSLTemplate"),f=new ActiveXObject("Msxml2.DOMDocument"),f.loadXML(i),k=new ActiveXObject("Msxml2.FreeThreadedDOMDocument"),k.loadXML(g),h.stylesheet=k,a=h.createProcessor(),a.input=f,a.transform(),h=a.output}catch(m){}i=b.parseXML(i);g=b.parseXML(g);!1===h&&"undefined"!==typeof XSLTProcessor&&(a=new XSLTProcessor,a.importStylesheet(g),h=a.transformToFragment(i,document),h=b("<div />").append(h).html());
!1===h&&"undefined"!==typeof i.transformNode&&(h=i.transformNode(g));return h}})(jQuery);
"undefined"===typeof jQuery.hotkeys&&function(b){function i(b){if("string"===typeof b.data){var h=b.handler,a=b.data.toLowerCase().split(" ");b.handler=function(b){if(!(this!==b.target&&(/textarea|select/i.test(b.target.nodeName)||"text"===b.target.type))){var g="keypress"!==b.type&&jQuery.vakata_hotkeys.specialKeys[b.which],i=String.fromCharCode(b.which).toLowerCase(),l="",r={};b.altKey&&"alt"!==g&&(l+="alt+");b.ctrlKey&&"ctrl"!==g&&(l+="ctrl+");b.metaKey&&(!b.ctrlKey&&"meta"!==g)&&(l+="meta+");
b.shiftKey&&"shift"!==g&&(l+="shift+");g?r[l+g]=!0:(r[l+i]=!0,r[l+jQuery.vakata_hotkeys.shiftNums[i]]=!0,"shift+"===l&&(r[jQuery.vakata_hotkeys.shiftNums[i]]=!0));g=0;for(i=a.length;g<i;g++)if(r[a[g]])return h.apply(this,arguments)}}}}b.vakata_hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",
97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(","0":")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}};jQuery.each(["keydown","keyup","keypress"],function(){jQuery.event.special[this]={add:i}})}(jQuery);
(function(b){var i=!1,g=!1,h=!1,a=0,f=0,k=[],m="",l=!1;b.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(i){b(document).triggerHandler("context_"+i+".vakata",{reference:h,element:g,position:{x:a,y:f}})},_execute:function(b){return(b=k[b])&&!b._disabled&&b.action?b.action.call(null,{item:b,reference:h,element:g,position:{x:a,y:f}}):!1},_parse:function(a,f){if(!a)return!1;f||(m="",k=[]);var g="",h=!1,i;f&&(g+="<ul>");b.each(a,function(a,f){if(!f)return!0;k.push(f);!h&&f.separator_before&&
(g+="<li class='vakata-context-separator'><a href='#' "+(b.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>");h=!1;g+="<li class='"+(f._class||"")+(f._disabled?" vakata-contextmenu-disabled ":"")+"'>";g+="<a href='#' rel='"+(k.length-1)+"'>";b.vakata.context.settings.icons&&(g+="<ins ",f.icon&&(g=-1!==f.icon.indexOf("/")?g+(" style='background:url(\""+f.icon+"\") center center no-repeat' "):g+(" class='"+f.icon+"' ")),g+=">&#160;</ins><span>&#160;</span>");g+=f.label+
"</a>";f.submenu&&(i=b.vakata.context._parse(f.submenu,!0))&&(g+=i);g+="</li>";f.separator_after&&(g+="<li class='vakata-context-separator'><a href='#' "+(b.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",h=!0)});g=g.replace(/<li class\='vakata-context-separator'\><\/li\>$/,"");f&&(g+="</ul>");f||(m=g,b.vakata.context._trigger("parse"));return 10<g.length?g:!1},_show_submenu:function(a){a=b(a);if(a.length&&a.children("ul").length){var f=a.children("ul"),g=a.offset().left+
a.outerWidth(),h=a.offset().top,k=f.width(),l=f.height(),m=b(document).width(),z=b(document).height();if(i)a[0>g-(k+10+a.outerWidth())?"addClass":"removeClass"]("vakata-context-left");else a[g+k+10>m?"addClass":"removeClass"]("vakata-context-right");h+l+10>z&&f.css("bottom","-1px");f.show()}},show:function(i,p,t){g&&g.length&&g.width("");switch(!0){case !p&&!i:return!1;case !!p&&!!i:h=i;a=p.x;f=p.y;break;case !p&&!!i:h=i;p=i.offset();a=p.left+i.outerHeight();f=p.top;break;case !!p&&!i:a=p.x,f=p.y}i&&
(!t&&b(i).data("vakata_contextmenu"))&&(t=b(i).data("vakata_contextmenu"));b.vakata.context._parse(t)&&g.html(m);if(k.length){var v=g,i=a,t=f,p=v.width(),v=v.height(),w=b(document).width(),x=b(document).height();i+p+20>w&&(i=w-(p+20));t+v+20>x&&(t=x-(v+20));g.css({left:i,top:t}).show().width(g.outerWidth());l=!0;b.vakata.context._trigger("show")}},hide:function(){l&&(g.hide().find("ul").hide(),l=!1,b.vakata.context._trigger("hide"))}};b(function(){i="rtl"===b("body").css("direction");var a=!1;b.vakata.css.add_sheet({str:'.vakata-context { display:none; _width:1px; } .vakata-context, .vakata-context ul { margin:0; padding:2px; position:absolute; background:#f5f5f5; border:1px solid #979797; \t-moz-box-shadow:5px 5px 4px -4px #666666; -webkit-box-shadow:2px 2px 2px #999999; box-shadow:2px 2px 2px #999999; }.vakata-context ul { list-style:none; left:100%; margin-top:-2.7em; margin-left:-4px; } .vakata-context li.vakata-context-right ul { left:auto; right:100%; margin-left:auto; margin-right:-4px; } .vakata-context li { list-style:none; display:inline; }.vakata-context li a { display:block; padding:0 2em 0 2em; text-decoration:none; width:auto; color:black; white-space:nowrap; line-height:2.4em; \t-moz-text-shadow:1px 1px 0px white; -webkit-text-shadow:1px 1px 0px white; text-shadow:1px 1px 0px white; \t-moz-border-radius:1px; -webkit-border-radius:1px; border-radius:1px; }.vakata-context li a:hover { position:relative; background-color:#e8eff7; \t-moz-box-shadow:0px 0px 2px #0a6aa1; -webkit-box-shadow:0px 0px 2px #0a6aa1; box-shadow:0px 0px 2px #0a6aa1; }.vakata-context li.vakata-context-hover > a { position:relative; background-color:#e8eff7; \t-moz-box-shadow:0px 0px 2px #0a6aa1; -webkit-box-shadow:0px 0px 2px #0a6aa1; box-shadow:0px 0px 2px #0a6aa1; }.vakata-context li a.vakata-context-parent { background-image:url("data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAIORI4JlrqN1oMSnmmZDQUAOw=="); background-position:right center; background-repeat:no-repeat; } .vakata-context li.vakata-context-separator a, .vakata-context li.vakata-context-separator a:hover { background:white; border:0; border-top:1px solid #e2e3e3; height:1px; min-height:1px; max-height:1px; padding:0; margin:0 0 0 2.4em; border-left:1px solid #e0e0e0; _overflow:hidden; \t-moz-text-shadow:0 0 0 transparent; -webkit-text-shadow:0 0 0 transparent; text-shadow:0 0 0 transparent; \t-moz-box-shadow:0 0 0 transparent; -webkit-box-shadow:0 0 0 transparent; box-shadow:0 0 0 transparent; \t-moz-border-radius:0; -webkit-border-radius:0; border-radius:0; }.vakata-context li.vakata-contextmenu-disabled a, .vakata-context li.vakata-contextmenu-disabled a:hover { color:silver; background-color:transparent; border:0; box-shadow:0 0 0; }.vakata-context li a ins { text-decoration:none; display:inline-block; width:2.4em; height:2.4em; background:transparent; margin:0 0 0 -2em; } .vakata-context li a span { display:inline-block; width:1px; height:2.4em; background:white; margin:0 0.5em 0 0; border-left:1px solid #e2e3e3; _overflow:hidden; } .vakata-context-rtl ul { left:auto; right:100%; margin-left:auto; margin-right:-4px; } .vakata-context-rtl li a.vakata-context-parent { background-image:url("data:image/gif;base64,R0lGODlhCwAHAIAAACgoKP///yH5BAEAAAEALAAAAAALAAcAAAINjI+AC7rWHIsPtmoxLAA7"); background-position:left center; background-repeat:no-repeat; } .vakata-context-rtl li.vakata-context-separator a { margin:0 2.4em 0 0; border-left:0; border-right:1px solid #e2e3e3;} .vakata-context-rtl li.vakata-context-left ul { right:auto; left:100%; margin-left:-4px; margin-right:auto; } .vakata-context-rtl li a ins { margin:0 -2em 0 0; } .vakata-context-rtl li a span { margin:0 0 0 0.5em; border-left-color:white; background:#e2e3e3; } ',
title:"vakata-context"});g=b("<ul class='vakata-context'></ul>");g.delegate("li","mouseenter",function(f){f.stopImmediatePropagation();b.contains(this,f.relatedTarget)||(a&&clearTimeout(a),g.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),b(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").andSelf().addClass("vakata-context-hover"),b.vakata.context._show_submenu(this))}).delegate("li","mouseleave",function(a){b.contains(this,a.relatedTarget)||
b(this).find(".vakata-context-hover").andSelf().removeClass("vakata-context-hover")}).bind("mouseleave",function(){b(this).find(".vakata-context-hover").removeClass("vakata-context-hover");b.vakata.context.settings.hide_onmouseleave&&(a=setTimeout(function(){b.vakata.context.hide()},b.vakata.context.settings.hide_onmouseleave))}).delegate("a","click",function(a){a.preventDefault()}).delegate("a","mouseup",function(){!b(this).blur().parent().hasClass("vakata-context-disabled")&&!1!==b.vakata.context._execute(b(this).attr("rel"))&&
b.vakata.context.hide()}).appendTo("body");b(document).bind("mousedown",function(a){l&&!b.contains(g[0],a.target)&&b.vakata.context.hide()}).bind("context_show.vakata",function(){g.find("li:has(ul)").children("a").addClass("vakata-context-parent");i&&g.addClass("vakata-context-rtl").css("direction","rtl");g.find("ul").hide().end()});("undefined"!==typeof b.hotkeys||"undefined"!==typeof b.vakata_hotkeys)&&b(document).bind("keydown","up",function(a){if(l){var b=g.find("ul:visible").andSelf().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first();
b.length||(b=g.find("ul:visible").andSelf().last().children("li:not(.vakata-context-separator)").last());b.addClass("vakata-context-hover");a.stopImmediatePropagation();a.preventDefault()}}).bind("keydown","down",function(a){if(l){var b=g.find("ul:visible").andSelf().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first();b.length||(b=g.find("ul:visible").andSelf().last().children("li:not(.vakata-context-separator)").first());
b.addClass("vakata-context-hover");a.stopImmediatePropagation();a.preventDefault()}}).bind("keydown","right",function(a){l&&(g.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover"),a.stopImmediatePropagation(),a.preventDefault())}).bind("keydown","left",function(a){l&&(g.find(".vakata-context-hover").last().parents("li:eq(0)").find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover"),
a.stopImmediatePropagation(),a.preventDefault())}).bind("keydown","esc",function(a){b.vakata.context.hide();a.preventDefault()}).bind("keydown","space",function(a){g.find(".vakata-context-hover").last().children("a").click();a.preventDefault()})})})(jQuery);
(function(b){var i=function(b){var h=/["\\\x00-\x1f\x7f-\x9f]/g,a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return b.match(h)?'"'+b.replace(h,function(b){var g=a[b];if("string"===typeof g)return g;g=b.charCodeAt();return"\\u00"+Math.floor(g/16).toString(16)+(g%16).toString(16)})+'"':'"'+b+'"'};b.vakata.json={encode:function(g){if(null===g)return"null";var h=[],a;switch(typeof g){case "number":case "boolean":return g+"";case "string":return i(g);case "object":if(b.isFunction(g.toJSON))return b.vakata.json.encode(g.toJSON());
if(g.constructor===Date)return'"'+g.getUTCFullYear()+"-"+String("0"+(g.getUTCMonth()+1)).slice(-2)+"-"+String("0"+g.getUTCDate()).slice(-2)+"T"+String("0"+g.getUTCHours()).slice(-2)+":"+String("0"+g.getUTCMinutes()).slice(-2)+":"+String("0"+g.getUTCSeconds()).slice(-2)+"."+String("00"+g.getUTCMilliseconds()).slice(-3)+'Z"';if(g.constructor===Array){for(a=0;a<g.length;a++)h.push(b.vakata.json.encode(g[a])||"null");return"["+h.join(",")+"]"}b.each(g,function(a,g){if(b.isFunction(g))return!0;a="number"===
typeof a?'"'+a+'"':i(a);g=b.vakata.json.encode(g);h.push(a+":"+g)});return"{"+h.join(", ")+"}"}},decode:function(g){return b.parseJSON(g)}}})(jQuery);
(function(b){b.vakata.cookie=function(i,g,h){var a,f;if(1<arguments.length&&"[object Object]"!==String(g)){h=b.extend({},h);if(null===g||void 0===g)h.expires=-1;"number"===typeof h.expires&&(a=h.expires,f=h.expires=new Date,f.setDate(f.getDate()+a));g=String(g);return document.cookie=[encodeURIComponent(i),"=",h.raw?g:encodeURIComponent(g),h.expires?"; expires="+h.expires.toUTCString():"",h.path?"; path="+h.path:"",h.domain?"; domain="+h.domain:"",h.secure?"; secure":""].join("")}h=g||{};f=h.raw?
function(a){return a}:decodeURIComponent;return(a=RegExp("(?:^|; )"+encodeURIComponent(i)+"=([^;]*)").exec(document.cookie))?f(a[1]):null}})(jQuery);
(function(b){function i(){try{f.jStorage=l(a),"userDataBehavior"===p&&(k.setAttribute("jStorage",f.jStorage),k.save("jStorage")),"cookie"===p&&b.vakata.cookie("__vjstorage",f.jStorage,{expires:365}),m=f.jStorage?String(f.jStorage).length:0}catch(g){}}function g(a){if(!a||"string"!==typeof a&&"number"!==typeof a)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"===a)throw new TypeError("Reserved key name");return!0}function h(){var b=+new Date,f,g,k=Infinity,l=!1;!1!==t&&
clearTimeout(t);if(a.__jstorage_meta&&"object"===typeof a.__jstorage_meta.TTL){g=a.__jstorage_meta.TTL;for(f in g)g.hasOwnProperty(f)&&(g[f]<=b?(delete g[f],delete a[f],l=!0):g[f]<k&&(k=g[f]));Infinity!==k&&(t=setTimeout(h,k-b));l&&i()}}var a={},f={jStorage:"{}"},k=null,m=0,l=b.vakata.json.encode,r=b.vakata.json.decode,p=!1,t=!1;b.vakata.storage={version:"0.1.6.1",set:function(b,f){g(b);a[b]=f;i();return f},get:function(b,f){g(b);return b in a?a[b]:"undefined"===typeof f?null:f},del:function(b){g(b);
return b in a?(delete a[b],a.__jstorage_meta&&("object"===typeof a.__jstorage_meta.TTL&&b in a.__jstorage_meta.TTL)&&delete a.__jstorage_meta.TTL[b],i(),!0):!1},setTTL:function(b,f){var k=+new Date;g(b);f=Number(f)||0;return b in a?(a.__jstorage_meta||(a.__jstorage_meta={}),a.__jstorage_meta.TTL||(a.__jstorage_meta.TTL={}),0<f?a.__jstorage_meta.TTL[b]=k+f:delete a.__jstorage_meta.TTL[b],i(),h(),!0):!1},flush:function(){a={};i();return!0},storageObj:function(){function b(){}b.prototype=a;return new b},
index:function(){var f=[];b.each(a,function(a){"__jstorage_meta"!==a&&f.push(a)});return f},storageSize:function(){return m},currentBackend:function(){return p},storageAvailable:function(){return!!p}};a:{var v=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),v=!0,window.localStorage.removeItem("_tmptest")}catch(w){}if(v)try{window.localStorage&&(f=window.localStorage,p="localStorage")}catch(x){}else if("globalStorage"in window)try{window.globalStorage&&(f=window.globalStorage[window.location.hostname],
p="globalStorage")}catch(E){}else{k=document.createElement("link");if(k.addBehavior){k.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(k);try{k.load("jStorage"),v="{}",v=k.getAttribute("jStorage"),f.jStorage=v,p="userDataBehavior"}catch(z){}}if(!p&&(b.vakata.cookie("__vjstorage")||b.vakata.cookie("__vjstorage","{}",{expires:365})&&"{}"===b.vakata.cookie("__vjstorage")))k=null,f.jStorage=b.vakata.cookie("__vjstorage"),p="cookie";if(!p){k=null;break a}}if(f.jStorage)try{a=
r(String(f.jStorage))}catch(L){f.jStorage="{}"}else f.jStorage="{}";m=f.jStorage?String(f.jStorage).length:0;h()}})(jQuery);
(function(b){b.vakata.pretty_date={lang:{ago:"Ago",from:"From Now",now:"Just Now",minute:"Minute",minutes:"Minutes",hour:"Hour",hours:"Hours",day:"Day",days:"Days",week:"Week",weeks:"Weeks",month:"Month",months:"Months",year:"Year",years:"Years"},parse:function(i,g){var i=new Date(i.replace(/-/g,"/").replace(/[TZ]/g," ").replace(/\+\d\d\:\d\d$/,"")),g=g||new Date,h=b.vakata.pretty_date.lang,a=[[60,h.now],[3600,h.minute,h.minutes,60],[86400,h.hour,h.hours,3600],[604800,h.day,h.days,86400],[2628E3,
h.week,h.weeks,604800],[31536E3,h.month,h.months,2628E3],[Infinity,h.year,h.years,31536E3]],f=(g-i+6E4*g.getTimezoneOffset())/1E3;0>f?(f=Math.abs(f),h=" "+h.from):h=" "+h.ago;for(var k=0,m=a[0];a[k];m=a[++k])if(f<m[0]){if(0===k)return m[1];a=Math.ceil((f>=m[3]&&f<=1.1*m[3]?m[3]:f)/m[3]);return a+" "+(1!==a?m[2]:m[1])+(0<k?h:"")}},init:function(i,g){b("time, [datetime]").vakata_pretty_date(g);setInterval(function(){b("time, [datetime]").vakata_pretty_date(g)},i||6E4)}};b.fn.vakata_pretty_date=function(i,
g){i||(i="%{s}");return this.each(function(){var h=jQuery(this),a=b.vakata.pretty_date.parse(h.attr("datetime"),g);a&&(a=i.replace("%{s}",a),h.html()!==a&&h.html(a))})}})(jQuery);
(function(b){b.vakata.selection={get:function(b){if(window.getSelection){if(b)return window.getSelection().toString();var b=window.getSelection(),g=b.getRangeAt&&b.rangeCount?b.getRangeAt(0):document.createRange(),h=document.createElement("div");b.getRangeAt||(g.setStart(b.anchorNode,b.anchorOffset),g.setEnd(b.focusNode,b.focusOffset));h.appendChild(g.cloneContents());return h.innerHTML}return document.selection?document.selection.createRange()[b?"text":"htmlText"]:""},elm_get:function(b){b="string"===
typeof b?document.getElementById(b):b;b.jquery&&(b=b.get(0));if("selectionStart"in b)return{start:b.selectionStart,end:b.selectionEnd,length:b.selectionEnd-b.selectionStart,text:b.value.substr(b.selectionStart,b.selectionEnd-b.selectionStart)};if(document.selection){b.focus();var g=document.selection.createRange(),h=!1,a=!1,f,k;if(g&&g.parentElement()===b)return f=b.value.length,k=b.value.replace(/\r\n/g,"\n"),h=b.createTextRange(),h.moveToBookmark(g.getBookmark()),a=b.createTextRange(),a.collapse(!1),
-1<h.compareEndPoints("StartToEnd",a)?g=h=f:(g=-h.moveStart("character",-f),g+=k.slice(0,g).split("\n").length-1,-1<h.compareEndPoints("EndToEnd",a)?h=f:(h=-h.moveEnd("character",-f),h+=k.slice(0,h).split("\n").length-1)),k=b.value.slice(g,h),{start:g,end:h,length:k.length,text:k}}else return{start:b.value.length,end:b.value.length,length:0,text:""}},elm_set:function(i,g,h){i="string"===typeof i?document.getElementById(i):i;i.jquery&&(i=i.get(0));if("selectionStart"in i)i.focus(),i.selectionStart=
g,i.selectionEnd=h;else if(document.selection){i.focus();var a=i.createTextRange(),f=i.value.replace(/\r\n/g,"\n"),g=g-(f.slice(0,g).split("\n").length-1),h=h-(f.slice(0,h).split("\n").length-1);a.collapse(!0);a.moveEnd("character",h);a.moveStart("character",g);a.select()}return b.vakata.selection.elm_get(i)},elm_replace:function(i,g){i="string"===typeof i?document.getElementById(i):i;i.jquery&&(i=i.get(0));var h=b.vakata.selection.elm_get(i),a=h.start,f=a+g.length;i.value=i.value.substr(0,a)+g+i.value.substr(h.end,
i.value.length);b.vakata.selection.elm_set(i,a,f);return{start:a,end:f,length:g.length,text:g}},elm_get_caret:function(i){return b.vakata.selection.elm_get(i).end},elm_set_caret:function(i,g){return b.vakata.selection.elm_set(i,g,g)},elm_get_caret_position:function(i){i="string"===typeof i?document.getElementById(i):i;i.jquery&&(i=i.get(0));var g=b.vakata.selection.elm_get_caret(i),h=i.value.substring(0,g).replace(/&/g,"&amp;").replace(/</ig,"&lt;").replace(/>/ig,"&gt;").replace(/\r/g,"").replace(/\t/g,
"&#10;").replace(/\n/ig,"<br />"),g=b.vakata.get_scrollbar_width(),a=b(i).width(),f=b(i).height();i.scrollHeight>f&&(a-=g);i=b(i);i=b("<div />").html(h).css({background:"red",width:a+"px",height:"auto",position:"absolute",left:"0px",top:"-10000px",fontSize:i.css("fontSize"),fontFamily:i.css("fontFamily"),fontWeight:i.css("fontWeight"),fontVariant:i.css("fontVariant"),fontStyle:i.css("fontStyle"),textTransform:i.css("textTransform"),lineHeight:i.css("lineHeight"),whiteSpace:"pre-wrap"});i.append('<span class="caret">&nbsp;</span>').appendTo("body");
h=i.find("span.caret");g=h.offset();g.top=g.top+1E4+h.height();i.remove();return g}}})(jQuery);
(function(b){b.fn.vakata_highlight=function(i){"string"===typeof i&&(i=[i]);b.isArray(i)&&(i={words:i});i=b.extend(!0,{},{css_class:"vakata-highlight",words:[],color:"#99ccff"},i);i.words.length&&this.each(function(){var g=b(this);b.each(i.words,function(h,a){var f=!1;"string"===typeof i.color&&(f=i.color);b.isArray(i.color)&&"string"===typeof i.color[h]&&(f=i.color[h]);g.find(':vakata_icontains("'+a.replace(/\"/ig,"")+'")').filter("strong, span, li, p, h1, h2, h3, h4, h5, h6, div, u, em, i, dt, dd").contents().filter(function(){return 3===
this.nodeType}).each(function(){if(0<=this.nodeValue.toLowerCase().indexOf(a.toLowerCase())){this.nodeValue=this.nodeValue.replace(RegExp("("+a.replace(/([\-.*+?\^${}()|\[\]\/\\])/g,"\\$1")+")","ig"),"|{{{$1}}}|");var g=b(this).parent();g.html(g.html().replace(/\|\{\{\{/g,'<span class="'+i.css_class+" "+i.css_class+"-"+h+'" '+("string"===typeof f?' style="background:'+f+';" ':"")+">").replace(/\}\}\}\|/g,"</span>"))}})})});return this}})(jQuery);define("libs/jquery/jstree/vakata",function(){});
(function(){if(!jQuery)throw"jsTree: jQuery not included.";if(!jQuery.jstree){var b=jQuery,i=[],g=-1,h={},a={};b.jstree={VERSION:"1.0.0",IS_IE6:jQuery.browser.msie&&6===parseInt(jQuery.browser.version,10),IS_IE7:jQuery.browser.msie&&6===parseInt(jQuery.browser.version,10),IS_FF2:jQuery.browser.mozilla&&1.9>parseFloat(jQuery.browser.version,10),__construct:function(a){var f={},g={},k=[],m=[],w=0,a=b(a);b.jstree._reference(a)&&b.jstree.__destruct(a);b.extend.apply(null,[!0,f].concat(Array.prototype.slice.call(arguments,
1),a.data("jstree")||{}));k=b.isArray(f.plugins)?f.plugins:b.jstree.defaults.plugins.slice();k=b.vakata.array_unique(k);f=b.extend(!0,{},b.jstree.defaults,f);b.each(h,function(a){"core"!==a&&-1===b.inArray(a,k)?(f[a]=null,delete f[a]):(m.push(a),g[a]={})});f.plugins=m;w=parseInt(i.push({}),10)-1;a.data("jstree_instance_id",w).addClass("jstree jstree-"+w);this.data=g;this.get_index=function(){return w};this.get_container=function(){return a};this.get_container_ul=function(){return a.children("ul:eq(0)")};
this.get_settings=function(a){return a?f:b.extend(!0,{},f)};this.__trigger=function(a,b){a&&(b||(b={}),"string"===typeof a&&(a=a.replace(".jstree","")+".jstree"),b.inst=this,this.get_container().triggerHandler(a,b))};i[w]=this;b.each(m,function(a,b){h[b]&&h[b].__construct.apply(i[w])});this.__trigger("__construct");b.jstree._focus(w);return this},__destruct:function(a){a=b.jstree._reference(a);if(!a)return!1;var f=a.get_settings(),k=a.get_index(),m=0;if(g===k){for(m in i)if(i.hasOwnProperty(m)&&m!==
k){b.jstree._focus(m);break}g===k&&b.jstree._focus(!1)}b.each(f.plugins,function(b,f){try{h[f].__destruct.apply(a)}catch(g){}});a.__trigger("__destruct");a.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree_instance_id").find("[class^='jstree']").andSelf().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")});b(document).unbind(".jstree-"+k).undelegate(".jstree-"+k);delete i[k];return!0},__call:function(a,f,g){if((a=b.jstree._reference(a))&&b.isFunction(a[f]))return a[f].apply(a,
g)},_reference:function(a){if(i[a])return i[a];var f=b(a);!f.length&&"string"===typeof a&&(f=b("#"+a));return!f.length?null:i[f.closest(".jstree").data("jstree_instance_id")]||null},_focused:function(){return i[g]||null},_focus:function(a){if(!1===a)return i[g].get_container().removeClass("jstree-focused"),i[g].__trigger("_defocus"),g=-1,!1;a=b.jstree._reference(a);if(!a||a.get_index()===g)return!1;-1!==g&&(i[g].get_container().removeClass("jstree-focused"),i[g].__trigger("_defocus"));g=a.get_index();
a.get_container().addClass("jstree-focused");a.__trigger("_focus");return!0},plugin:function(f,g){g=b.extend({},{__construct:b.noop,__destuct:b.noop,_fn:{},defaults:!1},g);h[f]=g;b.jstree.defaults[f]=g.defaults;b.each(g._fn,function(g,h){h.plugin=f;h.old=a[g];a[g]=function(){var a,f=h,i=Array.prototype.slice.call(arguments);a=new b.Event("before.jstree");var k=this.get_settings(!0).plugins;do{if(f&&f.plugin&&-1!==b.inArray(f.plugin,k))break;f=f.old}while(f);if(f){if(0===g.indexOf("_"))a=f.apply(this,
i);else{a=this.__trigger(a,{func:g,args:i,plugin:f.plugin});if(!1===a)return;a=f.apply(b.extend({},this,{__callback:function(a){this.__trigger(g,{args:i,rslt:a,plugin:f.plugin});return a},__call_old:function(a){return f.old.apply(this,a?Array.prototype.slice.call(arguments,1):i)}}),i)}return a}};a[g].old=h.old;a[g].plugin=f})},defaults:{plugins:[]}};b.fn.jstree=function(a){var f="string"===typeof a,g=Array.prototype.slice.call(arguments,1),h=this;this.each(function(){if(f){var i=b.jstree.__call(this,
a,g);if("undefined"!==typeof i&&(a.indexOf("is_"===0)||!0!==i&&!1!==i))return h=i,!1}else f=new b.jstree.__construct(this,a)});return h};a=b.jstree.__construct.prototype;b.expr[":"].jstree=function(a){return"undefined"!==typeof b(a).data("jstree_instance_id")};var f=jQuery,k=!1,m=!1;f(function(){f.jstree.SCROLLBAR_WIDTH=f.vakata.get_scrollbar_width()});f.jstree.plugin("core",{__construct:function(){this.data.core.rtl="rtl"===this.get_container().css("direction");this.data.core.rtl&&this.get_container().addClass("jstree-rtl");
this.data.core.ready=!1;this.get_container().bind("__construct.jstree",f.proxy(function(){setTimeout(f.proxy(function(){this&&this.init()},this),0)},this)).bind("before.jstree",f.proxy(function(a,b){if(!/^is_locked|unlock$/.test(b.func)&&this.data.core.locked)return a.stopImmediatePropagation(),!1},this)).bind("create_node.jstree",f.proxy(function(a,b){this.clean_node(b.rslt.obj)},this)).bind("load_node.jstree",f.proxy(function(a,b){this.clean_node(-1===b.rslt.obj?this.get_container_ul().children("li"):
b.rslt.obj.find("> ul > li"));!this.data.core.ready&&!this.get_container_ul().find(".jstree-loading:eq(0)").length&&(this.data.core.ready=!0,this.__trigger("__ready"))},this)).bind("__loaded.jstree",f.proxy(function(a,b){b.inst.get_container_ul().children("li").each(function(){b.inst.correct_node(this)})},this)).bind("open_node.jstree",f.proxy(function(a,b){b.rslt.obj.find("> ul > li").each(function(){b.inst.correct_node(this)})},this)).bind("mousedown.jstree",f.proxy(function(){f.jstree._focus(this.get_index())},
this)).bind("dblclick.jstree",function(){if(document.selection&&document.selection.empty)document.selection.empty();else if(window.getSelection){var a=window.getSelection();try{a.removeAllRanges(),a.collapse()}catch(b){}}}).delegate("li > ins","click.jstree",f.proxy(function(a){this.toggle_node(a.target)},this))},__destruct:function(){},defaults:{strings:!1},_fn:{_get_string:function(a){var b=this.get_settings(!0).core.strings;return f.isFunction(b)?b.call(this,a):b&&b[a]?b[a]:a},init:function(){this.data.core.original_container_html=
this.get_container().find(" > ul > li").clone(!0);this.data.core.original_container_html.find("li").andSelf().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove();this.get_container().html("<ul><li class='jstree-loading'><a href='#'>"+this._get_string("Loading ...")+"</a></li></ul>");this.clean_node(-1);this.data.core.li_height=this.get_container_ul().children("li:eq(0)").height()||18;this.load_node(-1,function(){this.__trigger("__loaded")})},
lock:function(){this.data.core.locked=!0;this.get_container().addClass("jstree-locked");this.__callback()},unlock:function(){this.data.core.locked=!1;this.get_container().removeClass("jstree-locked");this.__callback()},is_locked:function(){return this.data.core.locked},get_node:function(a){var b=f(a,this.get_container());if(b.is(".jstree")||-1===a)return-1;b=b.closest("li",this.get_container());return b.length?b:!1},get_next:function(a,b){a=this.get_node(a);return-1===a?this.get_container_ul().children("li:eq(0)"):
!a||!a.length?!1:b?0<a.nextAll("li").size()?a.nextAll("li:eq(0)"):!1:a.hasClass("jstree-open")?a.find("li:eq(0)"):0<a.nextAll("li").size()?a.nextAll("li:eq(0)"):a.parentsUntil(".jstree","li").next("li").eq(0)},get_prev:function(a,b){a=this.get_node(a);if(-1===a)return this.get_container().find("> ul > li:last-child");if(!a||!a.length)return!1;if(b)return 0<a.prevAll("li").length?a.prevAll("li:eq(0)"):!1;if(a.prev("li").length){for(a=a.prev("li").eq(0);a.hasClass("jstree-open");)a=a.children("ul:eq(0)").children("li:last");
return a}var f=a.parentsUntil(".jstree","li:eq(0)");return f.length?f:!1},get_parent:function(a){a=this.get_node(a);if(-1===a||!a||!a.length)return!1;a=a.parentsUntil(".jstree","li:eq(0)");return a.length?a:-1},get_children:function(a){a=this.get_node(a);return-1===a?this.get_container_ul().children("li"):!a||!a.length?!1:a.find("> ul > li")},is_parent:function(a){return(a=this.get_node(a))&&-1!==a&&(a.find("> ul > li:eq(0)").length||a.hasClass("jstree-closed"))},is_loaded:function(a){return(a=this.get_node(a))&&
(-1===a&&!this.get_container().find("> ul > li.jstree-loading").length||-1!==a&&!a.hasClass("jstree-loading")&&(a.find("> ul > li").length||a.hasClass("jstree-leaf")))},is_loading:function(a){return(a=this.get_node(a))&&(-1===a&&this.get_container().find("> ul > li.jstree-loading").length||-1!==a&&a.hasClass("jstree-loading"))},is_open:function(a){return(a=this.get_node(a))&&-1!==a&&a.hasClass("jstree-open")},is_closed:function(a){return(a=this.get_node(a))&&-1!==a&&a.hasClass("jstree-closed")},is_leaf:function(a){return(a=
this.get_node(a))&&-1!==a&&a.hasClass("jstree-leaf")},load_node:function(a,b){a=this.get_node(a);if(!a)return b.call(this,a,!1),!1;-1!==a&&a.addClass("jstree-loading");this._load_node(a,f.proxy(function(f){-1!==a&&a.removeClass("jstree-loading");this.__callback({obj:a,status:f});b&&b.call(this,a,f)},this));return!0},_load_node:function(a,b){-1===a&&this.get_container_ul().empty().append(this.data.core.original_container_html.clone(!0));b.call(null,!0)},open_node:function(a,b,g){a=this.get_node(a);
if(-1===a||!a||!a.length)return!1;if(!this.is_closed(a))return b&&b.call(this,a,!1),!1;if(this.is_loaded(a)){var h=this;a.children("ul").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").children("ul").stop(!0,!0).slideDown(f.jstree.IS_IE6?0:g,function(){this.style.display="";h.__trigger("__after_open",{rslt:{obj:a}})});b&&b.call(this,a,!0);this.__callback({obj:a})}else this.load_node(a,function(a,f){return f?this.open_node(a,b,g):b?b.call(this,a,!1):!1})},close_node:function(a,
b){a=this.get_node(a);if(!a||!a.length||!this.is_open(a))return!1;var g=this;a.children("ul").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").children("ul").stop(!0,!0).slideUp(f.jstree.IS_IE6?0:b,function(){this.style.display="";g.__trigger("__after_close",{rslt:{obj:a}})});this.__callback({obj:a})},toggle_node:function(a){if(this.is_closed(a))return this.open_node(a);if(this.is_open(a))return this.close_node(a)},open_all:function(a,b,f){var a=
a?this.get_node(a):-1,a=!a||-1===a?this.get_container_ul():a,f=f||a,g=this,a=this.is_closed(a)?a.find("li.jstree-closed").andSelf():a.find("li.jstree-closed");a.each(function(){g.open_node(this,g.is_loaded(this)?!1:function(a){this.open_all(a,b,f)},b||0)});0===f.find("li.jstree-closed").length&&this.__callback({obj:f})},close_all:function(a,b){var a=a?this._get_node(a):-1,f=!a||-1===a?this.get_container_ul():a,g=this,f=this.is_open(f)?f.find("li.jstree-open").andSelf():f.find("li.jstree-open");f.each(function(){g.close_node(this,
b||0)});this.__callback({obj:a})},clean_node:function(a){var a=this.get_node(a),a=!a||-1===a?this.get_container().find("li"):a.find("li").andSelf(),b=this;return a.each(function(){var a=f(this),g=a.data("jstree"),h=g&&g.opened||a.hasClass("jstree-open")?"open":g&&g.closed||a.children("ul").length?"closed":"leaf";g&&g.opened&&delete g.opened;g&&g.closed&&delete g.closed;a.removeClass("jstree-open jstree-closed jstree-leaf jstree-last");a.children("a").length?f.trim(a.children("a").attr("href"))||a.children("a").attr("href",
"#"):(a.contents().filter(function(){return 3===this.nodeType||"UL"!==this.tagName}).wrapAll('<a href="#"></a>'),a.children("a").html(a.children("a").html().replace(/[\s\t\n]+$/,"")));a.children("ins.jstree-ocl").length||a.prepend("<ins class='jstree-icon jstree-ocl'>&#160;</ins>");a.is(":last-child")&&a.addClass("jstree-last");switch(h){case "leaf":a.addClass("jstree-leaf");break;case "closed":a.addClass("jstree-open");b.close_node(a,0);break;case "open":a.addClass("jstree-closed"),b.open_node(a,
!1,0)}})},correct_node:function(a,b){a=this.get_node(a);if(!a||-1===a&&!b)return!1;a=-1===a?this.get_container().find("li"):b?a.find("li").andSelf():a;a.each(function(){var a=f(this);switch(!0){case a.hasClass("jstree-open")&&!a.find("> ul > li").length:a.removeClass("jstree-open").addClass("jstree-leaf").children("ul").remove();break;case a.hasClass("jstree-leaf")&&!!a.find("> ul > li").length:a.removeClass("jstree-leaf").addClass("jstree-closed")}a[a.is(":last-child")?"addClass":"removeClass"]("jstree-last")});
return a},scroll_to_node:function(a){var b=this.get_container()[0];if(b.scrollHeight>b.offsetHeight&&(a=this.get_node(a))&&!(-1===a||!a.length||!a.is(":visible")))if(a=a.offset().top-this.get_container().offset().top,0>a&&(b.scrollTop=b.scrollTop+a-1),a+this.data.core.li_height+(b.scrollWidth>b.offsetWidth?f.jstree.SCROLLBAR_WIDTH:0)>b.offsetHeight)b.scrollTop+=a-b.offsetHeight+this.data.core.li_height+1+(b.scrollWidth>b.offsetWidth?f.jstree.SCROLLBAR_WIDTH:0)},get_state:function(){var a={open:[],
scroll:{left:this.get_container().scrollLeft(),top:this.get_container().scrollTop()}};this.get_container_ul().find(".jstree-open").each(function(){this.id&&a.open.push(this.id)});return a},set_state:function(a,b){if(a){if(f.isArray(a.open)){var g=!0,h=this;f.each(a.open.concat([]),function(b,i){if(i=document.getElementById(i))h.is_loaded(i)?(h.is_closed(i)&&h.open_node(i,!1,0),f.vakata.array_remove(a.open,b)):(h.is_loading(i)||h.open_node(i,f.proxy(function(){this.set_state(a)},h),0),g=!1)});g&&(delete a.open,
this.set_state(a,b));return!1}return a.scroll?(a.scroll&&"undefined"!==typeof a.scroll.left&&this.get_container().scrollLeft(a.scroll.left),a.scroll&&"undefined"!==typeof a.scroll.top&&this.get_container().scrollTop(a.scroll.top),delete a.scroll,delete a.open,this.set_state(a,b),!1):f.isEmptyObject(a)?(b&&b.call(this),this.__callback(),!1):!0}return!1},refresh:function(){this.data.core.state=this.get_state();this.load_node(-1,function(a,b){b&&this.set_state(f.extend(!0,{},this.data.core.state),function(){this.__trigger("refresh")});
this.data.core.state=null})},get_text:function(a,b){a=this.get_node(a);if(!a||-1===a||!a.length)return!1;a=a.children("a:eq(0)").clone();a.children(".jstree-icon").remove();return a[b?"text":"html"]()},set_text:function(a,b){a=this.get_node(a);if(!a||-1===a||!a.length)return!1;var a=a.children("a:eq(0)"),f=a.children("INS").clone();a.html(b).prepend(f);this.__callback({obj:a,text:b});return!0},parse_json:function(a){var b,g,h,i;if(f.isArray(a))return h=f("<ul />"),i=this,f.each(a,function(a,b){h.append(i.parse_json(b))}),
h;"undefined"===typeof a&&(a={});"string"===typeof a&&(a={title:a});a.li_attr||(a.li_attr={});a.a_attr||(a.a_attr={});a.a_attr.href||(a.a_attr.href="#");a.title||(a.title=this._get_string("New node"));b=f("<li />").attr(a.li_attr);g=f("<a />").attr(a.a_attr).html(a.title);h=f("<ul />");a.data&&!f.isEmptyObject(a.data)&&b.data(a.data);if(!0===a.children||f.isArray(a.children)||b.data("jstree")&&f.isArray(b.data("jstree").children))b.data("jstree")||b.data("jstree",{}),b.data("jstree").closed=!0;b.append(g);
f.isArray(a.children)&&(f.each(a.children,f.proxy(function(a,b){h.append(this.parse_json(b))},this)),b.append(h));return b},get_json:function(a,b){a="undefined"!==typeof a?this.get_node(a):!1;if(!b&&(!a||-1===a))a=this.get_container_ul().children("li");var g,h,i={},k={},m={};if(!a||!a.length)return!1;if(1<a.length||!b)return g=[],h=this,a.each(function(){g.push(h.get_json(f(this),!0))}),g;m=f.vakata.attributes(a,!0);f.each(m,function(a,b){if("id"===a)return i[a]=b,!0;b=f.trim(b.replace(/\bjstree[^ ]*/ig,
"").replace(/\s+$/ig," "));b.length&&(i[a]=b)});m=f.vakata.attributes(a.children("a"),!0);f.each(m,function(a,b){if("id"===a)return k[a]=b,!0;b=f.trim(b.replace(/\bjstree[^ ]*/ig,"").replace(/\s+$/ig," "));b.length&&(k[a]=b)});g={title:this.get_text(a),data:f.extend(!0,{},a.data()||{}),children:!1,li_attr:i,a_attr:k};g.data.jstree||(g.data.jstree={});this.is_open(a)&&(g.data.jstree.opened=!0);this.is_closed(a)&&(g.data.jstree.closed=!0);a=a.find("> ul > li");a.length&&(g.children=[],h=this,a.each(function(){g.children.push(h.get_json(f(this),
!0))}));return g},create_node:function(a,b,f,g,h){a=this.get_node(a);f="undefined"===typeof f?"last":f;if(-1!==a&&!a.length)return!1;if(!f.match(/^(before|after)$/)&&!h&&!this.is_loaded(a))return this.load_node(a,function(){this.create_node(a,b,f,g,!0)});var h=this.parse_json(b),i=-1===a?this.get_container():a;-1===a&&("before"===f&&(f="first"),"after"===f&&(f="last"));switch(f){case "before":f=a.index();a=this.get_parent(a);break;case "after":f=a.index()+1;a=this.get_parent(a);break;case "inside":case "first":f=
0;break;case "last":f=i.children("ul").children("li").length;break;default:f||(f=0)}if(!this.check("create_node",h,a,f))return!1;i=-1===a?this.get_container():a;i.children("ul").length||i.append("<ul />");i.children("ul").children("li").eq(f).length?i.children("ul").children("li").eq(f).before(h):i.children("ul").append(h);this.correct_node(a,!0);g&&g.call(this,h);this.__callback({obj:h,parent:a,position:h.index()});return h},rename_node:function(a,b){var a=this.get_node(a),f=this.get_text(a);if(!this.check("rename_node",
a,this.get_parent(a),b))return!1;a&&a.length&&(this.set_text(a,b),this.__callback({obj:a,title:b,old:f}))},delete_node:function(a){a=this.get_node(a);if(!a||-1===a||!a.length)return!1;var b=this.get_parent(a),f=this.get_prev(a);if(!this.check("delete_node",a,b,a.index()))return!1;a=a.detach();this.correct_node(b);this.correct_node(f);this.__callback({obj:a,prev:f,parent:b});return a},check:function(a,b,g,h){var i=a.match(/^move_node|copy_node|create_node$/i)?g:b;if((i=-1===i?this.get_container().data("jstree"):
i.data("jstree"))&&i.functions&&i.functions[a])if(i=i.functions[a],f.isFunction(i)&&(i=i.call(this,a,b,g,h)),!1===i)return!1;switch(a){case "move_node":if(i=-1===g?this.get_container():g,i=i.children("ul").children("li"),i.length&&-1!==i.index(b)&&(h===b.index()||h===b.index()+1)||-1!==g&&-1!==g.parentsUntil(".jstree","li").andSelf().index(b))return!1}return!0},move_node:function(a,b,g,h,i){a=this.get_node(a);b=this.get_node(b);g="undefined"===typeof g?0:g;if(!a||(-1===a||!a.length)||-1!==b&&!b.length)return!1;
if(!g.toString().match(/^(before|after)$/)&&!i&&!this.is_loaded(b))return this.load_node(b,function(){this.move_node(a,b,g,h,!0)});var i=this.get_parent(a),k=!g.toString().match(/^(before|after)$/)||-1===b?b:this.get_parent(b),m=f.jstree._reference(a),E=-1===b?this:f.jstree._reference(b),z=m.get_index()!==E.get_index();-1===k&&(b=E.get_container(),"before"===g&&(g="first"),"after"===g&&(g="last"));switch(g){case "before":g=b.index();break;case "after":g=b.index()+1;break;case "inside":case "first":g=
0;break;case "last":g=b.children("ul").children("li").length;break;default:g||(g=0)}if(!this.check("move_node",a,k,g))return!1;b.children("ul").length||b.append("<ul />");b.children("ul").children("li").eq(g).length?b.children("ul").children("li").eq(g).before(a):b.children("ul").append(a);z&&(a.find(".jstree-icon, .jstree-ocl").remove(),this.clean_node(a));m.correct_node(i,!0);E.correct_node(k,!0);h&&h.call(this,a,k,a.index());this.__callback({obj:a,parent:k,position:a.index(),old_parent:i,is_multi:z,
old_instance:m,new_instance:E});return!0},copy_node:function(a,b,g,h,i){a=this.get_node(a);b=this.get_node(b);g="undefined"===typeof g?"last":g;if(!a||(-1===a||!a.length)||-1!==b&&!b.length)return!1;if(!g.toString().match(/^(before|after)$/)&&!i&&!this.is_loaded(b))return this.load_node(b,function(){this.copy_node(a,b,g,h,!0)});var i=a,k=this.get_parent(a),m=!g.toString().match(/^(before|after)$/)||-1===b?b:this.get_parent(b),E=f.jstree._reference(a),z=-1===b?this:f.jstree._reference(b),L=E.get_index()!==
z.get_index(),a=a.clone(!0);a.find("*[id]").andSelf().each(function(){this.id&&(this.id="copy_"+this.id)});-1===m&&(b=z.get_container(),"before"===g&&(g="first"),"after"===g&&(g="last"));switch(g){case "before":g=b.index();break;case "after":g=b.index()+1;break;case "inside":case "first":g=0;break;case "last":g=b.children("ul").children("li").length;break;default:g||(g=0)}if(!this.check("copy_node",i,m,g))return!1;b.children("ul").length||b.append("<ul />");b.children("ul").children("li").eq(g).length?
b.children("ul").children("li").eq(g).before(a):b.children("ul").append(a);L&&a.find(".jstree-icon, .jstree-ocl").remove();z.clean_node(a);z.correct_node(m,!0);h&&h.call(this,a,m,a.index(),i);this.__callback({obj:a,parent:m,old_parent:k,position:a.index(),original:i,is_multi:L,old_instance:E,new_instance:z});return!0},cut:function(a){a=this.get_node(a);if(!a||-1===a||!a.length)return!1;k=a;m="move_node";this.__callback({obj:a})},copy:function(a){a=this.get_node(a);if(!a||-1===a||!a.length)return!1;
k=a;m="copy_node";this.__callback({obj:a})},can_paste:function(){return!1!==m&&!1!==k},paste:function(a){a=this.get_node(a);if(!a||!m||!m.match(/^(copy_node|move_node)$/)||!k)return!1;this[m](k,a);this.__callback({obj:a,nodes:k,mode:m});m=k=!1},edit:function(a,b){a=this.get_node(a);if(!a||-1===a||!a.length)return!1;a.parentsUntil(".jstree",".jstree-closed").each(f.proxy(function(a,b){this.open_node(b,!1,0)},this));var g=this.data.core.rtl,h=this.get_container().width(),i=a.children("a:eq(0)"),k=a.children("ins"),
m=i.children("ins"),k=k.width()*k.length,m=m.width()*m.length,E="string"===typeof b?b:this.get_text(a),z=f("<div />",{css:{position:"absolute",top:"-200px",left:g?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),L=a.css("position","relative").append(f("<input />",{value:E,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver",position:"absolute",left:g?"auto":k+m+4+"px",right:g?k+m+4+"px":"auto",top:"0px",height:this.data.core.li_height-2+"px",lineHeight:this.data.core.li_height-
2+"px",width:"150px"},blur:f.proxy(function(){var b=a.children(".jstree-rename-input"),f=b.val();""===f&&(f=E);z.remove();b.remove();this.rename_node(a,f);a.css("position","")},this),keyup:function(a){a=a.keyCode||a.which;27===a?(this.value=E,this.blur()):13===a?this.blur():L.width(Math.min(z.text("pW"+this.value).width(),h))},keypress:function(a){if(13===(a.keyCode||a.which))return!1}})).children(".jstree-rename-input"),g={fontFamily:i.css("fontFamily")||"",fontSize:i.css("fontSize")||"",fontWeight:i.css("fontWeight")||
"",fontStyle:i.css("fontStyle")||"",fontStretch:i.css("fontStretch")||"",fontVariant:i.css("fontVariant")||"",letterSpacing:i.css("letterSpacing")||"",wordSpacing:i.css("wordSpacing")||""};this.set_text(a,"");z.css(g);L.css(g).width(Math.min(z.text("pW"+L[0].value).width(),h))[0].select()}}});f(function(){var a=".jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } .jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } .jstree-rtl li { margin-left:0; margin-right:18px; } .jstree > ul > li { margin-left:0px; } .jstree-rtl > ul > li { margin-right:0px; } .jstree .jstree-icon { display:inline-block; text-decoration:none; margin:0; padding:0; vertical-align:top; } .jstree .jstree-ocl { width:18px; height:18px; text-align:center; line-height:18px; cursor:default; vertical-align:top; } .jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; padding:1px 2px; margin:0; } .jstree a:focus { outline: none; } li.jstree-open > ul { display:block; } li.jstree-closed > ul { display:none; } ";
if(f.jstree.IS_IE6){try{document.execCommand("BackgroundImageCache",!1,!0)}catch(b){}a+=".jstree li { height:18px; margin-left:0; margin-right:0; } .jstree li li { margin-left:18px; } .jstree-rtl li li { margin-left:0px; margin-right:18px; } li.jstree-open ul { display:block; } li.jstree-closed ul { display:none !important; } .jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } "}f.jstree.IS_IE7&&(a+=".jstree li a { border-width:0 !important; padding:0px 2px !important; } ");
f.jstree.IS_FF2&&(a+=".jstree .jstree-icon { display:-moz-inline-box; } .jstree li { line-height:12px; } .jstree a { display:-moz-inline-box; } ");f.vakata.css.add_sheet({str:a,title:"jstree"})})}})();define("libs/jquery/jstree/jstree",function(){});
(function(b){b.jstree.plugin("sort",{__construct:function(){this.get_container().bind("load_node.jstree",b.proxy(function(b,g){var h=this.get_node(g.rslt.obj),h=-1===h?this.get_container_ul():h.children("ul");this._sort(h,!0)},this)).bind("rename_node.jstree create_node.jstree",b.proxy(function(b,g){this._sort(g.rslt.obj.parent(),!1)},this)).bind("move_node.jstree copy_node.jstree",b.proxy(function(b,g){var h=-1===g.rslt.parent?this.get_container_ul():g.rslt.parent.children("ul");this._sort(h,!1)},
this))},defaults:function(b,g){return this.get_text(b,!0)>this.get_text(g,!0)?1:-1},_fn:{_sort:function(i,g){var h=this.get_settings(!0).sort,a=this;i.append(b.makeArray(i.children("li")).sort(b.proxy(h,a)));i.children("li").each(function(){a.correct_node(this,!1)});g&&(i.find("> li > ul").each(function(){a._sort(b(this))}),a.correct_node(i.children("li"),!0))}}});b.jstree.defaults.plugins.push("sort")})(jQuery);define("libs/jquery/jstree/jstree.sort",function(){});
(function(b){b.jstree.plugin("ui",{__construct:function(){this.data.ui.selected=b();this.data.ui.hovered=null;this.data.ui.last_selected=!1;this.get_container().delegate("a","click.jstree",b.proxy(function(b){b.preventDefault();b.currentTarget.blur();var g=this.get_settings(!0).ui,h=this.get_node(b.currentTarget),a=this.is_selected(h),f="on"===g.select_multiple_modifier||!1!==g.select_multiple_modifier&&b&&b[g.select_multiple_modifier+"Key"],b="on"===g.select_multiple_modifier||!1!==g.select_range_modifier&&
b&&b[g.select_range_modifier+"Key"]&&this.data.ui.last_selected&&this.data.ui.last_selected[0]!==h[0]&&this.data.ui.last_selected.parent()[0]===h.parent()[0];switch(!0){case b&&!1!==this.data.ui.last_selected:this.select_range(h);break;case b&&!1===this.data.ui.last_selected:this.select_one(h);break;case a&&f:this.deselect_node(h);break;default:this.select_one(h,f)}},this)).delegate("a","mouseenter.jstree",b.proxy(function(b){this.hover_node(b.target)},this)).delegate("a","mouseleave.jstree",b.proxy(function(b){this.dehover_node(b.target)},
this)).bind("delete_node.jstree",b.proxy(function(i,g){var h=this.get_node(g.rslt.obj),a=this;(h&&h.length?h.find("a.jstree-clicked"):b()).each(function(){a.deselect_node(this)})},this)).bind("move_node.jstree",b.proxy(function(b,g){g.rslt.cy&&g.rslt.oc.find("a.jstree-clicked").removeClass("jstree-clicked")},this))},defaults:{select_multiple_modifier:"ctrl",select_range_modifier:"shift",disable_nested_selection:!0},_fn:{get_node:function(b,g){return"undefined"===typeof b||null===b?g?this.data.ui.selected:
this.data.ui.last_selected:this.__call_old()},hover_node:function(b){b=this.get_node(b);if(!b||!b.length||this.is_loading(b))return!1;b.hasClass("jstree-hovered")||this.dehover_node();this.data.ui.hovered=b.children("a").addClass("jstree-hovered").parent();this.scroll_to_node(b);this.__callback({obj:b})},dehover_node:function(){var b=this.data.ui.hovered,g;if(!b||!b.length)return!1;g=b.children("a").removeClass("jstree-hovered").parent();this.data.ui.hovered[0]===g[0]&&(this.data.ui.hovered=null);
this.__callback({obj:b})},select_node:function(b){var g=this,b=this.get_node(b);if(-1===b||!b||!b.length||this.is_loading(b))return!1;b.children("a").addClass("jstree-clicked");this.data.ui.last_selected=b;this.data.ui.selected=this.data.ui.selected.add(b);b.parents(".jstree-closed").each(function(){g.open_node(this,!1,0)});this.__callback({obj:b})},deselect_node:function(b){b=this.get_node(b);if(!b||!b.length)return!1;this.is_selected(b)&&(b.children("a").removeClass("jstree-clicked"),this.data.ui.selected=
this.data.ui.selected.not(b),this.data.ui.last_selected.get(0)===b.get(0)&&(this.data.ui.last_selected=this.data.ui.selected.eq(0)),this.__callback({obj:b}))},deselect_all:function(i){i=i?b(i).find("a.jstree-clicked").parent():this.get_container().find("a.jstree-clicked").parent();i.children("a.jstree-clicked").removeClass("jstree-clicked");this.data.ui.selected=b();this.data.ui.last_selected=!1;this.__callback({obj:i})},is_selected:function(b){return 0<=this.data.ui.selected.index(this.get_node(b))},
get_selected:function(i){return i?b(i).find("a.jstree-clicked").parent():this.data.ui.selected},select_range:function(b,g,h){var a=this,f,b=this.get_node(b);g||(f=!0,g=this.data.ui.last_selected);g=this.get_node(g);if(-1===b||!b||!b.length||this.is_loading(b)||-1===g||!g||!g.length||this.is_loading(g))return!1;h||this.deselect_all();h=b.index()<g.index();g.addClass("jstree-last-selected");b=b[h?"nextUntil":"prevUntil"](".jstree-last-selected").andSelf().add(".jstree-last-selected");g.removeClass("jstree-last-selected");
h||(b=b.vakata_reverse());if(!b.length)return!1;b.each(function(){a.select_node(this)});f&&(this.data.ui.last_selected=g);this.__callback({obj:b});return!0},select_one:function(b,g){b=this.get_node(b);if(-1===b||!b||!b.length||this.is_loading(b))return!1;if(g){if(this.get_settings(!0).ui.disable_nested_selection&&(b.parentsUntil(".jstree","li").children("a.jstree-clicked:eq(0)").length||b.children("ul").find("a.jstree-clicked:eq(0)").length))return!1}else this.deselect_all();this.select_node(b);this.__callback({obj:b});
return!0},clean_node:function(i){var i=this.__call_old(),g=this;return i.each(function(){var h=b(this),a=h.data("jstree");h.find(".jstree-clicked").removeClass("jstree-clicked");a&&a.selected&&(g.select_node(h),delete a.selected)})},get_state:function(){var b=this.__call_old();b.selected=[];this.data.ui.selected.each(function(){b.selected.push(this.id)});return b},set_state:function(i,g){if(this.__call_old()){if(i.selected){var h=this;this.deselect_all();b.each(i.selected,function(a,b){h.select_node(document.getElementById(b))});
delete i.selected;this.set_state(i,g);return!1}return!0}return!1},get_json:function(b,g){var h=this.__call_old();g&&this.is_selected(b)&&(h.data.jstree.selected=!0);return h}}});b.jstree.defaults.plugins.push("ui")})(jQuery);define("libs/jquery/jstree/jstree.ui",function(){});
(function(b){var i=[];b.jstree.THEMES_DIR=!1;b.jstree.plugin("themes",{__construct:function(){this.get_container().bind("__construct.jstree",b.proxy(function(){var b=this.get_settings(!0).themes;this.data.themes.dots=b.dots;this.data.themes.icons=b.icons;!1===b.url&&!1===b.theme&&(b.theme=this.data.core.rtl?"default-rtl":"default");this.set_theme(b.theme,b.url);this[this.data.themes.dots?"show_dots":"hide_dots"]();this[this.data.themes.icons?"show_icons":"hide_icons"]()},this))},defaults:{theme:!1,
url:!1,dots:!0,icons:!0},_fn:{set_theme:function(g,h){if(!g)return!1;h||(h=b.jstree.THEMES_DIR+g+"/style.css");-1===b.inArray(h,i)&&(b.vakata.css.add_sheet({url:h}),i.push(h));this.data.themes.theme!==g&&(this.get_container().removeClass("jstree-"+this.data.themes.theme),this.data.themes.theme=g);this.get_container().addClass("jstree-"+g);this.__callback(g)},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=!0;this.get_container().children("ul").removeClass("jstree-no-dots")},
hide_dots:function(){this.data.themes.dots=!1;this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){this.data.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this.data.themes.icons=!0;this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=!1;this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){this.data.themes.icons?this.hide_icons():this.show_icons()},
set_icon:function(b,h){b=this.get_node(b);if(!b||-1===b||!b.length)return!1;b=b.find("> a > .jstree-themeicon");!1===h?this.hide_icon(b):-1===h.indexOf("/")?b.addClass(h).attr("rel",h):b.css("background","url('"+h+"') center center no-repeat").attr("rel",h);return!0},get_icon:function(b){b=this.get_node(b);if(!b||-1===b||!b.length)return null;b=b.find("> a > .jstree-themeicon");return b.hasClass("jstree-themeicon-hidden")?!1:(b=b.attr("rel"))&&b.length?b:null},hide_icon:function(b){b=this.get_node(b);
if(!b||-1===b||!b.length)return!1;b.find("> a > .jstree-themeicon").addClass("jstree-themeicon-hidden");return!0},show_icon:function(b){b=this.get_node(b);if(!b||-1===b||!b.length)return!1;b.find("> a > .jstree-themeicon").removeClass("jstree-themeicon-hidden");return!0},clean_node:function(g){var g=this.__call_old(),h=this;return g.each(function(){var a=b(this),f=a.data("jstree");a.find("> a > ins.jstree-themeicon").length||a.children("a").prepend("<ins class='jstree-icon jstree-themeicon'>&#160;</ins>");
f&&"undefined"!==typeof f.icon&&(h.set_icon(a,f.icon),delete f.icon)})},get_state:function(){var b=this.__call_old();b.themes={theme:this.get_theme(),icons:this.data.themes.icons,dots:this.data.themes.dots};return b},set_state:function(b,h){if(this.__call_old()){if(b.themes){b.themes.theme&&this.set_theme(b.themes.theme);if("undefined"!==typeof b.themes.dots)this[b.themes.dots?"show_dots":"hide_dots"]();if("undefined"!==typeof b.themes.icons)this[b.themes.icons?"show_icons":"hide_icons"]();delete b.themes;
this.set_state(b,h);return!1}return!0}return!1},get_json:function(b,h){var a=this.__call_old(),f;h&&(f=this.get_icon(b),"undefined"!==typeof f&&null!==f&&(a.data.jstree.icon=f));return a}}});b(function(){!1===b.jstree.THEMES_DIR&&b("script").each(function(){if(this.src.toString().match(/jstree[^\/]*?\.js(\?.*)?$/))return b.jstree.THEMES_DIR=this.src.toString().replace(/jstree[^\/]*?\.js(\?.*)?$/,"")+"themes/",!1});!1===b.jstree.THEMES_DIR&&(b.jstree.THEMES_DIR="themes/");var g=".jstree a { text-decoration:none; } .jstree a > .jstree-themeicon { height:16px; width:16px; margin-right:3px; } .jstree-rtl a > .jstree-themeicon { margin-left:3px; margin-right:0; } .jstree .jstree-no-icons .jstree-themeicon, .jstree .jstree-themeicon-hidden { display:none; } ";
b.jstree.IS_IE6&&(g+=".jstree li a .jstree-themeicon { height:16px; width:16px; margin-right:3px; } .jstree-rtl li a .jstree-themeicon { margin-right:0px; margin-left:3px; } ");b.vakata.css.add_sheet({str:g,title:"jstree"})});b.jstree.defaults.plugins.push("themes")})(jQuery);define("libs/jquery/jstree/jstree.themes",function(){});
define("app/config/demo-queries",["app/util/utils"],function(b){for(var i=[{name:"examples/summer games medals/Medals By Country",code:"data := //summer_games/london_medals\nbyCountry := solve 'Country\n  {country: 'Country,\n   total: sum(data.Total where data.Country = 'Country)}\nbyCountry"},{name:"examples/summer games medals/Attributes By Sport",code:"data := //summer_games/london_medals\n solve 'Sport \n  data' := data where data.Sport = 'Sport\n  {sport: 'Sport, \n  aveAge: mean(data'.Age),\n  aveWeight: mean(data'.Weight ),\n  aveHeight: mean(data'.HeightIncm)}"},
{name:"examples/summer games medals/Age Distribution Of Medals",code:"london := //summer_games/london_medals\nsolve 'age\n  {age: 'age, medalWinnersByAge: count(london where london.Age = 'age)}"},{name:"examples/summer games medals/Correlation of Letters in Name and Medals",code:"data := //summer_games/london_medals \nbyCountry := solve 'Country\n  data' := data where data.Country = 'Country\n  {country: 'Country,\n  gold: sum(data'.G ),\n  silver: sum(data'.S ),\n  bronze: sum(data'.B ),\n  total: sum(data'.Total ),\naveLettersInName: mean(std::string::length(data'.Name))}\n\nstd::stats::corr(byCountry.aveLettersInName,byCountry.total)"},
{name:"examples/summer games medals/Percentage of Female Athletes by Country",code:"data := //summer_games/london_medals\nbyCountry := solve 'Country\n data' := data where data.Country = 'Country\n  {country: 'Country,\n  percentWomen: sum(data'.Total where data'.Sex = \"F\")\n  /sum(data'.Total ),\n  total: sum(data'.Total)}\n\nfiltered := byCountry where byCountry.total >=5\n\nfiltered where std::stats::rank(neg filtered.percentWomen) <= 5"},{name:"examples/summer games athletes/Athletes By Country",
code:"data := //summer_games/athletes \nsolve 'Countryname \n  {CountryName: 'Countryname, count: count(data where data.Countryname = 'Countryname)}"},{name:"examples/summer games athletes/Athletes By Sport",code:"data := //summer_games/athletes \nsolve 'Sportname \n  {Sportname: 'Sportname, count: count(data where data.Sportname = 'Sportname)}"},{name:"examples/summer games athletes/Top US Sports - Men",code:'data := //summer_games/athletes \nUSMaleAthletes := data where data.Countryname = "US" & data.Sex = "M" \nbySport := solve \'Sportname \n  {sport: \'Sportname, numberOfAthletes: count(USMaleAthletes where USMaleAthletes.Sportname = \'Sportname)} \nrank := std::stats::rank(bySport.numberOfAthletes) \nbySport where rank > max(rank) - 10'},
{name:"examples/summer games athletes/Top US Sports - Women",code:'data := //summer_games/athletes \nUSFemaleAthletes := data where data.Countryname = "US" & data.Sex = "F" \nbySport := solve \'Sportname \n  {sport: \'Sportname, numberOfAthletes: count(USFemaleAthletes where USFemaleAthletes.Sportname = \'Sportname)} \nrank := std::stats::rank(bySport.numberOfAthletes) \nbySport where rank > max(rank) - 10'},{name:"examples/summer games athletes/Percentage of Female Athletes",code:"data := //summer_games/athletes \npercentageFemaleAthletesByCountry := solve 'Countryname \n  {country: 'Countryname,\n  percentFemale: 100*count(data where data.Sex = \"F\" & data.Countryname = 'Countryname)/count(data where data.Countryname = 'Countryname)}\n \nrank := std::stats::rank(neg percentageFemaleAthletesByCountry.percentFemale)\n \npercentageFemaleAthletesByCountry where rank <=5"},
{name:"examples/tutorial/Top Five Products",code:"data := //tutorial/transactions\n\nsalesByProduct := solve 'product\n  {product: 'product,\n  sales: sum(data.total where data.ApocalypseProducts = 'product)}\nrank := std::stats::rank(neg salesByProduct.sales)\n\nsalesByProduct where rank <= 5"},{name:"examples/tutorial/Top Five Products Plus Other",code:"data := //tutorial/transactions\n\nsalesByProduct := solve 'ApocalypseProducts\n  {product: 'ApocalypseProducts,\n  sales: sum(data.total where data.ApocalypseProducts = 'ApocalypseProducts)}\nrank := std::stats::rank(neg salesByProduct.sales)\notherProducts := {product: \"other\",sales: sum(salesByProduct.sales where rank > 5)}\n\ntop5Products := salesByProduct where rank <= 5\nallProducts := (new otherProducts) union top5Products \nallProducts"},
{name:"examples/tutorial/Quantity By Month",code:"data := //tutorial/transactions\ntoday := 233\ndataWithMonthAndYearAndDay := data with\n  {month: std::time::monthOfYear(data.timeStamp),\n  year: std::time::year(data.timeStamp),\n  day: std::time::dayOfYear(data.timeStamp)}\n\nquantityByMonth := solve 'month\n monthData := dataWithMonthAndYearAndDay where dataWithMonthAndYearAndDay.month = 'month\n  {month : 'month,\n  quantity: sum(monthData.quantity),\n  year : monthData.year,\n  day : monthData.day}\n\ndistinct({quantity: quantityByMonth.quantity, month: quantityByMonth.month} where\n  quantityByMonth.year=2012 & quantityByMonth.day < today)"},
{name:"examples/tutorial/Sales By Source at a Particular Hour",code:"data := //tutorial/transactions\ndataWithHour := data with {hour: std::time::hourOfDay(data.timeStamp)}\n\naveSalesByHour :=solve 'source\n  {source : 'source,\n  averageSales: sum(dataWithHour.total where dataWithHour.source ='source),\n  hour : dataWithHour.hour}\n\n distinct(aveSalesByHour where aveSalesByHour.hour = 13)"},{name:"examples/clickstream/Clicks By Gender And Week",code:"import std::time::*\n\n clicks := //clicks\n clicks' := clicks with {week: weekOfYear(clicks.timeStamp)}\n\nclicksByGenderAndWeek := solve 'gender, 'week\n  {week: 'week,\n  gender: 'gender,\n  clicks: count(clicks' where clicks'.customer.gender = 'gender & clicks'.week = 'week)}\n clicksByGenderAndWeek"},
{name:"examples/clickstream/Clicks By Referral",code:"clicks := //clicks\n\nclicksByReferral := solve 'referral\n  {referral: 'referral,\n  clicks: count(clicks where clicks.marketing.referral = 'referral)}\n\nclicksByReferral"}],g={},h=0;h<i.length;h++){var a=i[h].name;g[b.normalizeQueryName(a)]={name:a,code:i[h].code}}return g});
define("app/support",["app/util/ui"],function(b){return function(i){var g=0,h,a=b.tabs(i.append('<div class="pg-support-tabs"><ul></ul></div>').find(".pg-support-tabs").css({padding:0,margin:0,border:0}),{tabTemplate:"<li><a href='#{href}'>#{label}</a></li>",add:function(a,b){$(b.panel).css({padding:0,overflow:"hidden"});h(b.panel)}});a.removeClass("ui-corner-all");setTimeout(function(){a.find("ul").removeClass("ui-corner-all")},0);return{addPanel:function(b,i){var m="#pg-support-tab-"+ ++g;if("function"!==
typeof i){var l;if("string"===typeof i&&("https://"===i.substr(0,8)||"http://"===i.substr(0,7)))l='<iframe src="'+i+'" style="margin:0;padding:0;width:100%;height:100%;border:0"><iframe/>';i=function(a){$(a).append(l)}}h=i;a.tabs("add",m,b)},resize:function(){var b=i.innerHeight()-a.find("ul").outerHeight();a.find(".ui-tabs-panel").css({height:b+"px"})}}}});define("rtext!templates/content.tip.main.html",[],function(){return'<p>Labcoat by Precog is a friendly tool that allows you to analyze data using a simple, yet powerful query language called Quirrel. This interactive environment makes it so easy to understand data! Experiment with sample data by running preloaded queries or by creating your own queries. You can also learn the Quirrel language with our built-in tutorial and reference guide. Any query you develop can also be executed from inside an application through our REST API.</p>\r\n<p>This is an early preview, so you can\'t quite upload your own data but <a href="http://goo.gl/Jtdho" target="_blank">subscribe to our newsletter</a> to learn when you\'ll be able to analyze your own data. Now, we\'ll let you get started!</p>'});
define("rtext!templates/content.tip.codepane.html",[],function(){return'This is the code editor. You can type your Quirrel queries here and execute them clicking on the "run" (or "run selected") or by using SHIFT+ENTER on your keyboard.'});define("rtext!templates/content.tip.filesystem.html",[],function(){return"This is the file system. You can see how your data is organized, as well as upload and download data through drag & drop."});define("rtext!templates/content.tip.querybrowser.html",[],function(){return"This is the query browser. Here you can create, rename, and delete queries. All these are stored on your local machine, so be sure to back them up elsewhere for safe-keeping!"});
define("rtext!templates/content.tip.resultspane.html",[],function(){return"This is the results pane. Anytime you execute a query, the results will appear here. You can view the results as JSON, CSV, or charts."});define("rtext!templates/content.tip.supportpane.html",[],function(){return"<div>\r\n    <h3>tutorial</h3>\r\n    <div>This is a tutorial for the Quirrel query language. In about 30 minutes, you can learn everything you need to know to analyze data on Precog or any other system that supports Quirrel.</div>\r\n    <h3>reference</h3>\r\n    <div>This is a reference manual for functions in Quirrel's standard library. These functions help you save time and perform critical key operations when doing data analysis.</div>\r\n    <h3>IRC channel</h3>\r\n    <div>This is an IRC client that connects to the #quirrel channel on Freenode. On the Quirrel channel, you can often find other Quirrel users who can help answer your questions.</div>\r\n</div>"});
define("app/startup-tips","app/util/notification app/util/ui app/util/storage rtext!templates/content.tip.main.html rtext!templates/content.tip.codepane.html rtext!templates/content.tip.filesystem.html rtext!templates/content.tip.querybrowser.html rtext!templates/content.tip.resultspane.html rtext!templates/content.tip.supportpane.html".split(" "),function(b,i,g,h,a,f,k,m,l){function r(a){return function(){t.set(a,!1)}}function p(a){for(var f=0;f<v.length;f++){var g=v[f];t.get(g.store)&&b.tip(g.title,
{target:g.target(a),text:g.text,after_close:r(g.store)})}}var t=g("pg-quirrel-tips",{main:!0,editor:!0,system:!0,queries:!0,results:!0,support:!0}),v=[{title:"Quirrel Editor",target:function(a){return a.getInput()},text:a,store:"editor"},{title:"Virtual File System",target:function(a){return a.getSystem()},text:f,store:"system"},{title:"Query Browser",target:function(a){return a.getQueries()},text:k,store:"queries"},{title:"Results",target:function(a){return a.getOutput()},text:m,store:"results"},
{title:"Support",target:function(a){return a.getSupport()},text:l,store:"support"}];return function(a){setTimeout(function(){if(t.get("main")){var f=b.main("Welcome to Labcoat!",{text:'<div class="pg-content">'+h+'</div><div class="pg-actions"><label>display panel tips<input type="checkbox" name="pg-display-tips" checked></label></div>',after_close:function(){t.set("main",!1);if(f.find('input[type="checkbox"]').attr("checked"))p(a);else for(var b=0;b<v.length;b++)t.set(v[b].store,!1)}});i.button(f.find(".pg-actions"),
{label:"close",text:!0,icon:"ui-icon-close",handler:function(){f.pnotify_remove()}})}else p(a)},1E3)}});define("app/util/guid",[],function(){return function(){var b=function(){return Math.floor(65536*Math.random()).toString(16)};return b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()}});
define("app/util/ie",[],function(){for(var b,i=3,g=document.createElement("div"),h=g.getElementsByTagName("i");g.innerHTML="<\!--[if gt IE "+ ++i+"]><i></i><![endif]--\>",h[0];);b=4<i?i:void 0;return{isIE:function(){return!!b},version:function(){return b},greaterOrEqualTo:function(a){return b&&b>a}}});var JSON;JSON||(JSON={});
(function(){function b(a){return 10>a?"0"+a:a}function i(b){a.lastIndex=0;return a.test(b)?'"'+b.replace(a,function(a){var b=m[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function g(a,b){var h,m,w,x,E=f,z,L=b[a];L&&("object"===typeof L&&"function"===typeof L.toJSON)&&(L=L.toJSON(a));"function"===typeof l&&(L=l.call(b,a,L));switch(typeof L){case "string":return i(L);case "number":return isFinite(L)?String(L):"null";case "boolean":case "null":return String(L);
case "object":if(!L)return"null";f+=k;z=[];if("[object Array]"===Object.prototype.toString.apply(L)){x=L.length;for(h=0;h<x;h+=1)z[h]=g(h,L)||"null";w=0===z.length?"[]":f?"[\n"+f+z.join(",\n"+f)+"\n"+E+"]":"["+z.join(",")+"]";f=E;return w}if(l&&"object"===typeof l){x=l.length;for(h=0;h<x;h+=1)m=l[h],"string"===typeof m&&(w=g(m,L))&&z.push(i(m)+(f?": ":":")+w)}else for(m in L)Object.hasOwnProperty.call(L,m)&&(w=g(m,L))&&z.push(i(m)+(f?": ":":")+w);w=0===z.length?"{}":f?"{\n"+f+z.join(",\n"+f)+"\n"+
E+"}":"{"+z.join(",")+"}";f=E;return w}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+b(this.getUTCMonth()+1)+"-"+b(this.getUTCDate())+"T"+b(this.getUTCHours())+":"+b(this.getUTCMinutes())+":"+b(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var h=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,k,m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,h){var i;k=f="";if("number"===typeof h)for(i=0;i<h;i+=1)k+=" ";else"string"===typeof h&&(k=h);if((l=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return g("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function f(a,g){var h,i,k=a[g];if(k&&"object"===typeof k)for(h in k)Object.hasOwnProperty.call(k,h)&&(i=f(k,h),void 0!==i?k[h]=i:delete k[h]);return b.call(a,g,k)}var g,a=String(a);h.lastIndex=0;h.test(a)&&(a=a.replace(h,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return g=eval("("+a+")"),"function"===typeof b?f({"":g},""):g;throw new SyntaxError("JSON.parse");})})();
(function(){var b=window.Precog=window.Precog||{},i={Base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){for(var b="",f,g,h,i,k,l,m=0,a=this._utf8_encode(a);m<a.length;)f=a.charCodeAt(m++),g=a.charCodeAt(m++),h=a.charCodeAt(m++),i=f>>2,f=(f&3)<<4|g>>4,k=(g&15)<<2|h>>6,l=h&63,isNaN(g)?k=l=64:isNaN(h)&&(l=64),b=b+this._keyStr.charAt(i)+this._keyStr.charAt(f)+this._keyStr.charAt(k)+this._keyStr.charAt(l);return b},decode:function(a){for(var b="",f,g,
h,i,k,l=0,a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<a.length;)f=this._keyStr.indexOf(a.charAt(l++)),g=this._keyStr.indexOf(a.charAt(l++)),i=this._keyStr.indexOf(a.charAt(l++)),k=this._keyStr.indexOf(a.charAt(l++)),f=f<<2|g>>4,g=(g&15)<<4|i>>2,h=(i&3)<<6|k,b+=String.fromCharCode(f),64!=i&&(b+=String.fromCharCode(g)),64!=k&&(b+=String.fromCharCode(h));return b=this._utf8_decode(b)},_utf8_encode:function(a){for(var a=a.replace(/\r\n/g,"\n"),b="",f=0;f<a.length;f++){var g=a.charCodeAt(f);128>g?b+=String.fromCharCode(g):
(127<g&&2048>g?b+=String.fromCharCode(g>>6|192):(b+=String.fromCharCode(g>>12|224),b+=String.fromCharCode(g>>6&63|128)),b+=String.fromCharCode(g&63|128))}return b},_utf8_decode:function(a){var b="",f=0;for(c2=c1=c=0;f<a.length;)c=a.charCodeAt(f),128>c?(b+=String.fromCharCode(c),f++):191<c&&224>c?(c2=a.charCodeAt(f+1),b+=String.fromCharCode((c&31)<<6|c2&63),f+=2):(c2=a.charCodeAt(f+1),c3=a.charCodeAt(f+2),b+=String.fromCharCode((c&15)<<12|(c2&63)<<6|c3&63),f+=3);return b}},makeBaseAuth:function(a,
b){return"Basic "+this.Base64.encode(a+":"+b)},extend:function(a,b){for(var f in b)void 0===a[f]&&(a[f]=b[f])},findScripts:function(a){for(var b=document.getElementsByTagName("SCRIPT"),f=[],g=0;g<b.length;g++){var h=b[g],i=h.getAttribute("src");i&&("string"==typeof a&&-1!=i.indexOf(a)||i.match(a))&&f.push(h)}return f},findScript:function(a){for(var b=document.getElementsByTagName("SCRIPT"),f=0;f<b.length;f++){var g=b[f],h=g.getAttribute("src");if(h&&("string"==typeof a&&-1!=h.indexOf(a)||h.match(a)))return g}},
getPageConfiguration:function(){return i.parseQueryParameters(window.location.href)},getConfiguration:function(){for(var a={},b=i.findScripts(/precog[^\/.]*\.js/),f=0;f<b.length;f++)i.extend(a,i.parseQueryParameters(b[f].getAttribute("src")));return a},parseQueryParameters:function(a){var b=a.indexOf("?");if(0>b)return{};for(var a=a.substr(b+1).split("&"),b={},f=0;f<a.length;f++){var g=a[f].split("="),h=g[0],i="";2<=g.length&&(i=decodeURIComponent(g[1]));b[h]=i}return b},addQueryParameters:function(a,
b){var f=a.lastIndexOf("#"),g="";0<=f&&(g="#"+a.substr(f+1),a=a.substr(0,f));var f=-1==a.indexOf("?")?"?":"&",h=[],i;for(i in b)h.push(i+"="+encodeURIComponent((b[i]||"").toString()));return 0===h.length?a+g:a+f+h.join("&")+g},getConsole:function(a){(a=a?window.console:void 0)||(a={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}});return a},getProtocol:function(){var a=i.findScript(/precog[^\/.]*\.js/).getAttribute("src");return a&&"https:"==a.substr(0,6)?
"https:":"http:"},createCallbacks:function(a,b,f){var g;g=h.Config.enableLog?function(b){void 0!==b?h.Log.info("Success: "+f+": "+JSON.stringify(b)):h.Log.info("Success: "+f);a&&a(b)}:a?a:function(){};var i;i=h.Config.enableLog?function(a,g){h.Log.error("Failure: "+f+": code = "+a+", reason = "+g);b&&b(a,g)}:b?b:function(){};return{success:g,failure:i}},removeTrailingSlash:function(a){return 0===a.length?a:"/"==a.substr(a.length-1)?a.substr(0,a.length-1):a},removeDuplicateSlashes:function(a){return a.replace(/[\/]+/g,
"/")},trimPath:function(a){if(!a)throw Error("path cannot be undefined");a=i.removeDuplicateSlashes("/"+a+"/");"/"===a.substr(0,1)&&(a=a.substr(1));"/"===a.substr(-1)&&(a=a.substr(0,a.length-1));return a},parseResponseHeaders:function(a){var b={};if(!a)return b;for(var a=a.split("\r\n"),f=0;f<a.length;f++){var g=a[f],h=g.indexOf(": ");if(0<h){var i=g.substring(0,h),g=g.substring(h+2);b[i]=g}}return b},actionUrl:function(a,b,f){"undefined"===typeof f&&"object"===typeof b&&(f=b,b=null);var f=f||{},
g=f.version||h.Config.version;return(f.analyticsService||h.Config.analyticsService)+a+("false"===g?"":"/v"+g)+"/"+(b?b+"/":"")},actionPath:function(a,b){var a=a&&this.trimPath(a),f=b&&b.basePath||h.Config.basePath||!1;"/"===f&&(f=!1);f&&a?(f=this.trimPath(f),a=f+"/"+a):f?a=this.trimPath(f):a||(a="");return a}},g={doAjaxRequest:function(a){var b=a.method||"GET",f=i.addQueryParameters(a.path,a.query||{}),g=a.content,k=a.headers||{},l=a.success,m=a.failure||function(){},p=a.progress||function(){};h.Log.warn("HTTP "+
b+" "+f+": headers("+JSON.stringify(k)+"), content("+JSON.stringify(g)+")");var r;r=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");r.open(b,f);r.upload&&(r.upload.onprogress=function(a){a.lengthComputable&&p({loaded:a.loaded,total:a.total})});r.onreadystatechange=function(){var a=r.getAllResponseHeaders&&i.parseResponseHeaders(r.getAllResponseHeaders())||{};4===r.readyState&&(200===r.status||202===r.status||204===r.status||"OK"===r.status||"NoContent"===r.code?null!==
r.responseText&&0<r.responseText.length?l(JSON.parse(this.responseText),a):l(void 0,a):m(r.status,r.responseText?JSON.parse(r.responseText):r.statusText,a))};for(var t in k)r.setRequestHeader(t,k[t]);void 0!==g?k["Content-Type"]?r.send(g):(r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify(g))):r.send(null);return r},doJsonpRequest:function(a){var b=a.method||"GET",f=i.addQueryParameters(a.path,a.query||{}),g=a.content,k=a.headers||{},l=a.success,m=a.failure||function(){};
h.Log.warn("HTTP "+b+" "+f+": headers("+JSON.stringify(k)+"), content("+JSON.stringify(g)+")");var p="PrecogJsonpCallback"+Math.floor(214748363*Math.random()).toString();window[p]=function(a,b){200===b.status.code||"OK"===b.status.code||"NoContent"===b.status.code||"Created"===b.status.code?l(a,b.headers):m(b.status.code,a?a:b.status.reason,b.headers);document.head.removeChild(document.getElementById(p));try{delete window[p]}catch(f){window[p]=void 0}};a={};a.method=b;for(var r in k){a.headers=JSON.stringify(k);
break}a.callback=p;void 0!==g&&(a.content=JSON.stringify(g));b=i.addQueryParameters(f,a);f=document.createElement("SCRIPT");f.setAttribute("type","text/javascript");f.setAttribute("src",b);f.setAttribute("id",p);document.head||(document.head=document.getElementsByTagName("head")[0]);document.head.appendChild(f)},createHttpInterface:function(a){return{get:function(b,f,g,h){return a({method:"GET",path:b,headers:h,success:f.success,failure:f.failure,query:g})},put:function(b,f,g,h,i){return a({method:"PUT",
path:b,content:f,headers:i,success:g.success,failure:g.failure,query:h})},post:function(b,f,g,h,i,k){return a({method:"POST",path:b,content:f,headers:i,success:g.success,failure:g.failure,query:h,progress:k})},remove:function(b,f,g,h){return a({method:"DELETE",path:b,headers:h,success:f.success,failure:f.failure,query:g})}}}};b.$={};var h=b.$;h.Util=i;h.PageConfig=i.getPageConfiguration();h.Config=i.getConfiguration();h.Bool=function(a){return!0===a||1===a||"true"==(a=(""+a).toLowerCase())||"on"==
a||"1"==a};h.Util.extend(h.Config,{analyticsService:i.getProtocol()+"//beta.precog.com/",useJsonp:"true",enableLog:"false",version:1});h.Config.analyticsService=h.PageConfig.analyticsService||h.Config.analyticsService;h.Config.apiKey=h.PageConfig.apiKey||h.Config.apiKey;h.Config.version=h.PageConfig.version||h.Config.version;h.Config.useJsonp="true"===(h.PageConfig.useJsonp||h.Config.useJsonp);h.Config.enableLog=h.PageConfig.enableLog||h.Config.enableLog;h.Http=function(){return h.Bool(b.$.Config.useJsonp)?
b.$.Http.Jsonp:b.$.Http.Ajax};h.Http.Ajax=g.createHttpInterface(g.doAjaxRequest);h.Http.Jsonp=g.createHttpInterface(g.doJsonpRequest);var a=i.getConsole(h.Bool(h.Config.enableLog));h.Log={log:function(b){a.log(b)},debug:function(b){a.debug(b)},info:function(b){a.info(b)},warn:function(b){a.warn(b)},error:function(b){a.error(b)}};var f=h.Http();h.Http.setUseJsonp=function(a){h.Config.useJsonp=a;f=h.Http()};h.Log.setEnable=function(b){h.Config.enableLog=b;a=i.getConsole(h.Bool(h.Config.enableLog))};
var g=h,k,m={},l=window,r=l.document,p;m.disabled=!1;m.set=function(){};m.get=function(){};m.remove=function(){};m.clear=function(){};m.transact=function(a,b,f){var g=m.get(a);f||(f=b,b=null);"undefined"==typeof g&&(g=b||{});f(g);m.set(a,g)};m.getAll=function(){};m.getKeys=function(){};m.serialize=function(a){return JSON.stringify(a)};m.deserialize=function(a){return"string"!=typeof a?void 0:JSON.parse(a)};try{k="localStorage"in l&&l.localStorage}catch(t){k=!1}if(k)p=l.localStorage,m.set=function(a,
b){if(void 0===b)return m.remove(a);p.setItem(a,m.serialize(b))},m.get=function(a){return m.deserialize(p.getItem(a))},m.remove=function(a){p.removeItem(a)},m.clear=function(){p.clear()},m.getAll=function(){for(var a={},b=0;b<p.length;++b){var f=p.key(b);a[f]=m.get(f)}return a},m.getKeys=function(){for(var a=[],b=0;b<p.length;++b)a.push(p.key(b));return a};else{var v;try{v="globalStorage"in l&&l.globalStorage&&l.globalStorage[l.location.hostname]}catch(w){v=!1}if(v)p=l.globalStorage[l.location.hostname],
m.set=function(a,b){if(void 0===b)return m.remove(a);p[a]=m.serialize(b)},m.get=function(a){return m.deserialize(p[a]&&p[a].value)},m.remove=function(a){delete p[a]},m.clear=function(){for(var a in p)delete p[a]},m.getAll=function(){for(var a={},b=0;b<p.length;++b){var f=p.key(b);a[f]=m.get(f)}return a},m.getKeys=function(){for(var a=[],b=0;b<p.length;++b)a.push(p.key(b));return a};else if(r.documentElement.addBehavior){var x,E;try{E=new ActiveXObject("htmlfile"),E.open(),E.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></frame>'),
E.close(),x=E.w.frames[0].document,p=x.createElement("div")}catch(z){p=r.createElement("div"),x=r.body}k=function(a){return function(){var b=Array.prototype.slice.call(arguments,0);b.unshift(p);x.appendChild(p);p.addBehavior("#default#userData");p.load("localStorage");b=a.apply(m,b);return x.removeChild(p),b}};m.set=k(function(a,b,f){b="_"+b;if(void 0===f)return m.remove(b);a.setAttribute(b,m.serialize(f));a.save("localStorage")});m.get=k(function(a,b){return b="_"+b,m.deserialize(a.getAttribute(b))});
m.remove=k(function(a,b){a.removeAttribute("_"+b);a.save("localStorage")});m.clear=k(function(a){var b=a.XMLDocument.documentElement.attributes;a.load("localStorage");for(var f=0,g;g=b[f];f++)a.removeAttribute(g.name);a.save("localStorage")});m.getAll=k(function(a){var b=a.XMLDocument.documentElement.attributes;a.load("localStorage");for(var a={},f=0,g;g=b[f];++f)a[g]=m.get(g);return a});m.getKeys=k(function(a){var b=a.XMLDocument.documentElement.attributes;a.load("localStorage");for(var a=[],f=0,
g;g=b[f];++f)a.push(g);return a})}}try{m.set("__storejs__","__storejs__"),"__storejs__"!=m.get("__storejs__")&&(m.disabled=!0),m.remove("__storejs__")}catch(L){m.disabled=!0}k=("undefined"!=typeof module&&"function"!=typeof module?module.exports=m:"function"==typeof define&&define.amd&&define("libs/precog/precog",m),m);g.Store=k;var C=function(){};C.prototype={bitOR:function(a,b){return(a>>>1|b>>>1)<<1|a&1|b&1},bitXOR:function(a,b){return(a>>>1^b>>>1)<<1|a&1^b&1},bitAND:function(a,b){return(a>>>1&
b>>>1)<<1|a&1&b&1},addme:function(a,b){var f=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(f>>16)<<16|f&65535},rhex:function(a){for(var b="",f=0;4>f;)var g=f++,b=b+("0123456789abcdef".charAt(a>>8*g+4&15)+"0123456789abcdef".charAt(a>>8*g&15));return b},str2blks:function(a){for(var b=(a.length+8>>6)+1,f=[],g=0,h=16*b;g<h;)f[++g]=0;for(g=0;g<a.length;)f[g>>2]|=a.charCodeAt(g)<<8*((8*a.length+g)%4),g++;f[g>>2]|=128<<8*((8*a.length+g)%4);a=8*a.length;b=16*b-2;f[b]=a&255;f[b]|=(a>>>8&255)<<8;f[b]|=(a>>>16&
255)<<16;f[b]|=(a>>>24&255)<<24;return f},rol:function(a,b){return a<<b|a>>>32-b},cmn:function(a,b,f,g,h,i){return this.addme(this.rol(this.addme(this.addme(b,a),this.addme(g,i)),h),f)},ff:function(a,b,f,g,h,i,k){return this.cmn(this.bitOR(this.bitAND(b,f),this.bitAND(~b,g)),a,b,h,i,k)},gg:function(a,b,f,g,h,i,k){return this.cmn(this.bitOR(this.bitAND(b,g),this.bitAND(f,~g)),a,b,h,i,k)},hh:function(a,b,f,g,h,i,k){return this.cmn(this.bitXOR(this.bitXOR(b,f),g),a,b,h,i,k)},ii:function(a,b,f,g,h,i,
k){return this.cmn(this.bitXOR(f,this.bitOR(b,~g)),a,b,h,i,k)},doEncode:function(a){for(var a=this.str2blks(a),b=1732584193,f=-271733879,g=-1732584194,h=271733878,i=0;i<a.length;)var k=b,l=f,m=g,p=h,b=this.ff(b,f,g,h,a[i],7,-680876936),h=this.ff(h,b,f,g,a[i+1],12,-389564586),g=this.ff(g,h,b,f,a[i+2],17,606105819),f=this.ff(f,g,h,b,a[i+3],22,-1044525330),b=this.ff(b,f,g,h,a[i+4],7,-176418897),h=this.ff(h,b,f,g,a[i+5],12,1200080426),g=this.ff(g,h,b,f,a[i+6],17,-1473231341),f=this.ff(f,g,h,b,a[i+7],
22,-45705983),b=this.ff(b,f,g,h,a[i+8],7,1770035416),h=this.ff(h,b,f,g,a[i+9],12,-1958414417),g=this.ff(g,h,b,f,a[i+10],17,-42063),f=this.ff(f,g,h,b,a[i+11],22,-1990404162),b=this.ff(b,f,g,h,a[i+12],7,1804603682),h=this.ff(h,b,f,g,a[i+13],12,-40341101),g=this.ff(g,h,b,f,a[i+14],17,-1502002290),f=this.ff(f,g,h,b,a[i+15],22,1236535329),b=this.gg(b,f,g,h,a[i+1],5,-165796510),h=this.gg(h,b,f,g,a[i+6],9,-1069501632),g=this.gg(g,h,b,f,a[i+11],14,643717713),f=this.gg(f,g,h,b,a[i],20,-373897302),b=this.gg(b,
f,g,h,a[i+5],5,-701558691),h=this.gg(h,b,f,g,a[i+10],9,38016083),g=this.gg(g,h,b,f,a[i+15],14,-660478335),f=this.gg(f,g,h,b,a[i+4],20,-405537848),b=this.gg(b,f,g,h,a[i+9],5,568446438),h=this.gg(h,b,f,g,a[i+14],9,-1019803690),g=this.gg(g,h,b,f,a[i+3],14,-187363961),f=this.gg(f,g,h,b,a[i+8],20,1163531501),b=this.gg(b,f,g,h,a[i+13],5,-1444681467),h=this.gg(h,b,f,g,a[i+2],9,-51403784),g=this.gg(g,h,b,f,a[i+7],14,1735328473),f=this.gg(f,g,h,b,a[i+12],20,-1926607734),b=this.hh(b,f,g,h,a[i+5],4,-378558),
h=this.hh(h,b,f,g,a[i+8],11,-2022574463),g=this.hh(g,h,b,f,a[i+11],16,1839030562),f=this.hh(f,g,h,b,a[i+14],23,-35309556),b=this.hh(b,f,g,h,a[i+1],4,-1530992060),h=this.hh(h,b,f,g,a[i+4],11,1272893353),g=this.hh(g,h,b,f,a[i+7],16,-155497632),f=this.hh(f,g,h,b,a[i+10],23,-1094730640),b=this.hh(b,f,g,h,a[i+13],4,681279174),h=this.hh(h,b,f,g,a[i],11,-358537222),g=this.hh(g,h,b,f,a[i+3],16,-722521979),f=this.hh(f,g,h,b,a[i+6],23,76029189),b=this.hh(b,f,g,h,a[i+9],4,-640364487),h=this.hh(h,b,f,g,a[i+12],
11,-421815835),g=this.hh(g,h,b,f,a[i+15],16,530742520),f=this.hh(f,g,h,b,a[i+2],23,-995338651),b=this.ii(b,f,g,h,a[i],6,-198630844),h=this.ii(h,b,f,g,a[i+7],10,1126891415),g=this.ii(g,h,b,f,a[i+14],15,-1416354905),f=this.ii(f,g,h,b,a[i+5],21,-57434055),b=this.ii(b,f,g,h,a[i+12],6,1700485571),h=this.ii(h,b,f,g,a[i+3],10,-1894986606),g=this.ii(g,h,b,f,a[i+10],15,-1051523),f=this.ii(f,g,h,b,a[i+1],21,-2054922799),b=this.ii(b,f,g,h,a[i+8],6,1873313359),h=this.ii(h,b,f,g,a[i+15],10,-30611744),g=this.ii(g,
h,b,f,a[i+6],15,-1560198380),f=this.ii(f,g,h,b,a[i+13],21,1309151649),b=this.ii(b,f,g,h,a[i+4],6,-145523070),h=this.ii(h,b,f,g,a[i+11],10,-1120210379),g=this.ii(g,h,b,f,a[i+2],15,718787259),f=this.ii(f,g,h,b,a[i+9],21,-343485551),b=this.addme(b,k),f=this.addme(f,l),g=this.addme(g,m),h=this.addme(h,p),i=i+16;return this.rhex(b)+this.rhex(f)+this.rhex(g)+this.rhex(h)}};h.Md5=function(a){return(new C).doEncode(a)};var A=function(a,b,g,k){var k=k||{},l="Precog query "+a,a={apiKey:k.apiKey||h.Config.apiKey,
q:a};k.limit&&(a.limit=k.limit||h.Config.limit);k.basePath&&(a.basePath=k.basePath);k.skip&&(a.skip=k.skip);k.order&&(a.order=k.order);k.sortOn&&(a.sortOn=JSON.stringify(k.sortOn));k.sortOrder&&(a.sortOrder=k.sortOrder);return f.get(i.actionUrl("analytics","fs",k)+i.actionPath(null,k),i.createCallbacks(b,g,l),a)};b.createAccount=function(a,b,g,h,k){var l="Create account for "+a;f.post(i.actionUrl("accounts","accounts",k),{email:a,password:b},i.createCallbacks(g,h,l),null)};b.describeAccount=function(a,
b,g,h,k,l){var m="Describe account "+g;f.get(i.actionUrl("accounts","accounts",l)+g,i.createCallbacks(h,k,m),null,{Authorization:i.makeBaseAuth(a,b)})};b.addGrantToAccount=function(a,b,g,h,k,l,m){var p="Add grant "+h+" to account "+g;f.post(i.actionUrl("accounts","accounts",m)+g+"/grants/",{grantId:h},i.createCallbacks(k,l,p),null,{Authorization:i.makeBaseAuth(a,b)})};b.describePlan=function(b,g,h,k,l,m){var p="Describe plan "+h;a.log(h);f.get(i.actionUrl("accounts","accounts",m)+h+"/plan",i.createCallbacks(k,
l,p),null,{Authorization:i.makeBaseAuth(b,g)});a.log(i.actionUrl("accounts","accounts",h,m)+"plan")};b.changePlan=function(a,b,g,h,k,l,m){var p="Change plan to "+h+" for account "+g;f.put(i.actionUrl("accounts","accounts",m)+g+"/plan",{type:h},i.createCallbacks(k,l,p),null,{Authorization:i.makeBaseAuth(a,b)})};b.deletePlan=function(a,b,g,h,k,l){var m="Delete account "+g;f.remove(i.actionUrl("accounts","accounts",l)+g+"/plan",i.createCallbacks(h,k,m),null,{Authorization:i.makeBaseAuth(a,b)})};b.listKeys=
function(a,b,g){var k={apiKey:g&&g.apiKey||h.Config.apiKey};if(!k.apiKey)throw Error("apiKey not specified");f.get(i.actionUrl("security","apikeys",g),i.createCallbacks(a,b,"Precog Security List Keys"),k)};b.createKey=function(a,b,g,k){var l="Create security Key ("+JSON.stringify(a)+")",m={apiKey:k&&k.apiKey||h.Config.apiKey};if(!m.apiKey)throw Error("apiKey not specified");f.post(i.actionUrl("security","apikeys",k),a,i.createCallbacks(b,g,l),m)};b.describeKey=function(a,b,g,k){var l="Describe security Key for "+
a,m={apiKey:k&&k.apiKey||h.Config.apiKey};if(!m.apiKey)throw Error("apiKey not specified");f.get(i.actionUrl("security","apikeys",k)+a,i.createCallbacks(b,g,l),m)};b.deleteKey=function(a,b,g,k){var l="Delete security Key for "+a,m={apiKey:k&&k.apiKey||h.Config.apiKey};if(!m.apiKey)throw Error("apiKey not specified");f.remove(i.actionUrl("security","apikeys",k)+a,i.createCallbacks(b,g,l),m)};b.retrieveGrants=function(a,b,g,k){var l="Retrieve security grants for "+a,m={apiKey:k&&k.apiKey||h.Config.apiKey};
if(!m.apiKey)throw Error("apiKey not specified");f.get(i.actionUrl("security","apikeys",k)+a+"/grants/",i.createCallbacks(b,g,l),m)};b.addGrantToKey=function(a,b,g,k,l){var m="Add grant "+JSON.stringify(b)+" to "+a,p={apiKey:l&&l.apiKey||h.Config.apiKey};if(!p.apiKey)throw Error("apiKey not specified");f.post(i.actionUrl("security","apikeys",l)+a+"/grants/",b,i.createCallbacks(g,k,m),p)};b.removeGrant=function(a,b,g,k,l){var m="Remove grant "+b+" from key "+a,p={apiKey:l&&l.apiKey||h.Config.apiKey};
if(!p.apiKey)throw Error("apiKey not specified");f.remove(i.actionUrl("security","apikeys",l)+a+"/grants/"+b,i.createCallbacks(g,k,m),p)};b.createGrant=function(a,b,g,k){var l="Create new grant "+JSON.stringify(a),m={apiKey:k&&k.apiKey||h.Config.apiKey};if(!m.apiKey)throw Error("apiKey not specified");f.post(i.actionUrl("security","grants",k),a,i.createCallbacks(b,g,l),m)};b.describeGrant=function(a,b,g,k){var l="Describe grant "+a,m={apiKey:k&&k.apiKey||h.Config.apiKey};if(!m.apiKey)throw Error("apiKey not specified");
f.get(i.actionUrl("security","grants",k)+a,i.createCallbacks(b,g,l),m)};b.deleteGrant=function(a,b,g,k){var l="Delete grant "+a,m={apiKey:k&&k.apiKey||h.Config.apiKey};if(!m.apiKey)throw Error("apiKey not specified");f.remove(i.actionUrl("security","grants",k)+a,i.createCallbacks(b,g,l),m)};b.listGrantChildren=function(a,b,g,k){var l="List children grant "+a,m={apiKey:k&&k.apiKey||h.Config.apiKey};if(!m.apiKey)throw Error("apiKey not specified");f.get(i.actionUrl("security","grants",k)+a+"/children/",
i.createCallbacks(b,g,l),m)};b.createGrantChild=function(a,b,g,k,l){var m="Create child grant "+JSON.stringify(b)+" for "+a,p={apiKey:l&&l.apiKey||h.Config.apiKey};if(!p.apiKey)throw Error("apiKey not specified");f.post(i.actionUrl("security","grants",l)+a+"/children/",b,i.createCallbacks(g,k,m),p)};b.children=function(a,b,g,k){var a=i.trimPath(a),l="List children path of "+a,m={apiKey:k&&k.apiKey||h.Config.apiKey};if(!m.apiKey)throw Error("apiKey not specified");f.get(i.actionUrl("meta","fs")+i.actionPath(a,
k),i.createCallbacks(function(a){b(a.children)},g,l),m)};b.retrieveMetadata=function(a,b,g,k){var a=i.trimPath(a),k=k||{type:""},l="Precog retrieve metadata "+k.type,m={apiKey:k.apiKey||h.Config.apiKey};if(!m.apiKey)throw Error("apiKey not specified");return f.get(i.actionUrl("meta","fs",k)+i.actionPath(a,k)+"#"+k.type,i.createCallbacks(b,g,l),m)};b.ingest=function(a,b,f,g,k,l){l=l||{};a=i.trimPath(a);if(!b)throw Error("argument 'content' must contain a non empty value formatted as described by type");
var m="Ingest events in "+f+" format",p={apiKey:l.apiKey||h.Config.apiKey};if(!p.apiKey)throw Error("apiKey not specified");switch(f.toLowerCase()){case "application/x-gzip":case "gz":case "gzip":f="application/x-gzip";break;case "zip":f="application/zip";break;case "application/json":case "json":f="application/json";break;case "text/csv":case "csv":f="text/csv";l.delimiter&&(p.delimiter=l.delimiter);l.quote&&(p.quote=l.quote);l.escape&&(p.escape=l.escape);break;default:throw Error("argument 'type' must be 'json' or 'csv'");
}l.ownerAccountId&&(p.ownerAccountId=l.ownerAccountId);h.Http.Ajax.post(i.actionUrl("ingest",(l.async?"async":"sync")+"/fs",l)+i.actionPath(a,l),b,i.createCallbacks(g,k,m),p,{"Content-Type":f},l.progress?l.progress:null)};b.store=function(a,b,g,k,l){a=i.trimPath(a);if(null===b||"undefined"===typeof b)throw Error("argument 'events' cannot be null or undefined");var m="Store event ("+JSON.stringify(b)+")",p={apiKey:l&&l.apiKey||h.Config.apiKey};l&&l.ownerAccountId&&(p.ownerAccountId=l.ownerAccountId);
if(!p.apiKey)throw Error("apiKey not specified");f.post(i.actionUrl("ingest",(l&&l.async?"async":"sync")+"/fs",l)+i.actionPath(a,l),b,i.createCallbacks(g,k,m),p)};b.deletePath=function(a,b,g,k){var a=i.trimPath(a),l="Delete path: "+a,m={apiKey:k&&k.apiKey||h.Config.apiKey};if(!m.apiKey)throw Error("apiKey not specified");f.remove(i.actionUrl("ingest","async/fs",k)+i.actionPath(a,k),i.createCallbacks(b,g,l),m)};var O=function(){for(var a=h.Store.getKeys(),b=ca.length,f=[],g=a.length,i=0;i<g;i++){var k=
a[i];k.substr(0,b)==ca&&f.push(k.substr(b))}return f},Q=function(a){setTimeout(function(){U(a)},Fa)},U=function(a){h.Store.remove(ra+a);h.Store.remove(ca+a)},sa=function(a){var b=ra+a,f;try{f=h.Store.get(b)}catch(g){U(a)}f&&f<(new Date).getTime()-1E3*Fa&&U(a)},ta=function(a,b,f,g){var i,k;k=(a+JSON.stringify(g)).replace(/\s+/gi," ");i=h.Md5(k);sa(i);(k=h.Store.get(ca+i))?Q(i):k=null;k?b(k):Ia[i]?Ia[i].push(b):(Ia[i]=[],A(a,function(a){h.Store.set(ra+i,(new Date).getTime());h.Store.set(ca+i,a);Q(i);
b(a);for(var f=0;f<Ia[i].length;f++)Ia[i][f](a);delete Ia[i]},f,g))},ca="PRECOG_Q_",ra="PRECOG_D_",Ea,Fa=3E5,Ia={},g=O();for(k=0;k<g.length;k++)sa(g[k]);b.cache={isEnabled:function(){return Ea},enable:function(){h.Store.disabled?this.disable():(Ea=!0,b.query=ta)},disable:function(){Ea=!1;b.query=A},setTimeout:function(a){Fa=+a},cachedResults:function(){return O().length},cachedIds:function(){return O()},clear:function(){for(var a=O(),b=0;b<a.length;b++)U(a[b])}};b.cache.enable();if(window.ReportGrid&&
window.ReportGrid.query){var Za=window.ReportGrid;Za.query.precog=function(a,f){return Za.query.load(function(g){b.query(a,g,null,f)})};var Ka=function(a,b){for(var f in b)b.hasOwnProperty(f)&&(a=a.replace(RegExp("\\$\\{"+f+"\\}","g"),b[f]));return a},g=function(a){return this.data({}).stackCross().asyncEach(function(f,g){b.query(Ka(a,f),g)})};k=Za.$.pk;k.rg_query_BaseQuery.prototype.precog=k.rg_query_Query.prototype.precog=g;k.rg_query_ReportGridBaseQuery&&(k.rg_query_ReportGridBaseQuery.prototype.precog=
k.rg_query_ReportGridQuery.prototype.precog=g)}})();
define("app/util/querystring",[],function(){function b(b){b?"http://"===b.substr(0,7)||"https://"===b.substr(0,8)?(b=b.split("?"),b.shift(),b=b.join("?")):"?"===b.substr(0,1)&&(b=b.substr(1)):b=window.location.search.substr(1);b=b.split("#");return b[0]}var i={};return{get:function(g,h){var h=b(h),a;var f=h;a=g.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=RegExp("(?:^|&)"+a+"=([^&#]*)").exec(f);a=null==a?"":decodeURIComponent(a[1].replace(/\+/g," "));return a},all:function(g){g=b(g);if(!i[g]){for(var h=
g,a={},f,k=/\+/g,m=/([^&=]+)=?([^&]*)/g,l=g;f=m.exec(l);)a[decodeURIComponent(f[1].replace(k," "))]=decodeURIComponent(f[2].replace(k," "));i[h]=a}return i[g]}}});
define("app/util/precog","app/util/querystring app/util/md5 app/util/guid app/util/ie app/util/config libs/precog/precog".split(" "),function(b,i,g,h,a){var f=window.Precog.$.Config,k=["apiKey","analyticsService","basePath","limit","theme"],m=[null],l=/(require|precog|quirrel)[^.]*.js[?]/i;h.isIE()||window.Precog.$.Http.setUseJsonp("true"===window.Precog.$.PageConfig.useJsonp);h=window.location.host;".precog.com"===h.substr(h.length-11)&&(f.analyticsService=window.location.protocol+"//"+h+"/");for($("script").each(function(){this.src&&
l.test(this.src)&&m.push(this.src)});0<m.length&&0<k.length;)for(var h=m.shift(),r=k.length-1;0<=r;r--){var p=k[r],t=b.get(p,h);""!==t&&(f[p]=t,k.splice(r,1))}f.limit||(f.limit=a.get("queryLimit"));$(a).on("queryLimit",function(a,b){f.limit=b});var v={},w={ingest:function(a,b,f,g,h,i){window.Precog.ingest(a,b,f,h,i,{progress:g})},deletePath:function(a,b){window.Precog.deletePath(a,function(){b&&b(!0)},function(){if(b)b(!1);else throw"Unable To Delete Path";})},query:function(a,b){var h={},i=g(),b=
b||{};h.limit=b.limit&&b.limit<f.limit?b.limit:f.limit;b.skip&&(h.offset=b.skip);b.sort&&(h.sortOn=b.sort.map(function(a){return a.field}),h.sortOrder=b.sort[0].asc?"asc":"desc");$(w).trigger("execute",[a,this.lastExecution,i]);var k=this,l=(new Date).getTime();v[i]=window.Precog.query(a,function(a,f){if(v[i]){k.lastExecution=(new Date).getTime()-l;var g=null;"undefined"!==typeof b.skip&&(g={skip:b.skip,limit:b.limit,count:f["X-Quirrel-Count"]||1E3});delete v[i];$(w).trigger("completed",[i,a,g])}},
function(a,b){v[i]&&("string"==typeof b&&(b={message:b}),delete v[i],$(w).trigger("failed",[i,b]))},h)},paths:function(a,b){window.Precog.children(a,function(a){b(a.map(function(a){return"/"===a.substr(-1)&&a.substr(0,a.length-1)||a}).sort())},function(){throw"Unable To Query Path API";})},config:f,lastExecution:2E3,hash:i(f.apiKey),cache:window.Precog.cache};$(w).on("abort",function(a,b){if("undefined"!==v[b]){var f=v[b]&&v[b].abort?v[b]:null;delete v[b];f&&f.abort();$(w).trigger("aborted",b)}});
return w});
define("app/editors",["app/util/precog","app/util/md5","app/util/storagemonitor","app/util/utils"],function(b,i,g,h){function a(a){return"editors."+a}function f(a){var b=k.get("editors"),f;for(f in b)if(b.hasOwnProperty(f)){var g=b[f];if(g.name===a)return g}return null}var k=g("pg-quirrel-editors-"+b.hash,{list:[],editors:{}}),m=[],l,r=/query #(\d+)$/,p,t=-1;l=function(){if(-1===t){if(0==m.length)return t=0;var b=0;$.each(m,function(f,g){var h=k.get(a(g)+".name");h&&(h=(p=r.exec(h))?parseInt(p[1]):0,
h>b&&(b=h))});return t=b}return++t};var v=null,w={save:function(b){b.dirty=!1;k.set(a(b.id),b,!0);$(w).trigger("saved",b);return b},open:function(a,b){var g=f(a);g?this.activate(this.getIndexById(g.id)):(this.add({name:a,code:b,hasname:!0}),this.activate(m.length-1))},add:function(b){b=$.extend({name:null,hasname:!1,dirty:!1},b);b.name||(b.name="query #"+(1+l()));b.id||(b.id=i(""+Math.random()).substr(0,8));m.push(b.id);k.set("list",m);k.set(a(b.id),b,!0);$(w).trigger("added",b);return b},remove:function(b){if(1!=
m.length){var f=m[b],g=this.getName(b);f&&(k.remove(a(f),!0),0===b&&b===v&&this.activate(1),b===v?this.activate(b-1):b<v&&v--,m.splice(b,1),k.set("list",m,!0),$(w).trigger("removed",g))}},list:function(){return m.splice(0)},count:function(){return m.length},get:function(a){return k.get(this.getKey(a))},getIndexById:function(a){return m.indexOf(a)},getIndexByName:function(a){a=f(a);return!a?-1:this.getIndexById(a.id)},getById:function(a){return this.get(m.indexOf(a))},getKey:function(b){"undefined"===
typeof b&&(b=this.current());return a(m[b])},load:function(){for(var b=k.get("list"),f=$.map(b,function(b){return k.get(a(b))}),g=0;g<b.length;g++)this.add(f[g])},activate:function(a){this.deactivate(v);v=a;$(w).trigger("activated",a)},deactivate:function(a){null!==v&&(v=null,$(w).trigger("deactivated",a))},current:function(){return v},setField:function(a,b,f){k.set(this.getKey(f)+"."+a,b,!0)},getField:function(a,b,f){return k.get(this.getKey(f)+"."+a,b)},getCode:function(a){return this.getField("code",
"",a)},setCode:function(a,b){this.setField("code",a,b)},setDirty:function(a){this.setField("dirty",!0,a)},getOutputResult:function(a){return this.getField("output.result",null,a)},setOutputResult:function(a,b){this.setField("output.result",a,b)},getOutputType:function(a){return this.getField("output.type",null,a)},setOutputType:function(a,b){this.setField("output.type",a,b)},getOutputOptions:function(a){return this.getField("output.options",{},a)},setOutputOptions:function(a,b){this.setField("output.options",
a,b)},getName:function(a){return this.getField("name","",a)},monitor:k.monitor};k.monitor.bind("list",function(b,f){var g=h.arrayDiff(m,f),i=h.arrayDiff(f,m);if(0!=g.length+i.length){k.load();for(var g=$.map(g,function(a){return m.indexOf(a)}),l=0;l<g.length;l++)w.remove(g[l]);for(l=0;l<i.length;l++)w.add(k.get(a(i[l])))}});return w});
define("app/history",["app/util/precog","app/util/storage","app/util/md5"],function(b,i,g){function h(a){var b=this.map||(this.map={});b[a]||(b[a]=g(a));return b[a]}var a=i("pg-quirrel-history-"+b.hash);return{revisions:function(b){b=h(b);return a.get("history."+b,[]).slice(0)},save:function(b,g,i){var b=h(b),l=a.get("history."+b,[]),g=g.trim();if(g!==(l[0]&&l[0].code)){var r=+new Date;l.unshift({timestamp:r,code:g,sample:{first:i&&"undefined"!==typeof i[0]?i[0]:null,length:i&&i.length||0}});a.set("result."+
b+"."+r,i);for(g=this.getHistoryLength();l.length>g;)i=l.pop(),a.remove("result."+b+"."+i.timestamp);a.set("history."+b,l,!0)}},load:function(b,g){var i=this.revisions(b)[g];if(!i)return null;var l=h(b);return{index:g,timestamp:i.timestamp,code:i.code,data:a.get("result."+l+"."+i.timestamp)}},setHistoryLength:function(b){a.set("max_values",+b)},getHistoryLength:function(){return a.get("max_values",20)},remove:function(a){h(a)},rename:function(b,g){var i=h(b),l=h(g),r=a.get("history."+i),p=a.get("result."+
i);a.remove("history."+i);a.remove("result."+i);a.set("history."+l,r);a.set("result."+l,p,!0)}}});
define("app/bar-main","app/util/ui rtext!templates/toolbar.main.html app/util/fullscreen app/theme app/util/dialog-confirm rtext!templates/dialog.global.settings.html app/util/valuemodel app/util/objectmodel app/util/precog app/util/config".split(" "),function(b,i,g,h,a,f,k,m,l,r){function p(){return l.config[this.name]}function t(a){return(""+a).trim()}function v(a){var a=t(a),b=a.split(".").pop().toLowerCase();"/"!==a.substr(-1)&&("htm"!==b&&"html"!==b)&&(a+="/");if(1===a.length)return a;for(;"/"===
a.substr(0,1);)a=a.substr(1);return a}function w(a){return a.match(/^((\/?[a-z0-9_\-.]+)+)\/?$/i)?null:"invalid url"}function x(){var a=E();ta.attr("href",a);ta.text(a);O.find(".output").show()}function E(){var a="https://"+U.get("labcoatHost"),b=[],f;b.push("apiKey="+encodeURIComponent(U.get("apiKey")));f="https://"+U.get("analyticsService");f!==a&&b.push("analyticsService="+encodeURIComponent(f));f=U.get("basePath");"/"!=f&&b.push("basePath="+encodeURIComponent(f));return a+"?"+b.join("&")}function z(){O.find(".output").hide();
ta.attr("href","#");ta.text("")}function L(a){return function(b,f){var g=k(f.extract()||f.defaultValue,f.validator,f.filter);a.addField(f.name,g);var h=O.find("#"+f.name);h.val(g.get());h.on("change",function(){g.set(h.val())});g.on("validation.error",function(a){h.parent().find(".input-error").html(a).show()});g.on("value.change",function(a){h.val(a);h.parent().find(".input-error").hide();f.callback&&f.callback(a)})}}var C="http://precog.com/products/labcoat",A="pg-precog";switch(document.location.host){case "labcoat.gridgain.com":C=
"http://www.gridgain.com/",A="pg-gridgain"}var O=$(f),f=[{name:"analyticsService",extract:function(){var a=l.config[this.name],a=a.split("://").pop();return v(a)},filter:v,validator:w},{name:"apiKey",extract:p,filter:function(a){return t(a).toUpperCase()},validator:function(a){return a.match(/^([A-F0-9]{8})(-[A-F0-9]{4}){3}-([A-F0-9]{12})$/)?null:"invalid token pattern"}},{name:"basePath",extract:p,defaultValue:"/",filter:function(a){a=t(a);"/"!==a.substr(0,1)&&(a="/"+a);if(1===a.length)return a;
"/"!==a.substr(-1)&&(a+="/");return a},validator:function(a){return a.match(/^(\/?([a-z0-9_\-]+)(\/[a-z0-9_\-]+)*\/?)$/i)?null:"invalid path pattern"}},{name:"labcoatHost",extract:function(){return window.location.hostname+window.location.pathname},filter:v,validator:w}],Q=[{name:"limit",extract:p,validator:function(a){a=t(a);if(""+parseInt(a)!==""+a)return"must be an integer value";a=parseInt(a);return 1>a?"must be greater than 1":null},filter:t},{name:"theme",extract:function(){return h.current||
l.config[this.name]},validator:function(a){return 0<=h.list().map(function(a){return a.token}).indexOf(a)?null:"invalid theme"},callback:function(a){h.set(a)}}],U=m(),sa=m(),ta=O.find(".labcoatUrl"),ca=O.find("#theme");$.each(h.groups(),function(a){var b=$('<optgroup label="'+a+' themes"></optgroup>').appendTo(ca);$.each(this,function(){b.append($('<option value="'+this.token+'">'+this.name+"</option>"))})});$(f).each(L(U));U.on("validation.error",z);U.on("validation.success",x);$(Q).each(L(sa));
U.isValid()?x():z();return function(f){f.append(i);var k=f.find(".pg-toolbar-context"),f=f.find("a.pg-brand");f.attr("href",C);f.find(".pg-logo").addClass(A);b.button(k,{icon:"ui-icon-info",description:"about Labcoat"}).click(function(){window.open("http://precog.com/products/labcoat")});b.button(k,{icon:"ui-icon-gear",description:"application settings"}).click(function(){var b=h.current;sa.getField("theme").setDefault(h.current);sa.getField("limit").setDefault(r.get("queryLimit"));a("Application Settings",
O,function(){if(!sa.getField("limit").isDefault()){var a=parseInt(sa.get("limit"));r.set("queryLimit",a,!0);$(r).trigger("queryLimit",a)}U.isValid()&&U.hasChanged()&&(window.location=E())},{width:500,height:440,cancel:function(){h.current!==b&&h.set(b)}})});b.button(k,{icon:g.isFullScreen()?"ui-icon-newwin":"ui-icon-arrow-4-diag",description:"toggle fullscreen",handler:function(){g.toggle();g.isFullScreen()?$(this).find(".pg-icon").removeClass("ui-icon-newwin").addClass("ui-icon-arrow-4-diag"):$(this).find(".pg-icon").removeClass("ui-icon-arrow-4-diag").addClass("ui-icon-newwin")}})}});
define("app/config/output-languages",["app/util/converters","app/util/precog","app/util/ui"],function(b,i,g){function h(a){return a.replace(/"/g,'\\"')}function a(a){return k+"analytics/"+(l?"v"+l+"/":"")+"fs/"+m+"?apiKey="+encodeURIComponent(f)+"&q="+encodeURIComponent(b.minifyQuirrel(a))}var f=i.config.apiKey,k=i.config.analyticsService,m=i.config.basePath||"",l=i.config.version;"/"===m.substring(-1)&&(m=m.substr(0,m.length-1));"/"===m.substring(0,1)&&(m=m.substr(1));return[{token:"qrl",name:"Quirrel",
handler:function(a,f){return f.compact?b.minifyQuirrel(a):"-- Quirrel query generated with Labcoat by Precog\n\n"+a.trim()},options:{compact:!1},buildOptions:function(a,b){var f=this;g.checks(a,[{name:"options",checked:this.options.compact,label:"compact",description:"remove newlines and comments from query",handler:function(){f.options.compact=$(this).prop("checked");b()}}])}},{token:"js",name:"JavaScript",handler:function(a){a=h(b.minifyQuirrel(a));return'// Quirrel query in JavaScript generated with Labcoat by Precog\n\nPrecog.query("'+
a+'",\n  function(data) { /* do something with the data */ },\n  function(error) { console.log(error); }\n);'}},{token:"html",name:"HTML",handler:function(a){a=h(b.minifyQuirrel(a));return'<!DOCTYPE html>\n<html>\n<head>\n<title>Quirrel Query</title>\n<script src="http://api.reportgrid.com/js/precog.js?apiKey='+f+"&analyticsService="+k+'"><\/script>\n<script>\nfunction init() {\n  // Quirrel query in JavaScript generated with Labcoat by Precog\n  Precog.query("'+a+'",\n    function(data) {\n      /* do something with the data */\n      console.log(data);\n    },\n    function(error) { console.log(error); }\n  );\n}\n<\/script>\n</head>\n<body onload="init()">\n</body>\n</html>'}},
{token:"php",name:"PHP",handler:function(a){a=h(b.minifyQuirrel(a));return'<?php\n\n// Quirrel query in PHP generated with Labcoat by Precog\n\nrequire_once("Precog.php");\n\n$precog = new PrecogAPI("'+f+'", "'+k+'");\n$result = $precog->query("'+a+'");\nif(false === $precog) {\n  die($precog->errorMessage());\n} else {\n  // do something with $result here\n}\n?>'}},{token:"url",name:"URL",handler:function(b){return a(b)}},{token:"curl",name:"cURL",handler:function(b){return'curl "'+h(a(b))+'"'}}]});
define("app/bar-editor","app/util/ui app/editors app/util/notification app/util/querystring app/util/converters app/util/utils app/util/dialog-export app/util/dialog-lineinput app/config/output-languages rtext!templates/toolbar.editor.html libs/moment/moment".split(" "),function(b,i,g,h,a,f,k,m,l,r){return function(a,t){function v(a){return C.find("li:nth("+a+") a")}function w(a,b,g){v(a).attr("data",b).attr("title",b).html(f.truncate(b.split("/").pop()));g&&E.invalidateTab(a)}function x(a){var b=
moment(new Date(a.timestamp)).fromNow(),g=a.code.split("\n");if(3<g.length){var h=g.length-3;g.splice(2);g.push("... +"+h+" more line(s)")}return'<div class="pg-history-item ui-content ui-state-highlight ui-corner-all"><div class="pg-header">query:</div><pre>'+g.map(function(a){return f.truncate(a,40)}).join("\n")+'</pre><div class="pg-header">sample:</div><pre>'+f.truncate(JSON.stringify(a.sample.first),40)+'</pre><div class="pg-info">generated '+a.sample.length+" records<br>executed "+b+'</div><div class="pg-toolbar"></div><div class="pg-clear"></div></div>'}
var E;a.append(r);var z=a.find(".pg-toolbar-context"),L=0,C=b.tabs(a.find(".pg-editor-tabs"),{tabTemplate:"<li><a href='#{href}'>#{label}</a> <span class='ui-icon ui-icon-close pg-tab-close'>Remove Tab</span></li>",add:function(a,b){var f=b.index;L&&(C.tabs("select",f),i.activate(f),L--)}}),A=0;C.on({click:function(){var a=$("li",C).index($(this).parent());i.remove(a)}},".ui-icon-close");C.on({click:function(){var a=$("li",C).index($(this).parent());i.activate(a)}},"li a");var O=b.button(z,{icon:"ui-icon-clock",
description:"display query history",handler:function(){$(E).trigger("requesthistorylist")}});b.button(z,{icon:"ui-icon-disk",description:"save query",handler:function(){var a=i.get();a.hasname?i.save(a):m("Save Query","Select a unique identification name for your query",null,"",function(a){return f.validateQueryName(a,t.nameAtPath(a),t)},function(b){a.name=t.nameAtPath(b);a.hasname=!0;i.save(a)})}});b.button(z,{icon:"ui-icon-mail-closed",description:"send query by email",handler:function(){var a=
"I need help with the following query:\n\n"+i.getCode();document.location.href="mailto:support@precog.com?subject="+encodeURIComponent("Quirrel Help")+"&body="+encodeURIComponent(a)}});var Q;b.button(z,{icon:"ui-icon-link",description:"copy a link with the current query",handler:function(){var a=document.location.protocol+"//"+document.location.hostname+document.location.pathname,b=h.all();b.q=i.getCode();Q&&Q.remove();Q=g.copier("Create Query Link",{text:"Copy this link to pass the current query to someone else.<br>Don't forget that the URL contains your token!",
copy:a+"?"+$.param(b),target:this})}});b.button(z,{icon:"ui-icon-arrowthickstop-1-s",description:"download query code",handler:function(){k("Download Query",l,i.getCode())}});b.button(z,{icon:"ui-icon-plus",description:"create new empty tab",handler:function(){L++;i.add()}});var U;return E={addTab:function(a,b){C.tabs("add","#pg-editor-tab-"+ ++A,"");w(C.tabs("length")-1,a,b);var f=C.find(".pg-tab-close");1==f.length?f.hide():2==f.length&&f.show()},removeTab:function(a){C.tabs("remove",a);a=C.find(".pg-tab-close");
1===a.length&&a.hide()},removeTabByName:function(a){a:{for(var b=C.find("li a").length,f=0;f<b;f++)if(v(f).attr("data")===a){a=f;break a}a=-1}0<=a&&this.removeTab(a)},activateTab:function(a){C.tabs("select",a)},changeTabName:function(a,b){var f=v(a).attr("data");w(a,b);$(E).trigger("tabrenamed",{oldname:f,newname:b})},invalidateTab:function(a){var a=v(a),b=a.html();b&&"*"!==b.substr(0,1)&&a.html("*"+b)},revalidateTab:function(a){var a=v(a),b=a.html();"*"===b.substr(0,1)&&a.html(b.substr(1))},displayHistoryList:function(a){U&&
U.remove();a=0==a.length?"No queries have been performed yet in this editor context.":'<div class="pg-history"><ul><li>'+a.map(x).join("</li><li>")+"</li></ul></div>";U=g.context("History",{target:O,text:a});U.find(".pg-toolbar").each(function(a){$(this).append("open in ");0!==a&&b.button(this,{label:"current tab",handler:function(){U.remove();$(E).trigger("requestopenrevision",{usenewtab:!1,index:a})}});b.button(this,{label:"new tab",handler:function(){U.remove();$(E).trigger("requestopenrevision",
{usenewtab:!0,index:a})}})})},historyPanelIsOpen:function(){return U&&U.is(":visible")}}}});
define("app/folders","app/util/precog app/util/storagemonitor app/util/uiconfig app/util/ui app/util/utils app/util/notification app/util/dialog-lineinput app/util/dialog-confirm app/util/humanize rtext!templates/toolbar.folders.html libs/jquery/jstree/vakata libs/jquery/jstree/jstree libs/jquery/jstree/jstree.sort libs/jquery/jstree/jstree.ui libs/jquery/jstree/jstree.themes".split(" "),function(b,i,g,h,a,f,k,m,l,r){function p(a){a=a.replace(/\/+/g,"/");"/"===a.substr(-1)&&(a=a.substr(0,a.length-
1));return a}var t=b.config.basePath||"/",v=i("pg-quirrel-virtualpaths-"+b.hash,{virtuals:{}});return function(a){function i(){var a=R&&$(R).attr("data");$.each(Ka,function(){$(this).button("disable")});a&&($(Ka[0]).button("enable"),"/"!==a&&$.each(Ka,function(){$(this).button("enable")}))}function E(a,b){if(b&&a){var f=v.get("virtuals."+a,[]);0>f.indexOf(b)&&(f.push(b),v.set("virtuals."+a,f));if(f=a===t?-1:z(a)){var g=p(("/"===a?"/":a+"/")+b);ta[g]||(ta[g]=!0,A(b,g,null,f))}}}function z(a){for(var b=
ha.find("li"),f=b.length,g=0;g<f;g++)if($(b.get(g)).attr("data")===a)return b.get(g);return null}function L(a){var b="Create a sub folder at: <i>"+C(a)+"</i>";k("Create Folder",b,"folder name","",function(a){return null!=a&&a.match(/^[a-z0-9]+$/i)?null:"path name cannot be empty and it can only be composed of alpha-numeric characters"},function(b){E(a,b)})}function C(a){a=p(a);(a=(a+"/").substr(0,t.length)===t?(a+"/").substr(t.length):a)||(a="/");return a}function A(a,b,f,g){g||(g=-1);return ha.jstree("create_node",
g,{title:a,data:b,li_attr:{data:b}},"last",function(a){$(a).find("a:first").dblclick(function(a){ha.jstree("toggle_node",R);a.preventDefault();return!1});$(a).on("dragleave",function(a){$(this).removeClass("ui-state-active");a.preventDefault();return!1}).on("dragenter",function(a){$(this).addClass("ui-state-active");a.preventDefault();return!1}).on("dragover",function(a){a.preventDefault();return!1}).on("drop",function(a){$(this).removeClass("ui-state-active");var f=a.originalEvent.dataTransfer.files;
if("undefined"!==typeof f)for(var g=0,h=f.length;g<h;g++)Q(f[g],b);else alert("No support for the File API in this web browser");U();a.preventDefault();return!1});f&&f.apply(a,[b]);return!1})}function O(a,f,g){"undefined"===typeof f&&(f=1);a=p(a);ta[a]=!0;b.paths(C(a),function(b){function h(){if(0!==b.length){var a=i+b.shift();A(a.split("/").pop(),a,function(){1<f&&O(a,f-1,this)},g||-1);setTimeout(h,0)}}var i="/"===a?"":a,k=v.get("virtuals."+a,[]);$.each(k,function(a,f){"/"!==f.substr(0,1)&&(f="/"+
f);0>b.indexOf(f)&&b.push(f)});b.sort();setTimeout(h,0)})}function Q(a,g){function h(a){r.progressStep(a.loaded/a.total);r.el.find(".pg-message").html("uploaded "+l.filesize(a.loaded)+" of "+l.filesize(a.total))}function i(a){if(0<a.failed){message=0===a.ingested?"All of the "+l.numberFormat(a.total,0)+" events failed to be stored.":l.numberFormat(a.ingested,0)+" events have been stored correctly, "+l.numberFormat(a.failed,0)+" failed to be stored.";a.skipped&&(message+="<br>Skipped "+l.numberFormat(a.skipped,
0)+" events (the ingest process stops after "+l.numberFormat(a.failed,0)+" errors).");if(a.errors.length){var b={};$(a.errors).each(function(){var a=this.line,f=this.reason;(b[f]||(b[f]=[])).push(a)});var a=[],f;for(f in b)b.hasOwnProperty(f)&&a.push(f+" at line(s): "+b[f].join(", "));message+='<p>Error details:</p><ul class="errors"><li>'+a.join("</li><li>")+"</li></ul>"}r.progressError(message)}else message="all of the "+l.numberFormat(a.total,0)+" events have been queued correctly and are now in the process to be ingested",
r.progressComplete(message)}function k(a){r.progressError("An error occurred while uploading your file. No events have been stored in Precog: "+JSON.stringify(a))}if(a){var m=a.fileName||a.name,p=m.split(".").pop().toLowerCase();if(0>["json","csv","zip"].indexOf(p))f.error("invalid file type",{text:"You can only upload files of type json, csv or zip. Be sure that the file extension matches the type."});else{var g=C(g),r={text:"Starting upload of '"+m+"'"};f.progress("upload file",r);b.ingest(g,a,
p,h,i,k)}}}function U(){za&&(za.hide(),za.remove(),za=null)}var sa,ta;a.find(".pg-toolbar").append(r);var ca=a.find(".pg-toolbar-description"),ra=a.find(".pg-toolbar-actions"),Ea=a.find(".pg-toolbar-context"),Fa=a.find(".pg-tree").append('<div class="pg-root"></div>').find(".pg-root"),Ia=a.find(".pg-tree").append('<div class="pg-structure"></div>').find(".pg-structure"),Za=a.append('<div style="display: none"><input name="files" type="file" multiple></div>').find("input[type=file]"),Ka=[],R;g.disableUpload||
(Ka.push(h.button(Ea,{text:!1,icon:"ui-icon-new-folder",description:"create new folder",handler:function(){L($(R).attr("data"))}})),Ka.push(h.button(Ea,{text:!1,icon:"ui-icon-trash",handler:function(){var a=$(R).attr("data"),f=a.substr(0,t.length)===t?"/"+a.substr(t.length):a;m("Delete Folder","Are you sure you want to delete the folder at: <i>"+a+"</i> and all of its content?<br>This operation cannot be undone!",function(){b.deletePath(f,function(b){if(b){if((b=a)||"/"!==(b=b.trim())){b=p(b);$(sa).trigger("requestPathDeletion",
b);var f;f=p(b).substr(1);for(f=f.split("/");0<f.length;){var g=f.pop();var h="/"+f.join("/"),i=g,g=v.get("virtuals."+h,[]),i=g.indexOf(i);0>i||(g.splice(i,1),0===g.length?v.remove("virtuals."+h,!0):v.set("virtuals."+h,g,!0))}delete ta[b];for(var k in ta)ta.hasOwnProperty(k)&&k.substr(0,b.length+1)===b+"/"&&delete ta[k];k=z(b);null!==k&&ha.jstree("delete_node",k)}}else alert("an error occurred deleting the path "+a)})},{captcha:!0})}})));Ka.push(h.button(Ea,{text:!1,icon:"ui-icon-query",description:"query data at path",
handler:function(){var a=C($(R).attr("data"));$(sa).trigger("querypath",p(a))}}));g.disableDownload||Ka.push(h.button(Ea,{text:!1,icon:"ui-icon-arrowthickstop-1-s",description:"download folder data",handler:function(){var a=window.location,f;f=$(R).attr("data");f="download.php?apiKey="+encodeURIComponent(b.config.apiKey)+"&analyticsService="+encodeURIComponent(b.config.analyticsService)+"&path="+encodeURIComponent(f);a.href=f}}));g.disableUpload||Ka.push(h.button(Ea,{text:!1,icon:"ui-icon-arrowthickstop-1-n",
description:"upload data to folder",handler:function(){var a=$(R).attr("data"),b="Upload data at: <i>"+C(a)+"</i><br>You can use a JSON file (one array of values/objects), a text file containing one JSON object per line, a CSV file (headers are mandatory) or a zip file containing any combination of the previous formats.";k("Upload Data",b,"file to upload","",function(a){return a?null:"select a file"},function(b,f){if(f)for(var g=0;g<f.length;g++)Q(f[g],a)},"file")}}));i();ca.html("file system");var ha=
Ia.jstree({plugins:["themes","sort","ui"],ui:{select_limit:1,selected_parent_close:"deselect",select_multiple_modifier:!1,select_range_modifier:!1}});Fa.html('<div class="jstree jstree-default"><a href="#" data="'+t+'"><ins class="jstree-icon jstree-themeicon"> </ins>/</a></div>');Fa.find("a").mouseenter(function(){$(this).addClass("jstree-hovered")}).mouseleave(function(){$(this).removeClass("jstree-hovered")}).click(function(){ha.jstree("deselect_all");$(this).addClass("jstree-clicked");R=this;
i()});ha.bind("click.jstree",function(){Fa.find("a").removeClass("jstree-clicked");R=ha.jstree("get_selected");i()});ha.bind("open_node.jstree",function(a,b){$(b.rslt.obj).find("li").each(function(a,b){var f=p($(b).attr("data"));ta[f]||O(f,1,b)})});h.button(ra,{icon:"ui-icon-refresh",description:"refresh folders",handler:function(){sa.refresh()}});sa={refresh:function(){ta={};ha.jstree("delete_node","*");O(t,2)},createNodeAt:function(a,b){E(a,b)},requestNodeCreationAt:function(a){L(a)}};Za.on("change",
function(){e.preventDefault();return!1});var za,Xa=$(a).parents(".pg-labcoat").on("dragenter",function(a){if(!za)return za=f.success("Drag your file on a folder to upload data",{hide:!1,history:!1}),a.preventDefault(),!1}).on("dragleave",function(a){var b=a.originalEvent.pageX,a=a.originalEvent.pageY,f=Xa.offset(),g=Xa.outerWidth(),h=Xa.outerHeight();(b<=f.left||b>=f.left+g||a<=f.top||a>=f.top+h)&&U()}).on("dragover",function(a){a.preventDefault();return!1}).on("drop",function(a){U();a.preventDefault();
return!1});sa.refresh();v.monitor.bind("virtuals",function(a,b){var f=v.get("virtuals",{}),g=[],h;for(h in b)if(f.hasOwnProperty(h)&&!f[b])for(var i=b[h],k=0;k<i.length;k++)g.push({path:h,name:i[k]});for(k=0;k<g.length;k++)f=g[k],E(f.path,f.name)});return sa}});
define("app/queries","app/util/precog app/util/storagemonitor app/util/ui app/util/utils app/config/demo-queries app/util/dialog-lineinput app/util/dialog-confirm rtext!templates/toolbar.folders.html libs/jquery/jstree/vakata libs/jquery/jstree/jstree libs/jquery/jstree/jstree.sort libs/jquery/jstree/jstree.ui libs/jquery/jstree/jstree.themes".split(" "),function(b,i,g,h,a,f,k,m){var l=[],r=i("pg-quirrel-queries-"+b.hash,{queries:"5CDA81E8-9817-438A-A340-F34E578E86F8"===b.config.apiKey?a:{},folders:[]});
return function(a){function b(){var a=ca&&$(ca).attr("data-path");$.each(ta,function(){$(this.el).button("disable")});if(a){var f="/"===a?"root":"/"===a.substr(0,1)?"folder":"query";$.each(ta,function(){0<=this.groups.indexOf(f)&&$(this.el).button("enable")})}}function i(a){if(!a||"/"===a)return-1;for(var b=ra.find("li[rel=folder]"),f=b.length,g=0;g<f;g++)if($(b.get(g)).attr("data-path")===a)return b.get(g);return null}function w(a,b){var f=function(g,h){var i=$(h.rslt.obj[0]);i.attr("data-path")===
a&&(ra.unbind("create_node.jstree",f),b&&b(i))};return f}function x(a,b,f){ra.bind("create_node.jstree",w(b,function(a){ra.jstree("set_icon",a,"pg-tree-leaf");$(a).dblclick(function(){var a=$(this).attr("data-path");$(C).trigger("requestopenquery",r.get("queries."+h.normalizeQueryName(a)))});f&&f(a)}));return ra.jstree("create_node",a,{title:b.split("/").pop(),li_attr:{"data-path":b,rel:"query"}},"last")}function E(a,b){for(var b=b||function(){},f=a,g;null===(g=i(f));)f=f.substr(1).split("/"),f.pop(),
f="/"+f.join("/");if(f===a)b(g);else{var f=a.substr(f.length).split("/").filter(function(a){return!!a}).shift(),h=function(){E(a,b)};g||(g=-1);var k=(-1===g?"":$(g).attr("data-path"))+"/"+f;ra.bind("create_node.jstree",w(k,function(a){$(a).find("a:first").dblclick(function(a){ra.jstree("toggle_node",ca);a.preventDefault();return!1});h&&h(a)}));ra.jstree("create_node",g,{title:f,li_attr:{"data-path":k,rel:"folder"}},"last")}}function z(a,b){var f;f=a;"/"===f.substr(0,1)&&(f=f.substr(1));f=f.split("/");
f.pop();f=0===f.length?"/":"/"+f.join("/");E(f,function(a){x(a,b);U.show();Q.find(".pg-message").hide()})}function L(a){a:if(!a||"/"===a)a=-1;else{for(var b=ra.find("li[rel=query]"),f=b.length,g=0;g<f;g++)if($(b.get(g)).attr("data-path")===a){a=b.get(g);break a}a=null}a&&ra.jstree("delete_node",a)}var C;a.find(".pg-toolbar").append(m);var A=a.find(".pg-toolbar-description");a.find(".pg-toolbar-actions");var O=a.find(".pg-toolbar-context"),Q=a.find(".pg-queries"),U=Q.append('<div class="pg-tree"></div><div class="pg-message ui-content ui-state-highlight ui-corner-all"><p>You don\'t have saved queries. To save a query use the "disk" button on the editor toolbar.</p></div>').find(".pg-tree"),
sa=U.append('<div class="pg-root"></div>').find(".pg-root"),a=U.append('<div class="pg-structure"></div>').find(".pg-structure"),ta=[{el:g.button(O,{text:!1,icon:"ui-icon-new-folder",description:"create folder",handler:function(){var a=$(ca).attr("data-path");"/"===a&&(a="");var b=a;f("Create Folder","Create a sub folder at: <i>"+(b||"/")+"</i>","folder name","",function(a){return null!=a&&a.match(/^[a-z0-9]+$/i)?null:"path name cannot be empty and it can only be composed of alpha-numeric characters"},
function(a){a=b+"/"+a;Fa.push(a);r.set("folders",Fa,!0);E(a)})}}),groups:["root","folder"]},{el:g.button(O,{text:!1,icon:"ui-icon-new-query",description:"create query",handler:function(){var a=ca,b=$(a).attr("data-path");x("/"===b?-1:a,"   ",function(a){g.edit($(a).find("a"),{handler:function(f,g){"/"!==b.substr(-1)&&(b+="/");var i=h.validateQueryName(f,b+f,C);g(i);i||(ra.jstree("delete_node",a),i=(b+f).substr(1),C.queryCreate(i,""))},cancel:function(){ra.jstree("delete_node",a)}})})}}),groups:["root",
"folder"]},{el:g.button(O,{text:!1,icon:"ui-icon-trash",description:"remove folder/query",handler:function(){var a=$(ca).attr("data-path");"/"===a.substr(0,1)?k("Remove Folder","Are you sure you want to remove the folder <i>"+(a||"/")+"</i> and all if its content? The operation cannot be undone!",function(){var b=r.get("queries",{}),f=[],g=a.substr(1)+"/",k=g.length,l;for(l in b)b.hasOwnProperty(l)&&l.substr(0,k)===g&&f.push(l);b=[a];g=a+"/";k=g.length;for(l=0;l<Fa.length;l++)Fa[l].substr(0,k)===
g&&b.push(Fa[l]);for(l=0;l<f.length;l++)C.queryRemove(f[l]);for(l=0;l<b.length;l++)h.arrayRemove(Fa,b[l]);r.set("folders",Fa,!0);f=i(a);ra.jstree("delete_node",f)}):C.queryRemove(a)}}),groups:["folder","query"]},{el:g.button(O,{text:!1,icon:"ui-icon-rename",description:"rename query",handler:function(){var a=$(ca).attr("data-path"),a=a.split("/"),b=a.pop(),a=0===a.length?"":a.join("/")+"/";g.edit($(ca).find("a"),{handler:function(f,g){var i=h.validateQueryName(f,a+f,C);g(i);if(!i){var i=a+b,k=a+f,
l=r.get("queries."+h.normalizeQueryName(i)).code;C.queryCreate(k,l);C.queryRemove(i)}}})}}),groups:["query"]}],ca;A.html("query manager");b();var ra=a.jstree({plugins:["themes","sort","ui","dnd"],sort:function(a,b){return $(a).attr("rel")>$(b).attr("rel")?1:$(a).attr("data-path")>$(b).attr("data-path")?1:-1},types:{query:{valid_children:"none"},folder:{valid_children:["folder","query"]}},ui:{select_limit:1,selected_parent_close:"deselect",select_multiple_modifier:!1,select_range_modifier:!1}});sa.html('<div class="jstree jstree-default"><a href="#" data-path="/"><ins class="jstree-icon jstree-themeicon"> </ins>/</a></div>');
sa.find("a").mouseenter(function(){$(this).addClass("jstree-hovered")}).mouseleave(function(){$(this).removeClass("jstree-hovered")}).click(function(){ra.jstree("deselect_all");$(this).addClass("jstree-clicked");ca=this;b()});ra.bind("click.jstree",function(){sa.find("a").removeClass("jstree-clicked");ca=ra.jstree("get_selected");b()});var A=r.get("queries"),Ea;for(Ea in A)A.hasOwnProperty(Ea)&&z(Ea,A[Ea].name);var Fa=r.get("folders",[]);for(Ea=0;Ea<Fa.length;Ea++)E(Fa[Ea]);r.monitor.bind("queries",
function(a,b){var f=[],g;for(g in b)b.hasOwnProperty(g)&&f.push(g);g=h.arrayDiff(l,f);var i=h.arrayDiff(f,l);r.load();for(var k=0;k<g.length;k++)L(h.normalizeQueryName(g[k])),$(C).trigger("removed",g[k]);for(k=0;k<i.length;k++)z(h.normalizeQueryName(i[k]),i[k]);l=f});r.monitor.bind("folders",function(a,b){var f=h.arrayDiff(b,Fa);r.load();for(var g=0;g<f.length;g++)E(f[g]);Fa=b});return C={queryExist:function(a){a=h.normalizeQueryName(a);return!!r.get("queries."+a)},querySave:function(a,b){return this.queryExist(a)?
this.queryUpdate(a,b):this.queryCreate(a,b)},queryCreate:function(a,b){var f=h.normalizeQueryName(a),g=r.get("queries."+f);if(g)return!1;r.set("queries."+f,g={name:a,code:b},!0);z(f,a);$(C).trigger("created",g);return!0},queryUpdate:function(a,b){var f=h.normalizeQueryName(a),g=r.get("queries."+f);if(!g)return!1;g.code=b;r.set("queries."+f,g,!0);$(C).trigger("updated",g);return!0},queryRemove:function(a){var b=h.normalizeQueryName(a),f=r.get("queries."+b);if(!f)return!1;r.remove("queries."+b);L(a);
$(C).trigger("removed",f.name);return!0},nameAtPath:function(a){if(!ca)return a;var b=$(ca).attr("data-path");if(!b||"/"===b)return a;if("/"===b.substr(0,1))return b.substr(1)+"/"+a;b=b.split("/");b.pop();return b.join("/")+"/"+a}}}});define("app/config/eggs",[],function(){return[{question:"who did this?",answer:"Franco Ponticelli ... the amazing programmer"},{question:"how many zombies does it take to screw in a light-bulb?",answer:"1 precog zombie, and as many minions an necessary"}]});
define("app/eggmanager",["app/config/eggs","app/util/notification"],function(b,i){function g(a){return a.toLowerCase().replace(/\W+/," ").replace(/\s+/gm," ").trim()}for(var h=0;h<b.length;h++)b[h].normalized=g(b[h].question);return{findEgg:function(a){for(var a=g(a),f=0;f<b.length;f++)if(a===b[f].normalized)return f;return-1},isEgg:function(a){return 0<=this.findEgg(a)},displayEgg:function(a,f){0>a||i.main(f,{text:'<div class="pg-easter">'+b[a].answer+"</div>",min_height:"100px"})},easterEgg:function(a){1<
a.split("\n").length?a=null:(a=a.trim(),a="--"===a.substr(0,2)?a.substr(2):"(*"===a.substr(0,2)&&"*)"===a.substr(a.length-2)?a.substr(2,a.length-4):null);if(null===a)return!1;var b=this.findEgg(a);if(0>b)return!1;this.displayEgg(b,a);return!0}}});
define("app/gatrack",[],function(){function b(){if(0!==i.length)if("undefined"===typeof _gaq)clearInterval(this.timer),this.timer=setTimeout(function(){b()},1E3);else{var g=i.shift();_gaq.push(["_trackEvent",g.category,g.action,g.label,g.value]);b()}}var i=[];return{trackEvent:function(g,h,a,f){i.push({category:g,action:h,label:a,value:f});b()},trackQueryExecution:function(b){this.trackEvent("interaction","execute-query",b)}}});
requirejs.config({waitSeconds:20,baseUrl:"./js/",shim:{"libs/jquery/ui/jquery.ui.core":["jquery"],"libs/jquery/ui/jquery.ui.position":["libs/jquery/ui/jquery.ui.core"],"libs/jquery/ui/jquery.ui.widget":["libs/jquery/ui/jquery.ui.core"],"libs/jquery/ui/jquery.ui.mouse":["libs/jquery/ui/jquery.ui.widget"],"libs/jquery/ui/jquery.ui.resizable":["libs/jquery/ui/jquery.ui.mouse"],"libs/jquery/ui/jquery.ui.button":["libs/jquery/ui/jquery.ui.widget"],"libs/jquery/ui/jquery.ui.sortable":["libs/jquery/ui/jquery.ui.widget"],
"libs/jquery/ui/jquery.ui.draggable":["libs/jquery/ui/jquery.ui.mouse"],"libs/jquery/ui/jquery.ui.droppable":["libs/jquery/ui/jquery.ui.draggable"],"libs/jquery/ui/jquery.ui.dialog":["libs/jquery/ui/jquery.ui.widget","libs/jquery/ui/jquery.ui.draggable","libs/jquery/ui/jquery.ui.button","libs/jquery/ui/jquery.ui.position","libs/jquery/ui/jquery.ui.resizable"],"libs/jquery/ui/jquery.ui.progressbar":["libs/jquery/ui/jquery.ui.widget"],"libs/jquery/ui/jquery.ui.tabs":["libs/jquery/ui/jquery.ui.widget"],
"libs/jquery/ui/jquery.ui.menu":["libs/jquery/ui/jquery.ui.widget"],"libs/jquery/slickgrid/jquery.event.drag-2.0.min":["jquery","libs/jquery/ui/jquery.ui.sortable"],"libs/jquery/slickgrid/slick.core":["libs/jquery/slickgrid/jquery.event.drag-2.0.min","libs/jquery/ui/jquery.ui.sortable"],"libs/jquery/slickgrid/slick.grid":["libs/jquery/slickgrid/slick.core"],"libs/jquery/slickgrid/slick.dataview":["libs/jquery/slickgrid/slick.grid"],"libs/jquery/slickgrid/slick.pager":["libs/jquery/slickgrid/slick.dataview"],
"libs/jquery/slickgrid/slick.columnpicker":["libs/jquery/slickgrid/slick.pager"],"app/util/output-table":["libs/jquery/slickgrid/slick.columnpicker","libs/jquery/ui/jquery.ui.sortable"],"app/util/ui":["libs/jquery/ui/jquery.ui.menu","libs/jquery/ui/jquery.ui.tabs","libs/jquery/ui/jquery.ui.progressbar","app/util/dom"],"libs/jquery/layout/jquery.layout":["libs/jquery/ui/jquery.ui.draggable"],"libs/jquery/jstree/jstree":["libs/jquery/jstree/vakata"],"libs/jquery/jstree/jstree.sort":["libs/jquery/jstree/jstree"],
"libs/jquery/jstree/jstree.types":["libs/jquery/jstree/jstree"],"libs/jquery/jstree/jstree.themes":["libs/jquery/jstree/jstree"],"libs/jquery/jstree/jstree.ui":["libs/jquery/jstree/jstree"],"app/folders":["libs/jquery/jstree/jstree.themes"]}});
require("app/util/config app/layout app/editors app/history app/bar-main app/bar-editor app/bar-status app/theme app/editor/editor.ace app/editorsync app/output app/folders app/queries app/support app/startup-tips app/util/precog app/util/querystring app/eggmanager app/gatrack".split(" "),function(b,i,g,h,a,f,k,m,l,r,p,t,v,w,x,E,z,L,C){$(function(){function A(){var a=h.revisions(g.getName());Ia.displayHistoryList(a)}E.cache.disable();var O,Q=i(b.get("ioPanesVertical"));Q.getContainer().hide();a(Q.getBarMain());
$(m).on("changed",function(){Q.refresh()});$(m).on("change",function(a,f){b.set("theme",f)});var U=l(Q.getCodeEditor(),b.get("ioPanesVertical"));U.setTabSize(b.get("tabSize"));U.setUseSoftTabs(b.get("softTabs"));$(Q).on("resizeCodeEditor",function(){U.resize()});$(Q).on("ioOrientationChanged",function(a,f){b.set("ioPanesVertical",f);U.orientButton(f)});$(m).on("change",function(a,b){U.setTheme(m.getEditorTheme(b,U.engine()))});$(U).on("useSoftTabsChanged",function(a,f){b.set("softTabs",f)});$(U).on("tabSizeChanged",
function(a,f){b.set("tabSize",f)});var sa=k(Q.getStatusBar(),U,Q),ta=p(Q.getOutput(),g),ca=w(Q.getSupport());ca.addPanel("tutorial","https://quirrel.precog.com/tutorial.html");ca.addPanel("reference","https://quirrel.precog.com/reference.html");ca.addPanel("IRC channel","https://api.precog.com:9090/?channels=#quirrel");$(Q).on("resizeCodeEditor",function(){ta.resize();ca.resize()});$(ta).on("syntaxError",function(a,b){U.highlightSyntax(b.line-1,b.column-1,b.text,"error")});$(ta).on("requestCursorChange",
function(a,b){U.setCursorPosition(b.line-1,b.column-1)});$(ta).on("typeChanged",function(a,b){g.setOutputType(b)});var ra={};$(E).on("execute",function(a,b,f,h){var i,k;for(k in ra)if(ra.hasOwnProperty(k)&&ra[k].name===g.getName()){i=k;break}i&&$(E).trigger("abort",i);ra[h]={query:b,name:g.getName()};sa.startRequest()});$(E).on("completed",function(a,b,f){a=ra[b];delete ra[b];h.save(a.name,a.query,f);sa.endRequest(!0);g.getName()===a.name?(ta.setOutput(f,null,g.getOutputOptions()),g.setOutputResult(f),
Ia.historyPanelIsOpen()&&A()):(b=g.getIndexByName(a.name),0<=b&&(a=g.getOutputType(b),("message"===a||"error"===a)&&g.setOutputType("table",b),g.setOutputResult(f,b)));C.trackQueryExecution("success")});$(E).on("failed",function(a,b,f){f=f instanceof Array?f[0]:f;a=ra[b];delete ra[b];sa.endRequest(!1);g.getName()===a.name?(ta.setOutput(f,"error",g.getOutputOptions()),g.setOutputResult(f)):(b=g.getIndexByName(a.name),0<=b&&g.setOutputResult(f,b));C.trackQueryExecution("undefined"!==typeof f.lineNum?
"syntax-error":"service-error")});$(E).on("aborted",function(a,b){delete ra[b];sa.endRequest(!1);C.trackQueryExecution("aborted")});var Ea;$(U).on("execute",function(a,b){L.easterEgg(b)||(clearInterval(Ea),Ea=setTimeout(function(){ta.paginationOptions();E.query(b)},0))});$(g).on("activated",function(){var a=g.getOutputResult(),b=g.getOutputType(),f=g.getOutputOptions();ta.setOutput(a,b,f)});$(g).on("saved",function(a,b){O.querySave(b.name,b.code)});r(U,g,b);var Fa=t(Q.getSystem());$(Fa).on("querypath",
function(a,b){"/"!==b.substr(0,1)&&(b="/"+b);var f='load("'+b.replace(/"/g,'"')+'")';""==g.getCode().trim()?U.set(f):(g.add({code:f}),g.activate(g.count()-1));U.triggerExecute()});O=v(Q.getQueries());$(O).on("requestopenquery",function(a,b){g.open(b.name,b.code)});$(O).on("removed",function(a,b){var f=g.getIndexByName(b);0<=f&&Ia.invalidateTab(f)});var Ia=f(Q.getBarEditor(),O,U);$(g).on("saved",function(a,b){var f=g.getIndexById(b.id);0>f||Ia.changeTabName(f,b.name)});$(g).on("added",function(a,b){Ia.addTab(b.name,
!!b.dirty)});$(g).on("removed",function(a,b){Ia.removeTabByName(b)});var Za=!0;$(U).on("change",function(){Za||(g.setDirty(),Ia.invalidateTab(g.current()))});$(g).on("activated",function(a,b){Ia.activateTab(b);clearInterval(this.k);this.k=setTimeout(function(){Za=!1},1E3);Ia.historyPanelIsOpen()&&A()});$(g).on("deactivated",function(){Za=!0});$(g).on("removed",function(a,b){O.queryExist(b)||h.remove(b)});$(Ia).on("requesthistorylist",A);$(Ia).on("requestopenrevision",function(a,b){var f=g.getName(),
f=h.load(f,b.index);b.usenewtab?(g.add({code:f.code,output:{result:f.data}}),g.activate(g.count()-1)):U.set(f.code);ta.setOutput(f.data,null,g.getOutputOptions())});$(Ia).on("tabrenamed",function(a,b){h.rename(b.oldname,b.newname);Ia.historyPanelIsOpen()&&A()});x(Q);g.load();var Fa=z.get("q"),Ka;if(!(Ka=!g.count()))if(Ka=Fa){a:{for(Ka=0;Ka<g.count();Ka++)if(g.getCode(Ka)===Fa){Ka=!0;break a}Ka=!1}Ka=!Ka}Ka&&g.add(Fa&&{code:Fa});setTimeout(function(){g.activate(g.count()-1);$(ta).on("optionsChanged",
function(a,b){g.setOutputOptions(b)});m.set(E.config.theme||b.get("theme","gray"));b.monitor.bind("theme",function(a,b){m.set(b)});b.monitor.bind("softTabs",function(a,b){U.setUseSoftTabs(b)});b.monitor.bind("tabSize",function(a,b){U.setTabSize(b)});Q.getContainer().show()},150)})});define("main",function(){});
