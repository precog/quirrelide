(function(){var Pa,Ya,lb,Sa,pa,Da,La,$a,Gc,Db,Hc,Y,wa,pd,Ta,Ic,Jc,ha,Kc,Lc,Mc,Nc,Oc,Pc,mb,Qc,Rc,Qb,Ea,Fa,ub,qd,Rb,Qd,vb,Ga,nb,Sc,wb,Sb,Eb,ob,ab,xb,pc,qc,Fb,Tc,Uc,pb,Ja,fa,K,n,l,U,ta,ac,rd,X,Aa,ka,sd,td,xa,T,ud,Tb,bc,F,Ua,Ba,Gb,Rd,cc,rc,vd,wd,sc,Hb,dc,xd,yd,zd,Vc,Ad,Ib,Bd,ga,Wc,Xc,Yc,Zc,$c,ad,bd,qb,cd,tc,dd,ed,uc,vc,fd,gd,wc,xc,bb,g,ua,rb,Ma,Ub,ec,va,yc,fc,gc,hc,zc,hd,id,Jb,cb,Cd,Vb,db,eb,m,H,V,s,W,f,Z,p,aa,Kb,R,yb,r,Ha,fb,Lb,Na,gb,w,Ia,Dd,L,Sd,Ac,sb,Mb,D,jd,ic,da,Oa,Va,E,tb,y,B,ea,kd,qa,ya,Bc,Ed;
function A(a,b){function c(){}c.prototype=a;var d=new c,e;for(e in b)d[e]=b[e];return d}function Qa(a){return a instanceof Array?function(){return u.iter(a)}:"function"==typeof a.iterator?v(a,a.iterator):a.iterator}function v(a,b){var c=function(){return c.method.apply(c.scope,arguments)};c.scope=a;c.method=b;return c}var i={},q=function(){return B.__string_rec(this,"")},S=function(){};i.Arrays=S;S.__name__=["Arrays"];S.addIf=function(a,b,c){null!=b?b&&a.push(c):null!=c&&a.push(c);return a};S.min=
function(a,b){if(0==a.length)return null;if(null==b)for(var c=a[0],d=0,e=ca.comparef(c),h=1,o=a.length;h<o;){var f=h++;0<e(c,a[f])&&(c=a[d=f])}else{c=b(a[0]);d=0;h=1;for(o=a.length;h<o;)if(f=h++,c>(e=b(a[f])))c=e,d=f}return a[d]};S.floatMax=function(a,b){if(0==a.length)return Math.NaN;for(var c=b(a[0]),d,e=1,h=a.length;e<h;)if(d=e++,c<(d=b(a[d])))c=d;return c};S.flatten=function(a){for(var b=[],c=0;c<a.length;){var d=a[c];++c;b=b.concat(d)}return b};S.order=function(a,b){a.sort(null==b?ca.compare:
b);return a};S.exists=function(a,b,c){if(null!=c)for(var d=0;d<a.length;){var e=a[d];++d;if(c(e))return!0}else for(d=0;d<a.length;)if(e=a[d],++d,e==b)return!0;return!1};S.format=function(a,b,c,d){c=m.FormatParams.params(b,c,"J");b=c.shift();switch(b){case "J":if(0==a.length)return null==c[1]?"[]":c[1];var b=null==c[2]?", ":c[2],e=null==c[3]?null:""==c[3]?null:t.parseInt(c[3]);if(null!=e&&e<a.length){var h=null==c[4]?" ...":c[4];return I.map(u.iter(a.slice().splice(0,e)),function(a){return ca.format(a,
c[0],null,null,d)}).join(b)+h}return I.map(u.iter(a),function(a){return ca.format(a,c[0],null,null,d)}).join(b);case "C":return P.format(a.length,"I",[],d);default:throw"Unsupported array format: "+b;}};S.indexOf=function(a,b){return a.indexOf(b)};S.string=function(a){return"["+I.map(u.iter(a),function(a){return ca.string(a)}).join(", ")+"]"};S.last=function(a){return a[a.length-1]};S.firstf=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;if(b(d))return d}return null};S.nearest=function(a,b,
c){for(var d=[],e=0,h=a.length;e<h;){var o=e++;d.push({i:o,v:Math.abs(c(a[o])-b)})}d.sort(function(a,b){return G.compare(a.v,b.v)});return a[d[0].i]};S.compare=function(a,b){var c;if(0!=(c=a.length-b.length))return c;for(var d=0,e=a.length;d<e;)if(c=d++,0!=(c=ca.compare(a[c],b[c])))return c;return 0};S.rotate=function(a){if(0==a.length)return[];for(var b=[],c=0,d=a[0].length;c<d;){var e=c++;b[e]=[]}c=0;for(d=a.length;c<d;)for(var h=c++,o=0,f=a[0].length;o<f;)e=o++,b[e][h]=a[h][e];return b};var Wa=
function(){};i.Bools=Wa;Wa.__name__=["Bools"];Wa.format=function(a,b,c,d){return Wa.formatf(b,c,d)(a)};Wa.formatf=function(a,b){var b=m.FormatParams.params(a,b,"B"),c=b.shift();switch(c){case "B":return function(a){return a?"true":"false"};case "N":return function(a){return a?"1":"0"};case "R":if(2!=b.length)throw"bool format R requires 2 parameters";return function(a){return a?b[0]:b[1]};default:throw"Unsupported bool format: "+c;}};Wa.canParse=function(a){a=a.toLowerCase();return"true"==a||"false"==
a};Wa.parse=function(a){return"true"==a.toLowerCase()};Wa.compare=function(a,b){return a==b?0:a?-1:1};var zb=function(a,b){this.length=a;this.b=b};i.Bytes=zb;zb.__name__=["Bytes"];zb.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new zb(a,b)};zb.ofString=function(a){for(var b=[],c=0,d=a.length;c<d;){var e=c++,e=u.cca(a,e);127>=e?b.push(e):(2047>=e?b.push(192|e>>6):(65535>=e?b.push(224|e>>12):(b.push(240|e>>18),b.push(128|e>>12&63)),b.push(128|e>>6&63)),b.push(128|e&63))}return new zb(b.length,
b)};zb.prototype={toString:function(){return this.readString(0,this.length)},readString:function(a,b){if(0>a||0>b||a+b>this.length)throw new qa.OutsideBoundsException;for(var c="",d=this.b,e=String.fromCharCode,h=a,o=a+b;h<o;){var f=d[h++];if(128>f){if(0==f)break;c+=e(f)}else if(224>f)c+=e((f&63)<<6|d[h++]&127);else if(240>f)var g=d[h++],c=c+e((f&31)<<12|(g&127)<<6|d[h++]&127);else var g=d[h++],k=d[h++],c=c+e((f&15)<<18|(g&127)<<12|k<<6&127|d[h++]&127)}return c},sub:function(a,b){null==b&&(b=this.length-
a);a+b>this.length&&(b=this.length-a);if(0>a||0>b)throw new qa.OutsideBoundsException;return new zb(b,this.b.slice(a,a+b))},b:null,length:null,__class__:zb};var ld=function(){this.b=[]};i.BytesBuffer=ld;ld.__name__=["BytesBuffer"];ld.prototype={getBytes:function(){var a=new zb(this.b.length,this.b);this.b=null;return a},add:function(a){for(var b=a.b,c=0,a=a.length;c<a;){var d=c++;this.b.push(b[d])}},b:null,__class__:ld};var jc=function(){};i.BytesUtil=jc;jc.__name__=["BytesUtil"];jc.cleanHexFormat=
function(a){a=C.replace(a,":","");a=a.split("|").join("");a=(new M("([\\s]*)","g")).replace(a,"");C.startsWith(a,"0x")&&(a=u.substr(a,2,null));1==(a.length&1)&&(a="0"+a);return a.toLowerCase()};jc.hexDump=function(a,b){return jc.toHex(a,b)};jc.toHex=function(a,b){null==b&&(b=" ");for(var c=new Ab,d=a.length,e=!0,h=0;h<d;){var o=h++;e?e=!1:c.b+=t.string(b);c.b+=t.string(C.hex(a.b[o],2).toLowerCase())}return C.rtrim(c.b)};var Ud=function(){};i.DateTools=Ud;Ud.__name__=["DateTools"];Ud.getMonthDays=
function(a){var b=a.getMonth(),a=a.getFullYear();return 1!=b?Ud.DAYS_OF_MONTH[b]:0==a%4&&0!=a%100||0==a%400?29:28};var M=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};i.EReg=M;M.__name__=["EReg"];M.prototype={customReplace:function(a,b){for(var c=new Ab;this.match(a);){c.b+=t.string(this.matchedLeft());c.b+=t.string(b(this));a=this.matchedRight()}c.b+=t.string(a);return c.b},replace:function(a,b){return a.replace(this.r,b)},matchedRight:function(){if(null==this.r.m)throw"No string matched";
if(null==this.r.r){var a=this.r.m.index+this.r.m[0].length;return this.r.s.substr(a,this.r.s.length-a)}return this.r.r},matchedLeft:function(){if(null==this.r.m)throw"No string matched";return null==this.r.l?this.r.s.substr(0,this.r.m.index):this.r.l},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.m=this.r.exec(a);this.r.s=a;this.r.l=RegExp.leftContext;this.r.r=RegExp.rightContext;return null!=this.r.m},r:null,
__class__:M};var ja=function(){};i.Dates=ja;ja.__name__=["Dates"];ja.format=function(a,b,c,d){return ja.formatf(b,c,d)(a)};ja.formatf=function(a,b,c){b=m.FormatParams.params(a,b,"D");a=b.shift();switch(a){case "D":return function(a){return m.FormatDate.date(a,c)};case "DS":return function(a){return m.FormatDate.dateShort(a,c)};case "DST":return function(a){return m.FormatDate.dateShort(a,c)+" "+m.FormatDate.time(a,c)};case "DSTS":return function(a){return m.FormatDate.dateShort(a,c)+" "+m.FormatDate.timeShort(a,
c)};case "DTS":return function(a){return m.FormatDate.date(a,c)+" "+m.FormatDate.timeShort(a,c)};case "Y":return function(a){return m.FormatDate.year(a,c)};case "YM":return function(a){return m.FormatDate.yearMonth(a,c)};case "M":return function(a){return m.FormatDate.month(a,c)};case "MN":return function(a){return m.FormatDate.monthName(a,c)};case "MS":return function(a){return m.FormatDate.monthNameShort(a,c)};case "MD":return function(a){return m.FormatDate.monthDay(a,c)};case "WD":return function(a){return m.FormatDate.weekDay(a,
c)};case "WDN":return function(a){return m.FormatDate.weekDayName(a,c)};case "WDS":return function(a){return m.FormatDate.weekDayNameShort(a,c)};case "R":return function(a){return m.FormatDate.dateRfc(a,c)};case "DT":return function(a){return m.FormatDate.dateTime(a,c)};case "U":return function(a){return m.FormatDate.universal(a,c)};case "S":return function(a){return m.FormatDate.sortable(a,c)};case "T":return function(a){return m.FormatDate.time(a,c)};case "TS":return function(a){return m.FormatDate.timeShort(a,
c)};case "C":var d=b[0];return null==d?function(a){return m.FormatDate.date(a,c)}:function(a){return m.FormatDate.format(d,a,c,null!=b[1]?"true"==b[1]:!0)};default:throw new H.Error("Unsupported date format: {0}",null,a,{fileName:"Dates.hx",lineNumber:71,className:"Dates",methodName:"formatf"});}};ja.interpolate=function(a,b,c,d){return ja.interpolatef(b,c,d)(a)};ja.interpolatef=function(a,b,c){var d=G.interpolatef(a.getTime(),b.getTime(),c);return function(a){var b=new Date;b.setTime(d(a));return b}};
ja.snap=function(a,b,c){null==c&&(c=0);if(0>c)switch(b){case "second":return 1E3*Math.floor(a/1E3);case "minute":return 6E4*Math.floor(a/6E4);case "hour":return 36E5*Math.floor(a/36E5);case "day":return b=function(){var b=new Date;b.setTime(a);return b}(this),(new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0)).getTime();case "week":return 6048E5*Math.floor(a/6048E5);case "month":return b=function(){var b=new Date;b.setTime(a);return b}(this),(new Date(b.getFullYear(),b.getMonth(),1,0,0,0)).getTime();
case "year":return b=function(){var b=new Date;b.setTime(a);return b}(this),(new Date(b.getFullYear(),0,1,0,0,0)).getTime();default:return 0}else if(0<c)switch(b){case "second":return 1E3*Math.ceil(a/1E3);case "minute":return 6E4*Math.ceil(a/6E4);case "hour":return 36E5*Math.ceil(a/36E5);case "day":return b=function(){var b=new Date;b.setTime(a);return b}(this),(new Date(b.getFullYear(),b.getMonth(),b.getDate()+1,0,0,0)).getTime();case "week":return 6048E5*Math.ceil(a/6048E5);case "month":return b=
function(){var b=new Date;b.setTime(a);return b}(this),(new Date(b.getFullYear(),b.getMonth()+1,1,0,0,0)).getTime();case "year":return b=function(){var b=new Date;b.setTime(a);return b}(this),(new Date(b.getFullYear()+1,0,1,0,0,0)).getTime();default:return 0}else switch(b){case "second":return 1E3*Math.round(a/1E3);case "minute":return 6E4*Math.round(a/6E4);case "hour":return 36E5*Math.round(a/36E5);case "day":return b=function(){var b=new Date;b.setTime(a);return b}(this),c=12<=b.getHours()?1:0,
(new Date(b.getFullYear(),b.getMonth(),b.getDate()+c,0,0,0)).getTime();case "week":return 6048E5*Math.round(a/6048E5);case "month":return b=function(){var b=new Date;b.setTime(a);return b}(this),c=b.getDate()>Math.round(Ud.getMonthDays(b)/2)?1:0,(new Date(b.getFullYear(),b.getMonth()+c,1,0,0,0)).getTime();case "year":return b=function(){var b=new Date;b.setTime(a);return b}(this),c=a>(new Date(b.getFullYear(),6,2,0,0,0)).getTime()?1:0,(new Date(b.getFullYear()+c,0,1,0,0,0)).getTime();default:return 0}};
ja.snapToWeekDay=function(a,b){var c=new Date;c.setTime(a);var c=c.getDay(),d=0;switch(b.toLowerCase()){case "sunday":d=0;break;case "monday":d=1;break;case "tuesday":d=2;break;case "wednesday":d=3;break;case "thursday":d=4;break;case "friday":d=5;break;case "saturday":d=6;break;default:throw new H.Error("unknown week day '{0}'",null,b,{fileName:"Dates.hx",lineNumber:186,className:"Dates",methodName:"snapToWeekDay"});}return a-864E5*((c-d)%7)};ja.canParse=function(a){return ja._reparse.match(a)};
ja.parse=function(a){var a=a.split("."),b=u.strDate(C.replace(a[0],"T"," "));if(1<a.length){var c=new Date;c.setTime(b.getTime()+t.parseInt(a[1]));b=c}return b};ja.compare=function(a,b){return G.compare(a.getTime(),b.getTime())};var ca=function(){};i.Dynamics=ca;ca.__name__=["Dynamics"];ca.format=function(a,b,c,d,e){return ca.formatf(b,c,d,e)(a)};ca.formatf=function(a,b,c,d){null==c&&(c="null");return function(e){var h=z["typeof"](e);switch(h[1]){case 0:return c;case 1:return P.format(e,a,b,d);case 2:return G.format(e,
a,b,d);case 3:return Wa.format(e,a,b,d);case 6:return h=h[2],h==String?J.formatOne(e,a,b,d):h==Array?S.format(e,a,b,d):h==Date?ja.format(e,a,b,d):ra.format(e,a,b,d);case 4:return ra.format(e,a,b,d);case 5:return"function()";default:throw new H.Error("Unsupported type format: {0}",null,z["typeof"](e),{fileName:"Dynamics.hx",lineNumber:44,className:"Dynamics",methodName:"formatf"});}}};ca.string=function(a){var b=z["typeof"](a);switch(b[1]){case 0:return"null";case 1:return P.format(a);case 2:return G.format(a);
case 3:return Wa.format(a);case 4:for(var b=ra.keys(a),c=[],d=0;d<b.length;){var e=b[d];++d;c.push(e+" : "+ca.string(j.field(a,e)))}return"{"+c.join(", ")+"}";case 6:switch(z.getClassName(b[2])){case "Array":return S.string(a);case "String":return 0>a.indexOf('"')?'"'+a+'"':0>a.indexOf("'")?"'"+a+"'":'"'+C.replace(a,'"','\\"')+'"';case "Date":return ja.format(a);default:return t.string(a)}case 7:return Fd.string(a);case 8:return"<unknown>";case 5:return"<function>"}};ca.compare=function(a,b){if(null==
a&&null==b)return 0;if(null==a)return-1;if(null==b)return 1;var c=z["typeof"](a);switch(c[1]){case 1:case 2:return G.compare(a,b);case 3:return Wa.compare(a,b);case 4:return ra.compare(a,b);case 6:switch(z.getClassName(c[2])){case "Array":return S.compare(a,b);case "String":return J.compare(a,b);case "Date":return ja.compare(a,b);default:return J.compare(t.string(a),t.string(b))}case 7:return Fd.compare(a,b);default:return 0}};ca.comparef=function(a){a=z["typeof"](a);switch(a[1]){case 1:case 2:return G.compare;
case 3:return Wa.compare;case 4:return ra.compare;case 6:switch(z.getClassName(a[2])){case "Array":return S.compare;case "String":return J.compare;case "Date":return ja.compare;default:return function(a,c){return J.compare(t.string(a),t.string(c))}}case 7:return Fd.compare;default:return ca.compare}};ca.clone=function(a,b){null==b&&(b=!1);var c=z["typeof"](a);switch(c[1]){case 0:return null;case 1:case 2:case 3:case 7:case 8:case 5:return a;case 4:var d={};ra.copyTo(a,d);return d;case 6:switch(c=
c[2],z.getClassName(c)){case "Array":d=[];for(c=0;c<a.length;){var e=a[c];++c;d.push(ca.clone(e))}return d;case "String":case "Date":return a;default:if(b){d=z.createEmptyInstance(c);c=0;for(e=j.fields(a);c<e.length;){var h=e[c];++c;d[h]=ca.clone(j.field(a,h))}return d}return a}}};ca.same=function(a,b){var c=hb.typeName(a),d=hb.typeName(b);if(c!=d)return!1;c=z["typeof"](a);switch(c[1]){case 2:return G.equals(a,b);case 0:case 1:case 3:return a==b;case 5:return j.compareMethods(a,b);case 6:c=z.getClassName(c[2]);
d=z.getClassName(z.getClass(b));if(c!=d||B.__instanceof(a,String)&&a!=b)return!1;if(B.__instanceof(a,Array)){var d=a,e=b;if(d.length!=e.length)return!1;for(var h=0,c=d.length;h<c;){var o=h++;if(!ca.same(d[o],e[o]))return!1}return!0}if(B.__instanceof(a,Date))return a.getTime()==b.getTime();if(B.__instanceof(a,Ed)||B.__instanceof(a,Ed)){d=I.array(a.keys());c=I.array(b.keys());if(d.length!=c.length)return!1;for(c=0;c<d.length;)if(h=d[c],++c,!b.exists(h)||!ca.same(a.get(h),b.get(h)))return!1;return!0}c=
!1;if((c=I.isIterator(a))||Vd.isIterable(a)){d=c?I.array(a):I.array(Qa(a)());e=c?I.array(b):I.array(Qa(b)());if(d.length!=e.length)return!1;h=0;for(c=d.length;h<c;)if(o=h++,!ca.same(d[o],e[o]))return!1;return!0}o=z.getInstanceFields(z.getClass(a));for(c=0;c<o.length;)if(h=o[c],++c,d=j.field(a,h),!j.isFunction(d)&&(e=j.field(b,h),!ca.same(d,e)))return!1;return!0;case 7:c=z.getEnumName(c[2]);d=z.getEnum(b);d=z.getEnumName(d);if(c!=d||a[1]!=b[1])return!1;d=a.slice(2);e=b.slice(2);h=0;for(c=d.length;h<
c;)if(o=h++,!ca.same(d[o],e[o]))return!1;return!0;case 4:for(var o=j.fields(a),f=j.fields(b),c=0;c<o.length;){h=o[c];++c;u.remove(f,h);if(!j.hasField(b,h))return!1;d=j.field(a,h);if(!j.isFunction(d)&&(e=j.field(b,h),!ca.same(d,e)))return!1}if(0<f.length)return!1;if((c=I.isIterator(a))||Vd.isIterable(a)){if(c&&!I.isIterator(b)||!c&&!Vd.isIterable(b))return!1;d=c?I.array(a):I.array(Qa(a)());e=c?I.array(b):I.array(Qa(b)());if(d.length!=e.length)return!1;h=0;for(c=d.length;h<c;)if(o=h++,!ca.same(d[o],
e[o]))return!1}return!0;case 8:throw"Unable to compare two unknown types";}throw new H.Error("Unable to compare values: {0} and {1}",[a,b],null,{fileName:"Dynamics.hx",lineNumber:368,className:"Dynamics",methodName:"same"});};var Fd=function(){};i.Enums=Fd;Fd.__name__=["Enums"];Fd.string=function(a){for(var b=z.enumConstructor(a),c=[],d=0,a=z.enumParameters(a);d<a.length;){var e=a[d];++d;c.push(ca.string(e))}return b+(0==c.length?"":"("+c.join(", ")+")")};Fd.compare=function(a,b){var c;return 0!=
(c=z.enumIndex(a)-z.enumIndex(b))?c:S.compare(z.enumParameters(a),z.enumParameters(b))};var G=function(){};i.Floats=G;G.__name__=["Floats"];G.normalize=function(a){return 0>a?0:1<a?1:a};G.range=function(a,b,c,d){null==d&&(d=!1);null==c&&(c=1);null==b&&(b=a,a=0);if((b-a)/c==Math.POSITIVE_INFINITY)throw new H.Error("infinite range",null,null,{fileName:"Floats.hx",lineNumber:50,className:"Floats",methodName:"range"});var e=[],h=-1;if(d)if(0>c)for(;(d=a+c*++h)>=b;)e.push(d);else for(;(d=a+c*++h)<=b;)e.push(d);
else if(0>c)for(;(d=a+c*++h)>b;)e.push(d);else for(;(d=a+c*++h)<b;)e.push(d);return e};G.min=function(a,b){return a<b?a:b};G.max=function(a,b){return a>b?a:b};G.circularWrap=function(a,b){a%=b;0>a&&(a+=b);return a};G.interpolate=function(a,b,c,d){null==c&&(c=1);null==b&&(b=0);if(null==d)d=V.Equations.linear;return b+d(a)*(c-b)};G.interpolatef=function(a,b,c){null==b&&(b=1);null==a&&(a=0);if(null==c)c=V.Equations.linear;var d=b-a;return function(b){return a+c(b)*d}};G.format=function(a,b,c,d){return G.formatf(b,
c,d)(a)};G.formatf=function(a,b,c){var b=m.FormatParams.params(a,b,"D"),a=b.shift(),d=0<b.length?t.parseInt(b[0]):null;switch(a){case "D":return function(a){return m.FormatNumber.decimal(a,d,c)};case "I":return function(a){return m.FormatNumber["int"](a,c)};case "C":var e=1<b.length?b[1]:null;return function(a){return m.FormatNumber.currency(a,e,d,c)};case "P":return function(a){return m.FormatNumber.percent(a,d,c)};case "M":return function(a){return m.FormatNumber.permille(a,d,c)};default:throw new H.Error("Unsupported number format: {0}",
null,a,{fileName:"Floats.hx",lineNumber:152,className:"Floats",methodName:"formatf"});}};G.canParse=function(a,b){null==b&&(b=!1);return b?G._reparseStrict.match(a):G._reparse.match(a)};G.parse=function(a){"+"==u.substr(a,0,1)&&(a=u.substr(a,1,null));return t.parseFloat(a)};G.compare=function(a,b){return a<b?-1:a>b?1:0};G.equals=function(a,b,c){null==c&&(c=1.0E-5);return Math.isNaN(a)?Math.isNaN(b):Math.isNaN(b)?!1:!Math.isFinite(a)&&!Math.isFinite(b)?0<a==0<b:Math.abs(b-a)<c};G.uninterpolatef=function(a,
b){b=1/(b-a);return function(c){return(c-a)*b}};var u=function(){};i.HxOverrides=u;u.__name__=["HxOverrides"];u.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),e=a.getMinutes(),h=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>e?"0"+e:""+e)+":"+(10>h?"0"+h:""+h)};u.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);
return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};u.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};u.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";if(null==c)c=a.length;0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};u.remove=function(a,b){for(var c=0,d=a.length;c<d;){if(a[c]==
b)return a.splice(c,1),!0;c++}return!1};u.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var ce=function(a,b){this.min=a;this.max=b};i.IntIterator=ce;ce.__name__=["IntIterator"];ce.prototype={max:null,min:null,__class__:ce};var P=function(){};i.Ints=P;P.__name__=["Ints"];P.range=function(a,b,c){null==c&&(c=1);null==b&&(b=a,a=0);if((b-a)/c==Math.POSITIVE_INFINITY)throw new H.Error("infinite range",null,null,{fileName:"Ints.hx",
lineNumber:19,className:"Ints",methodName:"range"});var d=[],e=-1,h;if(0>c)for(;(h=a+c*++e)>b;)d.push(h);else for(;(h=a+c*++e)<b;)d.push(h);return d};P.abs=function(a){return 0>a?-a:a};P.min=function(a,b){return a<b?a:b};P.max=function(a,b){return a>b?a:b};P.clamp=function(a,b,c){return a<b?b:a>c?c:a};P.interpolate=function(a,b,c,d){null==c&&(c=100);null==b&&(b=0);if(null==d)d=V.Equations.linear;return Math.round(b+d(a)*(c-b))};P.interpolatef=function(a,b,c){null==b&&(b=1);null==a&&(a=0);if(null==
c)c=V.Equations.linear;var d=b-a;return function(b){return Math.round(a+c(b)*d)}};P.format=function(a,b,c,d){return P.formatf(b,c,d)(a)};P.formatf=function(a,b,c){return G.formatf(null,m.FormatParams.params(a,b,"I"),c)};P.canParse=function(a){return P._reparse.match(a)};P.parse=function(a){"+"==u.substr(a,0,1)&&(a=u.substr(a,1,null));return t.parseInt(a)};var Vd=function(){};i.Iterables=Vd;Vd.__name__=["Iterables"];Vd.isIterable=function(a){var b=j.isObject(a)&&null==z.getClass(a)?j.fields(a):z.getInstanceFields(z.getClass(a));
return!Wd.has(b,"iterator")?!1:j.isFunction(j.field(a,"iterator"))};var I=function(){};i.Iterators=I;I.__name__=["Iterators"];I.count=function(a){for(var b=0;a.hasNext();)a.next(),b++;return b};I.array=function(a){for(var b=[];a.hasNext();){var c=a.next();b.push(c)}return b};I.map=function(a,b){for(var c=[],d=0;a.hasNext();){var e=a.next();c.push(b(e,d++))}return c};I.each=function(a,b){for(var c=0;a.hasNext();){var d=a.next();b(d,c++)}};I.filter=function(a,b){for(var c=[];a.hasNext();){var d=a.next();
b(d)&&c.push(d)}return c};I.reduce=function(a,b,c){for(var d=0;a.hasNext();)var e=a.next(),c=b(c,e,d++);return c};I.firstf=function(a,b){for(;a.hasNext();){var c=a.next();if(b(c))return c}return null};I.isIterator=function(a){var b=j.isObject(a)&&null==z.getClass(a)?j.fields(a):z.getInstanceFields(z.getClass(a));return!Wd.has(b,"next")||!Wd.has(b,"hasNext")?!1:j.isFunction(j.field(a,"next"))&&j.isFunction(j.field(a,"hasNext"))};var Wd=function(){};i.Lambda=Wd;Wd.__name__=["Lambda"];Wd.has=function(a,
b,c){if(null==c)for(c=Qa(a)();c.hasNext();){if(a=c.next(),a==b)return!0}else for(var d=Qa(a)();d.hasNext();)if(a=d.next(),c(a,b))return!0;return!1};var de=function(){};i.List=de;de.__name__=["List"];de.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},h:null,__class__:de};Ed=void 0;Ed=function(){};i["_Map.MapImpl"]=Ed;Ed.__name__=["_Map","MapImpl"];var ra=function(){};i.Objects=
ra;ra.__name__=["Objects"];ra.keys=function(a){return j.fields(a)};ra.entries=function(a){for(var b=[],c=0,d=j.fields(a);c<d.length;){var e=d[c];++c;b.push({key:e,value:j.field(a,e)})}return b};ra.copyTo=function(a,b){for(var c=0,d=j.fields(a);c<d.length;){var e=d[c];++c;var h=ca.clone(j.field(a,e)),o=j.field(b,e);j.isObject(h)&&null==z.getClass(h)&&j.isObject(o)&&null==z.getClass(o)?ra.copyTo(h,o):b[e]=h}return b};ra.clone=function(a){return ra.copyTo(a,{})};ra.compare=function(a,b){var c,d;if(0!=
(c=S.compare(d=j.fields(a),j.fields(b))))return c;for(var e=0;e<d.length;)if(c=d[e],++e,0!=(c=ca.compare(j.field(a,c),j.field(b,c))))return c;return 0};ra.format=function(a,b,c,d){return ra.formatf(b,c,d)(a)};ra.formatf=function(a,b,c){b=m.FormatParams.params(a,b,"R");a=b.shift();switch(a){case "O":return function(a){return t.string(a)};case "R":return function(a){for(var b=[],h=0,o=j.fields(a);h<o.length;){var f=o[h];++h;b.push(f+":"+ca.format(j.field(a,f),null,null,null,c))}return"{"+b.join(",")+
"}"};default:throw new H.Error("Unsupported number format: {0}",null,a,{fileName:"Objects.hx",lineNumber:242,className:"Objects",methodName:"formatf"});}};var j=function(){};i.Reflect=j;j.__name__=["Reflect"];j.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};j.field=function(a,b){var c=null;try{c=a[b]}catch(d){}return c};j.setField=function(a,b,c){a[b]=c};j.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&c.call(a,d)&&
b.push(d)}return b};j.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};j.compareMethods=function(a,b){return a==b?!0:!j.isFunction(a)||!j.isFunction(b)?!1:a.scope==b.scope&&a.method==b.method&&null!=a.method};j.isObject=function(a){if(null==a)return!1;var b=typeof a;return"string"==b||"object"==b&&!a.__enum__||"function"==b&&(a.__name__||a.__ename__)};j.deleteField=function(a,b){if(!j.hasField(a,b))return!1;delete a[b];return!0};j.makeVarArgs=function(a){return function(){var b=
Array.prototype.slice.call(arguments);return a(b)}};var t=function(){};i.Std=t;t.__name__=["Std"];t.string=function(a){return B.__string_rec(a,"")};t["int"]=function(a){return a|0};t.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==u.cca(a,1)||88==u.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};t.parseFloat=function(a){return parseFloat(a)};var Ab=function(){this.b=""};i.StringBuf=Ab;Ab.__name__=["StringBuf"];Ab.prototype={toString:function(){return this.b},addSub:function(a,b,c){this.b+=
null==c?u.substr(a,b,null):u.substr(a,b,c)},addChar:function(a){this.b+=String.fromCharCode(a)},add:function(a){this.b+=t.string(a)},b:null,__class__:Ab};var C=function(){};i.StringTools=C;C.__name__=["StringTools"];C.urlEncode=function(a){return encodeURIComponent(a)};C.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};C.startsWith=function(a,b){return a.length>=b.length&&u.substr(a,0,b.length)==b};C.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c&&u.substr(a,
d-c,c)==b};C.isSpace=function(a,b){var c=u.cca(a,b);return 9<=c&&13>=c||32==c};C.ltrim=function(a){for(var b=a.length,c=0;c<b&&C.isSpace(a,c);)c++;return 0<c?u.substr(a,c,b-c):a};C.rtrim=function(a){for(var b=a.length,c=0;c<b&&C.isSpace(a,b-c-1);)c++;return 0<c?u.substr(a,0,b-c):a};C.trim=function(a){return C.ltrim(C.rtrim(a))};C.rpad=function(a,b,c){for(var d=a.length,e=b.length;d<c;)c-d<e?(a+=u.substr(b,0,c-d),d=c):(a+=b,d+=e);return a};C.lpad=function(a,b,c){var d="",e=a.length;if(e>=c)return a;
for(var h=b.length;e<c;)c-e<h?(d+=u.substr(b,0,c-e),e=c):(d+=b,e+=h);return d+a};C.replace=function(a,b,c){return a.split(b).join(c)};C.hex=function(a,b){var c="";do c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4;while(0<a);if(null!=b)for(;c.length<b;)c="0"+c;return c};C.stripWhite=function(a){for(var b=a.length,c=0,d=new Ab;c<b;)C.isSpace(a,c)||(d.b+=t.string(a.charAt(c))),c++;return d.b};var J=function(){};i.Strings=J;J.__name__=["Strings"];J.format=function(a,b,c,d){null==c&&(c="null");return null==
b||0==b.length?a:J.formatf(a,c,d)(b)};J.formatf=function(a,b,c){null==b&&(b="null");for(var d=[];;){if(!J._reFormat.match(a)){d.push(function(){return function(){return a}}());break}var e=t.parseInt(J._reFormat.matched(1)),h=J._reFormat.matched(2);""==h&&(h=null);for(var o=null,f=[],g=3;20>g;){o=g++;o=J._reFormat.matched(o);if(null==o||""==o)break;f.push(m.FormatParams.cleanQuotes(o))}g=[J._reFormat.matchedLeft()];d.push(function(a){return function(){return a[0]}}(g));h=[ca.formatf(h,f,b,c)];d.push(function(){return function(a,
b){return function(){return function(c){return a(b,c)}}()}}()(function(a){return function(b,c){return a[0](c[b])}}(h),e));a=J._reFormat.matchedRight()}return function(a){null==a&&(a=[]);return d.map(function(b){return b(a)}).join("")}};J.formatOne=function(a,b,c,d){return J.formatOnef(b,c,d)(a)};J.formatOnef=function(a,b){var b=m.FormatParams.params(a,b,"S"),c=b.shift();switch(c){case "S":return function(a){return a};case "T":return c=1>b.length?20:t.parseInt(b[0]),J.ellipsisf(c,2>b.length?"...":
b[1]);case "PR":var d=1>b.length?10:t.parseInt(b[0]),e=2>b.length?" ":b[1];return function(a){return C.rpad(a,e,d)};case "PL":var h=1>b.length?10:t.parseInt(b[0]),o=2>b.length?" ":b[1];return function(a){return C.lpad(a,o,h)};default:throw"Unsupported string format: "+c;}};J.rtrim=function(a,b){for(var c=a.length;0<c;){var d=u.substr(a,c-1,1);if(0>b.indexOf(d))break;c--}return u.substr(a,0,c)};J.ltrim=function(a,b){for(var c=0;c<a.length;){var d=u.substr(a,c,1);if(0>b.indexOf(d))break;c++}return u.substr(a,
c,null)};J.collapse=function(a){return J._reCollapse.replace(C.trim(a)," ")};J.ucfirst=function(a){return null==a?null:a.charAt(0).toUpperCase()+u.substr(a,1,null)};J.lcfirst=function(a){return null==a?null:a.charAt(0).toLowerCase()+u.substr(a,1,null)};J.empty=function(a){return null==a||""==a};J.ucwords=function(a){return J.__ucwordsPattern.customReplace(null==a?null:a.charAt(0).toUpperCase()+u.substr(a,1,null),J.__upperMatch)};J.__upperMatch=function(a){return a.matched(0).toUpperCase()};J.humanize=
function(a){return C.replace(J.underscore(a),"_"," ")};J.underscore=function(a){a=(new M("::","g")).replace(a,"/");a=(new M("([A-Z]+)([A-Z][a-z])","g")).replace(a,"$1_$2");a=(new M("([a-z\\d])([A-Z])","g")).replace(a,"$1_$2");a=(new M("-","g")).replace(a,"_");return a.toLowerCase()};J.dasherize=function(a){return C.replace(a,"_","-")};J.interpolatef=function(a,b,c){var d=function(a,b,c){for(;J._reInterpolateNumber.match(a);)a=J._reInterpolateNumber.matchedLeft(),J.empty(a)||(b.push(a),c.push(null)),
b.push(null),c.push(t.parseFloat(J._reInterpolateNumber.matched(0))),a=J._reInterpolateNumber.matchedRight();J.empty(a)||(b.push(a),c.push(null))},e=function(a){var a=""+a,b=a.indexOf(".");return 0>b?0:a.length-b-1},h=[],o=[],f=[],g=[];d(a,h,o);d(b,f,g);for(var k=[],a=0,b=P.min(h.length,f.length);a<b&&!(h[a]!=f[a]);){if(null==h[a])if(o[a]==g[a])k.push(function(a){return function(){return a[0]}}([""+o[a]]));else{var d=[G.interpolatef(o[a],g[a],c)],x=[Math.pow(10,P.max(e(o[a]),e(g[a])))];k.push(function(a,
b){return function(c){return""+Math.round(b[0](c)*a[0])/a[0]}}(x,d))}else k.push(function(a){return function(){return a[0]}}([h[a]]));a++}for(var N="";a<f.length;)N=null!=f[a]?N+f[a]:N+g[a],a++;""!=N&&k.push(function(){return N});return function(a){return I.map(u.iter(k),function(b){return b(a)}).join("")}};J.ellipsis=function(a,b,c){null==c&&(c="...");null==b&&(b=20);return a.length>b?u.substr(a,0,P.max(c.length,b-c.length))+c:a};J.ellipsisf=function(a,b){null==b&&(b="...");null==a&&(a=20);return function(c){return c.length>
a?u.substr(c,0,P.max(b.length,a-b.length))+b:c}};J.compare=function(a,b){return a<b?-1:a>b?1:0};var ba={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(","),TNull:["TNull",0]};ba.TNull.toString=q;ba.TNull.__enum__=ba;ba.TInt=["TInt",1];ba.TInt.toString=q;ba.TInt.__enum__=ba;ba.TFloat=["TFloat",2];ba.TFloat.toString=q;ba.TFloat.__enum__=ba;ba.TBool=["TBool",3];ba.TBool.toString=q;ba.TBool.__enum__=ba;ba.TObject=["TObject",4];ba.TObject.toString=
q;ba.TObject.__enum__=ba;ba.TFunction=["TFunction",5];ba.TFunction.toString=q;ba.TFunction.__enum__=ba;ba.TClass=function(a){a=["TClass",6,a];a.__enum__=ba;a.toString=q;return a};ba.TEnum=function(a){a=["TEnum",7,a];a.__enum__=ba;a.toString=q;return a};ba.TUnknown=["TUnknown",8];ba.TUnknown.toString=q;ba.TUnknown.__enum__=ba;var z=function(){};i.Type=z;z.__name__=["Type"];z.getClass=function(a){return null==a?null:a.__class__};z.getEnum=function(a){return null==a?null:a.__enum__};z.getClassName=function(a){return a.__name__.join(".")};
z.getEnumName=function(a){return a.__ename__.join(".")};z.resolveClass=function(a){a=i[a];return null==a||!a.__name__?null:a};z.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],
b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};z.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};z.createEnum=function(a,b,c){var d=j.field(a,b);if(null==d)throw"No such constructor "+b;if(j.isFunction(d)){if(null==c)throw"Constructor "+b+" need parameters";return d.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return d};z.getInstanceFields=function(a){var b=[],c;for(c in a.prototype)b.push(c);u.remove(b,
"__class__");u.remove(b,"__properties__");return b};z["typeof"]=function(a){switch(typeof a){case "boolean":return ba.TBool;case "string":return ba.TClass(String);case "number":return Math.ceil(a)==a%2147483648?ba.TInt:ba.TFloat;case "object":if(null==a)return ba.TNull;var b=a.__enum__;if(null!=b)return ba.TEnum(b);a=a.__class__;return null!=a?ba.TClass(a):ba.TObject;case "function":return a.__name__||a.__ename__?ba.TObject:ba.TFunction;case "undefined":return ba.TNull;default:return ba.TUnknown}};
z.enumEq=function(a,b){if(a==b)return!0;try{if(a[0]!=b[0])return!1;for(var c=2,d=a.length;c<d;){var e=c++;if(!z.enumEq(a[e],b[e]))return!1}var h=a.__enum__;if(h!=b.__enum__||null==h)return!1}catch(o){return!1}return!0};z.enumConstructor=function(a){return a[0]};z.enumParameters=function(a){return a.slice(2)};z.enumIndex=function(a){return a[1]};var hb=function(){};i.Types=hb;hb.__name__=["Types"];hb.typeName=function(a){var b,a=z["typeof"](a);switch(a[1]){case 0:b="null";break;case 1:b="Int";break;
case 2:b="Float";break;case 3:b="Bool";break;case 5:b="function";break;case 6:b=z.getClassName(a[2]);break;case 7:b=z.getEnumName(a[2]);break;case 4:b="Object";break;case 8:b="Unknown"}return b};hb.isAnonymous=function(a){return j.isObject(a)&&null==z.getClass(a)};hb.as=function(a,b){return B.__instanceof(a,b)?a:null};hb.isPrimitive=function(a){var b,a=z["typeof"](a);switch(a[1]){case 0:case 1:case 2:case 3:b=!0;break;case 5:case 7:case 4:case 8:b=!1;break;case 6:b="String"==z.getClassName(a[2])}return b};
qa=void 0;ya=void 0;Bc=void 0;ya={IBlockCipher:function(){}};i["chx.crypt.IBlockCipher"]=ya.IBlockCipher;ya.IBlockCipher.__name__=["chx","crypt","IBlockCipher"];ya.IPad=function(){};i["chx.crypt.IPad"]=ya.IPad;ya.IPad.__name__=["chx","crypt","IPad"];ya.IPad.prototype={unpad:null,__class__:ya.IPad};ya.PadPkcs1Type1=function(a){this.blockSize=a;this.setPadCount(8);this.typeByte=1;this.set_padByte(255)};i["chx.crypt.PadPkcs1Type1"]=ya.PadPkcs1Type1;ya.PadPkcs1Type1.__name__=["chx","crypt","PadPkcs1Type1"];
ya.PadPkcs1Type1.__interfaces__=[ya.IPad];ya.PadPkcs1Type1.prototype={set_padByte:function(a){this.padByte=a&255;return a},setPadCount:function(a){if(a+3>=this.blockSize)throw"Internal padding size exceeds crypt block size";this.padCount=a;this.textSize=this.blockSize-3-this.padCount;return a},unpad:function(a){for(var b=0,c=new ld;b<a.length;){for(;b<a.length&&0==a.b[b];)++b;if(0>a.length-b-3-this.padCount)throw"Unexpected short message";if(a.b[b]!=this.typeByte)throw"Expected marker "+this.typeByte+
" at position "+b+" ["+jc.hexDump(a)+"]";if(++b>=a.length)break;for(;b<a.length&&0!=a.b[b];)++b;b++;for(var d=0;b<a.length&&d++<this.textSize;)c.b.push(a.b[b++])}return c.getBytes()},typeByte:null,padCount:null,padByte:null,textSize:null,blockSize:null,__class__:ya.PadPkcs1Type1,__properties__:{set_padByte:"set_padByte"}};ya.RSAEncrypt=function(a,b){this.init();null!=a&&this.setPublic(a,b)};i["chx.crypt.RSAEncrypt"]=ya.RSAEncrypt;ya.RSAEncrypt.__name__=["chx","crypt","RSAEncrypt"];ya.RSAEncrypt.__interfaces__=
[ya.IBlockCipher];ya.RSAEncrypt.prototype={get_blockSize:function(){return null==this.n?0:this.n.bitLength()+7>>3},doPublic:function(a){return a.modPowInt(this.e,this.n)},doBufferDecrypt:function(a,b,c){for(var d=this.get_blockSize(),e=d-11,h=0,o=new ld;h<a.length;){h+d>a.length&&(d=a.length-h);var f=w.ofBytes(a.sub(h,d),!0),f=b(f);if(null==f)return null;f=c.unpad(f.toBytesUnsigned());if(f.length>e)throw"block text length error";o.add(f);h+=d}return o.getBytes()},verify:function(a){return this.doBufferDecrypt(a,
v(this,this.doPublic),new ya.PadPkcs1Type1(this.get_blockSize()))},setPublic:function(a,b){this.init();if(null==a||0==a.length)throw new qa.NullPointerException("nHex not set: "+a);if(null==b||0==b.length)throw new qa.NullPointerException("eHex not set: "+b);var c=jc.cleanHexFormat(a);this.n=w.ofString(c,16);if(null==this.n)throw 2;c=t.parseInt("0x"+jc.cleanHexFormat(b));if(null==c||0==c)throw 3;this.e=c},init:function(){this.n=null;this.e=0},e:null,n:null,__class__:ya.RSAEncrypt};Bc={Base64:function(){}};
i["chx.formats.Base64"]=Bc.Base64;Bc.Base64.__name__=["chx","formats","Base64"];Bc.Base64.decode=function(a){a=C.stripWhite(a);a=C.replace(a,"=","");if(null==Bc.Base64.enc)Bc.Base64.enc=new Dd(zb.ofString("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"));var b;try{b=Bc.Base64.enc.decodeBytes(zb.ofString(a))}catch(c){b=null}return b};qa={Exception:function(a,b){this.message=a;this.cause=b}};i["chx.lang.Exception"]=qa.Exception;qa.Exception.__name__=["chx","lang","Exception"];qa.Exception.prototype=
{toString:function(){return z.getClassName(z.getClass(this))+"("+(null==this.message?"":this.message+")")},cause:null,message:null,__class__:qa.Exception};qa.NullPointerException=function(a,b){qa.Exception.call(this,a,b)};i["chx.lang.NullPointerException"]=qa.NullPointerException;qa.NullPointerException.__name__=["chx","lang","NullPointerException"];qa.NullPointerException.__super__=qa.Exception;qa.NullPointerException.prototype=A(qa.Exception.prototype,{__class__:qa.NullPointerException});qa.OutsideBoundsException=
function(a,b){qa.Exception.call(this,a,b)};i["chx.lang.OutsideBoundsException"]=qa.OutsideBoundsException;qa.OutsideBoundsException.__name__=["chx","lang","OutsideBoundsException"];qa.OutsideBoundsException.__super__=qa.Exception;qa.OutsideBoundsException.prototype=A(qa.Exception.prototype,{__class__:qa.OutsideBoundsException});var Ka,Bb,Wb,Gd,ib,Hd,kc,Id,ia,Jd,lc,Kd,Xb,Cc,Ld,Md,sa,za,na,Xa,la,ma,O,Nb,mc,Nd,Yb,Od,Dc,Ob,ee,nc,Xd,jb,Pd,oc,md,Yd,nd,Ec,oa,Ca;Ka=function(a){this.selection=a};i["dhx.Access"]=
Ka;Ka.__name__=["dhx","Access"];Ka.prototype={selection:null,__class__:Ka};Bb=function(a,b){Ka.call(this,b);this.name=a;this.qname=Wb.qualify(a)};i["dhx.AccessAttribute"]=Bb;Bb.__name__=["dhx","AccessAttribute"];Bb.__super__=Ka;Bb.prototype=A(Ka.prototype,{"float":function(a){var b=""+a;if(null==this.qname){var c=this.name;this.selection.eachNode(function(a){a.setAttribute(c,b)})}else{var d=this.qname;this.selection.eachNode(function(a){a.setAttributeNS(d.space,d.local,b)})}return this.selection},
string:function(a){if(null==this.qname){var b=this.name;this.selection.eachNode(function(c){c.setAttribute(b,a)})}else{var c=this.qname;this.selection.eachNode(function(b){b.setAttributeNS(c.space,c.local,a)})}return this.selection},getFloat:function(){var a=this.get();return Bb.refloat.match(a)?t.parseFloat(Bb.refloat.matched(1)):Math.NaN},get:function(){var a=this.name,b=this.qname;return this.selection.firstNode(function(c){return null==b?c.getAttribute(a):c.getAttributeNS(b.space,b.local)})},
qname:null,name:null,__class__:Bb});Gd=function(a,b){Bb.call(this,a,b)};i["dhx.AccessDataAttribute"]=Gd;Gd.__name__=["dhx","AccessDataAttribute"];Gd.__super__=Bb;Gd.prototype=A(Bb.prototype,{floatf:function(a){if(null==this.qname){var b=this.name;this.selection.eachNode(function(c,e){var h=a(j.field(c,"__dhx_data__"),e);null==h?c.removeAttribute(b):c.setAttribute(b,""+h)})}else{var c=this.qname;this.selection.eachNode(function(b,e){var h=a(j.field(b,"__dhx_data__"),e);null==h?b.removeAttributeNS(c.space,
c.local):b.setAttributeNS(c.space,c.local,""+h)})}return this.selection},stringf:function(a){if(null==this.qname){var b=this.name;this.selection.eachNode(function(c,e){var h=a(j.field(c,"__dhx_data__"),e);null==h?c.removeAttribute(b):c.setAttribute(b,h)})}else{var c=this.qname;this.selection.eachNode(function(b,e){var h=a(j.field(b,"__dhx_data__"),e);null==h?b.removeAttributeNS(c.space,c.local):b.setAttributeNS(c.space,c.local,h)})}return this.selection},__class__:Gd});ib=function(a){Ka.call(this,
a)};i["dhx.AccessClassed"]=ib;ib.__name__=["dhx","AccessClassed"];ib.escapeERegChars=function(a){return ib._escapePattern.customReplace(a,function(a){return"\\"+a.matched(0)})};ib.__super__=Ka;ib.prototype=A(Ka.prototype,{_add:function(a,b){var c=b.classList;if(null!=c)c.add(a);else{var c=b.className,d=null!=c.baseVal,e=d?c.baseVal:c;if(!(new M("(^|\\s+)"+ib.escapeERegChars(a)+"(\\s+|$)","g")).match(e))e=J.collapse(e+" "+a),d?c.baseVal=e:b.className=e}},add:function(a){this.selection.eachNode(function(a,
c){return function(d,e){return a(c,d,e)}}(v(this,this._add),a));return this.selection},_remove:function(a,b){var c=b.classList;if(null!=c)c.remove(a);else{var c=b.className,d=null!=c.baseVal,e=d?c.baseVal:c,h=new M("(^|\\s+)"+ib.escapeERegChars(a)+"(\\s+|$)","g"),e=J.collapse(h.replace(e," "));d?c.baseVal=e:b.className=e}},remove:function(a){this.selection.eachNode(function(a,c){return function(d,e){return a(c,d,e)}}(v(this,this._remove),a));return this.selection},__class__:ib});Hd=function(a){ib.call(this,
a)};i["dhx.AccessDataClassed"]=Hd;Hd.__name__=["dhx","AccessDataClassed"];Hd.__super__=ib;Hd.prototype=A(ib.prototype,{__class__:Hd});kc=function(a){Ka.call(this,a)};i["dhx.AccessHtml"]=kc;kc.__name__=["dhx","AccessHtml"];kc.__super__=Ka;kc.prototype=A(Ka.prototype,{string:function(a){this.selection.eachNode(function(b){b.innerHTML=a});return this.selection},get:function(){return this.selection.firstNode(function(a){return a.innerHTML})},__class__:kc});Id=function(a){kc.call(this,a)};i["dhx.AccessDataHtml"]=
Id;Id.__name__=["dhx","AccessDataHtml"];Id.__super__=kc;Id.prototype=A(kc.prototype,{stringf:function(a){this.selection.eachNode(function(b,c){var d=a(j.field(b,"__dhx_data__"),c);null==d&&(d="");b.innerHTML=d});return this.selection},__class__:Id});ia=function(a,b){Ka.call(this,b);this.name=a};i["dhx.AccessStyle"]=ia;ia.__name__=["dhx","AccessStyle"];ia._getPropertyName=function(a){if("float"==a||"cssFloat"==a||"styleFloat"==a)return null==ea.document.body.cssFloat?"styleFloat":"cssFloat";0<=a.indexOf("-")&&
(a=J.ucwords(a));return a};ia.getComputedStyleValue=function(a,b){ia.getComputedStyleValue="getComputedStyle"in window?function(a,b){return ea.window.getComputedStyle(a,null).getPropertyValue(b)}:function(a,b){var e=a.currentStyle;null==j.field(e,b)&&(b=ia._getPropertyName(b));return null==j.field(e,b)?"":j.field(e,b)};return ia.getComputedStyleValue(a,b)};ia.setStyleProperty=function(a,b,c,d){ia.setStyleProperty="setProperty"in a.style?function(a,b,c,d){a.style.setProperty(b,""+c,null==d?"":d)}:
function(a,b,c,d){a=a.style;null==j.field(a,b)&&(b=ia._getPropertyName(b));null!=d&&""!=d?a.cssText+=";"+J.dasherize(b)+":"+c+"!important;":a[b]=c};ia.setStyleProperty(a,b,c,d)};ia.removeStyleProperty=function(a){ia.removeStyleProperty="removeProperty"in a.style?function(a,c){a.style.removeProperty(c)}:function(a,c){var d=a.style;null==j.field(d,c)&&(c=ia._getPropertyName(c));j.deleteField(d,c)}};ia.__super__=Ka;ia.prototype=A(Ka.prototype,{color:function(a,b){var c=this,d=a.toRgbString();this.selection.eachNode(function(a){ia.setStyleProperty(a,
c.name,d,b)});return this.selection},"float":function(a,b){var c=this;this.selection.eachNode(function(d){ia.setStyleProperty(d,c.name,a,b)});return this.selection},string:function(a,b){var c=this;this.selection.eachNode(function(d){ia.setStyleProperty(d,c.name,a,b)});return this.selection},getFloat:function(){var a=this.get();return ia.refloat.match(a)?t.parseFloat(ia.refloat.matched(1)):Math.NaN},get:function(){var a=this;return this.selection.firstNode(function(b){return ia.getComputedStyleValue(b,
a.name)})},name:null,__class__:ia});Jd=function(a,b){ia.call(this,a,b)};i["dhx.AccessDataStyle"]=Jd;Jd.__name__=["dhx","AccessDataStyle"];Jd.__super__=ia;Jd.prototype=A(ia.prototype,{stringf:function(a,b){var c=this;this.selection.eachNode(function(d,e){var h=a(j.field(d,"__dhx_data__"),e);null==h?ia.removeStyleProperty(d,c.name):ia.setStyleProperty(d,c.name,h,b)});return this.selection},__class__:Jd});lc=function(a){Ka.call(this,a)};i["dhx.AccessText"]=lc;lc.__name__=["dhx","AccessText"];lc.__super__=
Ka;lc.prototype=A(Ka.prototype,{clear:function(){this.selection.eachNode(function(a){a.textContent=""});return this.selection},string:function(a){this.clear();this.selection.eachNode(function(b){b.textContent=a});return this.selection},__class__:lc});Kd=function(a){lc.call(this,a)};i["dhx.AccessDataText"]=Kd;Kd.__name__=["dhx","AccessDataText"];Kd.__super__=lc;Kd.prototype=A(lc.prototype,{stringf:function(a){this.clear();this.selection.eachNode(function(b,c){var d=a(j.field(b,"__dhx_data__"),c);if(null!=
d)b.textContent=d});return this.selection},__class__:Kd});Xb=function(a,b){this.transition=a;this.tweens=b};i["dhx.AccessTween"]=Xb;Xb.__name__=["dhx","AccessTween"];Xb.prototype={transitionFloatTween:function(a){return function(b,c,d){return G.interpolatef(d,a)}},transitionStringTweenf:function(a){return function(b,c,d){return J.interpolatef(d,a(b,c))}},transitionStringTween:function(a){return function(b,c,d){return J.interpolatef(d,a)}},tweens:null,transition:null,__class__:Xb};Cc=function(a,b,
c){Xb.call(this,b,c);this.name=a;this.qname=Wb.qualify(a)};i["dhx.AccessTweenAttribute"]=Cc;Cc.__name__=["dhx","AccessTweenAttribute"];Cc.__super__=Xb;Cc.prototype=A(Xb.prototype,{floatTweenNodef:function(a){var b=this.name,c;this.tweens.set("attr."+b,null==this.qname?function(c,e){var h=a(c,e,t.parseFloat(c.getAttribute(b)));return function(a){c.setAttribute(b,""+h(a))}}:function(c,e){var h=a(c,e,t.parseFloat(c.getAttributeNS(b.space,b.local)));return function(a){c.setAttributeNS(b.space,b.local,
""+h(a))}});return this.transition},"float":function(a){return this.floatTweenNodef(this.transitionFloatTween(a))},stringTweenNodef:function(a){var b=this.name,c;this.tweens.set("attr."+b,null==this.qname?function(c,e){var h=a(c,e,c.getAttribute(b));return function(a){c.setAttribute(b,h(a))}}:function(c,e){var h=a(c,e,c.getAttributeNS(b.space,b.local));return function(a){c.setAttributeNS(b.space,b.local,h(a))}});return this.transition},string:function(a){return this.stringTweenNodef(this.transitionStringTween(a))},
qname:null,name:null,__class__:Cc});Ld=function(a,b,c){Cc.call(this,a,b,c)};i["dhx.AccessDataTweenAttribute"]=Ld;Ld.__name__=["dhx","AccessDataTweenAttribute"];Ld.__super__=Cc;Ld.prototype=A(Cc.prototype,{stringf:function(a){return this.stringTweenNodef(this.transitionStringTweenf(function(b,c){return a(j.field(b,"__dhx_data__"),c)}))},__class__:Ld});Md=function(a,b,c){Xb.call(this,b,c);this.name=a};i["dhx.AccessTweenStyle"]=Md;Md.__name__=["dhx","AccessTweenStyle"];Md.__super__=Xb;Md.prototype=A(Xb.prototype,
{floatTweenNodef:function(a,b){var c=this.name;this.tweens.set("style."+c,function(d,e){var h=a(d,e,t.parseFloat(ia.getComputedStyleValue(d,c)));return function(a){ia.setStyleProperty(d,c,""+h(a),b)}});return this.transition},"float":function(a,b){return this.floatTweenNodef(this.transitionFloatTween(a),b)},name:null,__class__:Md});sa={__ename__:["dhx","HostType"],__constructs__:"UnknownServer,NodeJs,IE,Firefox,Safari,Chrome,Opera,Unknown".split(","),UnknownServer:["UnknownServer",0]};sa.UnknownServer.toString=
q;sa.UnknownServer.__enum__=sa;sa.NodeJs=["NodeJs",1];sa.NodeJs.toString=q;sa.NodeJs.__enum__=sa;sa.IE=function(a){a=["IE",2,a];a.__enum__=sa;a.toString=q;return a};sa.Firefox=function(a){a=["Firefox",3,a];a.__enum__=sa;a.toString=q;return a};sa.Safari=function(a){a=["Safari",4,a];a.__enum__=sa;a.toString=q;return a};sa.Chrome=function(a){a=["Chrome",5,a];a.__enum__=sa;a.toString=q;return a};sa.Opera=function(a){a=["Opera",6,a];a.__enum__=sa;a.toString=q;return a};sa.Unknown=function(a){a=["Unknown",
7,a];a.__enum__=sa;a.toString=q;return a};za={__ename__:["dhx","EnvironmentType"],__constructs__:["Mobile","Desktop","Server","UnknownEnvironment"],Mobile:["Mobile",0]};za.Mobile.toString=q;za.Mobile.__enum__=za;za.Desktop=["Desktop",1];za.Desktop.toString=q;za.Desktop.__enum__=za;za.Server=["Server",2];za.Server.toString=q;za.Server.__enum__=za;za.UnknownEnvironment=["UnknownEnvironment",3];za.UnknownEnvironment.toString=q;za.UnknownEnvironment.__enum__=za;na={__ename__:["dhx","OSType"],__constructs__:"Windows,IOs,Android,Mac,Linux,UnknownOs".split(",")};
na.Windows=function(a){a=["Windows",0,a];a.__enum__=na;a.toString=q;return a};na.IOs=["IOs",1];na.IOs.toString=q;na.IOs.__enum__=na;na.Android=["Android",2];na.Android.toString=q;na.Android.__enum__=na;na.Mac=["Mac",3];na.Mac.toString=q;na.Mac.__enum__=na;na.Linux=["Linux",4];na.Linux.toString=q;na.Linux.__enum__=na;na.UnknownOs=["UnknownOs",5];na.UnknownOs.toString=q;na.UnknownOs.__enum__=na;Xa=function(){};i["dhx.ClientHost"]=Xa;Xa.__name__=["dhx","ClientHost"];Xa.isIE=function(){var a;switch(Xa.host[1]){case 2:a=
!0;break;default:a=!1}return a};Xa.userAgent=function(){return""+navigator.userAgent};Xa.hasNavigator=function(){return"undefined"!==typeof navigator};B=void 0;ea=void 0;kd=void 0;ea=function(){};i["js.Browser"]=ea;ea.__name__=["js","Browser"];ea.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw"Unable to create XMLHttpRequest object.";};la=function(a){this.nodes=
a};i["dhx.Group"]=la;la.__name__=["dhx","Group"];la.merge=function(a,b){if(b.length!=a.length)throw"Group length not equal";for(var c=0,d=b.length;c<d;){var e=c++,h=a[e],e=b[e];if(h.parentNode!=e.parentNode)throw"parentNodes not the same!";if(h.nodes.length!=e.nodes.length)throw"node length mismatch!";for(var o=0,f=e.nodes.length;o<f;){var g=o++;null==e.nodes[g]&&(e.nodes[g]=h.nodes[g])}}return b};la.prototype={each:function(a){for(var b=0,c=this.nodes.length;b<c;){var d=b++;if(null!=this.nodes[d])a(la.current=
this.nodes[d],d)}},nodes:null,parentNode:null,__class__:la};ma=function(a){this.groups=a};i["dhx.BaseSelection"]=ma;ma.__name__=["dhx","BaseSelection"];ma.listenerEnterLeave=function(a,b,c){var d=O.event.relatedTarget;null==d||ma.isChild(b,d)||a(b,c)};ma.isChild=function(a,b){if(b==a)return!1;for(;null!=b;)if(b=b.parentNode,b==a)return!0;return!1};ma.addEvent=function(a,b,c,d){if(null!=v(a,a.addEventListener))ma.addEvent=function(a,b,c,d){a.addEventListener(b,c,d)};else if(null!=a.attachEvent)ma.addEvent=
function(a,b,c){a.attachEvent(b,c)};ma.addEvent(a,b,c,d)};ma.removeEvent=function(a,b,c,d){if(null!=v(a,a.removeEventListener))ma.removeEvent=function(a,b,c){a.removeEventListener(b,j.field(a,"__dhx_on__"+c),!1)};else if(null!=a.attachEvent)ma.removeEvent=function(a,b,c){a.detachEvent(b,j.field(a,"__dhx_on__"+c))};ma.removeEvent(a,b,c,d)};ma.bindJoin=function(a,b,c,d,e,h){var o=b.nodes.length,f=c.length,g=[],k=[],x=[],N,i,l=new L.StringMap,m=[],p;i=c.length;for(var n=0;n<o;){var q=n++;N=b.nodes[q];
p=a(j.field(N,"__dhx_data__"),q);l.exists(p)?k[i++]=N:l.set(p,N);m.push(p)}for(n=0;n<f;)q=n++,N=l.get(p=a(i=c[q],q)),null!=N?(N.__dhx_data__=i,g[q]=N,x[q]=k[q]=null):(N={__dhx_data__:i},x[q]=N,g[q]=k[q]=null),l.remove(p);for(n=0;n<o;)q=n++,l.exists(m[q])&&(k[q]=b.nodes[q]);a=new la(x);a.parentNode=b.parentNode;e.push(a);e=new la(g);e.parentNode=b.parentNode;d.push(e);d=new la(k);d.parentNode=b.parentNode;h.push(d)};ma.bind=function(a,b,c,d,e){var h=a.nodes.length,o=a.nodes.length,f=[],g=[],k=[],x,
N;if(h>b.length)h=b.length;if(o<b.length)o=b.length;for(var i=0;i<h;){var j=i++;x=a.nodes[j];N=b[j];null!=x?(x.__dhx_data__=N,f[j]=x,k[j]=g[j]=null):(k[j]={__dhx_data__:N},f[j]=g[j]=null)}for(i=b.length;h<i;)j=h++,x={__dhx_data__:b[j]},k[j]=x,f[j]=g[j]=null;for(i=b.length;i<o;)j=i++,g[j]=a.nodes[j],k[j]=f[j]=null;b=new la(k);b.parentNode=a.parentNode;d.push(b);d=new la(f);d.parentNode=a.parentNode;c.push(d);c=new la(g);c.parentNode=a.parentNode;e.push(c)};ma.prototype={_selectAll:function(a){for(var b=
[],c,d=0,e=this.groups;d<e.length;){c=e[d];++d;for(var h=u.iter(c.nodes);h.hasNext();){var o=h.next();if(null!=o)b.push(c=new la(a(o))),c.parentNode=o}}return this.createSelection(b)},_select:function(a){for(var b=[],c,d,e=0,h=this.groups;e<h.length;){d=h[e];++e;b.push(c=new la([]));c.parentNode=d.parentNode;for(var o=u.iter(d.nodes);o.hasNext();){var f=o.next();if(null!=f){if(c.parentNode=f,c.nodes.push(d=a(f)),null!=d)d.__dhx_data__=j.field(f,"__dhx_data__")}else c.nodes.push(null)}}return this.createSelection(b)},
createSelection:function(){throw"abstract method";},onNode:function(a,b,c){null==c&&(c=!1);var d=a.indexOf("."),e=0>d?a:u.substr(a,0,d);if(("mouseenter"==e||"mouseleave"==e)&&!Xa.isIE())b=function(a,b){return function(c,d){return a(b,c,d)}}(ma.listenerEnterLeave,b),e="mouseenter"==e?"mouseover":"mouseout";return this.eachNode(function(d,o){var f=function(a){var c=O.event;O.event=a;try{b(d,o)}catch(e){}O.event=c};null!=j.field(d,"__dhx_on__"+a)&&(ma.removeEvent(d,e,a,c),j.deleteField(d,"__dhx_on__"+
a));null!=b&&(d["__dhx_on__"+a]=f,ma.addEvent(d,e,f,c))})},mapNode:function(a){for(var b=[],c=0,d=this.groups;c<d.length;){var e=d[c];++c;for(var h=-1,e=u.iter(e.nodes);e.hasNext();){var o=e.next();null!=o&&b.push(a(o,++h))}}return b},filterNode:function(a){for(var b=[],c,d=0,e=this.groups;d<e.length;){var h=e[d];++d;var o=new la(c=[]);o.parentNode=h.parentNode;b.push(o);o=-1;for(h=u.iter(h.nodes);h.hasNext();){var f=h.next();null!=f&&a(f,++o)&&c.push(f)}}return this.createSelection(b)},empty:function(){return null==
this.firstNode(function(a){return a})},node:function(){return this.firstNode(function(a){return a})},firstNode:function(a){for(var b=0,c=this.groups;b<c.length;){var d=c[b];++b;for(d=u.iter(d.nodes);d.hasNext();){var e=d.next();if(null!=e)return a(e)}}return null},insert:function(a,b,c){var d=Wb.qualify(a),e;return this._select(null==d?function(d){var e=ea.document.createElement(a);d.insertBefore(e,null!=b?b:O.select(c).node());return e}:function(a){var e=(void 0).Browser.document.createElementNS(d.space,
d.local);a.insertBefore(e,null!=b?b:O.select(c).node());return e})},eachNode:function(a){for(var b=0,c=this.groups;b<c.length;){var d=c[b];++b;d.each(a)}return this},remove:function(){return this.eachNode(function(a){var b=a.parentNode;null!=b&&b.removeChild(a)})},append:function(a){var b=Wb.qualify(a),c;return this._select(null==b?function(b){var c=ea.document.createElement(a);b.appendChild(c);return c}:function(a){var c=ea.document.createElementNS(b.space,b.local);a.appendChild(c);return c})},selectAll:function(a){return this._selectAll(function(b){return O.selectionEngine.selectAll(a,
b)})},select:function(a){return this._select(function(b){return O.selectionEngine.select(a,b)})},groups:null,parentNode:null,__class__:ma};Nb=function(a){ma.call(this,a)};i["dhx.UnboundSelection"]=Nb;Nb.__name__=["dhx","UnboundSelection"];Nb.__super__=ma;Nb.prototype=A(ma.prototype,{data:function(a,b){var c=[],d=[],e=[];if(null==b)for(var h=0,o=this.groups;h<o.length;){var f=o[h];++h;ma.bind(f,a,c,d,e)}else{h=0;for(o=this.groups;h<o.length;)f=o[h],++h,ma.bindJoin(b,f,a,c,d,e)}return new mc(c,d,e)},
transition:function(){return new Nd(this)},style:function(a){return new ia(a,this)},classed:function(){return new ib(this)},attr:function(a){return new Bb(a,this)},text:function(){return new lc(this)},html:function(){return new kc(this)},__class__:Nb});Yb=function(a){Nb.call(this,a)};i["dhx.Selection"]=Yb;Yb.__name__=["dhx","Selection"];Yb.create=function(a){return new Yb(a)};Yb.__super__=Nb;Yb.prototype=A(Nb.prototype,{createSelection:function(a){return new Yb(a)},__class__:Yb});Od=function(){};
i["dhx.ISelectorEngine"]=Od;Od.__name__=["dhx","ISelectorEngine"];Od.prototype={selectAll:null,select:null,__class__:Od};Dc=function(){};i["dhx.NativeSelectorEngine"]=Dc;Dc.__name__=["dhx","NativeSelectorEngine"];Dc.__interfaces__=[Od];Dc.supported=function(){return"undefined"!=typeof document.querySelector};Dc.prototype={selectAll:function(a,b,c){if(null!=b)a=b.querySelectorAll(a);else{if(null==c)c=ea.document;a=c.querySelectorAll(a)}for(var b=[],c=0,d=a.length;c<d;){var e=c++;b.push(a[e])}return b},
select:function(a,b,c){if(null!=b)return b.querySelector(a);if(null==c)c=ea.document;return c.querySelector(a)},__class__:Dc};Ob=function(){};i["dhx.SizzleEngine"]=Ob;Ob.__name__=["dhx","SizzleEngine"];Ob.__interfaces__=[Od];Ob.supported=function(){return null!=Ob.getSizzle()};Ob.getSizzle=function(){return"undefined"!=typeof Sizzle&&Sizzle||"undefined"!=typeof jQuery&&jQuery.find||"undefined"!=typeof $&&$.find};Ob.prototype={selectAll:function(a,b,c){return ee.uniqueSort(ee.select(a,b||c))},select:function(a,
b,c){return ee.select(a,b||c)[0]},__class__:Ob};O=function(){};i["dhx.Dom"]=O;O.__name__=["dhx","Dom"];O.select=function(a){return O.doc.select(a)};O.selectAll=function(a){return O.doc.selectAll(a)};O.selectNode=function(a){return Yb.create([new la([a])])};O.selectNodeData=function(a){return nc.create([new la([a])])};Wb=function(){};i["dhx.Namespace"]=Wb;Wb.__name__=["dhx","Namespace"];Wb.qualify=function(a){var b=a.indexOf(":");if(0>b)return null;var c=Wb.prefix.get(u.substr(a,0,b));if(null==c)throw"unable to find a namespace for "+
c;return new Xd(c,u.substr(a,b+1,null))};Xd=function(a,b){this.space=a;this.local=b};i["dhx.NSQualifier"]=Xd;Xd.__name__=["dhx","NSQualifier"];Xd.prototype={local:null,space:null,__class__:Xd};jb=function(a){ma.call(this,a)};i["dhx.BoundSelection"]=jb;jb.__name__=["dhx","BoundSelection"];jb.__super__=ma;jb.prototype=A(ma.prototype,{on:function(a,b,c){null==c&&(c=!1);return this.onNode(a,null==b?null:function(a,c){b(j.field(a,"__dhx_data__"),c)},c)},filter:function(a){return this.filterNode(function(b,
c){return a(j.field(b,"__dhx_data__"),c)})},each:function(a){return this.eachNode(function(b,c){a(j.field(b,"__dhx_data__"),c)})},dataf:function(a,b){if(null==b)for(var c=[],d=[],e=[],h=0,o=0,f=this.groups;o<f.length;){var g=f[o];++o;ma.bind(g,a(j.field(g.parentNode,"__dhx_data__"),h++),c,d,e)}else{c=[];d=[];e=[];o=h=0;for(f=this.groups;o<f.length;)g=f[o],++o,ma.bindJoin(b,g,a(j.field(g.parentNode,"__dhx_data__"),h++),c,d,e)}return new mc(c,d,e)},transition:function(){return new Pd(this)},style:function(a){return new Jd(a,
this)},classed:function(){return new Hd(this)},attr:function(a){return new Gd(a,this)},text:function(){return new Kd(this)},html:function(){return new Id(this)},__class__:jb});oc=function(a,b){jb.call(this,a);this._choice=b};i["dhx.UpdateSelection"]=oc;oc.__name__=["dhx","UpdateSelection"];oc.__super__=jb;oc.prototype=A(jb.prototype,{exit:function(){return this._choice.exit()},update:function(){return this},createSelection:function(a){return new oc(a,this._choice)},_choice:null,__class__:oc});mc=
function(a,b,c){this._update=a;this._enter=b;this._exit=c;oc.call(this,this._update,this)};i["dhx.DataChoice"]=mc;mc.__name__=["dhx","DataChoice"];mc.merge=function(a,b){la.merge(a,b._update)};mc.__super__=oc;mc.prototype=A(oc.prototype,{exit:function(){return new md(this._exit,this)},enter:function(){return new Yd(this._enter,this)},_exit:null,_enter:null,_update:null,__class__:mc});nc=function(a){jb.call(this,a)};i["dhx.ResumeSelection"]=nc;nc.__name__=["dhx","ResumeSelection"];nc.create=function(a){return new nc(a)};
nc.__super__=jb;nc.prototype=A(jb.prototype,{createSelection:function(a){return new nc(a)},__class__:nc});Yd=function(a,b){this.groups=a;this._choice=b};i["dhx.PreEnterSelection"]=Yd;Yd.__name__=["dhx","PreEnterSelection"];Yd.prototype={_select:function(a){for(var b=[],c,d,e=0,h=this.groups;e<h.length;){var o=h[e];++e;b.push(c=new la([]));c.parentNode=o.parentNode;for(var f=u.iter(o.nodes);f.hasNext();){var g=f.next();null!=g?(c.nodes.push(d=a(o.parentNode)),d.__dhx_data__=j.field(g,"__dhx_data__")):
c.nodes.push(null)}}mc.merge(b,this._choice);return this.createSelection(b)},createSelection:function(a){return new nd(a,this._choice)},append:function(a){var b=Wb.qualify(a),c;return this._select(null==b?function(b){var c=ea.document.createElement(a);b.appendChild(c);return c}:function(a){var c=ea.document.createElementNS(b.space,b.local);a.appendChild(c);return c})},_choice:null,groups:null,__class__:Yd};nd=function(a,b){jb.call(this,a);this._choice=b};i["dhx.EnterSelection"]=nd;nd.__name__=["dhx",
"EnterSelection"];nd.__super__=jb;nd.prototype=A(jb.prototype,{update:function(){return this._choice.update()},createSelection:function(a){return new nd(a,this._choice)},_choice:null,__class__:nd});md=function(a,b){Nb.call(this,a);this._choice=b};i["dhx.ExitSelection"]=md;md.__name__=["dhx","ExitSelection"];md.__super__=Nb;md.prototype=A(Nb.prototype,{update:function(){return this._choice.update()},createSelection:function(a){return new md(a,this._choice)},_choice:null,__class__:md});Ec=function(){};
i["dhx.Svg"]=Ec;Ec.__name__=["dhx","Svg"];Ec.mouse=function(a){var b=(null!=a.ownerSVGElement?a.ownerSVGElement:a).createSVGPoint();if(Ec._usepage&&(ea.window.scrollX||ea.window.scrollY)){var c=O.selectNode(ea.document.body).append("svg:svg").style("position").string("absolute").style("top")["float"](0).style("left")["float"](0),d=c.node().getScreenCTM();Ec._usepage=!(d.f||d.e);c.remove()}Ec._usepage?(b.x=O.event.pageX,b.y=O.event.pageY):(b.x=O.event.clientX,b.y=O.event.clientY);b=b.matrixTransform(a.getScreenCTM().inverse());
return[b.x,b.y]};oa=function(){};i["dhx.Timer"]=oa;oa.__name__=["dhx","Timer"];oa.timer=function(a,b){null==b&&(b=0);var c=(new Date).getTime(),d=!1,e=oa.queue;if(Math.isFinite(b)){for(;null!=e;){if(j.compareMethods(a,e.f)){e.then=c;e.delay=b;d=!0;break}e=e.next}if(!d)oa.queue={f:a,then:c,delay:b,next:oa.queue,flush:!1};if(0==oa.interval)oa.timeout=clearTimeout(oa.timeout),oa.interval=1,window.requestAnimationFrame(oa._step)}};oa.step=function(){for(var a,b=(new Date).getTime(),c=oa.queue;null!=c;){a=
b-c.then;if(a>c.delay)c.flush=c.f(a);c=c.next}a=oa._flush()-b;if(24<a){if(Math.isFinite(a))clearTimeout(oa.timeout),oa.timeout=setTimeout(oa._step,a);oa.interval=0}else oa.interval=1,window.requestAnimationFrame(oa._step)};oa._flush=function(){var d;for(var a=null,b=oa.queue,c=Math.POSITIVE_INFINITY;null!=b;)b.flush?(d=null!=a?a.next=b.next:oa.queue=b.next,b=d):(c=Math.min(c,b.then+b.delay),b=(a=b).next);return c};Ca=function(a){this.selection=a;var b=this._transitionId=0<Ca._inheritid?Ca._inheritid:
++Ca._id;this._tweens=new L.StringMap;this._interpolators=[];this._remove=!1;this._stage=[];this._delay=[];this._duration=[];this._ease=Ca.DEFAULT_EASE;this._step=v(this,this.step);a.eachNode(function(a){j.hasField(a,"__dhx_transition__")?j.field(a,"__dhx_transition__").owner=b:a.__dhx_transition__={owner:b}});this.delay(null,0);this.duration(null,250)};i["dhx.BaseTransition"]=Ca;Ca.__name__=["dhx","BaseTransition"];Ca.CUBIC_EQUATION=function(a){return Math.pow(a,3)};Ca.DEFAULT_EASE=function(a){return 0.5*
(0.5>a?Ca.CUBIC_EQUATION(2*a):2-Ca.CUBIC_EQUATION(2-2*a))};Ca.prototype={_this:function(){return this},remove:function(a){null==a&&(a=!0);this._remove=a;return this._this()},ease:function(a){this._ease=a;return this._this()},duration:function(a,b){null==b&&(b=0);var c=-1,d=this;null!=a?(this._durationMax=0,this.selection.eachNode(function(b,h){var o=d._duration[++c]=a(b,h);if(o>d._durationMax)d._durationMax=o})):(this._durationMax=b,this.selection.eachNode(function(){d._duration[++c]=d._durationMax}));
return this._this()},delay:function(a,b){null==b&&(b=0);var c=Math.POSITIVE_INFINITY,d=-1,e=this;null!=a?this.selection.eachNode(function(b,o){var f=e._delay[++d]=a(b,o);f<c&&(c=f)}):(c=b,this.selection.eachNode(function(){e._delay[++d]=c}));oa.timer(this._step,c);return this._this()},endNode:function(a){this._end=a;return this._this()},step:function(a){var b=!0,c=-1,d=this;this.selection.eachNode(function(e,h){if(2!=d._stage[++c]){var o=(a-d._delay[c])/d._duration[c],f=j.field(e,"__dhx_transition__"),
g,k=d._interpolators[c];if(1>o){if(b=!1,0>o)return}else o=1;if(null!=d._stage[c]){if(null==f||f.active!=d._transitionId){d._stage[c]=2;return}}else{if(null==f||f.active>d._transitionId){d._stage[c]=2;return}d._stage[c]=1;null!=d._start&&d._start(e,h);k=d._interpolators[c]=new L.StringMap;f.active=d._transitionId;for(g=d._tweens.keys();g.hasNext();){var x=g.next(),i=d._tweens.get(x);k.set(x,i(e,h))}}g=d._ease(o);for(i=d._tweens.keys();i.hasNext();)x=i.next(),k.get(x)(g);if(1==o&&(d._stage[c]=2,f.active==
d._transitionId))o=f.owner,o==d._transitionId&&(j.deleteField(e,"__dhx_transition__"),d._remove&&e.parentNode.removeChild(e)),Ca._inheritid=d._transitionId,null!=d._end&&d._end(e,h),Ca._inheritid=0,f.owner=o}});return b},selection:null,_end:null,_start:null,_step:null,_ease:null,_durationMax:null,_duration:null,_delay:null,_stage:null,_remove:null,_interpolators:null,_tweens:null,_transitionId:null,__class__:Ca};Nd=function(a){Ca.call(this,a)};i["dhx.UnboundTransition"]=Nd;Nd.__name__=["dhx","UnboundTransition"];
Nd.__super__=Ca;Nd.prototype=A(Ca.prototype,{style:function(a){return new Md(a,this,this._tweens)},__class__:Nd});Pd=function(a){Ca.call(this,a)};i["dhx.BoundTransition"]=Pd;Pd.__name__=["dhx","BoundTransition"];Pd.__super__=Ca;Pd.prototype=A(Ca.prototype,{attr:function(a){return new Ld(a,this,this._tweens)},__class__:Pd});var Ra,Za,Zd,$d;db={__ename__:["erazor","_Parser","ParseContext"],__constructs__:["literal","code"]};eb=void 0;db.literal=["literal",0];db.literal.toString=q;db.literal.__enum__=
db;db.code=["code",1];db.code.toString=q;db.code.__enum__=db;eb={__ename__:["erazor","_Parser","ParseResult"],__constructs__:["keepGoing","doneIncludeCurrent","doneSkipCurrent"],keepGoing:["keepGoing",0]};eb.keepGoing.toString=q;eb.keepGoing.__enum__=eb;eb.doneIncludeCurrent=["doneIncludeCurrent",1];eb.doneIncludeCurrent.toString=q;eb.doneIncludeCurrent.__enum__=eb;eb.doneSkipCurrent=["doneSkipCurrent",2];eb.doneSkipCurrent.toString=q;eb.doneSkipCurrent.__enum__=eb;Ra=function(){this.condMatch=new M("^@(?:if|for|while)\\b",
"");this.inConditionalMatch=new M("^(?:\\}[\\s\r\n]*else if\\b|\\}[\\s\r\n]*else[\\s\r\n]*{)","");this.variableChar=new M("^[_\\w\\.]$","")};i["erazor.Parser"]=Ra;Ra.__name__=["erazor","Parser"];Ra.prototype={parse:function(a){this.pos=0;var b=[];this.bracketStack=[];for(this.conditionalStack=0;""!=a;){this.context=this.parseContext(a);var c=this.parseBlock(a);null!=c.block&&b.push(c.block);a=u.substr(a,c.length,null);this.pos+=c.length}if(0!=this.bracketStack.length)throw new Vb(Ra.bracketMismatch,
this.pos);return b},escapeLiteral:function(a){return C.replace(a,Ra.at+Ra.at,Ra.at)},parseLiteral:function(a){for(var b=a.length,c=-1;++c<b;){var d=a.charAt(c);if(d==Ra.at){if(b>c+1&&a.charAt(c+1)!=Ra.at)return{block:Za.literal(this.escapeLiteral(u.substr(a,0,c))),length:c,start:this.pos};++c}else if("}"==d)if(0<this.bracketStack.length)switch(this.bracketStack[this.bracketStack.length-1][1]){case 1:return{block:Za.literal(this.escapeLiteral(u.substr(a,0,c))),length:c,start:this.pos};case 0:this.bracketStack.pop()}else throw new Vb(Ra.bracketMismatch,
this.pos);else"{"==d&&this.bracketStack.push(db.literal)}return{block:Za.literal(this.escapeLiteral(a)),length:b,start:this.pos}},parseString:function(a,b,c){for(var d=!1,e=!1,h=-1;++h<a.length;){var o=a.charAt(h);if(!e&&!d){switch(b(o)[1]){case 1:return u.substr(a,0,h+1);case 2:return u.substr(a,0,h)}'"'==o?e=!0:"'"==o&&(d=!0)}else e&&'"'==o&&"\\"!=a.charAt(h-1)?e=!1:d&&"'"==o&&"\\"!=a.charAt(h-1)&&(d=!1)}if(c)throw new Vb("Failed to find a closing delimiter: ",this.pos,u.substr(a,0,100));return a},
parseCodeBlock:function(a){if(0<this.bracketStack.length&&"}"==this.peek(a)){if(this.inConditionalMatch.match(a))return a=this.parseScriptPart(a,"","{"),{block:Za.codeBlock(a),length:a.length,start:this.pos};var b;switch(this.bracketStack.pop()[1]){case 1:b=0>--this.conditionalStack;break;default:b=!0}if(b)throw new Vb(Ra.bracketMismatch,this.pos);return{block:Za.codeBlock("}"),length:1,start:this.pos}}if(this.condMatch.match(a))return this.bracketStack.push(db.code),++this.conditionalStack,this.parseConditional(a);
if("@"==this.peek(a)&&this.isIdentifier(this.peek(a,1)))return this.parseVariable(a);b=this.peek(a,1);var a=this.parseScriptPart(u.substr(a,1,null),b,"{"==b?"}":")"),c=C.trim(u.substr(a,1,a.length-2));return"{"==b?{block:Za.codeBlock(c),length:a.length+1,start:this.pos}:{block:Za.printBlock(c),length:a.length+1,start:this.pos}},parseVariable:function(a){var b="",c=null,c=null,a=u.substr(a,1,null);do{c=this.acceptIdentifier(a);a=u.substr(a,c.length,null);b+=c;for(c=this.peek(a);"("==c||"["==c;)c=this.acceptBracket(a,
c),a=u.substr(a,c.length,null),b+=c,c=this.peek(a);if("."==c&&this.isIdentifier(this.peek(a,1)))a=u.substr(a,1,null),b+=".";else break}while(null!=c);return{block:Za.printBlock(b),length:b.length+1,start:this.pos}},peek:function(a,b){null==b&&(b=0);return a.length>b?a.charAt(b):null},parseConditional:function(a){a=this.parseScriptPart(a,"","{");return{block:Za.codeBlock(u.substr(a,1,null)),length:a.length,start:this.pos}},parseBlock:function(a){return this.context==db.code?this.parseCodeBlock(a):
this.parseLiteral(a)},acceptBracket:function(a,b){return this.parseScriptPart(a,b,"("==b?")":"]")},acceptIdentifier:function(a){var b=!0,c=this;return this.accept(a,function(a){a=c.isIdentifier(a,b);b=!1;return a},!1)},isIdentifier:function(a,b){null==b&&(b=!0);return b?"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"==a:"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"0"<=a&&"9">=a||"_"==a},accept:function(a,b,c){return this.parseString(a,function(a){return b(a)?eb.keepGoing:eb.doneSkipCurrent},c)},parseContext:function(a){if(this.peek(a)==
Ra.at&&this.peek(a,1)!=Ra.at)return db.code;if(0<this.conditionalStack&&"}"==this.peek(a))switch(this.bracketStack[this.bracketStack.length-1][1]){case 1:return db.code}return db.literal},parseScriptPart:function(a,b,c){for(var d=!1,e=!1,h=""==b?1:0,o=-1;++o<a.length;){var f=a.charAt(o);if(!e&&!d)if(f==b)++h;else if(f==c){--h;if(0==h)return u.substr(a,0,o+1);if(0>h)throw new Vb("Unbalanced braces for block: ",this.pos,u.substr(a,0,100));}else'"'==f?e=!0:"'"==f&&(d=!0);else e&&'"'==f&&"\\"!=a.charAt(o-
1)?e=!1:d&&"'"==f&&"\\"!=a.charAt(o-1)&&(d=!1)}throw new Vb("Failed to find a closing delimiter for the script block: ",this.pos,u.substr(a,0,100));},pos:null,conditionalStack:null,bracketStack:null,context:null,variableChar:null,inConditionalMatch:null,condMatch:null,__class__:Ra};Zd=function(a){this.context=a};i["erazor.ScriptBuilder"]=Zd;Zd.__name__=["erazor","ScriptBuilder"];Zd.prototype={blockToString:function(a){switch(a[1]){case 0:return this.context+".add('"+C.replace(a[2],"'","\\'")+"');\n";
case 1:return a[2]+"\n";case 2:return this.context+".add("+a[2]+");\n"}},build:function(a){for(var b=new Ab,c=0;c<a.length;){var d=a[c];++c;b.b+=t.string(this.blockToString(d))}return b.b},context:null,__class__:Zd};Za={__ename__:["erazor","TBlock"],__constructs__:["literal","codeBlock","printBlock"]};Za.literal=function(a){a=["literal",0,a];a.__enum__=Za;a.toString=q;return a};Za.codeBlock=function(a){a=["codeBlock",1,a];a.__enum__=Za;a.toString=q;return a};Za.printBlock=function(a){a=["printBlock",
2,a];a.__enum__=Za;a.toString=q;return a};$d=function(a){this.template=a};i["erazor.Template"]=$d;$d.__name__=["erazor","Template"];$d.prototype={setInterpreterVars:function(a,b){if(B.__instanceof(b,L.StringMap))for(var c=b.keys();c.hasNext();){var d=c.next(),e=b.get(d);a.variables.set(d,e)}else for(var c=0,h=j.fields(b);c<h.length;)d=h[c],++c,e=j.field(b,d),a.variables.set(d,e)},execute:function(a){var b=new Ab,c=(new Ra).parse(this.template),c=(new Zd("__b__")).build(c),c=(new jd).parseString(c),
d=new Cd;this.variables=new L.StringMap;var e=[];this.setInterpreterVars(d,a);d.variables.set("__b__",b);d.variables.set("__string_buf__",function(a){e.push(a);return new Ab});d.variables.set("__restore_buf__",function(){return e.pop()});d.execute(c);return b.b},variables:null,template:null,__class__:$d};Vb=function(a,b,c){this.msg=a;this.pos=b;this.excerpt=c};i["erazor.error.ParserError"]=Vb;Vb.__name__=["erazor","error","ParserError"];Vb.prototype={toString:function(){var a=this.excerpt;if(null!=
a){var b=a.indexOf("\n");-1!=b&&(a=u.substr(a,0,b))}return this.msg+" @ "+this.pos+(null!=a?' ( "'+a+'" )':"")},excerpt:null,pos:null,msg:null,__class__:Vb};jd=void 0;ic=void 0;da=void 0;Oa=void 0;Va=void 0;E=void 0;tb=void 0;y=void 0;ic=function(){this.locals=new L.StringMap;this.declared=[];this.variables=new L.StringMap;this.variables.set("null",null);this.variables.set("true",!0);this.variables.set("false",!1);this.variables.set("trace",function(a){Sd.trace(t.string(a),{fileName:"hscript",lineNumber:0})});
this.initOps()};i["hscript.Interp"]=ic;ic.__name__=["hscript","Interp"];ic.prototype={cnew:function(a,b){return z.createInstance(z.resolveClass(a),b)},call:function(a,b,c){return b.apply(a,c)},set:function(a,b,c){if(null==a)throw da.EInvalidAccess(b);return a[b]=c},get:function(a,b){if(null==a)throw da.EInvalidAccess(b);return j.field(a,b)},forLoop:function(a,b,c){var d=this.declared.length;this.declared.push({n:a,old:this.locals.get(a)});b=this.makeIterator(this.expr(b));try{for(;b.hasNext();){this.locals.set(a,
{r:b.next()});try{this.expr(c)}catch(e){if(B.__instanceof(e,Oa.Stop))switch(e[1]){case 0:throw"__break__";case 2:throw e;}else throw e;}}}catch(h){if("__break__"!=h)throw h;}this.restore(d)},makeIterator:function(a){try{a=Qa(a)()}catch(b){}if(null==a.hasNext||null==a.next)throw da.EInvalidIterator(a);return a},whileLoop:function(a,b){var c=this.declared.length;try{for(;!0==this.expr(a);)try{this.expr(b)}catch(d){if(B.__instanceof(d,Oa.Stop))switch(d[1]){case 0:throw"__break__";case 2:throw d;}else throw d;
}}catch(e){if("__break__"!=e)throw e;}this.restore(c)},expr:function(a){switch(a[1]){case 0:a=a[2];switch(a[1]){case 0:return a[2];case 1:return a[2];case 2:return a[2]}break;case 1:var a=a[2],b=this.locals.get(a);if(null!=b)return b.r;b=this.variables.get(a);if(null==b&&!this.variables.exists(a))throw da.EUnknownVariable(a);return b;case 2:b=a[4];a=a[2];this.declared.push({n:a,old:this.locals.get(a)});this.locals.set(a,{r:null==b?null:this.expr(b)});break;case 3:return this.expr(a[2]);case 4:for(var c=
a[2],d=this.declared.length,b=null,a=0;a<c.length;)b=c[a],++a,b=this.expr(b);this.restore(d);return b;case 5:return d=a[3],a=a[2],this.get(this.expr(a),d);case 6:b=a[4];d=a[3];a=a[2];c=this.binops.get(a);if(null==c)throw da.EInvalidOp(a);return c(d,b);case 7:switch(b=a[4],d=a[3],a=a[2],a){case "!":return!0!=this.expr(b);case "-":return-this.expr(b);case "++":return this.increment(b,d,1);case "--":return this.increment(b,d,-1);case "~":return~this.expr(b);default:throw da.EInvalidOp(a);}case 8:d=a[3];
c=a[2];b=[];for(a=0;a<d.length;){var e=d[a];++a;b.push(this.expr(e))}a=c;switch(a[1]){case 5:d=a[3];a=a[2];a=this.expr(a);if(null==a)throw da.EInvalidAccess(d);return this.call(a,j.field(a,d),b);default:return this.call(null,this.expr(c),b)}case 9:return b=a[4],d=a[3],!0==this.expr(a[2])?this.expr(d):null==b?null:this.expr(b);case 10:this.whileLoop(a[2],a[3]);break;case 11:this.forLoop(a[2],a[3],a[4]);break;case 12:throw Oa.Stop.SBreak;case 13:throw Oa.Stop.SContinue;case 15:throw a=a[2],Oa.Stop.SReturn(null==
a?null:this.expr(a));case 14:var b=a[4],h=a[3],o=a[2],f=this.duplicate(this.locals),g=this,a=j.makeVarArgs(function(a){if(a.length!=o.length)throw"Invalid number of parameters";var b=g.locals;g.locals=g.duplicate(f);for(var c=0,d=o.length;c<d;){var e=c++;g.locals.set(o[e].name,{r:a[e]})}a=null;try{a=g.exprReturn(h)}catch(k){throw g.locals=b,k;}g.locals=b;return a});null!=b&&this.variables.set(b,a);return a;case 17:c=a[2];d=[];for(a=0;a<c.length;)b=c[a],++a,d.push(this.expr(b));return d;case 16:return b=
a[3],this.expr(a[2])[this.expr(b)];case 18:c=a[3];e=a[2];d=[];for(a=0;a<c.length;)b=c[a],++a,d.push(this.expr(b));return this.cnew(e,d);case 19:throw this.expr(a[2]);case 20:c=a[5];e=a[3];a=a[2];d=this.declared.length;try{return b=this.expr(a),this.restore(d),b}catch(k){if(B.__instanceof(k,Oa.Stop))throw k;a=k;this.restore(d);this.declared.push({n:e,old:this.locals.get(e)});this.locals.set(e,{r:a});b=this.expr(c);this.restore(d);return b}case 21:d=a[2];c={};for(a=0;a<d.length;)b=d[a],++a,this.set(c,
b.name,this.expr(b.e));return c;case 22:return b=a[4],d=a[3],!0==this.expr(a[2])?this.expr(d):this.expr(b)}return null},restore:function(a){for(;this.declared.length>a;){var b=this.declared.pop();this.locals.set(b.n,b.old)}},duplicate:function(a){for(var b=new L.StringMap,c=a.keys();c.hasNext();){var d=c.next();b.set(d,a.get(d))}return b},exprReturn:function(a){try{return this.expr(a)}catch(b){if(B.__instanceof(b,Oa.Stop))switch(b[1]){case 0:throw"Invalid break";case 1:throw"Invalid continue";case 2:return b[2]}else throw b;
}return null},execute:function(a){this.locals=new L.StringMap;return this.exprReturn(a)},increment:function(a,b,c){switch(a[1]){case 1:var d=a[2],e=this.locals.get(d),a=null==e?this.variables.get(d):e.r;b?(a+=c,null==e?this.variables.set(d,a):e.r=a):null==e?this.variables.set(d,a+c):e.r=a+c;return a;case 5:return d=a[3],e=this.expr(a[2]),a=this.get(e,d),b?(a+=c,this.set(e,d,a)):this.set(e,d,a+c),a;case 16:return e=a[3],d=this.expr(a[2]),e=this.expr(e),a=d[e],b?(a+=c,d[e]=a):d[e]=a+c,a;default:throw da.EInvalidOp(0<
c?"++":"--");}},evalAssignOp:function(a,b,c,d){switch(c[1]){case 1:var a=c[2],e=this.locals.get(a),b=b(this.expr(c),this.expr(d));null==e?this.variables.set(a,b):e.r=b;break;case 5:a=c[3];c=this.expr(c[2]);b=b(this.get(c,a),this.expr(d));b=this.set(c,a,b);break;case 16:a=c[3];c=this.expr(c[2]);a=this.expr(a);b=b(c[a],this.expr(d));c[a]=b;break;default:throw da.EInvalidOp(a);}return b},assignOp:function(a,b){var c=this;this.binops.set(a,function(d,e){return c.evalAssignOp(a,b,d,e)})},assign:function(a,
b){var c=this.expr(b);switch(a[1]){case 1:var d=a[2],e=this.locals.get(d);null==e?this.variables.set(d,c):e.r=c;break;case 5:d=a[3];c=this.set(this.expr(a[2]),d,c);break;case 16:d=a[3];this.expr(a[2])[this.expr(d)]=c;break;default:throw da.EInvalidOp("=");}return c},initOps:function(){var a=this;this.binops=new L.StringMap;this.binops.set("+",function(b,c){return a.expr(b)+a.expr(c)});this.binops.set("-",function(b,c){return a.expr(b)-a.expr(c)});this.binops.set("*",function(b,c){return a.expr(b)*
a.expr(c)});this.binops.set("/",function(b,c){return a.expr(b)/a.expr(c)});this.binops.set("%",function(b,c){return a.expr(b)%a.expr(c)});this.binops.set("&",function(b,c){return a.expr(b)&a.expr(c)});this.binops.set("|",function(b,c){return a.expr(b)|a.expr(c)});this.binops.set("^",function(b,c){return a.expr(b)^a.expr(c)});this.binops.set("<<",function(b,c){return a.expr(b)<<a.expr(c)});this.binops.set(">>",function(b,c){return a.expr(b)>>a.expr(c)});this.binops.set(">>>",function(b,c){return a.expr(b)>>>
a.expr(c)});this.binops.set("==",function(b,c){return a.expr(b)==a.expr(c)});this.binops.set("!=",function(b,c){return a.expr(b)!=a.expr(c)});this.binops.set(">=",function(b,c){return a.expr(b)>=a.expr(c)});this.binops.set("<=",function(b,c){return a.expr(b)<=a.expr(c)});this.binops.set(">",function(b,c){return a.expr(b)>a.expr(c)});this.binops.set("<",function(b,c){return a.expr(b)<a.expr(c)});this.binops.set("||",function(b,c){return!0==a.expr(b)||!0==a.expr(c)});this.binops.set("&&",function(b,
c){return!0==a.expr(b)&&!0==a.expr(c)});this.binops.set("=",v(this,this.assign));this.binops.set("...",function(b,c){return new ce(a.expr(b),a.expr(c))});this.assignOp("+=",function(a,c){return a+c});this.assignOp("-=",function(a,c){return a-c});this.assignOp("*=",function(a,c){return a*c});this.assignOp("/=",function(a,c){return a/c});this.assignOp("%=",function(a,c){return a%c});this.assignOp("&=",function(a,c){return a&c});this.assignOp("|=",function(a,c){return a|c});this.assignOp("^=",function(a,
c){return a^c});this.assignOp("<<=",function(a,c){return a<<c});this.assignOp(">>=",function(a,c){return a>>c});this.assignOp(">>>=",function(a,c){return a>>>c})},declared:null,binops:null,locals:null,variables:null,__class__:ic};Cd=function(){ic.call(this)};i["erazor.hscript.EnhancedInterp"]=Cd;Cd.__name__=["erazor","hscript","EnhancedInterp"];Cd.__super__=ic;Cd.prototype=A(ic.prototype,{call:function(a,b,c){c=c.concat([null,null,null,null,null]);return b.apply(a,c)},get:function(a,b){if(null==a)throw da.EInvalidAccess(b);
return j.field(a,b)},__class__:Cd});Dd=void 0;L=void 0;Sd=void 0;Ac=void 0;sb=void 0;Mb=void 0;D=void 0;Dd=function(a){for(var b=a.length,c=1;b>1<<c;)c++;if(8<c||b!=1<<c)throw"BaseCode : base length must be a power of two.";this.base=a;this.nbits=c};i["haxe.BaseCode"]=Dd;Dd.__name__=["haxe","BaseCode"];Dd.prototype={decodeBytes:function(a){var b=this.nbits;null==this.tbl&&this.initTable();for(var c=this.tbl,d=a.length*b>>3,e=zb.alloc(d),h=0,o=0,f=0,g=0;g<d;){for(;8>o;){var o=o+b,h=h<<b,k=c[a.b[f++]];
if(-1==k)throw"BaseCode : invalid encoded char";h|=k}o-=8;e.b[g++]=h>>o&255}return e},initTable:function(){for(var a=[],b=0;256>b;){var c=b++;a[c]=-1}for(var d=0,b=this.base.length;d<b;)c=d++,a[this.base.b[c]]=c;this.tbl=a},tbl:null,nbits:null,base:null,__class__:Dd};Ac=function(a){this.url=a;this.headers=new L.StringMap;this.params=new L.StringMap;this.async=!0};i["haxe.Http"]=Ac;Ac.__name__=["haxe","Http"];Ac.prototype={onStatus:function(){},onError:function(){},onData:function(){},request:function(a){var b=
this;b.responseData=null;var c=ea.createXMLHttpRequest(),d=function(){if(4==c.readyState){var a;try{a=c.status}catch(d){a=null}void 0==a&&(a=null);if(null!=a)b.onStatus(a);if(null!=a&&200<=a&&400>a)b.onData(b.responseData=c.responseText);else if(null==a)b.onError("Failed to connect or resolve host");else switch(a){case 12029:b.onError("Failed to connect to host");break;case 12007:b.onError("Unknown host");break;default:b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};if(this.async)c.onreadystatechange=
d;var e=this.postData;if(null!=e)a=!0;else for(var h=this.params.keys();h.hasNext();)var o=h.next(),e=null==e?"":e+"&",e=e+(C.urlEncode(o)+"="+C.urlEncode(this.params.get(o)));try{if(a)c.open("POST",this.url,this.async);else if(null!=e){var f=1>=this.url.split("?").length;c.open("GET",this.url+(f?"?":"&")+e,this.async);e=null}else c.open("GET",this.url,this.async)}catch(g){this.onError(g.toString());return}null==this.headers.get("Content-Type")&&a&&null==this.postData&&c.setRequestHeader("Content-Type",
"application/x-www-form-urlencoded");for(a=this.headers.keys();a.hasNext();)h=a.next(),c.setRequestHeader(h,this.headers.get(h));c.send(e);this.async||d(null)},setParameter:function(a,b){this.params.set(a,b);return this},setHeader:function(a,b){this.headers.set(a,b);return this},params:null,headers:null,postData:null,async:null,responseData:null,url:null,__class__:Ac};Sd=function(){};i["haxe.Log"]=Sd;Sd.__name__=["haxe","Log"];Sd.trace=function(a,b){B.__trace(a,b)};sb=function(a){var b=this;this.id=
setInterval(function(){b.run()},a)};i["haxe.Timer"]=sb;sb.__name__=["haxe","Timer"];sb.delay=function(a,b){var c=new sb(b);c.run=function(){c.stop();a()};return c};sb.prototype={run:function(){},stop:function(){if(null!=this.id)clearInterval(this.id),this.id=null},id:null,__class__:sb};Mb={Md5:function(){}};i["haxe.crypto.Md5"]=Mb.Md5;Mb.Md5.__name__=["haxe","crypto","Md5"];Mb.Md5.encode=function(a){var b=new Mb.Md5,a=b.doEncode(Mb.Md5.str2blks(a));return b.hex(a)};Mb.Md5.str2blks=function(a){for(var b=
(a.length+8>>6)+1,c=[],d=16*b,e=0;e<d;){var h=e++;c[h]=0}for(h=0;h<a.length;)c[h>>2]|=u.cca(a,h)<<8*((8*a.length+h)%4),h++;c[h>>2]|=128<<8*((8*a.length+h)%4);a=8*a.length;b=16*b-2;c[b]=a&255;c[b]|=(a>>>8&255)<<8;c[b]|=(a>>>16&255)<<16;c[b]|=(a>>>24&255)<<24;return c};Mb.Md5.prototype={doEncode:function(a){for(var b=1732584193,c=-271733879,d=-1732584194,e=271733878,h=0;h<a.length;)var o=b,f=c,g=d,k=e,b=this.ff(b,c,d,e,a[h],7,-680876936),e=this.ff(e,b,c,d,a[h+1],12,-389564586),d=this.ff(d,e,b,c,a[h+
2],17,606105819),c=this.ff(c,d,e,b,a[h+3],22,-1044525330),b=this.ff(b,c,d,e,a[h+4],7,-176418897),e=this.ff(e,b,c,d,a[h+5],12,1200080426),d=this.ff(d,e,b,c,a[h+6],17,-1473231341),c=this.ff(c,d,e,b,a[h+7],22,-45705983),b=this.ff(b,c,d,e,a[h+8],7,1770035416),e=this.ff(e,b,c,d,a[h+9],12,-1958414417),d=this.ff(d,e,b,c,a[h+10],17,-42063),c=this.ff(c,d,e,b,a[h+11],22,-1990404162),b=this.ff(b,c,d,e,a[h+12],7,1804603682),e=this.ff(e,b,c,d,a[h+13],12,-40341101),d=this.ff(d,e,b,c,a[h+14],17,-1502002290),c=this.ff(c,
d,e,b,a[h+15],22,1236535329),b=this.gg(b,c,d,e,a[h+1],5,-165796510),e=this.gg(e,b,c,d,a[h+6],9,-1069501632),d=this.gg(d,e,b,c,a[h+11],14,643717713),c=this.gg(c,d,e,b,a[h],20,-373897302),b=this.gg(b,c,d,e,a[h+5],5,-701558691),e=this.gg(e,b,c,d,a[h+10],9,38016083),d=this.gg(d,e,b,c,a[h+15],14,-660478335),c=this.gg(c,d,e,b,a[h+4],20,-405537848),b=this.gg(b,c,d,e,a[h+9],5,568446438),e=this.gg(e,b,c,d,a[h+14],9,-1019803690),d=this.gg(d,e,b,c,a[h+3],14,-187363961),c=this.gg(c,d,e,b,a[h+8],20,1163531501),
b=this.gg(b,c,d,e,a[h+13],5,-1444681467),e=this.gg(e,b,c,d,a[h+2],9,-51403784),d=this.gg(d,e,b,c,a[h+7],14,1735328473),c=this.gg(c,d,e,b,a[h+12],20,-1926607734),b=this.hh(b,c,d,e,a[h+5],4,-378558),e=this.hh(e,b,c,d,a[h+8],11,-2022574463),d=this.hh(d,e,b,c,a[h+11],16,1839030562),c=this.hh(c,d,e,b,a[h+14],23,-35309556),b=this.hh(b,c,d,e,a[h+1],4,-1530992060),e=this.hh(e,b,c,d,a[h+4],11,1272893353),d=this.hh(d,e,b,c,a[h+7],16,-155497632),c=this.hh(c,d,e,b,a[h+10],23,-1094730640),b=this.hh(b,c,d,e,a[h+
13],4,681279174),e=this.hh(e,b,c,d,a[h],11,-358537222),d=this.hh(d,e,b,c,a[h+3],16,-722521979),c=this.hh(c,d,e,b,a[h+6],23,76029189),b=this.hh(b,c,d,e,a[h+9],4,-640364487),e=this.hh(e,b,c,d,a[h+12],11,-421815835),d=this.hh(d,e,b,c,a[h+15],16,530742520),c=this.hh(c,d,e,b,a[h+2],23,-995338651),b=this.ii(b,c,d,e,a[h],6,-198630844),e=this.ii(e,b,c,d,a[h+7],10,1126891415),d=this.ii(d,e,b,c,a[h+14],15,-1416354905),c=this.ii(c,d,e,b,a[h+5],21,-57434055),b=this.ii(b,c,d,e,a[h+12],6,1700485571),e=this.ii(e,
b,c,d,a[h+3],10,-1894986606),d=this.ii(d,e,b,c,a[h+10],15,-1051523),c=this.ii(c,d,e,b,a[h+1],21,-2054922799),b=this.ii(b,c,d,e,a[h+8],6,1873313359),e=this.ii(e,b,c,d,a[h+15],10,-30611744),d=this.ii(d,e,b,c,a[h+6],15,-1560198380),c=this.ii(c,d,e,b,a[h+13],21,1309151649),b=this.ii(b,c,d,e,a[h+4],6,-145523070),e=this.ii(e,b,c,d,a[h+11],10,-1120210379),d=this.ii(d,e,b,c,a[h+2],15,718787259),c=this.ii(c,d,e,b,a[h+9],21,-343485551),b=this.addme(b,o),c=this.addme(c,f),d=this.addme(d,g),e=this.addme(e,k),
h=h+16;return[b,c,d,e]},ii:function(a,b,c,d,e,h,o){return this.cmn(this.bitXOR(c,this.bitOR(b,~d)),a,b,e,h,o)},hh:function(a,b,c,d,e,h,o){return this.cmn(this.bitXOR(this.bitXOR(b,c),d),a,b,e,h,o)},gg:function(a,b,c,d,e,h,o){return this.cmn(this.bitOR(this.bitAND(b,d),this.bitAND(c,~d)),a,b,e,h,o)},ff:function(a,b,c,d,e,h,o){return this.cmn(this.bitOR(this.bitAND(b,c),this.bitAND(~b,d)),a,b,e,h,o)},cmn:function(a,b,c,d,e,h){return this.addme(this.rol(this.addme(this.addme(b,a),this.addme(d,h)),e),
c)},rol:function(a,b){return a<<b|a>>>32-b},hex:function(a){for(var b="",c=0;c<a.length;){var d=a[c];++c;for(var e=0;4>e;)var h=e++,b=b+("0123456789abcdef".charAt(d>>8*h+4&15)+"0123456789abcdef".charAt(d>>8*h&15))}return b},addme:function(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535},bitAND:function(a,b){return(a>>>1&b>>>1)<<1|a&1&b&1},bitXOR:function(a,b){return(a>>>1^b>>>1)<<1|a&1^b&1},bitOR:function(a,b){return(a>>>1|b>>>1)<<1|a&1|b&1},__class__:Mb.Md5};L={FastCell:function(a,
b){this.elt=a;this.next=b}};i["haxe.ds.FastCell"]=L.FastCell;L.FastCell.__name__=["haxe","ds","FastCell"];L.FastCell.prototype={next:null,elt:null,__class__:L.FastCell};L.GenericStack=function(){};i["haxe.ds.GenericStack"]=L.GenericStack;L.GenericStack.__name__=["haxe","ds","GenericStack"];L.GenericStack.prototype={pop:function(){var a=this.head;if(null==a)return null;this.head=a.next;return a.elt},add:function(a){this.head=new L.FastCell(a,this.head)},head:null,__class__:L.GenericStack};L.IntMap=
function(){this.h={}};i["haxe.ds.IntMap"]=L.IntMap;L.IntMap.__name__=["haxe","ds","IntMap"];L.IntMap.prototype={iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref[this.it.next()]}}},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return u.iter(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=
b},h:null,__class__:L.IntMap};L.StringMap=function(){this.h={}};i["haxe.ds.StringMap"]=L.StringMap;L.StringMap.__name__=["haxe","ds","StringMap"];L.StringMap.prototype={iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return u.iter(a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];
return!0},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},h:null,__class__:L.StringMap};D={Bytes:function(a,b){this.length=a;this.b=b}};i["haxe.io.Bytes"]=D.Bytes;D.Bytes.__name__=["haxe","io","Bytes"];D.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new D.Bytes(a,b)};D.Bytes.ofString=function(a){for(var b=[],c=0,d=a.length;c<d;){var e=c++,e=u.cca(a,e);127>=e?b.push(e):(2047>=e?b.push(192|e>>6):(65535>=
e?b.push(224|e>>12):(b.push(240|e>>18),b.push(128|e>>12&63)),b.push(128|e>>6&63)),b.push(128|e&63))}return new D.Bytes(b.length,b)};D.Bytes.prototype={toString:function(){return this.readString(0,this.length)},readString:function(a,b){if(0>a||0>b||a+b>this.length)throw D.Error.OutsideBounds;for(var c="",d=this.b,e=String.fromCharCode,h=a,o=a+b;h<o;){var f=d[h++];if(128>f){if(0==f)break;c+=e(f)}else if(224>f)c+=e((f&63)<<6|d[h++]&127);else if(240>f)var g=d[h++],c=c+e((f&31)<<12|(g&127)<<6|d[h++]&127);
else var g=d[h++],k=d[h++],c=c+e((f&15)<<18|(g&127)<<12|k<<6&127|d[h++]&127)}return c},b:null,length:null,__class__:D.Bytes};D.BytesBuffer=function(){this.b=[]};i["haxe.io.BytesBuffer"]=D.BytesBuffer;D.BytesBuffer.__name__=["haxe","io","BytesBuffer"];D.BytesBuffer.prototype={getBytes:function(){var a=new D.Bytes(this.b.length,this.b);this.b=null;return a},b:null,__class__:D.BytesBuffer};D.Input=function(){};i["haxe.io.Input"]=D.Input;D.Input.__name__=["haxe","io","Input"];D.Input.prototype={readString:function(a){var b=
D.Bytes.alloc(a);this.readFullBytes(b,0,a);return b.toString()},readFullBytes:function(a,b,c){for(;0<c;)var d=this.readBytes(a,b,c),b=b+d,c=c-d},readBytes:function(a,b,c){var d=c,e=a.b;if(0>b||0>c||b+c>a.length)throw D.Error.OutsideBounds;for(;0<d;)e[b]=this.readByte(),b++,d--;return c},readByte:function(){throw"Not implemented";},__class__:D.Input};D.BytesInput=function(a,b,c){null==b&&(b=0);null==c&&(c=a.length-b);if(0>b||0>c||b+c>a.length)throw D.Error.OutsideBounds;this.b=a.b;this.pos=b;this.len=
c};i["haxe.io.BytesInput"]=D.BytesInput;D.BytesInput.__name__=["haxe","io","BytesInput"];D.BytesInput.__super__=D.Input;D.BytesInput.prototype=A(D.Input.prototype,{readBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw D.Error.OutsideBounds;if(0==this.len&&0<c)throw new D.Eof;if(this.len<c)c=this.len;for(var d=this.b,a=a.b,e=0;e<c;){var h=e++;a[b+h]=d[this.pos+h]}this.pos+=c;this.len-=c;return c},readByte:function(){if(0==this.len)throw new D.Eof;this.len--;return this.b[this.pos++]},len:null,
pos:null,b:null,__class__:D.BytesInput});D.Output=function(){};i["haxe.io.Output"]=D.Output;D.Output.__name__=["haxe","io","Output"];D.BytesOutput=function(){this.b=new D.BytesBuffer};i["haxe.io.BytesOutput"]=D.BytesOutput;D.BytesOutput.__name__=["haxe","io","BytesOutput"];D.BytesOutput.__super__=D.Output;D.BytesOutput.prototype=A(D.Output.prototype,{getBytes:function(){return this.b.getBytes()},writeByte:function(a){this.b.b.push(a)},b:null,__class__:D.BytesOutput});D.Eof=function(){};i["haxe.io.Eof"]=
D.Eof;D.Eof.__name__=["haxe","io","Eof"];D.Eof.prototype={toString:function(){return"Eof"},__class__:D.Eof};D.Error={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};D.Error.Blocked=["Blocked",0];D.Error.Blocked.toString=q;D.Error.Blocked.__enum__=D.Error;D.Error.Overflow=["Overflow",1];D.Error.Overflow.toString=q;D.Error.Overflow.__enum__=D.Error;D.Error.OutsideBounds=["OutsideBounds",2];D.Error.OutsideBounds.toString=q;D.Error.OutsideBounds.__enum__=
D.Error;D.Error.Custom=function(a){a=["Custom",3,a];a.__enum__=D.Error;a.toString=q;return a};D.StringInput=function(a){D.BytesInput.call(this,D.Bytes.ofString(a))};i["haxe.io.StringInput"]=D.StringInput;D.StringInput.__name__=["haxe","io","StringInput"];D.StringInput.__super__=D.BytesInput;D.StringInput.prototype=A(D.BytesInput.prototype,{__class__:D.StringInput});Va={__ename__:["hscript","Const"],__constructs__:["CInt","CFloat","CString"]};Va.CInt=function(a){a=["CInt",0,a];a.__enum__=Va;a.toString=
q;return a};Va.CFloat=function(a){a=["CFloat",1,a];a.__enum__=Va;a.toString=q;return a};Va.CString=function(a){a=["CString",2,a];a.__enum__=Va;a.toString=q;return a};E={__ename__:["hscript","Expr"],__constructs__:"EConst,EIdent,EVar,EParent,EBlock,EField,EBinop,EUnop,ECall,EIf,EWhile,EFor,EBreak,EContinue,EFunction,EReturn,EArray,EArrayDecl,ENew,EThrow,ETry,EObject,ETernary".split(",")};E.EConst=function(a){a=["EConst",0,a];a.__enum__=E;a.toString=q;return a};E.EIdent=function(a){a=["EIdent",1,a];
a.__enum__=E;a.toString=q;return a};E.EVar=function(a,b,c){a=["EVar",2,a,b,c];a.__enum__=E;a.toString=q;return a};E.EParent=function(a){a=["EParent",3,a];a.__enum__=E;a.toString=q;return a};E.EBlock=function(a){a=["EBlock",4,a];a.__enum__=E;a.toString=q;return a};E.EField=function(a,b){var c=["EField",5,a,b];c.__enum__=E;c.toString=q;return c};E.EBinop=function(a,b,c){a=["EBinop",6,a,b,c];a.__enum__=E;a.toString=q;return a};E.EUnop=function(a,b,c){a=["EUnop",7,a,b,c];a.__enum__=E;a.toString=q;return a};
E.ECall=function(a,b){var c=["ECall",8,a,b];c.__enum__=E;c.toString=q;return c};E.EIf=function(a,b,c){a=["EIf",9,a,b,c];a.__enum__=E;a.toString=q;return a};E.EWhile=function(a,b){var c=["EWhile",10,a,b];c.__enum__=E;c.toString=q;return c};E.EFor=function(a,b,c){a=["EFor",11,a,b,c];a.__enum__=E;a.toString=q;return a};E.EBreak=["EBreak",12];E.EBreak.toString=q;E.EBreak.__enum__=E;E.EContinue=["EContinue",13];E.EContinue.toString=q;E.EContinue.__enum__=E;E.EFunction=function(a,b,c,d){a=["EFunction",
14,a,b,c,d];a.__enum__=E;a.toString=q;return a};E.EReturn=function(a){a=["EReturn",15,a];a.__enum__=E;a.toString=q;return a};E.EArray=function(a,b){var c=["EArray",16,a,b];c.__enum__=E;c.toString=q;return c};E.EArrayDecl=function(a){a=["EArrayDecl",17,a];a.__enum__=E;a.toString=q;return a};E.ENew=function(a,b){var c=["ENew",18,a,b];c.__enum__=E;c.toString=q;return c};E.EThrow=function(a){a=["EThrow",19,a];a.__enum__=E;a.toString=q;return a};E.ETry=function(a,b,c,d){a=["ETry",20,a,b,c,d];a.__enum__=
E;a.toString=q;return a};E.EObject=function(a){a=["EObject",21,a];a.__enum__=E;a.toString=q;return a};E.ETernary=function(a,b,c){a=["ETernary",22,a,b,c];a.__enum__=E;a.toString=q;return a};tb={__ename__:["hscript","CType"],__constructs__:["CTPath","CTFun","CTAnon","CTParent"]};tb.CTPath=function(a,b){var c=["CTPath",0,a,b];c.__enum__=tb;c.toString=q;return c};tb.CTFun=function(a,b){var c=["CTFun",1,a,b];c.__enum__=tb;c.toString=q;return c};tb.CTAnon=function(a){a=["CTAnon",2,a];a.__enum__=tb;a.toString=
q;return a};tb.CTParent=function(a){a=["CTParent",3,a];a.__enum__=tb;a.toString=q;return a};da={__ename__:["hscript","Error"],__constructs__:"EInvalidChar,EUnexpected,EUnterminatedString,EUnterminatedComment,EUnknownVariable,EInvalidIterator,EInvalidOp,EInvalidAccess".split(",")};da.EInvalidChar=function(a){a=["EInvalidChar",0,a];a.__enum__=da;a.toString=q;return a};da.EUnexpected=function(a){a=["EUnexpected",1,a];a.__enum__=da;a.toString=q;return a};da.EUnterminatedString=["EUnterminatedString",
2];da.EUnterminatedString.toString=q;da.EUnterminatedString.__enum__=da;da.EUnterminatedComment=["EUnterminatedComment",3];da.EUnterminatedComment.toString=q;da.EUnterminatedComment.__enum__=da;da.EUnknownVariable=function(a){a=["EUnknownVariable",4,a];a.__enum__=da;a.toString=q;return a};da.EInvalidIterator=function(a){a=["EInvalidIterator",5,a];a.__enum__=da;a.toString=q;return a};da.EInvalidOp=function(a){a=["EInvalidOp",6,a];a.__enum__=da;a.toString=q;return a};da.EInvalidAccess=function(a){a=
["EInvalidAccess",7,a];a.__enum__=da;a.toString=q;return a};Oa={Stop:{__ename__:["hscript","_Interp","Stop"],__constructs__:["SBreak","SContinue","SReturn"]}};Oa.Stop.SBreak=["SBreak",0];Oa.Stop.SBreak.toString=q;Oa.Stop.SBreak.__enum__=Oa.Stop;Oa.Stop.SContinue=["SContinue",1];Oa.Stop.SContinue.toString=q;Oa.Stop.SContinue.__enum__=Oa.Stop;Oa.Stop.SReturn=function(a){a=["SReturn",2,a];a.__enum__=Oa.Stop;a.toString=q;return a};y={__ename__:["hscript","Token"],__constructs__:"TEof,TConst,TId,TOp,TPOpen,TPClose,TBrOpen,TBrClose,TDot,TComma,TSemicolon,TBkOpen,TBkClose,TQuestion,TDoubleDot".split(","),
TEof:["TEof",0]};y.TEof.toString=q;y.TEof.__enum__=y;y.TConst=function(a){a=["TConst",1,a];a.__enum__=y;a.toString=q;return a};y.TId=function(a){a=["TId",2,a];a.__enum__=y;a.toString=q;return a};y.TOp=function(a){a=["TOp",3,a];a.__enum__=y;a.toString=q;return a};y.TPOpen=["TPOpen",4];y.TPOpen.toString=q;y.TPOpen.__enum__=y;y.TPClose=["TPClose",5];y.TPClose.toString=q;y.TPClose.__enum__=y;y.TBrOpen=["TBrOpen",6];y.TBrOpen.toString=q;y.TBrOpen.__enum__=y;y.TBrClose=["TBrClose",7];y.TBrClose.toString=
q;y.TBrClose.__enum__=y;y.TDot=["TDot",8];y.TDot.toString=q;y.TDot.__enum__=y;y.TComma=["TComma",9];y.TComma.toString=q;y.TComma.__enum__=y;y.TSemicolon=["TSemicolon",10];y.TSemicolon.toString=q;y.TSemicolon.__enum__=y;y.TBkOpen=["TBkOpen",11];y.TBkOpen.toString=q;y.TBkOpen.__enum__=y;y.TBkClose=["TBkClose",12];y.TBkClose.toString=q;y.TBkClose.__enum__=y;y.TQuestion=["TQuestion",13];y.TQuestion.toString=q;y.TQuestion.__enum__=y;y.TDoubleDot=["TDoubleDot",14];y.TDoubleDot.toString=q;y.TDoubleDot.__enum__=
y;jd=function(){this.line=1;this.opChars="+*/-=!><&|^%~";this.identChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_";var a=[["%"],["*","/"],["+","-"],["<<",">>",">>>"],["|","&","^"],"==,!=,>,<,>=,<=".split(","),["..."],["&&"],["||"],"=,+=,-=,*=,/=,%=,<<=,>>=,>>>=,|=,&=,^=".split(",")];this.opPriority=new L.StringMap;this.opRightAssoc=new L.StringMap;for(var b=0,c=a.length;b<c;)for(var d=b++,e=0,h=a[d];e<h.length;){var o=h[e];++e;this.opPriority.set(o,d);9==d&&this.opRightAssoc.set(o,
!0)}this.unops=new L.StringMap;c=0;for(b=["!","++","--","-","~"];c<b.length;)o=b[c],++c,this.unops.set(o,"++"==o||"--"==o)};i["hscript.Parser"]=jd;jd.__name__=["hscript","Parser"];jd.prototype={tokenString:function(a){var b;switch(a[1]){case 0:b="<eof>";break;case 1:b=this.constString(a[2]);break;case 2:b=a[2];break;case 3:b=a[2];break;case 4:b="(";break;case 5:b=")";break;case 6:b="{";break;case 7:b="}";break;case 8:b=".";break;case 9:b=",";break;case 10:b=";";break;case 11:b="[";break;case 12:b=
"]";break;case 13:b="?";break;case 14:b=":"}return b},constString:function(a){var b;switch(a[1]){case 0:b=t.string(a[2]);break;case 1:b=t.string(a[2]);break;case 2:b=a[2]}return b},tokenComment:function(a,b){var c=u.cca(a,1),d=this.input;if(47==c){try{for(;10!=b&&13!=b;)b=d.readByte();this["char"]=b}catch(e){}return this.token()}if(42==c){c=this.line;try{for(;;){for(;42!=b;)10==b&&this.line++,b=d.readByte();b=d.readByte();if(47==b)break}}catch(h){throw this.line=c,da.EUnterminatedComment;}return this.token()}this["char"]=
b;return y.TOp(a)},token:function(){if(null!=this.tokens.head)return this.tokens.pop();var a;0>this["char"]?a=this.readChar():(a=this["char"],this["char"]=-1);for(;;){switch(a){case 0:return y.TEof;case 32:case 9:case 13:break;case 10:this.line++;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:for(var b=1*(a-48),c=0;;)switch(a=this.readChar(),c*=10,a){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:b=10*b+(a-48);break;case 46:if(0<
c){if(10==c&&46==this.readChar())return this.tokens.add(y.TOp("...")),a=b|0,y.TConst(a==b?Va.CInt(a):Va.CFloat(b));this.invalidChar(a)}c=1;break;case 120:(0<b||0<c)&&this.invalidChar(a);for(var d=0;;)switch(a=this.readChar(),a){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:d=(d<<4)+a-48;break;case 65:case 66:case 67:case 68:case 69:case 70:d=(d<<4)+(a-55);break;case 97:case 98:case 99:case 100:case 101:case 102:d=(d<<4)+(a-87);break;default:return this["char"]=a,
y.TConst(Va.CInt(d))}break;default:return this["char"]=a,a=b|0,y.TConst(0<c?Va.CFloat(10*b/c):a==b?Va.CInt(a):Va.CFloat(b))}break;case 59:return y.TSemicolon;case 40:return y.TPOpen;case 41:return y.TPClose;case 44:return y.TComma;case 46:a=this.readChar();switch(a){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:b=a-48;for(c=1;;)switch(a=this.readChar(),c*=10,a){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:b=10*b+(a-48);break;default:return this["char"]=
a,y.TConst(Va.CFloat(b/c))}break;case 46:return a=this.readChar(),46!=a&&this.invalidChar(a),y.TOp("...");default:return this["char"]=a,y.TDot}break;case 123:return y.TBrOpen;case 125:return y.TBrClose;case 91:return y.TBkOpen;case 93:return y.TBkClose;case 39:return y.TConst(Va.CString(this.readString(39)));case 34:return y.TConst(Va.CString(this.readString(34)));case 63:return y.TQuestion;case 58:return y.TDoubleDot;default:if(this.ops[a])for(b=String.fromCharCode(a);;){a=this.readChar();if(!this.ops[a]){if(47==
u.cca(b,0))return this.tokenComment(b,a);this["char"]=a;return y.TOp(b)}b+=String.fromCharCode(a)}if(this.idents[a])for(b=String.fromCharCode(a);;){a=this.readChar();if(!this.idents[a])return this["char"]=a,y.TId(b);b+=String.fromCharCode(a)}this.invalidChar(a)}a=this.readChar()}return null},readString:function(a){for(var b=0,c=new D.BytesOutput,d=!1,e=this.line,h=this.input;;){try{b=h.readByte()}catch(o){throw this.line=e,da.EUnterminatedString;}if(d)switch(d=!1,b){case 110:c.writeByte(10);break;
case 114:c.writeByte(13);break;case 116:c.writeByte(9);break;case 39:case 34:case 92:c.writeByte(b);break;case 47:this.allowJSON?c.writeByte(b):this.invalidChar(b);break;case 117:if(!this.allowJSON)throw this.invalidChar(b);var f=null;try{f=h.readString(4)}catch(g){throw this.line=e,da.EUnterminatedString;}for(var k=0,x=0;4>x;){var i=x++,k=k<<4,i=u.cca(f,i);switch(i){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:k+=i-48;break;case 65:case 66:case 67:case 68:case 69:case 70:k+=
i-55;break;case 97:case 98:case 99:case 100:case 101:case 102:k+=i-87;break;default:this.invalidChar(i)}}127>=k?c.writeByte(k):(2047>=k?c.writeByte(192|k>>6):(c.writeByte(224|k>>12),c.writeByte(128|k>>6&63)),c.writeByte(128|k&63));break;default:this.invalidChar(b)}else if(92==b)d=!0;else if(b==a)break;else 10==b&&this.line++,c.writeByte(b)}return c.getBytes().toString()},readChar:function(){var a;try{a=this.input.readByte()}catch(b){a=0}return a},parseExprList:function(a){var b=[],c=this.token();
if(c==a)return b;this.tokens.add(c);try{for(;;)switch(b.push(this.parseExpr()),c=this.token(),c[1]){case 9:break;default:if(c==a)throw"__break__";this.unexpected(c)}}catch(d){if("__break__"!=d)throw d;}return b},parseTypeNext:function(a){var b=this.token(),c=b;switch(c[1]){case 3:if("->"!=c[2])return this.tokens.add(b),a;break;default:return this.tokens.add(b),a}c=b=this.parseType();switch(c[1]){case 1:return c[2].unshift(a),b;default:return tb.CTFun([a],b)}},parseType:function(){var a=this.token(),
b=a;switch(b[1]){case 2:for(var c=b[2],c=[c];;){a=this.token();if(a!=y.TDot)break;b=a=this.token();switch(b[1]){case 2:c.push(b[2]);break;default:this.unexpected(a)}}var d=null,b=a;switch(b[1]){case 3:if("<"==b[2]){d=[];try{for(;;){d.push(this.parseType());b=a=this.token();switch(b[1]){case 9:continue;case 3:if(">"==b[2])throw"__break__";}this.unexpected(a)}}catch(e){if("__break__"!=e)throw e;}}break;default:this.tokens.add(a)}return this.parseTypeNext(tb.CTPath(c,d));case 4:return a=this.parseType(),
this.ensure(y.TPClose),this.parseTypeNext(tb.CTParent(a));case 6:d=[];try{for(;;)switch(b=a=this.token(),b[1]){case 7:throw"__break__";case 2:c=b[2];this.ensure(y.TDoubleDot);d.push({name:c,t:this.parseType()});a=this.token();switch(a[1]){case 9:break;case 7:throw"__break__";default:this.unexpected(a)}break;default:this.unexpected(a)}}catch(h){if("__break__"!=h)throw h;}return this.parseTypeNext(tb.CTAnon(d));default:return this.unexpected(a)}},parseExprNext:function(a){var b=this.token(),c=b;switch(c[1]){case 3:c=
c[2];if(this.unops.get(c)){var d;if(!(d=this.isBlock(a)))switch(a[1]){case 3:d=!0;break;default:d=!1}return d?(this.tokens.add(b),a):this.parseExprNext(E.EUnop(c,!1,a))}return this.makeBinop(c,a,this.parseExpr());case 8:b=this.token();d=null;c=b;switch(c[1]){case 2:d=c[2];break;default:this.unexpected(b)}return this.parseExprNext(E.EField(a,d));case 4:return this.parseExprNext(E.ECall(a,this.parseExprList(y.TPClose)));case 11:return b=this.parseExpr(),this.ensure(y.TBkClose),this.parseExprNext(E.EArray(a,
b));case 13:return b=this.parseExpr(),this.ensure(y.TDoubleDot),c=this.parseExpr(),E.ETernary(a,b,c);default:return this.tokens.add(b),a}},parseStructure:function(a){return function(b){switch(a){case "if":b=function(a){var b=a.parseExpr(),e=a.parseExpr(),h=null,o=!1,f=a.token();f==y.TSemicolon&&(o=!0,f=a.token());z.enumEq(f,y.TId("else"))?h=a.parseExpr():(a.tokens.add(f),o&&a.tokens.add(y.TSemicolon));return E.EIf(b,e,h)}(b);break;case "var":b=function(a){var b=a.token(),e=null,h=b;switch(h[1]){case 2:e=
h[2];break;default:a.unexpected(b)}b=a.token();h=null;b==y.TDoubleDot&&a.allowTypes&&(h=a.parseType(),b=a.token());var o=null;z.enumEq(b,y.TOp("="))?o=a.parseExpr():a.tokens.add(b);return E.EVar(e,h,o)}(b);break;case "while":b=function(a){var b=a.parseExpr(),a=a.parseExpr();return E.EWhile(b,a)}(b);break;case "for":b=function(a){a.ensure(y.TPOpen);var b=a.token(),e=null,h=b;switch(h[1]){case 2:e=h[2];break;default:a.unexpected(b)}b=a.token();z.enumEq(b,y.TId("in"))||a.unexpected(b);b=a.parseExpr();
a.ensure(y.TPClose);a=a.parseExpr();return E.EFor(e,b,a)}(b);break;case "break":b=E.EBreak;break;case "continue":b=E.EContinue;break;case "else":b=b.unexpected(y.TId(a));break;case "function":b=function(a){var b=a.token(),e=null,h=b;switch(h[1]){case 2:e=b=h[2];break;default:a.tokens.add(b)}a.ensure(y.TPOpen);var o=[],b=a.token();if(b!=y.TPClose)for(var f=!0;f;){var g=null,h=b;switch(h[1]){case 2:g=b=h[2];break;default:a.unexpected(b)}b=a.token();h=null;b==y.TDoubleDot&&a.allowTypes&&(h=a.parseType(),
b=a.token());o.push({name:g,t:h});switch(b[1]){case 9:b=a.token();break;case 5:f=!1;break;default:a.unexpected(b)}}f=null;a.allowTypes&&(b=a.token(),b!=y.TDoubleDot?a.tokens.add(b):f=a.parseType());a=a.parseExpr();return E.EFunction(o,a,e,f)}(b);break;case "return":b=function(a){var b=a.token();a.tokens.add(b);a=b==y.TSemicolon?null:a.parseExpr();return E.EReturn(a)}(b);break;case "new":b=function(a){var b=[],e=a.token(),h=e;switch(h[1]){case 2:e=h[2];b.push(e);break;default:a.unexpected(e)}for(var o=
!0;o;)switch(e=a.token(),e[1]){case 8:h=e=a.token();switch(h[1]){case 2:e=h[2];b.push(e);break;default:a.unexpected(e)}break;case 4:o=!1;break;default:a.unexpected(e)}a=a.parseExprList(y.TPClose);return E.ENew(b.join("."),a)}(b);break;case "throw":b=function(a){a=a.parseExpr();return E.EThrow(a)}(b);break;case "try":b=function(a){var b=a.parseExpr(),e=a.token();z.enumEq(e,y.TId("catch"))||a.unexpected(e);a.ensure(y.TPOpen);var e=a.token(),h;h=e;switch(h[1]){case 2:e=h[2];break;default:e=a.unexpected(e)}h=
e;a.ensure(y.TDoubleDot);var o=null;a.allowTypes?o=a.parseType():(e=a.token(),z.enumEq(e,y.TId("Dynamic"))||a.unexpected(e));a.ensure(y.TPClose);a=a.parseExpr();return E.ETry(b,h,o,a)}(b);break;default:b=null}return b}(this)},makeBinop:function(a,b,c){switch(c[1]){case 6:var d=c[4],e=c[3],h=c[2],a=this.opPriority.get(a)<=this.opPriority.get(h)&&!this.opRightAssoc.exists(a)?E.EBinop(h,this.makeBinop(a,b,e),d):E.EBinop(a,b,c);break;case 22:d=c[4];e=c[3];h=c[2];a=this.opRightAssoc.exists(a)?E.EBinop(a,
b,c):E.ETernary(this.makeBinop(a,b,h),e,d);break;default:a=E.EBinop(a,b,c)}return a},makeUnop:function(a,b){var c;switch(b[1]){case 6:c=b[4];c=E.EBinop(b[2],this.makeUnop(a,b[3]),c);break;case 22:c=b[4];var d=b[3];c=E.ETernary(this.makeUnop(a,b[2]),d,c);break;default:c=E.EUnop(a,!0,b)}return c},parseExpr:function(){var a=this.token(),b=a;switch(b[1]){case 2:return a=b[2],b=this.parseStructure(a),null==b&&(b=E.EIdent(a)),this.parseExprNext(b);case 1:return b=b[2],this.parseExprNext(E.EConst(b));case 4:return b=
this.parseExpr(),this.ensure(y.TPClose),this.parseExprNext(E.EParent(b));case 6:b=a=this.token();switch(b[1]){case 7:return this.parseExprNext(E.EObject([]));case 2:b=this.token();this.tokens.add(b);this.tokens.add(a);switch(b[1]){case 14:return this.parseExprNext(this.parseObject(0))}break;case 1:b=b[2];if(this.allowJSON)switch(b[1]){case 2:b=this.token();this.tokens.add(b);this.tokens.add(a);switch(b[1]){case 14:return this.parseExprNext(this.parseObject(0))}break;default:this.tokens.add(a)}else this.tokens.add(a);
break;default:this.tokens.add(a)}for(b=[];;){b.push(this.parseFullExpr());a=this.token();if(a==y.TBrClose)break;this.tokens.add(a)}return E.EBlock(b);case 3:return b=b[2],this.unops.exists(b)?this.makeUnop(b,this.parseExpr()):this.unexpected(a);case 11:b=[];for(a=this.token();a!=y.TBkClose;)this.tokens.add(a),b.push(this.parseExpr()),a=this.token(),a==y.TComma&&(a=this.token());return this.parseExprNext(E.EArrayDecl(b));default:return this.unexpected(a)}},parseObject:function(){var a=[];try{for(;;){var b=
this.token(),c=null,d=b;switch(d[1]){case 2:c=d[2];break;case 1:var e=d[2];this.allowJSON||this.unexpected(b);d=e;switch(d[1]){case 2:c=d[2];break;default:this.unexpected(b)}break;case 7:throw"__break__";default:this.unexpected(b)}this.ensure(y.TDoubleDot);a.push({name:c,e:this.parseExpr()});b=this.token();switch(b[1]){case 7:throw"__break__";case 9:break;default:this.unexpected(b)}}}catch(h){if("__break__"!=h)throw h;}return this.parseExprNext(E.EObject(a))},parseFullExpr:function(){var a=this.parseExpr(),
b=this.token();b!=y.TSemicolon&&b!=y.TEof&&(this.isBlock(a)?this.tokens.add(b):this.unexpected(b));return a},isBlock:function(a){switch(a[1]){case 4:case 21:a=!0;break;case 14:a=this.isBlock(a[3]);break;case 2:a=a[4];a=null!=a&&this.isBlock(a);break;case 9:var b=a[4],a=a[3],a=null!=b?this.isBlock(b):this.isBlock(a);break;case 6:a=this.isBlock(a[4]);break;case 7:b=a[4];a=!a[3]&&this.isBlock(b);break;case 10:a=this.isBlock(a[3]);break;case 11:a=this.isBlock(a[4]);break;case 15:a=a[2];a=null!=a&&this.isBlock(a);
break;default:a=!1}return a},ensure:function(a){var b=this.token();b!=a&&this.unexpected(b)},unexpected:function(a){throw da.EUnexpected(this.tokenString(a));},parse:function(a){this.tokens=new L.GenericStack;this["char"]=-1;this.input=a;this.ops=[];this.idents=[];for(var a=0,b=this.opChars.length;a<b;){var c=a++;this.ops[u.cca(this.opChars,c)]=!0}a=0;for(b=this.identChars.length;a<b;)c=a++,this.idents[u.cca(this.identChars,c)]=!0;for(a=[];;){b=this.token();if(b==y.TEof)break;this.tokens.add(b);a.push(this.parseFullExpr())}return 1==
a.length?a[0]:E.EBlock(a)},parseString:function(a){this.line=1;return this.parse(new D.StringInput(a))},invalidChar:function(a){throw da.EInvalidChar(a);},tokens:null,idents:null,ops:null,"char":null,input:null,allowTypes:null,allowJSON:null,unops:null,opRightAssoc:null,opPriority:null,identChars:null,opChars:null,line:null,__class__:jd};var Fc,Zb;Fc=function(){this.handlers=[]};i["hxevents.Dispatcher"]=Fc;Fc.__name__=["hxevents","Dispatcher"];Fc.prototype={_stop:null,dispatch:function(a){for(var b=
this.handlers.slice(),c=0;c<b.length;){var d=b[c];++c;if(!0==this._stop){this._stop=!1;break}d(a)}},remove:function(a){for(var b=0,c=this.handlers.length;b<c;){var d=b++;if(j.compareMethods(this.handlers[d],a))return this.handlers.splice(d,1)[0]}return null},addOnce:function(a){var b=this,c=null,c=function(d){b.remove(c);a(d)};this.add(c);return c},add:function(a){this.handlers.push(a);return a},handlers:null,__class__:Fc};Zb=function(){this.handlers=[]};i["hxevents.Notifier"]=Zb;Zb.__name__=["hxevents",
"Notifier"];Zb.prototype={_stop:null,dispatch:function(){for(var a=this.handlers.slice(),b=0;b<a.length;){var c=a[b];++b;if(!0==this._stop){this._stop=!1;break}c()}},remove:function(a){for(var b=0,c=this.handlers.length;b<c;){var d=b++;if(j.compareMethods(this.handlers[d],a))return this.handlers.splice(d,1)[0]}return null},addOnce:function(a){var b=this,c=null,c=function(){b.remove(c);a()};this.add(c);return c},add:function(a){this.handlers.push(a);return a},handlers:null,__class__:Zb};B=function(){};
i["js.Boot"]=B;B.__name__=["js","Boot"];B.__unhtml=function(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")};B.__trace=function(a,b){var c=null!=b?b.fileName+":"+b.lineNumber+": ":"",c=c+B.__string_rec(a,""),d;"undefined"!=typeof document&&null!=(d=document.getElementById("haxe:trace"))?d.innerHTML+=B.__unhtml(c)+"<br/>":"undefined"!=typeof console&&null!=console.log&&console.log(c)};B.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";
var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,e=a.length;d<e;)var h=d++,c=2!=h?c+(","+B.__string_rec(a[h],b)):c+B.__string_rec(a[h],b);return c+")"}d=a.length;c="[";b+="\t";for(e=0;e<d;)h=e++,c+=(0<h?",":"")+B.__string_rec(a[h],b);return c+"]"}try{e=a.toString}catch(o){return"???"}if(null!=e&&e!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;
e=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(e in a)if(!d||a.hasOwnProperty(e))"prototype"==e||"__class__"==e||"__super__"==e||"__interfaces__"==e||"__properties__"==e||(2!=c.length&&(c+=", \n"),c+=b+e+" : "+B.__string_rec(a[e],b));b=b.substring(1);return c+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};B.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var h=d++,h=c[h];
if(h==b||B.__interfLoop(h,b))return!0}return B.__interfLoop(a.__super__,b)};B.__instanceof=function(a,b){try{if(a instanceof b)return b==Array?null==a.__enum__:!0;if(B.__interfLoop(a.__class__,b))return!0}catch(c){if(null==b)return!1}switch(b){case le:return Math.ceil(a%2147483648)===a;case ae:return"number"==typeof a;case ie:return!0===a||!1===a;case String:return"string"==typeof a;case pe:return!0;default:return null==a?!1:b==qe&&null!=a.__name__||b==re&&null!=a.__ename__?!0:a.__enum__==b}};B.__cast=
function(a,b){if(B.__instanceof(a,b))return a;throw"Cannot cast "+t.string(a)+" to "+t.string(b);};kd=function(){};i["js.Scroll"]=kd;kd.__name__=["js","Scroll"];kd.getTop=function(){var a=window.pageYOffset;if("number"==typeof a||document.body&&(a=document.body.scrollTop))return a;return document.documentElement.scrollTop};kd.getLeft=function(){var a=window.pageXOffset;if("number"==typeof a||document.body&&(a=document.body.scrollLeft))return a;return document.documentElement.scrollLeft};w=void 0;
Ia=void 0;w=function(){(null==w.BI_RC||0==w.BI_RC.length)&&w.initBiRc();if(0==w.BI_RM.length)throw"BI_RM not initialized";this.chunks=[];switch(w.defaultAm){case 1:this.am=v(this,this.am1);break;case 2:this.am=v(this,this.am2);break;case 3:this.am=v(this,this.am3);break;default:throw"am error";}};i["math.BigInteger"]=w;w.__name__=["math","BigInteger"];w.initBiRc=function(){w.BI_RC=[];for(var a=u.cca("0",0),b=0;10>b;){var c=b++;w.BI_RC[a]=c;a++}a=u.cca("a",0);for(b=10;37>b;)c=b++,w.BI_RC[a]=c,a++;
a=u.cca("A",0);for(b=10;37>b;)c=b++,w.BI_RC[a]=c,a++};w.get_ZERO=function(){return w.nbv(0)};w.get_ONE=function(){return w.nbv(1)};w.nbv=function(a){var b=w.nbi();b.fromInt(a);return b};w.nbi=function(){return new w};w.ofString=function(a,b){var c=w.nbi(),d=function(a,b){c.fromInt(0);for(var d=Math.floor(0.6931471805599453*w.DB/Math.log(b)),e=Math.pow(b,d)|0,h=!1,o=0,f=0,g=0,Td=a.length;g<Td;){var i=g++,j=w.intAt(a,i);0>j?"-"==a.charAt(i)&&0==c.sign&&(h=!0):(f=b*f+j,++o>=d&&(c.dMultiply(e),c.dAddOffset(f,
0),f=o=0))}0<o&&(c.dMultiply(Math.pow(b,o)|0),c.dAddOffset(f,0));h&&w.get_ZERO().subTo(c,c);return c};if(16==b)d=4;else{if(10==b)return d(a,b);if(256==b)d=8;else if(8==b)d=3;else if(2==b)d=1;else if(32==b)d=5;else if(4==b)d=2;else return d(a,b)}c.t=0;c.sign=0;for(var e=a.length,h=!1,o=0;0<=--e;){var f=8==d?u.cca(a,e)&255:w.intAt(a,e);0>f?"-"==a.charAt(e)&&(h=!0):(h=!1,0==o?(c.chunks[c.t]=f,c.t++):o+d>w.DB?(c.chunks[c.t-1]|=(f&(1<<w.DB-o)-1)<<o,c.chunks[c.t]=f>>w.DB-o,c.t++):c.chunks[c.t-1]|=f<<o,
o+=d,o>=w.DB&&(o-=w.DB))}if(8==d&&0!=(u.cca(a,0)&128))c.sign=-1,0<o&&(c.chunks[c.t-1]|=(1<<w.DB-o)-1<<o);c.clamp();h&&w.get_ZERO().subTo(c,c);return c};w.ofBytes=function(a,b,c,d){null==c&&(c=0);null==d&&(d=a.length-c);if(0==d)return w.get_ZERO();var e=w.nbi();e.sign=0;e.t=0;for(var h=c+d,o=0;--h>=c;){var f=h<d?a.b[h]&255:0;0==o?(e.chunks[e.t]=f,e.t++):o+8>w.DB?(e.chunks[e.t-1]|=(f&(1<<w.DB-o)-1)<<o,e.chunks[e.t]=f>>w.DB-o,e.t++):e.chunks[e.t-1]|=f<<o;o+=8;o>=w.DB&&(o-=w.DB)}if(!b&&0!=(a.b[0]&128))e.sign=
-1,0<o&&(e.chunks[e.t-1]|=(1<<w.DB-o)-1<<o);e.clamp();return e};w.nbits=function(a){var b=1,c;if(0!=(c=a>>>16))a=c,b+=16;if(0!=(c=a>>8))a=c,b+=8;if(0!=(c=a>>4))a=c,b+=4;if(0!=(c=a>>2))a=c,b+=2;0!=a>>1&&(b+=1);return b};w.intAt=function(a,b){var c=w.BI_RC[u.cca(a,b)];return null==c?-1:c};w.prototype={am3:function(a,b,c,d,e,h){for(var o=b&16383,b=b>>14;0<=--h;){var f=this.chunks[a]&16383,g=this.chunks[a]>>14;a++;var k=b*f+g*o,f=o*f+((k&16383)<<14)+c.chunks[d]+e,e=(f>>28)+(k>>14)+b*g;c.chunks[d]=f&268435455;
d++}return e},am2:function(a,b,c,d,e,h){for(var o=b&32767,b=b>>15;0<=--h;){var f=this.chunks[a]&32767,g=this.chunks[a]>>15;a++;var k=b*f+g*o,f=o*f+((k&32767)<<15)+c.chunks[d]+(e&1073741823),e=(f>>>30)+(k>>>15)+b*g+(e>>>30);c.chunks[d]=f&1073741823;d++}return e},am1:function(a,b,c,d,e,h){for(;0<=--h;){var o=b*this.chunks[a]+c.chunks[d]+e;a++;e=Math.floor(o/67108864);c.chunks[d]=o&67108863;d++}return e},rShiftTo:function(a,b){b.sign=this.sign;var c=Math.floor(a/w.DB);if(c>=this.t)b.t=0;else{var d=a%
w.DB,e=w.DB-d,h=(1<<d)-1;b.chunks[0]=this.chunks[c]>>d;for(var o=c+1,f=this.t;o<f;){var g=o++;b.chunks[g-c-1]|=(this.chunks[g]&h)<<e;b.chunks[g-c]=this.chunks[g]>>d}0<d&&(b.chunks[this.t-c-1]|=(this.sign&h)<<e);b.t=this.t-c;b.clamp()}},lShiftTo:function(a,b){for(var c=a%w.DB,d=w.DB-c,e=(1<<d)-1,h=Math.floor(a/w.DB),o=this.sign<<c&w.DM,f=this.t-1;0<=f;)b.chunks[f+h+1]=this.chunks[f]>>d|o,o=(this.chunks[f]&e)<<c,f--;for(f=h-1;0<=f;)b.chunks[f]=0,f--;b.chunks[h]=o;b.t=this.t+h+1;b.sign=this.sign;b.clamp()},
exp:function(a,b){if(2147483647<a||1>a)return w.get_ONE();var c=w.nbi(),d=w.nbi(),e=b.convert(this),h=w.nbits(a)-1;for(e.copyTo(c);0<=--h;)if(b.sqrTo(c,d),0<(a&1<<h))b.mulTo(d,e,c);else var o=c,c=d,d=o;return b.revert(c)},dMultiply:function(a){this.chunks[this.t]=this.am(0,a-1,this,0,0,this.t);this.t++;this.clamp()},invDigit:function(){if(1>this.t)return 0;var a=this.chunks[0];if(0==(a&1))return 0;var b=a&3,b=b*(2-(a&15)*b)&15,b=b*(2-(a&255)*b)&255,b=b*(2-((a&65535)*b&65535))&65535,b=b*(2-a*b%w.DV)%
w.DV;return 0<b?w.DV-b:-b},drShiftTo:function(a,b){if(null!=b){for(var c=a;c<this.t;)b.chunks[c-a]=this.chunks[c],c++;b.t=Math.max(this.t-a,0)|0;b.sign=this.sign}},dlShiftTo:function(a,b){if(null!=b){for(var c=this.t-1;0<=c;)b.chunks[c+a]=this.chunks[c],c--;for(c=a-1;0<=c;)b.chunks[c]=0,c--;b.t=this.t+a;b.sign=this.sign}},dAddOffset:function(a,b){for(;this.t<=b;)this.chunks[this.t]=0,this.t++;for(this.chunks[b]+=a;this.chunks[b]>=w.DV;)this.chunks[b]-=w.DV,++b>=this.t&&(this.chunks[this.t]=0,this.t++),
++this.chunks[b]},padTo:function(a){for(;this.t<a;)this.chunks[this.t]=0,this.t++},clamp:function(){for(var a=this.sign&w.DM;0<this.t&&this.chunks[this.t-1]==a;)--this.t},subTo:function(a,b){for(var c=0,d=0,e=Math.min(a.t,this.t)|0;c<e;)d+=this.chunks[c]-a.chunks[c],b.chunks[c]=d&w.DM,c++,d>>=w.DB;if(a.t<this.t){for(d-=a.sign;c<this.t;)d+=this.chunks[c],b.chunks[c]=d&w.DM,c++,d>>=w.DB;d+=this.sign}else{for(d+=this.sign;c<a.t;)d-=a.chunks[c],b.chunks[c]=d&w.DM,c++,d>>=w.DB;d-=a.sign}b.sign=0>d?-1:
0;-1>d?(b.chunks[c]=w.DV+d,c++):0<d&&(b.chunks[c]=d,c++);b.t=c;b.clamp()},squareTo:function(a){if(a==this)throw"can not squareTo self";for(var b=this.abs(),c=a.t=2*b.t;0<=--c;)a.chunks[c]=0;for(c=0;c<b.t-1;){var d=b.am(c,b.chunks[c],a,2*c,0,1);if((a.chunks[c+b.t]+=b.am(c+1,2*b.chunks[c],a,2*c+1,d,b.t-c-1))>=w.DV)a.chunks[c+b.t]-=w.DV,a.chunks[c+b.t+1]=1;c++}0<a.t&&(b=b.am(c,b.chunks[c],a,2*c,0,1),a.chunks[a.t-1]+=b);a.sign=0;a.clamp()},multiplyTo:function(a,b){var c=this.abs(),d=a.abs(),e=c.t;for(b.t=
e+d.t;0<=--e;)b.chunks[e]=0;for(var e=0,h=d.t;e<h;){var o=e++;b.chunks[o+c.t]=c.am(0,d.chunks[o],b,o,0,c.t)}b.sign=0;b.clamp();this.sign!=a.sign&&w.get_ZERO().subTo(b,b)},divRemTo:function(a,b,c){var d=a.abs();if(!(0>=d.t)){var e=this.abs();if(e.t<d.t)null!=b&&b.fromInt(0),null!=c&&this.copyTo(c);else{null==c&&(c=w.nbi());var h=w.nbi(),o=this.sign,a=a.sign,f=w.DB-w.nbits(d.chunks[d.t-1]);0<f?(e.lShiftTo(f,c),d.lShiftTo(f,h)):(e.copyTo(c),d.copyTo(h));d=h.t;e=h.chunks[d-1];if(0!=e){var g=1*e*1*(1<<
w.F1)+(1<d?1*(h.chunks[d-2]>>w.F2):0),k=w.FV/g,g=1*(1<<w.F1)/g,x=1*(1<<w.F2),i=c.t,fe=i-d,j=null==b?w.nbi():b;h.dlShiftTo(fe,j);0<=c.compare(j)&&(c.chunks[c.t]=1,c.t++,c.subTo(j,c));w.get_ONE().dlShiftTo(d,j);for(j.subTo(h,h);h.t<d;)h.chunks[h.t]=0,h.t++;for(;0<=--fe;){var l;l=c.chunks[--i]==e?w.DM:Math.floor(1*c.chunks[i]*k+(1*c.chunks[i-1]+x)*g);c.chunks[i]+=h.am(0,l,c,fe,0,d);if(c.chunks[i]<l){h.dlShiftTo(fe,j);for(c.subTo(j,c);c.chunks[i]<--l;)c.subTo(j,c)}}null!=b&&(c.drShiftTo(d,b),o!=a&&w.get_ZERO().subTo(b,
b));c.t=d;c.clamp();0<f&&c.rShiftTo(f,c);0>o&&w.get_ZERO().subTo(c,c)}}}},copyTo:function(a){for(var b=0,c=this.chunks.length;b<c;){var d=b++;a.chunks[d]=this.chunks[d]}a.t=this.t;a.sign=this.sign},bitLength:function(){return 0>=this.t?0:w.DB*(this.t-1)+w.nbits(this.chunks[this.t-1]^this.sign&w.DM)},neg:function(){var a=w.nbi();w.get_ZERO().subTo(this,a);return a},modPowInt:function(a,b){if(null==b)throw"m is null";var c;c=256>a||b.isEven()?new Ia.Classic(b):new Ia.Montgomery(b);return this.exp(a,
c)},mod:function(a){var b=w.nbi();this.abs().divRemTo(a,null,b);0>this.sign&&0<b.compare(w.get_ZERO())&&a.subTo(b,b);return b},isEven:function(){return 0==(0<this.t?this.chunks[0]&1:this.sign)},compare:function(a){var b=this.sign-a.sign;if(0!=b)return b;var c=this.t,b=c-a.t;if(0!=b)return b;for(;0<=--c;)if(b=this.chunks[c]-a.chunks[c],0!=b)return b;return 0},abs:function(){return 0>this.sign?this.neg():this},toBytesUnsigned:function(){var a=new ld,b=0,c=this.t,d=w.DB-c*w.DB%8,e=!1,h=0;if(0<c--){if(d<
w.DB&&0<(b=this.chunks[c]>>d))e=!0,a.b.push(b),h++;for(;0<=c;)8>d?(b=(this.chunks[c]&(1<<d)-1)<<8-d,b|=this.chunks[--c]>>(d+=w.DB-8)):(b=this.chunks[c]>>(d-=8)&255,0>=d&&(d+=w.DB,--c)),0<b&&(e=!0),e&&(a.b.push(b),h++)}return a.getBytes()},fromInt:function(a){this.t=1;this.chunks[0]=0;this.sign=0>a?-1:0;0<a?this.chunks[0]=a:-1>a?this.chunks[0]=a+w.DV:this.t=0},am:null,chunks:null,sign:null,t:null,__class__:w};Ia={ModularReduction:function(){}};i["math.reduction.ModularReduction"]=Ia.ModularReduction;
Ia.ModularReduction.__name__=["math","reduction","ModularReduction"];Ia.ModularReduction.prototype={sqrTo:null,mulTo:null,revert:null,convert:null,__class__:Ia.ModularReduction};Ia.Classic=function(a){this.m=a};i["math.reduction.Classic"]=Ia.Classic;Ia.Classic.__name__=["math","reduction","Classic"];Ia.Classic.__interfaces__=[Ia.ModularReduction];Ia.Classic.prototype={sqrTo:function(a,b){a.squareTo(b);this.reduce(b)},mulTo:function(a,b,c){a.multiplyTo(b,c);this.reduce(c)},reduce:function(a){a.divRemTo(this.m,
null,a)},revert:function(a){return a},convert:function(a){return 0>a.sign||0<=a.compare(this.m)?a.mod(this.m):a},m:null,__class__:Ia.Classic};Ia.Montgomery=function(a){this.m=a;this.mp=this.m.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<w.DB-15)-1;this.mt2=2*this.m.t};i["math.reduction.Montgomery"]=Ia.Montgomery;Ia.Montgomery.__name__=["math","reduction","Montgomery"];Ia.Montgomery.__interfaces__=[Ia.ModularReduction];Ia.Montgomery.prototype={sqrTo:function(a,b){a.squareTo(b);
this.reduce(b)},mulTo:function(a,b,c){a.multiplyTo(b,c);this.reduce(c)},reduce:function(a){a.padTo(this.mt2);for(var b=0;b<this.m.t;){var c=a.chunks[b]&32767,d=c*this.mpl+((c*this.mph+(a.chunks[b]>>15)*this.mpl&this.um)<<15)&w.DM,c=b+this.m.t;for(a.chunks[c]+=this.m.am(0,d,a,b,0,this.m.t);a.chunks[c]>=w.DV;)a.chunks[c]-=w.DV,a.chunks.length<c+2&&(a.chunks[c+1]=0),a.chunks[++c]++;b++}a.clamp();a.drShiftTo(this.m.t,a);0<=a.compare(this.m)&&a.subTo(this.m,a)},revert:function(a){var b=w.nbi();a.copyTo(b);
this.reduce(b);return b},convert:function(a){var b=w.nbi();a.abs().dlShiftTo(this.m.t,b);b.divRemTo(this.m,null,b);0>a.sign&&0<b.compare(w.get_ZERO())&&this.m.subTo(b,b);return b},um:null,mph:null,mpl:null,mp:null,mt2:null,m:null,__class__:Ia.Montgomery};var Cb;Cb=function(){};i["rg.RGConst"]=Cb;Cb.__name__=["rg","RGConst"];Pa=function(a){this.layouts=new L.StringMap;this.globalNotifier=a};Ya=void 0;lb=void 0;i["rg.app.charts.App"]=Pa;Pa.__name__=["rg","app","charts","App"];Pa.nextid=function(){return":RGVIZ-"+
++Pa.lastid};Pa.supportsSvg=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect};Pa.prototype={getLayout:function(a,b,c,d){var e=this.layouts.get(a);if(null!=e)if(d)e.destroy();else return e;d=ga.feed(new Wc,b);b=(new dc).create(d,null==b.marginheight?0:b.marginheight,c);this.layouts.set(a,b);return b},visualization:function(a,b){var c=this;Pa.chartsCounter++;var d=a.node(),e=d.id;if(null==e)d.id=e=Pa.nextid();var d=ga.feed(new Xc,
b),h=new Rd(ga.feed(new Yc,b).loader),o=(new xd).createVariables(d.variables),f=ga.feed(new Zc,d.options),g=ga.feed(new $c,d.options),k=!Pa.supportsSvg()||f.forcelegacy,x=null,i=o.filter(function(a){return B.__instanceof(a,cc)}),j=o.filter(function(a){return B.__instanceof(a,rc)});h.onLoad.addOnce(function(a){(new vd).process(a,i);(new wd).process(a,j)});if(!k){switch(ga.feed(new ad,d.options).kind[1]){case 1:e=this.getLayout(e,d.options,a,g.replace);x=(new yd).create(g.type,e,d.options);break;case 0:g.replace&&
a.selectAll("*").remove(),x=(new zd).create(g.type,a,d.options)}x.setVariables(o,i,j);x.init();null!=f.ready&&x.addReady(f.ready);h.onLoad.addOnce(function(a){x.feedData(a)})}var l=0,m=ga.feed(new bd,b.options.download);if(k){var p=new Ba(a,m.legacyservice);h.onLoad.addOnce(function(a){b.datapoints=a;p.display(b);if(null!=f.ready)p.onReady(f.ready)})}if(!k&&(null!=m.position||null!=m.handler)){var n=new Gb(x.container,m.service);null!=m.handler?x.addReadyOnce(function(){m.handler(v(n,n.download))}):
x.addReadyOnce(function(){new F.DownloaderMenu(v(n,n.download),m.position,m.formats,x.container);l=24})}k||(!b.options.a&&"file://"!=document.location.href.substr(0,7)&&x.addReadyOnce(function(){F.Logo.createLogo(x.container,l)}),x.addReadyOnce(function(){Pa.chartsLoaded++;Pa.chartsLoaded==Pa.chartsCounter&&c.globalNotifier.dispatch()}));null!=b.options.error&&x.addError(b.options.error);sb.delay(v(h,h.load),0);return x},globalNotifier:null,layouts:null,__class__:Pa};Ya=function(){};i["rg.app.charts.JSBridge"]=
Ya;Ya.__name__=["rg","app","charts","JSBridge"];Ya.log=function(a){(window.console&&window.console.warn||alert)(a)};Ya.main=function(){var a="undefined"==typeof ReportGrid?window.ReportGrid={}:ReportGrid,b=new Zb,c=!1;b.addOnce(function(){c=!0});a.charts={ready:function(a){c?a():b.add(a)}};var d=new Pa(b);a.chart=function(a,b,c){c=Ya.chartopt(b,c);c.options.a=!1;lb.complete(c,function(c){try{d.visualization(Ya.select(a),c)}catch(e){Ya.log(t.string(e)),null!=b.error&&b.error(e)}})};a.barChart=function(b,
c){return a.chart(b,c,"barchart")};a.funnelChart=function(b,c){return a.chart(b,c,"funnelchart")};a.geo=function(b,c){return a.chart(b,c,"geo")};a.heatGrid=function(b,c){return a.chart(b,c,"heatgrid")};a.leaderBoard=function(b,c){return a.chart(b,c,"leaderboard")};a.lineChart=function(b,c){return a.chart(b,c,"linechart")};a.pieChart=function(b,c){return a.chart(b,c,"piechart")};a.pivotTable=function(b,c){return a.chart(b,c,"pivottable")};a.sankey=function(b,c){return a.chart(b,c,"sankey")};a.scatterGraph=
function(b,c){return a.chart(b,c,"scattergraph")};a.streamGraph=function(b,c){return a.chart(b,c,"streamgraph")};a.parseQueryParameters=ac.parseQueryParameters;a.findScript=rd.findScript;a.format=ca.format;a.compare=ca.compare;a.dump=ca.string;var e=K.SymbolCache.cache;a.symbol=function(a,b){return e.get(a,null==b?100:b)};a.date={range:function(a,b,c){B.__instanceof(a,String)&&(a=s.DateParser.parse(a));null==a&&(a=X.defaultRange(c)[0]);B.__instanceof(a,Date)&&(a=a.getTime());B.__instanceof(b,String)&&
(b=s.DateParser.parse(b));null==b&&(b=X.defaultRange(c)[1]);B.__instanceof(b,Date)&&(b=b.getTime());return X.range(a,b,c)},formatPeriodicity:function(a,b){var c=B.__instanceof(a,Date)?a.getTime():B.__instanceof(a,ae)?a:s.DateParser.parse(a).getTime();return X.format(b,c)},parse:s.DateParser.parse,snap:ja.snap};a.humanize=function(a){return B.__instanceof(a,String)&&Aa.isTime(a)?Aa.periodicity(a):ka.humanize(a)};var h=new V.Random(666);a.math={setRandomSeed:function(a){h=new V.Random(a)},random:function(){return((h.seed=
16807*h.seed%2147483647)&1073741823)/1073741823}};a.query=null!=a.query?a.query:Ya.createQuery();a.info=null!=a.info?a.info:{};a.info.charts={version:"1.5.32.9213"};a.getTooltip=function(){return F.Tooltip.get_instance()}};Ya.createQuery=function(){for(var a=pb.create(),b={},c=0,d=z.getInstanceFields(z.getClass(a));c<d.length;){var e=[d[c]];++c;"_"!=u.substr(e[0],0,1)&&j.isFunction(j.field(a,e[0]))&&(b[e[0]]=function(a){return function(){var b=pb.create();return j.field(b,a[0]).apply(b,arguments)}}(e))}return b};
Ya.select=function(a){var b=B.__instanceof(a,String)?O.select(a):O.selectNode(a);if(b.empty())throw new H.Error("invalid container '{0}'",a,null,{fileName:"JSBridge.hx",lineNumber:194,className:"rg.app.charts.JSBridge",methodName:"select"});return b};Ya.opt=function(a){return null==a?{}:ra.clone(a)};Ya.chartopt=function(a,b){a=null==a?{}:ra.clone(a);a.options=Ya.opt(a.options);a.options.visualization=null!=b?b:a.options.visualization;return a};lb=function(){};i["rg.app.charts.MVPOptions"]=lb;lb.__name__=
["rg","app","charts","MVPOptions"];lb.a1=function(a,b){var c=ReportGrid.authCode,d=!1;null==c&&(c=rd.findScript("reportgrid-charts.js"),c=ac.parseQueryParameters(c.src),c=j.field(c,"authCode"));if(null!=c){var c=new sd(c),e=[],h=ea.window.location.hostname;if((new M("^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$","")).match(h))e.push(h);else{h=h.split(".");3==h.length&&"www"==h[0]&&h.shift();for(e.push(h.join("."));2<h.length;)h.shift();e.push("*."+h.join("."))}d=c.authorizeMany(e)}else d=F.Logo.pageIsBranded();
lb.a1=function(a,b){a.options.a=d;b(a)};lb.a1(a,b)};lb.a2=function(a,b){var c=function(c){lb.a2=null==c?function(a,b){b(a)}:function(a,b){a.options.a=c;b(a)};lb.a2(a,b)},d=ReportGrid.token;a.options.a||null==d?c(null):d(function(a){c((0>=a.expires||a.expires>=(new Date).getTime())&&a.permissions.read)},function(){c(null)})};lb.complete=function(a,b){var c=new td(b);if(null==a.options)a.options={};var d=a.options;if(null!=d.download&&!hb.isAnonymous(d.download)){var e=d.download;j.deleteField(d,"download");
if(!0==e)d.download={position:"auto"};else if(B.__instanceof(e,String))d.download={position:e};else throw new H.Error("invalid value for download '{0}'",[e],null,{fileName:"MVPOptions.hx",lineNumber:118,className:"rg.app.charts.MVPOptions",methodName:"complete"});}if(null!=d.map&&hb.isAnonymous(d.map))d.map=[d.map];c.addAction(lb.a1);c.addAction(lb.a2);c.addAction(function(a,b){var c=a.axes,d=!1;null==c&&(c=[]);a.axes=c=c.map(function(a){return B.__instanceof(a,String)?{type:a}:a});for(var e=0,f=
c.length;e<f;){var g=e++,i=c[g].variable;null==i?c[g].variable=!d&&g==c.length-1?"dependent":"independent":"dependent"==i&&(d=!0)}for(f=0;f<c.length;)if(d=c[f],++f,"dependent"!=d.variable)switch(a.options.visualization){case "barchart":case "pivottable":if(null==d.scalemode)d.scalemode="fit"}b(a)});c.addAction(function(a,b){if(null==a.options.label)a.options.label={};switch(a.options.visualization){case "linechart":case "barchart":case "streamgraph":var c=a.axes[0].type;if(null==a.options.label.datapointover)a.options.label.datapointover=
function(b,d){return(null!=a.options.segmenton?Aa.formatValue(a.options.segmenton,b)+", ":"")+Aa.formatValue(c,b)+": "+Aa.formatValue(d.type,b)};break;case "scattergraph":case "heatgrid":var d=a.axes[0].type;if(null==a.options.label.datapointover)a.options.label.datapointover=function(a,b){return Aa.formatValue(d,a)+": "+Aa.formatValue(b.type,a)};break;case "geo":var e=a.axes[0].type,f=a.options.map;if(null==f[f.length-1].label)f[f.length-1].label={};if(null==f[f.length-1].label.datapointover)f[f.length-
1].label.datapointover=function(a,b){var c=Aa.formatValue(e,a);return null==c?null:c+": "+Aa.formatValue(b.type,a)};break;case "piechart":if(null==a.options.label.datapoint)a.options.label.datapoint=function(b,c){var d=j.field(b,c.type);return 1<a.axes.length?Aa.formatValue(a.axes[0].type,b):0!=c.tot?G.format(Math.round(1E3*d/c.tot)/10,"P:1"):ka.humanize(d)};if(null==a.options.label.datapointover)a.options.label.datapointover=function(b,c){var d=j.field(b,c.type);return ka.humanize(c.type)+": "+ka.humanize(d)+
(1<a.axes.length&&0!=c.tot?" ("+G.format(Math.round(1E3*d/c.tot)/10,"P:1")+")":"")};break;case "funnelchart":if(null==a.options.label.datapointover)a.options.label.datapointover=function(b,c){var d=j.field(b,c.type);return ka.humanize(c.type)+": "+ka.humanize(d)+(1<a.axes.length&&0!=c.tot?" ("+G.format(Math.round(1E3*d/c.tot)/10,"P:1")+")":"")};break;case "sankey":var f=a.axes,g=f[f.length-1].type;if(null==a.options.label.datapointover)a.options.label.datapointover=function(a,b){var c=j.field(a,g);
return ka.humanize(g)+": "+Aa.formatValue(g,a)+"\n"+(0!=b.tot?G.format(Math.round(1E3*c/b.tot)/10,"P:1"):ka.humanize(c))};if(null==a.options.label.node)a.options.label.node=function(a){return null!=a?a.id:""};if(null==a.options.label.datapoint)a.options.label.datapoint=function(a){return Aa.formatValue(g,a)+"\n"+ka.humanize(g)};if(null==a.options.label.edge)a.options.label.edge=function(a){return G.format(100*a.edgeweight/a.nodeweight,"D:0")+"%"};if(null==a.options.label.edgeover)a.options.label.edgeover=
function(a){return G.format(a.edgeweight,"D:0")+"\n"+G.format(100*a.edgeweight/a.nodeweight,"D:0")+"%"}}b(a)});c.execute(a)};qd=function(){};Rb=void 0;Qd=void 0;vb=void 0;Ga=void 0;nb=void 0;Sc=void 0;wb=void 0;Sb=void 0;Eb=void 0;ob=void 0;ab=void 0;xb=void 0;pc=void 0;qc=void 0;Fb=void 0;Tc=void 0;Uc=void 0;i["rg.axis.IAxis"]=qd;qd.__name__=["rg","axis","IAxis"];qd.prototype={createStats:null,min:null,max:null,ticks:null,scale:null,__class__:qd};Rb=function(){};i["rg.axis.IAxisDiscrete"]=Rb;Rb.__name__=
["rg","axis","IAxisDiscrete"];Rb.__interfaces__=[qd];Rb.prototype={range:null,scaleDistribution:null,__class__:Rb};Qd=function(){};i["rg.axis.IAxisOrdinal"]=Qd;Qd.__name__=["rg","axis","IAxisOrdinal"];Qd.__interfaces__=[Rb];vb=function(){this.set_scaleDistribution(Ga.ScaleFit)};i["rg.axis.AxisOrdinal"]=vb;vb.__name__=["rg","axis","AxisOrdinal"];vb.__interfaces__=[Qd];vb.prototype={createStats:function(a){return new nb(a)},max:function(){return S.last(this.values())},min:function(){return this.values()[0]},
set_scaleDistribution:function(a){return this.scaleDistribution=a},values:function(){throw new H.AbstractMethod({fileName:"AxisOrdinal.hx",lineNumber:64,className:"rg.axis.AxisOrdinal",methodName:"values"});},scale:function(a,b,c){var d=this.values(),e=d.indexOf(a),h=d.indexOf(b),f=d.indexOf(c);if(0>e)throw new H.Error("the start bound '{0}' is not part of the values {1}",[a,d],null,{fileName:"AxisOrdinal.hx",lineNumber:54,className:"rg.axis.AxisOrdinal",methodName:"scale"});if(0>h)throw new H.Error("the end bound '{0}' is not part of the values {1}",
[b,d],null,{fileName:"AxisOrdinal.hx",lineNumber:56,className:"rg.axis.AxisOrdinal",methodName:"scale"});if(0>f)throw new H.Error("the value '{0}' is not part of the values {1}",[c,d],null,{fileName:"AxisOrdinal.hx",lineNumber:58,className:"rg.axis.AxisOrdinal",methodName:"scale"});return Sc.distribute(this.scaleDistribution,f-e,h-e+1)},range:function(a,b){var c=this.values(),d=c.indexOf(a),e=c.indexOf(b);if(0>d)throw new H.Error("the start bound '{0}' is not part of the acceptable values {1}",[a,
c],null,{fileName:"AxisOrdinal.hx",lineNumber:41,className:"rg.axis.AxisOrdinal",methodName:"range"});if(0>e)throw new H.Error("the end bound '{0}' is not part of the acceptable values {1}",[b,c],null,{fileName:"AxisOrdinal.hx",lineNumber:43,className:"rg.axis.AxisOrdinal",methodName:"range"});return c.slice(d,e+1)},ticks:function(a,b,c){if(0==c)return[];a=wb.fromArray(this.range(a,b),this.scaleDistribution);return Sb.bound(a,c)},scaleDistribution:null,__class__:vb,__properties__:{set_scaleDistribution:"set_scaleDistribution"}};
Eb=function(a){vb.call(this);this._values=a};i["rg.axis.AxisOrdinalFixedValues"]=Eb;Eb.__name__=["rg","axis","AxisOrdinalFixedValues"];Eb.__super__=vb;Eb.prototype=A(vb.prototype,{values:function(){return this._values},_values:null,__class__:Eb});ob=function(a){Eb.call(this,ob.valuesByGroup(a));this.groupBy=a};i["rg.axis.AxisGroupByTime"]=ob;ob.__name__=["rg","axis","AxisGroupByTime"];ob.valuesByGroup=function(a){return P.range(ob.defaultMin(a),ob.defaultMax(a)+1)};ob.defaultMin=function(a){switch(a){case "minute":case "hour":case "week":case "month":return 0;
case "day":return 1;default:throw new H.Error("invalid periodicity '{0}' for groupBy min",null,a,{fileName:"AxisGroupByTime.hx",lineNumber:34,className:"rg.axis.AxisGroupByTime",methodName:"defaultMin"});}};ob.defaultMax=function(a){switch(a){case "minute":return 59;case "hour":return 23;case "day":return 31;case "week":return 6;case "month":return 11;default:throw new H.Error("invalid periodicity '{0}' for groupBy max",null,a,{fileName:"AxisGroupByTime.hx",lineNumber:48,className:"rg.axis.AxisGroupByTime",
methodName:"defaultMax"});}};ob.__super__=Eb;ob.prototype=A(Eb.prototype,{groupBy:null,__class__:ob});ab=function(){};i["rg.axis.AxisNumeric"]=ab;ab.__name__=["rg","axis","AxisNumeric"];ab.__interfaces__=[qd];ab._step=function(a,b){var c=Math.pow(10,Math.floor(Math.log(a/b)/2.302585092994046)),d=b/a*c;0.15>=d?c*=10:0.35>=d?c*=5:0.75>=d&&(c*=2);return c};ab.niceMin=function(a,b){var c=Math.pow(10,Math.round(Math.log(a)/2.302585092994046)-1);return Math.floor(b/c)*c};ab.niceMax=function(a,b){var c=
Math.pow(10,Math.round(Math.log(a)/2.302585092994046)-1);return Math.ceil(b/c)*c};ab.prototype={createStats:function(a){return new xb(a)},max:function(a,b){if(null!=b.max)return b.max;var c=ab.niceMax(a.max-a.min,a.max);return 0<c?c:0},min:function(a,b){if(null!=b.min)return b.min;var c=ab.niceMin(a.max-a.min,a.min);return 0>c?c:0},ticks:function(a,b,c){var d=b-a,e;if(0==a%1&&0==b%1&&10>d&&1<=d)e=G.range(a,b+1,1),d=null;else{var h=ab._step(d,5),d=ab._step(d,20),d=0==d?[0]:G.range(a,b,d,!0);e=0==h?
[0]:G.range(a,b,h,!0)}return Sb.bound(null==d?e.map(function(c){return new pc(c,!0,(c-a)/(b-a))}):d.map(function(c){return new pc(c,u.remove(e,c),(c-a)/(b-a))}),c)},scale:function(a,b,c){return a==b?a:G.uninterpolatef(a,b)(c)},__class__:ab};qc=function(a){vb.call(this);this.variable=a};i["rg.axis.AxisOrdinalStats"]=qc;qc.__name__=["rg","axis","AxisOrdinalStats"];qc.__super__=vb;qc.prototype=A(vb.prototype,{values:function(){return this.variable.stats.values},variable:null,__class__:qc});Fb=function(a){this.periodicity=
a;this.set_scaleDistribution(Ga.ScaleFill)};i["rg.axis.AxisTime"]=Fb;Fb.__name__=["rg","axis","AxisTime"];Fb.__interfaces__=[Rb];Fb.prototype={createStats:function(a){return new xb(a)},max:function(a){return a.max},min:function(a){return a.min},set_scaleDistribution:function(a){return this.scaleDistribution=a},scale:function(a,b,c){switch(this.scaleDistribution[1]){case 1:return(c-a)/(b-a);default:return a=this.range(a,b),Sc.distribute(this.scaleDistribution,a.indexOf(ja.snap(c,this.periodicity)),
a.length)}},range:function(a,b){return X.range(a,b,this.periodicity)},ticks:function(a,b,c){var d=this,e=X.unitsBetween(a,b,this.periodicity),h=this.range(a,b),a=h.map(function(a){return new Tc(a,h,d.isMajor(e,a),d.periodicity,d.scaleDistribution)});return Sb.bound(a,c)},isMajor:function(a,b){switch(this.periodicity){case "day":if(31>=a)return!0;return 121>a?(function(){var a=new Date;a.setTime(b);return a}(this).getDate(),X.firstInSeries("month",b)||X.firstInSeries("week",b)):X.firstInSeries("month",
b);case "week":return 31>a?!0:7>=function(){var a=new Date;a.setTime(b);return a}(this).getDate();default:var c=j.field(Fb.snapping,this.periodicity),d=X.units(b,this.periodicity);if(null==c)return!0;for(var e=0;e<c.length;){var h=c[e];++e;if(!(a>h.to))return 0==d%h.s}c=j.field(Fb.snapping,this.periodicity+"top");null==c&&(c=1);return 0==d%c}},scaleDistribution:null,periodicity:null,__class__:Fb,__properties__:{set_scaleDistribution:"set_scaleDistribution"}};Uc=function(){};i["rg.axis.ITickmark"]=
Uc;Uc.__name__=["rg","axis","ITickmark"];Uc.prototype={label:null,value:null,major:null,delta:null,__class__:Uc};Ga={__ename__:["rg","axis","ScaleDistribution"],__constructs__:["ScaleFit","ScaleFill","ScaleBefore","ScaleAfter"],ScaleFit:["ScaleFit",0]};Ga.ScaleFit.toString=q;Ga.ScaleFit.__enum__=Ga;Ga.ScaleFill=["ScaleFill",1];Ga.ScaleFill.toString=q;Ga.ScaleFill.__enum__=Ga;Ga.ScaleBefore=["ScaleBefore",2];Ga.ScaleBefore.toString=q;Ga.ScaleBefore.__enum__=Ga;Ga.ScaleAfter=["ScaleAfter",3];Ga.ScaleAfter.toString=
q;Ga.ScaleAfter.__enum__=Ga;Sc=function(){};i["rg.axis.ScaleDistributions"]=Sc;Sc.__name__=["rg","axis","ScaleDistributions"];Sc.distribute=function(a,b,c){switch(a[1]){case 0:return(b+0.5)/c;case 1:return b/(c-1);case 2:return b/c;case 3:return(b+1)/c}};nb=function(a,b){this.type=a;this.sortf=b;this.reset()};i["rg.axis.Stats"]=nb;nb.__name__=["rg","axis","Stats"];nb.prototype={addMany:function(a){for(a=Qa(a)();a.hasNext();){var b=a.next();this.count++;S.exists(this.values,b)||this.values.push(b)}null!=
this.sortf&&this.values.sort(this.sortf);this.min=this.values[0];this.max=S.last(this.values);return this},add:function(a){this.count++;if(S.exists(this.values,a))return this;this.values.push(a);null!=this.sortf&&this.values.sort(this.sortf);this.min=this.values[0];this.max=S.last(this.values);return this},reset:function(){this.max=this.min=null;this.count=0;this.values=[];return this},type:null,sortf:null,values:null,count:null,max:null,min:null,__class__:nb};xb=function(a,b){if(null==b)b=G.compare;
nb.call(this,a,b)};i["rg.axis.StatsNumeric"]=xb;xb.__name__=["rg","axis","StatsNumeric"];xb.__super__=nb;xb.prototype=A(nb.prototype,{addMany:function(a){nb.prototype.addMany.call(this,a);for(a=Qa(a)();a.hasNext();)this.tot+=a.next();return this},add:function(a){nb.prototype.add.call(this,a);this.tot+=a;return this},reset:function(){nb.prototype.reset.call(this);this.tot=0;return this},tot:null,__class__:xb});pc=function(a,b,c){this.value=a;this.major=b;this.delta=c};i["rg.axis.Tickmark"]=pc;pc.__name__=
["rg","axis","Tickmark"];pc.__interfaces__=[Uc];pc.prototype={get_label:function(){return ka.humanize(this.get_value())},get_value:function(){return this.value},get_major:function(){return this.major},get_delta:function(){return this.delta},label:null,value:null,major:null,delta:null,__class__:pc,__properties__:{get_delta:"get_delta",get_major:"get_major",get_value:"get_value",get_label:"get_label"}};wb=function(a,b,c,d){null==c&&(c=!0);this.pos=a;this.values=b;this.scaleDistribution=d;this.major=
c};i["rg.axis.TickmarkOrdinal"]=wb;wb.__name__=["rg","axis","TickmarkOrdinal"];wb.__interfaces__=[Uc];wb.fromArray=function(a,b){return I.map(u.iter(a),function(c,d){return new wb(d,a,null,b)})};wb.prototype={get_label:function(){return ka.humanize(this.values[this.pos])},label:null,get_value:function(){return this.values[this.pos]},value:null,get_major:function(){return this.major},major:null,get_delta:function(){return Sc.distribute(this.scaleDistribution,this.pos,this.values.length)},delta:null,
scaleDistribution:null,values:null,pos:null,__class__:wb,__properties__:{get_delta:"get_delta",get_major:"get_major",get_value:"get_value",get_label:"get_label"}};Tc=function(a,b,c,d,e){wb.call(this,b.indexOf(a),b,c,e);this.periodicity=d};i["rg.axis.TickmarkTime"]=Tc;Tc.__name__=["rg","axis","TickmarkTime"];Tc.__super__=wb;Tc.prototype=A(wb.prototype,{get_label:function(){return X.smartFormat(this.periodicity,this.values[this.pos])},periodicity:null,__class__:Tc});Sb=function(){};i["rg.axis.Tickmarks"]=
Sb;Sb.__name__=["rg","axis","Tickmarks"];Sb.bound=function(a,b){if(null==b||a.length<=(2>b?2:b))return a;var c=a.filter(function(a){return a.get_major()});if(c.length>b)return Sb.reduce(c,b);c=Sb.reduce(a.filter(function(a){return!a.get_major()}),b-c.length).concat(c);c.sort(function(a,b){return G.compare(a.get_delta(),b.get_delta())});return c};Sb.reduce=function(a,b){if(1==b)return[a[0]];if(2==b)return[a[a.length-1]];var c=a.length/b,d=[],e=0;do d.push(a[Math.round(c*e++)]);while(b>d.length);return d};
Rd=function(a){if(null==a)throw new H.NullArgument("loader","invalid null argument '{0}' for method {1}.{2}()",{fileName:"DataLoader.hx",lineNumber:11,className:"rg.data.DataLoader",methodName:"new"});this.loader=a;this.onLoad=new Fc};cc=void 0;rc=void 0;vd=void 0;wd=void 0;sc=void 0;Hb=void 0;i["rg.data.DataLoader"]=Rd;Rd.__name__=["rg","data","DataLoader"];Rd.prototype={load:function(){var a=this;this.loader(function(b){a.onLoad.dispatch(b)})},onLoad:null,loader:null,__class__:Rd};wd=function(){};
i["rg.data.DependentVariableProcessor"]=wd;wd.__name__=["rg","data","DependentVariableProcessor"];wd.prototype={process:function(a,b){for(var c=0;c<b.length;){var d=b[c];++c;var e=xa.values(a,d.type);if(0!=e.length){null==d.axis&&d.setAxis((new Vc).create(d.type,B.__instanceof(e[0],ae),d,null));d.stats.addMany(e);var h;if(null!=d.scaleDistribution&&null!=(h=hb.as(d.axis,Rb)))h.set_scaleDistribution(d.scaleDistribution),d.scaleDistribution=null}}},__class__:wd};vd=function(){};i["rg.data.IndependentVariableProcessor"]=
vd;vd.__name__=["rg","data","IndependentVariableProcessor"];vd.prototype={process:function(a,b){for(var c=0;c<b.length;){var d=b[c];++c;d.stats.addMany(xa.values(a,d.type));var e;if(null!=d.scaleDistribution&&null!=(e=hb.as(d.axis,Rb)))e.set_scaleDistribution(d.scaleDistribution),d.scaleDistribution=null}},__class__:vd};sc=function(a,b,c,d){this.on=a;this.transform=b;this.scale=c;this.values=d};i["rg.data.Segmenter"]=sc;sc.__name__=["rg","data","Segmenter"];sc.prototype={segment:function(a){var b=
this,c;if(null==this.on)c=[a];else if(0<this.values.length){c=[];for(var d=0,e=this.values;d<e.length;){var h=[e[d]];++d;c.push(a.filter(function(a){return function(c){return j.field(c,b.on)==a[0]}}(h)))}}else c=xa.partition(a,this.on);if(null!=this.scale){e=0;for(d=c.length;e<d;)a=e++,c[a]=this.scale(c[a])}if(null!=this.transform){c=S.rotate(c);e=0;for(d=c.length;e<d;)a=e++,c[a]=this.transform(c[a]);c=S.rotate(c)}return c},values:null,scale:null,transform:null,on:null,__class__:sc};Hb=function(a,
b){this.type=a;this.scaleDistribution=b;this.meta={}};i["rg.data.Variable"]=Hb;Hb.__name__=["rg","data","Variable"];Hb.prototype={get_maxf:function(){if(null==this.maxf){if(null==this.axis)throw new H.Error("axis is null in '{0}' variable (required by max)",[this.type],null,{fileName:"Variable.hx",lineNumber:61,className:"rg.data.Variable",methodName:"get_maxf"});this.set_maxf((Q=this.axis,v(Q,Q.max)))}return this.maxf},get_minf:function(){if(null==this.minf){if(null==this.axis)throw new H.Error("axis is null in '{0}' variable (required by min)",
[this.type],null,{fileName:"Variable.hx",lineNumber:50,className:"rg.data.Variable",methodName:"get_minf"});this.set_minf((Q=this.axis,v(Q,Q.min)))}return this.minf},set_maxf:function(a){return this.maxf=a},set_minf:function(a){return this.minf=a},max:function(){return this.get_maxf()(this.stats,this.meta)},min:function(){return this.get_minf()(this.stats,this.meta)},setAxis:function(a){this.axis=a;this.stats=null!=a?a.createStats(this.type):null},maxf:null,minf:null,meta:null,stats:null,axis:null,
scaleDistribution:null,type:null,__class__:Hb,__properties__:{set_minf:"set_minf",get_minf:"get_minf",set_maxf:"set_maxf",get_maxf:"get_maxf"}};rc=function(a,b){Hb.call(this,a,b)};i["rg.data.VariableDependent"]=rc;rc.__name__=["rg","data","VariableDependent"];rc.__super__=Hb;rc.prototype=A(Hb.prototype,{__class__:rc});cc=function(a,b){Hb.call(this,a,b)};i["rg.data.VariableIndependent"]=cc;cc.__name__=["rg","data","VariableIndependent"];cc.__super__=Hb;cc.prototype=A(Hb.prototype,{__class__:cc});Vc=
function(){};dc=void 0;xd=void 0;yd=void 0;zd=void 0;Ad=void 0;Ib=void 0;Bd=void 0;i["rg.factory.FactoryAxis"]=Vc;Vc.__name__=["rg","factory","FactoryAxis"];Vc.prototype={createDiscrete:function(a,b,c,d){return 0<=a.indexOf("time:")?null!=d?new ob(u.substr(a,a.indexOf("time:")+5,null)):new Fb(u.substr(a,a.indexOf("time:")+5,null)):null!=c&&0<c.length?new Eb(c):new qc(b)},create:function(a,b,c,d){return null!=d&&0<d.length?new Eb(d):!0==b?new ab:!1==b?new qc(c):null},__class__:Vc};Ad=function(){};
i["rg.factory.FactoryGeoProjection"]=Ad;Ad.__name__=["rg","factory","FactoryGeoProjection"];Ad.prototype={create:function(a){switch(a.projection.toLowerCase()){case "mercator":var b=new W.Mercator;null!=a.scale&&b.set_scale(a.scale);null!=a.translate?b.set_translate(a.translate):b.set_translate([0,0]);return b;case "albers":return b=new W.Albers,null!=a.scale&&b.set_scale(a.scale),null!=a.translate?b.set_translate(a.translate):b.set_translate([0,0]),null!=a.origin&&b.set_origin(a.origin),null!=a.parallels&&
b.set_parallels(a.parallels),b;case "albersusa":return b=new W.AlbersUsa,null!=a.scale&&b.set_scale(a.scale),null!=a.translate?b.set_translate(a.translate):b.set_translate([0,0]),b;case "azimuthal":return b=new W.Azimuthal,null!=a.scale&&b.set_scale(a.scale),null!=a.translate?b.set_translate(a.translate):b.set_translate([0,0]),null!=a.mode&&b.set_mode(a.mode),null!=a.origin&&b.set_origin(a.origin),b;default:throw new H.Error("the projection '{0}' does not exist or is not implemented",[a.projection],
null,{fileName:"FactoryGeoProjection.hx",lineNumber:68,className:"rg.factory.FactoryGeoProjection",methodName:"create"});}},__class__:Ad};zd=function(){};i["rg.factory.FactoryHtmlVisualization"]=zd;zd.__name__=["rg","factory","FactoryHtmlVisualization"];zd.prototype={create:function(a,b,c){switch(a){case "pivottable":return a=new Ic(b),a.info=ga.feed(new qb,c),a;case "leaderboard":return a=new Jc(b),a.info=ga.feed(new cd,c),a;default:throw new H.Error("unsupported visualization '{0}'",null,a,{fileName:"FactoryHtmlVisualization.hx",
lineNumber:35,className:"rg.factory.FactoryHtmlVisualization",methodName:"create"});}},__class__:zd};dc=function(){};i["rg.factory.FactoryLayout"]=dc;dc.__name__=["rg","factory","FactoryLayout"];dc.size=function(a,b,c){var d,e=null==b.width?10<(d=a.node().clientWidth)?d:400:b.width,a=(null==b.height?10<(d=a.node().clientHeight)?d:300:b.height)-c;return{width:e,height:a}};dc.prototype={create:function(a,b,c){var b=dc.size(c,a,b),d=a.layout;null==d&&(d=ha.layoutDefault.get(a.type));if(null==d)throw new H.Error("unable to find a suitable layout for '{0}'",
null,a.type,{fileName:"FactoryLayout.hx",lineNumber:28,className:"rg.factory.FactoryLayout",methodName:"create"});c=ha.instantiateLayout(d,b.width,b.height,c);c.feedOptions(a);return c},__class__:dc};yd=function(){};i["rg.factory.FactorySvgVisualization"]=yd;yd.__name__=["rg","factory","FactorySvgVisualization"];yd.prototype={create:function(a,b,c){switch(a){case "barchart":return a=new Kc(b),a.info=a.infoBar=ga.feed(new tc,c),a;case "funnelchart":return a=new Lc(b),a.info=ga.feed(new dd,c),a;case "geo":return a=
new Mc(b),a.info=ga.feed(new ed,c),a;case "heatgrid":return a=new Nc(b),a.info=a.infoHeatGrid=ga.feed(new uc,c),a;case "linechart":return a=new Oc(b),a.info=a.infoLine=ga.feed(new vc,c),a;case "piechart":return a=new Pc(b),a.info=ga.feed(new fd,c),a;case "sankey":return a=new mb(b),a.info=ga.feed(new gd,c),a;case "scattergraph":return a=new Qc(b),a.info=a.infoScatter=ga.feed(new wc,c),a;case "streamgraph":return a=new Rc(b),a.info=a.infoStream=ga.feed(new xc,c),a;default:throw new H.Error("unsupported visualization type '{0}'",
null,a,{fileName:"FactorySvgVisualization.hx",lineNumber:76,className:"rg.factory.FactorySvgVisualization",methodName:"create"});}},__class__:yd};xd=function(){this.independentFactory=new Ib;this.dependentFactory=new Bd};i["rg.factory.FactoryVariable"]=xd;xd.__name__=["rg","factory","FactoryVariable"];xd.prototype={createVariables:function(a){var b=this;return a.map(function(a){switch(a.variableType[1]){case 1:return b.independentFactory.create(a);case 2:return b.dependentFactory.create(a,null);case 0:return b.dependentFactory.create(a,
null)}})},dependentFactory:null,independentFactory:null,__class__:xd};Bd=function(){};i["rg.factory.FactoryVariableDependent"]=Bd;Bd.__name__=["rg","factory","FactoryVariableDependent"];Bd.prototype={create:function(a,b){if(null==a.type)throw new H.Error("cannot create an axis if type is not specified",null,null,{fileName:"FactoryVariableDependent.hx",lineNumber:18,className:"rg.factory.FactoryVariableDependent",methodName:"create"});var c=new Vc,d=new rc(a.type,a.scaleDistribution),c=c.create(a.type,
b,d,a.values);d.setAxis(c);d.set_minf(Ib.convertBound(c,a.min));d.set_maxf(Ib.convertBound(c,a.max));return d},__class__:Bd};Ib=function(){};i["rg.factory.FactoryVariableIndependent"]=Ib;Ib.__name__=["rg","factory","FactoryVariableIndependent"];Ib.convertBound=function(a,b){if(null==b||j.isFunction(b))return b;if(B.__instanceof(a,Fb)){B.__instanceof(b,Date)&&(b=B.__cast(b,Date).getTime());if(B.__instanceof(b,ae))return function(){return b};if(B.__instanceof(b,String))return function(){return s.DateParser.parse(b).getTime()};
throw new H.Error("invalid value '{0}' for time bound",[b],null,{fileName:"FactoryVariableIndependent.hx",lineNumber:46,className:"rg.factory.FactoryVariableIndependent",methodName:"convertBound"});}return function(){return b}};Ib.prototype={create:function(a){if(null==a.type)return null;var b=new Vc,c=new cc(a.type,a.scaleDistribution),b=b.createDiscrete(a.type,c,a.values,a.groupBy);c.setAxis(b);c.set_minf(Ib.convertBound(b,a.min));c.set_maxf(Ib.convertBound(b,a.max));return c},__class__:Ib};Hc=
function(){this.x=this.y=this.width=this.height=0};Y=void 0;wa=void 0;pd=void 0;Ta=void 0;i["rg.frame.Frame"]=Hc;Hc.__name__=["rg","frame","Frame"];Hc.prototype={set_layout:function(a,b,c,d){if(!(this.x==a&&this.y==b&&this.width==c&&this.height==d))this.x=a,this.y=b,this.width=c,this.height=d,this.change()},change:function(){},height:null,width:null,y:null,x:null,__class__:Hc};Y={__ename__:["rg","frame","FrameLayout"],__constructs__:["Fill","FillPercent","FillRatio","Fixed","Floating"]};Y.Fill=function(a,
b,c,d){a=["Fill",0,a,b,c,d];a.__enum__=Y;a.toString=q;return a};Y.FillPercent=function(a,b,c,d,e){a=["FillPercent",1,a,b,c,d,e];a.__enum__=Y;a.toString=q;return a};Y.FillRatio=function(a,b,c){a=["FillRatio",2,a,b,c];a.__enum__=Y;a.toString=q;return a};Y.Fixed=function(a,b,c){a=["Fixed",3,a,b,c];a.__enum__=Y;a.toString=q;return a};Y.Floating=function(a,b,c,d){a=["Floating",4,a,b,c,d];a.__enum__=Y;a.toString=q;return a};wa={__ename__:["rg","frame","Orientation"],__constructs__:["Vertical","Horizontal"],
Vertical:["Vertical",0]};wa.Vertical.toString=q;wa.Vertical.__enum__=wa;wa.Horizontal=["Horizontal",1];wa.Horizontal.toString=q;wa.Horizontal.__enum__=wa;pd=function(a,b,c){this.orientation=null==c?wa.Vertical:c;this.children=[];this.width=a;this.height=b};i["rg.frame.Stack"]=pd;pd.__name__=["rg","frame","Stack"];pd.prototype={setSize:function(a,b){if(this.width==a&&this.height==b)return this;this.width=a;this.height=b;this.reflow();return this},get_length:function(){return this.children.length},
reflow:function(){for(var a=function(a){var b;switch(a.orientation[1]){case 0:b=a.height;break;case 1:b=a.width}return b}(this),b=function(a){var b;switch(a.orientation[1]){case 0:b=a.width;break;case 1:b=a.height}return b}(this),c=0,d=[],e=[],h=0,f=0,g=0,i=this.children;g<i.length;){var k=i[g];++g;k=k.disposition;switch(k[1]){case 0:var x=k[5],N=k[4],j=k[3],k=k[2];null==N&&(N=0);null==x&&(x=a);c+=N+k+j;f+=e[h]=x-N;d.push(N+k+j);break;case 1:var x=k[6],N=k[5],j=k[3],l=k[2],k=Math.round(k[4]*a);null!=
N&&k<N&&(k=N);null!=x&&k>x&&(k=x);c+=k+l+j;d.push(k+l+j);break;case 2:N=k[4];x=k[3];j=k[2];null==N&&(N=1);k=Math.round(b*N);c+=k+j+x;d.push(k+j+x);break;case 3:N=k[4];x=k[3];k=k[2];c+=N+k+x;d.push(N+k+x);break;case 4:d.push(0)}h++}a-=c;if(0<a){g=h=0;for(i=this.children;g<i.length;){k=i[g];++g;switch(k.disposition[1]){case 0:k=Math.round(e[h]/f*a),d[h]+=k}h++}}e=h=0;switch(this.orientation[1]){case 0:i=0;for(f=this.children;i<f.length;){k=f[i];++i;b=k;k=k.disposition;switch(k[1]){case 4:g=k[5];x=k[4];
N=k[3];k=k[2];b.set_layout(k,N,x,g);break;case 3:case 0:case 1:case 2:x=k[3],k=k[2],b.set_layout(0,e+k,this.width,d[h]-x-k)}e+=d[h++]}break;case 1:i=0;for(f=this.children;i<f.length;){k=f[i];++i;b=k;k=k.disposition;switch(k[1]){case 4:g=k[5];x=k[4];N=k[3];k=k[2];b.set_layout(k,N,x,g);break;case 3:case 0:case 1:case 2:x=k[3],k=k[2],b.set_layout(e+k,0,d[h]-x-k,this.height)}e+=d[h++]}}0>a&&this.moreSpaceRequired(c)},removeChild:function(a){if(!u.remove(this.children,a))return!1;a.set_parent(null);this.reflow();
return!0},addItems:function(a){for(var b=!1,a=Qa(a)();a.hasNext();){var c=a.next();null!=c&&(b=!0,this.children.push(c),c.set_parent(this))}b&&this.reflow();return this},addItem:function(a){if(null==a)return this;this.children.push(a);a.set_parent(this);this.reflow();return this},insertItem:function(a,b){if(null==b)return this;if(a>=this.children.length)return this.addItem(b);0>a&&(a=0);this.children.splice(a,0,b);b.set_parent(this);this.reflow();return this},moreSpaceRequired:function(){},orientation:null,
height:null,width:null,children:null,__class__:pd};Ta=function(a){Hc.call(this);this.set_disposition(a)};i["rg.frame.StackItem"]=Ta;Ta.__name__=["rg","frame","StackItem"];Ta.__super__=Hc;Ta.prototype=A(Hc.prototype,{set_disposition:function(a){this.disposition=a;null!=this.parent&&this.parent.reflow();return a},set_parent:function(a){null!=this.parent&&this.parent.removeChild(this);return this.parent=a},parent:null,disposition:null,__class__:Ta,__properties__:{set_disposition:"set_disposition"}});
Ua={};F=void 0;Ua.Leadeboard=function(a){this.ready=new Zb;this.container=a;this.animated=!0;this.animationDuration=1500;this.animationEase=V.Equations.elasticf();this.animationDelay=150;this._created=0;this.displayGradient=!0;this.colorScale=this.useMax=!1};i["rg.html.chart.Leadeboard"]=Ua.Leadeboard;Ua.Leadeboard.__name__=["rg","html","chart","Leadeboard"];Ua.Leadeboard.prototype={id:function(a){return xa.id(a,[this.variableDependent.type])},lTitle:function(a){return this.labelDataPointOver(a,this.stats)},
lDataPoint:function(a){return this.labelDataPoint(a,this.stats)},lValue:function(a){return this.labelValue(a,this.stats)},lRank:function(a,b){return this.labelRank(a,b,this.stats)},fadeIn:function(a,b){var c=this;O.selectNodeData(a).transition().ease(this.animationEase).duration(null,this.animationDuration).delay(null,this.animationDelay*(b-this._created)).attr("opacity")["float"](1).endNode(function(){c._created++})},onClick:function(a){this.click(a)},data:function(a){null!=this.sortDataPoint&&a.sort(this.sortDataPoint);
if(null!=this.variableDependent.stats){this.stats=B.__cast(this.variableDependent.stats,xb);var a=this.list.selectAll("li").data(a,v(this,this.id)),b=a.enter().append("li");b.attr("title").stringf(v(this,this.lTitle));b.append("div").attr("class").stringf(function(a,b){return 0==b%2?"rg_background fill-0":"rg_background"});var c=b.append("div").attr("class").string("rg_labels");if(null!=v(this,this.labelRank)){var d=c.append("div").text().stringf(v(this,this.lRank));this.colorScale?d.attr("class").stringf(function(a,
b){return"rg_rank fill fill-"+b}):d.attr("class").string("rg_rank")}null!=v(this,this.labelDataPoint)&&c.append("span").attr("class").string("rg_description color-0").text().stringf(v(this,this.lDataPoint));null!=v(this,this.labelValue)&&c.append("span").attr("class").string("rg_value color-2").text().stringf(v(this,this.lValue));b.append("div").attr("class").string("clear");this.displayBar&&(c=b.append("div").attr("class").string("rg_barpadding").append("div").attr("class").string("rg_barcontainer"),
c.append("div").attr("class").string("rg_barback fill-0"),c.append("div").attr("class").string("rg_bar fill-0").style("width").stringf(v(this,this.backgroundSize)),b.append("div").attr("class").string("clear"));if(null!=this.click)b.on("click.user",v(this,this.onClick));if(this.animated)b.style("opacity")["float"](0).eachNode(v(this,this.fadeIn));else b.style("opacity")["float"](1);this.animated?a.exit().transition().ease(this.animationEase).duration(null,this.animationDuration).style("opacity")["float"](0).remove():
a.exit().remove();this.ready.dispatch()}},backgroundSize:function(a){return 100*j.field(a,this.variableDependent.type)/(this.useMax?this.stats.max:this.stats.tot)+"%"},setVariables:function(a,b){this.variableDependent=b[0];this.variableIndependent=a[0]},init:function(){var a=this.container.append("div").attr("class").string("leaderboard");this.list=a.append("ul");a.append("div").attr("class").string("clear")},labelValue:function(a,b){return Aa.formatValue(b.type,a)},labelRank:function(a,b){return""+
(b+1)},labelDataPointOver:function(a,b){return G.format(100*j.field(a,b.type)/(this.useMax?b.max:b.tot),"P:1")},labelDataPoint:function(a){return Aa.humanize(j.field(a,this.variableIndependent.type))},stats:null,_created:null,list:null,container:null,displayBar:null,ready:null,colorScale:null,useMax:null,displayGradient:null,sortDataPoint:null,click:null,animationEase:null,animationDelay:null,animationDuration:null,animated:null,variableDependent:null,variableIndependent:null,__class__:Ua.Leadeboard};
m=void 0;H=void 0;V=void 0;s=void 0;W=void 0;f=void 0;Z=void 0;p=void 0;aa=void 0;Kb=void 0;R=void 0;yb=void 0;r=void 0;Ha=void 0;fb=void 0;Lb=void 0;Na=void 0;gb=void 0;f={Rgb:function(a,b,c){this.red=P.clamp(a,0,255);this.green=P.clamp(b,0,255);this.blue=P.clamp(c,0,255)}};i["thx.color.Rgb"]=f.Rgb;f.Rgb.__name__=["thx","color","Rgb"];f.Rgb.fromInt=function(a){return new f.Rgb(a>>16&255,a>>8&255,a&255)};f.Rgb.interpolatef=function(a,b,c){var d=P.interpolatef(a.red,b.red,c),e=P.interpolatef(a.green,
b.green,c),h=P.interpolatef(a.blue,b.blue,c);return function(a){return new f.Rgb(d(a),e(a),h(a))}};f.Rgb.contrastBW=function(a){var b=f.Grey.toGrey(a),a=f.Hsl.toHsl(a);return 0.5>b.grey?new f.Hsl(a.hue,a.saturation,1):new f.Hsl(a.hue,a.saturation,0)};f.Rgb.interpolateStepsf=function(a,b){if(0>=a.length)throw new H.Error("invalid number of steps",null,null,{fileName:"Rgb.hx",lineNumber:164,className:"thx.color.Rgb",methodName:"interpolateStepsf"});if(1==a.length)return function(){return a[0]};if(2==
a.length)return f.Rgb.interpolatef(a[0],a[1],b);for(var c=a.length-1,d=1/c,e=[],h=0;h<c;){var o=h++;e[o]=f.Rgb.interpolatef(a[o],a[o+1])}return function(a){0>a?a=0:1<a&&(a=1);var b=1==a?c-1:Math.floor(a/d);return e[b](c*(a-b*d))}};f.Rgb.prototype={toRgbString:function(){return"rgb("+this.red+","+this.green+","+this.blue+")"},hex:function(a){null==a&&(a="");return a+C.hex(this.red,2)+C.hex(this.green,2)+C.hex(this.blue,2)},red:null,green:null,blue:null,__class__:f.Rgb};f.Hsl=function(a,b,c){this.hue=
a=G.circularWrap(a,360);this.saturation=b=G.normalize(b);this.lightness=c=G.normalize(c);f.Rgb.call(this,P.interpolate(f.Hsl._c(a+120,b,c),0,255,null),P.interpolate(f.Hsl._c(a,b,c),0,255,null),P.interpolate(f.Hsl._c(a-120,b,c),0,255,null))};i["thx.color.Hsl"]=f.Hsl;f.Hsl.__name__=["thx","color","Hsl"];f.Hsl._c=function(a,b,c){b=0.5>=c?c*(1+b):c+b-c*b;c=2*c-b;a=G.circularWrap(a,360);return 60>a?c+(b-c)*a/60:180>a?b:240>a?c+(b-c)*(240-a)/60:c};f.Hsl.toHsl=function(a){var b=a.red/255,c=a.green/255,d=
a.blue/255,e=G.min(b<c?b:c,d),h=G.max(b>c?b:c,d),o=h-e,a=(h+e)/2;0==o?e=b=0:(e=0.5>a?o/(h+e):o/(2-h-e),b=60*(b==h?(c-d)/o+(c<d?6:0):c==h?(d-b)/o+2:(b-c)/o+4));return new f.Hsl(b,e,a)};f.Hsl.darker=function(a,b,c){return new f.Hsl(a.hue,a.saturation,G.interpolate(b,a.lightness,0,c))};f.Hsl.lighter=function(a,b,c){return new f.Hsl(a.hue,a.saturation,G.interpolate(b,a.lightness,1,c))};f.Hsl.interpolatef=function(a,b,c){return function(d){return new f.Hsl(G.interpolate(d,a.hue,b.hue,c),G.interpolate(d,
a.saturation,b.saturation,c),G.interpolate(d,a.lightness,b.lightness,c))}};f.Hsl.__super__=f.Rgb;f.Hsl.prototype=A(f.Rgb.prototype,{lightness:null,saturation:null,hue:null,__class__:f.Hsl});V={Equations:function(){}};i["thx.math.Equations"]=V.Equations;V.Equations.__name__=["thx","math","Equations"];V.Equations.linear=function(a){return a};V.Equations.polynomial=function(a,b){return Math.pow(a,b)};V.Equations.cubic=function(a){return V.Equations.polynomial(a,3)};V.Equations.elasticf=function(a,b){var c;
null==b&&(b=0.45);null==a?(a=1,c=b/4):c=b/(2*Math.PI)/Math.asin(1/a);return function(d){return 1+a*Math.pow(2,10*-d)*Math.sin(2*(d-c)*Math.PI/b)}};Ua.PivotTable=function(a){this.ready=new Zb;this.container=a;this.displayHeatMap=this.displayRowTotal=this.displayColumnTotal=!0;this.colorStart=Ua.PivotTable.defaultColorStart;this.colorEnd=Ua.PivotTable.defaultColorEnd;this.incolumns=1};i["rg.html.chart.PivotTable"]=Ua.PivotTable;Ua.PivotTable.__name__=["rg","html","chart","PivotTable"];Ua.PivotTable.prototype=
{range:function(a){return a.axis.range(a.min(),a.max())},transformData:function(a){for(var b=[],c=[],d=[],e=[],h=new xb(null),f,g=0,i=P.min(1,this.columnVariables.length);g<i;){var k=g++;f=this.columnVariables[k];b.push(f.type);for(var k=0,x=this.range(f);k<x.length;){var N=x[k];++k;d.push({values:[N],stats:null,type:f.type})}}g=1;for(i=this.columnVariables.length;g<i;){k=g++;f=this.columnVariables[k];b.push(f.type);for(var l=d.slice(),d=[],k=0;k<l.length;){var m=l[k];++k;for(var x=0,p=this.range(f);x<
p.length;){N=p[x];++x;var n=ra.clone(m);n.values.push(N);d.push(n)}}}for(var q,g=0,i=d.length;g<i;){k=g++;x=[d[k]];f=new xb(null);x[0].stats=f;k=0;for(x=a.filter(function(a){return function(c){for(var d=0,e=b.length;d<e;){var h=d++;q=b[h];if(0<=q.indexOf("time:")&&ja.snap(j.field(c,q),u.substr(q,q.indexOf("time:")+5,null))==a[0].values[h]||j.field(c,q)==a[0].values[h])return!0}return!1}}(x));k<x.length;)l=x[k],++k,m=j.field(l,this.cellVariable.type),null!=m&&(f.add(m),h.add(m))}g=0;for(i=P.min(1,
this.rowVariables.length);g<i;){k=g++;f=this.rowVariables[k];c.push(f.type);k=0;for(x=this.range(f);k<x.length;)N=x[k],++k,e.push({values:[N],stats:null,cells:null})}g=1;for(i=this.rowVariables.length;g<i;){k=g++;f=this.rowVariables[k];c.push(f.type);l=e.slice();e=[];for(k=0;k<l.length;){m=l[k];++k;x=0;for(p=this.range(f);x<p.length;)N=p[x],++x,n=ra.clone(m),n.values.push(N),e.push(n)}}for(var s,g=0,i=e.length;g<i;){k=g++;f=[e[k]];f[0].stats=new xb(null);f[0].cells=[];N=a.filter(function(a){return function(b){for(var d=
0,e=c.length;d<e;){var h=d++;s=c[h];if(0<=s.indexOf("time:")&&ja.snap(j.field(b,s),u.substr(s,s.indexOf("time:")+5,null))!=a[0].values[h]||j.field(b,s)!=a[0].values[h])return!1}return!0}}(f));x=0;for(k=d.length;x<k;)l=x++,l=[d[l]],0<=l[0].type.indexOf("time:")?(m=[Aa.periodicity(l[0].type)],l=S.firstf(N,function(a,c){return function(d){for(var e=0,h=c[0].values.length;e<h;){var f=e++;if(ja.snap(j.field(d,b[f]),a[0])!=c[0].values[f])return!1}return!0}}(m,l))):l=S.firstf(N,function(a){return function(c){for(var d=
0,e=a[0].values.length;d<e;){var h=d++;if(j.field(c,b[h])!=a[0].values[h])return!1}return!0}}(l)),m=j.field(l,this.cellVariable.type),null==m?f[0].cells.push({}):(f[0].cells.push(l),f[0].stats.add(m))}return{column_headers:b,row_headers:c,columns:d,rows:e,stats:h}},setVariables:function(a,b){this.cellVariable=b[0];this.columnVariables=[];for(var c=0,d=this.incolumns;c<d;){var e=c++;this.columnVariables.push(a[e])}this.rowVariables=[];c=this.incolumns;for(d=a.length;c<d;)e=c++,this.rowVariables.push(a[e])},
init:function(){},prependSpacer:function(a,b){if(0!=a){var c=b.append("th").attr("class").string("spacer");if(1<a)c.attr("colspan")["float"](a)}},buildValue:function(a,b,c,d){d=d.append("th").text().string(this.labelAxisValue(a,b));if(1<c)d.attr("colspan")["float"](c);c=["column value"];null!=this.valueclass&&(a=this.valueclass(a,b),null!=a&&c.push(a));d.attr("class").string(c.join(" "))},formatDataPointOver:function(a){return this.labelDataPointOver(a,this.stats)},formatDataPoint:function(a){return this.labelDataPoint(a,
this.stats)},formatTotalOver:function(a){return this.labelTotalOver(a,this.stats)},formatTotal:function(a){return this.labelTotal(a,this.stats)},onClick:function(a){this.click(a)},data:function(a){var a=this.transformData(a),b=this.container.append("table").classed().add("pivot-table"),c=b.append("thead"),d=0<a.rows.length?a.rows[0].values.length:0,e=f.Rgb.interpolatef(this.colorStart,this.colorEnd);this.stats=a.stats;if(0<a.columns.length)for(var h=0,o=a.column_headers.length;h<o;){var g=h++,i=c.append("tr");
this.prependSpacer(d,i);var i=i.append("th").text().string(this.labelAxis(a.column_headers[g])),k=["col-header"];if(null!=this.headerclass){var x=this.headerclass(a.column_headers[g]);null!=x&&k.push(x)}i.attr("class").string(k.join(" "));if(1<a.columns.length)i.attr("colspan")["float"](a.columns.length);var k=1,N=a.columns[0].values[g],i=c.append("tr");if(g==a.column_headers.length-1)for(var l=0,m=a.row_headers;l<m.length;){var p=m[l];++l;var n=i.append("th").text().string(this.labelAxis(p)),q=["row-header"];
null!=this.headerclass&&(x=this.headerclass(p),null!=x&&q.push(x));n.attr("class").string(q.join(" "))}else this.prependSpacer(d,i);m=1;for(l=a.columns.length;m<l;)n=m++,n=a.columns[n].values[g],N==n?k++:(this.buildValue(N,a.column_headers[g],k,i),k=1,N=n);null!=N&&this.buildValue(N,a.column_headers[g],k,i)}if(0==a.column_headers.length){i=c.append("tr");o=0;for(h=a.row_headers;o<h.length;)p=h[o],++o,i.append("th").attr("class").string("row header").text().string(this.labelAxis(p))}c=b.append("tbody");
N=[];o=0;for(h=a.rows;o<h.length;){p=h[o];++o;i=c.append("tr");q=p.values.length;for(l=0;l<q;){var g=l++,x=p.values[g],s=x==N[g];if(!s){N[g]=x;for(m=g+1;m<q;)n=m++,N[n]=null}n=i.append("th").text().string(s?"":this.labelAxisValue(x,a.row_headers[g]));k=["row value"];s&&k.push("empty");null!=this.valueclass&&(g=this.valueclass(x,a.row_headers[g]),null!=g&&k.push(g));n.attr("class").string(k.join(" "))}l=0;for(m=p.cells;l<m.length;){g=m[l];++l;n=i.append("td").text().string(this.formatDataPoint(g)).attr("title").string(this.formatDataPointOver(g));
if(null!=this.click)n.onNode("click",function(a,b){return function(c,d){return a(b,c,d)}}(v(this,this.onClick),g));if(this.displayHeatMap&&!Math.isNaN(x=j.field(g,this.cellVariable.type)/a.stats.max))k=e(x),n.style("color").color(f.Rgb.contrastBW(k)).style("background-color").color(k);k=[];null!=this.cellclass&&(g=this.cellclass(g,p.stats),null!=g&&k.push(g));n.attr("class").string(k.join(" "))}this.displayRowTotal&&1<a.columns.length&&(n=i.append("th").text().string(this.formatTotal(p.stats.tot)),
l=this.formatTotalOver(p.stats.tot),null!=l&&n.attr("title").string(l),k=["row total"],null!=this.totalclass&&(g=this.totalclass(p.stats.tot,p.values),null!=g&&k.push(g)),n.attr("class").string(k.join(" ")))}h=b.append("tfoot");if(this.displayColumnTotal&&1<a.rows.length){i=h.append("tr");this.prependSpacer(d,i);o=0;for(h=a.columns;o<h.length;)d=h[o],++o,l=this.formatTotalOver(d.stats.tot),n=i.append("th").text().string(this.formatTotal(d.stats.tot)),null!=l&&n.attr("title").string(l),k=["column total"],
null!=this.totalclass&&(g=this.totalclass(d.stats.tot,d.values),null!=g&&k.push(g)),n.attr("class").string(k.join(" "));this.displayRowTotal&&1<a.columns.length&&(n=i.append("th").text().string(this.formatTotal(a.stats.tot)).attr("title").string(this.formatTotalOver(a.stats.tot)),k=["table total"],null!=this.totalclass&&(g=this.totalclass(a.stats.tot,[]),null!=g&&k.push(g)),n.attr("class").string(k.join(" ")))}this.ready.dispatch()},labelTotalOver:function(a,b){return m.FormatNumber.percent(100*a/
b.tot,1)},labelTotal:function(a){return m.FormatNumber["int"](a)},labelAxisValue:function(a,b){if(0<=b.indexOf("time:")){var c=u.substr(b,b.indexOf("time:")+5,null);return X.format(c,a)}return ka.humanize(a)},labelAxis:function(a){return ka.humanize(a)},labelDataPointOver:function(a,b){var c=j.field(a,this.cellVariable.type);return Math.isNaN(c)?"0":m.FormatNumber.percent(100*c/b.tot,1)},labelDataPoint:function(a){a=j.field(a,this.cellVariable.type);return Math.isNaN(a)?"0":m.FormatNumber["int"](a)},
stats:null,container:null,totalclass:null,headerclass:null,valueclass:null,cellclass:null,click:null,incolumns:null,cellVariable:null,rowVariables:null,columnVariables:null,ready:null,colorEnd:null,colorStart:null,displayHeatMap:null,displayRowTotal:null,displayColumnTotal:null,__class__:Ua.PivotTable};F={};F.DownloaderMenu=function(a,b,c,d){this.handler=a;this.formats=null==c?F.DownloaderMenu.DEFAULT_FORMATS:c;this.title=F.DownloaderMenu.DEFAULT_TITLE;this.build(b,d)};i["rg.html.widget.DownloaderMenu"]=
F.DownloaderMenu;F.DownloaderMenu.__name__=["rg","html","widget","DownloaderMenu"];F.DownloaderMenu.prototype={click:function(a){var b=this;this.menu.classed().add("downloading");this.handler(a,this.backgroundColor,function(){b.menu.classed().remove("downloading");return!0},function(a){b.menu.classed().remove("downloading");ea.window.alert("ERROR: "+a)})},createMenu:function(a){this.menu=a.append("div").attr("class").string("rg menu");a=this.menu.append("div").attr("class").string("options");a.append("div").attr("class").string("title").html().string(this.title);
a.append("ul").selectAll("li").data(this.formats).enter().append("li").on("click.download",v(this,this.click)).html().stringf(function(a){return a})},build:function(a,b){this.createMenu(b);var c=this.menu.node();switch(a[1]){case 6:b.node().parentNode.insertBefore(c,b.node().nextSibling);break;case 5:b.node().parentNode.insertBefore(c,b.node());break;case 3:this.menu.classed().add("bottom").classed().add("left");break;case 4:this.menu.classed().add("bottom").classed().add("right");break;case 0:O.select(a[2]).node().appendChild(c);
break;case 1:this.menu.classed().add("top").classed().add("left");break;case 2:this.menu.classed().add("top").classed().add("right")}},menu:null,backgroundColor:null,title:null,formats:null,handler:null,__class__:F.DownloaderMenu};F.DownloaderPosition={__ename__:["rg","html","widget","DownloaderPosition"],__constructs__:"ElementSelector,TopLeft,TopRight,BottomLeft,BottomRight,Before,After".split(",")};F.DownloaderPosition.ElementSelector=function(a){a=["ElementSelector",0,a];a.__enum__=F.DownloaderPosition;
a.toString=q;return a};F.DownloaderPosition.TopLeft=["TopLeft",1];F.DownloaderPosition.TopLeft.toString=q;F.DownloaderPosition.TopLeft.__enum__=F.DownloaderPosition;F.DownloaderPosition.TopRight=["TopRight",2];F.DownloaderPosition.TopRight.toString=q;F.DownloaderPosition.TopRight.__enum__=F.DownloaderPosition;F.DownloaderPosition.BottomLeft=["BottomLeft",3];F.DownloaderPosition.BottomLeft.toString=q;F.DownloaderPosition.BottomLeft.__enum__=F.DownloaderPosition;F.DownloaderPosition.BottomRight=["BottomRight",
4];F.DownloaderPosition.BottomRight.toString=q;F.DownloaderPosition.BottomRight.__enum__=F.DownloaderPosition;F.DownloaderPosition.Before=["Before",5];F.DownloaderPosition.Before.toString=q;F.DownloaderPosition.Before.__enum__=F.DownloaderPosition;F.DownloaderPosition.After=["After",6];F.DownloaderPosition.After.toString=q;F.DownloaderPosition.After.__enum__=F.DownloaderPosition;F.DownloaderPositions=function(){};i["rg.html.widget.DownloaderPositions"]=F.DownloaderPositions;F.DownloaderPositions.__name__=
["rg","html","widget","DownloaderPositions"];F.DownloaderPositions.parse=function(a){switch(a.toLowerCase()){case "topleft":return F.DownloaderPosition.TopLeft;case "topright":case "auto":return F.DownloaderPosition.TopRight;case "bottomleft":return F.DownloaderPosition.BottomLeft;case "bottomright":return F.DownloaderPosition.BottomRight;case "before":return F.DownloaderPosition.Before;case "after":return F.DownloaderPosition.After;default:return F.DownloaderPosition.ElementSelector(a)}};F.Logo=
function(a,b){this.mapvalues=new L.StringMap;this.padRight=b;this.id=++F.Logo._id;this.container=a;this.create();(new sb(5E3)).run=v(this,this.live)};i["rg.html.widget.Logo"]=F.Logo;F.Logo.__name__=["rg","html","widget","Logo"];F.Logo.pageIsBranded=function(){for(var a=0,b=F.Logo.getLogos();a<b.length;){var c=b[a];++a;if(!O.select('img[src="'+c+'"]').empty())return!0}return!1};F.Logo.createLogo=function(a,b){var c=a.attr("id").get(),d=F.Logo.registry.get(c);null==d?F.Logo.registry.set(c,d=new F.Logo(a,
b)):d.live();return d};F.Logo.getLogo=function(){return F.Logo.getLogos()[0]};F.Logo.getLogos=function(){return"http://api.reportgrid.com/css/images/reportgrid-clear.png,http://api.reportgrid.com/css/images/reportgrid-cleart.png,http://api.reportgrid.com/css/images/reportgrid-dark.png,http://api.reportgrid.com/css/images/reportgrid-darkt.png,https://api.reportgrid.com/css/images/reportgrid-clear.png,https://api.reportgrid.com/css/images/reportgrid-cleart.png,https://api.reportgrid.com/css/images/reportgrid-dark.png,https://api.reportgrid.com/css/images/reportgrid-darkt.png".split(",")};
F.Logo.position=function(a){for(var b={x:a.offsetLeft||0,y:a.offsetTop||0};null!=(a=a.offsetParent);)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b};F.Logo.prototype={updateImage:function(){this.setAttr(this.image,"src",F.Logo.getLogo());this.setAttr(this.image,"title","Powered by ReportGrid");this.setAttr(this.image,"height","29");this.setAttr(this.image,"width","194");this.setStyle(this.image,"opacity","1");this.setStyle(this.image,"border","none");this.setStyle(this.image,"height","29px");this.setStyle(this.image,
"width","194px")},updateAnchor:function(){var a=ea.document.body;O.select("body :last-child").node()!=this.anchor.node()&&a.appendChild(this.anchor.node());var a=F.Logo.position(this.frame.node()),b=this.frame.style("width").getFloat();this.setAttr(this.anchor,"title","Powered by ReportGrid");this.setAttr(this.anchor,"href","http://www.reportgrid.com/charts/");this.setStyle(this.anchor,"z-index","2147483647");this.setStyle(this.anchor,"display","block");this.setStyle(this.anchor,"opacity","1");this.setStyle(this.anchor,
"position","absolute");this.setStyle(this.anchor,"height","29px");this.setStyle(this.anchor,"width","194px");this.setStyle(this.anchor,"top",a.y+"px");this.setStyle(this.anchor,"left",a.x-194+b-this.padRight+"px")},setAttr:function(a,b,c){var d="attr:"+b+":"+c,e;null!=(e=this.mapvalues.get(d))&&e!=a.attr(b).get()?a.attr(b).string(e):null==e&&(a.attr(b).string(c),this.mapvalues.set(d,a.attr(b).get()))},setStyle:function(a,b,c){var d="style:"+b+":"+c,e;null!=(e=this.mapvalues.get(d))&&e!=a.style(b).get()?
a.style(b).string(e,"important"):null==e&&(a.style(b).string(c,"important"),this.mapvalues.set(d,a.style(b).get()))},updateFrame:function(){this.setStyle(this.frame,"display","block");this.setStyle(this.frame,"opacity","1");this.setStyle(this.frame,"width","100%");this.setStyle(this.frame,"height","29px");this.setStyle(this.frame,"position","relative")},createImage:function(){this.image=this.anchor.append("img");this.updateImage()},createAnchor:function(){this.anchor=O.select("body").append("a").attr("class").string("reportgridbrandanchor"+
this.id).attr("target").string("_blank");this.updateAnchor()},createFrame:function(){this.chartContainer=this.container.select("*");this.frame=this.container.insert("div",this.chartContainer.node()).attr("class").string("reportgridbrandcontainer");this.updateFrame()},create:function(){this.createFrame();this.createAnchor();this.createImage()},live:function(){this.container.select("div.reportgridbrandcontainer").empty()?this.createFrame():this.updateFrame();O.select("body").select("a.reportgridbrandanchor"+
this.id).empty()?this.createAnchor():this.updateAnchor();this.anchor.select("img").empty()?this.createImage():this.updateImage()},padRight:null,mapvalues:null,id:null,image:null,anchor:null,frame:null,container:null,chartContainer:null,__class__:F.Logo};F.Tooltip=function(a){this.visible=!1;a=null==a?ea.document.body:a;this.tooltip=O.selectNode(a).append("div").style("display").string("none").style("position").string("absolute").style("opacity")["float"](0).style("left").string("0px").style("top").string("0px").attr("class").string("rg tooltip").style("z-index").string("1000000");
this._anchor=this.tooltip.append("div").style("display").string("block").style("position").string("absolute");this.setAnchorClass("");this.container=this.tooltip.append("div").style("position").string("relative").attr("class").string("rg_container");this.background=this.container.append("div").style("display").string("block").style("position").string("static").append("div").style("z-index").string("-1").attr("class").string("rg_background").style("position").string("absolute").style("left").string("0").style("right").string("0").style("top").string("0").style("bottom").string("0");
this.content=this.container.append("div").attr("class").string("rg_content");this.content.onNode("DOMSubtreeModified",v(this,this.resize));this.anchortype="bottomright";this.anchordistance=0};i["rg.html.widget.Tooltip"]=F.Tooltip;F.Tooltip.__name__=["rg","html","widget","Tooltip"];F.Tooltip.__properties__={get_instance:"get_instance"};F.Tooltip.get_instance=function(){if(null==F.Tooltip.instance)F.Tooltip.instance=new F.Tooltip,ReportGrid.tooltip=F.Tooltip.instance;return F.Tooltip.instance};F.Tooltip.prototype=
{reanchor:function(){if(this.visible){var a=this.container.style("width").getFloat(),b=this.container.style("height").getFloat(),c=this.anchortype;switch(c){case "top":case "bottom":case "center":this.container.style("left").string(-a/2+"px");break;case "left":case "topleft":case "bottomleft":this.container.style("left").string(this.anchordistance+"px");break;case "right":case "topright":case "bottomright":this.container.style("left").string(-this.anchordistance-a+"px");break;default:throw new H.Error("invalid anchor point: "+
this.anchortype,null,null,{fileName:"Tooltip.hx",lineNumber:157,className:"rg.html.widget.Tooltip",methodName:"reanchor"});}switch(c){case "top":case "topleft":case "topright":this.container.style("top").string(this.anchordistance+"px");break;case "left":case "center":case "right":this.container.style("top").string(-b/2+"px");break;case "bottom":case "bottomleft":case "bottomright":this.container.style("top").string(-this.anchordistance-b+"px")}}},resize:function(){this.reanchor()},setAnchorColor:function(a){this._anchor.style("background-color").string(a)},
setAnchorClass:function(a){this._anchor.attr("class").string("rg_anchor "+a)},anchor:function(a,b){null==b&&(b=0);if(!(this.anchortype==a&&this.anchordistance==b))this.anchortype=a,this.anchordistance=b,this.reanchor()},moveAt:function(a,b){this.tooltip.style("left").string(a+"px").style("top").string(b+"px")},showAt:function(a,b){this.moveAt(a,b);this.show()},hide:function(){if(this.visible)this.visible=!1,this.tooltip.style("opacity")["float"](0).style("display").string("none")},show:function(){if(!this.visible)this.tooltip.style("display").string("block"),
this.visible=!0,this.reanchor(),this.tooltip.style("opacity")["float"](1)},html:function(a){this.content.node().innerHTML=a;this.reanchor()},visible:null,anchordistance:null,anchortype:null,content:null,background:null,container:null,_anchor:null,tooltip:null,__class__:F.Tooltip};ga=function(){};Wc=void 0;Xc=void 0;Yc=void 0;Zc=void 0;$c=void 0;ad=void 0;bd=void 0;qb=void 0;cd=void 0;tc=void 0;dd=void 0;ed=void 0;uc=void 0;vc=void 0;fd=void 0;gd=void 0;wc=void 0;xc=void 0;bb=void 0;g=void 0;ua=void 0;
rb=void 0;Ma=void 0;Ub=void 0;ec=void 0;va=void 0;yc=void 0;fc=void 0;gc=void 0;hc=void 0;zc=void 0;hd=void 0;id=void 0;Jb=void 0;cb=void 0;i["rg.info.Info"]=ga;ga.__name__=["rg","info","Info"];ga.feed=function(a,b){if(null==b)return a;var c=z.getClass(a),d=j.field(c,"filters");if(null==d)return a;for(var c=d.apply(c,[]),e,d=0;d<c.length;){var h=c[d];++d;if(j.hasField(b,h.name))switch(e=j.field(b,h.name),e=h.transformer.transform(e),e[1]){case 0:for(h=e[2].iterator();h.hasNext();)e=h.next(),a[e.name]=
e.value;break;case 1:ga.warn(h.name,e[2])}}return a};ga.warn=function(a,b){ga.warner("the parameter "+a+" has not been applied because: "+t.string(b))};bb=function(){this.animated=!1;this.duration=1500;this.delay=150;this.ease=V.Equations.elasticf()};i["rg.info.InfoAnimation"]=bb;bb.__name__=["rg","info","InfoAnimation"];bb.filters=function(){return[g.FilterDescription.toBool("animated"),g.FilterDescription.toInt("duration"),g.FilterDescription.toInt("delay"),g.FilterDescription.toExpressionFunction("ease",
["value"])]};bb.prototype={delay:null,ease:null,duration:null,animated:null,__class__:bb};ua=function(){this.animation=new bb;this.label=new rb;this.displayMinorTick=function(){return!0};this.displayMajorTick=function(){return!0};this.displayLabelTick=function(){return!0};this.displayAnchorLineTick=function(){return!1};this.displayMinorRule=function(){return!1};this.displayMajorRule=function(){return!1};this.displayAnchorLineRule=function(){return!1};this.labelOrientation=function(){return null};
this.labelAnchor=function(){return null};this.labelAngle=function(){return null};this.lengthTickMinor=2;this.lengthTickMajor=5;this.paddingTickMajor=this.paddingTickMinor=1;this.paddingLabel=10};i["rg.info.InfoCartesianChart"]=ua;ua.__name__=["rg","info","InfoCartesianChart"];ua.filters=function(){return[g.FilterDescription.toInfo("animation",null,bb),g.FilterDescription.toFunction("click"),g.FilterDescription.toInfo("label",null,rb),g.FilterDescription.toExpressionFunctionOrBool("displaytickmarks",
["type"],["displayMinorTick","displayMajorTick","displayLabelTick"]),g.FilterDescription.toExpressionFunctionOrBool("displaytickminor",["type"],["displayMinorTick"]),g.FilterDescription.toExpressionFunctionOrBool("displaytickmajor",["type"],["displayMajorTick"]),g.FilterDescription.toExpressionFunctionOrBool("displayticklabel",["type"],["displayLabelTick"]),g.FilterDescription.toExpressionFunctionOrBool("displayanchorlinetick",["type"],["displayAnchorLineTick"]),g.FilterDescription.toExpressionFunctionOrBool("displayrules",
["type"],["displayMinorRule","displayMajorRule"]),g.FilterDescription.toExpressionFunctionOrBool("displayruleminor",["type"],["displayMinorRule"]),g.FilterDescription.toExpressionFunctionOrBool("displayrulemajor",["type"],["displayMajorRule"]),g.FilterDescription.toExpressionFunctionOrBool("displayanchorlinerule",["type"],["displayAnchorLineRule"]),g.FilterDescription.toFloat("lengthtick",["lengthTickMajor","lengthTickMinor"]),g.FilterDescription.toFloat("lengthtickminor",["lengthTickMinor"]),g.FilterDescription.toFloat("lengthtickmajor",
["lengthTickMajor"]),g.FilterDescription.toFloat("paddingtick",["paddingTickMajor","paddingTickMinor"]),g.FilterDescription.toFloat("paddingtickminor",["paddingTickMinor"]),g.FilterDescription.toFloat("paddingtickmajor",["paddingTickMajor"]),g.FilterDescription.toFloat("paddingticklabel",["paddingLabel"]),g.FilterDescription.toExpressionFunctionOrString("labelorientation",["type"],["labelOrientation"]),g.FilterDescription.toExpressionFunctionOrString("labelanchor",["type"],["labelAnchor"]),g.FilterDescription.toExpressionFunctionOrFloat("labelangle",
["type"],["labelAngle"]),g.FilterDescription.simplified("labelhorizontal",["labelAnchor"],function(a){return!1==a?function(){return"right"}:function(){return null}},g.ReturnMessageIfNot.isBool),g.FilterDescription.simplified("labelhorizontal",["labelAngle"],function(a){return!1==a?function(){return 0}:function(){return null}},g.ReturnMessageIfNot.isBool)]};ua.prototype={paddingLabel:null,paddingTickMajor:null,paddingTickMinor:null,lengthTickMajor:null,lengthTickMinor:null,labelAngle:null,labelAnchor:null,
labelOrientation:null,displayAnchorLineRule:null,displayMajorRule:null,displayMinorRule:null,displayAnchorLineTick:null,displayLabelTick:null,displayMajorTick:null,displayMinorTick:null,label:null,click:null,animation:null,__class__:ua};tc=function(){ua.call(this);this.segment=new Ma;this.stacked=!0;this.effect=n.GradientEffect.Gradient(1.25);this.barPadding=12;this.barPaddingAxis=4;this.barPaddingDataPoint=2;this.horizontal=!1;this.startat=null};i["rg.info.InfoBarChart"]=tc;tc.__name__=["rg","info",
"InfoBarChart"];tc.filters=function(){return[g.FilterDescription.toBool("stacked"),g.FilterDescription.toBool("horizontal"),g.FilterDescription.simplified("effect",null,n.GradientEffects.parse,g.ReturnMessageChainer.or(g.ReturnMessageIfNot.isString,g.ReturnMessageChainer.make(n.GradientEffects.canParse,"invalid gradient effect: {0}"))),g.FilterDescription.toFloat("barpadding",["barPadding"]),g.FilterDescription.toFloat("barpaddingaxis",["barPaddingAxis"]),g.FilterDescription.toFloat("barpaddingdatapoint",
["barPaddingDataPoint"]),g.FilterDescription.simplified("segmenton",["segment"],function(a){return ga.feed(new Ma,{on:a})},g.ReturnMessageIfNot.isString),g.FilterDescription.toInfo("segment",null,Ma),g.FilterDescription.toStr("startat")].concat(ua.filters())};tc.__super__=ua;tc.prototype=A(ua.prototype,{startat:null,segment:null,horizontal:null,barPadding:null,barPaddingAxis:null,barPaddingDataPoint:null,effect:null,stacked:null,__class__:tc});Yc=function(){};i["rg.info.InfoDataSource"]=Yc;Yc.__name__=
["rg","info","InfoDataSource"];Yc.filters=function(){return[g.FilterDescription.toDataFunctionFromArray("data",["loader"]),g.FilterDescription.toDataFunctionFromArray("datapoints",["loader"]),g.FilterDescription.toLoaderFunction("load",["loader"])]};Yc.prototype={loader:null,__class__:Yc};ad=function(){};i["rg.info.InfoDomType"]=ad;ad.__name__=["rg","info","InfoDomType"];ad.filters=function(){return[g.FilterDescription.custom("visualization",["kind"],function(a){var b=null==a?null:(""+t.string(a)).toLowerCase();
return S.exists(ha.visualizations,b)?g.TransformResult.Success(S.exists(ha.html,b)?Ub.Html:Ub.Svg):g.TransformResult.Failure(new Z.Message("'{0}' value is not a vailid visualization kind",[a]))})]};ad.prototype={kind:null,__class__:ad};Ub={__ename__:["rg","info","DomKind"],__constructs__:["Html","Svg"],Html:["Html",0]};Ub.Html.toString=q;Ub.Html.__enum__=Ub;Ub.Svg=["Svg",1];Ub.Svg.toString=q;Ub.Svg.__enum__=Ub;bd=function(){this.service=Cb.SERVICE_RENDERING_STATIC;this.legacyservice=Cb.LEGACY_RENDERING_STATIC;
this.formats=["pdf","png","jpg","svg"]};i["rg.info.InfoDownload"]=bd;bd.__name__=["rg","info","InfoDownload"];bd.filters=function(){return[g.FilterDescription.toFunction("handler"),g.FilterDescription.toStr("service"),g.FilterDescription.toStr("legacyservice"),g.FilterDescription.toArray("formats"),g.FilterDescription.custom("position",null,function(a){return B.__instanceof(a,String)||a.nodeName?g.TransformResult.Success(F.DownloaderPositions.parse(a)):g.TransformResult.Failure(new Z.Message("invalid downloader position: {0}",
a))})]};bd.prototype={formats:null,position:null,legacyservice:null,service:null,handler:null,__class__:bd};dd=function(){this.animation=new bb;this.label=new ec;this.padding=2.5;this.flatness=1;this.effect=n.GradientEffect.Gradient(1.25);this.arrowSize=30};i["rg.info.InfoFunnelChart"]=dd;dd.__name__=["rg","info","InfoFunnelChart"];dd.filters=function(){return[g.FilterDescription.toInfo("animation",null,bb),g.FilterDescription.toInfo("label",null,ec),g.FilterDescription.toExpressionFunction("sort",
["a","b"],["sortDataPoint"]),g.FilterDescription.toFunction("click"),g.FilterDescription.toFloat("segmentpadding",["padding"]),g.FilterDescription.toFloat("flatness"),g.FilterDescription.custom("effect",null,function(a){return n.GradientEffects.canParse(a)?g.TransformResult.Success(n.GradientEffects.parse(a)):g.TransformResult.Failure(new Z.Message("'{0}' is not a valid effect",a))}),g.FilterDescription.toFloat("arrowsize",["arrowSize"])]};dd.prototype={arrowSize:null,effect:null,flatness:null,padding:null,
click:null,sortDataPoint:null,label:null,animation:null,__class__:dd};Zc=function(){this.forcelegacy=!1};i["rg.info.InfoGeneral"]=Zc;Zc.__name__=["rg","info","InfoGeneral"];Zc.filters=function(){return[g.FilterDescription.toFunction("ready"),g.FilterDescription.toBool("forcelegacy")]};Zc.prototype={forcelegacy:null,ready:null,__class__:Zc};ed=function(){this.labelOutline=this.labelShadow=!1;this.label=new va;this.map=[ga.feed(new yc,{template:"world"})]};i["rg.info.InfoGeo"]=ed;ed.__name__=["rg",
"info","InfoGeo"];ed.filters=function(){return[g.FilterDescription.toInfoArray("map",null,yc),g.FilterDescription.toBool("labeloutline",["labelOutline"]),g.FilterDescription.toBool("labelshadow",["labelShadow"])]};ed.prototype={labelShadow:null,labelOutline:null,label:null,map:null,__class__:ed};uc=function(){ua.call(this);this.colorScaleMode=n.ColorScaleMode.FromCssInterpolation()};i["rg.info.InfoHeatGrid"]=uc;uc.__name__=["rg","info","InfoHeatGrid"];uc.filters=function(){return[g.FilterDescription.toBool("contour"),
g.FilterDescription.simplified("color",["colorScaleMode"],n.ColorScaleModes.createFromDynamic,function(a){return n.ColorScaleModes.canParse(a)?null:"value must be a a string or a function returning a string expressing a valid color scale mode"})].concat(ua.filters())};uc.__super__=ua;uc.prototype=A(ua.prototype,{colorScaleMode:null,contour:null,__class__:uc});va=function(){this.datapointverticaloffset=5;this.datapointshadow=this.datapointoutline=!1};i["rg.info.InfoLabel"]=va;va.__name__=["rg","info",
"InfoLabel"];va.filters=function(){return[g.FilterDescription.toTemplateFunctionOrString("title",["axes","values","types"]),g.FilterDescription.toTemplateFunction("datapoint",[null,"stats"]),g.FilterDescription.toTemplateFunction("datapointover",[null,"stats"]),g.FilterDescription.toFloat("datapointverticaloffset"),g.FilterDescription.toBool("datapointoutline"),g.FilterDescription.toBool("datapointshadow")]};va.prototype={datapointshadow:null,datapointoutline:null,datapointverticaloffset:null,datapointover:null,
datapoint:null,title:null,__class__:va};rb=function(){va.call(this)};i["rg.info.InfoLabelAxis"]=rb;rb.__name__=["rg","info","InfoLabelAxis"];rb.filters=function(){return[g.FilterDescription.toTemplateFunction("axis",["type"]),g.FilterDescription.toTemplateFunction("tickmark",["value","type"])].concat(va.filters())};rb.__super__=va;rb.prototype=A(va.prototype,{tickmark:null,axis:null,__class__:rb});ec=function(){va.call(this)};i["rg.info.InfoLabelFunnel"]=ec;ec.__name__=["rg","info","InfoLabelFunnel"];
ec.filters=function(){return[g.FilterDescription.toTemplateFunction("arrow",[null,"stats"])].concat(va.filters())};ec.__super__=va;ec.prototype=A(va.prototype,{arrow:null,__class__:ec});fc=function(){va.call(this)};i["rg.info.InfoLabelLeaderboard"]=fc;fc.__name__=["rg","info","InfoLabelLeaderboard"];fc.filters=function(){return[g.FilterDescription.toTemplateFunctionOrNull("rank",[null,"index","stats"]),g.FilterDescription.toTemplateFunctionOrNull("value",[null,"stats"])].concat(va.filters())};fc.__super__=
va;fc.prototype=A(va.prototype,{value:null,rank:null,__class__:fc});gc=function(){rb.call(this)};i["rg.info.InfoLabelPivotTable"]=gc;gc.__name__=["rg","info","InfoLabelPivotTable"];gc.filters=function(){return[g.FilterDescription.toTemplateFunction("total",["value","stats"]),g.FilterDescription.toTemplateFunction("totalover",["value","stats"]),g.FilterDescription.toTemplateFunction("axisvalue",["value","axis"])].concat(rb.filters())};gc.__super__=rb;gc.prototype=A(rb.prototype,{axisvalue:null,totalover:null,
total:null,__class__:gc});hc=function(){va.call(this)};i["rg.info.InfoLabelSankey"]=hc;hc.__name__=["rg","info","InfoLabelSankey"];hc.filters=function(){return[g.FilterDescription.toTemplateFunction("edge",[null,"stats"]),g.FilterDescription.toTemplateFunction("edgeover",[null,"stats"]),g.FilterDescription.toTemplateFunction("node",[null,"stats"])].concat(va.filters())};hc.__super__=va;hc.prototype=A(va.prototype,{node:null,edgeover:null,edge:null,__class__:hc});Wc=function(){this.main="main";this.titleOnTop=
!0;this.scalePattern=Sa.ScalesAlternating;this.padding=new zc};i["rg.info.InfoLayout"]=Wc;Wc.__name__=["rg","info","InfoLayout"];Wc.filters=function(){return[g.FilterDescription.custom("layout",null,function(a){var b=null==a?null:(""+t.string(a)).toLowerCase();return S.exists(ha.layouts,b)?g.TransformResult.Success(b):g.TransformResult.Failure(new Z.Message("value '{0}' is not a valid visualization layout",[a]))}),g.FilterDescription.toFloat("width"),g.FilterDescription.toFloat("height"),g.FilterDescription.custom("visualization",
["type"],function(a){var b=null==a?null:(""+t.string(a)).toLowerCase();return S.exists(ha.svg,b)?g.TransformResult.Success(b):g.TransformResult.Failure(new Z.Message("value '{0}' is not a valid visualization type",[a]))}),g.FilterDescription.toStr("main"),g.FilterDescription.toBool("titleontop",["titleOnTop"]),g.FilterDescription.custom("yscaleposition",["scalePattern"],function(a){return!B.__instanceof(a,String)?g.TransformResult.Failure(new Z.Message("value '{0}' must be a string",[a])):g.TransformResult.Success(function(){var b;
switch(a){case "alt":case "alternate":case "alternating":b=Sa.ScalesAlternating;break;case "right":b=Sa.ScalesAfter;break;default:b=Sa.ScalesBefore}return b}(this))}),g.FilterDescription.toInfo("padding",null,zc)]};Wc.prototype={padding:null,scalePattern:null,titleOnTop:null,main:null,type:null,height:null,width:null,layout:null,__class__:Wc};cd=function(){this.animation=new bb;this.label=new fc;this.usemax=!1;this.displaybar=!0;this.colorscale=!1};i["rg.info.InfoLeaderboard"]=cd;cd.__name__=["rg",
"info","InfoLeaderboard"];cd.filters=function(){return[g.FilterDescription.toInfo("animation",null,bb,function(a){a.ease=V.Equations.linear}),g.FilterDescription.toInfo("label",null,fc),g.FilterDescription.toFunction("click"),g.FilterDescription.toExpressionFunction("sort",["a","b"],["sortDataPoint"]),g.FilterDescription.toBool("displaybar"),g.FilterDescription.toBool("usemax"),g.FilterDescription.toBool("colorscale")]};cd.prototype={colorscale:null,displaybar:null,usemax:null,sortDataPoint:null,
click:null,label:null,animation:null,__class__:cd};vc=function(){ua.call(this);this.segment=new Ma;this.effect=n.LineEffect.Gradient(-1.2,2);this.interpolation=p.LineInterpolator.Linear;this.displayarea=!1;this.sensibleradius=100};i["rg.info.InfoLineChart"]=vc;vc.__name__=["rg","info","InfoLineChart"];vc.filters=function(){return[g.FilterDescription.toExpressionFunctionOrString("symbol",[null,"stats"]),g.FilterDescription.toExpressionFunctionOrString("symbolstyle",[null,"stats"],["symbolStyle"]),
g.FilterDescription.simplified("segmenton",["segment"],function(a){return ga.feed(new Ma,{on:a})},g.ReturnMessageIfNot.isString),g.FilterDescription.toInfo("segment",null,Ma),g.FilterDescription.toStr("y0property"),g.FilterDescription.toBool("displayarea"),g.FilterDescription.toInt("sensibleradius"),g.FilterDescription.toTry("effect",null,n.LineEffects.parse,"invalid effect string value '{0}'"),g.FilterDescription.toTry("interpolation",null,function(a){return p.LineInterpolators.parse(a)},"invalid line interpolation string value '{0}'")].concat(ua.filters())};
vc.__super__=ua;vc.prototype=A(ua.prototype,{sensibleradius:null,segment:null,y0property:null,displayarea:null,symbolStyle:null,symbol:null,interpolation:null,effect:null,__class__:vc});yc=function(){this.property="location";this.type="geojson";this.colorScaleMode=n.ColorScaleMode.FromCssInterpolation();this.usejsonp=!0;this.radius=function(){return 10}};i["rg.info.InfoMap"]=yc;yc.__name__=["rg","info","InfoMap"];yc.filters=function(){return[new g.FilterDescription("template",new hd),g.FilterDescription.toStr("url"),
g.FilterDescription.toStr("type"),g.FilterDescription.toFloat("scale"),g.FilterDescription.toStr("projection"),g.FilterDescription.toStr("classname"),g.FilterDescription.toArray("translate"),g.FilterDescription.toArray("origin"),g.FilterDescription.toArray("parallels"),g.FilterDescription.toTry("mode",null,function(a){return z.createEnum(W.ProjectionMode,J.ucfirst(a.toLowerCase()),[])},"value is not a valid projection mode '{0}'"),g.FilterDescription.toStrOrNull("property"),g.FilterDescription.toBool("usejsonp"),
g.FilterDescription.toInfo("label",null,va),g.FilterDescription.toFunction("click"),g.FilterDescription.simplified("color",["colorScaleMode"],n.ColorScaleModes.createFromDynamic,g.ReturnMessageChainer.make(function(a){return B.__instanceof(a,String)||j.isFunction(a)},"invalid color mode value '{0}'")),g.FilterDescription.toExpressionFunctionOrFloat("radius",[null,"stats"]),new g.FilterDescription("mapping",new id)]};yc.prototype={mappingurl:null,mapping:null,usejsonp:null,colorScaleMode:null,radius:null,
click:null,label:null,property:null,mode:null,parallels:null,origin:null,translate:null,classname:null,projection:null,scale:null,type:null,url:null,__class__:yc};g={ITransformer:function(){}};i["rg.info.filter.ITransformer"]=g.ITransformer;g.ITransformer.__name__=["rg","info","filter","ITransformer"];g.ITransformer.prototype={transform:null,__class__:g.ITransformer};id=function(){};i["rg.info.MapTransformer"]=id;id.__name__=["rg","info","MapTransformer"];id.__interfaces__=[g.ITransformer];id.prototype=
{transform:function(a){return B.__instanceof(a,String)?g.TransformResult.Success(new g.Pairs(["mappingurl"],[a])):j.isObject(a)&&null==z.getClass(a)?g.TransformResult.Success(new g.Pairs(["mapping"],[a])):g.TransformResult.Failure(new Z.Message("value should be url string or an object",[a]))},__class__:id};hd=function(){};i["rg.info.TemplateTransformer"]=hd;hd.__name__=["rg","info","TemplateTransformer"];hd.__interfaces__=[g.ITransformer];hd.prototype={transform:function(a){a=null==a?"":""+t.string(a);
switch(a.toLowerCase()){case "world":case "world-countries":a=g.TransformResult.Success(new g.Pairs(["projection","url"],["mercator",Cb.BASE_URL_GEOJSON+"world-countries.json.js"]));break;case "usa-states":a=g.TransformResult.Success(new g.Pairs(["projection","url"],["albersusa",Cb.BASE_URL_GEOJSON+"usa-states.json.js"]));break;case "usa-state-centroids":a=g.TransformResult.Success(new g.Pairs(["projection","url"],["albersusa",Cb.BASE_URL_GEOJSON+"usa-state-centroids.json.js"]));break;case "usa-counties":a=
g.TransformResult.Success(new g.Pairs(["projection","url"],["albersusa",Cb.BASE_URL_GEOJSON+"usa-counties.json.js"]));break;default:a=g.TransformResult.Failure(new Z.Message("{0} is not a valid map template",[a]))}return a},__class__:hd};zc=function(){};i["rg.info.InfoPadding"]=zc;zc.__name__=["rg","info","InfoPadding"];zc.filters=function(){return[g.FilterDescription.toInt("top"),g.FilterDescription.toInt("bottom"),g.FilterDescription.toInt("left"),g.FilterDescription.toInt("right")]};zc.prototype=
{right:null,left:null,bottom:null,top:null,__class__:zc};fd=function(){this.innerradius=0;this.labelradius=0.45;this.labelorientation=l.LabelOrientation.Aligned;this.outerradius=0.9;this.overradius=0.95;this.tooltipradius=0.5;this.animation=new bb;this.label=new va;this.effect=n.GradientEffect.Gradient(1.2);this.dontfliplabel=!0};i["rg.info.InfoPieChart"]=fd;fd.__name__=["rg","info","InfoPieChart"];fd.filters=function(){return[g.FilterDescription.toFloat("labelradius"),g.FilterDescription.toBool("dontfliplabel"),
g.FilterDescription.toTry("labelorientation",null,l.LabelOrientations.parse,"invalid orientation value '{0}'"),g.FilterDescription.toFloat("innerradius"),g.FilterDescription.toFloat("outerradius"),g.FilterDescription.toFloat("overradius"),g.FilterDescription.toFloat("tooltipradius"),g.FilterDescription.toInfo("animation",null,bb),g.FilterDescription.toInfo("label",null,va),g.FilterDescription.toExpressionFunction("sort",["a","b"],["sortDataPoint"]),g.FilterDescription.toFunction("click"),g.FilterDescription.simplified("effect",
null,n.GradientEffects.parse,g.ReturnMessageChainer.or(g.ReturnMessageIfNot.isString,g.ReturnMessageChainer.make(n.GradientEffects.canParse,"invalid gradient effect: {0}")))]};fd.prototype={click:null,dontfliplabel:null,sortDataPoint:null,effect:null,label:null,animation:null,tooltipradius:null,overradius:null,outerradius:null,innerradius:null,labelorientation:null,labelradius:null,__class__:fd};qb=function(){this.label=new gc;this.heatmapColorStart=qb.defaultStartColor;this.heatmapColorEnd=qb.defaultEndColor;
this.displayRowTotal=this.displayColumnTotal=this.displayHeatmap=!0;this.columnAxes=1};i["rg.info.InfoPivotTable"]=qb;qb.__name__=["rg","info","InfoPivotTable"];qb.filters=function(){return[g.FilterDescription.toInt("columnaxes",["columnAxes"]),g.FilterDescription.toBool("displayheatmap",["displayHeatmap"]),g.FilterDescription.toBool("displaycolumntotal",["displayColumnTotal"]),g.FilterDescription.toBool("displayrowtotal",["displayRowTotal"]),g.FilterDescription.toTry("startcolor",["heatmapColorStart"],
function(a){return f.Hsl.toHsl(T.parse(a,qb.defaultStartColor.hex("#")))},"value is not a parsable color '{0}'"),g.FilterDescription.toTry("endcolor",["heatmapColorEnd"],function(a){return f.Hsl.toHsl(T.parse(a,qb.defaultEndColor.hex("#")))},"value is not a parsable color '{0}'"),g.FilterDescription.toInfo("label",null,gc),g.FilterDescription.toFunction("click"),g.FilterDescription.toExpressionFunction("cellclass",[null,"stats"]),g.FilterDescription.toExpressionFunction("valueclass",["value","header"]),
g.FilterDescription.toExpressionFunction("headerclass",["header"]),g.FilterDescription.toExpressionFunction("totalclass",["value","values"])]};qb.prototype={totalclass:null,headerclass:null,valueclass:null,cellclass:null,click:null,columnAxes:null,displayRowTotal:null,displayColumnTotal:null,displayHeatmap:null,heatmapColorEnd:null,heatmapColorStart:null,label:null,__class__:qb};gd=function(){this.label=new hc;this.stackbackedges=!0;this.thinbackedges=!1};i["rg.info.InfoSankey"]=gd;gd.__name__=["rg",
"info","InfoSankey"];gd.filters=function(){return[g.FilterDescription.toInfo("label",null,hc),g.FilterDescription.toFloat("layerwidth",["layerWidth"]),g.FilterDescription.toFloat("chunkwidth",["chunkWidth"]),g.FilterDescription.toFloat("nodespacing",["nodeSpacing"]),g.FilterDescription.toFloat("dummyspacing",["dummySpacing"]),g.FilterDescription.toFloat("extrawidth",["extraWidth"]),g.FilterDescription.toFloat("backedgespacing",["backEdgeSpacing"]),g.FilterDescription.toFloat("extraheight",["extraHeight"]),
g.FilterDescription.toFloat("extraradius",["extraRadius"]),g.FilterDescription.toFloat("imagewidth",["imageWidth"]),g.FilterDescription.toFloat("imageheight",["imageHeight"]),g.FilterDescription.toFloat("imagespacing",["imageSpacing"]),g.FilterDescription.toFloat("labelnodespacing",["labelNodeSpacing"]),g.FilterDescription.toExpressionFunction("imagepath",[null],["imagePath"]),g.FilterDescription.toFunction("click",["click"]),g.FilterDescription.toFunction("clickedge",["clickEdge"]),g.FilterDescription.toObject("layoutmap"),
g.FilterDescription.toStr("layoutmethod"),g.FilterDescription.toExpressionFunctionOrString("nodeclass",[null,"stats"]),g.FilterDescription.toExpressionFunctionOrString("edgeclass",[null,"stats"]),g.FilterDescription.toExpressionFunctionOrBool("displayentry",[null,"stats"]),g.FilterDescription.toExpressionFunctionOrBool("displayexit",[null,"stats"]),g.FilterDescription.toBool("stackbackedges"),g.FilterDescription.toBool("thinbackedges")]};gd.prototype={thinbackedges:null,stackbackedges:null,displayexit:null,
displayentry:null,edgeclass:null,nodeclass:null,layoutmethod:null,clickEdge:null,click:null,layoutmap:null,imagePath:null,labelNodeSpacing:null,chunkWidth:null,imageSpacing:null,imageHeight:null,imageWidth:null,extraRadius:null,extraHeight:null,backEdgeSpacing:null,extraWidth:null,dummySpacing:null,nodeSpacing:null,layerWidth:null,label:null,__class__:gd};wc=function(){ua.call(this);this.segment=new Ma;this.symbol=function(){return K.SymbolCache.cache.get("circle",16)}};i["rg.info.InfoScatterGraph"]=
wc;wc.__name__=["rg","info","InfoScatterGraph"];wc.filters=function(){return[g.FilterDescription.toExpressionFunctionOrString("symbol",[null,"stats"]),g.FilterDescription.toTemplateFunction("symbolstyle",[null,"stats"],["symbolStyle"]),g.FilterDescription.simplified("segmenton",["segment"],function(a){return ga.feed(new Ma,{on:a})},g.ReturnMessageIfNot.isString),g.FilterDescription.toInfo("segment",null,Ma)].concat(ua.filters())};wc.__super__=ua;wc.prototype=A(ua.prototype,{segment:null,symbolStyle:null,
symbol:null,__class__:wc});Ma=function(){this.values=[]};i["rg.info.InfoSegment"]=Ma;Ma.__name__=["rg","info","InfoSegment"];Ma.filters=function(){return[g.FilterDescription.toStr("on"),g.FilterDescription.toFunction("transform"),g.FilterDescription.toFunction("scale"),g.FilterDescription.toArray("values")]};Ma.prototype={values:null,scale:null,transform:null,on:null,__class__:Ma};xc=function(){ua.call(this);this.segment=new Ma;this.interpolation=p.LineInterpolator.Cardinal();this.effect=n.StreamEffect.GradientVertical(1.25)};
i["rg.info.InfoStreamGraph"]=xc;xc.__name__=["rg","info","InfoStreamGraph"];xc.filters=function(){return[g.FilterDescription.toTry("interpolation",null,function(a){return p.LineInterpolators.parse(a)},"value is expected to be a valid interpolation string, it is '{0}'"),g.FilterDescription.toTry("effect",null,function(a){return n.StreamEffects.parse(a)},"value is expected to be a valid effect string, it is '{0}'"),g.FilterDescription.simplified("segmenton",["segment"],function(a){return ga.feed(new Ma,
{on:a})},g.ReturnMessageIfNot.isString),g.FilterDescription.toInfo("segment",null,Ma)].concat(ua.filters())};xc.__super__=ua;xc.prototype=A(ua.prototype,{segment:null,effect:null,interpolation:null,__class__:xc});Jb=function(){this.variableType=cb.Unknown};i["rg.info.InfoVariable"]=Jb;Jb.__name__=["rg","info","InfoVariable"];Jb.filters=function(){return[g.FilterDescription.toStr("type"),g.FilterDescription.custom("view",["min"],function(a){return!B.__instanceof(a,Array)||!Jb.testViewValue(a[0])?g.TransformResult.Failure(new Z.Message("value is expected to be an array of two items but is '{0}'",
[a])):g.TransformResult.Success(a[0])}),g.FilterDescription.custom("view",["max"],function(a){return!B.__instanceof(a,Array)||!Jb.testViewValue(a[1])?g.TransformResult.Failure(new Z.Message("value is expected to be an array of two items but is '{0}'",[a])):g.TransformResult.Success(a[1])}),g.FilterDescription.toArray("values"),g.FilterDescription.custom("values",["min"],function(a){return B.__instanceof(a,Array)?g.TransformResult.Success(a[0]):g.TransformResult.Failure(new Z.Message("values is expected to be an array"))}),
g.FilterDescription.custom("values",["max"],function(a){return B.__instanceof(a,Array)?(a=B.__cast(a,Array),g.TransformResult.Success(a[a.length-1])):g.TransformResult.Failure(new Z.Message("values is expected to be an array"))}),g.FilterDescription.custom("groupby",["groupBy"],function(a){return!B.__instanceof(a,String)||!X.isValidGroupBy(a)?g.TransformResult.Failure(new Z.Message("value is expected to be a valid string periodicity but is '{0}'",[a])):g.TransformResult.Success(a)}),g.FilterDescription.custom("variable",
["variableType"],function(a){var b=null==a?null:(""+t.string(a)).toLowerCase();return S.exists(["independent","dependent"],b)?g.TransformResult.Success(z.createEnum(cb,J.ucfirst(b.toLowerCase()),[])):g.TransformResult.Failure(new Z.Message("value is expected to be an 'independent' or 'dependent' but is '{0}'",[a]))}),g.FilterDescription.toTry("scalemode",["scaleDistribution"],function(a){return z.createEnum(Ga,"Scale"+J.ucfirst((""+t.string(a)).toLowerCase()),[])},"value is expected to be a valid scale distribution value but is '{0}'")]};
Jb.testViewValue=function(a){return null==a||hb.isPrimitive(a)||B.__instanceof(a,Date)||j.isFunction(a)};Jb.__super__=ga;Jb.prototype=A(ga.prototype,{scaleDistribution:null,variableType:null,groupBy:null,values:null,max:null,min:null,type:null,__class__:Jb});cb={__ename__:["rg","info","VariableType"],__constructs__:["Unknown","Independent","Dependent"],Unknown:["Unknown",0]};cb.Unknown.toString=q;cb.Unknown.__enum__=cb;cb.Independent=["Independent",1];cb.Independent.toString=q;cb.Independent.__enum__=
cb;cb.Dependent=["Dependent",2];cb.Dependent.toString=q;cb.Dependent.__enum__=cb;Xc=function(){};i["rg.info.InfoVisualizationOption"]=Xc;Xc.__name__=["rg","info","InfoVisualizationOption"];Xc.filters=function(){return[g.FilterDescription.toInfoArray("axes",["variables"],Jb),g.FilterDescription.toObject("options")]};Xc.prototype={options:null,variables:null,__class__:Xc};$c=function(){this.replace=!0};i["rg.info.InfoVisualizationType"]=$c;$c.__name__=["rg","info","InfoVisualizationType"];$c.filters=
function(){return[g.FilterDescription.custom("visualization",["type"],function(a){var b=null==a?null:(""+t.string(a)).toLowerCase();return S.exists(ha.visualizations,b)?g.TransformResult.Success(b):g.TransformResult.Failure(new Z.Message("invalid visualization type '{0}'",a))}),g.FilterDescription.toBool("replace")]};$c.prototype={type:null,replace:null,__class__:$c};g.EmptyTransformer=function(a){this.mapto=a};i["rg.info.filter.EmptyTransformer"]=g.EmptyTransformer;g.EmptyTransformer.__name__=["rg",
"info","filter","EmptyTransformer"];g.EmptyTransformer.__interfaces__=[g.ITransformer];g.EmptyTransformer.prototype={transform:function(a){return g.TransformResult.Success(new g.Pairs([this.mapto],[a]))},mapto:null,__class__:g.EmptyTransformer};g.FilterDescription=function(a,b){this.name=a;this.transformer=null==b?new g.EmptyTransformer(a):b};i["rg.info.filter.FilterDescription"]=g.FilterDescription;g.FilterDescription.__name__=["rg","info","filter","FilterDescription"];g.FilterDescription.toBool=
function(a,b){return g.FilterDescription.pair(a,b,g.TransformerBool.instance)};g.FilterDescription.toInt=function(a,b){return g.FilterDescription.pair(a,b,g.TransformerInt.instance)};g.FilterDescription.toFloat=function(a,b){return g.FilterDescription.pair(a,b,g.TransformerFloat.instance)};g.FilterDescription.toStr=function(a,b){return g.FilterDescription.pair(a,b,g.TransformerString.instance)};g.FilterDescription.toStrOrNull=function(a,b){return g.FilterDescription.custom(a,b,function(a){return null==
a?g.TransformResult.Success(null):g.TransformerString.instance.transform(a)})};g.FilterDescription.toArray=function(a,b){return g.FilterDescription.custom(a,b,function(a){return B.__instanceof(a,Array)?g.TransformResult.Success(a):g.TransformResult.Failure(new Z.Message("expected array but was '{0}'",a))})};g.FilterDescription.toObject=function(a,b){return g.FilterDescription.pair(a,b,g.TransformerObject.instance)};g.FilterDescription.toFunction=function(a,b){return g.FilterDescription.pair(a,b,g.TransformerFunction.instance)};
g.FilterDescription.toTemplateFunction=function(a,b,c){return g.FilterDescription.pair(a,c,new g.TransformerTemplateToFunction(b))};g.FilterDescription.toExpressionFunction=function(a,b,c){return g.FilterDescription.pair(a,c,new g.TransformerExpressionToFunction(b))};g.FilterDescription.toInfo=function(a,b,c,d){return g.FilterDescription.simplified(a,b,function(a){var b=z.createInstance(c,[]);null!=d&&d(b);return ga.feed(b,a)},g.ReturnMessageIfNot.isObject)};g.FilterDescription.toInfoArray=function(a,
b,c){return g.FilterDescription.custom(a,b,function(a){if(!B.__instanceof(a,Array))if(j.isObject(a)&&null==z.getClass(a))a=[a];else return g.TransformResult.Failure(new Z.Message("value must be either an array of objects or an object but is {0}",[a]));return g.TransformResult.Success(I.map(u.iter(a),function(a){var b=z.createInstance(c,[]);return ga.feed(b,a)}))})};g.FilterDescription.toTry=function(a,b,c,d){return g.FilterDescription.custom(a,b,function(a){try{return g.TransformResult.Success(c(a))}catch(b){return g.TransformResult.Failure(new Z.Message(d,
[a]))}})};g.FilterDescription.toDataFunctionFromArray=function(a,b){return g.FilterDescription.custom(a,b,g.TransformerChainer.onResult((Q=g.TransformerArray.instance,v(Q,Q.transform)),function(a){return g.TransformResult.Success(function(b){return b(a)})},function(){return g.TransformResult.Failure(new Z.Message("parameter must be an array of values"))}))};g.FilterDescription.toLoaderFunction=function(a,b){return g.FilterDescription.custom(a,b,g.TransformerChainer.onResult((Q=g.TransformerFunction.instance,
v(Q,Q.transform)),function(a){return g.TransformResult.Success(a)},function(a){var b=j.field(a,"execute");return null!=b&&j.isFunction(b)?g.TransformResult.Success(function(e){b.apply(a,[e])}):g.TransformResult.Failure(new Z.Message("parameter must be an array of values"))}))};g.FilterDescription.toExpressionFunctionOrBool=function(a,b,c){return g.FilterDescription.custom(a,c,g.TransformerChainer.onResult((Q=new g.TransformerExpressionToFunction(b),v(Q,Q.transform)),function(a){return g.TransformResult.Success(a)},
function(a){return g.TransformerChainer.onResult((Q=g.TransformerBool.instance,v(Q,Q.transform)),function(a){return g.TransformResult.Success(function(){return a})},function(){return g.TransformResult.Failure(new Z.Message("parameter should be a boolean value or a function returning a boolean value"))})(a)}))};g.FilterDescription.toExpressionFunctionOrFloat=function(a,b,c){return g.FilterDescription.custom(a,c,g.TransformerChainer.onResult((Q=new g.TransformerExpressionToFunction(b),v(Q,Q.transform)),
function(a){return g.TransformResult.Success(a)},function(a){return g.TransformerChainer.onResult((Q=g.TransformerFloat.instance,v(Q,Q.transform)),function(a){return g.TransformResult.Success(function(){return a})},function(){return g.TransformResult.Failure(new Z.Message("parameter should be a float value or a function returning a float value"))})(a)}))};g.FilterDescription.toTemplateFunctionOrNull=function(a,b,c){return g.FilterDescription.custom(a,c,g.TransformerChainer.onResult((Q=new g.TransformerTemplateToFunction(b),
v(Q,Q.transform)),function(a){return g.TransformResult.Success(a)},function(a){return null==a?g.TransformResult.Success(null):g.TransformResult.Failure(new Z.Message("parameter should be a function or null"))}))};g.FilterDescription.toExpressionFunctionOrString=function(a,b,c){return g.FilterDescription.custom(a,c,g.TransformerChainer.onResult((Q=new g.TransformerExpressionToFunction(b),v(Q,Q.transform)),function(a){return g.TransformResult.Success(a)},function(a){return g.TransformerChainer.onResult((Q=
g.TransformerString.instance,v(Q,Q.transform)),function(a){return g.TransformResult.Success(function(){return a})},function(){return g.TransformResult.Failure(new Z.Message("parameter should be a string value or a function returning a string value"))})(a)}))};g.FilterDescription.toTemplateFunctionOrString=function(a,b,c){return g.FilterDescription.custom(a,c,g.TransformerChainer.onResult((Q=new g.TransformerTemplateToFunction(b),v(Q,Q.transform)),function(a){return g.TransformResult.Success(a)},function(a){return g.TransformerChainer.onResult((Q=
g.TransformerString.instance,v(Q,Q.transform)),function(a){return g.TransformResult.Success(function(){return a})},function(){return g.TransformResult.Failure(new Z.Message("parameter should be a string value or a function returning a string value"))})(a)}))};g.FilterDescription.custom=function(a,b,c){return g.FilterDescription.pair(a,b,new g.CustomTransformer(c))};g.FilterDescription.simplified=function(a,b,c,d){return g.FilterDescription.pair(a,b,g.CustomTransformer.simplified(c,d))};g.FilterDescription.pair=
function(a,b,c){null==b&&(b=[a]);return new g.FilterDescription(a,new g.PairTransformer(b,c))};g.FilterDescription.prototype={transformer:null,name:null,__class__:g.FilterDescription};g.CustomTransformer=function(a){this.transformer=a};i["rg.info.filter.CustomTransformer"]=g.CustomTransformer;g.CustomTransformer.__name__=["rg","info","filter","CustomTransformer"];g.CustomTransformer.__interfaces__=[g.ITransformer];g.CustomTransformer.simplified=function(a,b){return new g.CustomTransformer(function(c){var d=
b(c);return null==d?g.TransformResult.Success(a(c)):g.TransformResult.Failure(new Z.Message(d,[c]))})};g.CustomTransformer.prototype={transform:function(a){return this.transformer(a)},transformer:null,__class__:g.CustomTransformer};g.TransformerChainer=function(){};i["rg.info.filter.TransformerChainer"]=g.TransformerChainer;g.TransformerChainer.__name__=["rg","info","filter","TransformerChainer"];g.TransformerChainer.onResult=function(a,b,c){return function(d){var e=a(d);switch(e[1]){case 0:return b(e[2],
d);case 1:return c(d,e[2])}}};g.TransformerArray=function(){};i["rg.info.filter.TransformerArray"]=g.TransformerArray;g.TransformerArray.__name__=["rg","info","filter","TransformerArray"];g.TransformerArray.__interfaces__=[g.ITransformer];g.TransformerArray.prototype={transform:function(a){return B.__instanceof(a,Array)?g.TransformResult.Success(a):g.TransformResult.Failure(new Z.Message("value {0} is not an array",[a]))},__class__:g.TransformerArray};g.TransformerObject=function(){};i["rg.info.filter.TransformerObject"]=
g.TransformerObject;g.TransformerObject.__name__=["rg","info","filter","TransformerObject"];g.TransformerObject.__interfaces__=[g.ITransformer];g.TransformerObject.prototype={transform:function(a){return j.isObject(a)&&null==z.getClass(a)?g.TransformResult.Success(a):g.TransformResult.Failure(new Z.Message("value {0} is not an object",[a]))},__class__:g.TransformerObject};g.TransformerString=function(){};i["rg.info.filter.TransformerString"]=g.TransformerString;g.TransformerString.__name__=["rg",
"info","filter","TransformerString"];g.TransformerString.__interfaces__=[g.ITransformer];g.TransformerString.prototype={transform:function(a){switch(z["typeof"](a)[1]){case 3:return g.TransformResult.Success(a?"true":"false");case 1:case 2:return g.TransformResult.Success(""+t.string(a));case 6:return g.TransformResult.Success(t.string(a));default:return g.TransformResult.Failure(new Z.Message("unable to tranform {0} into a string value",[a]))}},__class__:g.TransformerString};g.TransformerBool=function(){};
i["rg.info.filter.TransformerBool"]=g.TransformerBool;g.TransformerBool.__name__=["rg","info","filter","TransformerBool"];g.TransformerBool.__interfaces__=[g.ITransformer];g.TransformerBool.prototype={transform:function(a){var b=z["typeof"](a);switch(b[1]){case 3:return g.TransformResult.Success(a);case 1:case 2:return g.TransformResult.Success(0!=a);case 6:return"String"==z.getClassName(b[2])?Wa.canParse(a)?g.TransformResult.Success(Wa.parse(a)):g.TransformResult.Failure(new Z.Message("unable to tranform the string '{0}'' into a boolean value",
[a])):g.TransformResult.Failure(new Z.Message("unable to tranform the instance of {0} into a boolean value",[a]));default:return g.TransformResult.Failure(new Z.Message("unable to tranform {0} into a boolean value",[a]))}},__class__:g.TransformerBool};g.TransformerInt=function(){};i["rg.info.filter.TransformerInt"]=g.TransformerInt;g.TransformerInt.__name__=["rg","info","filter","TransformerInt"];g.TransformerInt.__interfaces__=[g.ITransformer];g.TransformerInt.prototype={transform:function(a){switch(z["typeof"](a)[1]){case 3:return g.TransformResult.Success(a?
1:0);case 1:return g.TransformResult.Success(a);case 2:return g.TransformResult.Success(t["int"](a));default:return B.__instanceof(a,String)&&P.canParse(a)?g.TransformResult.Success(P.parse(a)):g.TransformResult.Failure(new Z.Message("unable to tranform {0} into an integer value",[a]))}},__class__:g.TransformerInt};g.TransformerFloat=function(){};i["rg.info.filter.TransformerFloat"]=g.TransformerFloat;g.TransformerFloat.__name__=["rg","info","filter","TransformerFloat"];g.TransformerFloat.__interfaces__=
[g.ITransformer];g.TransformerFloat.prototype={transform:function(a){switch(z["typeof"](a)[1]){case 3:return g.TransformResult.Success(a?1:0);case 1:case 2:return g.TransformResult.Success(a);default:return B.__instanceof(a,String)&&G.canParse(a)?g.TransformResult.Success(G.parse(a)):g.TransformResult.Failure(new Z.Message("unable to tranform {0} into a float value",[a]))}},__class__:g.TransformerFloat};g.TransformerFunction=function(){};i["rg.info.filter.TransformerFunction"]=g.TransformerFunction;
g.TransformerFunction.__name__=["rg","info","filter","TransformerFunction"];g.TransformerFunction.__interfaces__=[g.ITransformer];g.TransformerFunction.prototype={transform:function(a){return j.isFunction(a)?g.TransformResult.Success(a):g.TransformResult.Failure(new Z.Message("not a function"))},__class__:g.TransformerFunction};g.TransformerTemplateToFunction=function(a){this.argumentsMap=a};i["rg.info.filter.TransformerTemplateToFunction"]=g.TransformerTemplateToFunction;g.TransformerTemplateToFunction.__name__=
["rg","info","filter","TransformerTemplateToFunction"];g.TransformerTemplateToFunction.__interfaces__=[g.ITransformer];g.TransformerTemplateToFunction.prototype={transform:function(a){var b=this;if(B.__instanceof(a,String)){var c=new $d(a);return g.TransformResult.Success(function(){return c.execute(g.TransformerExpressionToFunction.extractValues(b.argumentsMap,arguments))})}return j.isFunction(a)?g.TransformResult.Success(a):g.TransformResult.Failure(new Z.Message("not a function"))},argumentsMap:null,
__class__:g.TransformerTemplateToFunction};g.TransformerExpressionToFunction=function(a){this.argumentsMap=a};i["rg.info.filter.TransformerExpressionToFunction"]=g.TransformerExpressionToFunction;g.TransformerExpressionToFunction.__name__=["rg","info","filter","TransformerExpressionToFunction"];g.TransformerExpressionToFunction.__interfaces__=[g.ITransformer];g.TransformerExpressionToFunction.extractValues=function(a,b){var c=a.length,d=new L.StringMap;d.set("ReportGrid",ReportGrid);d.set("format",
ReportGrid.format);d.set("symbol",ReportGrid.symbol);d.set("humanize",ReportGrid.humanize);d.set("compare",ReportGrid.compare);d.set("Math",Math);d.set("null",null);d.set("true",!0);for(d.set("false",!1);0<=--c;){var e=a[c];if(null==e)for(var e=0,h=j.fields(b[c]);e<h.length;){var f=h[e];++e;var g=j.field(b[c],f);d.set(f,g)}else d.set(e,b[c])}return d};g.TransformerExpressionToFunction.prototype={transform:function(a){var b=this;if(B.__instanceof(a,String)&&g.TransformerExpressionToFunction.pattern.match(a)){var a=
a.substr(a.indexOf("=")+1),c=(new jd).parseString(a);return g.TransformResult.Success(function(){g.TransformerExpressionToFunction.interp.variables=g.TransformerExpressionToFunction.extractValues(b.argumentsMap,arguments);return g.TransformerExpressionToFunction.interp.execute(c)})}return j.isFunction(a)?g.TransformResult.Success(a):g.TransformResult.Failure(new Z.Message("not a function"))},argumentsMap:null,__class__:g.TransformerExpressionToFunction};g.ReturnMessageIfNot=function(){};i["rg.info.filter.ReturnMessageIfNot"]=
g.ReturnMessageIfNot;g.ReturnMessageIfNot.__name__=["rg","info","filter","ReturnMessageIfNot"];g.ReturnMessageIfNot.isBool=function(a){return B.__instanceof(a,ie)?null:"not a boolean"};g.ReturnMessageIfNot.isString=function(a){return B.__instanceof(a,String)?null:"not a string"};g.ReturnMessageIfNot.isObject=function(a){return j.isObject(a)&&null==z.getClass(a)?null:"not an object"};g.ReturnMessageChainer=function(){};i["rg.info.filter.ReturnMessageChainer"]=g.ReturnMessageChainer;g.ReturnMessageChainer.__name__=
["rg","info","filter","ReturnMessageChainer"];g.ReturnMessageChainer.make=function(a,b){return function(c){return a(c)?null:b}};g.ReturnMessageChainer.or=function(a,b){return function(c){var d=a(c);return null==d?b(c):d}};g.PairTransformer=function(a,b){this.names=a;this.valueTransformer=b};i["rg.info.filter.PairTransformer"]=g.PairTransformer;g.PairTransformer.__name__=["rg","info","filter","PairTransformer"];g.PairTransformer.__interfaces__=[g.ITransformer];g.PairTransformer.prototype={transform:function(a){a=
this.valueTransformer.transform(a);switch(a[1]){case 0:var b=a[2];return g.TransformResult.Success(new g.Pairs(this.names,this.names.map(function(){return b})));case 1:return g.TransformResult.Failure(a[2])}},valueTransformer:null,names:null,__class__:g.PairTransformer};g.Pairs=function(a,b){if(a.length!=b.length)throw new H.Error("names and values must have the same length",null,null,{fileName:"Pairs.hx",lineNumber:15,className:"rg.info.filter.Pairs",methodName:"new"});this.names=a;this.values=b};
i["rg.info.filter.Pairs"]=g.Pairs;g.Pairs.__name__=["rg","info","filter","Pairs"];g.Pairs.prototype={iterator:function(){for(var a=[],b=0,c=this.names.length;b<c;){var d=b++;a.push({name:this.names[d],value:this.values[d]})}return u.iter(a)},values:null,names:null,__class__:g.Pairs};g.TransformResult={__ename__:["rg","info","filter","TransformResult"],__constructs__:["Success","Failure"]};g.TransformResult.Success=function(a){a=["Success",0,a];a.__enum__=g.TransformResult;a.toString=q;return a};g.TransformResult.Failure=
function(a){a=["Failure",1,a];a.__enum__=g.TransformResult;a.toString=q;return a};Gb=function(a,b){this.container=a;this.serviceUrl=b;this.tokenId=ud.getTokenId()};Ba=void 0;i["rg.interactive.RGDownloader"]=Gb;Gb.__name__=["rg","interactive","RGDownloader"];Gb.appendArgument=function(a,b,c){var d=0<=a.indexOf("?")?"&":"?";return a+d+b+"="+C.urlEncode(c)};Gb.prototype={complete:function(a,b,c){c=aa.Json.decode(c);if(null!=c.error)null!=b&&b(c.error);else if(a(c))a=j.field(c.service,this.format),null!=
this.tokenId&&(a=Gb.appendArgument(a,"tokenId",this.tokenId)),a=Gb.appendArgument(a,"forceDownload","true"),ea.window.location.href=a},config:function(){var a=this.container.select("svg"),b=a.attr("width").getFloat(),a=a.attr("height").getFloat(),b='"cache":"1d","duration":"1d","width":'+b+',"height":'+a+',"formats":["'+Gb.ALLOWED_FORMATS.join('","')+'"]';null!=this.tokenId&&(b+=',"params":{"tokenId":true}');return"{"+b+"}"},html:function(){var a=this.findCssSources(),b=this.container.attr("class").get(),
c=this.extractSvg(this.container.html().get());return'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml">\n<head>\n<title></title>\n'+(null==a?"":I.map(u.iter(a),function(a){return'<link href="'+a+'" rel="stylesheet" type="text/css" />'}).join("\n"))+'\n</head>\n<body>\n<div class="'+(null==b?"rg":b+" rg")+'">'+c+"</div>\n</body>\n</html>"},extractSvg:function(a){var b=new M("<svg",""),
c=new M("</svg>","");b.match(a);a=b.matchedRight();c.match(a);return"<svg"+c.matchedLeft()+"</svg>"},findCssSources:function(){return O.selectAll("link").filterNode(function(a){return"stylesheet"==a.rel}).mapNode(function(a){return a.href})},download:function(a,b,c,d){if(!S.exists(Gb.ALLOWED_FORMATS,a))throw new H.Error("The download format '{0}' is not correct",[a],null,{fileName:"RGDownloader.hx",lineNumber:32,className:"rg.interactive.RGDownloader",methodName:"download"});this.format=a;a=new Ac(this.url(a));
a.setHeader("Accept","application/json");a.onError=null!=d?d:function(){};a.onData=function(a,b,c){return function(d){return a(b,c,d)}}(v(this,this.complete),c,d);a.setParameter("html",this.html());a.setParameter("config",this.config());a.request(!0)},url:function(a){return C.replace(this.serviceUrl,"{ext}",a)},tokenId:null,format:null,container:null,serviceUrl:null,__class__:Gb};Ba=function(a,b){this.container=a;this.serviceUrl=b;this.tokenId=ud.getTokenId()};i["rg.interactive.RGLegacyRenderer"]=
Ba;Ba.__name__=["rg","interactive","RGLegacyRenderer"];Ba.getIframeDoc=function(a){for(var b=null,c=[function(){if(a.contentDocument)b=a.contentDocument},function(){if(a.contentWindow&&a.contentWindow.document)b=a.contentWindow.document},function(){if(null!=ea.window.frames[a.name])b=ea.window.frames[a.name].document}],d=0;d<c.length;){var e=c[d];++d;try{e()}catch(h){}if(null!=b)return b}return null};Ba.isIE7orBelow=function(){return document.all&&!document.querySelector};Ba.removeFunctions=function(a){for(var b=
0,c=j.fields(a);b<c.length;){var d=c[b];++b;var e=j.field(a,d);j.isFunction(e)?j.deleteField(a,d):j.isObject(a)&&null==z.getClass(a)&&Ba.removeFunctions(e)}};Ba.removeEmpties=function(a){for(var b=0,c=j.fields(a);b<c.length;){var d=c[b];++b;var e=j.field(a,d);j.isObject(e)&&null==z.getClass(e)?(Ba.removeEmpties(e),0==j.fields(e).length&&j.deleteField(a,d)):null==e&&j.deleteField(a,d)}};Ba.prototype={config:function(a){return"{"+('"cache":"1d","duration":"1d","width":'+a.width+',"height":'+a.height+
',"formats":["'+Ba.FORMAT+'"]')+"}"},html:function(a,b,c){var b=aa.Json.encode(b),d=this.findJsSources(),e=this.findCssSources(),h=this.container.attr("class").get();return"<!DOCTYPE html>\n<html>\n<head>\n<title></title>\n"+(null==d?"":I.map(u.iter(d),function(a){return'<script src="'+a+'" type="text/javascript"><\/script>'}).join("\n"))+(null==e?"":I.map(u.iter(e),function(a){return'<link href="'+a+'" rel="stylesheet" type="text/css" />'}).join("\n"))+'\n<script type="text/javascript">\nfunction __RG__render()\n{\nReportGrid.chart("#'+
a+'", '+b+');\n}\n<\/script>\n</head>\n<body onload="__RG__render()">\n<div id="'+a+'" class="'+(null==h?"rg":h+" rg")+'" style="margin:0;width:'+c.width+"px;height:"+c.height+'px;"></div>\n</body>\n</html>'},findCssSources:function(){return O.selectAll("link").filterNode(function(a){return"stylesheet"==a.rel}).mapNode(function(a){return a.href})},findJsSources:function(){var a=new M("reportgrid-[^.]+\\.js","");return O.selectAll("script").filterNode(function(b){return a.match(b.src)}).mapNode(function(a){return a.src})},
normalizeParams:function(a){if(null==a.options)a.options={};var b=dc.size(this.container,a.options,0);a.options.width=b.width;a.options.height=b.height;Ba.removeFunctions(a.options);Ba.removeEmpties(a);j.deleteField(a,"load");j.deleteField(a.options,"download");a.options.forcelegacy=!1;return b},writeToIframe:function(a,b){var c=Ba.getIframeDoc(a);null!=c&&(c.open(),c.write('<html><head><title></title></head><body style="visibility:hidden;border:none" scroll="no">'+b+"</body></html>"),c.close())},
createIframe:function(a,b){var c="rgiframe"+ ++Ba.nextframeid;return this.container.append("iframe").attr("name").string(c).attr("id").string(c).attr("frameBorder").string("0").attr("scrolling").string("no").attr("width").string(a+"").attr("height").string(b+"").attr("marginwidth").string("0").attr("marginheight").string("0").attr("hspace").string("0").attr("vspace").string("0").attr("style").string("width:100%; border:0; height:100%; overflow:hidden;").attr("src").string(Ba.isIE7orBelow()?'javascript:\'<script>window.onload=function(){document.body.scroll="no";document.body.style.overflow="hidden";document.write(\\\'<script>document.domain=\\\\"'+
ea.document.domain+"\\\\\";<\\\\\\\\/script>\\');document.close();};<\\/script>'":"about:blank")},display:function(a){var b=this,c=this.normalizeParams(a),d=this.container.attr("id").get(),e=this.createIframe(c.width,c.height);null==d&&(d="rgchart");var h=this.url(),a=this.html(d,a,c),c=this.config(c),f='<form method="post" action="'+h+'" name="VIZ"><textarea name="html" style="width:40em;height:50%">'+a+'</textarea><textarea name="config" style="width:40em;height:50%">'+c+'</textarea><script type="text/javascript">\nsetTimeout(function() { document.VIZ.submit(); }, 200);\n<\/script>\n</form>';
sb.delay(function(){b.writeToIframe(e.node(),f);null!=b.readyHandler&&b.readyHandler()},100);if(Ba.isIE7orBelow()){var g=e.node();g.attachEvent("onload",function(){var a=Ba.getIframeDoc(g);if(null!=a)a.body.scroll="no",a.body.style.overflow="hidden",a.body.frameBorder="0",a.body.style.border=0,a.body.style.margin=0,a.body.style.padding=0})}},onReady:function(a){this.readyHandler=a},readyHandler:null,url:function(){return C.replace(this.serviceUrl,"{ext}",Ba.FORMAT)},tokenId:null,container:null,serviceUrl:null,
__class__:Ba};pa={__ename__:["rg","layout","Anchor"],__constructs__:["Top","Bottom","Left","Right"]};Sa=void 0;Da=void 0;La=void 0;$a=void 0;Gc=void 0;Db=void 0;pa.Top=["Top",0];pa.Top.toString=q;pa.Top.__enum__=pa;pa.Bottom=["Bottom",1];pa.Bottom.toString=q;pa.Bottom.__enum__=pa;pa.Left=["Left",2];pa.Left.toString=q;pa.Left.__enum__=pa;pa.Right=["Right",3];pa.Right.toString=q;pa.Right.__enum__=pa;Da=function(a,b,c){this.container=c;c.classed().add("rg");this.space=new U.Space(this.width=a,this.height=
b,c.append("div"))};i["rg.layout.Layout"]=Da;Da.__name__=["rg","layout","Layout"];Da.prototype={adjustPadding:function(){},feedOptions:function(a){this.mainPanelName=a.main;this.paddings=a.padding},paddings:null,suggestPanelPadding:function(a,b,c){if(null!=a&&(a=hb.as(a.frame,Ta),null!=a)){var d=a.disposition;switch(d[1]){case 0:var e=d[3],h=d[2];a.set_disposition(Y.Fill(null==b?h:b,null==c?e:c,d[4],d[5]));break;case 1:e=d[3];h=d[2];a.set_disposition(Y.FillPercent(null==b?h:b,null==c?e:c,d[4],d[5],
d[6]));break;case 2:e=d[3];h=d[2];a.set_disposition(Y.FillRatio(null==b?h:b,null==c?e:c,d[4]));break;case 3:e=d[3],h=d[2],a.set_disposition(Y.Fixed(null==b?h:b,null==c?e:c,d[4]))}}},suggestPanelSize:function(a,b){var c=hb.as(a.frame,Ta);if(null!=c){var d=c.disposition;switch(d[1]){case 3:c.set_disposition(Y.Fixed(d[2],d[3],b))}}},destroy:function(){this.container.selectAll("*").remove()},suggestSize:function(a,b){var c=this.getPanel(a);null!=c&&this.suggestPanelSize(c,b)},getPanel:function(){return null},
getContext:function(){return null},container:null,space:null,height:null,width:null,mainPanelName:null,__class__:Da};La=function(a,b,c){Da.call(this,a,b,c);this.titleOnTop=!0;this.right=!1;this.alternating=!0;this.yitems=[]};i["rg.layout.LayoutCartesian"]=La;La.__name__=["rg","layout","LayoutCartesian"];La.__super__=Da;La.prototype=A(Da.prototype,{adjustPadding:function(){var a=null==this.title&&null==this.paddings.top?8:this.paddings.top,b=(null==this.xtickmarks||!this.titleOnTop&&null==this.title)&&
null==this.paddings.bottom?8:this.paddings.bottom,c=null==this.leftcontainer&&null==this.paddings.left?20:this.paddings.left,d=null==this.rightcontainer&&null==this.paddings.right?20:this.paddings.right;if(null!=c||null!=d)this.suggestPanelPadding(this.getMain(),c,d),this.suggestPanelPadding(this.bottommiddlecontainer,c,d);(null!=a||null!=b)&&this.suggestPanelPadding(this.middlecontainer,a,b)},feedOptions:function(a){Da.prototype.feedOptions.call(this,a);this.titleOnTop=a.titleOnTop;switch(a.scalePattern[1]){case 0:this.alternating=
this.right=!1;break;case 1:this.right=!0;this.alternating=!1;break;case 2:this.right=!1,this.alternating=!0}},getMain:function(){if(null==this.main)this.main=this.getMiddleContainer().createPanelAt(1,Y.Fill(0,0));return this.main},getXTickmarks:function(){if(null==this.xtickmarks){var a=this.getBottomMiddleContainer();this.xtickmarks=new $a(a.createPanelAt(0,Y.Fixed(0,0,0)),pa.Top)}return this.xtickmarks},getBottomMiddleContainer:function(){if(null==this.bottommiddlecontainer){var a=this.getBottomContainer();
this.bottomleft=a.createPanel(Y.Fixed(0,0,0));this.bottommiddlecontainer=a.createContainer(Y.Fill(0,0),wa.Vertical);this.bottommiddlecontainer.g.classed().add("axis-x");this.bottomright=a.createPanel(Y.Fixed(0,0,0))}return this.bottommiddlecontainer},getBottomContainer:function(){if(null==this.bottomcontainer)this.bottomcontainer=this.getMainContainer().createContainerAt(1,Y.Fixed(0,0,0),wa.Horizontal);return this.bottomcontainer},getRightContainer:function(){if(null==this.rightcontainer)this.getMain(),
this.rightcontainer=this.getMiddleContainer().createContainer(Y.Fixed(0,0,0),wa.Horizontal);return this.rightcontainer},getLeftContainer:function(){if(null==this.leftcontainer)this.leftcontainer=this.getMiddleContainer().createContainerAt(0,Y.Fixed(0,0,0),wa.Horizontal);return this.leftcontainer},getMiddleContainer:function(){if(null==this.middlecontainer)this.middlecontainer=this.getMainContainer().createContainerAt(0,Y.Fill(0,0),wa.Horizontal);return this.middlecontainer},getMainContainer:function(){if(null==
this.maincontainer)this.maincontainer=this.space.createContainerAt(this.titleOnTop?1:0,Y.Fill(0,0),wa.Vertical);return this.maincontainer},getXTitle:function(){if(null==this.xtitle)this.xtitle=new $a(this.getBottomMiddleContainer().createPanel(Y.Fixed(0,0,0)),pa.Top);return this.xtitle},suggestLateralSize:function(a){for(var b=0,c=0,d=0,e=this.yitems;d<e.length;){var h=e[d];++d;c++;null!=h.container&&z.enumEq(h.anchor,a)&&(b+=h.container.frame.width)}switch(a[1]){case 3:this.suggestSize("left",b);
this.suggestSize("bottomleft",b);break;case 2:this.suggestSize("right",b),this.suggestSize("bottomright",b)}},suggestSize:function(a,b){if(this.isY(a)||this.isYTitle(a)){var c=this.getYItem(this.getYIndex(a));if(null!=c.container){var d=0;null!=c.context&&(this.isY(a)&&this.suggestPanelSize(c.context.panel,b),d+=c.context.panel.frame.width);null!=c.title&&(this.isYTitle(a)&&this.suggestPanelSize(c.title.panel,b),d+=c.title.panel.frame.width);this.suggestPanelSize(c.container,Math.round(d));this.suggestLateralSize(c.anchor)}}else switch(Da.prototype.suggestSize.call(this,
a,b),a){case "x":case "xtitle":c=0,d=this.getPanel("x"),null!=d&&(c+=d.frame.height),d=this.getPanel("xtitle"),null!=d&&(c+=d.frame.height),Da.prototype.suggestSize.call(this,"xtickmarks",c)}},isYTitle:function(a){return La.REYTITLE.match(a)},isY:function(a){return La.REYAXIS.match(a)},getYIndex:function(a){return La.REYINDEX.match(a)?t.parseInt(La.REYINDEX.matched(1)):-1},getYTitle:function(a){var b=this.getYItem(a);if(null==b.title){switch(b.anchor[1]){case 2:a=this.getYContainer(a).createPanel(Y.Fixed(0,
0,0));break;case 3:a=this.getYContainer(a).createPanelAt(0,Y.Fixed(0,0,0));break;default:a=null}b.title=new $a(a,b.anchor)}return b.title},getYContext:function(a){var b=this.getYItem(a);if(null==b.context){switch(b.anchor[1]){case 2:a=this.getYContainer(a).createPanelAt(0,Y.Fixed(0,0,0));break;case 3:a=this.getYContainer(a).createPanel(Y.Fixed(0,0,0));break;default:a=null}b.context=new $a(a,b.anchor)}return b.context},getYContainer:function(a){var b=this.getYItem(a);if(null==b.container)b.container=
this.right||this.alternating&&0!=a%2?this.getRightContainer().createContainer(Y.Fixed(0,0,0),wa.Horizontal):this.getLeftContainer().createContainerAt(0,Y.Fixed(0,0,0),wa.Horizontal),b.container.g.classed().add("group-"+a);return b.container},getYItem:function(a){null==this.yitems[a]&&(this.yitems[a]={container:null,context:null,title:null,anchor:this.right||this.alternating&&0!=a%2?pa.Left:pa.Right});return this.yitems[a]},getPanel:function(a){switch(a){case "main":return this.getMain();case "xtickmarks":return this.getBottomContainer();
case "left":return this.getLeftContainer();case "right":return this.getRightContainer();case "bottomleft":return this.bottomleft;case "bottomright":return this.bottomright;default:return a=this.getContext(a),null==a?null:a.panel}},getContext:function(a){if(this.isY(a))return this.getYContext(this.getYIndex(a));if(this.isYTitle(a))return this.getYTitle(this.getYIndex(a));switch(a){case "title":if(null==this.title)this.title=new $a(this.space.createPanelAt(this.titleOnTop?0:1,Y.Fixed(0,0,0)),this.titleOnTop?
pa.Bottom:pa.Top);return this.title;case "x":return this.getXTickmarks();case "xtitle":return this.getXTitle();default:return null}},xtitle:null,yitems:null,alternating:null,right:null,title:null,xtickmarks:null,bottomright:null,bottomleft:null,middlecontainer:null,maincontainer:null,bottommiddlecontainer:null,bottomcontainer:null,rightcontainer:null,leftcontainer:null,titleOnTop:null,main:null,__class__:La});Gc=function(a,b,c){Da.call(this,a,b,c);this.titleOnTop=!0};i["rg.layout.LayoutSimple"]=Gc;
Gc.__name__=["rg","layout","LayoutSimple"];Gc.__super__=Da;Gc.prototype=A(Da.prototype,{feedOptions:function(a){Da.prototype.feedOptions.call(this,a);this.titleOnTop=a.titleOnTop},getTitle:function(){if(null==this.title)this.title=new $a(this.space.createPanelAt(this.titleOnTop?0:1,Y.Fixed(0,0,20)),this.titleOnTop?pa.Bottom:pa.Top);return this.title},title:null,getPanel:function(a){switch(a){case "main":if(null==this.main)this.main=this.space.createPanelAt(this.titleOnTop?1:0,Y.Fill(0,0));return this.main;
case "title":return this.getTitle().panel;default:return null}},getContext:function(a){switch(a){case "title":return null!=this.title?null:this.getTitle();default:return null}},titleOnTop:null,main:null,__class__:Gc});Db=function(a,b,c){Da.call(this,a,b,c);this.titleOnTop=!0};i["rg.layout.LayoutX"]=Db;Db.__name__=["rg","layout","LayoutX"];Db.__super__=Da;Db.prototype=A(Da.prototype,{adjustPadding:function(){var a=null==this.title&&null==this.paddings.top?8:this.paddings.top,b=(null==this.xtickmarks||
!this.titleOnTop&&null==this.title)&&null==this.paddings.bottom?8:this.paddings.bottom,c=null==this.paddings.left?20:this.paddings.left,d=null==this.paddings.right?20:this.paddings.right;if(null!=c||null!=d)this.suggestPanelPadding(this.getMain(),c,d),this.suggestPanelPadding(this.bottommiddlecontainer,c,d);(null!=a||null!=b)&&this.suggestPanelPadding(this.middlecontainer,a,b)},feedOptions:function(a){Da.prototype.feedOptions.call(this,a);this.titleOnTop=a.titleOnTop},getMain:function(){if(null==
this.main)this.main=this.getMiddleContainer().createPanelAt(1,Y.Fill(0,0));return this.main},getXTickmarks:function(){if(null==this.xtickmarks){var a=this.getBottomMiddleContainer();this.xtickmarks=new $a(a.createPanelAt(0,Y.Fixed(0,0,0)),pa.Top)}return this.xtickmarks},getBottomMiddleContainer:function(){if(null==this.bottommiddlecontainer)this.bottommiddlecontainer=this.getBottomContainer().createContainer(Y.Fill(0,0),wa.Vertical),this.bottommiddlecontainer.g.classed().add("axis-x");return this.bottommiddlecontainer},
getBottomContainer:function(){if(null==this.bottomcontainer)this.bottomcontainer=this.getMainContainer().createContainerAt(1,Y.Fixed(0,0,0),wa.Horizontal);return this.bottomcontainer},getMiddleContainer:function(){if(null==this.middlecontainer)this.middlecontainer=this.getMainContainer().createContainerAt(0,Y.Fill(0,0),wa.Horizontal);return this.middlecontainer},getMainContainer:function(){if(null==this.maincontainer)this.maincontainer=this.space.createContainerAt(this.titleOnTop?1:0,Y.Fill(0,0),
wa.Vertical);return this.maincontainer},getXTitle:function(){if(null==this.xtitle)this.xtitle=new $a(this.getBottomMiddleContainer().createPanel(Y.Fixed(0,0,0)),pa.Top);return this.xtitle},suggestSize:function(a,b){Da.prototype.suggestSize.call(this,a,b);switch(a){case "x":case "xtitle":var c=0,d=this.getPanel("x");null!=d&&(c+=d.frame.height);d=this.getPanel("xtitle");null!=d&&(c+=d.frame.height);Da.prototype.suggestSize.call(this,"xtickmarks",c)}},getPanel:function(a){switch(a){case "main":return this.getMain();
case "xtickmarks":return this.getBottomContainer();default:return a=this.getContext(a),null==a?null:a.panel}},getContext:function(a){switch(a){case "title":if(null==this.title)this.title=new $a(this.space.createPanelAt(this.titleOnTop?0:1,Y.Fixed(0,0,0)),this.titleOnTop?pa.Bottom:pa.Top);return this.title;case "x":return this.getXTickmarks();case "xtitle":return this.getXTitle();default:return null}},xtitle:null,title:null,xtickmarks:null,middlecontainer:null,maincontainer:null,bottommiddlecontainer:null,
bottomcontainer:null,titleOnTop:null,main:null,__class__:Db});$a=function(a,b){this.panel=a;this.anchor=b};i["rg.layout.PanelContext"]=$a;$a.__name__=["rg","layout","PanelContext"];$a.prototype={anchor:null,panel:null,__class__:$a};Sa={__ename__:["rg","layout","ScalePattern"],__constructs__:["ScalesBefore","ScalesAfter","ScalesAlternating"],ScalesBefore:["ScalesBefore",0]};Sa.ScalesBefore.toString=q;Sa.ScalesBefore.__enum__=Sa;Sa.ScalesAfter=["ScalesAfter",1];Sa.ScalesAfter.toString=q;Sa.ScalesAfter.__enum__=
Sa;Sa.ScalesAlternating=["ScalesAlternating",2];Sa.ScalesAlternating.toString=q;Sa.ScalesAlternating.__enum__=Sa;Ja=function(a,b){this._async=a;this._first=b;this._store=new L.StringMap};pb=void 0;fa=void 0;i["rg.query.BaseQuery"]=Ja;Ja.__name__=["rg","query","BaseQuery"];Ja.asyncTransform=function(a){return function(b,c){for(var d=0,e=b.length;d<e;){var h=d++;b[h]=a(b[h])}c(b)}};Ja.stackAsyncTransform=function(a){return function(b,c){c(a(b))}};Ja.prototype={_this:function(a){return a},toString:function(){return z.getClassName(z.getClass(this)).split(".").pop()+
(" [next: "+t.string(null!=this._next)+", async: "+t.string(null!=this._async)+"]")},_createQuery:function(a,b){return new Ja(a,b)},_query:function(a){return a},execute:function(a){this._first.execute(a)},stackClear:function(){return this.stackTransform(function(){return[]})},stackRetrieve:function(a){var b=this;null==a&&(a="");return this.stackTransform(function(c){return c.concat(b._first._store.get(a))})},stackSortValue:function(a,b){null==b&&(b=!0);var c=function(b){return b.reduce(function(b,
c){return b+j.field(c,a)},0)};return this.stackSort(function(a,e){return(b?1:-1)*(c(a)-c(e))})},stackSort:function(a){return this.stackTransform(function(b){b.sort(a);return b})},stackStore:function(a){var b=this;null==a&&(a="");return this.stackTransform(function(c){b._first._store.set(a,c.slice());return c})},stackReverse:function(){return this.stackAsync(Ja.stackAsyncTransform(function(a){a.reverse();return a}))},stackRotate:function(a){var b=fa.rotate(a);return this.stackAsync(Ja.stackAsyncTransform(function(a){return b(a)}))},
split:function(a){if(B.__instanceof(a,String))var b=a,a=function(a){return j.field(a,b)};return this.stackAsync(Ja.stackAsyncTransform(function(b){for(var d=[],e=0;e<b.length;){var h=b[e];++e;d=d.concat(fa.split(h,a))}return d}))},stackKeep:function(a){null==a&&(a=1);return this.stackAsync(Ja.stackAsyncTransform(function(b){return b.slice(0,a)}))},stackDiscard:function(a){null==a&&(a=1);return this.stackAsync(Ja.stackAsyncTransform(function(b){for(var c=0;c<a;)c++,b.pop();return b}))},stackMerge:function(){return this.stackAsync(Ja.stackAsyncTransform(function(a){return[S.flatten(a)]}))},
fold:function(a,b){return this.transform(function(c){var d=[],e=j.isFunction(a)?a(c,d):a;c.forEach(function(a){e=b(e,a,d)});return d})},unique:function(a){if(null==a)a=ca.same;return this.transform(fa.uniquef(a))},reverse:function(){return this.transform(fa.reverse)},limit:function(a,b){null==b&&(b=a,a=0);return this.transform(fa.limit(a,b))},sortValues:function(a){for(var b=[],c=[],d=0,e=j.fields(a);d<e.length;){var h=e[d];++d;b.push(h);c.push(!1!=j.field(a,h))}return this.sort(function(a,d){for(var e,
h=0,f=b.length;h<f;){var g=h++;e=b[g];e=(c[g]?1:-1)*ca.compare(j.field(a,e),j.field(d,e));if(0!=e)return e}return 0})},sortValue:function(a,b){var c={};c[a]=null==b?!0:b;return this.sortValues(c)},sort:function(a){return this.transform(fa.sort(a))},filterValue:function(a,b){return this.transform(fa.filterValue(a,b))},filterValues:function(a){return this.transform(fa.filterValues(a))},filter:function(a){return this.transform(fa.filter(a))},addIndex:function(a,b){null==a&&(a="index");null==b&&(b=0);
return this.fold(function(){return b},function(b,d,e){d[a]=b;e.push(d);return++b})},mapValues:function(a){return this.transform(fa.mapFields(a))},mapValue:function(a,b){return this.transform(fa.mapField(a,b))},setValues:function(a){return this.transform(fa.setFields(a))},setValue:function(a,b){return this.transform(fa.setField(a,b))},asyncEach:function(a){return this.asyncAll(function(b,c){for(var d=b.length,e=0,h=[],f=function(a,b){h[a]=b;++e==d&&c(S.flatten(h))},g=0,i=b.length;g<i;){var k=g++;a(b[k],
function(a,b){return function(c){return a(b,c)}}(f,k))}})},asyncAll:function(a){return this.stackAsync(function(b,c){for(var d=b.length,e=0,h=[],f=function(a,b){h[a]=b;++e==d&&c(h)},g=0,i=b.length;g<i;){var k=g++;a(b[k],function(a,b){return function(c){return a(b,c)}}(f,k))}})},stackAsync:function(a){return this._next=a=this._createQuery(a,this._first)},stackTransform:function(a){return this.stackAsync(Ja.stackAsyncTransform(a))},stackCross:function(){return this.stackTransform(fa.crossStack)},firstElement:function(){return this.transform(function(a){return a[0]})},
explode:function(a){return this.transform(function(b){for(var c=[],d=0;d<b.length;){var e=b[d];++d;e=c.concat(a(e));B.__instanceof(e,Array)?c=c.concat(e):c.push(e)}return c})},transform:function(a){return this.stackAsync(Ja.asyncTransform(a))},toObject:function(a){return this.transform(fa.toObject(a))},renameFields:function(a){var b=j.fields(a).map(function(b){return{src:b,dst:j.field(a,b)}});return this.map(function(a){for(var d={},e=0;e<b.length;){var h=b[e];++e;j.setField(d,h.dst,j.field(a,h.src))}return d})},
console:function(a){return this.stackTransform(function(b){var c=console;null!=c&&c.log((null==a?"":a+": ")+ca.string(b));return b})},auditItem:function(a){return this.transform(function(b){for(var c=0;c<b.length;){var d=b[c];++c;a(d)}return b})},audit:function(a){return this.transform(function(b){a(b);return b})},map:function(a){return this.transform(fa.map(a))},data:function(a){B.__instanceof(a,Array)||(a=[a]);return this.stackAsync(function(b,c){b.push(a);c(b)})},request:function(a,b){if(null==
b)b={type:"application/json",useJsonp:!1};else{if(null==b.type)b.type="application/json";if(null==b.useJsonp)b.useJsonp=!1}var c=null;switch(b.type.toLowerCase()){case "json":switch(b.useJsonp){case !0:c=function(a){return a};break;case !1:c=function(a){return aa.Json.decode(a)}}break;case "application/json":switch(b.useJsonp){case !0:c=function(a){return a};break;case !1:c=function(a){return aa.Json.decode(a)}}break;case "csv":case "text/csv":c=function(a){return Kb.Csv.decode(a)};break;default:throw'invalid type format "'+
b.type+'"';}var d=function(a,b){return function(d){a.push(c(d));b(a)}};return this.stackAsync(!0==b.useJsonp?function(b,c){Tb.get(a,d(b,c),function(){},{},{})}:function(b,c){var f=new Ac(a);f.async=!0;f.onData=d(b,c);f.request(!1)})},load:function(a){return this.stackAsync(function(b,c){a(function(a){b.push(a);c(b)})})},_store:null,_async:null,_next:null,_first:null,__class__:Ja};pb=function(){Ja.call(this,null,this)};i["rg.query.Query"]=pb;pb.__name__=["rg","query","Query"];pb.create=function(){var a=
new pb,b=a._createQuery(function(a,b){b(a)},a);return a._next=b};pb.executeHandler=function(a,b){var c=a._next;(function(){var a=null;return a=function(e){null==c._next?b(S.flatten(e)):(c=c._next,c._async(e,a))}})(this)([])};pb.__super__=Ja;pb.prototype=A(Ja.prototype,{execute:function(a){pb.executeHandler(this,a)},__class__:pb});fa=function(){};i["rg.query.Transformers"]=fa;fa.__name__=["rg","query","Transformers"];fa.crossStack=function(a){if(1>=a.length)return a;for(var b=a.shift();0<a.length;){for(var c=
a.shift(),d=[],e=0;e<b.length;){var h=b[e];++e;for(var f=0;f<c.length;){var g=c[f];++f;d.push(ra.copyTo(g,ra.copyTo(h,{})))}}b=d}return[b]};fa.split=function(a,b){var c=new L.StringMap,d=[];a.forEach(function(a){var h=""+b(a),f=c.get(h);if(null==f)f=d.length,c.set(h,f),d.push([]);d[f].push(a)});return d};fa.map=function(a){return function(b){return I.map(u.iter(b),a)}};fa.toObject=function(a){return function(b){return b.map(function(b){var d={};d[a]=b;return d})}};fa.filter=function(a){return function(b){return b.filter(a)}};
fa.filterValues=function(a){var b=ra.entries(a);b.forEach(function(a){if(!j.isFunction(a.value)){var b=a.value;a.value=function(a){return a==b}}});var c=function(a){for(var c=0;c<b.length;){var h=b[c];++c;if(!h.value(j.field(a,h.key)))return!1}return!0};return function(a){return a.filter(c)}};fa.filterValue=function(a,b){if(!j.isFunction(b))var c=b,b=function(a){return a==c};var d=function(c){return!b(j.field(c,a))?!1:!0};return function(a){return a.filter(d)}};fa.setField=function(a,b){if(!j.isFunction(b))var c=
b,b=function(){return c};return function(c){c.forEach(function(c){c[a]=b(c)});return c}};fa.mapField=function(a,b){if(!j.isFunction(b))var c=b,b=function(){return c};return function(c){c.forEach(function(c){c[a]=b(j.field(c,a))});return c}};fa.setFields=function(a){for(var b=j.fields(a),c=[],d=0;d<b.length;){var e=b[d];++d;e=j.field(a,e);j.isFunction(e)?c.push(e):c.push(function(a,b){return function(c){return a(b,c)}}(function(a){return a},e))}return function(a){a.forEach(function(a){for(var d=0,
e=b.length;d<e;){var h=d++;a[b[h]]=c[h](a)}});return a}};fa.mapFields=function(a){for(var b=j.fields(a),c=[],d=0;d<b.length;){var e=b[d];++d;e=j.field(a,e);j.isFunction(e)?c.push(e):c.push(function(a,b){return function(c){return a(b,c)}}(function(a){return a},e))}return function(a){a.forEach(function(a){for(var d=0,e=b.length;d<e;){var h=d++;a[b[h]]=c[h](j.field(a,b[h]))}});return a}};fa.sort=function(a){return function(b){b.sort(null==a?ca.compare:a);return b}};fa.limit=function(a,b){return function(c){return a>=
c.length?[]:c.slice(a,a+b>c.length?c.length:a+b)}};fa.reverse=function(a){a.reverse();return a};fa.uniquef=function(a){return function(b){for(var c=0,d;c<b.length-1;){var e=b[c];for(d=b.length-1;d>c;)a(e,b[d])&&b.splice(d,1),d--;c++}return b}};fa.rotate=function(a){if(B.__instanceof(a,String))var b=a,a=function(a,c){return j.field(a,b)==j.field(c,b)};var c=null==a?function(a,b,c,f){return c==f}:function(b,c){return a(b,c)};return function(a){for(var b=[],h=a[0],f=0,g=h.length;f<g;){for(var i=f++,
k=h[i],x=[k],N=1,l=a.length;N<l;)for(var j=N++,j=a[j],m=0,n=j.length;m<n;){var p=m++,q=j[p];if(c(k,q,i,p)){x.push(q);break}}b.push(x)}return b}};U={};K=void 0;n=void 0;l=void 0;ta=void 0;U.Layer=function(a){this.frame=(this.panel=a).frame;a.addLayer(this);this.g=a.g.append("svg:g");this.g.attr("class").string("layer");this._resize()};i["rg.svg.panel.Layer"]=U.Layer;U.Layer.__name__=["rg","svg","panel","Layer"];U.Layer.prototype={resize:function(){},_resize:function(){this.width=this.frame.width;this.height=
this.frame.height;this.resize()},addClass:function(a){var b=this;a.split(" ").forEach(function(a){b.g.classed().add(a)})},height:null,width:null,g:null,frame:null,panel:null,__class__:U.Layer};n={Chart:function(a){U.Layer.call(this,a);this.animated=!0;this.animationDuration=1500;this.animationEase=V.Equations.linear;this.ready=new Zb}};i["rg.svg.chart.Chart"]=n.Chart;n.Chart.__name__=["rg","svg","chart","Chart"];n.Chart.__super__=U.Layer;n.Chart.prototype=A(U.Layer.prototype,{moveTooltip:function(a,
b,c){var d=U.Panels.absolutePos(this.panel);this.panelx=d.x;this.panely=d.y;this.tooltip.setAnchorColor(c);this.tooltip.showAt(this.panelx+a|0,this.panely+b|0)},init:function(){if(null!=this.labelDataPointOver)this.tooltip=F.Tooltip.get_instance();this.resize()},resize:function(){var a=U.Panels.absolutePos(this.panel);this.panelx=a.x;this.panely=a.y},tooltip:null,panely:null,panelx:null,ready:null,labelDataPointOver:null,labelDataPoint:null,click:null,animationEase:null,animationDuration:null,animated:null,
__class__:n.Chart});n.CartesianChart=function(a){n.Chart.call(this,a);this.labelDataPointVerticalOffset=25;this.labelDataPointShadow=this.labelDataPointOutline=!1};i["rg.svg.chart.CartesianChart"]=n.CartesianChart;n.CartesianChart.__name__=["rg","svg","chart","CartesianChart"];n.CartesianChart.__super__=n.Chart;n.CartesianChart.prototype=A(n.Chart.prototype,{data:function(){throw new H.AbstractMethod({fileName:"CartesianChart.hx",lineNumber:43,className:"rg.svg.chart.CartesianChart",methodName:"data"});
},setVariables:function(a){this.xVariable=a[0];this.yVariables=a.slice(1)},labelDataPointShadow:null,labelDataPointOutline:null,labelDataPointVerticalOffset:null,xVariable:null,yVariables:null,__class__:n.CartesianChart});n.BarChart=function(a){n.CartesianChart.call(this,a);this.addClass("bar-chart");this.defs=this.g.append("svg:defs");this.chart=this.g.append("svg:g");this.gradientLightness=2;this.displayGradient=!0;this.padding=10;this.paddingAxis=4;this.paddingDataPoint=2;this.horizontal=!1;this.segmentProperty=
this.startat=null};i["rg.svg.chart.BarChart"]=n.BarChart;n.BarChart.__name__=["rg","svg","chart","BarChart"];n.BarChart.__super__=n.CartesianChart;n.BarChart.prototype=A(n.CartesianChart.prototype,{applyGradient:function(a){var b=O.selectNodeData(a);j.field(a,"__dhx_data__");var a=b.style("fill").get(),a=T.parse(a,"#ccc"),c="rg_bar_gradient_"+a.hex("");if(this.defs.select("#"+c).empty()){var d=T.applyLightness(f.Hsl.toHsl(a),this.gradientLightness).toRgbString(),e=this.defs.append("svg:linearGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string(c).attr("x1")["float"](0).attr("x2")["float"](0).attr("y1")["float"](1).attr("y2")["float"](0).attr("spreadMethod").string("pad");
e.append("svg:stop").attr("offset")["float"](0).attr("stop-color").string(d).attr("stop-opacity")["float"](1);e.append("svg:stop").attr("offset")["float"](1).attr("stop-color").string(a.toRgbString()).attr("stop-opacity")["float"](1)}b.attr("style").string("fill:url(#"+c+")")},onmouseover:function(a,b){var c=this.labelDataPointOver(j.field(b,"__dhx_data__"),a);if(null==c)this.tooltip.hide();else{var d=O.selectNode(b),e=d.attr("x").getFloat(),h=d.attr("y").getFloat(),d=d.attr("width").getFloat();this.tooltip.html(c.split("\n").join("<br>"));
this.moveTooltip(e+d/2,h,T.extractColor(b))}},onclick:function(a,b){this.click(b,a)},datav:function(a,b){for(var c=new L.StringMap,d=(this.width-this.padding*(a.length-1))/a.length,e=function(a,b){var d=c.get(a);null==d&&(d=b.append("svg:g").attr("class").string(a),c.set(a,d));return d},h=null!=this.labelDataPoint?this.g.append("svg:g").attr("class").string("datapoint-labels"):null,f=0,g=a.length;f<g;)for(var i=f++,i=a[i],k=(d-this.paddingAxis*(i.length-1))/i.length,x=0,N=i.length;x<N;)for(var l=
x++,m=i[l],n=e("group-"+l,this.chart),p=this.xVariable.type,q=this.xVariable.axis,s=this.xVariable.min(),t=this.xVariable.max(),kb=this.yVariables[l].type,be=this.yVariables[l].axis,ge=this.yVariables[l].min(),r=this.yVariables[l].max(),u=Math.max(1,(k-this.paddingDataPoint*(m.length-1))/m.length),w=-d/2+l*(k+this.paddingAxis),l=this.yVariables[l].stats,y=function(a,b){return function(c,d){return a(b,c,d)}}(v(this,this.onmouseover),l),A=function(a,b){return function(c,d,e){return a(b,c,d,e)}}(v(this,
this.onclick),l),B=0,z=0,F=m.length;z<F;){var E=z++,C=m[E],G=e("fill-"+(null==this.segmentProperty?E:S.indexOf(b,j.field(C,this.segmentProperty))),n),H=this.width*q.scale(s,t,j.field(C,p)),D=null==this.startat?B:be.scale(ge,r,j.field(C,this.startat))*this.height,I=be.scale(ge,r,j.field(C,kb))*this.height-(null==this.startat?0:D);if(!Math.isNaN(D)){0>I?(D+=I,I=-I):Math.isNaN(I)&&(I=0);var J=Math.max(this.stacked?k:u,1),M=this.stacked?H+w:H+w+E*(u+this.paddingDataPoint),O=this.height-I-D,G=G.append("svg:rect").attr("class").string("bar").attr("x")["float"](M).attr("width")["float"](J).attr("y")["float"](O).attr("height")["float"](I).onNode("mouseover",
y).onNode("click",function(a,b){return function(c,d){return a(b,c,d)}}(A,C));G.node().__dhx_data__=C;T.storeColorForSelection(G);this.displayGradient&&G.eachNode(v(this,this.applyGradient));this.visuallyStacked()&&(B=D+I);null!=this.labelDataPoint&&K.PointLabel.label(h,this.labelDataPoint(C,l),(this.stacked?H+w:H+w+E*(u+this.paddingDataPoint))+J/2,this.height-I-D-this.labelDataPointVerticalOffset,this.labelDataPointShadow,this.labelDataPointOutline)}}this.ready.dispatch()},datah:function(a,b){for(var c=
new L.StringMap,d=(this.height-this.padding*(a.length-1))/a.length,e=function(a,b){var d=c.get(a);null==d&&(d=b.append("svg:g").attr("class").string(a),c.set(a,d));return d},h=0,f=a.length;h<f;)for(var g=h++,g=a[g],i=(d-this.paddingAxis*(g.length-1))/g.length,k=0,x=g.length;k<x;)for(var l=k++,m=g[l],n=e("group-"+l,this.chart),p=this.xVariable.type,q=this.xVariable.axis,s=this.xVariable.min(),r=this.xVariable.max(),t=this.yVariables[l].type,kb=this.yVariables[l].axis,be=this.yVariables[l].min(),ge=
this.yVariables[l].max(),u=Math.max(1,(i-this.paddingDataPoint*(m.length-1))/m.length),l=-d/2+l*(i+this.paddingAxis),he=this.xVariable.stats,w=function(a,b){return function(c,d){return a(b,c,d)}}(v(this,this.onmouseover),he),he=function(a,b){return function(c,d,e){return a(b,c,d,e)}}(v(this,this.onclick),he),y=0,A=0,B=m.length;A<B;){var z=A++,C=m[z],F=e("fill-"+(null==this.segmentProperty?z:S.indexOf(b,j.field(C,this.segmentProperty))),n),E=null==this.startat?y:q.scale(s,r,j.field(C,this.startat))*
this.width,G=Math.max(this.height*kb.scale(be,ge,j.field(C,t)),1),D=q.scale(s,r,j.field(C,p))*this.width-(null==this.startat?0:E);if(!Math.isNaN(E))0>D?(E-=D,D=-D):Math.isNaN(D)&&(D=0),z=F.append("svg:rect").attr("class").string("bar").attr("x")["float"](E).attr("y")["float"](this.height-(this.stacked?G-l:G-l-z*(u+this.paddingDataPoint))).attr("height")["float"](this.stacked?i:u).attr("width")["float"](D).onNode("mouseover",w).onNode("click",function(a,b){return function(c,d){return a(b,c,d)}}(he,
C)),z.node().__dhx_data__=C,T.storeColorForSelection(z),this.displayGradient&&z.eachNode(v(this,this.applyGradient)),this.visuallyStacked()&&(y=E+D)}this.ready.dispatch()},data:function(a){this.horizontal?this.datah(a.data,a.segments):this.datav(a.data,a.segments)},visuallyStacked:function(){return this.stacked&&null==this.startat},setVariables:function(a,b,c,d){this.horizontal?(this.xVariable=c[0],this.yVariables=b):(this.xVariable=b[0],this.yVariables=c);if(this.visuallyStacked()){for(a=0;a<c.length;)b=
c[a],++a,b.meta.max=Math.NEGATIVE_INFINITY;for(var d=d.data,e=0,a=d.length;e<a;)for(var h=e++,f=0,g=d[h].length;f<g;){for(var i=f++,b=c[i],k=0,x=0,l=d[h][i].length;x<l;)var j=x++,k=k+xa.valueAlt(d[h][i][j],b.type,0);if(b.meta.max<k)b.meta.max=k}}},segmentProperty:null,startat:null,horizontal:null,paddingDataPoint:null,paddingAxis:null,padding:null,displayGradient:null,gradientLightness:null,defs:null,chart:null,stacked:null,__class__:n.BarChart});n.ColorScaleMode={__ename__:["rg","svg","chart","ColorScaleMode"],
__constructs__:"FromCssInterpolation,FromCss,Interpolation,Sequence,Fixed,Fun".split(",")};n.ColorScaleMode.FromCssInterpolation=function(a){a=["FromCssInterpolation",0,a];a.__enum__=n.ColorScaleMode;a.toString=q;return a};n.ColorScaleMode.FromCss=function(a){a=["FromCss",1,a];a.__enum__=n.ColorScaleMode;a.toString=q;return a};n.ColorScaleMode.Interpolation=function(a){a=["Interpolation",2,a];a.__enum__=n.ColorScaleMode;a.toString=q;return a};n.ColorScaleMode.Sequence=function(a){a=["Sequence",3,
a];a.__enum__=n.ColorScaleMode;a.toString=q;return a};n.ColorScaleMode.Fixed=function(a){a=["Fixed",4,a];a.__enum__=n.ColorScaleMode;a.toString=q;return a};n.ColorScaleMode.Fun=function(a){a=["Fun",5,a];a.__enum__=n.ColorScaleMode;a.toString=q;return a};n.ColorScaleModes=function(){};i["rg.svg.chart.ColorScaleModes"]=n.ColorScaleModes;n.ColorScaleModes.__name__=["rg","svg","chart","ColorScaleModes"];n.ColorScaleModes.canParse=function(a){try{return n.ColorScaleModes.createFromDynamic(a),!0}catch(b){return!1}};
n.ColorScaleModes.createFromDynamic=function(a){if(j.isFunction(a))return n.ColorScaleMode.Fun(a);if(!B.__instanceof(a,String))throw new H.Error("invalid color mode '{0}'",[a],null,{fileName:"ColorScaleModes.hx",lineNumber:28,className:"rg.svg.chart.ColorScaleModes",methodName:"createFromDynamic"});a=B.__cast(a,String).split(":");switch(a[0].toLowerCase()){case "css":return n.ColorScaleMode.FromCss(null==a[1]?null:t.parseInt(a[1]));case "i":case "interpolated":return n.ColorScaleMode.Interpolation(a[1].split(",").map(function(a){return f.Colors.parse(a)}));
case "s":case "sequence":return n.ColorScaleMode.Sequence(a[1].split(",").map(function(a){return f.Colors.parse(a)}));case "f":case "fixed":return n.ColorScaleMode.Fixed(f.Colors.parse(a[1]));default:return 0<=a[0].indexOf(",")?n.ColorScaleMode.Sequence(a[0].split(",").map(function(a){return f.Colors.parse(a)})):n.ColorScaleMode.Fixed(f.Colors.parse(a[0]))}};n.Coords=function(){};i["rg.svg.chart.Coords"]=n.Coords;n.Coords.__name__=["rg","svg","chart","Coords"];n.Coords.fromTransform=function(a){return n.Coords.retransform.match(a)?
(a=n.Coords.retransform.matched(2),[t.parseFloat(n.Coords.retransform.matched(1)),null==a?0:t.parseFloat(a)]):[0,0]};n.FunnelChart=function(a){n.Chart.call(this,a);this.padding=2.5;this.flatness=1;this.arrowSize=30;this.gradientLightness=1;this.displayGradient=!0;this.labelArrow=v(this,this.defaultLabelArrow);this.labelDataPoint=v(this,this.defaultLabelDataPoint);this.labelDataPointOver=v(this,this.defaultLabelDataPointOver)};i["rg.svg.chart.FunnelChart"]=n.FunnelChart;n.FunnelChart.__name__=["rg",
"svg","chart","FunnelChart"];n.FunnelChart.__super__=n.Chart;n.FunnelChart.prototype=A(n.Chart.prototype,{externalGradient:function(a,b){var c=O.selectNode(a).select("path"),d=f.Hsl.toHsl(T.parse(c.style("fill").get(),"#cccccc")),e=this.next(b),h=this.dpvalue(this.dps[b]),o=Math.round(100*(e/h))/100,o="rg_funnel_ext_gradient_"+d.hex("#")+"-"+o,g=this.defs.append("svg:radialGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string(o).attr("cx").string("50%").attr("cy").string("0%").attr("r").string("110%"),
i=d.hex("#");g.append("svg:stop").attr("offset").string("10%").attr("stop-color").string(i);d=T.applyLightness(d,1-(h<e?h/e:e/h),this.gradientLightness*(h>=e?1:-1)).hex("#");g.append("svg:stop").attr("offset").string("50%").attr("stop-color").string(d);g.append("svg:stop").attr("offset").string("90%").attr("stop-color").string(i);c.attr("style").string("fill:url(#"+o+")")},internalGradient:function(a){var b=T.parse(a.style("fill").get(),"#cccccc"),c=this.defs.append("svg:radialGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string("rg_funnel_int_gradient_0").attr("cx").string("50%").attr("fx").string("75%").attr("cy").string("20%").attr("r").string(Math.round(75)+
"%");c.append("svg:stop").attr("offset").string("0%").attr("stop-color").string(T.applyLightness(f.Hsl.toHsl(b),this.gradientLightness).toRgbString());c.append("svg:stop").attr("offset").string("100%").attr("stop-color").string(T.applyLightness(f.Hsl.toHsl(b),-this.gradientLightness).toRgbString());a.attr("style").string("fill:url(#rg_funnel_int_gradient_0)")},init:function(){n.Chart.prototype.init.call(this);null!=this.tooltip&&this.tooltip.anchor("bottomright");this.defs=this.g.classed().add("funnel-chart").append("svg:defs")},
mouseOver:function(a,b,c){null!=this.labelDataPointOver&&(a=this.labelDataPointOver(a,c),null==a?this.tooltip.hide():(this.tooltip.html(a.split("\n").join("<br>")),this.moveTooltip(this.width/2,this.topheight+0.6*this.h+(this.h+this.padding)*b,T.extractColor(this.currentNode))))},redraw:function(){var a=this;if(!(null==this.dps||0==this.dps.length)){this.g.selectAll("g").remove();this.g.selectAll("radialGradient").remove();this.stats=this.variableDependent.stats;var b=this.scale(this.stats.max),c=
function(c){return a.width/2-a.scale(c)/b*(a.width-2)/2},d=function(b){return a.width-c(b)},e=(new p.Diagonal).sourcef(function(b){return[c(a.dpvalue(b)),0]}).targetf(function(b,d){return[c(a.next(d)),a.h]}),h=(new p.Diagonal).sourcef(function(b,c){return[d(a.next(c)),a.h]}).targetf(function(b){return[d(a.dpvalue(b)),0]}),f=function(b,e,h){b=e?c(b)-d(b):d(b)-c(b);return" a 5 "+a.flatness+" 0 0 "+(e?0==h?1:0:h)+" "+b+" 0"},g=function(b){b=a.dpvalue(b);return" M "+c(b)+" 0 "+f(b,!1,0)+f(b,!0,1)},i=
this.g.append("svg:g"),k=i.append("svg:path").attr("class").string("funnel-inside fill-0").attr("d").string(g(this.dps[0]));if(null!=this.click)i.onNode("click",function(){a.click(a.dps[0],a.stats)});this.displayGradient&&this.internalGradient(k);k.onNode("mouseover",function(b){a.currentNode=b;a.mouseOver(a.dps[0],0,a.stats)});T.storeColorForSelection(k);this.topheight=Math.ceil(k.node().getBBox().height/2)+1;k=this.dps.length-1;g=this.g.append("svg:path").attr("class").string("funnel-inside fill-"+
k).attr("d").string(g(this.dps[k]));k=Math.ceil(g.node().getBBox().height/2)+1;g.remove();this.h=(this.height-this.topheight-k-(this.dps.length-1)*this.padding)/this.dps.length;i.attr("transform").string("translate(0,"+(1+this.topheight)+")");i=this.g.selectAll("g.section").data(this.dps).enter().append("svg:g").attr("class").string("section").attr("transform").stringf(function(b,c){return"translate(0,"+(a.topheight+c*(a.padding+a.h))+")"});g=i.append("svg:path").attr("class").stringf(function(a,
b){return"funnel-outside fill-"+b}).attr("d").stringf(function(b,c){var d=h.diagonal(b,c).split("C");d.shift();d="C"+d.join("C");return e.diagonal(b,c)+f(a.next(c),!1,0)+d+f(a.dpvalue(b),!0,0)});if(null!=this.click)g.on("click",function(b){a.click(b,a.stats)});T.storeColorForSelection(g);g.onNode("mouseover",function(b,c){a.currentNode=b;a.mouseOver(j.field(b,"__dhx_data__"),c,a.stats)});this.displayGradient&&i.eachNode(v(this,this.externalGradient));i=this.g.selectAll("g.arrow").data(this.dps).enter().append("svg:g").attr("class").string("arrow").attr("transform").stringf(function(b,
c){return"translate("+a.width/2+","+(a.topheight+a.h*c+a.arrowSize/2)+")"});i.each(function(b){if(null!=a.labelArrow&&(b=a.labelArrow(b,a.stats),null!=b)){var c=O.selectNode(la.current);c.append("svg:path").attr("transform").string("scale(1.1,0.85)translate(1,1)").attr("class").string("shadow").style("fill").string("#000").attr("opacity")["float"](0.25).attr("d").string(p.Symbol.arrowDownWide(a.arrowSize*a.arrowSize));c.append("svg:path").attr("transform").string("scale(1.1,0.8)").attr("d").string(p.Symbol.arrowDownWide(a.arrowSize*
a.arrowSize));c=new l.Label(c,!0,!1,!0);c.set_anchor(l.GridAnchor.Bottom);c.set_text(b)}});i.each(function(b,c){if(null!=a.labelDataPoint){var d=a.labelDataPoint(b,a.stats);if(null!=d){var e=new l.Balloon(a.g);e.set_boundingBox({x:a.width/2+2*(a.arrowSize/3),y:0,width:a.width,height:a.height});e.set_preferredSide(3);e.set_text(d.split("\n"));e.moveTo(a.width/2,a.topheight+0.6*a.h+(a.h+a.padding)*c,!1)}}});this.ready.dispatch()}},next:function(a){return this.dpvalue(this.dps[a+1<this.dps.length?a+
1:a])},scale:function(a){return this.variableDependent.axis.scale(this.variableDependent.min(),this.variableDependent.max(),a)},currentNode:null,h:null,topheight:null,stats:null,dpvalue:function(a){return j.field(a,this.variableDependent.type)},resize:function(){n.Chart.prototype.resize.call(this);this.redraw()},data:function(a){this.dps=a;this.redraw()},setVariables:function(a,b){this.variableIndependent=a[0];this.variableDependent=b[0]},defaultLabelDataPointOver:function(a){return P.format(j.field(a,
this.variableDependent.type))},defaultLabelDataPoint:function(a){return ka.humanize(j.field(a,this.variableIndependent.type)).split(" ").join("\n")},defaultLabelArrow:function(a,b){var c=j.field(a,this.variableDependent.type)/b.max;return m.FormatNumber.percent(100*c,0)},dps:null,defs:null,variableDependent:null,variableIndependent:null,labelArrow:null,arrowSize:null,gradientLightness:null,displayGradient:null,flatness:null,padding:null,__class__:n.FunnelChart});n.Geo=function(a){this.labelOutline=
this.labelShadow=!1;n.Chart.call(this,a);this.mapcontainer=this.g.append("svg:g").attr("class").string("mapcontainer");this.queue=[];this.set_colorMode(n.ColorScaleMode.FromCss());this.resize()};i["rg.svg.chart.Geo"]=n.Geo;n.Geo.__name__=["rg","svg","chart","Geo"];n.Geo.__super__=n.Chart;n.Geo.prototype=A(n.Chart.prototype,{addMap:function(a,b){null!=b&&a.onReady.add(function(a,b,e){return function(){return a(b,e)}}(v(this,this.drawmap),a,b))},init:function(){n.Chart.prototype.init.call(this);F.Tooltip.get_instance().hide();
if(null==this.tooltip)this.tooltip=F.Tooltip.get_instance();this.g.classed().add("geo")},set_colorMode:function(a){var b=this,c=this.colorMode=a;switch(c[1]){case 0:c=c[2];null==c&&(c=1);var d=K.RGCss.colorsInCss();d.length>c&&(d=d.slice(0,c));1==d.length&&d.push(f.Hsl.lighter(f.Hsl.toHsl(f.Colors.parse(d[0])),0.9).hex("#"));d.reverse();this.set_colorMode(n.ColorScaleMode.Interpolation(d.map(function(a){return f.Colors.parse(a)})));break;case 1:var e=c[2];null==e&&(e=K.RGCss.numberOfColorsInCss());
this.stylefeature=function(a,c){var d=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),j.field(c,b.variableDependent.type)),d=Math.floor(e*d);a.attr("class").string("fill-"+d);T.storeColorForSelection(a)};break;case 3:var h=I.map(u.iter(c[2]),function(a){return a.hex("#")});this.stylefeature=function(a,c){var d=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),j.field(c,b.variableDependent.type)),d=Math.floor(h.length*d);a.style("fill").string(h[d]);
T.storeColorForSelection(a)};break;case 2:var o=f.Rgb.interpolateStepsf(c[2]);this.stylefeature=function(a,c){var d=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),j.field(c,b.variableDependent.type));a.style("fill").string(o(d).hex("#"));T.storeColorForSelection(a)};break;case 4:var g=c[2].hex("#");this.stylefeature=function(a){a.style("fill").string(g);T.storeColorForSelection(a)};break;case 5:var i=c[2];this.stylefeature=function(a,c){a.style("fill").string(i(c,
b.variableDependent.stats));T.storeColorForSelection(a)}}return a},redraw:function(){for(;0<this.queue.length;)this.queue.shift()()},stylefeature:function(){},handlerClick:function(a,b){b(a,this.variableDependent.stats)},handlerDataPointOver:function(a,b,c){c=c(b,this.variableDependent.stats);null==c?this.tooltip.hide():(this.tooltip.html(c.split("\n").join("<br>")),b=j.field(b,"$centroid"),this.moveTooltip(b[0]+this.width/2,b[1]+this.height/2,T.extractColor(a)))},drawmap:function(a,b){if(null==this.dps||
0==this.dps.length)this.queue.push(function(a,b,c){return function(){return a(b,c)}}(v(this,this.drawmap),a,b));else{this.set_colorMode(a.colorMode);for(var c=null,d=0,e=this.dps;d<e.length;){var h=e[d];++d;var f=j.field(h,b),f=a.map.get(f);if(null!=f){this.stylefeature(f.svg,ra.copyTo(h,f.dp));if(null!=a.radius&&"circle"==f.svg.node().nodeName)f.svg.attr("r")["float"](a.radius(f.dp,this.variableDependent.stats));if(null!=a.labelDataPoint&&null!=(c=a.labelDataPoint(f.dp,this.variableDependent.stats)))h=
j.field(f.dp,"$centroid"),f=new l.Label(this.mapcontainer,!0,this.labelShadow,this.labelOutline),f.set_text(c),f.place(h[0],h[1],0)}}0==this.queue.length&&this.ready.dispatch()}},resize:function(){n.Chart.prototype.resize.call(this);null!=this.mapcontainer&&this.mapcontainer.attr("transform").string("translate("+this.width/2+","+this.height/2+")")},data:function(a){this.dps=a;this.redraw()},setVariables:function(a,b){this.variableDependent=b[0]},queue:null,dps:null,variableDependent:null,labelShadow:null,
labelOutline:null,colorMode:null,mapcontainer:null,__class__:n.Geo,__properties__:{set_colorMode:"set_colorMode"}});n.GradientEffect={__ename__:["rg","svg","chart","GradientEffect"],__constructs__:["NoEffect","Gradient"]};n.GradientEffect.NoEffect=["NoEffect",0];n.GradientEffect.NoEffect.toString=q;n.GradientEffect.NoEffect.__enum__=n.GradientEffect;n.GradientEffect.Gradient=function(a){a=["Gradient",1,a];a.__enum__=n.GradientEffect;a.toString=q;return a};n.GradientEffects=function(){};i["rg.svg.chart.GradientEffects"]=
n.GradientEffects;n.GradientEffects.__name__=["rg","svg","chart","GradientEffects"];n.GradientEffects.canParse=function(a){switch(a.toLowerCase().split(":")[0]){case "gradient":case "noeffect":case "none":case "flat":a=!0;break;default:a=!1}return a};n.GradientEffects.parse=function(a){var b=a.toLowerCase().split(":");switch(b.shift()){case "gradient":return a=0.75,b=b.pop(),null!=b&&(a=t.parseFloat(b.split(",").shift())),n.GradientEffect.Gradient(a);default:return n.GradientEffect.NoEffect}};n.HeatGrid=
function(a){n.CartesianChart.call(this,a);this.useContour=!1;this.set_colorMode(n.ColorScaleMode.FromCss())};i["rg.svg.chart.HeatGrid"]=n.HeatGrid;n.HeatGrid.__name__=["rg","svg","chart","HeatGrid"];n.HeatGrid.__super__=n.CartesianChart;n.HeatGrid.prototype=A(n.CartesianChart.prototype,{set_colorMode:function(a){var b=this,c=this.colorMode=a;switch(c[1]){case 0:c=c[2];null==c&&(c=1);var d=K.RGCss.colorsInCss();d.length>c&&(d=d.slice(0,c));1==d.length&&d.push(f.Hsl.lighter(f.Hsl.toHsl(f.Colors.parse(d[0])),
0.9).hex("#"));d.reverse();this.set_colorMode(n.ColorScaleMode.Interpolation(d.map(function(a){return f.Colors.parse(a)})));break;case 1:var e=c[2];null==e&&(e=K.RGCss.numberOfColorsInCss());this.stylefeature=function(a,c){var d=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),j.field(c,b.variableDependent.type)),d=Math.floor(e*d);a.attr("class").string("fill-"+d)};break;case 3:var h=I.map(u.iter(c[2]),function(a){return a.hex("#")});this.stylefeature=function(a,
c){var d=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),j.field(c,b.variableDependent.type)),d=Math.floor(h.length*d);a.style("fill").string(h[d])};break;case 2:var o=f.Rgb.interpolateStepsf(c[2]);this.stylefeature=function(a,c){var d=b.variableDependent.axis.scale(b.variableDependent.min(),b.variableDependent.max(),j.field(c,b.variableDependent.type));a.style("fill").string(o(d).hex("#"))};break;case 4:var g=c[2].hex("#");this.stylefeature=function(a){a.style("fill").string(g)};
break;case 5:var i=c[2];this.stylefeature=function(a,c){a.style("fill").string(i(c,b.variableDependent.stats))}}return a},stylefeature:function(){},range:function(a){var b=B.__instanceof(a,cc)?a:null;return null!=b?b.axis.range(b.min(),b.max()):a.axis.ticks(a.min(),a.max()).map(function(a){return a.get_value()})},onclick:function(a){null!=this.click&&this.click(a,this.stats)},onmouseover:function(a,b){if(null!=this.labelDataPointOver){var c=this.labelDataPointOver(a,this.stats);null==c?this.tooltip.hide():
(this.tooltip.html(c.split("\n").join("<br>")),this.moveTooltip(this.x(a,b)+this.w/2,this.y(a,b)+this.h/2,T.extractColor(this.currentNode)))}},drawSquares:function(){var a=this,b=this.g.selectAll("rect").data(this.dps).enter().append("svg:rect").attr("x").floatf(v(this,this.x)).attr("y").floatf(v(this,this.y)).attr("width")["float"](this.w).attr("height")["float"](this.h).each(function(b){a.stylefeature(O.selectNode(la.current),b)}).on("click",v(this,this.onclick)).onNode("mouseover",function(b,c){a.currentNode=
b;a.onmouseover(j.field(b,"__dhx_data__"),c)});if(null!=this.labelDataPoint){var c=this.g.append("svg:g").attr("class").string("datapoint-labels");this.g.selectAll("rect").data(this.dps).eachNode(function(b,e){var h=j.field(b,"__dhx_data__");K.PointLabel.label(c,a.labelDataPoint(h,a.stats),a.x(h,e)+a.w/2,a.y(h,e)-a.labelDataPointVerticalOffset+a.h/2,a.labelDataPointShadow,a.labelDataPointOutline)})}T.storeColorForSelection(b)},currentNode:null,drawContour:function(){},redraw:function(){if(!(null==
this.dps||0==this.dps.length))this.stats=this.variableDependent.stats,this.xrange=this.range(this.xVariable),this.yrange=this.range(this.yVariables[0]),this.cols=this.xrange.length,this.rows=this.yrange.length,this.w=this.width/this.cols,this.h=this.height/this.rows,this.useContour?this.drawContour():this.drawSquares(),this.ready.dispatch()},y:function(a){return this.height-(1+S.indexOf(this.yrange,j.field(a,this.yVariables[0].type)))*this.h},x:function(a){return S.indexOf(this.xrange,j.field(a,this.xVariable.type))*
this.w},stats:null,h:null,w:null,rows:null,cols:null,yrange:null,xrange:null,data:function(a){this.dps=a;this.redraw()},resize:function(){n.CartesianChart.prototype.resize.call(this);this.redraw()},init:function(){n.CartesianChart.prototype.init.call(this);this.g.classed().add("heat-grid")},setVariables:function(a,b,c){this.xVariable=b[0];this.yVariables=[b[1]];this.variableDependent=c[0]},variableDependent:null,dps:null,colorMode:null,useContour:null,__class__:n.HeatGrid,__properties__:{set_colorMode:"set_colorMode"}});
n.LineChart=function(a){n.CartesianChart.call(this,a);this.addClass("line-chart");this.chart=this.g.append("svg:g");this.sensibleRadius=100};i["rg.svg.chart.LineChart"]=n.LineChart;n.LineChart.__name__=["rg","svg","chart","LineChart"];n.LineChart.__super__=n.CartesianChart;n.LineChart.prototype=A(n.CartesianChart.prototype,{onclick:function(a){var a=j.field(a,"__dhx_data__"),b=this.getStats(a);this.click(a,b)},onmouseover:function(a){var b=j.field(a,"__dhx_data__"),c=this.getStats(b),b=this.labelDataPointOver(b,
c);null==b?this.tooltip.hide():(c=O.selectNode(a.parentNode),c=n.Coords.fromTransform(c.attr("transform").get()),this.tooltip.html(b.split("\n").join("<br>")),this.moveTooltip(c[0],c[1],T.extractColor(a)))},getStats:function(a){for(var b=0,c=this.stats;b<c.length;){var d=c[b];++b;if(null!=j.field(a,d.type))return d}return null},getTranslatePointf:function(a){var b=v(this,this.x),c=this.getY1(a);return function(a,e){return"translate("+b(a)+","+c(a,e)+")"}},data:function(a){var b=this;this.linePathShape=
[];for(var c=0,d=this.yVariables.length;c<d;){var e=c++,h=[new p.Line(v(this,this.x),this.getY1(e))];null!=this.lineInterpolator&&h[0].interpolator(this.lineInterpolator);this.linePathShape[e]=function(a){return function(c,d){b.segment=d;return a[0].shape(c,d)}}(h)}c=this.chart.selectAll("g.group").data(a);c.enter().append("svg:g").attr("class").stringf(function(a,b){return"group group-"+b});c.exit().remove();this.stats=[];c=0;for(d=a.length;c<d;){e=[c++];this.segments=a[e[0]];h=this.chart.select("g.group-"+
e[0]);this.stats[e[0]]=new nb(this.yVariables[e[0]].type);this.stats[e[0]].addMany(xa.values(S.flatten(this.segments),this.yVariables[e[0]].type));if(null!=this.y0property){var o=new p.Area(v(this,this.x),this.getY0(e[0]),this.getY1(e[0]));null!=this.lineInterpolator&&o.interpolator(this.lineInterpolator);h.selectAll("path.area").data(this.segments).enter().append("svg:path").attr("class").stringf(this.classff(e[0],"area area-"+e[0])).attr("d").stringf(v(o,o.shape))}var o=h.selectAll("path.main").data(this.segments),
g=this.lineEffect;switch(g[1]){case 1:var i=[g[3]],g=[g[2]],k=[[]];o.enter().append("svg:path").attr("class").stringf(this.classsf(e[0],"line")).eachNode(function(a,b){return function(c,d){var e=f.Hsl.toHsl(T.parse(O.selectNode(c).style("stroke").get(),"#000000")),h=T.applyLightness(e,a[0]);b[0][d]=f.Hsl.interpolatef(h,e)}}(g,k)).remove();for(g=0;g<i[0];){var x=[g++];o.enter().append("svg:path").attr("class").string("line grad-"+(i[0]-x[0]-1)).style("stroke").stringf(function(a,b,c){return function(d,
e){return c[0][e](b[0]/a[0]).hex("#")}}(i,x,k)).attr("d").stringf(this.linePathShape[e[0]])}break;case 2:for(var i=g[4],k=g[3],m=g[2],g=0;g<i;)x=g++,o.enter().append("svg:path").attr("transform").string("translate("+(1+x)*m+","+(1+x)*k+")").attr("class").stringf(this.classsf(e[0],"line shadow shadow-"+x)).attr("d").stringf(this.linePathShape[e[0]])}x=o.enter().append("svg:path").attr("class").stringf(this.classsf(e[0],"line")).attr("d").stringf(this.linePathShape[e[0]]);g=this;switch(g.lineEffect[1]){case 1:x.classed().add("gradient");
break;case 2:x.classed().add("dropshadow");break;case 0:x.classed().add("noeffect")}o.update().attr("d").stringf(this.linePathShape[e[0]]);o.exit().remove();h=h.selectAll("g.symbols").data(this.segments);o=h.enter().append("svg:g").attr("class").stringf(this.classsf(e[0],"symbols")).selectAll("g.symbol").dataf(function(){return function(a){return a}}()).enter().append("svg:g").attr("transform").stringf(this.getTranslatePointf(e[0]));g=o.append("svg:circle").attr("r")["float"](6).attr("opacity")["float"](0).style("fill").string("#000000");
null!=this.labelDataPointOver&&g.classed().add("rgdata");T.storeColorForSelection(g,"stroke");K.SVGSymbolBuilder.generate(o,this.stats[e[0]],this.symbol,this.symbolStyle);null!=this.labelDataPoint&&(g=[this.chart.append("svg:g").attr("class").string("datapoint-labels")],o.eachNode(function(a,c){return function(d,e){var h=j.field(d,"__dhx_data__");K.PointLabel.label(a[0],b.labelDataPoint(h,b.stats[c[0]]),b.x(h),b.getY1(c[0])(h,e)-b.labelDataPointVerticalOffset,b.labelDataPointShadow,b.labelDataPointOutline)}}(g,
e)));h.update().selectAll("g.symbol").dataf(function(){return function(a){return a}}()).update().attr("transform").stringf(this.getTranslatePointf(e[0]));h.exit().remove()}l.Sensible.sensibleZone(this.g,this.panel,null==this.click?null:v(this,this.onclick),null==this.labelDataPointOver?null:v(this,this.onmouseover),this.sensibleRadius);this.ready.dispatch()},classff:function(a,b){return function(c,d){return b+" fill-"+(a+d)}},classsf:function(a,b){return function(c,d){return b+" stroke-"+(a+d)}},
segments:null,getY0:function(a){var b=this,c=this.yVariables[a],d=function(a,b,c){return function(d){return a(b,c,d)}}((Q=c.axis,v(Q,Q.scale)),c.min(),c.max());return function(a){return b.height-d(xa.valueAlt(a,b.y0property,c.min()))*b.height}},getY1:function(a){var b=this,c=this.yVariables[a],d=function(a,b,c){return function(d){return a(b,c,d)}}((Q=c.axis,v(Q,Q.scale)),c.min(),c.max());if(null!=this.y0property){var e=d(c.min())*this.height;return function(h,f){return b.getY0(a)(h,f)-d(j.field(h,
c.type))*b.height+e}}return function(a){a=j.field(a,c.type);a=d(a)*b.height;return b.height-a}},x:function(a){a=j.field(a,this.xVariable.type);return this.xVariable.axis.scale(this.xVariable.min(),this.xVariable.max(),a)*this.width},setVariables:function(a,b,c,d){n.CartesianChart.prototype.setVariables.call(this,a,b,c,d);if(null!=this.y0property&&""!=this.y0property){for(var e,a=0;a<c.length;)b=c[a],++a,b.meta.max=Math.NEGATIVE_INFINITY;for(var h=0,a=d.length;h<a;)for(var f=h++,b=c[f],g=0,i=d[f].length;g<
i;)for(var k=g++,x=0,l=d[f][k].length;x<l;)if(e=x++,e=d[f][k][e],e=xa.valueAlt(e,b.type,0)+xa.valueAlt(e,this.y0property,0),b.meta.max<e)b.meta.max=e}},stats:null,segment:null,chart:null,linePathShape:null,sensibleRadius:null,y0property:null,lineEffect:null,lineInterpolator:null,symbolStyle:null,symbol:null,__class__:n.LineChart});n.LineEffect={__ename__:["rg","svg","chart","LineEffect"],__constructs__:["NoEffect","Gradient","DropShadow"]};n.LineEffect.NoEffect=["NoEffect",0];n.LineEffect.NoEffect.toString=
q;n.LineEffect.NoEffect.__enum__=n.LineEffect;n.LineEffect.Gradient=function(a,b){var c=["Gradient",1,a,b];c.__enum__=n.LineEffect;c.toString=q;return c};n.LineEffect.DropShadow=function(a,b,c){a=["DropShadow",2,a,b,c];a.__enum__=n.LineEffect;a.toString=q;return a};n.LineEffects=function(){};i["rg.svg.chart.LineEffects"]=n.LineEffects;n.LineEffects.__name__=["rg","svg","chart","LineEffects"];n.LineEffects.parse=function(a){var b=a.toLowerCase().split(":");switch(b.shift()){case "dropshadow":var c=
0.5,d=0.5,a=2,b=b.pop();null!=b&&(b=b.split(","),c=t.parseFloat(b[0]),d=1<b.length?t.parseFloat(b[1]):c,2<b.length&&(a=t.parseInt(b[2])));return n.LineEffect.DropShadow(c,d,a);case "gradient":return c=0.75,a=2,b=b.pop(),null!=b&&(c=t.parseFloat(b.split(",").shift()),d=b.split(",").pop(),null!=d&&(a=t.parseInt(d))),n.LineEffect.Gradient(c,a);default:return n.LineEffect.NoEffect}};n.PieChart=function(a){n.Chart.call(this,a);this.addClass("pie-chart");this.g.append("svg:defs");this.pie=new R.layout.Pie;
this.gradientLightness=0.75;this.displayGradient=!0;this.innerRadius=this.animationDelay=0;this.outerRadius=0.9;this.overRadius=0.95;this.labelRadius=0.45;this.tooltipRadius=0.5;this.labels=new L.StringMap;this.labelOrientation=l.LabelOrientation.Orthogonal;this.labelDontFlip=!0};i["rg.svg.chart.PieChart"]=n.PieChart;n.PieChart.__name__=["rg","svg","chart","PieChart"];n.PieChart.__super__=n.Chart;n.PieChart.prototype=A(n.Chart.prototype,{pief:function(a){for(var b=this.variableDependent.type,c=this.pie.pie(a.map(function(a){return j.field(a,
b)})),d=0,e=c.length;d<e;){var h=d++,f=this.makeid(a[h]);c[h].id=f;c[h].dp=a[h]}return c},arcShape:function(a){return function(b){return a.shape(b)}},makeid:function(a){a=ra.clone(a);j.deleteField(a,this.variableDependent.type);return Mb.Md5.encode(ca.string(a))},id:function(a){return a.id},backtonormal:function(a){O.selectNodeData(a).selectAll("path").transition().ease(this.animationEase).duration(null,this.animationDuration).attr("d").stringf(this.arcShape(this.arcNormal))},highlight:function(a){O.selectNodeData(a).selectAll("path").transition().ease(this.animationEase).duration(null,
this.animationDuration).attr("d").stringf(this.arcShape(this.arcBig))},fadein:function(a){var b=O.selectNodeData(a),a=this.arcNormal.shape(j.field(a,"__dhx_data__"));b.selectAll("path.slice").transition().ease(this.animationEase).duration(null,this.animationDuration).delay(null,this.animationDelay).attr("d").string(a)},applyGradient:function(a){var b=O.selectNodeData(a),c=j.field(a,"__dhx_data__").id;if(this.g.select("defs").select("#rg_pie_gradient_"+c).empty()){var d=b.select("path.slice"),a=this.arcNormal.shape(j.field(a,
"__dhx_data__")),a=b.append("svg:path").attr("d").string(a),e;try{e=a.node().getBBox()}catch(h){e={x:0,y:0,width:0,height:0}}a.remove();var d=T.parse(d.style("fill").get(),"#cccccc"),a=T.applyLightness(f.Hsl.toHsl(d),this.gradientLightness),o=e.width/e.height,g=100*-e.x/e.width/o,i=100*-e.y/e.height/o;e=100*(e.width>e.height?Math.min(1,this.radius*this.outerRadius/e.width):Math.max(1,this.radius*this.outerRadius/e.width));e=this.g.select("defs").append("svg:radialGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string("rg_pie_gradient_"+
c).attr("cx").string(g*o+"%").attr("cy").string(i+"%").attr("gradientTransform").string("scale(1 "+o+")").attr("r").string(e+"%");e.append("svg:stop").attr("offset").string(100*this.innerRadius+"%").attr("stop-color").string(d.toRgbString()).attr("stop-opacity")["float"](1);e.append("svg:stop").attr("offset").string("100%").attr("stop-color").string(a.toRgbString()).attr("stop-opacity")["float"](1)}b.select("path.slice").attr("style").string("fill:url(#rg_pie_gradient_"+c+")")},appendLabel:function(a){var b=
O.selectNode(a),b=new l.Label(b,this.labelDontFlip,!0,!0),a=j.field(a,"__dhx_data__"),c=this.radius*this.labelRadius,d=a.startAngle+(a.endAngle-a.startAngle)/2-Math.PI/2;b.set_orientation(this.labelOrientation);switch(this.labelOrientation[1]){case 0:b.set_anchor(l.GridAnchor.Center);break;case 1:b.set_anchor(l.GridAnchor.Left);break;case 2:b.set_anchor(l.GridAnchor.Top)}b.set_text(this.labelDataPoint(a.dp,this.stats));b.place(-2.5+Math.cos(d)*c,-2.5+Math.sin(d)*c,57.29577951308232*d);this.labels.set(a.id,
b);0>=j.field(a.dp,this.stats.type)&&b.hide()},updateLabel:function(a){O.selectNode(a);var a=j.field(a,"__dhx_data__"),b=this.labels.get(a.id),c=this.radius*this.labelRadius,d=a.startAngle+(a.endAngle-a.startAngle)/2-Math.PI/2;b.set_text(this.labelDataPoint(a.dp,this.stats));b.place(-2.5+Math.cos(d)*c,-2.5+Math.sin(d)*c,57.29577951308232*d);0==j.field(a.dp,this.stats.type)?b.hide():b.show()},removeLabel:function(a){O.selectNode(a);a=j.field(a,"__dhx_data__");this.labels.get(a.id).destroy();this.labels.remove(a.id)},
onMouseClick:function(a){this.mouseClick(j.field(a,"__dhx_data__").dp)},onMouseOver:function(a){if(null!=this.labelDataPointOver){var b=j.field(a,"__dhx_data__"),c=this.labelDataPointOver(b.dp,this.stats);if(null==c)this.tooltip.hide();else{var b=b.startAngle+(b.endAngle-b.startAngle)/2-Math.PI/2,d=this.radius*this.tooltipRadius;this.tooltip.html(c.split("\n").join("<br>"));this.moveTooltip(this.width/2+Math.cos(b)*d,this.height/2+Math.sin(b)*d,T.extractColor(a))}}},data:function(a){this.stats=this.variableDependent.stats;
var a=this.g.selectAll("g.group").data(this.pief(a),v(this,this.id)),b=a.enter().append("svg:g").attr("class").stringf(function(a,b){return"group fill-"+b}).attr("transform").string("translate("+this.radius+","+this.radius+")"),c=b.append("svg:path").attr("class").string("slice");T.storeColorForSelection(b);this.displayGradient&&b.eachNode(v(this,this.applyGradient));this.animated?(c.attr("d").stringf(this.arcShape(this.arcStart)),b.eachNode(v(this,this.fadein)).onNode("mouseover.animation",v(this,
this.highlight)).onNode("mouseout.animation",v(this,this.backtonormal))):c.attr("d").stringf(this.arcShape(this.arcNormal));b.onNode("mouseover.label",v(this,this.onMouseOver));if(null!=this.mouseClick)b.onNode("click.user",v(this,this.onMouseClick));null!=this.labelDataPoint&&a.enter().append("svg:g").attr("transform").string("translate("+this.radius+","+this.radius+")").eachNode(v(this,this.appendLabel));a.update().select("path").transition().ease(this.animationEase).duration(null,this.animationDuration).attr("d").stringf(this.arcShape(this.arcNormal));
null!=this.labelDataPoint&&a.update().eachNode(v(this,this.updateLabel));a.exit().eachNode(v(this,this.removeLabel)).remove();this.ready.dispatch()},resize:function(){n.Chart.prototype.resize.call(this);this.radius=Math.min(this.width,this.height)/2;this.arcStart=p.Arc.fromAngleObject().innerRadius(this.radius*this.innerRadius).outerRadius(this.radius*this.innerRadius);this.arcNormal=p.Arc.fromAngleObject().innerRadius(this.radius*this.innerRadius).outerRadius(this.radius*this.outerRadius);this.arcBig=
p.Arc.fromAngleObject().innerRadius(this.radius*this.innerRadius).outerRadius(this.radius*this.overRadius);this.width>this.height?this.g.attr("transform").string("translate("+(this.width/2-this.height/2)+",0)"):this.g.attr("transform").string("translate(0,"+(this.height/2-this.width/2)+")")},setVariables:function(a,b){this.variableDependent=b[0]},mouseClick:null,labels:null,labelDontFlip:null,labelOrientation:null,animationDelay:null,displayGradient:null,gradientLightness:null,variableDependent:null,
stats:null,radius:null,pie:null,arcBig:null,arcStart:null,arcNormal:null,tooltipRadius:null,labelRadius:null,overRadius:null,outerRadius:null,innerRadius:null,__class__:n.PieChart});n.Sankey=function(a){n.Chart.call(this,a);this.addClass("sankey");this.layerWidth=61;this.nodeSpacing=28;this.dummySpacing=18;this.extraWidth=28;this.backEdgeSpacing=4;this.extraRadius=this.extraHeight=5;this.chunkWidth=10;this.imageWidth=60;this.imageHeight=48;this.imageSpacing=0;this.labelNodeSpacing=4;this.styleNode=
"0";this.styleentry="4";this.styleexit="6";this.styleEdgeBackward="3";this.styleEdgeForward="0";this.thinbackedges=this.stackbackedges=!0};i["rg.svg.chart.Sankey"]=n.Sankey;n.Sankey.__name__=["rg","svg","chart","Sankey"];n.Sankey.__super__=n.Chart;n.Sankey.prototype=A(n.Chart.prototype,{hnode:function(a){return this.nheight(a.data.weight)},isdummy:function(a){return"#"==u.substr(a.data.id,0,1)},nodepadding:function(a){return this.isdummy(a)?this.dummySpacing:this.nodeSpacing},ynode:function(a){for(var b=
this.layout.cell(a),c=this.layerstarty[b.layer],d=0,e=b.position;d<e;)var h=d++,h=this.layout.nodeAt(b.layer,h),c=c+(this.hnode(h)+this.nodepadding(h));c+=this.nodepadding(a);return Math.round(c)+0.5},xlayer:function(a){return 1>=this.layout.length?this.width/2:Math.round((this.width-this.padBefore-this.padAfter-this.layerWidth)/(this.layout.length-1)*a+this.layerWidth/2+this.padBefore)},hafter:function(a,b){for(var c=!1,d=this.backEdgeSpacing/this.nheight(1),e=d;b.hasNext();){var h=b.next();c?e+=
h.weight+d:h.id==a&&(c=!0)}return this.nheight(e)},cafter:function(a,b){for(var c=!1,d=0;b.hasNext();){var e=b.next();c?d++:e.id==a&&(c=!0)}return d},ydiagonal:function(a,b){for(var c=0;b.hasNext();){var d=b.next();if(d.id==a)break;c+=d.weight}return this.nheight(c)},nheight:function(a){return 0==a?0:Math.round(a/this.maxweight*this.availableheight)},onmouseoverexit:function(a,b,c,d){this.highlight(c.id,"node");null!=this.labelEdgeOver&&(c=this.labelEdgeOver(this.edgeDataWithNode(c,!0),this.dependentVariable.stats),
null==c?this.tooltip.hide():(this.tooltip.anchor("topleft"),this.tooltip.html(c.split("\n").join("<br>")),this.moveTooltip(a,b,T.extractColor(d))))},onmouseoverentry:function(a,b,c,d){this.highlight(c.id,"node");null!=this.labelEdgeOver&&(c=this.labelEdgeOver(this.edgeDataWithNode(c,!1),this.dependentVariable.stats),null==c?this.tooltip.hide():(this.tooltip.anchor("bottomright"),this.tooltip.html(c.split("\n").join("<br>")),this.moveTooltip(a,b,T.extractColor(d))))},onmouseoveredge:function(a,b,c,
d){this.highlight(c.id,"edge");null!=this.labelEdgeOver&&(c=this.labelEdgeOver(this.edgeData(c),this.dependentVariable.stats),null==c?this.tooltip.hide():(this.tooltip.anchor("bottomright"),this.tooltip.html(c.split("\n").join("<br>")),this.moveTooltip(a,b,T.extractColor(d))))},onmouseovernode:function(a,b){this.highlight(a.id,"node");if(this.isdummy(a)){if(null!=this.labelEdgeOver){var c=this.labelEdgeOver(this.edgeData(a.graph.edges.positives(a).next()),this.dependentVariable.stats);if(!1!==c)if(null==
c)this.tooltip.hide();else{var d=this.layout.cell(a);this.tooltip.anchor("bottomright");this.tooltip.html(c.split("\n").join("<br>"));this.moveTooltip(this.xlayer(d.layer),this.ynode(a)+this.hnode(a)/2,T.extractColor(b))}}}else null!=this.labelDataPointOver&&(c=this.labelDataPointOver(a.data.dp,this.dependentVariable.stats),!1!==c&&(null==c?this.tooltip.hide():(d=this.layout.cell(a),this.tooltip.anchor("bottomright"),this.tooltip.html(c.split("\n").join("<br>")),this.moveTooltip(this.xlayer(d.layer),
this.ynode(a)+this.hnode(a)/2,T.extractColor(b)))))},edgeClickWithNode:function(a,b,c,d){this.edgeclick(this.edgeDataWithNode(a,b),c,d)},edgeClickWithEdge:function(a,b,c){this.edgeclick(this.edgeData(a),b,c)},edgeclick:function(a){this.clickEdge(a,this.dependentVariable.stats)},nodeclick:function(a){this.click(a.data.dp,this.dependentVariable.stats)},edgeDataWithNode:function(a,b){return{tail:b?a.data.dp:null,head:b?null:a.data.dp,edgeweight:b?a.data.exit:a.data.entry,nodeweight:a.data.weight}},edgeData:function(a){for(var b=
a.head,c=a.tail;this.isdummy(b);)b=b.graph.edges.positives(b).next().head;for(;this.isdummy(c);)c=c.graph.edges.negatives(c).next().tail;return{head:b.data.dp,tail:c.data.dp,edgeweight:a.weight,nodeweight:c.data.weight}},highlight:function(a,b){for(var c=this,d=function(a){return function(){return a.iterator()}}(this.maphi)();d.hasNext();)d.next().classed().remove("over");this.maphi=new L.StringMap;var e=null,h=null,f=null,g=null,i=function(a,b){var d=b+":"+a;c.maphi.set(d,c.mapelements.get(d).classed().add("over"))},
k=function(a){var a="entry:"+a,b=c.mapelements.get(a);null!=b&&c.maphi.set(a,b.classed().add("over"))},e=function(a){c.maphi.exists("edge:"+a.id)||(i(a.id,"edge"),c.isbackward(a)||h(a.head))},h=function(a){if(!c.maphi.exists("node:"+a.id)){i(a.id,"node");var b="exit:"+a.id,d=c.mapelements.get(b);null!=d&&c.maphi.set(b,d.classed().add("over"));for(a=a.graph.edges.positives(a);a.hasNext();)b=a.next(),e(b)}},f=function(a){c.isbackward(a)||g(a.tail);c.maphi.exists("edge:"+a.id)||c.isbackward(a)||i(a.id,
"edge")},g=function(a){for(var b=a.graph.edges.negatives(a);b.hasNext();){var d=b.next();f(d)}c.maphi.exists("node:"+a.id)||(i(a.id,"node"),k(a.id))};"edge"==b?(e(this.layout.graph.edges.get(a)),f(this.layout.graph.edges.get(a))):"node"==b&&(h(this.layout.graph.nodes.get(a)),g(this.layout.graph.nodes.get(a)),k(a))},isbackward:function(a){return this.layout.cell(a.head).layer<=this.layout.cell(a.tail).layer},addToMap:function(a,b,c){this.mapelements.set(b+":"+a,c)},redraw:function(){var a=this;this.mapelements=
new L.StringMap;this.maphi=new L.StringMap;this.maxweight=0;this.layerstarty=[];for(var b=0,c=this.layout.length;b<c;){var d=b++,e=I.reduce(Qa(this.layout.layer(d))(),function(a,b){return a+b.data.weight},0);if(e>this.maxweight)this.maxweight=e}for(var h=0,b=0,c=this.layout.length;b<c;)d=b++,e=I.reduce(Qa(this.layout.layer(d))(),function(b,c){return b+a.nodepadding(c)},0),e>h&&(h=e);this.availableheight=this.height-h;if(this.thinbackedges)this.availableheight-=(1+this.backEdgeSpacing)*(this.stackbackedges?
I.filter(this.layout.graph.edges.collection.iterator(),function(b){return a.layout.cell(b.tail).layer>=a.layout.cell(b.head).layer}).length:1);else if(this.stackbackedges)for(b=this.layout.graph.edges.collection.iterator();b.hasNext();)d=b.next(),this.layout.cell(d.tail).layer<this.layout.cell(d.head).layer||(this.availableheight-=this.backEdgeSpacing,this.maxweight+=d.weight);else{this.availableheight-=this.backEdgeSpacing;e=0;for(b=this.layout.graph.edges.collection.iterator();b.hasNext();)if(d=
b.next(),!(this.layout.cell(d.tail).layer<this.layout.cell(d.head).layer)&&d.weight>e)e=d.weight;this.maxweight+=e}this.availableheight-=this.extraRadius+this.extraHeight;for(var f=0,b=0,c=this.layout.length;b<c;){for(var d=b++,h=this.layout.layer(d),g=0,i=0;i<h.length;)e=h[i],++i,g+=this.nodepadding(e)+this.nheight(e.data.weight);this.layerstarty[d]=g;g>f&&(f=g)}b=0;for(c=this.layerstarty.length;b<c;)d=b++,this.layerstarty[d]=(f-this.layerstarty[d])/2;f+=this.extraRadius+this.extraHeight;this.padBefore=
0;if(this.thinbackedges){c=0;for(b=this.layout.layer(0);c<b.length;){e=b[c];++c;i=null!=this.displayEntry&&this.displayEntry(e.data,this.dependentVariable.stats);h=!0;g=0;for(e=e.graph.edges.negatives(e);e.hasNext();)d=e.next(),h?(h=!1,g+=this.extraRadius+this.chunkWidth):g+=this.backEdgeSpacing+2;if(g>this.padBefore)this.padBefore=g;if(i&&this.extraWidth>this.padBefore)this.padBefore=this.extraWidth}}else{c=0;for(b=this.layout.layer(0);c<b.length;){e=b[c];++c;h=Math.min(this.nheight(e.data.entry),
this.extraWidth);for(g=e.graph.edges.negatives(e);g.hasNext();)d=g.next(),d=this.hafter(d.id,e.graph.edges.negatives(e))+this.nheight(d.weight),d>h&&(h=d);if(h>this.padBefore)this.padBefore=h}}this.padBefore+=2;this.padAfter=0;if(this.thinbackedges){c=0;for(b=this.layout.layer(this.layout.length-1);c<b.length;){e=b[c];++c;i=null!=this.displayExit&&this.displayExit(e.data,this.dependentVariable.stats);h=!0;g=0;for(e=e.graph.edges.positives(e);e.hasNext();)d=e.next(),h?(h=!1,g+=this.extraRadius+this.chunkWidth):
g+=this.backEdgeSpacing+2;if(g>this.padAfter)this.padAfter=g;if(i&&this.extraWidth>this.padAfter)this.padAfter=this.extraWidth}}else{c=0;for(b=this.layout.layer(this.layout.length-1);c<b.length;){e=b[c];++c;h=Math.min(this.nheight(e.data.exit),this.extraWidth);for(g=e.graph.edges.positives(e);g.hasNext();)d=g.next(),d=this.hafter(d.id,e.graph.edges.positives(e))+this.nheight(d.weight)+Math.min(this.nheight(e.data.exit),this.extraWidth),d>h&&(h=d);if(h>this.padAfter)this.padAfter=h}}this.padAfter+=
2;var k=this.g.select("g.edges");k.empty()?k=this.g.append("svg:g").attr("class").string("edges"):k.selectAll("*").remove();b=S.order(I.array(Qa(I.array(this.layout.graph.edges.iterator()))()),function(b,c){var d=a.layout.cell(b.tail).layer-a.layout.cell(b.head).layer,d=a.layout.cell(c.tail).layer-a.layout.cell(c.head).layer-d;return 0!=d?d:G.compare(c.weight,b.weight)});I.each(this.layout.graph.nodes.iterator(),function(b){b.graph.edges.sortPositives(b,function(b,c){var d=a.layout.cell(b.head),e=
a.layout.cell(c.head),h=e.layer-d.layer;return 0!=h?h:d.position-e.position});b.graph.edges.sortNegatives(b,function(b,c){var d=a.layout.cell(b.tail),e=a.layout.cell(c.tail);return d.layer>e.layer?1:d.position-e.position})});c=b.slice();c.sort(function(b,c){var d=a.layout.cell(b.tail);return a.layout.cell(c.tail).position-d.position});this.thinbackedges?I.each(Qa(c)(),function(b){if(!(0>=b.weight)){var c=a.layout.cell(b.head),d=a.layout.cell(b.tail);if(!(c.layer>d.layer)){var e=a.nheight(b.weight),
h=5+a.cafter(b.id,b.tail.positives())*(a.backEdgeSpacing+1),g=5+a.cafter(b.id,b.head.negatives())*(a.backEdgeSpacing+1),d=a.layerWidth/2+a.xlayer(d.layer),i=-a.layerWidth/2+a.xlayer(c.layer),j=a.ynode(b.tail)+a.ydiagonal(b.id,b.tail.positives()),Td=a.nheight(b.head.data.entry)+a.ynode(b.head)+a.ydiagonal(b.id,b.head.negatives()),kb=k.append("svg:g");kb.append("svg:rect").attr("x")["float"](d).attr("y")["float"](j).attr("width")["float"](a.chunkWidth).attr("height")["float"](e).attr("class").string("edge fill fill-"+
a.styleEdgeBackward+" stroke stroke-"+a.styleEdgeBackward).onNode("mouseover",function(a,b,c,d){return function(e,h){return a(b,c,d,e,h)}}(v(a,a.onmouseoveredge),(d+i)/2,f,b));kb.append("svg:rect").attr("x")["float"](i-a.chunkWidth).attr("y")["float"](Td).attr("width")["float"](a.chunkWidth).attr("height")["float"](e).attr("class").string("edge fill fill-"+a.styleEdgeBackward+" stroke stroke-"+a.styleEdgeBackward).onNode("mouseover",function(a,b,c,d){return function(e,h){return a(b,c,d,e,h)}}(v(a,
a.onmouseoveredge),(d+i)/2,f,b));c=new l.HookConnector(kb,"stroke stroke-"+a.styleEdgeBackward);a.addToMap(b.id,"edge",kb);c.update(d+a.chunkWidth,j+e/2,i-a.chunkWidth,Td+e/2,f,h,g);c.g.onNode("mouseover",function(a,b,c,d){return function(e,h){return a(b,c,d,e,h)}}(v(a,a.onmouseoveredge),(d+i)/2,f,b));null!=a.edgeClass&&(e=a.edgeClass({head:b.head.data,tail:b.tail.data,edgeweight:b.weight},a.dependentVariable.stats),null!=e&&c.addClass(e));T.storeColorForSelection(c.g,"stroke",c.line.style("stroke").get());
if(null!=a.clickEdge)c.g.onNode("click",function(a,b){return function(c,d){return a(b,c,d)}}(v(a,a.edgeClickWithEdge),b));a.stackbackedges&&(f+=1+a.backEdgeSpacing)}}}):I.each(Qa(c)(),function(b){if(!(0>=b.weight)){var c=a.layout.cell(b.head),d=a.layout.cell(b.tail);if(!(c.layer>d.layer)){var e=a.nheight(b.weight),h=new l.HookConnectorArea(k,"fill fill-"+a.styleEdgeBackward,"stroke stroke-"+a.styleEdgeBackward),g=a.hafter(b.id,b.tail.positives())+Math.min(a.extraWidth,a.nheight(b.tail.data.exit)),
i=a.hafter(b.id,b.head.negatives()),d=a.layerWidth/2+a.xlayer(d.layer),c=-a.layerWidth/2+a.xlayer(c.layer),j=a.ynode(b.tail)+a.ydiagonal(b.id,b.tail.positives()),Td=a.nheight(b.head.data.entry)+a.ynode(b.head)+a.ydiagonal(b.id,b.head.negatives());a.addToMap(b.id,"edge",h.g);h.update(d,j,c,Td,e,f,g,i);h.g.onNode("mouseover",function(a,b,c,d){return function(e,h){return a(b,c,d,e,h)}}(v(a,a.onmouseoveredge),(d+c)/2,f+e/2,b));null!=a.edgeClass&&(g=a.edgeClass({head:b.head.data,tail:b.tail.data,edgeweight:b.weight},
a.dependentVariable.stats),null!=g&&h.addClass(g));T.storeColorForSelection(h.g,"fill",h.area.style("fill").get());if(null!=a.clickEdge)h.g.onNode("click",function(a,b){return function(c,d){return a(b,c,d)}}(v(a,a.edgeClickWithEdge),b));a.stackbackedges&&(f+=e+a.backEdgeSpacing)}}});I.each(Qa(b)(),function(b){if(!(0>=b.weight)){var c=b.head,d=b.tail,e=a.layout.cell(c),h=a.layout.cell(d);if(!(e.layer<=h.layer)){var h=Math.round(a.layerWidth/2+a.xlayer(h.layer))-0.5,e=Math.round(-a.layerWidth/2+a.xlayer(e.layer))-
0.5,d=a.ynode(d)+a.ydiagonal(b.id,d.graph.edges.positives(d)),c=a.ynode(c)+a.nheight(c.data.entry)+a.ydiagonal(b.id,c.graph.edges.negatives(c)),f=a.nheight(b.weight),g=new l.DiagonalArea(k,"fill fill-"+a.styleEdgeForward,"stroke stroke-"+a.styleEdgeForward);g.update(h,d,e,c,f,f);if(null!=a.edgeClass){var o=a.edgeClass({head:b.head.data,tail:b.tail.data,edgeweight:b.weight},a.dependentVariable.stats);null!=o&&g.addClass(o)}a.addToMap(b.id,"edge",g.g);g.g.onNode("mouseover",function(a,b,c,d){return function(e,
h){return a(b,c,d,e,h)}}(v(a,a.onmouseoveredge),(h+e)/2,(d+c+f)/2,b));T.storeColorForSelection(g.g,"fill",g.area.style("fill").get());if(null!=a.clickEdge)g.g.onNode("click",function(a,b){return function(c,d){return a(b,c,d)}}(v(a,a.edgeClickWithEdge),b))}}});this.layout.each(function(b,c){if(!(0>=c.data.exit||0>=a.extraWidth||null!=a.displayExit&&!a.displayExit(c.data,a.dependentVariable.stats))){var d=new l.ElbowArea(k,"fill fill-"+a.styleexit,"stroke stroke-"+a.styleexit),e=a.nheight(c.data.exit),
h=a.layerWidth/2+a.xlayer(b.layer),f=a.ynode(c)+a.ydiagonal(null,c.graph.edges.positives(c)),g=Math.max(0,Math.min(e-3,a.extraRadius));d.update(l.Orientation.RightBottom,e,h,f+e,g,a.extraWidth,0,a.extraHeight);if(null!=a.labelEdge){var o,i=a.labelEdge({tail:c,head:null,nodeweight:c.data.weight,edgeweight:c.data.exit},a.dependentVariable.stats);o=new l.Label(k,!0,!0,!1);o.addClass("edge");o.place(h,f+e/2,0);o.set_anchor(l.GridAnchor.Left);o.set_text(i);o.getSize().height>0.75*e&&o.destroy()}d.g.onNode("mouseover",
function(a,b,c,d){return function(e,h){return a(b,c,d,e,h)}}(v(a,a.onmouseoverexit),h+g+(-g+Math.min(a.extraWidth,e))/2,a.ynode(c)+a.hnode(c)+g+a.extraHeight,c));null!=a.edgeClass&&(e=a.edgeClass({head:null,tail:c.data,edgeweight:c.data.exit},a.dependentVariable.stats),null!=e&&d.addClass(e));T.storeColorForSelection(d.g,"fill",d.area.style("fill").get());if(null!=a.clickEdge)d.g.onNode("click",function(a,b,c){return function(d,e){return a(b,c,d,e)}}(v(a,a.edgeClickWithNode),c,!0));a.addToMap(c.id,
"exit",d.g)}});this.layout.each(function(b,c){if(!(0>=c.data.entry||0>=a.extraWidth||null!=a.displayEntry&&!a.displayEntry(c.data,a.dependentVariable.stats))){var d=new l.ElbowArea(k,"fill fill-"+a.styleentry,"stroke stroke-"+a.styleentry),e=a.nheight(c.data.entry),h=Math.max(0,Math.min(e-3,a.extraRadius)),f=-a.layerWidth/2+a.xlayer(b.layer);d.update(l.Orientation.LeftTop,e,f,a.ynode(c),h,a.extraWidth,0,a.extraHeight);if(null!=a.labelEdge){var g,o=a.labelEdge({tail:null,head:c,nodeweight:c.data.weight,
edgeweight:c.data.entry},a.dependentVariable.stats);g=new l.Label(k,!0,!0,!1);g.addClass("edge");g.place(f,a.ynode(c)+e/2,0);g.set_anchor(l.GridAnchor.Right);g.set_text(o);g.getSize().height>0.75*e&&g.destroy()}d.g.onNode("mouseover",function(a,b,c,d){return function(e,h){return a(b,c,d,e,h)}}(v(a,a.onmouseoverentry),f-h+(h-Math.min(a.extraWidth,e))/2,a.ynode(c)-h-a.extraHeight,c));null!=a.edgeClass&&(e=a.edgeClass({head:c.data,tail:null,edgeweight:c.data.entry},a.dependentVariable.stats),null!=e&&
d.addClass(e));T.storeColorForSelection(d.g,"fill",d.area.style("fill").get());if(null!=a.clickEdge)d.g.onNode("click",function(a,b,c){return function(d,e){return a(b,c,d,e)}}(v(a,a.edgeClickWithNode),c,!1));a.addToMap(c.id,"entry",d.g)}});null!=this.labelEdge&&I.each(Qa(b)(),function(b){if(!(0>=b.weight)){var c=b.tail;if(!a.isdummy(c)){var d=a.layout.cell(c),e=a.nheight(b.weight),h,f=a.labelEdge(a.edgeData(b),a.dependentVariable.stats);h=new l.Label(k,!0,!0,!1);h.addClass("edge");h.place(a.layerWidth/
2+a.xlayer(d.layer)+2,a.ynode(c)+a.ydiagonal(b.id,c.graph.edges.positives(c))+e/2,0);h.set_anchor(l.GridAnchor.Left);h.set_text(f);h.getSize().height>0.75*e&&h.destroy()}}});b=this.g.selectAll("g.layer").data(this.layout.layers()).enter().append("svg:g").attr("class").string("layer").append("svg:line").attr("class").stringf(function(a,b){return"rule rule-"+b}).attr("x1")["float"](0).attr("x2")["float"](0).attr("y1")["float"](0).attr("y2")["float"](this.height).update().attr("transform").stringf(function(b,
c){return"translate("+a.xlayer(c)+",0)"}).exit().remove().update().selectAll("g.node").dataf(function(b,c){return a.layout.layer(c)});c=b.enter().append("svg:g").attr("class").string("node");0<this.layerWidth&&(e=c.append("svg:rect").attr("class").stringf(function(b){return"fill fill-"+(a.isdummy(b)?a.styleEdgeForward+" nonode":a.styleNode+" node")}).attr("x")["float"](-this.layerWidth/2).attr("y")["float"](0).attr("width")["float"](Math.round(this.layerWidth)).attr("height").floatf(v(this,this.hnode)),
c.each(function(b){a.addToMap(b.id,"node",O.selectNode(la.current));null!=a.nodeClass&&(b=a.nodeClass(b.data,a.dependentVariable.stats),null!=b&&O.selectNode(la.current).classed().add(b))}),T.storeColorForSelection(c,"fill",e.style("fill").get()),c.append("svg:line").attr("class").stringf(function(b){return"node stroke stroke-"+(a.isdummy(b)?a.styleEdgeForward:a.styleNode)}).attr("x1")["float"](-this.layerWidth/2).attr("y1")["float"](0).attr("x2")["float"](this.layerWidth/2).attr("y2")["float"](0),
c.append("svg:line").attr("class").stringf(function(b){return"node stroke stroke-"+(a.isdummy(b)?a.styleEdgeForward:a.styleNode)}).attr("x1")["float"](-this.layerWidth/2).attr("y1").floatf(v(this,this.hnode)).attr("x2")["float"](this.layerWidth/2).attr("y2").floatf(v(this,this.hnode)));b.update().attr("transform").stringf(function(b){return"translate(0,"+a.ynode(b)+")"});c.each(function(b){var c=O.selectNode(la.current);if(!a.isdummy(b)){var d=a.hnode(b),e;if(null!=a.labelDataPoint)for(var h=a.labelDataPoint(b.data.dp,
a.dependentVariable.stats).split("\n"),f=null,g,o=0,k=0,i=h.length;k<i;){o=k++;g=h[o];e=new l.Label(c,!0,!0,!1);e.addClass("node");0==o&&e.addClass("first");o=3;null!=f&&(o+=f.y+f.getSize().height);e.place(-a.layerWidth/2+6,o,0);e.set_anchor(l.GridAnchor.TopLeft);e.set_text(g);if(e.y+e.getSize().height>d){e.destroy();break}f=e}d=!1;null!=a.imagePath&&!a.isdummy(b)&&(e=a.imagePath(b.data.dp),null!=e&&(d=!0,c.append("svg:g").attr("transform").string("translate("+Math.round(-a.imageWidth/2)+","+Math.round(-a.imageHeight-
a.imageSpacing)+")").append("svg:image").attr("preserveAspectRatio").string("xMidYMid slice").attr("width")["float"](a.imageWidth).attr("height")["float"](a.imageHeight).attr("xlink:href").string(e)));null!=a.labelNode&&(e=d?new l.Label(c,!0,!0,!0):new l.Label(c,!0,!1,!1),e.set_anchor(l.GridAnchor.Bottom),e.place(0,-a.labelNodeSpacing,0),e.set_text(a.labelNode(b.data.dp,a.dependentVariable.stats)))}});c.each(function(b){var c=O.selectNode(la.current);c.onNode("mouseover",function(a,b){return function(c,
d){return a(b,c,d)}}(v(a,a.onmouseovernode),b));if(null!=a.click)c.onNode("click",function(a,b){return function(c,d){return a(b,c,d)}}(v(a,a.nodeclick),b))});this.ready.dispatch()},data:function(a){var b=this;this.layout=a.clone();for(var a=I.filter(this.layout.graph.nodes.iterator(),function(a){return b.isdummy(a)}).filter(function(a){a=a.graph.edges.positives(a).next();if(null==a)return!1;var c=b.layout.cell(a.head);return b.layout.cell(a.tail).layer>c.layer}),c=this.layout.layers(),d=0;d<a.length;){var e=
a[d];++d;var h=this.layout.cell(e),f=e.graph.edges.positives(e).next(),g=e.graph.edges.negatives(e).next();c[h.layer].splice(h.position,1);this.layout.graph.edges.create(g.tail,f.head,f.weight,f.data);e.graph.nodes._remove(e)}this.redraw()},setVariables:function(a,b){this.dependentVariable=b[0]},maphi:null,mapelements:null,dependentVariable:null,styleEdgeForward:null,styleEdgeBackward:null,styleexit:null,styleentry:null,styleNode:null,layerstarty:null,padAfter:null,padBefore:null,availableheight:null,
maxweight:null,layout:null,chunkWidth:null,displayExit:null,displayEntry:null,edgeClass:null,nodeClass:null,clickEdge:null,imagePath:null,labelNode:null,labelEdgeOver:null,labelEdge:null,thinbackedges:null,stackbackedges:null,labelNodeSpacing:null,imageSpacing:null,imageHeight:null,imageWidth:null,extraRadius:null,extraHeight:null,backEdgeSpacing:null,extraWidth:null,dummySpacing:null,nodeSpacing:null,layerWidth:null,__class__:n.Sankey});n.ScatterGraph=function(a){n.CartesianChart.call(this,a);this.addClass("scatter-graph");
this.chart=this.g.append("svg:g")};i["rg.svg.chart.ScatterGraph"]=n.ScatterGraph;n.ScatterGraph.__name__=["rg","svg","chart","ScatterGraph"];n.ScatterGraph.__super__=n.CartesianChart;n.ScatterGraph.prototype=A(n.CartesianChart.prototype,{onclick:function(a,b){this.click(b,a)},onmouseover:function(a,b){var c=this.labelDataPointOver(j.field(b,"__dhx_data__"),a);if(null==c)this.tooltip.hide();else{var d=O.selectNode(b),d=n.Coords.fromTransform(d.attr("transform").get());this.tooltip.html(c.split("\n").join("<br>"));
this.moveTooltip(d[0],d[1],null)}},getTranslatePointf:function(a){var b=v(this,this.x),c=this.getY1(a);return function(a,e){return"translate("+b(a)+","+c(a,e)+")"}},redraw:function(){var a=this;if(!(null==this.dps||null==this.dps[0]||null==this.dps[0][0])){var b=this.chart.selectAll("g.group").data(this.dps);b.enter().append("svg:g").attr("class").stringf(function(a,b){return"group group-"+b});b.exit().remove();for(var b=0,c=this.dps.length;b<c;){var d=[b++],e=this.dps[d[0]],h=this.chart.select("g.group-"+
d[0]),f=[this.yVariables[d[0]].stats],e=h.selectAll("g.symbol").data(e),g=function(){return function(a,b){return function(){return function(c,d){return a(b,c,d)}}()}}()(v(this,this.onclick),f[0]),i=function(){return function(a,b){return function(){return function(c,d){return a(b,c,d)}}()}}()(v(this,this.onmouseover),f[0]),h=e.enter().append("svg:g").attr("class").stringf(this.classf(d[0],"symbol")).attr("transform").stringf(this.getTranslatePointf(d[0]));if(null!=this.click)h.on("click",g);if(null!=
this.labelDataPointOver)h.onNode("mouseover",i);K.SVGSymbolBuilder.generate(h,f[0],this.symbol,this.symbolStyle);null!=this.labelDataPoint&&(g=[this.chart.append("svg:g").attr("class").string("datapoint-labels")],h.eachNode(function(b,c,d){return function(e,h){var f=j.field(e,"__dhx_data__");K.PointLabel.label(b[0],a.labelDataPoint(f,c[0]),a.x(f),a.getY1(d[0])(f,h)-a.labelDataPointVerticalOffset,a.labelDataPointShadow,a.labelDataPointOutline)}}(g,f,d)));e.update().selectAll("g.symbol").dataf(function(){return function(a){return a}}()).update().attr("transform").stringf(this.getTranslatePointf(d[0]));
e.exit().remove()}this.ready.dispatch()}},resize:function(){n.CartesianChart.prototype.resize.call(this);this.redraw()},data:function(a){this.dps=a;this.redraw()},classf:function(a,b){return function(){return b+" stroke-"+a+" fill-"+a}},getY1:function(a){var b=this.height,c=this.yVariables[a];return function(a){a=j.field(a,c.type);a=c.axis.scale(c.min(),c.max(),a)*b;return b-a}},x:function(a){a=j.field(a,this.xVariable.type);return this.xVariable.axis.scale(this.xVariable.min(),this.xVariable.max(),
a)*this.width},dps:null,chart:null,symbolStyle:null,symbol:null,__class__:n.ScatterGraph});n.StreamEffect={__ename__:["rg","svg","chart","StreamEffect"],__constructs__:["NoEffect","GradientHorizontal","GradientVertical"]};n.StreamEffect.NoEffect=["NoEffect",0];n.StreamEffect.NoEffect.toString=q;n.StreamEffect.NoEffect.__enum__=n.StreamEffect;n.StreamEffect.GradientHorizontal=function(a){a=["GradientHorizontal",1,a];a.__enum__=n.StreamEffect;a.toString=q;return a};n.StreamEffect.GradientVertical=function(a){a=
["GradientVertical",2,a];a.__enum__=n.StreamEffect;a.toString=q;return a};n.StreamEffects=function(){};i["rg.svg.chart.StreamEffects"]=n.StreamEffects;n.StreamEffects.__name__=["rg","svg","chart","StreamEffects"];n.StreamEffects.getLightness=function(a,b){return null==a?b:t.parseFloat(a)};n.StreamEffects.parse=function(a){a=a.toLowerCase().split(":");switch(a.shift()){case "gradient":case "gradientv":case "gradientvert":case "gradientvertical":return n.StreamEffect.GradientVertical(n.StreamEffects.getLightness(a.pop(),
0.75));case "gradienth":case "gradienthoriz":case "gradienthorizontal":return n.StreamEffect.GradientHorizontal(n.StreamEffects.getLightness(a.pop(),0.75));default:return n.StreamEffect.NoEffect}};n.StreamGraph=function(a){n.CartesianChart.call(this,a);this.interpolator=p.LineInterpolator.Cardinal(0.6);this.gradientLightness=0.75;this.gradientStyle=1};i["rg.svg.chart.StreamGraph"]=n.StreamGraph;n.StreamGraph.__name__=["rg","svg","chart","StreamGraph"];n.StreamGraph.__super__=n.CartesianChart;n.StreamGraph.prototype=
A(n.CartesianChart.prototype,{applyGradientH:function(a){for(var b=O.selectNode(la.current),c=f.Hsl.toHsl(T.parse(b.style("fill").get(),"#cccccc")),d="rg_stream_gradient_v_"+n.StreamGraph.vid++,e=this.defs.append("svg:linearGradient").attr("gradientUnits").string("objectBoundingBox").attr("class").string("x").attr("id").string(d).attr("x1").string("0%").attr("x2").string("100%").attr("y1").string("0%").attr("y2").string("0%"),h=a[0].coord.x,g=a[a.length-1].coord.x-h,i=S.floatMax(a,function(a){return a.coord.y}),
l=0,k=a.length;l<k;){var j=l++,j=a[j],m=T.applyLightness(c,this.gradientLightness,j.coord.y/i);e.append("svg:stop").attr("offset").string(Math.round(1E4*((j.coord.x-h)/g))/100+"%").attr("stop-color").string(m.hex("#")).attr("stop-opacity")["float"](1)}b.attr("style").string("fill:url(#"+d+")")},applyGradientV:function(){var a=O.selectNode(la.current),b=T.parse(a.style("fill").get(),"#cccccc"),c="rg_stream_gradient_h_"+b.hex("");if(this.defs.select("#"+c).empty()){var d=T.applyLightness(f.Hsl.toHsl(b),
this.gradientLightness).toRgbString(),e=this.defs.append("svg:linearGradient").attr("gradientUnits").string("objectBoundingBox").attr("id").string(c).attr("x1").string("0%").attr("x2").string("0%").attr("y1").string("100%").attr("y2").string("0%").attr("spreadMethod").string("pad");e.append("svg:stop").attr("offset").string("0%").attr("stop-color").string(d).attr("stop-opacity")["float"](1);e.append("svg:stop").attr("offset").string("100%").attr("stop-color").string(b.toRgbString()).attr("stop-opacity")["float"](1)}a.attr("style").string("fill:url(#"+
c+")")},prepareData:function(){var a=this;this.defs.selectAll("linearGradient.h").remove();var b=function(a,b,c){return function(d){return a(b,c,d)}}((Q=this.xVariable.axis,v(Q,Q.scale)),this.xVariable.min(),this.xVariable.max()),c=this.xVariable.type,d=function(a,b,c){return function(d){return a(b,c,d)}}((Q=this.yVariables[0].axis,v(Q,Q.scale)),this.yVariables[0].min(),this.yVariables[0].max()),e=this.yVariables[0].type,h=S.floatMax(this.dps,function(a){return a.length})|0,f=I.map(u.iter(this.dps),
function(f){return I.map(u.iter(P.range(0,h)),function(h,g){var o=f[g];if(null==o){a:{for(var o=0,i=a.dps.length;o<i;){var l=o++;if(null!=a.dps[l][g]){o=a.dps[l][g];break a}}o=null}o={x:b(j.field(o,c)),y:0}}else o={x:b(j.field(o,c)),y:Math.max(0,d(j.field(o,e)))};return o})}),f=(new R.layout.Stack).offset(R.layout.StackOffset.Silhouette).order(R.layout.StackOrder.DefaultOrder).stack(f);this.transformedData=I.map(u.iter(f),function(b,c){return I.map(u.iter(b),function(b,d){return{coord:b,dp:a.dps[c][d]}})});
this.stats=this.yVariables[0].stats;this.maxy=S.floatMax(f,function(a){return S.floatMax(a,function(a){return a.y0+a.y})});this.area=(new p.Area).interpolator(this.interpolator).x(function(b){return b.coord.x*a.width}).y0(function(b){return a.height-b.coord.y0*a.height/a.maxy}).y1(function(b){return a.height-(b.coord.y+b.coord.y0)*a.height/a.maxy})},onclick:function(a,b){null!=this.click&&this.click(this.getDataAtNode(a,b).dp,this.stats)},onover:function(a,b){if(null!=this.labelDataPointOver){var c=
this.getDataAtNode(a,b);this.tooltip.html(this.labelDataPointOver(c.dp,this.stats).split("\n").join("<br>"));this.moveTooltip(c.coord.x*this.width,this.height-(c.coord.y+c.coord.y0)*this.height/this.maxy,T.extractColor(a))}},getDataAtNode:function(a,b){var c=Ec.mouse(a)[0],c=G.uninterpolatef(this.transformedData[b][0].coord.x,S.last(this.transformedData[b]).coord.x)(c/this.width);j.field(a,"__dhx_data__");return S.nearest(this.transformedData[b],c,function(a){return a.coord.x})},redraw:function(){if(null!=
this.transformedData){var a=this.g.selectAll("g.group").data(this.transformedData);a.update().select("path.line").attr("d").stringf((Q=this.area,v(Q,Q.shape)));var b=a.enter().append("svg:g").attr("class").string("group").append("svg:path").attr("class").stringf(function(a,b){return"line fill-"+b+" stroke-"+b}).attr("d").stringf((Q=this.area,v(Q,Q.shape))).onNode("mousemove",v(this,this.onover)).onNode("click",v(this,this.onclick));T.storeColorForSelection(b);0!=this.gradientStyle&&b.each(1==this.gradientStyle?
v(this,this.applyGradientV):v(this,this.applyGradientH));a.exit().remove();this.ready.dispatch()}},data:function(a){this.dps=a;this.prepareData();this.redraw()},setVariables:function(a,b,c,d){n.CartesianChart.prototype.setVariables.call(this,a,b,c,d)},init:function(){n.CartesianChart.prototype.init.call(this);this.defs=this.g.append("svg:defs");this.g.classed().add("stream-chart")},maxy:null,defs:null,stats:null,transformedData:null,area:null,dps:null,gradientStyle:null,gradientLightness:null,interpolator:null,
__class__:n.StreamGraph});ta={RulesOrtho:function(a,b){U.Layer.call(this,a);this.orientation=b;this.displayAnchorLine=this.displayMajor=this.displayMinor=!0;this.g.classed().add("tickmarks")}};i["rg.svg.layer.RulesOrtho"]=ta.RulesOrtho;ta.RulesOrtho.__name__=["rg","svg","layer","RulesOrtho"];ta.RulesOrtho.__super__=U.Layer;ta.RulesOrtho.prototype=A(U.Layer.prototype,{tickClass:function(a){return a.get_major()?"major":null},y2Vertical:function(){return this.height},y2Horizontal:function(){return 0},
x2Vertical:function(){return 0},x2Horizontal:function(){return this.width},y1Vertical:function(){return 0},y1Horizontal:function(){return 0},x1Vertical:function(){return 0},x1Horizontal:function(){return 0},translateVertical:function(a){return"translate("+a.get_delta()*this.width+",0)"},translateHorizontal:function(a){return"translate(0,"+(this.height-a.get_delta()*this.height)+")"},init:function(){this.initf();this.displayAnchorLine&&(this.g.append("svg:line").attr("class").string("anchor-line"),
this.updateAnchorLine())},initf:function(){switch(this.orientation[1]){case 1:this.translate=v(this,this.translateHorizontal);this.x1=v(this,this.x1Horizontal);this.y1=v(this,this.y1Horizontal);this.x2=v(this,this.x2Horizontal);this.y2=v(this,this.y2Horizontal);break;case 0:this.translate=v(this,this.translateVertical),this.x1=v(this,this.x1Vertical),this.y1=v(this,this.y1Vertical),this.x2=v(this,this.x2Vertical),this.y2=v(this,this.y2Vertical)}},redraw:function(){var a=this.axis.ticks(this.min,this.max,
this.maxTicks()),a=this.g.selectAll("g.rule").data(a,v(this,this.id)),b=a.enter().append("svg:g").attr("class").string("rule").attr("transform").stringf(this.translate);this.displayMinor&&b.filter(function(a){return!a.major}).append("svg:line").attr("x1").floatf(this.x1).attr("y1").floatf(this.y1).attr("x2").floatf(this.x2).attr("y2").floatf(this.y2).attr("class").stringf(v(this,this.tickClass));this.displayMajor&&b.filter(function(a){return a.major}).append("svg:line").attr("x1").floatf(this.x1).attr("y1").floatf(this.y1).attr("x2").floatf(this.x2).attr("y2").floatf(this.y2).attr("class").stringf(v(this,
this.tickClass));a.update().attr("transform").stringf(this.translate);a.exit().remove()},id:function(a){return""+t.string(a.get_value())},maxTicks:function(){var a;switch(this.orientation[1]){case 1:a=this.width;break;case 0:a=this.height}return Math.round(a/2.5)},updateAnchorLine:function(){var a=this.g.select("line.anchor-line");switch(this.orientation[1]){case 1:a.attr("x1")["float"](0).attr("y1")["float"](0).attr("x2")["float"](0).attr("y2")["float"](this.height);break;case 0:a.attr("x1")["float"](0).attr("y1")["float"](this.height).attr("x2")["float"](this.width).attr("y2")["float"](this.height)}},
update:function(a,b,c){this.axis=a;this.min=b;this.max=c;this.redraw()},resize:function(){null!=this.axis&&(this.displayAnchorLine&&this.updateAnchorLine(),this.redraw())},max:null,min:null,axis:null,y2:null,x2:null,y1:null,x1:null,translate:null,displayAnchorLine:null,displayMajor:null,displayMinor:null,orientation:null,__class__:ta.RulesOrtho});ta.TickmarksOrtho=function(a,b){U.Layer.call(this,a);this.anchor=b;this.displayLabel=this.displayMajor=this.displayMinor=!0;this.displayAnchorLine=!1;this.lengthMinor=
2;this.lengthMajor=5;this.paddingMajor=this.paddingMinor=1;this.paddingLabel=10;this.g.classed().add("tickmarks")};i["rg.svg.layer.TickmarksOrtho"]=ta.TickmarksOrtho;ta.TickmarksOrtho.__name__=["rg","svg","layer","TickmarksOrtho"];ta.TickmarksOrtho.__super__=U.Layer;ta.TickmarksOrtho.prototype=A(U.Layer.prototype,{tickClass:function(a){return a.get_major()?"major":null},y2Right:function(){return 0},y2Left:function(){return 0},y2Bottom:function(a){return-(a.get_major()?this.lengthMajor+this.paddingMajor:
this.lengthMinor+this.paddingMinor)},y2Top:function(a){return a.get_major()?this.lengthMajor+this.paddingMajor:this.lengthMinor+this.paddingMinor},x2Right:function(a){return-(a.get_major()?this.lengthMajor+this.paddingMajor:this.lengthMinor+this.paddingMinor)},x2Left:function(a){return a.get_major()?this.lengthMajor+this.paddingMajor:this.lengthMinor+this.paddingMinor},x2Bottom:function(){return 0},x2Top:function(){return 0},y1Right:function(){return 0},y1Left:function(){return 0},y1Bottom:function(a){return-(a.get_major()?
this.paddingMajor:this.paddingMinor)},y1Top:function(a){return a.get_major()?this.paddingMajor:this.paddingMinor},x1Right:function(a){return-(a.get_major()?this.paddingMajor:this.paddingMinor)},x1Left:function(a){return a.get_major()?this.paddingMajor:this.paddingMinor},x1Bottom:function(){return 0},x1Top:function(){return 0},translateRight:function(a){return"translate("+this.panel.frame.width+","+(this.panel.frame.height-a.get_delta()*this.panel.frame.height)+")"},translateLeft:function(a){return"translate(0,"+
(this.panel.frame.height-a.get_delta()*this.panel.frame.height)+")"},translateBottom:function(a){return"translate("+a.get_delta()*this.panel.frame.width+","+this.panel.frame.height+")"},translateTop:function(a){return"translate("+a.get_delta()*this.panel.frame.width+",0)"},init:function(){this.initf();this.displayAnchorLine&&(this.g.append("svg:line").attr("class").string("anchor-line"),this.updateAnchorLine())},initf:function(){switch(this.anchor[1]){case 0:this.translate=v(this,this.translateTop);
this.x1=v(this,this.x1Top);this.y1=v(this,this.y1Top);this.x2=v(this,this.x2Top);this.y2=v(this,this.y2Top);break;case 1:this.translate=v(this,this.translateBottom);this.x1=v(this,this.x1Bottom);this.y1=v(this,this.y1Bottom);this.x2=v(this,this.x2Bottom);this.y2=v(this,this.y2Bottom);break;case 2:this.translate=v(this,this.translateLeft);this.x1=v(this,this.x1Left);this.y1=v(this,this.y1Left);this.x2=v(this,this.x2Left);this.y2=v(this,this.y2Left);break;case 3:this.translate=v(this,this.translateRight),
this.x1=v(this,this.x1Right),this.y1=v(this,this.y1Right),this.x2=v(this,this.x2Right),this.y2=v(this,this.y2Right)}if(null==this.labelOrientation){var a;switch(this.anchor[1]){case 0:case 1:this.labelOrientation=l.LabelOrientation.Orthogonal;break;case 2:case 3:this.labelOrientation=l.LabelOrientation.Aligned}}else if(null==this.labelAnchor)switch(this.labelOrientation[1]){case 1:switch(this.anchor[1]){case 0:case 2:this.labelAnchor=l.GridAnchor.Left;break;case 1:case 3:this.labelAnchor=l.GridAnchor.Right}break;
case 2:switch(this.anchor[1]){case 0:case 2:this.labelAnchor=l.GridAnchor.Top;break;case 1:case 3:this.labelAnchor=l.GridAnchor.Bottom}}if(null==this.labelAnchor)switch(this.anchor[1]){case 0:this.labelAnchor=l.GridAnchor.Top;break;case 1:this.labelAnchor=l.GridAnchor.Bottom;break;case 2:this.labelAnchor=l.GridAnchor.Left;break;case 3:this.labelAnchor=l.GridAnchor.Right}if(null==this.labelAngle)switch(this.anchor[1]){case 0:this.labelAngle=90;break;case 1:this.labelAngle=90;break;case 2:this.labelAngle=
0;break;case 3:this.labelAngle=0}},createLabel:function(a){var b=j.field(a,"__dhx_data__");if(b.get_major()){a=new l.Label(O.selectNode(a),!1,!1,!1);a.set_anchor(this.labelAnchor);a.set_orientation(this.labelOrientation);var c=this.paddingLabel;a.set_text(null==this.tickLabel?b.get_label():this.tickLabel(b.get_value()));switch(this.anchor[1]){case 0:a.place(0,c,this.labelAngle);break;case 1:a.place(0,-c,this.labelAngle);break;case 2:a.place(c,0,this.labelAngle);break;case 3:a.place(-c,0,this.labelAngle)}var d;
switch(this.anchor[1]){case 0:case 1:d=a.getSize().height+c;break;case 2:case 3:d=a.getSize().width+c}b=d;if(b>this.desiredSize)this.desiredSize=b}},redraw:function(){this.desiredSize=Math.max(this.paddingMinor+this.lengthMinor,this.paddingMajor+this.lengthMajor);var a=this.axis.ticks(this.min,this.max,this.maxTicks()),a=this.g.selectAll("g.tick").data(a,v(this,this.id)),b=a.enter().append("svg:g").attr("class").string("tick").attr("transform").stringf(this.translate);this.displayMinor&&b.filter(function(a){return!a.major}).append("svg:line").attr("x1").floatf(this.x1).attr("y1").floatf(this.y1).attr("x2").floatf(this.x2).attr("y2").floatf(this.y2).attr("class").stringf(v(this,
this.tickClass));this.displayMajor&&b.filter(function(a){return a.major}).append("svg:line").attr("x1").floatf(this.x1).attr("y1").floatf(this.y1).attr("x2").floatf(this.x2).attr("y2").floatf(this.y2).attr("class").stringf(v(this,this.tickClass));this.displayLabel&&b.eachNode(v(this,this.createLabel));a.update().attr("transform").stringf(this.translate);a.exit().remove()},id:function(a){return""+t.string(a.get_value())},maxTicks:function(){var a;switch(this.anchor[1]){case 2:case 3:a=this.height;
break;case 0:case 1:a=this.width}return Math.round(a/2.5)},updateAnchorLine:function(){var a=this.g.select("line.anchor-line");switch(this.anchor[1]){case 0:a.attr("x1")["float"](0).attr("y1")["float"](0).attr("x2")["float"](this.panel.frame.width).attr("y2")["float"](0);break;case 1:a.attr("x1")["float"](0).attr("y1")["float"](this.panel.frame.height).attr("x2")["float"](this.panel.frame.width).attr("y2")["float"](this.panel.frame.height);break;case 2:a.attr("x1")["float"](0).attr("y1")["float"](0).attr("x2")["float"](0).attr("y2")["float"](this.panel.frame.height);
break;case 3:a.attr("x1")["float"](this.panel.frame.width).attr("y1")["float"](0).attr("x2")["float"](this.panel.frame.width).attr("y2")["float"](this.panel.frame.height)}},update:function(a,b,c){this.axis=a;this.min=b;this.max=c;this.redraw()},resize:function(){null!=this.axis&&(this.displayAnchorLine&&this.updateAnchorLine(),this.redraw())},max:null,min:null,axis:null,y2:null,x2:null,y1:null,x1:null,translate:null,tickLabel:null,desiredSize:null,labelAngle:null,labelAnchor:null,labelOrientation:null,
paddingLabel:null,paddingMajor:null,paddingMinor:null,lengthMajor:null,lengthMinor:null,displayAnchorLine:null,displayLabel:null,displayMajor:null,displayMinor:null,anchor:null,__class__:ta.TickmarksOrtho});ta.Title=function(a,b,c,d,e,h,f){null==f&&(f=!1);null==h&&(h=!1);null==e&&(e="title");null==d&&(d=1);U.Layer.call(this,a);this.addClass(e);this.group=this.g.append("svg:g");this.label=new l.Label(this.group,!1,h,f);this.label.set_orientation(l.LabelOrientation.Orthogonal);this.set_anchor(c);this.set_padding(d);
this.set_text(b);this.resize()};i["rg.svg.layer.Title"]=ta.Title;ta.Title.__name__=["rg","svg","layer","Title"];ta.Title.__super__=U.Layer;ta.Title.prototype=A(U.Layer.prototype,{set_padding:function(a){this.padding=a;switch(this.anchor[1]){case 0:this.label.place(0,0,90);break;case 1:this.label.place(0,0,90);break;case 2:this.label.place(0,0,180);break;case 3:this.label.place(0,0,0)}return a},set_anchor:function(a){switch((this.anchor=a)[1]){case 0:this.label.set_anchor(l.GridAnchor.Top);break;case 1:this.label.set_anchor(l.GridAnchor.Bottom);
break;case 2:this.label.set_anchor(l.GridAnchor.Bottom);break;case 3:this.label.set_anchor(l.GridAnchor.Bottom)}return a},set_text:function(a){return this.label.set_text(a)},resize:function(){if(!(null==this.anchor||null==this.width||null==this.padding))switch(this.anchor[1]){case 0:this.group.attr("transform").string("translate("+this.width/2+","+this.padding+")");break;case 3:this.group.attr("transform").string("translate("+(this.width-this.padding)+","+this.height/2+")");break;case 2:this.group.attr("transform").string("translate("+
this.padding+","+this.height/2+")");break;case 1:this.group.attr("transform").string("translate("+this.width/2+","+(this.height-this.padding)+")")}},idealHeight:function(){var a=this.label.getSize();return Math.round(function(b){var c;switch(b.anchor[1]){case 2:case 3:c=a.width+b.padding;break;case 0:case 1:c=a.height+b.padding}return c}(this))},group:null,label:null,padding:null,anchor:null,__class__:ta.Title,__properties__:{set_anchor:"set_anchor",set_padding:"set_padding"}});U.Panel=function(a){this.frame=
a;a.change=v(this,this.reframe);this._layers=[]};i["rg.svg.panel.Panel"]=U.Panel;U.Panel.__name__=["rg","svg","panel","Panel"];U.Panel.prototype={reframe:function(){this.g.attr("transform").string("translate("+this.frame.x+","+this.frame.y+")");for(var a,b=0,c=this._layers.length;b<c;)a=this._layers[b++],a._resize()},init:function(a){this.g=a.append("svg:g").attr("class").string("panel").attr("transform").string("translate("+this.frame.x+","+this.frame.y+")")},setParent:function(a){null!=this.g&&
this.g.remove();this.parent=a;null!=a&&this.init(a.g)},removeLayer:function(a){u.remove(this._layers,a)},addLayer:function(a){u.remove(this._layers,a);this._layers.push(a)},_layers:null,parent:null,g:null,frame:null,__class__:U.Panel};U.Container=function(a,b){U.Panel.call(this,a);this.stack=new pd(a.width,a.height,b);this.panels=[]};i["rg.svg.panel.Container"]=U.Container;U.Container.__name__=["rg","svg","panel","Container"];U.Container.__super__=U.Panel;U.Container.prototype=A(U.Panel.prototype,
{reframe:function(){U.Panel.prototype.reframe.call(this);this.stack.setSize(this.frame.width,this.frame.height);this.stack.reflow()},createContainerAt:function(a,b,c){b=new U.Container(new Ta(b),c);this.insertPanel(a,b);return b},createPanelAt:function(a,b){var c=new U.Panel(new Ta(b));this.insertPanel(a,c);return c},createContainer:function(a,b){var c=new U.Container(new Ta(a),b);this.addPanel(c);return c},createPanel:function(a){a=new U.Panel(new Ta(a));this.addPanel(a);return a},removePanel:function(a){if(!u.remove(this.panels,
a))return this;this.stack.removeChild(B.__cast(a.frame,Ta));a.setParent(null);return this},addPanels:function(a){for(var b=[],a=Qa(a)();a.hasNext();){var c=a.next();null!=c&&(null!=c.parent&&c.parent.removePanel(c),this.panels.push(c),c.setParent(this),b.push(B.__cast(c.frame,Ta)))}this.stack.addItems(b);return this},addPanel:function(a){return this.addPanels([a])},insertPanel:function(a,b){if(null==b)return this;if(a>=this.stack.get_length())return this.addPanel(b);0>a&&(a=0);null!=b.parent&&b.parent.removePanel(b);
this.panels.splice(a,0,b);b.setParent(this);this.stack.insertItem(a,B.__cast(b.frame,Ta));return this},panels:null,stack:null,__class__:U.Container});U.Panels=function(){};i["rg.svg.panel.Panels"]=U.Panels;U.Panels.__name__=["rg","svg","panel","Panels"];U.Panels.absolutePos=function(a){for(var b=a,c=0,d=0;null!=b;)a=b,c+=b.frame.x,d+=b.frame.y,b=b.parent;var e=U.Panels.htmlContainer(a),a=kd.getLeft(),b=kd.getTop();if(null==e)return{x:a,y:b};e=e.getBoundingClientRect();return{x:e.left+c+a,y:e.top+
d+b}};U.Panels.svgContainer=function(a){a=a.g.node();do a=a.ownerSVGElement;while(null!=a&&null!=j.field(a.ownerSVGElement,"ownerSVGElement"));return null==a?null:a};U.Panels.htmlContainer=function(a){a=U.Panels.svgContainer(a);return null==a?null:a.parentNode};U.Space=function(a,b,c){this.panel=new Ta(Y.Fill(0,0));U.Container.call(this,this.panel,wa.Vertical);this.init(this.svg=c.append("svg:svg").attr("xmlns").string("http://www.w3.org/2000/svg"));this.resize(a,b)};i["rg.svg.panel.Space"]=U.Space;
U.Space.__name__=["rg","svg","panel","Space"];U.Space.__super__=U.Container;U.Space.prototype=A(U.Container.prototype,{resize:function(a,b){this.panel.width==a&&this.panel.height==b||(this.svg.attr("width")["float"](a).attr("height")["float"](b),this.panel.set_layout(0,0,a,b))},svg:null,panel:null,__class__:U.Space});K={PointLabel:function(){}};i["rg.svg.util.PointLabel"]=K.PointLabel;K.PointLabel.__name__=["rg","svg","util","PointLabel"];K.PointLabel.label=function(a,b,c,d,e,h){if(null==b)return null;
a=new l.Label(a,!0,e,h);a.set_text(b);a.place(c,d,0);return a};K.RGCss=function(){};i["rg.svg.util.RGCss"]=K.RGCss;K.RGCss.__name__=["rg","svg","util","RGCss"];K.RGCss.colorsInCss=function(){if(null!=K.RGCss.cache)return K.RGCss.cache;var a=O.select("body").append("svg:svg").attr("class").string("rg"),b=K.RGCss.createBlock(a,0).style("fill").get();K.RGCss.cache=[b];for(var c=1;1E3>c;){var d=c++,d=K.RGCss.createBlock(a,d).style("fill").get();if(b==d)break;else K.RGCss.cache.push(d)}a.remove();sb.delay(function(){K.RGCss.cache=
null},1E3);return K.RGCss.cache};K.RGCss.numberOfColorsInCss=function(){return K.RGCss.colorsInCss().length};K.RGCss.createBlock=function(a,b){return a.append("svg:rect").attr("class").string("fill-"+b)};K.SVGSymbolBuilder=function(){};i["rg.svg.util.SVGSymbolBuilder"]=K.SVGSymbolBuilder;K.SVGSymbolBuilder.__name__=["rg","svg","util","SVGSymbolBuilder"];K.SVGSymbolBuilder.generate=function(a,b,c,d){null!=c&&(a=K.SVGSymbolBuilder.createElement(a,b,c),T.storeColorForSelection(a,"stroke"),K.SVGSymbolBuilder.applyStyle(a,
b,d))};K.SVGSymbolBuilder.createElement=function(a,b,c){a.each(function(a){a=c(a,b);K.SVGSymbolBuilder.createNode(O.selectNode(la.current),a).classed().add("symbol-item")});return a.selectAll(".symbol-item")};K.SVGSymbolBuilder.createNode=function(a,b){if(C.startsWith(b,"image")){var c=K.SVGSymbolBuilder.parseImageArguments(u.substr(b.split(":").shift(),5,null));return K.SVGSymbolBuilder.createImage(a,b.split(":").slice(1).join(":"),c)}return K.SVGSymbolBuilder.createPath(a,b)};K.SVGSymbolBuilder.createPath=
function(a,b){return a.append("svg:path").attr("d").string(b)};K.SVGSymbolBuilder.createImage=function(a,b,c){a=a.append("svg:image").attr("xlink:href").string(b).attr("width")["float"](c.width).attr("height")["float"](c.height).attr("preserveAspectRatio").string(c.aspect);a.attr("x")["float"](function(){var a;switch(c.horizontal){case "right":a=-c.width;break;case "center":a=-c.width/2;break;default:a=0}return a}(this));a.attr("y")["float"](function(){var a;switch(c.vertical){case "bottom":a=-c.height;
break;case "center":a=-c.height/2;break;default:a=0}return a}(this));return a};K.SVGSymbolBuilder.parseImageArguments=function(a){var b={width:50,height:50,vertical:"center",horizontal:"center",aspect:"none"};a.split(",").map(function(a){return C.trim(a)}).filter(function(a){return""!=a}).forEach(function(a){K.SVGSymbolBuilder.appendOption(b,a)});return b};K.SVGSymbolBuilder.appendOption=function(a,b){if(K.SVGSymbolBuilder.SIZE_PATTERN.match(b))a.width=t.parseInt(K.SVGSymbolBuilder.SIZE_PATTERN.matched(1)),
a.height=t.parseInt(K.SVGSymbolBuilder.SIZE_PATTERN.matched(2));else if(K.SVGSymbolBuilder.ALIGN_PATTERN.match(b))a.horizontal=K.SVGSymbolBuilder.ALIGN_PATTERN.matched(1).toLowerCase(),a.vertical=K.SVGSymbolBuilder.ALIGN_PATTERN.matched(2).toLowerCase();else if(K.SVGSymbolBuilder.HORIZONTAL_PATTERN.match(b))a.horizontal=K.SVGSymbolBuilder.HORIZONTAL_PATTERN.matched(1).toLowerCase();else if(K.SVGSymbolBuilder.VERTICAL_PATTERN.match(b))a.vertical=K.SVGSymbolBuilder.VERTICAL_PATTERN.matched(1).toLowerCase()};
K.SVGSymbolBuilder.applyStyle=function(a,b,c){null!=c&&a.attr("style").stringf(function(a){return c(a,b)})};K.SymbolCache=function(){this.c=new L.StringMap;this.r=0};i["rg.svg.util.SymbolCache"]=K.SymbolCache;K.SymbolCache.__name__=["rg","svg","util","SymbolCache"];K.SymbolCache.prototype={get:function(a,b){null==b&&(b=100);var c=a+":"+b,d=this.c.get(c);null==d&&(d=j.field(p.Symbol,a)(b),this.c.set(c,d));return d},r:null,c:null,__class__:K.SymbolCache};l={Balloon:function(a,b){null==b&&(b=!0);if(b){for(var c=
a.node();null!=c&&"svg"!=c.nodeName;)c=c.parentNode;this.container=null==c?a:O.selectNode(c)}else this.container=a;this.visible=!0;this.duration=350;this.minwidth=30;this.set_preferredSide(2);this.ease=V.Ease.mode(V.EaseMode.EaseOut,V.Equations.cubic);this.set_roundedCorner(5);this.paddingHorizontal=3.5;this.paddingVertical=1.5;this.transition_id=0;this.balloon=this.container.append("svg:g").attr("pointer-events").string("none").attr("class").string("balloon").attr("transform").string("translate("+
(this.x=0)+", "+(this.y=0)+")");this.frame=this.balloon.append("svg:g").attr("transform").string("translate(0, 0)").attr("class").string("frame");this.frame.append("svg:path").attr("class").string("shadow").attr("transform").string("translate(1, 1)");this.connectorShapeV=p.Diagonal.forObject();this.connectorShapeH=p.Diagonal.forObject().projection(function(a){return[a[1],a[0]]});this.connector=this.balloon.append("svg:path").attr("class").string("balloon-connector").style("fill").string("none").style("display").string("none").attr("transform").string("translate(0, 0)");
this.frame.append("svg:path").attr("class").string("bg");this.labelsContainer=this.frame.append("svg:g").attr("class").string("labels");this.labels=[];c=this.createLabel(0);c.set_text("HELLO");this.set_lineHeight(c.getSize().height);c.destroy()}};i["rg.svg.widget.Balloon"]=l.Balloon;l.Balloon.__name__=["rg","svg","widget","Balloon"];l.Balloon.prototype={redraw:function(){var a=this;if(!(null==this.text||0==this.text.length)){for(var b=this.boxWidth=0,c=0,d=this.labels;c<d.length;)if(b=d[c],++c,(b=
Math.ceil(b.getSize().width))>this.boxWidth)this.boxWidth=b;if(0==b){var e=this.text;sb.delay(function(){a.set_text(e)},15)}else this.boxWidth+=2*this.paddingHorizontal,this.boxHeight=this.lineHeight*this.labels.length+2*this.paddingVertical,c=this.frame.selectAll(".bg"),d=c.style("stroke-width").getFloat(),Math.isNaN(d)&&(d=0),this.labelsContainer.attr("transform").string("translate("+this.boxWidth/2+","+(d+this.paddingVertical)+")"),c.transition().ease(this.ease).delay(null,this.duration)}},_moveTo:function(a,
b){for(var c=this.get_boundingBox(),d=c.x,e=c.x+c.width,h=c.y,f=c.y+c.height,g=2*this.roundedCorner,i=c=0,k=0,j=0,m=this.preferredSide,n=1;0<n&&5>n;){if(a>=e-g)if(b<=h+g){a-e<h-b?(k=-this.boxWidth+e-a,j=h-b+this.roundedCorner,m=0,c=this.boxWidth-4*this.roundedCorner):(k=-this.boxWidth+e-a-this.roundedCorner,j=h-b,m=1,c=this.roundedCorner);i=1;break}else{if(b>=f-g){a-e<b-f?(k=-this.boxWidth+e-a,j=f-b-this.boxHeight-this.roundedCorner,m=2,c=this.boxWidth-4*this.roundedCorner):(k=-this.boxWidth+e-a-
this.roundedCorner,j=f-b-this.boxHeight,m=1,c=this.boxHeight-3*this.roundedCorner);i=1;break}}else if(a<=d+g)if(b<=h+g){d-a<h-b?(k=d-a,j=h-b+this.roundedCorner,c=m=0):(k=d-a+this.roundedCorner,j=h-b,m=3,c=this.roundedCorner);i=1;break}else if(b>=f-g){d-a<b-f?(k=d-a,j=f-b-this.boxHeight-this.roundedCorner,m=2,c=0):(k=d-a+this.roundedCorner,j=f-b-this.boxHeight,m=3,c=this.boxHeight-3*this.roundedCorner);i=1;break}switch(m){case 0:if(b+this.boxHeight+this.roundedCorner>=f){m=2;n++;continue}else if(a<=
d+g){m=3;n++;continue}else if(a>=e-g){m=1;n++;continue}k=-this.boxWidth/2;j=this.roundedCorner;c=this.boxWidth/2-2*this.roundedCorner;a-this.boxWidth/2<=d?(n=d-a+this.boxWidth/2,c=Math.max(0,c-n),k+=n):a+this.boxWidth/2>=e&&(n=e-a-this.boxWidth/2,c=Math.min(this.boxWidth-3*this.roundedCorner,c-n),k+=n);b<h&&(i=1,j=h-b+this.roundedCorner);break;case 1:if(a-this.boxWidth-this.roundedCorner<=d){m=3;n++;continue}else if(b<=h+g){m=2;n++;continue}else if(b>=f-g){m=0;n++;continue}k=-this.boxWidth-this.roundedCorner;
j=-this.boxHeight/2;c=(this.boxHeight-2*this.roundedCorner)/2;b-this.boxHeight/2<=h?(n=h-b+this.boxHeight/2,c=Math.max(0,c-n),j+=n):b+this.boxHeight/2>=f&&(n=f-b-this.boxHeight/2,c=Math.min(this.boxHeight-3*this.roundedCorner,c-n),j+=n);a>e&&(i=2,k=e-a-this.boxWidth-this.roundedCorner);break;case 2:if(b-this.boxHeight-this.roundedCorner<=h){m=0;n++;continue}else if(a<=d+g){m=3;n++;continue}else if(a>=e-g){m=1;n++;continue}k=-this.boxWidth/2;j=-this.boxHeight-this.roundedCorner;c=this.boxWidth/2-2*
this.roundedCorner;a-this.boxWidth/2<=d?(n=d-a+this.boxWidth/2,c=Math.max(this.roundedCorner,c-n),k+=n):a+this.boxWidth/2>=e&&(n=e-a-this.boxWidth/2,c=Math.min(this.boxWidth-3*this.roundedCorner,c-n),k+=n);b>f&&(i=1,j=f-b-this.boxHeight-this.roundedCorner);break;case 3:if(a+this.boxWidth+this.roundedCorner>=e){m=1;n++;continue}else if(b<=h+g){m=2;n++;continue}else if(b>=f-g){m=0;n++;continue}k=this.roundedCorner;j=-this.boxHeight/2;c=(this.boxHeight-2*this.roundedCorner)/2;b-this.boxHeight/2<=h?(n=
h-b+this.boxHeight/2,c=Math.max(this.roundedCorner,c-n),j+=n):b+this.boxHeight/2>=f&&(n=f-b-this.boxHeight/2,c=Math.min(this.boxHeight-3*this.roundedCorner,c-n),j+=n);a<d&&(i=2,k=d-a+this.roundedCorner)}n=0}d=null;if(0==i)this.connector.style("display").string("none");else switch(this.connector.style("display").string("block"),d={x0:1,y0:1,x1:1,y1:1},m){case 0:d.x1=k+1+c+2*this.roundedCorner;d.y1=j+1-this.roundedCorner;break;case 1:d.y1=k+1+this.boxWidth+this.roundedCorner;d.x1=j+1+c+this.roundedCorner;
break;case 2:d.x1=k+1+c+2*this.roundedCorner;d.y1=j+1+this.boxHeight+this.roundedCorner;break;case 3:d.y1=k+1+-this.roundedCorner,d.x1=j+1+c+this.roundedCorner}this.balloon.attr("transform").string("translate("+(this.x=a)+", "+(this.y=b)+")");this.frame.attr("transform").string("translate("+k+", "+j+")").selectAll("path").attr("d").string(l.BalloonShape.shape(this.boxWidth,this.boxHeight,this.roundedCorner,this.roundedCorner,m,c));0!=i&&this.connector.attr("d").string(0==m%2?this.connectorShapeV.diagonal(d):
this.connectorShapeH.diagonal(d))},moveTo:function(a,b,c){null==c&&(c=!0);var d=this;if(c){V.Equations.elasticf();var e=++this.transition_id,h=G.interpolatef(this.x,a,this.ease),f=G.interpolatef(this.y,b,this.ease);oa.timer(function(c){if(e!=d.transition_id)return!0;if(c>d.duration)return d._moveTo(a,b),!0;d._moveTo(h(c/d.duration),f(c/d.duration));return!1},0)}else 0==this.boxWidth?sb.delay(function(a,b,c){return function(){return a(b,c)}}(v(this,this._moveTo),a,b),15):this._moveTo(a,b)},transition_id:null,
get_boundingBox:function(){if(null==this.boundingBox)try{this.set_boundingBox(this.container.node().getBBox())}catch(a){return{width:0,height:0,x:0,y:0}}return this.boundingBox},set_boundingBox:function(a){this.boundingBox=a;this.redraw();return a},set_roundedCorner:function(a){this.roundedCorner=a;this.redraw();return a},set_lineHeight:function(a){this.lineHeight=a;this.redraw();return a},set_text:function(a){for(;this.labels.length>a.length;)this.labels.pop().destroy();for(var b=this.labels.length,
c=a.length;b<c;){var d=b++;this.labels[d]=this.createLabel(d)}b=0;for(c=a.length;b<c;)d=b++,this.labels[d].set_text(a[d]);this.text=a;this.redraw();return a},set_preferredSide:function(a){this.preferredSide=P.clamp(a,0,3);this.redraw();return a},createLabel:function(a){var b=new l.Label(this.labelsContainer,!0,!1,!1);b.addClass("line-"+a);b.set_anchor(l.GridAnchor.Top);b.set_orientation(l.LabelOrientation.Orthogonal);b.place(0,a*this.lineHeight,90);return b},boundingBox:null,connectorShapeH:null,
connectorShapeV:null,ease:null,duration:null,connector:null,labelsContainer:null,frame:null,balloon:null,container:null,labels:null,minwidth:null,preferredSide:null,paddingVertical:null,paddingHorizontal:null,roundedCorner:null,lineHeight:null,visible:null,boxHeight:null,boxWidth:null,y:null,x:null,text:null,__class__:l.Balloon,__properties__:{set_text:"set_text",set_lineHeight:"set_lineHeight",set_roundedCorner:"set_roundedCorner",set_preferredSide:"set_preferredSide",set_boundingBox:"set_boundingBox",
get_boundingBox:"get_boundingBox"}};l.BalloonShape=function(){};i["rg.svg.widget.BalloonShape"]=l.BalloonShape;l.BalloonShape.__name__=["rg","svg","widget","BalloonShape"];l.BalloonShape.shape=function(a,b,c,d,e,h){a-=2*c;b-=2*c;d="M"+c+",0";d=0==e?d+("h"+h)+("a"+c+","+c+",0,0,0,"+c+","+-c)+("a"+c+","+c+",0,0,0,"+c+","+c)+("h"+(a-(h+2*c))):d+("h"+a);d+="a"+c+","+c+",0,0,1,"+c+","+c;d=1==e?d+("v"+(h-c))+("a"+c+","+c+",0,0,0,"+c+","+c)+("a"+c+","+c+",0,0,0,"+-c+","+c)+("v"+(b-(h+c))):d+("v"+b);d+="a"+
c+","+c+",0,0,1,"+-c+","+c;d=2==e?d+("h"+-(a-(h+2*c)))+("a"+c+","+c+",0,0,0,"+-c+","+c)+("a"+c+","+c+",0,0,0,"+-c+","+-c)+("h"+-h):d+("h"+-a);d+="a"+c+","+c+",0,0,1,"+-c+","+-c;d=3==e?d+("v"+-(b-(h+c)))+("a"+c+","+c+",0,0,0,"+-c+","+-c)+("a"+c+","+c+",0,0,0,"+c+","+-c)+("v"+-(h-c)):d+("v"+-b);return d+("a"+c+","+c+",0,0,1,"+c+","+-c)+"Z"};l.DiagonalArea=function(a,b,c){this.g=a.append("svg:g").attr("class").string("diagonal");this.diagonal=p.Diagonal.forArray().projection(function(a){return[a[1],
a[0]]});this.area=this.g.append("svg:path").attr("class").string("diagonal-fill"+(null==b?"":" "+b));this.before=this.g.append("svg:path").attr("class").string("diagonal-stroke before"+(null==c?"":" "+c));this.after=this.g.append("svg:path").attr("class").string("diagonal-stroke after"+(null==c?"":" "+c))};i["rg.svg.widget.DiagonalArea"]=l.DiagonalArea;l.DiagonalArea.__name__=["rg","svg","widget","DiagonalArea"];l.DiagonalArea.prototype={update:function(a,b,c,d,e,h){var f=this.diagonal.diagonal([b,
a,d,c]),a=this.diagonal.diagonal([d+h,c,b+e,a]),b=f+"L"+u.substr(a,1,null)+"z";this.before.attr("d").string(f);this.after.attr("d").string(a);this.area.attr("d").string(b)},addClass:function(a){this.g.classed().add(a)},after:null,before:null,area:null,diagonal:null,g:null,__class__:l.DiagonalArea};l.ElbowArea=function(a,b,c){this.g=a.append("svg:g").attr("class").string("elbow");this.area=this.g.append("svg:path").attr("class").string("elbow-fill"+(null==b?"":" "+b));this.outer=this.g.append("svg:path").attr("class").string("elbow-stroke outer"+
(null==c?"":" "+c));this.inner=this.g.append("svg:path").attr("class").string("elbow-stroke inner"+(null==c?"":" "+c))};i["rg.svg.widget.ElbowArea"]=l.ElbowArea;l.ElbowArea.__name__=["rg","svg","widget","ElbowArea"];l.ElbowArea.prototype={update:function(a,b,c,d,e,h,f,g){null==g&&(g=10);null==f&&(f=0);null==h&&(h=16);null==e&&(e=3);if(0!=b){var i="",k="",j=0>b?Math.max(h,b):Math.min(h,b);switch(a[1]){case 0:i="M"+(f+c+e)+","+(d+e+g)+"L"+(f+c+e)+","+(d+e)+"A"+Math.abs(e)+","+Math.abs(e)+" 0 0,0 "+
(f+c)+","+d+"L"+c+","+d;k="M"+c+","+(d-b)+"L"+(f+c)+","+(d-b)+"A"+Math.abs(j)+","+Math.abs(j)+" 0 0,1 "+(f+c+j)+","+(d-b+j)+"L"+(f+c+j)+","+(d+g+e);break;case 3:this.update(l.Orientation.RightBottom,-b,c,d,-e,-h,-f,-g);return}a=k+"L"+u.substr(i,1,null)+"z";this.inner.attr("d").string(i);this.outer.attr("d").string(k);this.area.attr("d").string(a)}},addClass:function(a){this.g.classed().add(a)},inner:null,outer:null,area:null,g:null,__class__:l.ElbowArea};l.Orientation={__ename__:["rg","svg","widget",
"Orientation"],__constructs__:"RightBottom,LeftBottom,RightTop,LeftTop,BottomRight,BottomLeft,TopRight,TopLeft".split(",")};l.Orientation.RightBottom=["RightBottom",0];l.Orientation.RightBottom.toString=q;l.Orientation.RightBottom.__enum__=l.Orientation;l.Orientation.LeftBottom=["LeftBottom",1];l.Orientation.LeftBottom.toString=q;l.Orientation.LeftBottom.__enum__=l.Orientation;l.Orientation.RightTop=["RightTop",2];l.Orientation.RightTop.toString=q;l.Orientation.RightTop.__enum__=l.Orientation;l.Orientation.LeftTop=
["LeftTop",3];l.Orientation.LeftTop.toString=q;l.Orientation.LeftTop.__enum__=l.Orientation;l.Orientation.BottomRight=["BottomRight",4];l.Orientation.BottomRight.toString=q;l.Orientation.BottomRight.__enum__=l.Orientation;l.Orientation.BottomLeft=["BottomLeft",5];l.Orientation.BottomLeft.toString=q;l.Orientation.BottomLeft.__enum__=l.Orientation;l.Orientation.TopRight=["TopRight",6];l.Orientation.TopRight.toString=q;l.Orientation.TopRight.__enum__=l.Orientation;l.Orientation.TopLeft=["TopLeft",7];
l.Orientation.TopLeft.toString=q;l.Orientation.TopLeft.__enum__=l.Orientation;l.GeoMap=function(a,b){var c=this;this.g=a.append("svg:g").attr("class").string("map");this.projection=b;this.map=new L.StringMap;this.ready=!1;this.onReady=new Zb;this.onReady.addOnce(function(){c.ready=!0})};i["rg.svg.widget.GeoMap"]=l.GeoMap;l.GeoMap.__name__=["rg","svg","widget","GeoMap"];l.GeoMap.loadJsonp=function(a,b){Tb.get(a,b,null,null,null)};l.GeoMap.loadJsonAjax=function(a,b){var c=new Ac(a);c.onData=function(a){a=
aa.Json.decode(a);b(a)};c.onError=function(b){throw new H.Error("unable to load JSON file '{0}': {1}",[a,b],null,{fileName:"GeoMap.hx",lineNumber:90,className:"rg.svg.widget.GeoMap",methodName:"loadJsonAjax"});};c.request(!1)};l.GeoMap.prototype={set_className:function(a){this.g.attr("class").string("map"+(null==a?"":" "+a));return a},handlerClick:null,handlerDataPointOver:null,onClick:function(a){this.handlerClick(a,this.click)},onMouseOver:function(a,b){this.handlerDataPointOver(b,a,this.labelDataPointOver)},
draw:function(a){var b=this,c=null!=this.mapping?function(a){return j.hasField(b.mapping,a)?j.field(b.mapping,a):a}:function(a){return a},d=new p.PathGeoJson;d.set_projection(this.projection);switch(a.type){case "FeatureCollection":for(var e=0,h=a.features.length;e<h;){var f=e++,f=a.features[f],g=d.centroid(f.geometry),i="Point"==f.geometry.type?this.g.append("svg:circle").attr("cx")["float"](g[0]).attr("cy")["float"](g[1]).attr("r")["float"](5):this.g.append("svg:path").attr("d").string(d.path(f.geometry)),
k={};k.$centroid=g;k.$data=f.properties;null!=f.id&&this.map.set(c(f.id),{svg:i,dp:k});if(null!=this.labelDataPointOver)i.onNode("mouseover",function(a,b){return function(c,d){return a(b,c,d)}}(v(this,this.onMouseOver),k));if(null!=this.click)i.onNode("click",function(a,b){return function(c,d){return a(b,c,d)}}(v(this,this.onClick),k))}break;case "MultiPoint":case "MultiLineString":case "MultiPolygon":case "GeometryCollection":throw new H.Error("the type '{0}' is not implemented yet",[a.type],null,
{fileName:"GeoMap.hx",lineNumber:133,className:"rg.svg.widget.GeoMap",methodName:"draw"});default:this.g.append("svg:path").attr("d").string(d.path(a))}this.onReady.dispatch()},loadGeoJson:function(a,b,c){var d=this,e=c?l.GeoMap.loadJsonp:l.GeoMap.loadJsonAjax;null==b?e(a,v(this,this.draw)):e(b,function(b){d.mapping=b;e(a,v(d,d.draw))})},load:function(a,b,c,d){switch(b){case "geojson":this.loadGeoJson(a,c,d);break;default:new H.Error("unsupported geographic format '{0}'",null,b,{fileName:"GeoMap.hx",
lineNumber:59,className:"rg.svg.widget.GeoMap",methodName:"load"})}},g:null,projection:null,mapping:null,ready:null,colorMode:null,radius:null,labelDataPointOver:null,labelDataPoint:null,click:null,onReady:null,map:null,__class__:l.GeoMap};l.GridAnchor={__ename__:["rg","svg","widget","GridAnchor"],__constructs__:"TopLeft,Top,TopRight,Left,Center,Right,BottomLeft,Bottom,BottomRight".split(",")};l.GridAnchor.TopLeft=["TopLeft",0];l.GridAnchor.TopLeft.toString=q;l.GridAnchor.TopLeft.__enum__=l.GridAnchor;
l.GridAnchor.Top=["Top",1];l.GridAnchor.Top.toString=q;l.GridAnchor.Top.__enum__=l.GridAnchor;l.GridAnchor.TopRight=["TopRight",2];l.GridAnchor.TopRight.toString=q;l.GridAnchor.TopRight.__enum__=l.GridAnchor;l.GridAnchor.Left=["Left",3];l.GridAnchor.Left.toString=q;l.GridAnchor.Left.__enum__=l.GridAnchor;l.GridAnchor.Center=["Center",4];l.GridAnchor.Center.toString=q;l.GridAnchor.Center.__enum__=l.GridAnchor;l.GridAnchor.Right=["Right",5];l.GridAnchor.Right.toString=q;l.GridAnchor.Right.__enum__=
l.GridAnchor;l.GridAnchor.BottomLeft=["BottomLeft",6];l.GridAnchor.BottomLeft.toString=q;l.GridAnchor.BottomLeft.__enum__=l.GridAnchor;l.GridAnchor.Bottom=["Bottom",7];l.GridAnchor.Bottom.toString=q;l.GridAnchor.Bottom.__enum__=l.GridAnchor;l.GridAnchor.BottomRight=["BottomRight",8];l.GridAnchor.BottomRight.toString=q;l.GridAnchor.BottomRight.__enum__=l.GridAnchor;l.GridAnchors=function(){};i["rg.svg.widget.GridAnchors"]=l.GridAnchors;l.GridAnchors.__name__=["rg","svg","widget","GridAnchors"];l.GridAnchors.parse=
function(a){switch(a.toLowerCase()){case "topleft":a=l.GridAnchor.TopLeft;break;case "top":a=l.GridAnchor.Top;break;case "topright":a=l.GridAnchor.TopRight;break;case "left":a=l.GridAnchor.Left;break;case "center":a=l.GridAnchor.Center;break;case "right":a=l.GridAnchor.Right;break;case "bottomleft":a=l.GridAnchor.BottomLeft;break;case "bottom":a=l.GridAnchor.Bottom;break;case "bottomright":a=l.GridAnchor.BottomRight;break;default:a=l.GridAnchor.Center}return a};l.HookConnector=function(a,b){this.g=
a.append("svg:g").attr("class").string("hook");this.line=this.g.append("svg:path").attr("class").string("hook-stroke line"+(null==b?"":" "+b))};i["rg.svg.widget.HookConnector"]=l.HookConnector;l.HookConnector.__name__=["rg","svg","widget","HookConnector"];l.HookConnector.lineTo=function(a,b){return"L"+a+","+b};l.HookConnector.quarterTo=function(a,b,c){return"A"+Math.abs(c)+","+Math.abs(c)+" 0 0,"+(0>c?0:1)+" "+a+","+b};l.HookConnector.prototype={createPath:function(a,b,c,d,e,h,f,g,i){var k;k="M"+
a+","+b+l.HookConnector.lineTo(a+h-g,b);k+=l.HookConnector.quarterTo(a+h,b+i,g);k+=l.HookConnector.lineTo(a+h,e-i);k+=l.HookConnector.quarterTo(a+h-g,e,g);k+=l.HookConnector.lineTo(c-f+g,e);k+=l.HookConnector.quarterTo(c-f,e-i,g);k+=l.HookConnector.lineTo(c-f,d+i);k+=l.HookConnector.quarterTo(c-f+g,d,g);return k+=l.HookConnector.lineTo(c,d)},update:function(a,b,c,d,e,h,f){a=this.createPath(a,b,c,d,e,h,f,5,5);this.line.attr("d").string(a)},addClass:function(a){this.g.classed().add(a)},line:null,g:null,
__class__:l.HookConnector};l.HookConnectorArea=function(a,b,c){this.g=a.append("svg:g").attr("class").string("hook-area");this.area=this.g.append("svg:path").attr("class").string("hook-area-fill"+(null==b?"":" "+b));this.upper=this.g.append("svg:path").attr("class").string("hook-area-stroke upper"+(null==c?"":" "+c));this.lower=this.g.append("svg:path").attr("class").string("hook-area-stroke lower"+(null==c?"":" "+c))};i["rg.svg.widget.HookConnectorArea"]=l.HookConnectorArea;l.HookConnectorArea.__name__=
["rg","svg","widget","HookConnectorArea"];l.HookConnectorArea.lineTo=function(a,b){return"L"+a+","+b};l.HookConnectorArea.quarterTo=function(a,b,c){return"A"+Math.abs(c)+","+Math.abs(c)+" 0 0,"+(0>c?0:1)+" "+a+","+b};l.HookConnectorArea.prototype={createPath:function(a,b,c,d,e,h,f,g,i){var k;k="M"+a+","+b+l.HookConnectorArea.lineTo(a+h-g,b);k+=l.HookConnectorArea.quarterTo(a+h,b+i,g);k+=l.HookConnectorArea.lineTo(a+h,e-i);k+=l.HookConnectorArea.quarterTo(a+h-g,e,g);k+=l.HookConnectorArea.lineTo(c-
f+g,e);k+=l.HookConnectorArea.quarterTo(c-f,e-i,g);k+=l.HookConnectorArea.lineTo(c-f,d+i);k+=l.HookConnectorArea.quarterTo(c-f+g,d,g);return k+=l.HookConnectorArea.lineTo(c,d)},update:function(a,b,c,d,e,h,f,g){var i=Math.min(5,e),k=this.createPath(a,b,c,d,b>h?h:h+e,f+e,g+e,e,e),a=this.createPath(c,d+e,a,b+e,b>h?h-e:h,-g,-f,-i,i);this.upper.attr("d").string(k);this.lower.attr("d").string(a);this.area.attr("d").string(k+"L"+u.substr(a,1,null)+"z")},addClass:function(a){this.g.classed().add(a)},lower:null,
upper:null,area:null,g:null,__class__:l.HookConnectorArea};l.Label=function(a,b,c,d){null==b&&(b=!0);this.shadow=c;this.outline=d;this.g=a.append("svg:g").attr("class").string("label");if(c)this.gshadow=this.g.append("svg:g").attr("transform").string("translate(0,0)"),this.gshadowrot=this.gshadow.append("svg:g"),this.tshadow=this.gshadowrot.append("svg:text").attr("class").string("shadow"+(d?"":" nooutline"));this.gtext=this.g.append("svg:g");if(d)this.toutline=this.gtext.append("svg:text").attr("class").string("outline"+
(c?"":" noshadow"));a=S.addIf(S.addIf(["text"],!d,"nooutline"),!c,"noshadow");this.ttext=this.gtext.append("svg:text").attr("class").string(a.join(" "));this.dontFlip=b;d?this.setShadowOffset(1,1.25):this.setShadowOffset(0.5,0.5);this.angle=this.y=this.x=0;this.set_orientation(l.LabelOrientation.FixedAngle(0));this.set_anchor(l.GridAnchor.Center);this.visible=!0};i["rg.svg.widget.Label"]=l.Label;l.Label.__name__=["rg","svg","widget","Label"];l.Label.prototype={destroy:function(){this.g.remove()},
reanchor:function(){if(null!=this.anchor){var a=this.getBB(),b,c,d=this.anchor;if(this.dontFlip)switch(this.orientation[1]){case 1:90<this.angle&&270>this.angle&&(d=function(){var a;switch(d[1]){case 0:a=l.GridAnchor.BottomRight;break;case 1:a=l.GridAnchor.Bottom;break;case 2:a=l.GridAnchor.BottomLeft;break;case 3:a=l.GridAnchor.Right;break;case 4:a=l.GridAnchor.Center;break;case 5:a=l.GridAnchor.Left;break;case 6:a=l.GridAnchor.TopRight;break;case 7:a=l.GridAnchor.Top;break;case 8:a=l.GridAnchor.TopLeft}return a}(this));
break;case 2:180<this.angle&&(d=function(){var a;switch(d[1]){case 0:a=l.GridAnchor.BottomRight;break;case 1:a=l.GridAnchor.Bottom;break;case 2:a=l.GridAnchor.BottomLeft;break;case 3:a=l.GridAnchor.Right;break;case 4:a=l.GridAnchor.Center;break;case 5:a=l.GridAnchor.Left;break;case 6:a=l.GridAnchor.TopRight;break;case 7:a=l.GridAnchor.Top;break;case 8:a=l.GridAnchor.TopLeft}return a}(this))}switch(d[1]){case 0:b=0;c=a.height;break;case 1:b=-a.width/2;c=a.height;break;case 2:b=-a.width;c=a.height;
break;case 3:b=0;c=a.height/2;break;case 4:b=-a.width/2;c=a.height/2;break;case 5:b=-a.width;c=a.height/2;break;case 6:c=b=0;break;case 7:b=-a.width/2;c=0;break;case 8:b=-a.width,c=0}if(this.outline)this.toutline.attr("x")["float"](b+0.5).attr("y")["float"](c-1.5);this.ttext.attr("x")["float"](b+0.5).attr("y")["float"](c-1.5);if(this.shadow)this.tshadow.attr("x")["float"](b+0.5).attr("y")["float"](c-1.5)}},getBB:function(){var a=this.ttext.node(),b=this.ttext.style("font-size").getFloat();if(null==
b||0>=b)try{b=a.getExtentOfChar("A").height}catch(c){b=O.selectNode(a).style("height").getFloat()}var d;try{d=a.getComputedTextLength()}catch(e){d=O.selectNode(a).style("width").getFloat()}return{width:d,height:b}},set_anchor:function(a){this.anchor=a;this.reanchor();return a},set_orientation:function(a){this.orientation=a;this.place(this.x,this.y,this.angle);return a},set_text:function(a){this.text=a;this.outline&&this.toutline.text().string(a);this.ttext.text().string(a);this.shadow&&this.tshadow.text().string(a);
this.reanchor();return a},setShadowOffset:function(a,b){this.shadowOffsetX=a;this.shadowOffsetY=b;this.shadow&&this.gshadow.attr("transform").string("translate("+this.shadowOffsetX+","+this.shadowOffsetY+")")},place:function(a,b,c){this.x=Math.isNaN(a)?0:a;this.y=Math.isNaN(b)?0:b;this.angle=c%360;0>this.angle&&(this.angle+=360);this.g.attr("transform").string("translate("+this.x+","+this.y+")");a=this.orientation;switch(a[1]){case 0:c=a[2];this.gtext.attr("transform").string("rotate("+c+")");break;
case 1:this.dontFlip&&90<this.angle&&270>this.angle&&(c+=180);this.gtext.attr("transform").string("rotate("+c+")");break;case 2:this.dontFlip&&180<this.angle&&(c-=180),this.gtext.attr("transform").string("rotate("+(-90+c)+")")}this.shadow&&this.gshadowrot.attr("transform").string(this.gtext.attr("transform").get());this.reanchor()},getSize:function(){try{return this.g.node().getBBox()}catch(a){return{width:0,height:0}}},addClass:function(a){this.g.classed().add(a)},_toggleVisibility:function(){this.g.style("opacity")["float"](this.visible?
1:0)},hide:function(){if(this.visible)this.visible=!1,this._toggleVisibility()},show:function(){if(!this.visible)this.visible=!0,this._toggleVisibility()},tshadow:null,toutline:null,ttext:null,gshadowrot:null,gtext:null,gshadow:null,g:null,visible:null,outline:null,shadow:null,shadowOffsetY:null,shadowOffsetX:null,dontFlip:null,angle:null,y:null,x:null,anchor:null,orientation:null,text:null,__class__:l.Label,__properties__:{set_text:"set_text",set_orientation:"set_orientation",set_anchor:"set_anchor"}};
l.LabelOrientation={__ename__:["rg","svg","widget","LabelOrientation"],__constructs__:["FixedAngle","Aligned","Orthogonal"]};l.LabelOrientation.FixedAngle=function(a){a=["FixedAngle",0,a];a.__enum__=l.LabelOrientation;a.toString=q;return a};l.LabelOrientation.Aligned=["Aligned",1];l.LabelOrientation.Aligned.toString=q;l.LabelOrientation.Aligned.__enum__=l.LabelOrientation;l.LabelOrientation.Orthogonal=["Orthogonal",2];l.LabelOrientation.Orthogonal.toString=q;l.LabelOrientation.Orthogonal.__enum__=
l.LabelOrientation;l.LabelOrientations=function(){};i["rg.svg.widget.LabelOrientations"]=l.LabelOrientations;l.LabelOrientations.__name__=["rg","svg","widget","LabelOrientations"];l.LabelOrientations.parse=function(a){switch(a.split(":")[0].toLowerCase()){case "fixed":case "angle":a=t.parseFloat(a.split(":")[1]);if(null==a||!Math.isFinite(a))throw new H.Error("when 'fixed' is used a number should follow the 'dash' character",null,null,{fileName:"LabelOrientations.hx",lineNumber:27,className:"rg.svg.widget.LabelOrientations",
methodName:"parse"});return l.LabelOrientation.FixedAngle(a);case "ortho":case "orthogonal":return l.LabelOrientation.Orthogonal;case "align":case "aligned":return l.LabelOrientation.Aligned;case "horiz":case "horizontal":return l.LabelOrientation.FixedAngle(0);default:throw new H.Error("invalid filter orientation '{0}'",null,a,{fileName:"LabelOrientations.hx",lineNumber:36,className:"rg.svg.widget.LabelOrientations",methodName:"parse"});}};l.Sensible=function(){};i["rg.svg.widget.Sensible"]=l.Sensible;
l.Sensible.__name__=["rg","svg","widget","Sensible"];l.Sensible.sensibleZone=function(a,b,c,d,e){if(!(null==c&&null==d)){var h=a.append("svg:rect").attr("class").string("sensible").attr("x")["float"](0).attr("y")["float"](0).attr("width")["float"](b.frame.width).attr("height")["float"](b.frame.height).attr("fill").string("#000").style("fill-opacity")["float"](0);if(null!=d)h.onNode("mousemove",function(){var b=l.Sensible.findDataNodeNearMouse(a,e);0<b.length?(d(b[0]),null!=c&&h.classed().add("pointer")):
null!=c&&h.classed().remove("pointer")});if(null!=c){if(null==d)h.onNode("mousemove",function(){0<l.Sensible.findDataNodeNearMouse(a,e).length?h.classed().add("pointer"):h.classed().remove("pointer")});h.onNode("click",function(){var b=l.Sensible.findDataNodeNearMouse(a,e);0<b.length&&c(b[0])})}}};l.Sensible.findDataNodeNearMouse=function(a,b){var c=O.event;return l.Sensible.findDataNodesNear({x:c.clientX,y:c.clientY},a,b)};l.Sensible.findDataNodesNear=function(a,b,c){var b=b.selectAll(".rgdata"),
d=[],e=c*c;b.eachNode(function(b){var c=b.getBoundingClientRect(),f=a.x-(c.left+c.width/2),c=a.y-(c.top+c.height/2),f=f*f+c*c;f>e||d.push({node:b,dist:f})});d.sort(function(a,b){return G.compare(a.dist,b.dist)});return I.map(u.iter(d),function(a){return a.node})};ac=void 0;rd=void 0;X=void 0;Aa=void 0;ka=void 0;sd=void 0;td=void 0;xa=void 0;T=void 0;ud=void 0;Tb=void 0;bc=void 0;sd=function(a){try{this.tests=bc.decrypt(a).split(",")}catch(b){}};i["rg.util.Auth"]=sd;sd.__name__=["rg","util","Auth"];
sd.prototype={authorizeMany:function(a){for(var b=0;b<a.length;){var c=a[b];++b;if(this.authorize(c))return!0}return!1},authorizeOne:function(a,b){return"*."==a.substring(0,2)?C.endsWith("."+b,a.substring(1)):b==a},authorize:function(a){for(var b=0,c=this.tests;b<c.length;){var d=c[b];++b;if(this.authorizeOne(a,d))return!0}return!1},tests:null,__class__:sd};td=function(a){this.handler=a;this.actions=[];this.pos=0;this.executor=v(this,this.execute)};i["rg.util.ChainedExecutor"]=td;td.__name__=["rg",
"util","ChainedExecutor"];td.prototype={executor:null,execute:function(a){if(this.pos==this.actions.length)this.pos=0,this.handler(a);else this.actions[this.pos++](a,v(this,this.execute))},addAction:function(a){this.actions.push(a)},pos:null,actions:null,handler:null,__class__:td};xa=function(){};i["rg.util.DataPoints"]=xa;xa.__name__=["rg","util","DataPoints"];xa.partition=function(a,b,c){null==c&&(c="default");for(var d=new yb.HashList,e,h=0;h<a.length;){var f=a[h];++h;e=j.field(f,b);e=null==e?
c:ca.string(e);var g=d.get(e);null==g&&(g=[],d.set(e,g));g.push(f)}return d.array()};xa.filterByIndependents=function(a,b){for(var c=0;c<b.length;){var d=[b[c]];++c;var e=[d[0].axis.range(d[0].min(),d[0].max())],a=a.filter(function(a,b){return function(c){c=j.field(c,b[0].type);return null==c?!1:S.exists(a[0],c)}}(e,d))}return a};xa.filterByDependents=function(a,b){for(var c=0;c<b.length;){var d=[b[c]];++c;a=a.filter(function(a){return function(b){return null==j.field(b,a[0].type)?!1:!0}}(d))}return a};
xa.valueAlt=function(a,b,c){var d;return null==(d=j.field(a,b))?c:d};xa.values=function(a,b){return a.map(function(a){return j.field(a,b)}).filter(function(a){return null!=a})};xa.id=function(a,b){for(var c=ra.clone(a),d=0;d<b.length;){var e=b[d];++d;j.deleteField(c,e)}return Mb.Md5.encode(ca.string(c))};bc=function(){};i["rg.util.Decrypt"]=bc;bc.__name__=["rg","util","Decrypt"];bc.decrypt=function(a){var b=new ya.RSAEncrypt(bc.modulus,bc.publicExponent),a=Bc.Base64.decode(a);try{return b.verify(a).toString()}catch(c){return null}};
rd=function(){};i["rg.util.Js"]=rd;rd.__name__=["rg","util","Js"];rd.findScript=function(a){var b=ea.document.getElementsByTagName("SCRIPT");if("string"==typeof a)for(var c=0,d=b.length;c<d;){var e=c++,e=b[e],h=e.getAttribute("src");if(null!=h&&0<=h.indexOf(a))return e}else{c=0;for(d=b.length;c<d;)if(e=c++,e=b[e],h=e.getAttribute("src"),null!=h&&h.match(a))return e}return null};Tb=function(){};i["rg.util.Jsonp"]=Tb;Tb.__name__=["rg","util","Jsonp"];Tb.get=function(a,b,c,d,e){var h=Tb.get_api;h(a,
{success:b,failure:c},d,e)};Tb.request_api=function(a,b,c,d,e,h){null==e&&(e={});b=ac.addQueryParameters(b,e);null==h&&(h={});var f=d.success,g=null==d.failure?function(){}:d.failure,i="ReportGridChartsJsonpCallback"+(214748363*Math.random()|0),k=ea.document.head;null==k&&(k=ea.document.getElementsByTagName("head")[0]);ea.window[i]=function(a,b){200==b.status.code||"OK"==b.status.code?f(a):g(b.status.code,b.status.reason);k.removeChild(ea.document.getElementById(i));ea.window[i]=void 0;try{delete window[i]}catch(c){}};
d={};d.method=a;if(0<j.fields(h).length)d.headers=aa.Json.encode(h);d.callback=i;if(null!=c)d.content=aa.Json.encode(c);a=ac.addQueryParameters(b,d);b=ea.document.createElement("SCRIPT");b.setAttribute("type","text/javascript");b.setAttribute("src",a);b.setAttribute("id",i);k.appendChild(b)};Tb.get_api=function(a,b,c,d){Tb.request_api("GET",a,null,b,c,d)};X=function(){};i["rg.util.Periodicity"]=X;X.__name__=["rg","util","Periodicity"];X.defaultRange=function(a){switch(a){case "eternity":case "single":a=
[0,0];break;case "minute":a=X.parsePair("6 hours ago","now");break;case "hour":a=X.parsePair("2 days ago","now");break;case "day":a=X.parsePair("14 days ago","today");break;case "month":a=X.parsePair("6 months ago","today");break;case "year":a=X.parsePair("6 years ago","today");break;default:throw"invalid periodicity: "+a;}return a};X.unitsBetween=function(a,b,c){return function(d){switch(c){case "eternity":case "single":d=1;break;case "minute":d=Math.floor((b-a)/6E4);break;case "hour":d=Math.floor((b-
a)/36E5);break;case "day":d=Math.floor((b-a)/864E5);break;case "week":d=Math.floor((b-a)/6048E5);break;case "month":d=function(c){var d=function(){var b=new Date;b.setTime(a);return b}(c),f=function(){var a=new Date;a.setTime(b);return a}(c),c=d.getFullYear(),g=f.getFullYear(),d=d.getMonth(),f=f.getMonth();return 12*(g-c)+(f-d)}(d);break;case "year":d=Math.floor(X.unitsBetween(a,b,"month")/12);break;default:throw"invalid periodicity: "+c;}return d}(this)};X.units=function(a,b){var c=X.unitsBetween(0,
a,b),d;switch(b){case "hour":d=1;break;default:d=0}return c+d};X.range=function(a,b,c){var d=1E3;switch(c){case "eternity":case "single":return[0];case "minute":d=6E4;break;case "hour":d=36E5;break;case "day":for(var d=ja.snap(a,"day"),e=ja.snap(b,"day"),b=[];d<=e;)b.push(d),d=ja.snap(d+864E5,"day");return b;case "week":d=6048E5;break;case "month":d=X.dateUtc(a);e=X.dateUtc(b);a=d.getFullYear();c=e.getFullYear();d=d.getMonth();e=e.getMonth();for(b=[];a<c||a==c&&d<=e;)b.push((new Date(a,d,1,0,0,0)).getTime()),
d++,11<d&&(d=0,a++);return b;case "year":return b=P.range(X.dateUtc(a).getFullYear(),X.dateUtc(b).getFullYear()+1,1).map(function(a){return(new Date(a,0,1,0,0,0)).getTime()})}return G.range(a,b+d,d)};X.format=function(a,b){switch(a){case "eternity":return"all time";case "single":return"period";case "minute":return m.FormatDate.timeShort(function(){var a=new Date;a.setTime(b);return a}(this));case "hour":return m.FormatDate.hourShort(function(){var a=new Date;a.setTime(b);return a}(this));case "day":case "week":return m.FormatDate.dateShort(function(){var a=
new Date;a.setTime(b);return a}(this));case "month":return m.FormatDate.yearMonth(function(){var a=new Date;a.setTime(b);return a}(this));case "year":return m.FormatDate.year(function(){var a=new Date;a.setTime(b);return a}(this));default:return a+": "+b}};X.smartFormat=function(a,b){switch(a){case "eternity":case "single":return"all time";case "minute":return X.firstInSeries("hour",b)?m.FormatDate.timeShort(function(){var a=new Date;a.setTime(b);return a}(this)):m.FormatDate.format("%i",function(){var a=
new Date;a.setTime(b);return a}(this));case "hour":return X.firstInSeries("day",b)?m.FormatDate.format("%b %e",X.dateUtc(b)):m.FormatDate.hourShort(function(){var a=new Date;a.setTime(b);return a}(this));case "day":return X.firstInSeries("month",b)?m.FormatDate.format("%b %e",X.dateUtc(b)):m.FormatDate.format("%e",X.dateUtc(b));case "week":var c=X.dateUtc(b);return 7>=c.getDate()?m.FormatDate.format("%b %e",c):m.FormatDate.format("%e",c);case "month":return X.firstInSeries("year",b)?m.FormatDate.year(X.dateUtc(b)):
m.FormatDate.format("%b",X.dateUtc(b));case "year":return m.FormatDate.year(X.dateUtc(b));default:return a+": "+t.string(function(){var a=new Date;a.setTime(b);return a}(this))}};X.firstInSeries=function(a,b){return function(c){switch(a){case "eternity":case "single":c=0==b;break;case "minute":c=0==b%6E4;break;case "hour":c=0==b%36E5;break;case "day":c=function(){var a=new Date;a.setTime(b);return 0==a.getHours()&&0==a.getMinutes()&&0==a.getSeconds()}(c);break;case "week":c=function(){var a=new Date;
a.setTime(b);return 0==a.getDay()}(c);break;case "month":c=function(){var a=new Date;a.setTime(b);return 1==a.getDate()}(c);break;case "year":c=function(){var a=new Date;a.setTime(b);return 1==a.getDate()&&0==a.getMonth()}(c);break;default:c=!1}return c}(this)};X.parsePair=function(a,b){return[s.DateParser.parse(a).getTime(),s.DateParser.parse(b).getTime()]};X.dateUtc=function(a){var b=function(){var b=new Date;b.setTime(a);return b}(this).getTimezoneOffset();0>b&&(b=0);return function(){var c=new Date;
c.setTime(a+6E4*b);return c}(this)};X.isValidGroupBy=function(a){return S.exists(X.validGroupValues,a)};Aa=function(){};i["rg.util.Properties"]=Aa;Aa.__name__=["rg","util","Properties"];Aa.isTime=function(a){return 0<=a.indexOf("time:")};Aa.periodicity=function(a){return u.substr(a,a.indexOf("time:")+5,null)};Aa.humanize=function(a){return ka.humanize(a)};Aa.formatValue=function(a,b){var c=j.field(b,a);if(null==c)return c;if(0<=a.indexOf("time:")){var d=u.substr(a,a.indexOf("time:")+5,null);return X.format(d,
ja.snap(c,d))}return ka.humanize(c)};ud=function(){};i["rg.util.RG"]=ud;ud.__name__=["rg","util","RG"];ud.getTokenId=function(){try{return J.rtrim(J.ltrim(ReportGrid.$.Config.tokenId,'"'),'"')}catch(a){return null}};T=function(){};i["rg.util.RGColors"]=T;T.__name__=["rg","util","RGColors"];T.parse=function(a,b){try{var c=f.Colors.parse(a);if(null!=c)return c}catch(d){}return f.Colors.parse(b)};T.applyLightness=function(a,b,c){null==c&&(c=1/Math.abs(b));return 0<=b?f.Hsl.lighter(a,(1-c)*(1+b)):f.Hsl.darker(a,
(1-c)*(1-b))};T.extractColor=function(a){return a.__rgcolor__};T.storeColor=function(a,b){a.__rgcolor__=b};T.storeColorForSelection=function(a,b,c){null==b&&(b="fill");a.eachNode(function(a){var e=null==c?O.selectNode(la.current).style(b).get():c;T.storeColor(a,e)})};ka=function(){};i["rg.util.RGStrings"]=ka;ka.__name__=["rg","util","RGStrings"];ka.humanize=function(a){if(B.__instanceof(a,le))return P.format(a);if(B.__instanceof(a,ae))return G.format(a);a=t.string(a);if(ka.range.match(a)){var a=ka.range.matched(1),
b=ka.range.matched(2),a=null!=a?P.canParse(a)?P.format(P.parse(a)):G.format(G.parse(a)):"",b=null!=b?P.canParse(b)?P.format(P.parse(b)):G.format(G.parse(b)):"";return ka.hstring(ka.range.matchedLeft())+a+"-"+b+ka.hstring(ka.range.matchedRight())}return ka.hstring(a)};ka.hstring=function(a){return J.ucwords(J.humanize(a))};ac=function(){};i["rg.util.Urls"]=ac;ac.__name__=["rg","util","Urls"];ac.addQueryParameters=function(a,b){for(var c=0>a.indexOf("?")?"?":"&",d=[],e=0,h=j.fields(b);e<h.length;){var f=
h[e];++e;var g=t.string(j.field(b,f));d.push(f+"="+C.urlEncode(g))}return 0==d.length?a:a+c+d.join("&")};ac.parseQueryParameters=function(a){var b=a.indexOf("?");if(0>b)return{};for(var a=u.substr(a,b+1,null).split("&"),b={},c=0;c<a.length;){var d=a[c];++c;var e=d.split("="),d=e[0],e=null==e[1]?null:C.urlDecode(e[1]);b[d]=e}return b};Qb=function(a){this.container=a};Ic=void 0;Jc=void 0;ha=void 0;Kc=void 0;Lc=void 0;Mc=void 0;Nc=void 0;Oc=void 0;Pc=void 0;mb=void 0;Qc=void 0;Rc=void 0;Ea=void 0;Fa=
void 0;ub=void 0;i["rg.visualization.Visualization"]=Qb;Qb.__name__=["rg","visualization","Visualization"];Qb.prototype={addError:function(a){this.error.add(a)},addReady:function(a){this.ready.add(a);this.hasRendered&&a()},addReadyOnce:function(a){this.ready.addOnce(a);this.hasRendered&&a()},_feedData:function(){},feedData:function(a){try{this._feedData(a)}catch(b){this.error.dispatch(b)}},_init:function(){throw new H.AbstractMethod({fileName:"Visualization.hx",lineNumber:54,className:"rg.visualization.Visualization",
methodName:"_init"});},init:function(){try{this._init()}catch(a){this.error.dispatch(a)}},setVariables:function(a,b,c){var d=this;this.variables=a;this.independentVariables=b;this.dependentVariables=c;this.hasRendered=!1;this.ready=new Zb;this.ready.addOnce(function(){d.hasRendered=!0});this.error=new Fc;this.error.addOnce(function(){d.ready.dispatch()})},hasRendered:null,error:null,ready:null,container:null,variables:null,dependentVariables:null,independentVariables:null,__class__:Qb};Ea=function(a){Qb.call(this,
a.container);this.layout=a};i["rg.visualization.VisualizationSvg"]=Ea;Ea.__name__=["rg","visualization","VisualizationSvg"];Ea.__super__=Qb;Ea.prototype=A(Qb.prototype,{layout:null,baseChart:null,__class__:Ea});Fa=function(a){Ea.call(this,a)};i["rg.visualization.VisualizationCartesian"]=Fa;Fa.__name__=["rg","visualization","VisualizationCartesian"];Fa.__super__=Ea;Fa.prototype=A(Ea.prototype,{createRules:function(a,b,c){var a=this.info.displayMinorRule(b),d=this.info.displayMajorRule(b),e=this.info.displayAnchorLineRule(b);
null!=this.info.label.axis&&this.info.label.axis(b);b=null;if(a||d){b=this.layout.getPanel("main");if(null==b)return null;b=new ta.RulesOrtho(b,c);b.displayMinor=a;b.displayMajor=d;b.displayAnchorLine=e;b.init()}return b},createTickmarks:function(a,b,c){var d=this,e=this.info.displayMinorTick(b),h=this.info.displayMajorTick(b),f=this.info.displayLabelTick(b),g=this.info.displayAnchorLineTick(b),i=null!=this.info.label.axis?this.info.label.axis(b):null,k=null,j;if(e||h||f||g){j=this.layout.getContext(c);
if(null==j)return null;k=new ta.TickmarksOrtho(j.panel,j.anchor);this.setTickmarksDefaults(k,a,b,c);if(f){if(null!=this.info.label.tickmark)k.tickLabel=function(a){return d.info.label.tickmark(a,b)}}else k.displayLabel=!1;k.displayMinor=e;k.displayMajor=h;k.lengthMinor=this.info.lengthTickMinor;k.lengthMajor=this.info.lengthTickMajor;k.paddingMinor=this.info.paddingTickMinor;k.paddingMajor=this.info.paddingTickMajor;k.paddingLabel=this.info.paddingLabel;a=this.info.labelAnchor(b);if(null!=a)k.labelAnchor=
l.GridAnchors.parse(a);a=this.info.labelOrientation(b);if(null!=a)k.labelOrientation=l.LabelOrientations.parse(a);if(null!=(a=this.info.labelAngle(b)))k.labelAngle=a;k.displayAnchorLine=g}if(null!=i&&null!=(j=this.layout.getContext(c+"title")))g=(new ta.Title(j.panel,i,j.anchor,null,"axis-title")).idealHeight(),this.layout.suggestSize(c+"title",g);null!=k&&k.init();return k},setTickmarksDefaults:function(){},transformData:function(){throw new H.AbstractMethod({fileName:"VisualizationCartesian.hx",
lineNumber:167,className:"rg.visualization.VisualizationCartesian",methodName:"transformData"});},_feedData:function(a){if(0!=a.length){null!=this.title&&null!=this.info.label.title&&(this.title.set_text(this.info.label.title(this.variables,a,this.variables.map(function(a){return a.type}))),this.layout.suggestSize("title",this.title.idealHeight()));a=this.transformData(a);this.chart.setVariables(this.variables,this.independentVariables,this.dependentVariables,a);for(var b=0,c=this.ylabels.length;b<
c;){var d=b++,d=this.ylabels[d],e=this.yvariables[d.id];d.tickmarks.update(e.axis,e.min(),e.max());e=Math.round(d.tickmarks.desiredSize);this.layout.suggestSize("y"+d.id,e)}b=0;for(c=this.yrules.length;b<c;)d=b++,d=this.yrules[d],e=this.yvariables[d.id],d.rules.update(e.axis,e.min(),e.max());if(null!=this.xlabel)e=this.xvariable,this.xlabel.update(e.axis,e.min(),e.max()),e=Math.round(this.xlabel.desiredSize),this.layout.suggestSize("x",e);if(null!=this.xrule)e=this.xvariable,this.xrule.update(e.axis,
e.min(),e.max());this.chart.data(a)}},initTitle:function(){if(null!=this.info.label.title){var a=this.layout.getContext("title");if(null!=a)this.title=new ta.Title(a.panel,null,a.anchor)}},initCartesianChart:function(){this.chart.animated=this.info.animation.animated;this.chart.animationDuration=this.info.animation.duration;this.chart.animationEase=this.info.animation.ease;this.chart.click=this.info.click;this.chart.labelDataPoint=this.info.label.datapoint;this.chart.labelDataPointOver=this.info.label.datapointover;
this.chart.labelDataPointVerticalOffset=this.info.label.datapointverticaloffset;this.chart.labelDataPointOutline=this.info.label.datapointoutline;this.chart.labelDataPointShadow=this.info.label.datapointshadow;this.chart.init()},initChart:function(){throw new H.AbstractMethod({fileName:"VisualizationCartesian.hx",lineNumber:88,className:"rg.visualization.VisualizationCartesian",methodName:"initChart"});},initXAxis:function(){this.xlabel=this.createTickmarks(0,this.xvariable.type,"x");this.xrule=this.createRules(0,
this.xvariable.type,wa.Vertical)},initYAxes:function(){this.ylabels=[];this.yrules=[];for(var a=0,b=this.yvariables.length;a<b;){var c=a++,d=this.createTickmarks(c+1,this.yvariables[c].type,"y"+c),e=this.createRules(c+1,this.yvariables[c].type,wa.Horizontal);null!=d&&this.ylabels.push({id:c,tickmarks:d});null!=e&&this.yrules.push({id:c,rules:e})}},initPadding:function(){this.layout.adjustPadding()},initAxes:function(){throw new H.AbstractMethod({fileName:"VisualizationCartesian.hx",lineNumber:46,
className:"rg.visualization.VisualizationCartesian",methodName:"initAxes"});},_init:function(){this.initAxes();this.initYAxes();this.initXAxis();this.initTitle();this.initPadding();this.initChart();this.initCartesianChart()},yvariables:null,xvariable:null,title:null,yrules:null,ylabels:null,xrule:null,xlabel:null,chart:null,info:null,__class__:Fa});Kc=function(a){Fa.call(this,a)};i["rg.visualization.VisualizationBarChart"]=Kc;Kc.__name__=["rg","visualization","VisualizationBarChart"];Kc.__super__=
Fa;Kc.prototype=A(Fa.prototype,{transformData:function(a){var b=[],c=this.independentVariables[0],d=c.axis.range(c.min(),c.max());if(0<=c.type.indexOf("time:"))for(var e=Aa.periodicity(c.type),h=0;h<d.length;){var f=[d[h]];++h;for(var g=[],i=0,k=this.dependentVariables.length;i<k;){var l=i++,l=xa.filterByDependents(a,[this.dependentVariables[l]]);g.push(l.filter(function(a){return function(b){return ja.snap(j.field(b,c.type),e)==a[0]}}(f)))}b.push(g)}else for(h=0;h<d.length;){f=[d[h]];++h;g=[];i=
0;for(k=this.dependentVariables.length;i<k;)l=i++,l=xa.filterByDependents(a,[this.dependentVariables[l]]),g.push(l.filter(function(a){return function(b){return j.field(b,c.type)==a[0]}}(f)));b.push(g)}var m=null;if(null!=this.infoBar.segment.on){var n=this.infoBar.segment.on,m=new yb.Set;if(0!=this.infoBar.segment.values.length){h=0;for(k=this.infoBar.segment.values;h<k.length;)f=k[h],++h,m.add(f)}else a.forEach(function(a){m.add(j.field(a,n))});a=m.array();k=0;for(h=d.length;k<h;){l=k++;d=0;for(i=
this.dependentVariables.length;d<i;){for(var g=d++,f=b[l][g],p=[],q=0,s=a.length;q<s;)for(var r=q++,r=a[r],t=0,u=f.length;t<u;){var kb=t++,be=j.field(f[kb],n);r==be&&p.push(f[kb])}b[l][g]=p}}}return{data:b,segments:null==m?null:m.array()}},initChart:function(){var a=this,b=new n.BarChart(this.layout.getPanel(this.layout.mainPanelName));this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.stacked=this.infoBar.stacked;var c=this.infoBar.effect;switch(c[1]){case 0:b.displayGradient=!1;break;
case 1:c=c[2],b.displayGradient=!0,b.gradientLightness=c}b.padding=this.infoBar.barPadding;b.paddingAxis=this.infoBar.barPaddingAxis;b.paddingDataPoint=this.infoBar.barPaddingDataPoint;b.horizontal=this.infoBar.horizontal;b.startat=this.infoBar.startat;b.segmentProperty=this.infoBar.segment.on;this.chart=b},initAxes:function(){this.infoBar.horizontal?(this.xvariable=this.dependentVariables.map(function(a){return a})[0],this.yvariables=[this.independentVariables[0]]):(this.yvariables=this.dependentVariables.map(function(a){return a}),
this.xvariable=this.independentVariables[0])},infoBar:null,__class__:Kc});Lc=function(a){Ea.call(this,a)};i["rg.visualization.VisualizationFunnelChart"]=Lc;Lc.__name__=["rg","visualization","VisualizationFunnelChart"];Lc.__super__=Ea;Lc.prototype=A(Ea.prototype,{_feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables);a=xa.filterByIndependents(xa.filterByDependents(a,this.dependentVariables),this.independentVariables);null!=this.info.sortDataPoint&&a.sort(this.info.sortDataPoint);
null!=this.title&&(null!=this.info.label.title?(this.title.set_text(this.info.label.title(this.variables,a,this.variables.map(function(a){return a.type}))),this.layout.suggestSize("title",this.title.idealHeight())):this.layout.suggestSize("title",0));null!=this.info.sortDataPoint&&a.sort(this.info.sortDataPoint);this.chart.init();this.chart.data(a)},_init:function(){var a=this,b=this.layout.getPanel(this.layout.mainPanelName);this.baseChart=this.chart=new n.FunnelChart(b);this.chart.ready.add(function(){a.ready.dispatch()});
if(null!=this.info.label.datapoint)this.chart.labelDataPoint=this.info.label.datapoint;if(null!=this.info.label.datapoint)this.chart.labelDataPointOver=this.info.label.datapointover;if(null!=this.info.label.arrow)this.chart.labelArrow=this.info.label.arrow;if(null!=this.info.click)this.chart.click=this.info.click;this.chart.padding=this.info.padding;this.chart.flatness=this.info.flatness;b=this.info.effect;switch(b[1]){case 1:b=b[2];this.chart.displayGradient=!0;this.chart.gradientLightness=b;break;
case 0:this.chart.displayGradient=!1}this.chart.arrowSize=this.info.arrowSize;if(null!=this.info.label.title&&(b=this.layout.getContext("title"),null!=b))this.title=new ta.Title(b.panel,null,b.anchor)},chart:null,title:null,info:null,__class__:Lc});Mc=function(a){Ea.call(this,a)};i["rg.visualization.VisualizationGeo"]=Mc;Mc.__name__=["rg","visualization","VisualizationGeo"];Mc.__super__=Ea;Mc.prototype=A(Ea.prototype,{_feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables,
a);null!=this.title&&(null!=this.info.label.title?(this.title.set_text(this.info.label.title(this.variables,a,this.variables.map(function(a){return a.type}))),this.layout.suggestSize("title",this.title.idealHeight())):this.layout.suggestSize("title",0));this.chart.init();this.chart.data(a)},_init:function(){var a=this;if(null!=this.info.label.title){var b=this.layout.getContext("title");if(null==b)return;this.title=new ta.Title(b.panel,null,b.anchor)}b=this.layout.getPanel(this.layout.mainPanelName);
this.chart=new n.Geo(b);this.chart.labelOutline=this.info.labelOutline;this.chart.labelShadow=this.info.labelShadow;this.baseChart=this.chart;this.chart.ready.add(function(){a.ready.dispatch()});for(var b=new Ad,c=0,d=this.info.map;c<d.length;){var e=d[c];++c;var f=b.create(e),f=new l.GeoMap(this.chart.mapcontainer,f);f.set_className(e.classname);f.labelDataPoint=null==e.label?this.info.label.datapoint:e.label.datapoint;f.labelDataPointOver=null==e.label?this.info.label.datapointover:e.label.datapointover;
f.click=e.click;f.radius=e.radius;f.colorMode=e.colorScaleMode;f.handlerClick=(Q=this.chart,v(Q,Q.handlerClick));f.handlerDataPointOver=(Q=this.chart,v(Q,Q.handlerDataPointOver));f.mapping=e.mapping;var g=e.mappingurl;if(null!=g&&(!C.startsWith(g,"http://")||!C.startsWith(g,"https://")))g=Cb.BASE_URL_GEOJSON+g+".json"+(e.usejsonp?".js":"");f.load(e.url,e.type,g,e.usejsonp);this.chart.addMap(f,e.property)}},chart:null,title:null,info:null,__class__:Mc});Nc=function(a){Fa.call(this,a)};i["rg.visualization.VisualizationHeatGrid"]=
Nc;Nc.__name__=["rg","visualization","VisualizationHeatGrid"];Nc.__super__=Fa;Nc.prototype=A(Fa.prototype,{setTickmarksDefaults:function(a,b){if(0==b)a.labelAnchor=l.GridAnchor.Left,a.labelAngle=180},transformData:function(a){return a},initChart:function(){var a=this,b=new n.HeatGrid(this.layout.getPanel(this.layout.mainPanelName));this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.useContour=this.infoHeatGrid.contour;b.set_colorMode(this.infoHeatGrid.colorScaleMode);this.chart=b},initAxes:function(){this.xvariable=
this.independentVariables[0];this.yvariables=[this.independentVariables[1]]},infoHeatGrid:null,__class__:Nc});ub=function(a){Qb.call(this,a);a.classed().add("rg")};i["rg.visualization.VisualizationHtml"]=ub;ub.__name__=["rg","visualization","VisualizationHtml"];ub.__super__=Qb;ub.prototype=A(Qb.prototype,{__class__:ub});Jc=function(a){ub.call(this,a)};i["rg.visualization.VisualizationLeaderboard"]=Jc;Jc.__name__=["rg","visualization","VisualizationLeaderboard"];Jc.__super__=ub;Jc.prototype=A(ub.prototype,
{_feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables);this.chart.data(a)},_init:function(){var a=this;this.chart=new Ua.Leadeboard(this.container);this.chart.ready.add(function(){a.ready.dispatch()});if(null!=this.info.label.datapoint)this.chart.labelDataPoint=this.info.label.datapoint;if(null!=this.info.label.datapointover)this.chart.labelDataPointOver=this.info.label.datapointover;if(null!=this.info.label.rank)this.chart.labelRank=this.info.label.rank;
if(null!=this.info.label.value)this.chart.labelValue=this.info.label.value;this.chart.animated=this.info.animation.animated;this.chart.animationDuration=this.info.animation.duration;this.chart.animationDelay=this.info.animation.delay;this.chart.animationEase=this.info.animation.ease;this.chart.useMax=this.info.usemax;this.chart.displayBar=this.info.displaybar;this.chart.colorScale=this.info.colorscale;if(null!=this.info.click)this.chart.click=this.info.click;if(null!=this.info.sortDataPoint)this.chart.sortDataPoint=
this.info.sortDataPoint;this.chart.init()},chart:null,info:null,__class__:Jc});Oc=function(a){Fa.call(this,a)};i["rg.visualization.VisualizationLineChart"]=Oc;Oc.__name__=["rg","visualization","VisualizationLineChart"];Oc.__super__=Fa;Oc.prototype=A(Fa.prototype,{transformData:function(a){for(var b=[],c=new sc(this.infoLine.segment.on,this.infoLine.segment.transform,this.infoLine.segment.scale,this.infoLine.segment.values),d=0,e=this.dependentVariables.length;d<e;){var f=this.dependentVariables[d++],
f=xa.filterByDependents(a,[f]);b.push(c.segment(f))}return b},initChart:function(){var a=this,b=new n.LineChart(this.layout.getPanel(this.layout.mainPanelName));this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.symbol=this.infoLine.symbol;b.symbolStyle=this.infoLine.symbolStyle;b.lineInterpolator=this.infoLine.interpolation;b.lineEffect=this.infoLine.effect;b.sensibleRadius=this.infoLine.sensibleradius;if(null==this.independentVariables[0].scaleDistribution)this.independentVariables[0].scaleDistribution=
Ga.ScaleFill;if(null!=this.infoLine.y0property)b.y0property=this.infoLine.y0property;else if(this.infoLine.displayarea)b.y0property="";this.chart=b},initAxes:function(){this.xvariable=this.variables[0];this.yvariables=this.variables.slice(1)},infoLine:null,__class__:Oc});Pc=function(a){Ea.call(this,a)};i["rg.visualization.VisualizationPieChart"]=Pc;Pc.__name__=["rg","visualization","VisualizationPieChart"];Pc.__super__=Ea;Pc.prototype=A(Ea.prototype,{_feedData:function(a){this.chart.setVariables(this.independentVariables,
this.dependentVariables);null!=this.title&&(null!=this.info.label.title?(this.title.set_text(this.info.label.title(this.variables,a,this.variables.map(function(a){return a.type}))),this.layout.suggestSize("title",this.title.idealHeight())):this.layout.suggestSize("title",0));null!=this.info.sortDataPoint&&a.sort(this.info.sortDataPoint);this.chart.init();this.chart.data(a)},_init:function(){var a=this,b=this.layout.getPanel(this.layout.mainPanelName);this.baseChart=this.chart=new n.PieChart(b);this.chart.ready.add(function(){a.ready.dispatch()});
this.chart.innerRadius=this.info.innerradius;this.chart.outerRadius=this.info.outerradius;this.chart.overRadius=this.info.overradius;this.chart.tooltipRadius=this.info.tooltipradius;b=this.info.effect;switch(b[1]){case 1:b=b[2];this.chart.displayGradient=!0;this.chart.gradientLightness=b;break;case 0:this.chart.displayGradient=!1}this.chart.labelDataPoint=this.info.label.datapoint;this.chart.labelDataPointOver=this.info.label.datapointover;this.chart.labelRadius=this.info.labelradius;this.chart.labelOrientation=
this.info.labelorientation;this.chart.labelDontFlip=this.info.dontfliplabel;this.chart.animated=this.info.animation.animated;this.chart.animationDuration=this.info.animation.duration;this.chart.animationEase=this.info.animation.ease;this.chart.animationDelay=this.info.animation.delay;if(null!=this.info.click)this.chart.mouseClick=this.info.click;if(null!=this.info.label.title&&(b=this.layout.getContext("title"),null!=b))this.title=new ta.Title(b.panel,null,b.anchor)},info:null,title:null,chart:null,
__class__:Pc});Ic=function(a){ub.call(this,a)};i["rg.visualization.VisualizationPivotTable"]=Ic;Ic.__name__=["rg","visualization","VisualizationPivotTable"];Ic.__super__=ub;Ic.prototype=A(ub.prototype,{_feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables);this.chart.data(a)},_init:function(){var a=this;this.chart=new Ua.PivotTable(this.container);this.chart.ready.add(function(){a.ready.dispatch()});this.chart.displayColumnTotal=this.info.displayColumnTotal;
this.chart.displayHeatMap=this.info.displayHeatmap;this.chart.displayRowTotal=this.info.displayRowTotal;this.chart.colorStart=this.info.heatmapColorStart;this.chart.colorEnd=this.info.heatmapColorEnd;this.chart.cellclass=this.info.cellclass;this.chart.valueclass=this.info.valueclass;this.chart.headerclass=this.info.headerclass;this.chart.totalclass=this.info.totalclass;if(null!=this.info.click)this.chart.click=this.info.click;if(null!=this.info.label.datapoint)this.chart.labelDataPoint=this.info.label.datapoint;
if(null!=this.info.label.datapointover)this.chart.labelDataPointOver=this.info.label.datapointover;if(null!=this.info.label.axis)this.chart.labelAxis=this.info.label.axis;if(null!=this.info.label.axisvalue)this.chart.labelAxisValue=this.info.label.axisvalue;if(null!=this.info.label.total)this.chart.labelTotal=this.info.label.total;if(null!=this.info.label.totalover)this.chart.labelTotalOver=this.info.label.totalover;this.chart.incolumns=P.min(this.info.columnAxes,this.independentVariables.length);
this.chart.init()},chart:null,info:null,__class__:Ic});mb=function(a){Ea.call(this,a)};i["rg.visualization.VisualizationSankey"]=mb;mb.__name__=["rg","visualization","VisualizationSankey"];mb.defaultIdf=function(a){return null==a?function(a){return a.id}:a};mb.defaultNodef=function(a){if(null==a){var b=0;return function(a){return{id:"#"+ ++b,weight:a.weight,entry:0,exit:0}}}return a};mb.defaultEdgesf=function(a,b){return null==b?function(b){for(var d=[],e=a(b),f=0,g=j.fields(b.parents);f<g.length;){var i=
g[f];++f;d.push({head:e,tail:i,weight:j.field(b.parents,i)})}return d}:b};mb.__super__=Ea;mb.prototype=A(Ea.prototype,{defaultWeightf:function(a){if(null==a){var b=this.dependentVariables[0].type;return function(a){a=j.field(a,b);return null!=a?a:0}}return a},sugiyama:function(a,b){return(new r.SugiyamaMethod).resolve(a,b)},weightBalance:function(a,b){var c=new r.GraphLayout(a,(new r.HeaviestNodeLayer).lay(a)),c=(new r.EdgeSplitter).split(c,[],b);return c=r.GreedySwitchDecrosser.best().decross(c)},
layoutData:function(a,b,c,d,e,f){a=this.createGraph(a,c,e,f);d=mb.defaultNodef(d);switch(b){case "weightbalance":return this.weightBalance(a,d);default:return this.sugiyama(a,d)}},extractEdges:function(a){return a.filter(function(a){return null!=a.head&&null!=a.tail})},extractNodes:function(a){var b=a.filter(function(a){return null!=a.id});if(0==b.length){var c=this.dependentVariables[0].type,d=new L.StringMap,e=function(a,b,c){if(null!=a){var e=d.get(a);null==e&&(e={node:{id:a},positive:0,negative:0},
d.set(a,e));b?e.positive+=c:e.negative+=c}};a.filter(function(a){return j.hasField(a,"head")||j.hasField(a,"tail")}).forEach(function(a){var b=j.field(a,c);e(a.tail,!0,b);e(a.head,!1,b)});b=I.array(d.iterator()).map(function(a){var b=a.node;b[c]=Math.max(a.positive,a.negative);return b})}return b},createGraph:function(a,b,c,d){b=mb.defaultIdf(b);mb.defaultEdgesf(b,d);for(var c=this.defaultWeightf(c),d=new r.Graph(b),e=this.extractNodes(a),a=this.extractEdges(a),f=0;f<e.length;){var g=e[f];++f;d.nodes.create({dp:g,
id:b(g),weight:c(g),entry:0,exit:0})}for(f=0;f<a.length;){b=a[f];++f;var e=d.nodes.getById(b.head),i=d.nodes.getById(b.tail);if(null==e){var g={id:b.head},j=c(b);g[this.dependentVariables[0].type]=j;e=d.nodes.create({dp:g,id:b.head,weight:j,entry:0,exit:0})}null==i&&(g={id:b.tail},j=c(b),g[this.dependentVariables[0].type]=j,i=d.nodes.create({dp:g,id:b.tail,weight:j,entry:0,exit:0}));d.edges.create(i,e,c(b))}for(c=d.nodes.collection.iterator();c.hasNext();){a=c.next();f=a.negativeWeight();g=a.positiveWeight();
if(0==a.data.weight)a.data.weight=f;a.data.entry=Math.max(0,a.data.weight-f);a.data.exit=Math.max(0,a.data.weight-g)}return d},layoutDataWithMap:function(a,b,c,d,e){var f=this.createGraph(a,c,d,e);b.layers.map(function(a){return a.map(function(a){var b=f.nodes.getById(a);null==b&&(b=f.nodes.create({id:a,weight:0,entry:0,exit:0,dp:{id:a}}));return b.id})});a=0;for(c=b.dummies;a<c.length;){d=c[a];++a;for(var g=f.nodes.getById(d[0]),e=f.nodes.getById(d[d.length-1]),i=[g],g=g.connectedBy(e),j=null==g?
0:g.weight,k=1,l=d.length-1;k<l;){var m=k++;i.push(f.nodes.create({id:d[m],weight:j,entry:0,exit:0,dp:null}))}i.push(e);k=0;for(l=i.length-1;k<l;)m=k++,f.edges.create(i[m],i[m+1],j);null!=g&&g.graph.edges._remove(g)}b=b.layers.map(function(a){return a.map(function(a){var b=f.nodes.getById(a);null==b&&(b=f.nodes.create({id:a,weight:0,entry:0,exit:0,dp:{id:a}}));return b.id})});return new r.GraphLayout(f,b)},_feedData:function(a){this.chart.setVariables(this.independentVariables,this.dependentVariables,
a);null!=this.title&&(null!=this.info.label.title?(this.title.set_text(this.info.label.title(this.variables,a,this.variables.map(function(a){return a.type}))),this.layout.suggestSize("title",this.title.idealHeight())):this.layout.suggestSize("title",0));a=null!=this.info.layoutmap?this.layoutDataWithMap(a,this.info.layoutmap):this.layoutData(a,this.info.layoutmethod);if(null!=this.info.layerWidth)this.chart.layerWidth=this.info.layerWidth;if(null!=this.info.nodeSpacing)this.chart.nodeSpacing=this.info.nodeSpacing;
if(null!=this.info.dummySpacing)this.chart.dummySpacing=this.info.dummySpacing;if(null!=this.info.extraWidth)this.chart.extraWidth=this.info.extraWidth;if(null!=this.info.backEdgeSpacing)this.chart.backEdgeSpacing=this.info.backEdgeSpacing;if(null!=this.info.extraHeight)this.chart.extraHeight=this.info.extraHeight;if(null!=this.info.extraRadius)this.chart.extraRadius=this.info.extraRadius;if(null!=this.info.imageWidth)this.chart.imageWidth=this.info.imageWidth;if(null!=this.info.imageHeight)this.chart.imageHeight=
this.info.imageHeight;if(null!=this.info.imageSpacing)this.chart.imageSpacing=this.info.imageSpacing;if(null!=this.info.labelNodeSpacing)this.chart.labelNodeSpacing=this.info.labelNodeSpacing;if(null!=this.info.chunkWidth)this.chart.chunkWidth=this.info.chunkWidth;this.chart.stackbackedges=this.info.stackbackedges;this.chart.thinbackedges=this.info.thinbackedges;this.chart.labelDataPoint=this.info.label.datapoint;this.chart.labelDataPointOver=this.info.label.datapointover;this.chart.labelNode=this.info.label.node;
this.chart.labelEdge=this.info.label.edge;this.chart.labelEdgeOver=this.info.label.edgeover;this.chart.imagePath=this.info.imagePath;this.chart.click=this.info.click;this.chart.clickEdge=this.info.clickEdge;this.chart.nodeClass=this.info.nodeclass;this.chart.edgeClass=this.info.edgeclass;this.chart.displayEntry=this.info.displayentry;this.chart.displayExit=this.info.displayexit;this.chart.init();this.chart.data(a)},_init:function(){var a=this;if(null!=this.info.label.title){var b=this.layout.getContext("title");
if(null==b)return;this.title=new ta.Title(b.panel,null,b.anchor)}b=this.layout.getPanel(this.layout.mainPanelName);this.baseChart=this.chart=new n.Sankey(b);this.chart.ready.add(function(){a.ready.dispatch()})},chart:null,title:null,info:null,__class__:mb});Qc=function(a){Fa.call(this,a)};i["rg.visualization.VisualizationScatterGraph"]=Qc;Qc.__name__=["rg","visualization","VisualizationScatterGraph"];Qc.__super__=Fa;Qc.prototype=A(Fa.prototype,{transformData:function(a){var b=[];new sc(this.infoScatter.segment.on,
this.infoScatter.segment.transform,this.infoScatter.segment.scale,this.infoScatter.segment.values);for(var c=0,d=this.dependentVariables;c<d.length;){var e=d[c];++c;b.push(xa.filterByDependents(a,[e]))}return b},initChart:function(){var a=this,b=new n.ScatterGraph(this.layout.getPanel(this.layout.mainPanelName));this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.symbol=this.infoScatter.symbol;b.symbolStyle=this.infoScatter.symbolStyle;if(null==this.independentVariables[0].scaleDistribution)this.independentVariables[0].scaleDistribution=
Ga.ScaleFill;this.chart=b},initAxes:function(){this.xvariable=this.independentVariables[0];this.yvariables=this.dependentVariables.map(function(a){return a})},infoScatter:null,__class__:Qc});Rc=function(a){Fa.call(this,a)};i["rg.visualization.VisualizationStreamGraph"]=Rc;Rc.__name__=["rg","visualization","VisualizationStreamGraph"];Rc.__super__=Fa;Rc.prototype=A(Fa.prototype,{transformData:function(a){return(new sc(this.infoStream.segment.on,this.infoStream.segment.transform,this.infoStream.segment.scale,
this.infoStream.segment.values)).segment(a)},initChart:function(){var a=this,b=new n.StreamGraph(this.layout.getPanel(this.layout.mainPanelName));this.baseChart=b;b.ready.add(function(){a.ready.dispatch()});b.interpolator=this.infoStream.interpolation;var c=this.infoStream.effect;switch(c[1]){case 0:b.gradientStyle=0;break;case 2:c=c[2];b.gradientStyle=1;b.gradientLightness=c;break;case 1:c=c[2],b.gradientStyle=2,b.gradientLightness=c}this.chart=b},initAxes:function(){this.xvariable=this.independentVariables[0];
this.yvariables=this.dependentVariables.map(function(a){return a})},infoStream:null,__class__:Rc});ha=function(){};i["rg.visualization.Visualizations"]=ha;ha.__name__=["rg","visualization","Visualizations"];ha.instantiateLayout=function(a,b,c,d){return z.createInstance(ha.layoutType.get(a),[b,c,d])};yb={HashList:function(){this.length=0;this.__keys=[];this.__hash=new L.StringMap}};i["thx.collection.HashList"]=yb.HashList;yb.HashList.__name__=["thx","collection","HashList"];yb.HashList.prototype={__hash:null,
__keys:null,array:function(){for(var a=[],b=0,c=this.__keys;b<c.length;){var d=c[b];++b;a.push(this.__hash.get(d))}return a},get:function(a){return this.__hash.get(a)},set:function(a,b){this.__hash.exists(a)||(this.__keys.push(a),this.length++);this.__hash.set(a,b)},length:null,__class__:yb.HashList};yb.Set=function(){this._v=[];this.length=0};i["thx.collection.Set"]=yb.Set;yb.Set.__name__=["thx","collection","Set"];yb.Set.prototype={array:function(){return this._v.slice()},add:function(a){u.remove(this._v,
a);this._v.push(a);this.length=this._v.length},_v:null,length:null,__class__:yb.Set};f.Cmyk=function(a,b,c,d){f.Rgb.call(this,P.interpolate(G.normalize(1-a-d),0,255,null),P.interpolate(G.normalize(1-b-d),0,255,null),P.interpolate(G.normalize(1-c-d),0,255,null));this.cyan=G.normalize(a);this.magenta=G.normalize(b);this.yellow=G.normalize(c);this.black=G.normalize(d)};i["thx.color.Cmyk"]=f.Cmyk;f.Cmyk.__name__=["thx","color","Cmyk"];f.Cmyk.__super__=f.Rgb;f.Cmyk.prototype=A(f.Rgb.prototype,{yellow:null,
magenta:null,cyan:null,black:null,__class__:f.Cmyk});f.Colors=function(){};i["thx.color.Colors"]=f.Colors;f.Colors.__name__=["thx","color","Colors"];f.Colors.parse=function(a){if(!f.Colors._reParse.match(a=C.trim(a.toLowerCase()))){var b=f.NamedColors.byName.get(a);return null==b?"transparent"==a?f.Rgb.fromInt(16777215):null:b}a=f.Colors._reParse.matched(1);if(!J.empty(a))switch(b=f.Colors._reParse.matched(2).split(","),a){case "rgb":case "rgba":return new f.Rgb(f.Colors._c(b[0]),f.Colors._c(b[1]),
f.Colors._c(b[2]));case "hsl":return new f.Hsl(f.Colors._d(b[0]),f.Colors._p(b[1]),f.Colors._p(b[2]));case "cmyk":return new f.Cmyk(f.Colors._p(b[0]),f.Colors._p(b[1]),f.Colors._p(b[2]),f.Colors._p(b[3]))}a=f.Colors._reParse.matched(3);if(3==a.length)a=a.split("").map(function(a){return a+a}).join("");else if(6!=a.length)return null;return f.Rgb.fromInt(t.parseInt("0x"+a))};f.Colors._c=function(a){return t.parseInt(C.trim(a))};f.Colors._d=function(a){a=C.trim(a);"deg"==u.substr(a,-3,null)?a=u.substr(a,
0,-3):"\u00ba"==u.substr(a,-1,null)&&(a=u.substr(a,0,-1));return t.parseFloat(a)};f.Colors._p=function(a){a=C.trim(a);return"%"==u.substr(a,-1,null)?t.parseFloat(u.substr(a,0,-1))/100:t.parseFloat(a)};f.Grey=function(a){this.grey=G.normalize(a);a=P.interpolate(this.grey,0,255,null);f.Rgb.call(this,a,a,a)};i["thx.color.Grey"]=f.Grey;f.Grey.__name__=["thx","color","Grey"];f.Grey.toGrey=function(a,b){if(null==b)b=f.PerceivedLuminance.Perceived;switch(b[1]){case 0:return new f.Grey(0.2126*(a.red/255)+
0.7152*(a.green/255)+0.0722*(a.blue/255));case 1:return new f.Grey(0.299*(a.red/255)+0.587*(a.green/255)+0.114*(a.blue/255));case 2:return new f.Grey(Math.sqrt(0.241*Math.pow(a.red/255,2)+0.691*Math.pow(a.green/255,2)+0.068*Math.pow(a.blue/255,2)))}};f.Grey.__super__=f.Rgb;f.Grey.prototype=A(f.Rgb.prototype,{grey:null,__class__:f.Grey});f.PerceivedLuminance={__ename__:["thx","color","PerceivedLuminance"],__constructs__:["Standard","Perceived","PerceivedAccurate"]};f.PerceivedLuminance.Standard=["Standard",
0];f.PerceivedLuminance.Standard.toString=q;f.PerceivedLuminance.Standard.__enum__=f.PerceivedLuminance;f.PerceivedLuminance.Perceived=["Perceived",1];f.PerceivedLuminance.Perceived.toString=q;f.PerceivedLuminance.Perceived.__enum__=f.PerceivedLuminance;f.PerceivedLuminance.PerceivedAccurate=["PerceivedAccurate",2];f.PerceivedLuminance.PerceivedAccurate.toString=q;f.PerceivedLuminance.PerceivedAccurate.__enum__=f.PerceivedLuminance;f.NamedColors=function(){};i["thx.color.NamedColors"]=f.NamedColors;
f.NamedColors.__name__=["thx","color","NamedColors"];Kb={Csv:function(){}};i["thx.csv.Csv"]=Kb.Csv;Kb.Csv.__name__=["thx","csv","Csv"];Kb.Csv.decode=function(a,b,c,d,e,f,g,i){var j=new Ha.ValueHandler;(new Kb.CsvDecoder(j,b,c,d,e,f,g,i)).decode(a);return j.value};Kb.CsvDecoder=function(a,b,c,d,e,f,g,i){null==i&&(i=!0);null==g&&(g=!0);null==f&&(f='"');null==e&&(e="\r\n|\n|\r");null==d&&(d=!1);null==c&&(c=",");null==b&&(b=!0);this.handler=a;this.delimiter=c;this.emptytonull=d;this.quote=f;this.doublequotations=
g;this.trim_whitespace=i;this.check_type=b;"\r\n|\n|\r"!=e&&(e=fb.ERegs.escapeERegChars(e));this.newline=e;this._end=new M("("+fb.ERegs.escapeERegChars(c)+"|"+e+"|$)","")};i["thx.csv.CsvDecoder"]=Kb.CsvDecoder;Kb.CsvDecoder.__name__=["thx","csv","CsvDecoder"];Kb.CsvDecoder.prototype={typeString:function(a){this.handler.arrayItemStart();""==a&&this.emptytonull?this.handler.valueNull():this.handler.valueString(a);this.handler.arrayItemEnd()},typeDate:function(a){this.handler.arrayItemStart();this.handler.valueDate(ja.parse(a));
this.handler.arrayItemEnd()},typeBool:function(a){this.handler.arrayItemStart();this.handler.valueBool(Wa.parse(a));this.handler.arrayItemEnd()},typeFloat:function(a){this.handler.arrayItemStart();this.handler.valueFloat(G.parse(a));this.handler.arrayItemEnd()},typeCultureFloat:function(a){this.handler.arrayItemStart();this.handler.valueFloat(Lb.NumberParser.parse(a,m.Culture.get_defaultCulture()));this.handler.arrayItemEnd()},typeInt:function(a){this.handler.arrayItemStart();this.handler.valueInt(P.parse(a));
this.handler.arrayItemEnd()},typeToken:function(a){this.check_type?P.canParse(a)?this.typeInt(a):G.canParse(a)?this.typeFloat(a):Wa.canParse(a)?this.typeBool(a):ja.canParse(a)?this.typeDate(a):this.typeString(a):this.typeString(a)},getTyper:function(a){var b=this._typers[this.column];if(null==b){if(""==a)return v(this,this.typeToken);b=this.check_type?P.canParse(a)?this._typers[this.column]=v(this,this.typeInt):Lb.NumberParser.canParse(a,m.Culture.get_defaultCulture())?this._typers[this.column]=v(this,
this.typeCultureFloat):G.canParse(a)?this._typers[this.column]=v(this,this.typeFloat):Wa.canParse(a)?this._typers[this.column]=v(this,this.typeBool):ja.canParse(a)?this._typers[this.column]=v(this,this.typeDate):this._typers[this.column]=v(this,this.typeString):this._typers[this.column]=v(this,this.typeString)}return b},error:function(a){throw new H.Error("invalid string value '{0}' at line {1}, column {2}",[J.ellipsis(a,50),this.line,this.column],null,{fileName:"CsvDecoder.hx",lineNumber:128,className:"thx.csv.CsvDecoder",
methodName:"error"});},parseValue:function(){if(u.substr(this._s,0,1)==this.quote){var a=this._s.indexOf(this.quote,1);if(-1!=a){if(this.doublequotations)for(;u.substr(this._s,a+1,1)==this.quote;)if(a=this._s.indexOf(this.quote,a+2),-1==a){a=this._s.length;break}}else a=this._s.length;var b=u.substr(this._s,1,a-1);this._s=u.substr(this._s,a+1,null);this.typeString(C.replace(b,this.quote+this.quote,this.quote));this._end.match(this._s)||this.error(this._s);this._s=this._end.matchedRight();return this._end.matched(0)==
this.delimiter}this._end.match(this._s)||this.error(this._s);this._s=this._end.matchedRight();1==this.line?(b=this._end.matchedLeft(),this.trim_whitespace&&(b=C.trim(b)),this.typeToken(b)):(b=this._end.matchedLeft(),this.trim_whitespace&&(b=C.trim(b)),this.getTyper(b)(b));if(this._end.matched(0)==this.delimiter)return!0;this._s=C.ltrim(this._s);return!1},parseLine:function(){this.handler.arrayItemStart();this.column=1;for(this.handler.arrayStart();this.parseValue();)this.column++;this.handler.arrayEnd();
this.line++;this.handler.arrayItemEnd()},decode:function(a){this._s=a;this._typers=[];this.line=1;this.handler.start();for(this.handler.arrayStart();0<this._s.length;)this.parseLine();this.handler.arrayEnd();this.handler.end()},_typers:null,_end:null,_s:null,handler:null,check_type:null,column:null,line:null,trim_whitespace:null,doublequotations:null,quote:null,newline:null,emptytonull:null,delimiter:null,__class__:Kb.CsvDecoder};Ha={IDataHandler:function(){}};i["thx.data.IDataHandler"]=Ha.IDataHandler;
Ha.IDataHandler.__name__=["thx","data","IDataHandler"];Ha.IDataHandler.prototype={valueBool:null,valueNull:null,valueFloat:null,valueInt:null,valueString:null,valueDate:null,arrayEnd:null,arrayItemEnd:null,arrayItemStart:null,arrayStart:null,objectEnd:null,objectFieldEnd:null,objectFieldStart:null,objectStart:null,end:null,start:null,__class__:Ha.IDataHandler};m={Info:function(){}};i["thx.culture.Info"]=m.Info;m.Info.__name__=["thx","culture","Info"];m.Info.prototype={pluralRule:null,iso3:null,iso2:null,
english:null,"native":null,name:null,__class__:m.Info};m.Culture=function(){};i["thx.culture.Culture"]=m.Culture;m.Culture.__name__=["thx","culture","Culture"];m.Culture.__properties__={get_cultures:"get_cultures"};m.Culture.get_cultures=function(){if(null==m.Culture.cultures)m.Culture.cultures=new L.StringMap;return m.Culture.cultures};m.Culture.get_defaultCulture=function(){return null==m.Culture._defaultCulture?Na.EnUS.get_culture():m.Culture._defaultCulture};m.Culture.add=function(a){if(null==
m.Culture._defaultCulture)m.Culture._defaultCulture=a;var b=a.name.toLowerCase();m.Culture.get_cultures().exists(b)||m.Culture.get_cultures().set(b,a)};m.Culture.__super__=m.Info;m.Culture.prototype=A(m.Info.prototype,{percent:null,currency:null,number:null,symbolPosInf:null,symbolNegInf:null,symbolPermille:null,symbolPercent:null,symbolNaN:null,signPos:null,signNeg:null,digits:null,isMetric:null,nativeRegion:null,englishRegion:null,currencyIso:null,currencySymbol:null,nativeCurrency:null,englishCurrency:null,
date:null,language:null,__class__:m.Culture});m.FormatDate=function(){};i["thx.culture.FormatDate"]=m.FormatDate;m.FormatDate.__name__=["thx","culture","FormatDate"];m.FormatDate.format=function(a,b,c,d){null==d&&(d=!0);null==c&&(c=m.Culture.get_defaultCulture());for(var e=0,f=a.length,g=new Ab,i=c.date;e<f;){var j=a.charAt(e);if("%"!=j)g.b+=t.string(j);else switch(e++,j=a.charAt(e),j){case "a":g.b+=t.string(i.abbrDays[b.getDay()]);break;case "A":g.b+=t.string(i.days[b.getDay()]);break;case "b":case "h":g.b+=
t.string(i.abbrMonths[b.getMonth()]);break;case "B":g.b+=t.string(i.months[b.getMonth()]);break;case "c":g.b+=t.string(m.FormatDate.dateTime(b,c));break;case "C":g.b+=t.string(m.FormatNumber.digits(""+Math.floor(b.getFullYear()/100),c));break;case "d":g.b+=t.string(m.FormatNumber.digits(C.lpad(""+b.getDate(),"0",2),c));break;case "D":g.b+=t.string(m.FormatDate.format("%m/%d/%y",b,c));break;case "e":g.b+=t.string(m.FormatNumber.digits(d?C.lpad(""+b.getDate()," ",2):""+b.getDate(),c));break;case "f":g.b+=
t.string(m.FormatNumber.digits(d?C.lpad(""+(b.getMonth()+1)," ",2):""+(b.getMonth()+1),c));break;case "G":throw"Not Implemented Yet";case "g":throw"Not Implemented Yet";case "H":g.b+=t.string(m.FormatNumber.digits(C.lpad(""+b.getHours(),"0",2),c));break;case "i":g.b+=t.string(m.FormatNumber.digits(d?C.lpad(""+b.getMinutes()," ",2):""+b.getMinutes(),c));break;case "I":g.b+=t.string(m.FormatNumber.digits(C.lpad(""+m.FormatDate.getMHours(b),"0",2),c));break;case "j":throw"Not Implemented Yet";case "k":g.b+=
t.string(m.FormatNumber.digits(d?C.lpad(""+b.getHours()," ",2):""+b.getHours(),c));break;case "l":g.b+=t.string(m.FormatNumber.digits(d?C.lpad(""+m.FormatDate.getMHours(b)," ",2):""+m.FormatDate.getMHours(b),c));break;case "m":g.b+=t.string(m.FormatNumber.digits(C.lpad(""+(b.getMonth()+1),"0",2),c));break;case "M":g.b+=t.string(m.FormatNumber.digits(C.lpad(""+b.getMinutes(),"0",2),c));break;case "n":g.b+="\n";break;case "p":g.b+=t.string(11<b.getHours()?i.pm:i.am);break;case "P":g.b+=t.string((11<
b.getHours()?i.pm:i.am).toLowerCase());break;case "q":g.b+=t.string(m.FormatNumber.digits(d?C.lpad(""+b.getSeconds()," ",2):""+b.getSeconds(),c));break;case "r":g.b+=t.string(m.FormatDate.format("%I:%M:%S %p",b,c));break;case "R":g.b+=t.string(m.FormatDate.format("%H:%M",b,c));break;case "s":g.b+=t.string(""+(b.getTime()/1E3|0));break;case "S":g.b+=t.string(m.FormatNumber.digits(C.lpad(""+b.getSeconds(),"0",2),c));break;case "t":g.b+="\t";break;case "T":g.b+=t.string(m.FormatDate.format("%H:%M:%S",
b,c));break;case "u":j=b.getDay();g.b+=t.string(m.FormatNumber.digits(0==j?"7":""+j,c));break;case "U":throw"Not Implemented Yet";case "V":throw"Not Implemented Yet";case "w":g.b+=t.string(m.FormatNumber.digits(""+b.getDay(),c));break;case "W":throw"Not Implemented Yet";case "x":g.b+=t.string(m.FormatDate.date(b,c));break;case "X":g.b+=t.string(m.FormatDate.time(b,c));break;case "y":g.b+=t.string(m.FormatNumber.digits(u.substr(""+b.getFullYear(),-2,null),c));break;case "Y":g.b+=t.string(m.FormatNumber.digits(""+
b.getFullYear(),c));break;case "z":g.b+="+0000";break;case "Z":g.b+="GMT";break;case "%":g.b+="%";break;default:g.b+=t.string("%"+j)}e++}return g.b};m.FormatDate.getMHours=function(a){a=a.getHours();return 12<a?a-12:a};m.FormatDate.yearMonth=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return m.FormatDate.format(b.date.patternYearMonth,a,b,!1)};m.FormatDate.monthDay=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return m.FormatDate.format(b.date.patternMonthDay,a,b,!1)};m.FormatDate.date=
function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return m.FormatDate.format(b.date.patternDate,a,b,!1)};m.FormatDate.dateShort=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return m.FormatDate.format(b.date.patternDateShort,a,b,!1)};m.FormatDate.dateRfc=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return m.FormatDate.format(b.date.patternDateRfc,a,b,!1)};m.FormatDate.dateTime=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return m.FormatDate.format(b.date.patternDateTime,
a,b,!1)};m.FormatDate.universal=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return m.FormatDate.format(b.date.patternUniversal,a,b,!1)};m.FormatDate.sortable=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return m.FormatDate.format(b.date.patternSortable,a,b,!1)};m.FormatDate.time=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return m.FormatDate.format(b.date.patternTime,a,b,!1)};m.FormatDate.timeShort=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());
return m.FormatDate.format(b.date.patternTimeShort,a,b,!1)};m.FormatDate.hourShort=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return null==b.date.am?m.FormatDate.format("%H",a,b,!1):m.FormatDate.format("%l %p",a,b,!1)};m.FormatDate.year=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return m.FormatNumber.digits(""+a.getFullYear(),b)};m.FormatDate.month=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return m.FormatNumber.digits(""+(a.getMonth()+1),b)};m.FormatDate.monthName=
function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return b.date.abbrMonths[a.getMonth()]};m.FormatDate.monthNameShort=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return b.date.months[a.getMonth()]};m.FormatDate.weekDay=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return m.FormatNumber.digits(""+(a.getDay()+b.date.firstWeekDay),b)};m.FormatDate.weekDayName=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return b.date.abbrDays[a.getDay()]};m.FormatDate.weekDayNameShort=
function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return b.date.days[a.getDay()]};m.FormatNumber=function(){};i["thx.culture.FormatNumber"]=m.FormatNumber;m.FormatNumber.__name__=["thx","culture","FormatNumber"];m.FormatNumber.decimal=function(a,b,c){null==c&&(c=m.Culture.get_defaultCulture());return m.FormatNumber.crunch(a,b,c.percent,c.number.patternNegative,c.number.patternPositive,c,null,null)};m.FormatNumber.percent=function(a,b,c){null==c&&(c=m.Culture.get_defaultCulture());return m.FormatNumber.crunch(a,
b,c.percent,c.percent.patternNegative,c.percent.patternPositive,c,"%",c.symbolPercent)};m.FormatNumber.permille=function(a,b,c){null==c&&(c=m.Culture.get_defaultCulture());return m.FormatNumber.crunch(a,b,c.percent,c.percent.patternNegative,c.percent.patternPositive,c,"%",c.symbolPermille)};m.FormatNumber.currency=function(a,b,c,d){null==d&&(d=m.Culture.get_defaultCulture());return m.FormatNumber.crunch(a,c,d.currency,d.currency.patternNegative,d.currency.patternPositive,d,"$",null==b?d.currencySymbol:
b)};m.FormatNumber["int"]=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return m.FormatNumber.decimal(a,0,b)};m.FormatNumber.digits=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return m.FormatNumber.processDigits(a,b.digits)};m.FormatNumber.crunch=function(a,b,c,d,e,f,g,i){if(Math.isNaN(a))return f.symbolNaN;if(!Math.isFinite(a))return a==Math.NEGATIVE_INFINITY?f.symbolNegInf:f.symbolPosInf;b=m.FormatNumber.value(a,c,null==b?c.decimals:0>b?0:b,f.digits);return null!=g?C.replace(C.replace(0>
a?d:e,"n",b),g,i):C.replace(0>a?d:e,"n",b)};m.FormatNumber.processDigits=function(a,b){if(null==b)return a;for(var c=[],d=0,e=a.length;d<e;){var f=d++;c.push(b[t.parseInt(u.substr(a,f,1))])}return c.join("")};m.FormatNumber.value=function(a,b,c,d){var e=""+Math.abs(a),f=e.indexOf("E");if(0<f){var a=t.parseInt(u.substr(e,f+1,null)),g=!0;0>a&&(g=!1,a=-a);e=C.replace(u.substr(e,0,f),".","");e=g?C.rpad(e,"0",a+1):"0"+C.rpad(".","0",a)+e}a=e.split(".");g=a[0];e=[];for(f=0;!(0==g.length);){var i=b.groups[f];
if(g.length<=i){e.unshift(m.FormatNumber.processDigits(g,d));break}e.unshift(m.FormatNumber.processDigits(u.substr(g,-i,null),d));g=u.substr(g,0,-i);f<b.groups.length-1&&f++}g=e.join(b.groupsSeparator);return 0<c?(c=1==a.length?C.lpad("","0",c):a[1].length>c?u.substr(a[1],0,c):C.rpad(a[1],"0",c),g+b.decimalsSeparator+m.FormatNumber.processDigits(c,d)):g};m.FormatParams=function(){};i["thx.culture.FormatParams"]=m.FormatParams;m.FormatParams.__name__=["thx","culture","FormatParams"];m.FormatParams.cleanQuotes=
function(a){if(1>=a.length)return a;var b=u.substr(a,0,1);return('"'==b||"'"==b)&&u.substr(a,-1,null)==b?u.substr(a,1,a.length-2):a};m.FormatParams.params=function(a,b,c){if(null!=b&&null!=a)return[a].concat(b);if((null==b||0==b.length)&&null==a)return[c];return null==b||0==b.length?(a=a.split(":"),[a[0]].concat(1==a.length?[]:I.map(u.iter(a[1].split(",")),function(a,b){return 0==b?a:m.FormatParams.cleanQuotes(a)}))):b};m.Language=function(){};i["thx.culture.Language"]=m.Language;m.Language.__name__=
["thx","culture","Language"];m.Language.__properties__={get_languages:"get_languages"};m.Language.get_languages=function(){if(null==m.Language.languages)m.Language.languages=new L.StringMap;return m.Language.languages};m.Language.add=function(a){m.Language.get_languages().exists(a.iso2)||m.Language.get_languages().set(a.iso2,a)};m.Language.__super__=m.Info;m.Language.prototype=A(m.Info.prototype,{__class__:m.Language});m.core={};m.core.DateTimeInfo=function(a,b,c,d,e,f,g,i,j,k,l,m,n,p,q,s,r,t,u,kb){this.months=
a;this.abbrMonths=b;this.days=c;this.abbrDays=d;this.shortDays=e;this.am=f;this.pm=g;this.separatorDate=i;this.separatorTime=j;this.firstWeekDay=k;this.patternYearMonth=l;this.patternMonthDay=m;this.patternDate=n;this.patternDateShort=p;this.patternDateRfc=q;this.patternDateTime=s;this.patternUniversal=r;this.patternSortable=t;this.patternTime=u;this.patternTimeShort=kb};i["thx.culture.core.DateTimeInfo"]=m.core.DateTimeInfo;m.core.DateTimeInfo.__name__=["thx","culture","core","DateTimeInfo"];m.core.DateTimeInfo.prototype=
{patternTimeShort:null,patternTime:null,patternSortable:null,patternUniversal:null,patternDateTime:null,patternDateRfc:null,patternDateShort:null,patternDate:null,patternMonthDay:null,patternYearMonth:null,firstWeekDay:null,separatorTime:null,separatorDate:null,pm:null,am:null,shortDays:null,abbrDays:null,days:null,abbrMonths:null,months:null,__class__:m.core.DateTimeInfo};m.core.NumberInfo=function(a,b,c,d,e,f){this.decimals=a;this.decimalsSeparator=b;this.groups=c;this.groupsSeparator=d;this.patternNegative=
e;this.patternPositive=f};i["thx.culture.core.NumberInfo"]=m.core.NumberInfo;m.core.NumberInfo.__name__=["thx","culture","core","NumberInfo"];m.core.NumberInfo.prototype={patternPositive:null,patternNegative:null,groupsSeparator:null,groups:null,decimalsSeparator:null,decimals:null,__class__:m.core.NumberInfo};gb={En:function(){this.name="en";this.english="English";this["native"]="English";this.iso2="en";this.iso3="eng";this.pluralRule=1;m.Language.add(this)}};i["thx.languages.En"]=gb.En;gb.En.__name__=
["thx","languages","En"];gb.En.__properties__={get_language:"get_language"};gb.En.get_language=function(){if(null==gb.En.language)gb.En.language=new gb.En;return gb.En.language};gb.En.__super__=m.Language;gb.En.prototype=A(m.Language.prototype,{__class__:gb.En});Na={EnUS:function(){this.language=gb.En.get_language();this.name="en-US";this.english="English (United States)";this["native"]="English (United States)";this.date=new m.core.DateTimeInfo("January,February,March,April,May,June,July,August,September,October,November,December,".split(","),
"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec,".split(","),"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),"Su,Mo,Tu,We,Th,Fr,Sa".split(","),"AM","PM","/",":",0,"%B, %Y","%B %d","%A, %B %d, %Y","%f/%e/%Y","%a, %d %b %Y %H:%M:%S GMT","%A, %B %d, %Y %l:%M:%S %p","%Y-%m-%d %H:%M:%SZ","%Y-%m-%dT%H:%M:%S","%l:%M:%S %p","%l:%M %p");this.symbolNaN="NaN";this.symbolPercent="%";this.symbolPermille="\u2030";this.signNeg="-";this.signPos="+";
this.symbolNegInf="-Infinity";this.symbolPosInf="Infinity";this.number=new m.core.NumberInfo(2,".",[3],",","-n","n");this.currency=new m.core.NumberInfo(2,".",[3],",","($n)","$n");this.percent=new m.core.NumberInfo(2,".",[3],",","-n %","n %");this.pluralRule=1;this.nativeCurrency=this.englishCurrency="US Dollar";this.currencySymbol="$";this.currencyIso="USD";this.nativeRegion=this.englishRegion="United States";this.iso2="US";this.iso3="USA";this.isMetric=!1;m.Culture.add(this)}};i["thx.cultures.EnUS"]=
Na.EnUS;Na.EnUS.__name__=["thx","cultures","EnUS"];Na.EnUS.__properties__={get_culture:"get_culture"};Na.EnUS.get_culture=function(){if(null==Na.EnUS.culture)Na.EnUS.culture=new Na.EnUS;return Na.EnUS.culture};Na.EnUS.__super__=m.Culture;Na.EnUS.prototype=A(m.Culture.prototype,{__class__:Na.EnUS});Ha.ValueEncoder=function(a){this.handler=a};i["thx.data.ValueEncoder"]=Ha.ValueEncoder;Ha.ValueEncoder.__name__=["thx","data","ValueEncoder"];Ha.ValueEncoder.prototype={encodeArray:function(a){this.handler.arrayStart();
for(var b=0;b<a.length;){var c=a[b];++b;this.handler.arrayItemStart();this.encodeValue(c);this.handler.arrayItemEnd()}this.handler.arrayEnd()},encodeList:function(a){this.handler.arrayStart();for(a=a.iterator();a.hasNext();){var b=a.next();this.handler.arrayItemStart();this.encodeValue(b);this.handler.arrayItemEnd()}this.handler.arrayEnd()},encodeHash:function(a){this.handler.objectStart();for(var b=a.keys();b.hasNext();){var c=b.next();this.handler.objectFieldStart(c);this.encodeValue(a.get(c));
this.handler.objectFieldEnd()}this.handler.objectEnd()},encodeObject:function(a){this.handler.objectStart();for(var b=0,c=j.fields(a);b<c.length;){var d=c[b];++b;this.handler.objectFieldStart(d);this.encodeValue(j.field(a,d));this.handler.objectFieldEnd()}this.handler.objectEnd()},encodeValue:function(a){var b=z["typeof"](a);switch(b[1]){case 0:this.handler.valueNull();break;case 1:this.handler.valueInt(a);break;case 2:this.handler.valueFloat(a);break;case 3:this.handler.valueBool(a);break;case 4:this.encodeObject(a);
break;case 5:throw new H.Error("unable to encode TFunction type",null,null,{fileName:"ValueEncoder.hx",lineNumber:39,className:"thx.data.ValueEncoder",methodName:"encodeValue"});case 6:b=b[2];if(B.__instanceof(a,String))this.handler.valueString(a);else if(B.__instanceof(a,Array))this.encodeArray(a);else if(B.__instanceof(a,Date))this.handler.valueDate(a);else if(B.__instanceof(a,Ed))this.encodeHash(a);else if(B.__instanceof(a,de))this.encodeList(a);else throw new H.Error("unable to encode class '{0}'",
null,z.getClassName(b),{fileName:"ValueEncoder.hx",lineNumber:53,className:"thx.data.ValueEncoder",methodName:"encodeValue"});break;case 7:throw new H.Error("unable to encode TEnum type '{0}'",null,z.getEnumName(b[2]),{fileName:"ValueEncoder.hx",lineNumber:55,className:"thx.data.ValueEncoder",methodName:"encodeValue"});case 8:throw new H.Error("unable to encode TUnknown type",null,null,{fileName:"ValueEncoder.hx",lineNumber:57,className:"thx.data.ValueEncoder",methodName:"encodeValue"});}},encode:function(a){this.handler.start();
this.encodeValue(a);this.handler.end()},handler:null,__class__:Ha.ValueEncoder};Ha.ValueHandler=function(){};i["thx.data.ValueHandler"]=Ha.ValueHandler;Ha.ValueHandler.__name__=["thx","data","ValueHandler"];Ha.ValueHandler.__interfaces__=[Ha.IDataHandler];Ha.ValueHandler.prototype={valueBool:function(a){this._stack.push(a)},valueNull:function(){this._stack.push(null)},valueFloat:function(a){this._stack.push(a)},valueInt:function(a){this._stack.push(a)},valueString:function(a){this._stack.push(a)},
valueDate:function(a){this._stack.push(a)},arrayItemEnd:function(){var a=this._stack.pop();S.last(this._stack).push(a)},arrayItemStart:function(){},arrayEnd:function(){},arrayStart:function(){this._stack.push([])},objectFieldEnd:function(){var a=this._stack.pop();S.last(this._stack)[this._names.pop()]=a},objectFieldStart:function(a){this._names.push(a)},objectEnd:function(){},objectStart:function(){this._stack.push({})},end:function(){this.value=this._stack.pop()},start:function(){this._stack=[];
this._names=[]},_names:null,_stack:null,value:null,__class__:Ha.ValueHandler};s={DateParser:function(){}};i["thx.date.DateParser"]=s.DateParser;s.DateParser.__name__=["thx","date","DateParser"];s.DateParser.parse=function(a,b){var c=s.DateParser.parseTime(a),d;null==b&&(b=new Date);null!=c.matched&&(a=C.replace(a,c.matched,""));var e=0,f=0,g=0,i=null!=c.matched;if(s.DateParser.dateexp.match(a))if(i=!0,a=C.replace(a,s.DateParser.dateexp.matched(0),""),null!=(d=s.DateParser.dateexp.matched(1)))g=t.parseInt(s.DateParser.dateexp.matched(2)),
f=s.DateParser.months.indexOf(d.toLowerCase()),e=null!=(d=s.DateParser.dateexp.matched(3))?s.DateParser.fixyear(t.parseInt(d)):b.getFullYear();else if(null!=(d=s.DateParser.dateexp.matched(4)))g=t.parseInt(s.DateParser.dateexp.matched(5)),f=s.DateParser.shortmonths.indexOf(d.toLowerCase()),e=null!=(d=s.DateParser.dateexp.matched(6))?s.DateParser.fixyear(t.parseInt(d)):b.getFullYear();else if(null!=(d=s.DateParser.dateexp.matched(8)))f=s.DateParser.months.indexOf(d.toLowerCase()),g=null!=(d=s.DateParser.dateexp.matched(7))?
t.parseInt(d):1,e=null!=(d=s.DateParser.dateexp.matched(9))?s.DateParser.fixyear(t.parseInt(d)):b.getFullYear();else if(null!=(d=s.DateParser.dateexp.matched(11)))f=s.DateParser.shortmonths.indexOf(d.toLowerCase()),g=null!=(d=s.DateParser.dateexp.matched(10))?t.parseInt(d):1,e=null!=(d=s.DateParser.dateexp.matched(12))?s.DateParser.fixyear(t.parseInt(d)):b.getFullYear();else if(null!=(d=s.DateParser.dateexp.matched(14)))f=s.DateParser.months.indexOf(d.toLowerCase()),g=null!=(d=s.DateParser.dateexp.matched(13))?
t.parseInt(d):1,e=null!=(d=s.DateParser.dateexp.matched(15))?s.DateParser.fixyear(t.parseInt(d)):b.getFullYear();else if(null!=(d=s.DateParser.dateexp.matched(17)))f=s.DateParser.shortmonths.indexOf(d.toLowerCase()),g=null!=(d=s.DateParser.dateexp.matched(16))?t.parseInt(d):1,e=null!=(d=s.DateParser.dateexp.matched(18))?s.DateParser.fixyear(t.parseInt(d)):b.getFullYear();else if(null!=(d=s.DateParser.dateexp.matched(19)))g=t.parseInt(s.DateParser.dateexp.matched(20)),f=t.parseInt(d)-1,e=null!=(d=
s.DateParser.dateexp.matched(21))?s.DateParser.fixyear(t.parseInt(d)):b.getFullYear();else if(null!=(d=s.DateParser.dateexp.matched(23)))g=t.parseInt(s.DateParser.dateexp.matched(22)),f=t.parseInt(d)-1,e=null!=(d=s.DateParser.dateexp.matched(24))?s.DateParser.fixyear(t.parseInt(d)):b.getFullYear();else if(null!=(d=s.DateParser.dateexp.matched(25)))e=s.DateParser.fixyear(t.parseInt(d)),g=t.parseInt(s.DateParser.dateexp.matched(27)),f=t.parseInt(s.DateParser.dateexp.matched(26))-1;else{if(null!=(d=
s.DateParser.dateexp.matched(28)))e=b.getFullYear(),g=t.parseInt(d),f=b.getMonth()}else if(s.DateParser.absdateexp.match(a)){i=!0;a=C.replace(a,s.DateParser.absdateexp.matched(0),"");e=b.getFullYear();f=b.getMonth();g=b.getDate();if(null!=(d=s.DateParser.absdateexp.matched(1))){var j=d.toLowerCase();switch(j){case "now":case "this second":if(null==c.matched)c.hour=b.getHours(),c.minute=b.getMinutes(),c.second=b.getSeconds();break;case "tomorrow":g+=1;break;case "yesterday":g-=1}}else if(null!=(d=
s.DateParser.absdateexp.matched(3)))var k=s.DateParser.absdateexp.matched(2),j=s.DateParser.months.indexOf(d.toLowerCase()),e=j==f?e+(s.DateParser.last(k)?-1:s.DateParser.next(k)?1:0):j>f?e+(s.DateParser.last(k)?-1:0):e+(s.DateParser.next(k)?1:0),f=j,g=1;else if(null!=(d=s.DateParser.absdateexp.matched(5)))var k=s.DateParser.absdateexp.matched(4),j=s.DateParser.days.indexOf(d.toLowerCase()),l=b.getDay(),g=j==l?g+(s.DateParser.last(k)?-7:s.DateParser.next(k)?7:0):j>l?g+(j-l+(s.DateParser.last(k)?-7:
0)):g+(j-l+(s.DateParser.next(k)?7:0));else if(null!=(d=s.DateParser.absdateexp.matched(7)))k=s.DateParser.absdateexp.matched(6),j=s.DateParser.shortmonths.indexOf(d.toLowerCase()),e=j==f?e+(s.DateParser.last(k)?-1:s.DateParser.next(k)?1:0):j>f?e+(s.DateParser.last(k)?-1:0):e+(s.DateParser.next(k)?1:0),f=j,g=1;else if(null!=(d=s.DateParser.absdateexp.matched(9)))k=s.DateParser.absdateexp.matched(8),j=s.DateParser.shortdays.indexOf(d.toLowerCase()),l=b.getDay(),g=j==l?g+(s.DateParser.last(k)?-7:s.DateParser.next(k)?
7:0):j>l?g+(j-l+(s.DateParser.last(k)?-7:0)):g+(j-l+(s.DateParser.next(k)?7:0));if(null==c.matched)c.matched="x"}else e=b.getFullYear(),f=b.getMonth(),g=b.getDate();for(;s.DateParser.relexp.match(a);){i=!0;a=C.replace(a,s.DateParser.relexp.matched(0),"");j=s.DateParser.relexp.matched(1);if(null!=j)k=null!=(d=s.DateParser.relexp.matched(2))?t.parseInt(d):1,l=s.DateParser.relexp.matched(3);else{l=s.DateParser.relexp.matched(5);if(null==l)break;k=null!=(d=s.DateParser.relexp.matched(4))?t.parseInt(d):
1;j=null!=(d=s.DateParser.relexp.matched(6))?d:"after"}j=j.toLowerCase();switch(j){case "minus":case "-":case "before":case "ago":k=-k}switch(j){case "ago":case "in":if(null==c.matched)c.hour=b.getHours(),c.minute=b.getMinutes(),c.second=b.getSeconds(),c.matched="x"}j=l.toLowerCase();switch(j){case "second":case "seconds":c.second+=k;break;case "minute":case "minutes":c.minute+=k;break;case "hour":case "hours":c.hour+=k;break;case "day":case "days":g+=k;break;case "week":case "weeks":g+=7*k;break;
case "month":case "months":f+=k;break;case "year":case "years":e+=k}}if(!i)throw new H.Error("no date information found in the string '{0}'",null,a,{fileName:"DateParser.hx",lineNumber:339,className:"thx.date.DateParser",methodName:"parse"});d=new Date;d.setTime((new Date(e,f,g,c.hour,c.minute,c.second)).getTime()+c.millis);return d};s.DateParser.parseTime=function(a){var b={hour:0,minute:0,second:0,millis:0,matched:null};if(!s.DateParser.timeexp.match(a))return b;b.matched=s.DateParser.timeexp.matched(0);
var c;if(null!=(c=s.DateParser.timeexp.matched(1)))b.hour=t.parseInt(c)+s.DateParser.plusPm(s.DateParser.timeexp.matched(3)),b.minute=t.parseInt(s.DateParser.timeexp.matched(2));else if(null!=(c=s.DateParser.timeexp.matched(4))){b.hour=t.parseInt(c);b.minute=t.parseInt(s.DateParser.timeexp.matched(5));if(null!=(c=s.DateParser.timeexp.matched(6)))b.second=t.parseInt(c);if(null!=(c=s.DateParser.timeexp.matched(7)))b.millis=t.parseFloat(c)/1E3}else if(null!=(c=s.DateParser.timeexp.matched(8)))b.hour=
t.parseInt(c)+s.DateParser.plusPm(s.DateParser.timeexp.matched(10)),b.minute=t.parseInt(s.DateParser.timeexp.matched(9));else if(null!=(c=s.DateParser.timeexp.matched(11)))b.hour=t.parseInt(c)+s.DateParser.plusPm(s.DateParser.timeexp.matched(12));else if(null!=(c=s.DateParser.timeexp.matched(13)))switch(c.toLowerCase()){case "evening":b.hour=17;break;case "morning":b.hour=8;break;case "afternoon":b.hour=14;break;case "sunsrise":case "dawn":b.hour=6;break;case "sunset":case "dusk":b.hour=19;break;
case "noon":case "midday":case "mid-day":b.hour=12;break;case "mid-night":case "midnight":b.hour=23,b.minute=59,b.second=59,b.millis=0.999}else throw new H.Error("failed to parse time for '{0}'",null,a,{fileName:"DateParser.hx",lineNumber:406,className:"thx.date.DateParser",methodName:"parseTime"});return b};s.DateParser.fixyear=function(a){return 70>a?2E3+a:100>a?1900+a:a};s.DateParser.last=function(a){return null==a?!1:"last"==a.toLowerCase()};s.DateParser.next=function(a){return null==a?!0:"next"==
a.toLowerCase()};s.DateParser.plusPm=function(a){if(null==a)a=0;else switch(a.toLowerCase()){case "pm":case "evening":case "afternoon":a=12;break;default:a=0}return a};Z={Message:function(a,b,c){this.message=a;this.params=null==b?[]:b;null!=c&&this.params.push(c)}};i["thx.util.Message"]=Z.Message;Z.Message.__name__=["thx","util","Message"];Z.Message.prototype={toString:function(){return J.format(this.message,this.params)},params:null,message:null,__class__:Z.Message};H={Error:function(a,b,c,d){Z.Message.call(this,
a,b,c);this.pos=d}};i["thx.error.Error"]=H.Error;H.Error.__name__=["thx","error","Error"];H.Error.__super__=Z.Message;H.Error.prototype=A(Z.Message.prototype,{toString:function(){try{return J.format(this.message,this.params)}catch(a){return""}},pos:null,__class__:H.Error});H.AbstractMethod=function(a){H.Error.call(this,"method {0}.{1}() is abstract",[a.className,a.methodName],a,{fileName:"AbstractMethod.hx",lineNumber:14,className:"thx.error.AbstractMethod",methodName:"new"})};i["thx.error.AbstractMethod"]=
H.AbstractMethod;H.AbstractMethod.__name__=["thx","error","AbstractMethod"];H.AbstractMethod.__super__=H.Error;H.AbstractMethod.prototype=A(H.Error.prototype,{__class__:H.AbstractMethod});H.NullArgument=function(a,b,c){null==b&&(b="invalid null or empty argument '{0}' for method {1}.{2}()");H.Error.call(this,b,[a,c.className,c.methodName],c,{fileName:"NullArgument.hx",lineNumber:16,className:"thx.error.NullArgument",methodName:"new"})};i["thx.error.NullArgument"]=H.NullArgument;H.NullArgument.__name__=
["thx","error","NullArgument"];H.NullArgument.__super__=H.Error;H.NullArgument.prototype=A(H.Error.prototype,{__class__:H.NullArgument});W={IProjection:function(){}};i["thx.geo.IProjection"]=W.IProjection;W.IProjection.__name__=["thx","geo","IProjection"];W.IProjection.prototype={project:null,__class__:W.IProjection};W.Albers=function(){this._origin=[-98,38];this._parallels=[29.5,45.5];this._scale=1E3;this._translate=[480,250];this.reload()};i["thx.geo.Albers"]=W.Albers;W.Albers.__name__=["thx","geo",
"Albers"];W.Albers.__interfaces__=[W.IProjection];W.Albers.prototype={get_scale:function(){return this._scale},set_scale:function(a){return this._scale=a},reload:function(){var a=0.017453292519943295*this.get_parallels()[0],b=0.017453292519943295*this.get_parallels()[1],c=0.017453292519943295*this.get_origin()[1],d=Math.sin(a),a=Math.cos(a);this.lng0=0.017453292519943295*this.get_origin()[0];this.n=0.5*(d+Math.sin(b));this.C=a*a+2*this.n*d;this.p0=Math.sqrt(this.C-2*this.n*Math.sin(c))/this.n;return this},
set_translate:function(a){this._translate=[a[0],a[1]];return a},get_translate:function(){return this._translate.slice()},set_parallels:function(a){this._parallels=[a[0],a[1]];this.reload();return a},get_parallels:function(){return this._parallels.slice()},set_origin:function(a){this._origin=[a[0],a[1]];this.reload();return a},get_origin:function(){return this._origin.slice()},project:function(a){var b=this.n*(0.017453292519943295*a[0]-this.lng0),a=Math.sqrt(this.C-2*this.n*Math.sin(0.017453292519943295*
a[1]))/this.n;return[this.get_scale()*a*Math.sin(b)+this.get_translate()[0],this.get_scale()*(a*Math.cos(b)-this.p0)+this.get_translate()[1]]},_scale:null,_translate:null,_parallels:null,_origin:null,p0:null,C:null,n:null,lng0:null,__class__:W.Albers};W.AlbersUsa=function(){this.lower48=new W.Albers;this.alaska=new W.Albers;this.alaska.set_origin([-160,60]);this.alaska.set_parallels([55,65]);this.hawaii=new W.Albers;this.hawaii.set_origin([-160,20]);this.hawaii.set_parallels([8,18]);this.puertoRico=
new W.Albers;this.puertoRico.set_origin([-60,10]);this.puertoRico.set_parallels([8,18]);this.set_scale(this.lower48.get_scale())};i["thx.geo.AlbersUsa"]=W.AlbersUsa;W.AlbersUsa.__name__=["thx","geo","AlbersUsa"];W.AlbersUsa.__interfaces__=[W.IProjection];W.AlbersUsa.prototype={set_translate:function(a){var b=this.lower48.get_scale()/1E3,c=a[0],d=a[1];this.lower48.set_translate(a);this.alaska.set_translate([c-400*b,d+170*b]);this.hawaii.set_translate([c-190*b,d+200*b]);this.puertoRico.set_translate([c+
580*b,d+430*b]);return a},set_scale:function(a){this.lower48.set_scale(a);this.alaska.set_scale(0.6*a);this.hawaii.set_scale(a);this.puertoRico.set_scale(1.5*a);this.set_translate(this.lower48.get_translate());return a},project:function(a){var b=a[0],c=a[1];return(50<c?this.alaska:-140>b?this.hawaii:21>c?this.puertoRico:this.lower48).project(a)},puertoRico:null,hawaii:null,alaska:null,lower48:null,__class__:W.AlbersUsa};W.Azimuthal=function(){this.set_mode(W.ProjectionMode.Orthographic);this.set_scale(200);
this.set_translate([480,250]);this.set_origin([0,0])};i["thx.geo.Azimuthal"]=W.Azimuthal;W.Azimuthal.__name__=["thx","geo","Azimuthal"];W.Azimuthal.__interfaces__=[W.IProjection];W.Azimuthal.prototype={get_mode:function(){return this.mode},set_mode:function(a){return this.mode=a},get_scale:function(){return this.scale},set_scale:function(a){return this.scale=a},set_translate:function(a){this.translate=[a[0],a[1]];return a},get_translate:function(){return this.translate.slice()},set_origin:function(a){this.origin=
[a[0],a[1]];this.x0=0.017453292519943295*a[0];this.y0=0.017453292519943295*a[1];this.cy0=Math.cos(this.y0);this.sy0=Math.sin(this.y0);return a},project:function(a){var b=0.017453292519943295*a[0]-this.x0,c=0.017453292519943295*a[1],a=Math.cos(b),b=Math.sin(b),d=Math.cos(c),c=Math.sin(c),e;switch(this.get_mode()[1]){case 0:e=1;break;case 1:e=1/(1+this.sy0*c+this.cy0*d*a)}a=e*(this.sy0*d*a-this.cy0*c);return[this.get_scale()*e*d*b+this.get_translate()[0],this.get_scale()*a+this.get_translate()[1]]},
sy0:null,cy0:null,y0:null,x0:null,translate:null,scale:null,origin:null,mode:null,__class__:W.Azimuthal,__properties__:{set_mode:"set_mode",get_mode:"get_mode",set_origin:"set_origin",set_scale:"set_scale",get_scale:"get_scale",set_translate:"set_translate",get_translate:"get_translate"}};W.ProjectionMode={__ename__:["thx","geo","ProjectionMode"],__constructs__:["Orthographic","Stereographic"]};W.ProjectionMode.Orthographic=["Orthographic",0];W.ProjectionMode.Orthographic.toString=q;W.ProjectionMode.Orthographic.__enum__=
W.ProjectionMode;W.ProjectionMode.Stereographic=["Stereographic",1];W.ProjectionMode.Stereographic.toString=q;W.ProjectionMode.Stereographic.__enum__=W.ProjectionMode;W.Mercator=function(){this.set_scale(500);this.set_translate([480,250])};i["thx.geo.Mercator"]=W.Mercator;W.Mercator.__name__=["thx","geo","Mercator"];W.Mercator.__interfaces__=[W.IProjection];W.Mercator.prototype={set_translate:function(a){this.translate=[a[0],a[1]];return a},get_translate:function(){return this.translate.slice()},
get_scale:function(){return this.scale},set_scale:function(a){return this.scale=a},project:function(a){var b=a[0]/360,a=-(Math.log(Math.tan(Math.PI/4+0.017453292519943295*a[1]/2))/0.017453292519943295)/360;return[this.get_scale()*b+this.get_translate()[0],this.get_scale()*Math.max(-0.5,Math.min(0.5,a))+this.get_translate()[1]]},translate:null,scale:null,__class__:W.Mercator,__properties__:{set_scale:"set_scale",get_scale:"get_scale",set_translate:"set_translate",get_translate:"get_translate"}};R=
{Polygon:function(a){this.coordinates=a}};i["thx.geom.Polygon"]=R.Polygon;R.Polygon.__name__=["thx","geom","Polygon"];R.Polygon.prototype={centroid:function(a){var b,c,d,e=0,f=0;null==a&&(a=1/(6*this.area()));for(var g=0,i=this.coordinates.length-1;g<i;)c=g++,b=this.coordinates[c],c=this.coordinates[c+1],d=b[0]*c[1]-c[0]*b[1],e+=(b[0]+c[0])*d,f+=(b[1]+c[1])*d;return[e*a,f*a]},area:function(){for(var a=this.coordinates.length,b=this.coordinates[a-1][0]*this.coordinates[0][1],c=this.coordinates[a-1][1]*
this.coordinates[0][0],d=1;d<a;)var e=d++,b=b+this.coordinates[e-1][0]*this.coordinates[e][1],c=c+this.coordinates[e-1][1]*this.coordinates[e][0];return 0.5*(c-b)},coordinates:null,__class__:R.Polygon};R.layout={};R.layout.Pie=function(){this._startAngle=function(){return 0};this._endAngle=function(){return 6.283185307179586};this._sort=null;this._value=function(a){return Number(a)}};i["thx.geom.layout.Pie"]=R.layout.Pie;R.layout.Pie.__name__=["thx","geom","layout","Pie"];R.layout.Pie.prototype={pie:function(a,
b){var c=this._startAngle(a,b),d=this._endAngle(a,b)-c,e=P.range(a.length);if(null!=this._sort){var f=this._sort;e.sort(function(b,c){return f(a[b],a[c])})}var g=I.map(u.iter(a),this._value),d=d/g.reduce(function(a,b){return a+b},0);Math.isFinite(d)||(d=0);var i,j=I.map(u.iter(e),function(a,b){i=g[b];return{value:i,startAngle:c,endAngle:c+=i*d}});return I.map(u.iter(a),function(a,b){return j[e[b]]})},_value:null,_sort:null,_endAngle:null,_startAngle:null,__class__:R.layout.Pie};R.layout.Stack=function(){this._order=
R.layout.StackOrder.DefaultOrder;this._offset=R.layout.StackOffset.ZeroOffset};i["thx.geom.layout.Stack"]=R.layout.Stack;R.layout.Stack.__name__=["thx","geom","layout","Stack"];R.layout.Stack.getStackOrder=function(a,b){switch(a[1]){case 0:return P.range(b.length);case 1:var c=b.length,d=I.map(u.iter(b),R.layout.Stack.stackMaxIndex),e=I.map(u.iter(b),R.layout.Stack.stackReduceSum),f=P.range(c),g=0,i=0,j=[],k=[];f.sort(function(a,b){return d[a]-d[b]});for(var l=0;l<c;){var m=l++,m=f[m];g<i?(g+=e[m],
j.push(m)):(i+=e[m],k.push(m))}k.reverse();return k.concat(j);case 2:return f=P.range(b.length),f.reverse(),f}};R.layout.Stack.getStackOffset=function(a,b,c){switch(a[1]){case 0:for(var a=c.length,d=c[0].length,e=[],f=0,g,i=0;i<d;){for(var j=i++,k=g=0;k<a;){var l=k++;g+=c[l][j].y}g>f&&(f=g);e.push(g)}l=b[0];for(i=0;i<d;)j=i++,c[l][j].y0=(f-e[j])/2;break;case 1:var a=c.length,f=c[0],d=f.length,m,n=b[0],p,q,s,r,t;c[n][0].y0=g=t=0;for(i=1;i<d;){j=i++;for(k=p=0;k<a;)l=k++,p+=c[l][j].y;q=0;r=f[j].x-f[j-
1].x;for(k=0;k<a;){l=k++;m=b[l];s=(c[m][j].y-c[m][j-1].y)/(2*r);for(var u=0;u<l;){var kb=u++;s+=(c[e=b[kb]][j].y-c[e][j-1].y)/r}q+=s*c[m][j].y}c[n][j].y0=g-=0!=p?q/p*r:0;g<t&&(t=g)}for(i=0;i<d;)j=i++,c[n][j].y0-=t;break;case 2:d=c[0].length;n=b[0];for(i=0;i<d;)j=i++,c[n][j].y0=0}};R.layout.Stack.stackMaxIndex=function(a){for(var b=0,c=a[0].y,d,e=a.length,f=1;f<e;){var g=f++;if((d=a[g].y)>c)b=g,c=d}return b};R.layout.Stack.stackReduceSum=function(a){return a.reduce(R.layout.Stack.stackSum,0)};R.layout.Stack.stackSum=
function(a,b){return a+b.y};R.layout.Stack.prototype={offset:function(a){this._offset=a;return this},order:function(a){this._order=a;return this},stack:function(a){for(var b=a.length,c=a[0].length,d=[],e=0;e<b;){var f=e++,g=[];d.push(g);for(var i=0;i<c;){var j=i++,k=a[f][j];g[j]={x:k.x,y:k.y,y0:0}}}g=R.layout.Stack.getStackOrder(this._order,d);R.layout.Stack.getStackOffset(this._offset,g,d);for(e=0;e<c;){j=e++;a=d[g[0]][j].y0;for(i=1;i<b;)f=i++,d[g[f]][j].y0=a+=d[g[f-1]][j].y}return d},_offset:null,
_order:null,__class__:R.layout.Stack};R.layout.StackOrder={__ename__:["thx","geom","layout","StackOrder"],__constructs__:["DefaultOrder","InsideOut","ReverseOrder"]};R.layout.StackOrder.DefaultOrder=["DefaultOrder",0];R.layout.StackOrder.DefaultOrder.toString=q;R.layout.StackOrder.DefaultOrder.__enum__=R.layout.StackOrder;R.layout.StackOrder.InsideOut=["InsideOut",1];R.layout.StackOrder.InsideOut.toString=q;R.layout.StackOrder.InsideOut.__enum__=R.layout.StackOrder;R.layout.StackOrder.ReverseOrder=
["ReverseOrder",2];R.layout.StackOrder.ReverseOrder.toString=q;R.layout.StackOrder.ReverseOrder.__enum__=R.layout.StackOrder;R.layout.StackOffset={__ename__:["thx","geom","layout","StackOffset"],__constructs__:["Silhouette","Wiggle","ZeroOffset"]};R.layout.StackOffset.Silhouette=["Silhouette",0];R.layout.StackOffset.Silhouette.toString=q;R.layout.StackOffset.Silhouette.__enum__=R.layout.StackOffset;R.layout.StackOffset.Wiggle=["Wiggle",1];R.layout.StackOffset.Wiggle.toString=q;R.layout.StackOffset.Wiggle.__enum__=
R.layout.StackOffset;R.layout.StackOffset.ZeroOffset=["ZeroOffset",2];R.layout.StackOffset.ZeroOffset.toString=q;R.layout.StackOffset.ZeroOffset.__enum__=R.layout.StackOffset;r={EdgeSplitter:function(){}};i["thx.graph.EdgeSplitter"]=r.EdgeSplitter;r.EdgeSplitter.__name__=["thx","graph","EdgeSplitter"];r.EdgeSplitter.prototype={split:function(a,b,c,d){var e=a.layers(),f,g;null==d&&(d=function(){});for(var i=a.graph.nodes.collection.iterator();i.hasNext();){var j=i.next();f=a.cell(j);for(j=j.graph.edges.positives(j);j.hasNext();){var k=
j.next();g=a.cell(k.head);if(f.layer!=g.layer&&f.layer!=g.layer-1&&f.layer!=g.layer+1){var l=[f.layer<g.layer?1:-1];g=P.abs(g.layer-f.layer)-1;b.push(k.split(g,c,function(a){return function(b,c,g){e[f.layer+(1+g)*a[0]].push(b.head.id);d(b,c,g)}}(l)))}}}return new r.GraphLayout(a.graph,e)},__class__:r.EdgeSplitter};r.GraphElement=function(a,b,c){this.id=b;this.data=c;this.graph=a};i["thx.graph.GraphElement"]=r.GraphElement;r.GraphElement.__name__=["thx","graph","GraphElement"];r.GraphElement.prototype=
{destroy:function(){this.graph=null;this.id=-1},data:null,id:null,graph:null,__class__:r.GraphElement};r.GEdge=function(a,b,c,d,e,f){r.GraphElement.call(this,a,b,f);this.tail=c;this.head=d;this.weight=e};i["thx.graph.GEdge"]=r.GEdge;r.GEdge.__name__=["thx","graph","GEdge"];r.GEdge.create=function(a,b,c,d,e,f){return new r.GEdge(a,b,c,d,e,f)};r.GEdge.__super__=r.GraphElement;r.GEdge.prototype=A(r.GraphElement.prototype,{invert:function(){var a=this.graph.edges.create(this.head,this.tail,this.weight,
this.data);this.graph.edges._remove(this);return a},split:function(a,b,c){null==a&&(a=1);if(1>a)throw new H.Error("the split times parameter must be an integer value greater than zero",null,null,{fileName:"GEdge.hx",lineNumber:34,className:"thx.graph.GEdge",methodName:"split"});null==c&&(c=function(){});null==b&&(b=function(){return null});for(var d=this,e=[],f,g,i=d.graph,j=0;j<a;){var k=j++;f=i.nodes.create(b(d));g=i.edges.create(d.tail,f,d.weight,d.data);f=i.edges.create(f,d.head,d.weight,d.data);
i.edges.remove(d);c(g,f,k);d=f;i=d.graph;e.push(g)}e.push(d);return e},destroy:function(){r.GraphElement.prototype.destroy.call(this);this.head=this.tail=null},weight:null,head:null,tail:null,__class__:r.GEdge});r.GNode=function(a,b,c){r.GraphElement.call(this,a,b,c)};i["thx.graph.GNode"]=r.GNode;r.GNode.__name__=["thx","graph","GNode"];r.GNode.create=function(a,b,c){return new r.GNode(a,b,c)};r.GNode.__super__=r.GraphElement;r.GNode.prototype=A(r.GraphElement.prototype,{negatives:function(){return this.graph.edges.negatives(this)},
positives:function(){return this.graph.edges.positives(this)},predecessorBy:function(a){return I.firstf(this.graph.edges.positives(this),function(b){return b.head.id==a.id})},isIsolated:function(){return!this.graph.edges.edges(this).hasNext()},isSink:function(){return this.graph.edges.negatives(this).hasNext()&&!this.graph.edges.positives(this).hasNext()},isSource:function(){return this.graph.edges.positives(this).hasNext()&&!this.graph.edges.negatives(this).hasNext()},_weight:function(a){for(var b=
0;a.hasNext();)var c=a.next(),b=b+c.weight;return b},negativeWeight:function(){return this._weight(this.graph.edges.negatives(this))},positiveWeight:function(){return this._weight(this.graph.edges.positives(this))},connectedBy:function(a){if(a.graph!=this.graph)throw new H.Error("the node is not part of this graph",null,null,{fileName:"GNode.hx",lineNumber:41,className:"thx.graph.GNode",methodName:"connectedBy"});var b=I.firstf(this.graph.edges.positives(this),function(b){return b.head.id==a.id});
return null!=b?b:I.firstf(this.graph.edges.negatives(this),function(b){return b.tail.id==a.id})},destroy:function(){r.GraphElement.prototype.destroy.call(this)},__class__:r.GNode});r.Graph=function(a,b){this.nodes=r.GraphNodes.newInstance(this,a);this.edges=r.GraphEdges.newInstance(this,b)};i["thx.graph.Graph"]=r.Graph;r.Graph.__name__=["thx","graph","Graph"];r.Graph.prototype={findIsolateds:function(){return I.filter(this.nodes.iterator(),function(a){return a.isIsolated()})},findSource:function(){return I.firstf(this.nodes.iterator(),
function(a){return a.isSource()})},findSink:function(){return I.firstf(this.nodes.iterator(),function(a){return a.isSink()})},findSinks:function(){return I.filter(this.nodes.iterator(),function(a){return a.isSink()})},clone:function(){var a=new r.Graph;a.nodes=this.nodes.copyTo(a);a.edges=this.edges.copyTo(a);return a},edges:null,nodes:null,__class__:r.Graph};r.GraphCollection=function(a,b){var c=this;this.nextid=0;this.graph=a;this.idf=b;this.collection=new L.IntMap;this._map=new L.StringMap;if(null!=
b){var d=v(this,this.collectionCreate);this.collectionCreate=function(a){c._map.set(b(a.data),a);d(a)};var e=v(this,this.collectionRemove);this.collectionRemove=function(a){c._map.remove(b(a.data));e(a)}}this.onRemove=new Fc;this.onCreate=new Fc};i["thx.graph.GraphCollection"]=r.GraphCollection;r.GraphCollection.__name__=["thx","graph","GraphCollection"];r.GraphCollection.prototype={iterator:function(){return this.collection.iterator()},collectionRemove:function(a){this.collection.remove(a.id);this.onRemove.dispatch(a)},
collectionCreate:function(a){this.onCreate.dispatch(a);this.collection.set(a.id,a)},get:function(a){return this.collection.get(a)},getById:function(a){return this._map.get(a)},_map:null,idf:null,nextid:null,collection:null,graph:null,onCreate:null,onRemove:null,__class__:r.GraphCollection};r.GraphEdges=function(a,b){r.GraphCollection.call(this,a,b);this.edgesp=new L.IntMap;this.edgesn=new L.IntMap};i["thx.graph.GraphEdges"]=r.GraphEdges;r.GraphEdges.__name__=["thx","graph","GraphEdges"];r.GraphEdges.newInstance=
function(a,b){return new r.GraphEdges(a,b)};r.GraphEdges.__super__=r.GraphCollection;r.GraphEdges.prototype=A(r.GraphCollection.prototype,{removeConnection:function(a,b,c){var d=c.get(b);null!=d&&(u.remove(d,a),0==d.length&&c.remove(b))},connections:function(a,b){var c=b.get(a);null==c&&b.set(a,c=[]);return c},_unlink:function(a,b){var c=b.get(a.id);if(null!=c){for(var c=c.slice(),d=0;d<c.length;){var e=c[d];++d;e=this.get(e);null==e||null==e.graph||this._remove(e)}b.remove(a.id)}},_edges:function(a,
b){var c=this;return this._edgeids(a,b).map(function(a){return c.get(a)})},_edgeids:function(a,b){var c=b.get(a);null==c&&(c=[]);return c},edgeCount:function(a){return this._edgeids(a.id,this.edgesp).length+this._edgeids(a.id,this.edgesn).length},negativeCount:function(a){return this._edgeids(a.id,this.edgesn).length},positiveCount:function(a){return this._edgeids(a.id,this.edgesp).length},edges:function(a){return u.iter(this._edges(a.id,this.edgesp).concat(this._edges(a.id,this.edgesn)))},_sort:function(a,
b,c){var d=this,a=c.get(a.id);null!=a&&a.sort(function(a,c){var f=d.graph.edges.get(a),g=d.graph.edges.get(c);return b(f,g)})},sortNegatives:function(a,b){this._sort(a,b,this.edgesn)},sortPositives:function(a,b){this._sort(a,b,this.edgesp)},negatives:function(a){return u.iter(this._edges(a.id,this.edgesn))},positives:function(a){return u.iter(this._edges(a.id,this.edgesp))},unlink:function(a){if(a.graph!=this.graph)throw new H.Error("unlink: the node is not part of this graph",null,null,{fileName:"GraphEdges.hx",
lineNumber:70,className:"thx.graph.GraphEdges",methodName:"unlink"});this._unlink(a,this.edgesp);this._unlink(a,this.edgesn)},_remove:function(a){this.collectionRemove(a);this.removeConnection(a.id,a.tail.id,this.edgesp);this.removeConnection(a.id,a.head.id,this.edgesn);a.destroy()},remove:function(a){if(a.graph!=this.graph)throw new H.Error("remove: the edge is not part of this graph",null,null,{fileName:"GraphEdges.hx",lineNumber:55,className:"thx.graph.GraphEdges",methodName:"remove"});this._remove(a)},
_create:function(a,b,c,d,e){d=r.GEdge.create(this.graph,a,b,c,d,e);this.collectionCreate(d);this.connections(b.id,this.edgesp).push(a);this.connections(c.id,this.edgesn).push(a);return d},create:function(a,b,c,d){null==c&&(c=1);if(a.graph!=b.graph||a.graph!=this.graph)throw new H.Error("can't create an edge between nodes on different graphs",null,null,{fileName:"GraphEdges.hx",lineNumber:39,className:"thx.graph.GraphEdges",methodName:"create"});return this._create(++this.nextid,a,b,c,d)},copyTo:function(a){for(var b=
new r.GraphEdges(a),a=a.nodes,c,d,e=this.collection.iterator();e.hasNext();){var f=e.next();c=a.get(f.tail.id);d=a.get(f.head.id);b._create(f.id,c,d,f.weight,f.data)}b.nextid=this.nextid;return b},edgesn:null,edgesp:null,__class__:r.GraphEdges});r.GraphLayout=function(a,b){this.graph=a;this._layers=b.map(function(a){return a.slice()});this.friendCell=this._cell=new r.LayoutCell;this._updateMap();this.length=this._layers.length;a.nodes.onRemove.add(v(this,this._nodeRemove))};i["thx.graph.GraphLayout"]=
r.GraphLayout;r.GraphLayout.__name__=["thx","graph","GraphLayout"];r.GraphLayout.arrayCrossings=function(a,b,c){for(var d=new L.IntMap,e=0,f=0,g=c.length;f<g;){var i=f++;d.set(c[i],i)}if(1>=b.length||1>=c.length)return e;f=0;for(g=b.length;f<g;){i=f++;c=a.nodes.get(b[i]);for(c=c.graph.edges.positives(c);c.hasNext();){var j=c.next(),j=d.get(j.head.id);if(null!=j)for(var k=i+1,l=b.length;k<l;)for(var m=k++,m=a.nodes.get(b[m]),m=m.graph.edges.positives(m);m.hasNext();){var n=m.next();d.get(n.head.id)<
j&&e++}}}return e};r.GraphLayout.prototype={_nodeRemove:function(a){a=this.cell(a);this._layers[a.layer].splice(a.position,1);0==this._layers[a.layer].length&&this._layers.splice(a.layer,1);this._updateMap()},crossings:function(){for(var a=0,b=0,c=this._layers.length-1;b<c;)var d=b++,a=a+r.GraphLayout.arrayCrossings(this.graph,this._layers[d],this._layers[d+1]);return a},layers:function(){for(var a=[],b=0,c=this._layers;b<c.length;){var d=c[b];++b;a.push(d.slice())}return a},layer:function(a){var b=
this;return this._layers[a].map(function(a){return b.graph.nodes.get(a)})},nodeAt:function(a,b){var c=this._layers[a];return null==c||b>=c.length?null:this.graph.nodes.get(c[b])},cell:function(a){if(a.graph!=this.graph)throw new H.Error("node doesn't belong to this graph",null,null,{fileName:"GraphLayout.hx",lineNumber:59,className:"thx.graph.GraphLayout",methodName:"cell"});a=this._map.get(a.id);return null==a?null:new r.LayoutCell(a[0],a[1],this._layers.length,this._layers[a[0]].length)},each:function(a){for(var b=
this._layers.length,c,d=0;d<b;){var e=d++;c=this._layers[e].length;for(var f=0;f<c;){var g=f++;this.friendCell.update(e,g,b,c);a(this._cell,this.graph.nodes.get(this._layers[e][g]))}}},clone:function(){return new r.GraphLayout(this.graph.clone(),this.layers())},_updateMap:function(){var a=this;this._map=new L.IntMap;this.each(function(b,c){a._map.set(c.id,[b.layer,b.position])})},friendCell:null,_map:null,_cell:null,_layers:null,length:null,graph:null,__class__:r.GraphLayout};r.LayoutCell=function(a,
b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.layer=a;this.layers=c;this.position=b;this.positions=d};i["thx.graph.LayoutCell"]=r.LayoutCell;r.LayoutCell.__name__=["thx","graph","LayoutCell"];r.LayoutCell.prototype={update:function(a,b,c,d){this.layer=a;this.layers=c;this.position=b;this.positions=d},positions:null,layers:null,position:null,layer:null,__class__:r.LayoutCell};r.GraphNodes=function(a,b){r.GraphCollection.call(this,a,b)};i["thx.graph.GraphNodes"]=r.GraphNodes;
r.GraphNodes.__name__=["thx","graph","GraphNodes"];r.GraphNodes.newInstance=function(a,b){return new r.GraphNodes(a,b)};r.GraphNodes.__super__=r.GraphCollection;r.GraphNodes.prototype=A(r.GraphCollection.prototype,{_remove:function(a){this.graph.edges.unlink(a);this.collectionRemove(a);a.destroy()},_create:function(a,b){var c=r.GNode.create(this.graph,a,b);this.collectionCreate(c);return c},create:function(a){return this._create(++this.nextid,a)},copyTo:function(a){for(var a=new r.GraphNodes(a),b=
this.collection.iterator();b.hasNext();){var c=b.next();a._create(c.id,c.data)}a.nextid=this.nextid;return a},__class__:r.GraphNodes});r.GreedyCyclePartitioner=function(){};i["thx.graph.GreedyCyclePartitioner"]=r.GreedyCyclePartitioner;r.GreedyCyclePartitioner.__name__=["thx","graph","GreedyCyclePartitioner"];r.GreedyCyclePartitioner.findMaxPositiveOverNegative=function(a){for(var b=null,c=0,a=a.nodes.collection.iterator();a.hasNext();){var d=a.next(),e=d.graph.edges.positiveCount(d)-d.graph.edges.negativeCount(d);
if(null==b||c<e)b=d,c=e}return b};r.GreedyCyclePartitioner.prototype={partition:function(a){for(var b=[],c=[],d=a.clone(),e;0!=I.count(d.nodes.iterator());){for(;null!=(e=d.findSink());){for(var f=e.graph.edges.negatives(e);f.hasNext();){var g=f.next();c.unshift(a.edges.get(g.id));g.graph.edges._remove(g)}e.graph.nodes._remove(e)}e=0;for(g=d.findIsolateds();e<g.length;)f=g[e],++e,f.graph.nodes._remove(f);for(;null!=(e=d.findSource());){for(f=e.graph.edges.positives(e);f.hasNext();)g=f.next(),b.push(a.edges.get(g.id)),
g.graph.edges._remove(g);e.graph.nodes._remove(e)}if(0!=I.count(d.nodes.iterator())){e=r.GreedyCyclePartitioner.findMaxPositiveOverNegative(d);for(f=e.graph.edges.negatives(e);f.hasNext();)g=f.next(),c.unshift(a.edges.get(g.id)),g.graph.edges._remove(g);for(f=e.graph.edges.positives(e);f.hasNext();)g=f.next(),b.push(a.edges.get(g.id)),g.graph.edges._remove(g);e.graph.nodes._remove(e)}}return{left:b,right:c}},__class__:r.GreedyCyclePartitioner};r.GreedySwitchDecrosser=function(){};i["thx.graph.GreedySwitchDecrosser"]=
r.GreedySwitchDecrosser;r.GreedySwitchDecrosser.__name__=["thx","graph","GreedySwitchDecrosser"];r.GreedySwitchDecrosser.combined=function(){return{decross:function(a){a=(new r.GreedySwitchDecrosser).decross(a);return(new r.GreedySwitch2Decrosser).decross(a)}}};r.GreedySwitchDecrosser.best=function(){return{decross:function(a){a=[(new r.GreedySwitchDecrosser).decross(a),(new r.GreedySwitch2Decrosser).decross(a),r.GreedySwitchDecrosser.combined().decross(a)];return S.min(a,function(a){return a.crossings()})}}};
r.GreedySwitchDecrosser.prototype={swap:function(a,b){var c=a[b];a[b]=a[b+1];a[b+1]=c},decrossPair:function(a,b,c){var d=r.GraphLayout.arrayCrossings(a,b,c),e=d,f;do for(var d=e,g=0,i=c.length-1;g<i;){var j=g++;this.swap(c,j);(f=r.GraphLayout.arrayCrossings(a,b,c))>=e?this.swap(c,j):e=f}while(e<d)},decross:function(a){var b=a.layers(),c=a.graph,d=a;if(1>=b.length)return new r.GraphLayout(a.graph,b);var e,f,g=b.length-1,i;do{a=b.map(function(a){return a.slice()});d=new r.GraphLayout(c,b);e=d.crossings();
for(f=0;f<g;)i=f++,b=a[i],i=a[i+1],this.decrossPair(c,b,i);f=(new r.GraphLayout(c,a)).crossings();b=a}while(e>f);return d},__class__:r.GreedySwitchDecrosser};r.GreedySwitch2Decrosser=function(){r.GreedySwitchDecrosser.call(this)};i["thx.graph.GreedySwitch2Decrosser"]=r.GreedySwitch2Decrosser;r.GreedySwitch2Decrosser.__name__=["thx","graph","GreedySwitch2Decrosser"];r.GreedySwitch2Decrosser.__super__=r.GreedySwitchDecrosser;r.GreedySwitch2Decrosser.prototype=A(r.GreedySwitchDecrosser.prototype,{decrossTriplet:function(a,
b,c,d){if(null==b)this.decrossPair(a,c,d);else if(null==d)this.decrossPair(a,b,c);else{var e=r.GraphLayout.arrayCrossings(a,b,c)+r.GraphLayout.arrayCrossings(a,c,d),f=e,g;do for(var e=f,i=0,j=c.length-1;i<j;){var k=i++;this.swap(c,k);(g=r.GraphLayout.arrayCrossings(a,b,c)+r.GraphLayout.arrayCrossings(a,c,d))>=f?this.swap(c,k):f=g}while(f<e)}},decross:function(a){var b=a.layers(),c=a.graph,d=a;if(1>=b.length)return new r.GraphLayout(a.graph,b);var e,f,g=b.length-1,i;do{a=b.map(function(a){return a.slice()});
d=new r.GraphLayout(c,b);e=d.crossings();for(var j=0;j<g;)i=j++,b=a[i-1],f=a[i],i=a[i+1],this.decrossTriplet(c,b,f,i);f=(new r.GraphLayout(c,a)).crossings();b=a}while(e>f);return d},__class__:r.GreedySwitch2Decrosser});r.HeaviestNodeLayer=function(){};i["thx.graph.HeaviestNodeLayer"]=r.HeaviestNodeLayer;r.HeaviestNodeLayer.__name__=["thx","graph","HeaviestNodeLayer"];r.HeaviestNodeLayer.prototype={lay:function(a){for(var b=[],c=S.order(I.array(a.nodes.iterator()),function(a,b){return G.compare(b.positiveWeight(),
a.positiveWeight())}),d=function(){var a=null;return a=function(d,e){if(u.remove(c,d)){var f=b[e];null==f&&(f=b[e]=[]);f.push(d.id);for(f=d.graph.edges.positives(d);f.hasNext();){var g=f.next();a(g.head,e+1)}}}}(this);0<c.length;)d(c[0],0);for(d=0;d<b.length;){var e=b[d];++d;e.sort(function(b,c){return G.compare(a.nodes.get(c).positiveWeight(),a.nodes.get(b).positiveWeight())})}return b},__class__:r.HeaviestNodeLayer};r.LongestPathLayer=function(){};i["thx.graph.LongestPathLayer"]=r.LongestPathLayer;
r.LongestPathLayer.__name__=["thx","graph","LongestPathLayer"];r.LongestPathLayer.distanceToASink=function(a,b){var c=function(){var a=null;return a=function(b,c){for(var f=c;b.hasNext();){var g=b.next();g.head.isSink()||(f=P.max(f,a(g.head.positives(),c+1)))}return f}}(this);return b.isIsolated()?0:c(b.graph.edges.positives(b),1)};r.LongestPathLayer.prototype={lay:function(a){for(var a=a.clone(),b=[[]],c=0,d=a.findSinks();c<d.length;){var e=d[c];++c;b[0].push(e.id)}c=0;for(d=I.filter(a.nodes.iterator(),
function(a){return!a.isSink()});c<d.length;){e=d[c];++c;var f=r.LongestPathLayer.distanceToASink(a,e),g=b[f];null==g&&(g=b[f]=[]);g.push(e.id)}b.reverse();return b},__class__:r.LongestPathLayer};r.OneCycleRemover=function(){};i["thx.graph.OneCycleRemover"]=r.OneCycleRemover;r.OneCycleRemover.__name__=["thx","graph","OneCycleRemover"];r.OneCycleRemover.prototype={remove:function(a){for(var b=[],c=a.nodes.collection.iterator();c.hasNext();){var d=c.next(),a=d.predecessorBy(d);null!=a&&(b.push({node:d,
weight:a.weight,data:a.data}),a.graph.edges._remove(a))}return b},__class__:r.OneCycleRemover};r.SugiyamaMethod=function(a,b,c,d){this.partitioner=null==a?new r.GreedyCyclePartitioner:a;this.layer=null==b?new r.LongestPathLayer:b;this.splitter=null==c?new r.EdgeSplitter:c;this.decrosser=null==d?r.GreedySwitchDecrosser.best():d};i["thx.graph.SugiyamaMethod"]=r.SugiyamaMethod;r.SugiyamaMethod.__name__=["thx","graph","SugiyamaMethod"];r.SugiyamaMethod.prototype={resolve:function(a,b,c){var d=(new r.OneCycleRemover).remove(a),
e=(new r.TwoCycleRemover).remove(a),f=this.partitioner.partition(a),g=new L.StringMap;(f.left.length>f.right.length?f.right:f.left).forEach(function(a){g.set(a.tail.id+"-"+a.head.id,[a.invert()])});f=this.layer.lay(a);a=new r.GraphLayout(a,f);f=[];a=this.splitter.split(a,f,b,c);f.forEach(function(a){var b=a[a.length-1].head.id+"-"+a[0].tail.id;g.exists(b)&&g.set(b,a)});a=this.decrosser.decross(a);for(b=function(a){return function(){return a.iterator()}}(g)();b.hasNext();)b.next().forEach(function(a){a.invert()});
for(b=0;b<e.length;)c=e[b],++b,a.graph.edges.create(c.tail,c.head,c.weight,c.data);for(b=0;b<d.length;)c=d[b],++b,a.graph.edges.create(c.node,c.node,c.weight,c.data);return a},decrosser:null,splitter:null,layer:null,partitioner:null,__class__:r.SugiyamaMethod};r.TwoCycleRemover=function(){};i["thx.graph.TwoCycleRemover"]=r.TwoCycleRemover;r.TwoCycleRemover.__name__=["thx","graph","TwoCycleRemover"];r.TwoCycleRemover.prototype={remove:function(a){for(var b=[],a=a.nodes.collection.iterator();a.hasNext();)for(var c=
a.next(),d=c.graph.edges.positives(c);d.hasNext();){var e=d.next().head.predecessorBy(c);null!=e&&(b.push({tail:e.tail,head:e.head,weight:e.weight,data:e.data}),e.graph.edges._remove(e))}return b},__class__:r.TwoCycleRemover};aa={Json:function(){}};i["thx.json.Json"]=aa.Json;aa.Json.__name__=["thx","json","Json"];aa.Json.encode=function(a){if(null!=aa.Json.nativeEncoder)return aa.Json.nativeEncoder(a);var b=new aa.JsonEncoder;(new Ha.ValueEncoder(b)).encode(a);return b.encodedString};aa.Json.decode=
function(a){if(null!=aa.Json.nativeDecoder)return aa.Json.nativeDecoder(a);var b=new Ha.ValueHandler;(new aa.JsonDecoder(b)).decode(a);return b.value};aa.JsonDecoder=function(a,b){null==b&&(b=4);this.handler=a;this.tabsize=b};i["thx.json.JsonDecoder"]=aa.JsonDecoder;aa.JsonDecoder.__name__=["thx","json","JsonDecoder"];aa.JsonDecoder.prototype={error:function(a){var b=this.pos==this.src.length?"":"\nrest: "+(null!=this["char"]?this["char"]:"")+u.substr(this.src,this.pos,null)+"...";throw new H.Error("error at L {0} C {1}: {2}{3}",
[this.line,this.col,a,b],null,{fileName:"JsonDecoder.hx",lineNumber:357,className:"thx.json.JsonDecoder",methodName:"error"});},parseDigits:function(a){null==a&&(a=0);for(var b="";;){var c=null;try{c=this.readChar()}catch(d){if(B.__instanceof(d,aa._JsonDecoder.StreamError))return b.length<a&&this.error("expected digit"),b;throw d;}var e=u.cca(c,0);if(48>e||57<e)return b.length<a&&this.error("expected digit"),this.col+=b.length,this["char"]=c,b;b+=c}return null},parseFloat:function(){var a="";this.expect("-")&&
(a="-");if(this.expect("0"))a+="0";else{var b=this.readChar(),c=u.cca(b,0);(49>c||57<c)&&this.error("expected digit between 1 and 9");a+=b;this.col++}try{a+=this.parseDigits()}catch(d){if(B.__instanceof(d,aa._JsonDecoder.StreamError)){this.handler.valueInt(t.parseInt(a));return}throw d;}try{if(this.expect("."))a+="."+this.parseDigits(1);else{this.handler.valueInt(t.parseInt(a));return}if(this.expect("e")||this.expect("E"))a+="e",this.expect("+")||this.expect("-")&&(a+="-"),a+=this.parseDigits(1)}catch(e){if(B.__instanceof(e,
aa._JsonDecoder.StreamError)){this.handler.valueFloat(t.parseFloat(a));return}throw e;}this.handler.valueFloat(t.parseFloat(a))},parseHexa:function(){for(var a=[],b=0;4>b;){b++;var c=this.readChar(),d=u.cca(c.toLowerCase(),0);48<=d&&57>=d||97<=d&&102>=d||this.error("invalid hexadecimal value "+c);a.push(c)}this.handler.valueInt(t.parseInt("0x"+a.join("")));return t.parseInt("0x"+a.join(""))},_parseString:function(){this.expect('"')||this.error("expected double quote");var a="",b=!1;try{for(;;){var c=
this.readChar();this.col++;if(b){switch(c){case '"':a+='"';break;case "\\":a+="\\";break;case "/":a+="/";break;case "b":a+="\u0008";break;case "f":a+="\u000c";break;case "n":a+="\n";break;case "r":a+="\r";break;case "t":a+="\t";break;case "u":a+=String.fromCharCode(this.parseHexa());break;default:this.error("unexpected char "+c)}b=!1}else switch(c){case "\\":b=!0;break;case '"':throw"__break__";default:a+=c}}}catch(d){if("__break__"!=d)throw d;}return a},parseString:function(){this.handler.valueString(this._parseString())},
parseValue:function(){this.expect("true")?this.handler.valueBool(!0):this.expect("false")?this.handler.valueBool(!1):this.expect("null")?this.handler.valueNull():this.parseFloat()},parseArray:function(){this.ignoreWhiteSpace();var a=!0;for(this.handler.arrayStart();;){this.ignoreWhiteSpace();if(this.expect("]"))break;else a?a=!1:this.expect(",")?this.ignoreWhiteSpace():this.error("expected ','");this.handler.arrayItemStart();this.parse();this.handler.arrayItemEnd()}this.handler.arrayEnd()},parseObject:function(){var a=
!0;for(this.handler.objectStart();;){this.ignoreWhiteSpace();if(this.expect("}"))break;else a?a=!1:this.expect(",")?this.ignoreWhiteSpace():this.error("expected ','");var b=this._parseString();this.ignoreWhiteSpace();this.expect(":")||this.error("expected ':'");this.ignoreWhiteSpace();this.handler.objectFieldStart(b);this.parse();this.handler.objectFieldEnd()}this.handler.objectEnd()},expect:function(a){return(null==this["char"]?u.substr(this.src,this.pos,a.length):this["char"]+u.substr(this.src,
this.pos,a.length-1))==a?(null==this["char"]?this.pos+=a.length:(this.pos+=a.length-1,this["char"]=null),!0):!1},readChar:function(){if(null==this["char"]){if(this.pos==this.src.length)throw aa._JsonDecoder.StreamError.Eof;return this.src.charAt(this.pos++)}var a=this["char"];this["char"]=null;return a},parse:function(){var a=this.readChar();switch(a){case "{":this.col++;this.ignoreWhiteSpace();this.parseObject();break;case "[":this.col++;this.ignoreWhiteSpace();this.parseArray();break;case '"':this["char"]=
a;this.parseString();break;default:this["char"]=a,this.parseValue()}},ignoreWhiteSpace:function(){for(;this.pos<this.src.length;){var a=this.readChar();switch(a){case " ":this.col++;break;case "\n":this.col=0;this.line++;break;case "\r":break;case "\t":this.col+=this.tabsize;break;default:this["char"]=a;return}}},decode:function(a){this.line=this.col=0;this.src=a;this["char"]=null;this.pos=0;this.ignoreWhiteSpace();this.handler.start();try{this.parse()}catch(b){if(B.__instanceof(b,aa._JsonDecoder.StreamError))this.error("unexpected end of stream");
else throw b;}this.ignoreWhiteSpace();this.pos<this.src.length&&this.error("the stream contains unrecognized characters at its end");this.handler.end()},handler:null,pos:null,"char":null,src:null,tabsize:null,line:null,col:null,__class__:aa.JsonDecoder};aa._JsonDecoder={};aa._JsonDecoder.StreamError={__ename__:["thx","json","_JsonDecoder","StreamError"],__constructs__:["Eof"]};aa._JsonDecoder.StreamError.Eof=["Eof",0];aa._JsonDecoder.StreamError.Eof.toString=q;aa._JsonDecoder.StreamError.Eof.__enum__=
aa._JsonDecoder.StreamError;aa.JsonEncoder=function(){};i["thx.json.JsonEncoder"]=aa.JsonEncoder;aa.JsonEncoder.__name__=["thx","json","JsonEncoder"];aa.JsonEncoder.__interfaces__=[Ha.IDataHandler];aa.JsonEncoder.prototype={quote:function(a){return'"'+(new M(".","")).customReplace((new M("(\n)","g")).replace((new M('("|\\\\)',"g")).replace(a,"\\$1"),"\\n"),function(a){a=u.cca(a.matched(0),0);return 32<=a&&127>=a?String.fromCharCode(a):"\\u"+C.hex(a,4)})+'"'},valueBool:function(a){this.buf.b+=t.string(a?
"true":"false")},valueNull:function(){this.buf.b+="null"},valueFloat:function(a){this.buf.b+=t.string(a)},valueInt:function(a){this.buf.b+=t.string(a)},valueString:function(a){this.buf.b+=t.string(this.quote(a))},valueDate:function(a){this.buf.b+=t.string(a.getTime())},arrayEnd:function(){this.buf.b+="]";this.count.pop()},arrayItemEnd:function(){},arrayItemStart:function(){0<this.count[this.count.length-1]++&&(this.buf.b+=",")},arrayStart:function(){this.buf.b+="[";this.count.push(0)},objectEnd:function(){this.buf.b+=
"}";this.count.pop()},objectFieldEnd:function(){},objectFieldStart:function(a){0<this.count[this.count.length-1]++&&(this.buf.b+=",");this.buf.b+=t.string(this.quote(a)+":")},objectStart:function(){this.buf.b+="{";this.count.push(0)},end:function(){this.encodedString=this.buf.b;this.buf=null},start:function(){this.lvl=0;this.buf=new Ab;this.encodedString=null;this.count=[]},count:null,lvl:null,buf:null,encodedString:null,__class__:aa.JsonEncoder};V.Ease=function(){};i["thx.math.Ease"]=V.Ease;V.Ease.__name__=
["thx","math","Ease"];V.Ease.mode=function(a,b){if(null==b)b=V.Equations.cubic;if(null==a)a=V.EaseMode.EaseIn;switch(a[1]){case 0:return b;case 1:return function(a){return 1-b(1-a)};case 2:return function(a){return 0.5*(0.5>a?b(2*a):2-b(2-2*a))};case 3:return V.Ease.mode(V.EaseMode.EaseInEaseOut,V.Ease.mode(V.EaseMode.EaseOut,b))}};V.EaseMode={__ename__:["thx","math","EaseMode"],__constructs__:["EaseIn","EaseOut","EaseInEaseOut","EaseOutEaseIn"]};V.EaseMode.EaseIn=["EaseIn",0];V.EaseMode.EaseIn.toString=
q;V.EaseMode.EaseIn.__enum__=V.EaseMode;V.EaseMode.EaseOut=["EaseOut",1];V.EaseMode.EaseOut.toString=q;V.EaseMode.EaseOut.__enum__=V.EaseMode;V.EaseMode.EaseInEaseOut=["EaseInEaseOut",2];V.EaseMode.EaseInEaseOut.toString=q;V.EaseMode.EaseInEaseOut.__enum__=V.EaseMode;V.EaseMode.EaseOutEaseIn=["EaseOutEaseIn",3];V.EaseMode.EaseOutEaseIn.toString=q;V.EaseMode.EaseOutEaseIn.__enum__=V.EaseMode;V.Random=function(a){null==a&&(a=1);this.seed=a};i["thx.math.Random"]=V.Random;V.Random.__name__=["thx","math",
"Random"];V.Random.prototype={seed:null,__class__:V.Random};Lb={NumberParser:function(){}};i["thx.number.NumberParser"]=Lb.NumberParser;Lb.NumberParser.__name__=["thx","number","NumberParser"];Lb.NumberParser.parse=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());Lb.NumberParser.cultureNumberEReg(b);var c=a,d=Math.NaN,e=b.number,f=fb.ERegs.escapeERegChars(e.groupsSeparator),e=fb.ERegs.escapeERegChars(e.decimalsSeparator);Lb.NumberParser.canParse(a,b)&&(c=(new M(f,"gi")).replace(c,""),c=(new M(e,
"gi")).replace(c,"."),d=t.parseFloat(c),(new M(fb.ERegs.escapeERegChars(b.signNeg),"")).match(a)&&0<d&&(d*=-1));return d};Lb.NumberParser.cultureNumberEReg=function(a){var b=a.number,c=b.groups.slice(),d="",e=fb.ERegs.escapeERegChars(b.groupsSeparator),f=fb.ERegs.escapeERegChars(b.decimalsSeparator);if(null!=a.digits)throw"unsupported digit characters";d="[0-9]";a=new Ab;a.b+="(";if(2<c.length)throw"too many groups!";if(2==c.length)0==c[1]?a.b+=t.string("("+d+"*"+e+")"):(a.b+=t.string("(("+d+"{1,"+
c[1]+"}"+e+")"),a.b+=t.string("("+d+"{"+c[1]+"}"+e+")*"+d+"{"+c[0]+"})|")),a.b=0==c[0]?a.b+t.string("("+d+"*"+e+")"):a.b+t.string("("+d+"+)");1==c.length&&(a.b+=t.string("(("+d+"{1,"+c[0]+"})"),a.b+=t.string("("+e+d+"{"+c[0]+"})+)|"),a.b+=t.string("("+d+"+)"));a.b+=")";a.b+=t.string("("+f+d+"*)?");a.b+="([eE][+\\-]?\\d+)?";c=a.b;"-n"!=b.patternNegative?(b=(new M("([^n]+)","g")).replace(fb.ERegs.escapeERegChars(b.patternNegative),"($1)?"),c=(new M("n","")).replace(b,c)):c="[+-]?"+c;return new M("^"+
c+"$","gi")};Lb.NumberParser.canParse=function(a,b){null==b&&(b=m.Culture.get_defaultCulture());return Lb.NumberParser.cultureNumberEReg(b).match(a)?!0:!1};p={Arc:function(){this._r0=function(){return 0};this._r1=function(){return 1};this._a0=function(){return 0};this._a1=function(){return Math.PI}}};i["thx.svg.Arc"]=p.Arc;p.Arc.__name__=["thx","svg","Arc"];p.Arc.fromAngleObject=function(){return(new p.Arc).startAnglef(function(a){return a.startAngle}).endAnglef(function(a){return a.endAngle})};p.Arc.prototype=
{shape:function(a,b){var c=this._a0(a,b)+p.LineInternals.arcOffset,d=this._a1(a,b)+p.LineInternals.arcOffset,e=d-c,f=e<Math.PI?"0":"1",g=Math.cos(c),c=Math.sin(c),i=Math.cos(d),d=Math.sin(d),j=this._r0(a,b),k=this._r1(a,b);return e>=p.LineInternals.arcMax?0!=j?"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"M0,"+j+"A"+j+","+j+" 0 1,1 0,"+-j+"A"+j+","+j+" 0 1,1 0,"+j+"Z":"M0,"+k+"A"+k+","+k+" 0 1,1 0,"+-k+"A"+k+","+k+" 0 1,1 0,"+k+"Z":0!=j?"M"+k*g+","+k*c+"A"+k+","+k+" 0 "+f+",1 "+k*
i+","+k*d+"L"+j*i+","+j*d+"A"+j+","+j+" 0 "+f+",0 "+j*g+","+j*c+"Z":"M"+k*g+","+k*c+"A"+k+","+k+" 0 "+f+",1 "+k*i+","+k*d+"L0,0Z"},endAnglef:function(a){this._a1=a;return this},startAnglef:function(a){this._a0=a;return this},outerRadiusf:function(a){this._r1=a;return this},outerRadius:function(a){return this.outerRadiusf(function(){return a})},innerRadiusf:function(a){this._r0=a;return this},innerRadius:function(a){return this.innerRadiusf(function(){return a})},_a1:null,_a0:null,_r1:null,_r0:null,
__class__:p.Arc};p.Area=function(a,b,c,d){this._x=a;this._y0=b;this._y1=c;this._interpolator=d};i["thx.svg.Area"]=p.Area;p.Area.__name__=["thx","svg","Area"];p.Area.prototype={y1:function(a){this._y1=a;return this},y0:function(a){this._y0=a;return this},x:function(a){this._x=a;return this},interpolator:function(a){this._interpolator=a;return this},shape:function(a){var b=p.LineInternals.linePoints(a,this._x,this._y0);b.reverse();return 1>a.length?null:"M"+p.LineInternals.interpolatePoints(p.LineInternals.linePoints(a,
this._x,this._y1),this._interpolator)+"L"+p.LineInternals.interpolatePoints(b,this._interpolator)+"Z"},_interpolator:null,_y1:null,_y0:null,_x:null,__class__:p.Area};p.Diagonal=function(){this._projection=p.Diagonal.diagonalProjection};i["thx.svg.Diagonal"]=p.Diagonal;p.Diagonal.__name__=["thx","svg","Diagonal"];p.Diagonal.diagonalProjection=function(a){return a};p.Diagonal.forObject=function(){return(new p.Diagonal).sourcef(function(a){return[a.x0,a.y0]}).targetf(function(a){return[a.x1,a.y1]})};
p.Diagonal.forArray=function(){return(new p.Diagonal).sourcef(function(a){return[a[0],a[1]]}).targetf(function(a){return[a[2],a[3]]})};p.Diagonal.prototype={projection:function(a){this._projection=a;return this},targetf:function(a){this._target=a;return this},sourcef:function(a){this._source=a;return this},diagonal:function(a,b){var c=this._source(a,b),d=this._target(a,b),e=(c[1]+d[1])/2,c=I.map(u.iter([c,[c[0],e],[d[0],e],d]),this._projection);return"M "+c[0][0]+" "+c[0][1]+" C "+c[1][0]+" "+c[1][1]+
" "+c[2][0]+" "+c[2][1]+" "+c[3][0]+" "+c[3][1]},_projection:null,_target:null,_source:null,__class__:p.Diagonal};p.Line=function(a,b,c){this._x=a;this._y=b;this._interpolator=c};i["thx.svg.Line"]=p.Line;p.Line.__name__=["thx","svg","Line"];p.Line.prototype={interpolator:function(a){this._interpolator=a;return this},shape:function(a){return 1>a.length?null:"M"+p.LineInternals.interpolatePoints(p.LineInternals.linePoints(a,this._x,this._y),this._interpolator)},_interpolator:null,_y:null,_x:null,__class__:p.Line};
p.LineInternals=function(){};i["thx.svg.LineInternals"]=p.LineInternals;p.LineInternals.__name__=["thx","svg","LineInternals"];p.LineInternals.linePoints=function(a,b,c){for(var d=[],e,f=0,g=a.length;f<g;){var i=f++;e=a[i];d.push([b(e,i),c(e,i)])}return d};p.LineInternals.interpolatePoints=function(a,b){if(null==b)b=p.LineInterpolator.Linear;var c=[],d=0,e=a.length,f=a[0],g=b;switch(g[1]){case 0:for(c.push(f[0]+","+f[1]);++d<e;)f=a[d],c.push("L"+f[0]+","+f[1]);break;case 1:for(c.push(f[0]+","+f[1]);++d<
e-1;)f=a[d],g=a[d+1],c.push("H"+(f[0]+g[0])/2+"V"+f[1]);f=a[d];c.push("H"+f[0]+"V"+f[1]);break;case 2:for(c.push(f[0]+","+f[1]);++d<e;)f=a[d],c.push("V"+f[1]+"H"+f[0]);break;case 3:for(c.push(f[0]+","+f[1]);++d<e;)f=a[d],c.push("H"+f[0]+"V"+f[1]);break;case 4:if(3>a.length)return p.LineInternals.interpolatePoints(a,p.LineInterpolator.Linear);var d=1,f=a[1],i=f[0],j=f[1],g=[i,i,i,f[0]],k=[j,j,j,f[1]];c.push(i+","+j);for(p.LineInternals._lineBasisBezier(c,g,k);++d<e;)f=a[d],g.shift(),g.push(f[0]),k.shift(),
k.push(f[1]),p.LineInternals._lineBasisBezier(c,g,k);for(d=-1;2>++d;)g.shift(),g.push(f[0]),k.shift(),k.push(f[1]),p.LineInternals._lineBasisBezier(c,g,k);break;case 5:if(4>a.length)return p.LineInternals.interpolatePoints(a,p.LineInterpolator.Linear);d=-1;g=[0];for(k=[0];3>++d;)f=a[d],g.push(f[0]),k.push(f[1]);c.push(p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier3,g)+","+p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier3,k));for(--d;++d<e;)f=a[d],g.shift(),g.push(f[0]),k.shift(),
k.push(f[1]),p.LineInternals._lineBasisBezier(c,g,k);break;case 6:d=-1;i=e+4;g=[];for(k=[];4>++d;)f=a[d%e],g.push(f[0]),k.push(f[1]);c.push(p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier3,g)+","+p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier3,k));for(--d;++d<i;)f=a[d%e],g.shift(),g.push(f[0]),k.shift(),k.push(f[1]),p.LineInternals._lineBasisBezier(c,g,k);break;case 7:return c=g[2],null==c&&(c=0.7),3>a.length?p.LineInternals.interpolatePoints(a,p.LineInterpolator.Linear):a[0][0]+
","+a[0][1]+p.LineInternals._lineHermite(a,p.LineInternals._lineCardinalTangents(a,c));case 8:return c=g[2],4>a.length?p.LineInternals.interpolatePoints(a,p.LineInterpolator.Linear):a[1][0]+","+a[1][1]+t.string(p.LineInternals._lineCardinalTangents(a,c));case 9:return c=g[2],null==c&&(c=0.7),3>a.length?p.LineInternals.interpolatePoints(a,p.LineInterpolator.Linear):a[0][0]+","+a[0][1]+p.LineInternals._lineHermite(a,p.LineInternals._lineCardinalTangents([a[a.length-2]].concat(a).concat([a[1]]),c));
case 10:return 3>a.length?p.LineInternals.interpolatePoints(a,p.LineInterpolator.Linear):a[0][0]+","+a[0][1]+p.LineInternals._lineHermite(a,p.LineInternals._lineMonotoneTangents(a))}return c.join("")};p.LineInternals._lineDot4=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};p.LineInternals._lineBasisBezier=function(a,b,c){a.push("C"+p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier1,b)+","+p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier1,c)+","+p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier2,
b)+","+p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier2,c)+","+p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier3,b)+","+p.LineInternals._lineDot4(p.LineInternals._lineBasisBezier3,c))};p.LineInternals._lineSlope=function(a,b){return(b[1]-a[1])/(b[0]-a[0])};p.LineInternals._lineFiniteDifferences=function(a){for(var b=0,c=a.length-1,d=[],e=a[1],f=d[0]=p.LineInternals._lineSlope(a[0],e);++b<c;)d[b]=f+(f=p.LineInternals._lineSlope(e,e=a[b+1]));d[b]=f;return d};p.LineInternals._lineMonotoneTangents=
function(a){for(var b=[],c,d,e,f,g=p.LineInternals._lineFiniteDifferences(a),i=-1,j=a.length-1;++i<j;)c=p.LineInternals._lineSlope(a[i],a[i+1]),1.0E-6>Math.abs(c)?g[i]=g[i+1]=0:(d=g[i]/c,e=g[i+1]/c,f=d*d+e*e,9<f&&(f=3*c/Math.sqrt(f),g[i]=f*d,g[i+1]=f*e));for(i=-1;++i<=j;)f=(a[P.min(j,i+1)][0]-a[P.max(0,i-1)][0])/(6*(1+g[i]*g[i])),b.push([Math.isFinite(f)?f:0,Math.isFinite(f*=g[i])?f:0]);return b};p.LineInternals._lineHermite=function(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return p.LineInternals.interpolatePoints(a,
p.LineInterpolator.Linear);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],i=g,j=1;c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],j=2);if(1<b.length){i=b[1];f=a[j];j++;d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-i[0])+","+(f[1]-i[1])+","+f[0]+","+f[1];e=2;for(g=b.length;e<g;)i=e++,f=a[j],i=b[i],d+="S"+(f[0]-i[0])+","+(f[1]-i[1])+","+f[0]+","+f[1],j++}c&&(c=a[j],d+="Q"+(f[0]+2*i[0]/3)+","+(f[1]+2*i[1]/3)+","+c[0]+","+c[1]);return d};p.LineInternals._lineCardinalTangents=
function(a,b){for(var c=[],d=(1-b)/2,e=a[0],f=a[1],g=a[2],i=2,j=a.length;++i<j;)c.push([d*(g[0]-e[0]),d*(g[1]-e[1])]),e=f,f=g,g=a[i];c.push([d*(g[0]-e[0]),d*(g[1]-e[1])]);return c};p.LineInterpolator={__ename__:["thx","svg","LineInterpolator"],__constructs__:"Linear,Step,StepBefore,StepAfter,Basis,BasisOpen,BasisClosed,Cardinal,CardinalOpen,CardinalClosed,Monotone".split(",")};p.LineInterpolator.Linear=["Linear",0];p.LineInterpolator.Linear.toString=q;p.LineInterpolator.Linear.__enum__=p.LineInterpolator;
p.LineInterpolator.Step=["Step",1];p.LineInterpolator.Step.toString=q;p.LineInterpolator.Step.__enum__=p.LineInterpolator;p.LineInterpolator.StepBefore=["StepBefore",2];p.LineInterpolator.StepBefore.toString=q;p.LineInterpolator.StepBefore.__enum__=p.LineInterpolator;p.LineInterpolator.StepAfter=["StepAfter",3];p.LineInterpolator.StepAfter.toString=q;p.LineInterpolator.StepAfter.__enum__=p.LineInterpolator;p.LineInterpolator.Basis=["Basis",4];p.LineInterpolator.Basis.toString=q;p.LineInterpolator.Basis.__enum__=
p.LineInterpolator;p.LineInterpolator.BasisOpen=["BasisOpen",5];p.LineInterpolator.BasisOpen.toString=q;p.LineInterpolator.BasisOpen.__enum__=p.LineInterpolator;p.LineInterpolator.BasisClosed=["BasisClosed",6];p.LineInterpolator.BasisClosed.toString=q;p.LineInterpolator.BasisClosed.__enum__=p.LineInterpolator;p.LineInterpolator.Cardinal=function(a){a=["Cardinal",7,a];a.__enum__=p.LineInterpolator;a.toString=q;return a};p.LineInterpolator.CardinalOpen=function(a){a=["CardinalOpen",8,a];a.__enum__=
p.LineInterpolator;a.toString=q;return a};p.LineInterpolator.CardinalClosed=function(a){a=["CardinalClosed",9,a];a.__enum__=p.LineInterpolator;a.toString=q;return a};p.LineInterpolator.Monotone=["Monotone",10];p.LineInterpolator.Monotone.toString=q;p.LineInterpolator.Monotone.__enum__=p.LineInterpolator;p.LineInterpolators=function(){};i["thx.svg.LineInterpolators"]=p.LineInterpolators;p.LineInterpolators.__name__=["thx","svg","LineInterpolators"];p.LineInterpolators.parse=function(a,b){null==b&&
(b=":");var c;switch(a.split(b)[0].toLowerCase()){case "basis":c=p.LineInterpolator.Basis;break;case "basisopen":c=p.LineInterpolator.BasisOpen;break;case "basisclosed":c=p.LineInterpolator.BasisClosed;break;case "cardinal":c=p.LineInterpolator.Cardinal(p.LineInterpolators.argument(a,b));break;case "cardinalopen":c=p.LineInterpolator.CardinalOpen(p.LineInterpolators.argument(a,b));break;case "cardinalclosed":c=p.LineInterpolator.CardinalClosed(p.LineInterpolators.argument(a,b));break;case "monotone":c=
p.LineInterpolator.Monotone;break;case "step":c=p.LineInterpolator.Step;break;case "stepafter":c=p.LineInterpolator.StepAfter;break;case "stepbefore":c=p.LineInterpolator.StepBefore;break;default:c=p.LineInterpolator.Linear}return c};p.LineInterpolators.argument=function(a,b){var c=a.split(b)[1];return null==c?null:t.parseFloat(c)};p.PathGeoJson=function(){this.set_pointRadius(4.5);this.set_projection(new W.AlbersUsa);this.pathTypes=new p.PathTypes(this);this.centroidTypes=new p.CentroidTypes(this);
this.areaTypes=new p.AreaTypes(this)};i["thx.svg.PathGeoJson"]=p.PathGeoJson;p.PathGeoJson.__name__=["thx","svg","PathGeoJson"];p.PathGeoJson.circle=function(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"};p.PathGeoJson.prototype={set_projection:function(a){return this.projection=a},set_pointRadius:function(a){this.pointRadius=a;this.pathCircle=p.PathGeoJson.circle(a);return a},centroid:function(a){return this.centroidTypes.centroid(a)},path:function(a){return this.pathTypes.path(a)},
areaTypes:null,centroidTypes:null,pathTypes:null,pathCircle:null,projection:null,pointRadius:null,__class__:p.PathGeoJson,__properties__:{set_pointRadius:"set_pointRadius",set_projection:"set_projection"}};p.PathTypes=function(a){this.geo=a};i["thx.svg.PathTypes"]=p.PathTypes;p.PathTypes.__name__=["thx","svg","PathTypes"];p.PathTypes.prototype={project:function(a){return this.geo.projection.project(a).join(",")},geometryCollection:function(a){for(var b=[],c=0,a=a.geometries;c<a.length;){var d=a[c];
++c;b.push(this.path(d))}return b.join("")},multiPolygon:function(a){for(var b=[],a=a.coordinates,c=0;c<a.length;){var d=a[c];++c;for(var e=0;e<d.length;){var f=d[e];++e;b.push("M");for(var g=0;g<f.length;){var i=f[g];++g;b.push(this.project(i));b.push("L")}b[b.length-1]="Z"}}return b.join("")},polygon:function(a){for(var b=[],a=a.coordinates,c=0;c<a.length;){var d=a[c];++c;b.push("M");for(var e=0,f=d.length;e<f;){var g=e++;b.push(this.project(d[g]));b.push("L")}b[b.length-1]="Z"}return b.join("")},
multiLineString:function(a){for(var b=[],a=a.coordinates,c=0;c<a.length;){var d=a[c];++c;b.push("M");for(var e=0,f=d.length;e<f;){var g=e++;b.push(this.project(d[g]));b.push("L")}b.pop()}return b.join("")},lineString:function(a){for(var b=[],a=a.coordinates,c=0,d=a.length;c<d;){var e=c++;b.push(this.project(a[e]))}return"M"+b.join("L")},multiPoint:function(a){for(var b=[],a=a.coordinates,c=0,d=a.length;c<d;){var e=c++;b.push("M"+this.project(a[e])+this.geo.pathCircle)}return b.join("")},point:function(a){return"M"+
this.project(a.coordinates)+this.geo.pathCircle},feature:function(a){return this.path(a.geometry)},featureCollection:function(a){for(var b=[],a=a.features,c=0,d=a.length;c<d;){var e=c++;b.push(this.path(a[e].geometry))}return b.join("")},path:function(a){var b=j.field(this,J.lcfirst(a.type));return null==b?"":b.apply(this,[a])},geo:null,__class__:p.PathTypes};p.AreaTypes=function(a){this.geo=a};i["thx.svg.AreaTypes"]=p.AreaTypes;p.AreaTypes.__name__=["thx","svg","AreaTypes"];p.AreaTypes.prototype=
{project:function(a){return this.geo.projection.project(a)},parea:function(a){return Math.abs((new R.Polygon(I.map(u.iter(a),v(this,this.project)))).area())},polygonArea:function(a){for(var b=this.parea(a[0]),c=1,d=a.length;c<d;)var e=c++,b=b-this.parea(a[e]);return b},geometryCollection:function(a){for(var b=0,c=0,a=a.geometries;c<a.length;){var d=a[c];++c;b+=this.area(d)}return b},multiPolygon:function(a){for(var b=0,a=a.coordinates,c=0;c<a.length;){var d=a[c];++c;b+=this.polygonArea(d)}return b},
polygon:function(a){return this.polygonArea(a.coordinates)},multiLineString:function(){return 0},lineString:function(){return 0},multiPoint:function(){return 0},point:function(){return 0},feature:function(a){return this.area(a.geometry)},featureCollection:function(a){for(var b=0,c=0,a=a.features;c<a.length;){var d=a[c];++c;b+=this.area(d.geometry)}return b},area:function(a){var b=j.field(this,J.lcfirst(a.type));return null==b?0:b.apply(this,[a])},geo:null,__class__:p.AreaTypes};p.CentroidTypes=function(a){this.geo=
a};i["thx.svg.CentroidTypes"]=p.CentroidTypes;p.CentroidTypes.__name__=["thx","svg","CentroidTypes"];p.CentroidTypes.prototype={project:function(a){return this.geo.projection.project(a)},polygonCentroid:function(a){for(var b=new R.Polygon(I.map(u.iter(a[0]),v(this,this.project))),c=b.centroid(1),d=c[0],e=c[1],f=Math.abs(b.area()),g=1,i=a.length;g<i;)b=g++,b=new R.Polygon(I.map(u.iter(a[b]),v(this,this.project))),c=b.centroid(1),d-=c[0],e-=c[1],f-=Math.abs(b.area());return[d,e,6*f]},multiPolygon:function(a){for(var b=
0,c=0,d=0,e,a=a.coordinates,f=0;f<a.length;)e=a[f],++f,e=this.polygonCentroid(e),b+=e[0],c+=e[1],d+=e[2];return[b/d,c/d]},polygon:function(a){a=this.polygonCentroid(a.coordinates);return[a[0]/a[2],a[1]/a[2]]},feature:function(a){return this.centroid(a.geometry)},point:function(a){return this.project(a.coordinates)},centroid:function(a){var b=j.field(this,J.lcfirst(a.type));return null==b?[0,0]:b.apply(this,[a])},geo:null,__class__:p.CentroidTypes};p.Symbol=function(){};i["thx.svg.Symbol"]=p.Symbol;
p.Symbol.__name__=["thx","svg","Symbol"];p.Symbol.triangleDown=function(a){var a=Math.sqrt(a/p.Symbol.sqrt3),b=a*p.Symbol.sqrt3/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"};p.Symbol.triangleUp=function(a){var a=Math.sqrt(a/p.Symbol.sqrt3),b=a*p.Symbol.sqrt3/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"};p.Symbol.square=function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"};p.Symbol.diamond=function(a){var a=Math.sqrt(a/(2*p.Symbol.tan30)),b=a*p.Symbol.tan30;
return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"};p.Symbol.cross=function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"};p.Symbol.circle=function(a){a=Math.sqrt(a/Math.PI);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"};p.Symbol.arrowUp=function(a){a=Math.sqrt(a/2);return"M"+-a+",0h"+a/2+"v"+a+"h"+a+"v"+-a+"h"+a/2+"l"+-a+","+-a+"Z"};p.Symbol.arrowDown=function(a){a=Math.sqrt(a/2);return"M"+-a+",0h"+
a/2+"v"+-a+"h"+a+"v"+a+"h"+a/2+"l"+-a+","+a+"Z"};p.Symbol.arrowDownWide=function(a){a=Math.sqrt(a/2.5);return"M"+-a+",0h"+a/4+"v"+-a+"h"+1.5*a+"v"+a+"h"+a/4+"l"+-a+","+a+"Z"};p.Symbol.arrowRight=function(a){a=Math.sqrt(a/2);return"M0,"+-a+"v"+a/2+"h"+-a+"v"+a+"h"+a+"v"+a/2+"l"+a+","+-a+"Z"};p.Symbol.arrowLeft=function(a){a=Math.sqrt(a/2);return"M0,"+-a+"v"+a/2+"h"+a+"v"+a+"h"+-a+"v"+a/2+"l"+-a+","+-a+"Z"};p.Symbol.star=function(a){a=Math.sqrt(a/0.31027)/2;return"M0,"+-a+"L"+0.236*a+","+-0.325*a+" "+
0.951*a+","+-0.309*a+" "+0.382*a+","+0.124*a+" "+0.588*a+","+0.809*a+" "+0*a+","+0.401*a+" "+-0.588*a+","+0.809*a+" "+-0.382*a+","+0.124*a+" "+-0.951*a+","+-0.309*a+" "+-0.236*a+","+-0.325*a+" Z"};fb={ERegs:function(){}};i["thx.text.ERegs"]=fb.ERegs;fb.ERegs.__name__=["thx","text","ERegs"];fb.ERegs.escapeERegChars=function(a){return fb.ERegs._escapePattern.customReplace(a,function(a){return"\\"+a.matched(0)})};var Q;if(!("indexOf"in Array.prototype))Array.prototype.indexOf=function(a,b){void 0===
b&&(b=0);0>b&&(b+=this.length);0>b&&(b=0);for(var c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};if(!("lastIndexOf"in Array.prototype))Array.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);0>b&&(b+=this.length);b>this.length-1&&(b=this.length-1);for(b++;0<b--;)if(b in this&&this[b]===a)return b;return-1};if(!("forEach"in Array.prototype))Array.prototype.forEach=function(a,b){for(var c=0,d=this.length;c<d;c++)c in this&&a.call(b,this[c],c,this)};if(!("map"in Array.prototype))Array.prototype.map=
function(a,b){for(var c=Array(this.length),d=0,e=this.length;d<e;d++)d in this&&(c[d]=a.call(b,this[d],d,this));return c};if(!("filter"in Array.prototype))Array.prototype.filter=function(a,b){for(var c=[],d,e=0,f=this.length;e<f;e++)e in this&&a.call(b,d=this[e],e,this)&&c.push(d);return c};if(!("every"in Array.prototype))Array.prototype.every=function(a,b){for(var c=0,d=this.length;c<d;c++)if(c in this&&!a.call(b,this[c],c,this))return!1;return!0};var se=new ld;jc.EMPTY=se.getBytes();if(Array.prototype.indexOf)u.remove=
function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;i.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=i.String=String;String.__name__=["String"];Array.prototype.__class__=i.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=i.Date=Date;Date.__name__=["Date"];
var le=i.Int={__name__:["Int"]},pe=i.Dynamic={__name__:["Dynamic"]},ae=i.Float=Number;ae.__name__=["Float"];var ie=Boolean;ie.__ename__=["Bool"];var qe=i.Class={__name__:["Class"]},re={};if(null==Array.prototype.map)Array.prototype.map=function(a){for(var b=[],c=0,d=this.length;c<d;){var e=c++;b[e]=a(this[e])}return b};if(null==Array.prototype.filter)Array.prototype.filter=function(a){for(var b=[],c=0,d=this.length;c<d;){var e=this[c++];a(e)&&b.push(e)}return b};var $b=Xa.userAgent(),me=Xa.hasNavigator(),
Pb;Xa.host=!me?sa.UnknownServer:"undefined"!==typeof module&&module.exports?sa.NodeJs:(Pb=new M("MSIE(?:/| )(\\S*);","")).match($b)?sa.IE(Pb.matched(1)):(Pb=new M("Firefox(?:/| )(\\S*)","")).match($b)?sa.Firefox(Pb.matched(1)):(Pb=new M("Chrome(?:/| )(\\S*)","")).match($b)?sa.Chrome(Pb.matched(1)):(Pb=new M("Version(?:/| )(\\S*) Safari(?:/| )(\\S*)","")).match($b)?sa.Safari(Pb.matched(1)):(Pb=new M("Opera(?:/| )(\\S*)","")).match($b)?sa.Opera(Pb.matched(1)):sa.Unknown($b);Xa.os=!me?na.UnknownOs:(Pb=
new M("Windows NT\\s+(\\d+\\.\\d+)","")).match($b)?function(){var a;switch(Pb.matched(1)){case "5.1":a="XP";break;case "5.2":a="2003/XP x64";break;case "6.0":a="Vista";break;case "6.1":a="7";break;case "6.2":a="8";break;default:a="unknown"}return na.Windows(a)}(this):(new M("Mac OS X","")).match($b)?na.Mac:(new M("(iPhone|iPad|iPod)","")).match($b)?na.IOs:(new M("Linux","")).match($b)?na.Linux:(new M("Android","")).match($b)?na.Android:na.UnknownOs;Xa.environment=function(a){return function(a){var c;
switch(Xa.host[1]){case 0:c=za.Server;break;case 1:c=za.Server;break;case 2:case 6:case 3:c=za.Desktop;break;case 4:c=function(){var a;switch(Xa.os[1]){case 1:a=za.Mobile;break;default:a=za.Desktop}return a}(a);break;case 5:c=function(){var a;switch(Xa.os[1]){case 2:a=za.Mobile;break;default:a=za.Desktop}return a}(a);break;case 7:c=function(){var a;switch(Xa.os[1]){case 5:a=za.UnknownEnvironment;break;default:a=za.Desktop}return a}(a)}return c}(a)}(this);(function(){function a(a,b,c,d,e,f){for(var e=
0,g=d.length;e<g;e++){var h=d[e];if(h){for(var i=!1,h=h[a];h;){if(h.sizcache===c){i=d[h.sizset];break}if(1===h.nodeType&&!f)h.sizcache=c,h.sizset=e;if(h.nodeName.toLowerCase()===b){i=h;break}h=h[a]}d[e]=i}}}function b(a,b,c,d,e,f){for(var e=0,g=d.length;e<g;e++){var h=d[e];if(h){for(var i=!1,h=h[a];h;){if(h.sizcache===c){i=d[h.sizset];break}if(1===h.nodeType){if(!f)h.sizcache=c,h.sizset=e;if("string"!==typeof b){if(h===b){i=!0;break}}else if(0<k.filter(b,[h]).length){i=h;break}}h=h[a]}d[e]=i}}}var c=
/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d=0,e=Object.prototype.toString,f=!1,g=!0,i=/\\/g,j=/\W/;[0,0].sort(function(){g=!1;return 0});var k=function(a,b,d,f){var d=d||[],g=b=b||document;if(1!==b.nodeType&&9!==b.nodeType)return[];if(!a||"string"!==typeof a)return d;var h,i,j,n,o,p=!0,s=k.isXML(b),r=[],t=a;do if(c.exec(""),h=c.exec(t))if(t=h[3],r.push(h[1]),h[2]){n=h[3];break}while(h);if(1<r.length&&m.exec(a))if(2===
r.length&&l.relative[r[0]])i=u(r[0]+r[1],b);else for(i=l.relative[r[0]]?[b]:k(r.shift(),b);r.length;)a=r.shift(),l.relative[a]&&(a+=r.shift()),i=u(a,i);else if(!f&&1<r.length&&9===b.nodeType&&!s&&l.match.ID.test(r[0])&&!l.match.ID.test(r[r.length-1])&&(h=k.find(r.shift(),b,s),b=h.expr?k.filter(h.expr,h.set)[0]:h.set[0]),b){h=f?{expr:r.pop(),set:q(f)}:k.find(r.pop(),1===r.length&&("~"===r[0]||"+"===r[0])&&b.parentNode?b.parentNode:b,s);i=h.expr?k.filter(h.expr,h.set):h.set;for(0<r.length?j=q(i):p=
!1;r.length;)h=o=r.pop(),l.relative[o]?h=r.pop():o="",null==h&&(h=b),l.relative[o](j,h,s)}else j=[];j||(j=i);j||k.error(o||a);if("[object Array]"===e.call(j))if(p)if(b&&1===b.nodeType)for(a=0;null!=j[a];a++)j[a]&&(!0===j[a]||1===j[a].nodeType&&k.contains(b,j[a]))&&d.push(i[a]);else for(a=0;null!=j[a];a++)j[a]&&1===j[a].nodeType&&d.push(i[a]);else d.push.apply(d,j);else q(j,d);n&&(k(n,g,d,f),k.uniqueSort(d));return d};k.uniqueSort=function(a){if(r&&(f=g,a.sort(r),f))for(var b=1;b<a.length;b++)a[b]===
a[b-1]&&a.splice(b--,1);return a};k.matches=function(a,b){return k(a,null,null,b)};k.matchesSelector=function(a,b){return 0<k(b,null,null,[a]).length};k.find=function(a,b,c){var d;if(!a)return[];for(var e=0,f=l.order.length;e<f;e++){var g,h=l.order[e];if(g=l.leftMatch[h].exec(a)){var j=g[1];g.splice(1,1);if("\\"!==j.substr(j.length-1)&&(g[1]=(g[1]||"").replace(i,""),d=l.find[h](g,b,c),null!=d)){a=a.replace(l.match[h],"");break}}}d||(d="undefined"!==typeof b.getElementsByTagName?b.getElementsByTagName("*"):
[]);return{set:d,expr:a}};k.filter=function(a,b,c,d){for(var e,f,g=a,h=[],i=b,j=b&&b[0]&&k.isXML(b[0]);a&&b.length;){for(var m in l.filter)if(null!=(e=l.leftMatch[m].exec(a))&&e[2]){var o,n,p=l.filter[m];n=e[1];f=!1;e.splice(1,1);if("\\"!==n.substr(n.length-1)){i===h&&(h=[]);if(l.preFilter[m])if(e=l.preFilter[m](e,i,c,h,d,j)){if(!0===e)continue}else f=o=!0;if(e)for(var q=0;null!=(n=i[q]);q++)if(n){o=p(n,e,q,i);var r=d^!!o;c&&null!=o?r?f=!0:i[q]=!1:r&&(h.push(n),f=!0)}if(void 0!==o){c||(i=h);a=a.replace(l.match[m],
"");if(!f)return[];break}}}if(a===g)if(null==f)k.error(a);else break;g=a}return i};k.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var l=k.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c="string"===typeof b,d=c&&!j.test(b),c=c&&!d;d&&(b=b.toLowerCase());for(var d=0,e=a.length,f;d<e;d++)if(f=a[d]){for(;(f=f.previousSibling)&&1!==f.nodeType;);
a[d]=c||f&&f.nodeName.toLowerCase()===b?f||!1:f===b}c&&k.filter(b,a,!0)},">":function(a,b){var c,d="string"===typeof b,e=0,f=a.length;if(d&&!j.test(b))for(b=b.toLowerCase();e<f;e++){if(c=a[e])c=c.parentNode,a[e]=c.nodeName.toLowerCase()===b?c:!1}else{for(;e<f;e++)(c=a[e])&&(a[e]=d?c.parentNode:c.parentNode===b);d&&k.filter(b,a,!0)}},"":function(c,e,f){var g,h=d++,i=b;"string"===typeof e&&!j.test(e)&&(g=e=e.toLowerCase(),i=a);i("parentNode",e,h,c,g,f)},"~":function(c,e,f){var g,h=d++,i=b;"string"===
typeof e&&!j.test(e)&&(g=e=e.toLowerCase(),i=a);i("previousSibling",e,h,c,g,f)}},find:{ID:function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if("undefined"!==typeof b.getElementsByName){for(var c=[],d=b.getElementsByName(a[1]),e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return 0===c.length?null:c}},TAG:function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a[1])}},
preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(i,"")+" ";if(f)return a;for(var f=0,g;null!=(g=b[f]);f++)g&&(e^(g.className&&0<=(" "+g.className+" ").replace(/[\t\n\r]/g," ").indexOf(a))?c||d.push(g):c&&(b[f]=!1));return!1},ID:function(a){return a[1].replace(i,"")},TAG:function(a){return a[1].replace(i,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||k.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||
!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&k.error(a[0]);a[0]=d++;return a},ATTR:function(a,b,c,d,e,f){b=a[1]=a[1].replace(i,"");!f&&l.attrMap[b]&&(a[1]=l.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(i,"");"~="===a[2]&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,d,e,f){if("not"===a[1])if(1<(c.exec(a[3])||"").length||/^\w/.test(a[3]))a[3]=k(a[3],null,null,b);else return a=k.filter(a[3],b,d,1^f),d||e.push.apply(e,a),!1;else if(l.match.POS.test(a[0])||l.match.CHILD.test(a[0]))return!0;
return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled&&"hidden"!==a.type},disabled:function(a){return!0===a.disabled},checked:function(a){return!0===a.checked},selected:function(a){return!0===a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!k(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),a=a.type;return"text"===a&&
(b===a||null===b)},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||"button"===a.nodeName.toLowerCase()},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,
b){return 0===b},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=l.filters[e];if(f)return f(a,c,b,d);if("contains"===e)return 0<=(a.textContent||a.innerText||k.getText([a])||"").indexOf(b[3]);if("not"===e){b=b[3];c=0;for(d=b.length;c<d;c++)if(b[c]===
a)return!1;return!0}k.error(e)},CHILD:function(a,b){var c=b[1],d=a;switch(c){case "only":case "first":for(;d=d.previousSibling;)if(1===d.nodeType)return!1;if("first"===c)return!0;d=a;case "last":for(;d=d.nextSibling;)if(1===d.nodeType)return!1;return!0;case "nth":var c=b[2],e=b[3];if(1===c&&0===e)return!0;var f=b[0],g=a.parentNode;if(g&&(g.sizcache!==f||!a.nodeIndex)){for(var h=0,d=g.firstChild;d;d=d.nextSibling)if(1===d.nodeType)d.nodeIndex=++h;g.sizcache=f}d=a.nodeIndex-e;return 0===c?0===d:0===
d%c&&0<=d/c}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(a,b){var c=b[1],c=l.attrHandle[c]?l.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),d=c+"",e=b[2],f=b[4];return null==c?"!="===e:"="===e?d===f:"*="===e?0<=d.indexOf(f):"~="===e?0<=(" "+d+" ").indexOf(f):!f?d&&!1!==c:"!="===e?d!==f:"^="===
e?0===d.indexOf(f):"$="===e?d.substr(d.length-f.length)===f:"|="===e?d===f||d.substr(0,f.length+1)===f+"-":!1},POS:function(a,b,c,d){var e=l.setFilters[b[2]];if(e)return e(a,c,b,d)}}},m=l.match.POS,n=function(a,b){return"\\"+(b-0+1)},p;for(p in l.match)l.match[p]=RegExp(l.match[p].source+/(?![^\[]*\])(?![^\(]*\))/.source),l.leftMatch[p]=RegExp(/(^(?:.|\r|\n)*?)/.source+l.match[p].source.replace(/\\(\d+)/g,n));var q=function(a,b){a=Array.prototype.slice.call(a,0);return b?(b.push.apply(b,a),b):a};
try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(s){q=function(a,b){var c=0,d=b||[];if("[object Array]"===e.call(a))Array.prototype.push.apply(d,a);else if("number"===typeof a.length)for(var f=a.length;c<f;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var r,t;document.documentElement.compareDocumentPosition?r=function(a,b){return a===b?(f=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&
4?-1:1}:(r=function(a,b){var c,d,e=[],g=[];c=a.parentNode;d=b.parentNode;var i=c;if(a===b)return f=!0,0;if(c===d)return t(a,b);if(c){if(!d)return 1}else return-1;for(;i;)e.unshift(i),i=i.parentNode;for(i=d;i;)g.unshift(i),i=i.parentNode;c=e.length;d=g.length;for(i=0;i<c&&i<d;i++)if(e[i]!==g[i])return t(e[i],g[i]);return i===c?t(a,g[i],-1):t(e[i],b,1)},t=function(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});k.getText=function(a){for(var b="",c,d=0;a[d];d++)c=
a[d],3===c.nodeType||4===c.nodeType?b+=c.nodeValue:8!==c.nodeType&&(b+=k.getText(c.childNodes));return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime(),c=document.documentElement;a.innerHTML="<a name='"+b+"'/>";c.insertBefore(a,c.firstChild);if(document.getElementById(b))l.find.ID=function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(b=b.getElementById(a[1]))?b.id===a[1]||"undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id").nodeValue===
a[1]?[b]:void 0:[]},l.filter.ID=function(a,b){var c="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b};c.removeChild(a);c=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(0<a.getElementsByTagName("*").length)l.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var d=[],e=0;c[e];e++)1===c[e].nodeType&&d.push(c[e]);c=d}return c};a.innerHTML="<a href='#'></a>";if(a.firstChild&&
"undefined"!==typeof a.firstChild.getAttribute&&"#"!==a.firstChild.getAttribute("href"))l.attrHandle.href=function(a){return a.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=k,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&0===b.querySelectorAll(".TEST").length)){k=function(b,c,d,e){c=c||document;if(!e&&!k.isXML(c)){var f=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(f&&(1===c.nodeType||9===c.nodeType)){if(f[1])return q(c.getElementsByTagName(b),
d);if(f[2]&&l.find.CLASS&&c.getElementsByClassName)return q(c.getElementsByClassName(f[2]),d)}if(9===c.nodeType){if("body"===b&&c.body)return q([c.body],d);if(f&&f[3]){var g=c.getElementById(f[3]);if(g&&g.parentNode){if(g.id===f[3])return q([g],d)}else return q([],d)}try{return q(c.querySelectorAll(b),d)}catch(h){}}else if(1===c.nodeType&&"object"!==c.nodeName.toLowerCase()){var f=c,i=(g=c.getAttribute("id"))||"__sizzle__",j=c.parentNode,m=/^\s*[+~]/.test(b);g?i=i.replace(/'/g,"\\$&"):c.setAttribute("id",
i);if(m&&j)c=c.parentNode;try{if(!m||j)return q(c.querySelectorAll("[id='"+i+"'] "+b),d)}catch(n){}finally{g||f.removeAttribute("id")}}}return a(b,c,d,e)};for(var c in a)k[c]=a[c];b=null}}();(function(){var a=document.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(document.createElement("div"),"div"),d=!1;try{b.call(document.documentElement,"[test!='']:sizzle")}catch(e){d=!0}k.matchesSelector=function(a,e){e=e.replace(/\=\s*([^'"\]]*)\s*\]/g,
"='$1']");if(!k.isXML(a))try{if(d||!l.match.PSEUDO.test(e)&&!/!=/.test(e)){var f=b.call(a,e);if(f||!c||a.document&&11!==a.document.nodeType)return f}}catch(g){}return 0<k(e,null,null,[a]).length}}})();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&0!==a.getElementsByClassName("e").length&&(a.lastChild.className="e",1!==a.getElementsByClassName("e").length))l.order.splice(1,0,"CLASS"),l.find.CLASS=function(a,
b,c){if("undefined"!==typeof b.getElementsByClassName&&!c)return b.getElementsByClassName(a[1])},a=null})();k.contains=document.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:document.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return!1};k.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1};var u=function(a,b){for(var c,d=[],e="",f=b.nodeType?[b]:b;c=l.match.PSEUDO.exec(a);)e+=
c[0],a=a.replace(l.match.PSEUDO,"");a=l.relative[a]?a+"*":a;c=0;for(var g=f.length;c<g;c++)k(a,f[c],d);return k.filter(e,d)};window.Sizzle=k})();var ne=Ob.getSizzle();ee=ne;ee.select=ne;window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1E3/60)};var je,oe=window.navigator.appName;je="Microsoft Internet Explorer"==oe?30:"Netscape"!=oe?
26:28;switch(je){case 30:w.defaultAm=2;break;case 28:w.defaultAm=3;break;case 26:w.defaultAm=1;break;default:throw"bad dbits value";}w.DB=je;w.DM=(1<<w.DB)-1;w.DV=1<<w.DB;w.BI_FP=52;w.FV=Math.pow(2,w.BI_FP);w.F1=w.BI_FP-w.DB;w.F2=2*w.DB-w.BI_FP;w.initBiRc();w.BI_RM="0123456789abcdefghijklmnopqrstuvwxyz";w.lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,
251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509];w.lplim=67108864/w.lowprimes[w.lowprimes.length-1]|0;var od=window.ReportGrid?window.ReportGrid:window.ReportGrid={};od.$=od.$||{};od.$.pk=od.$.pk||{};od.$.pk.rg_query_BaseQuery=od.$.pk.rg_query_BaseQuery||Ja;od.$.pk.rg_query_Query=od.$.pk.rg_query_Query||pb;K.SymbolCache.cache=new K.SymbolCache;ha.layoutDefault=new L.StringMap;
ha.layoutType=new L.StringMap;ha.layoutArgs=new L.StringMap;ha.layoutDefault.set("barchart","cartesian");ha.layoutDefault.set("funnelchart","simple");ha.layoutDefault.set("geo","simple");ha.layoutDefault.set("heatgrid","cartesian");ha.layoutDefault.set("linechart","cartesian");ha.layoutDefault.set("piechart","simple");ha.layoutDefault.set("sankey","simple");ha.layoutDefault.set("scattergraph","cartesian");ha.layoutDefault.set("streamgraph","x");ha.layoutType.set("cartesian",La);ha.layoutType.set("simple",
Gc);ha.layoutType.set("x",Db);f.NamedColors.byName=new L.StringMap;f.NamedColors.byName.set("aliceblue",f.NamedColors.aliceblue=f.Rgb.fromInt(15792383));f.NamedColors.byName.set("alice blue",f.NamedColors.aliceblue);f.NamedColors.byName.set("antiquewhite",f.NamedColors.antiquewhite=f.Rgb.fromInt(16444375));f.NamedColors.byName.set("antique white",f.NamedColors.antiquewhite);f.NamedColors.byName.set("aqua",f.NamedColors.aqua=f.Rgb.fromInt(65535));f.NamedColors.byName.set("aquamarine",f.NamedColors.aquamarine=
f.Rgb.fromInt(8388564));f.NamedColors.byName.set("azure",f.NamedColors.azure=f.Rgb.fromInt(15794175));f.NamedColors.byName.set("beige",f.NamedColors.beige=f.Rgb.fromInt(16119260));f.NamedColors.byName.set("bisque",f.NamedColors.bisque=f.Rgb.fromInt(16770244));f.NamedColors.byName.set("black",f.NamedColors.black=f.Rgb.fromInt(0));f.NamedColors.byName.set("blanchedalmond",f.NamedColors.blanchedalmond=f.Rgb.fromInt(16772045));f.NamedColors.byName.set("blanched almond",f.NamedColors.blanchedalmond);f.NamedColors.byName.set("blue",
f.NamedColors.blue=f.Rgb.fromInt(255));f.NamedColors.byName.set("blueviolet",f.NamedColors.blueviolet=f.Rgb.fromInt(9055202));f.NamedColors.byName.set("blue violet",f.NamedColors.blueviolet);f.NamedColors.byName.set("brown",f.NamedColors.brown=f.Rgb.fromInt(10824234));f.NamedColors.byName.set("burlywood",f.NamedColors.burlywood=f.Rgb.fromInt(14596231));f.NamedColors.byName.set("burly wood",f.NamedColors.burlywood);f.NamedColors.byName.set("cadetblue",f.NamedColors.cadetblue=f.Rgb.fromInt(6266528));
f.NamedColors.byName.set("cadet blue",f.NamedColors.cadetblue);f.NamedColors.byName.set("chartreuse",f.NamedColors.chartreuse=f.Rgb.fromInt(8388352));f.NamedColors.byName.set("chart reuse",f.NamedColors.chartreuse);f.NamedColors.byName.set("chocolate",f.NamedColors.chocolate=f.Rgb.fromInt(13789470));f.NamedColors.byName.set("coral",f.NamedColors.coral=f.Rgb.fromInt(16744272));f.NamedColors.byName.set("cornflowerblue",f.NamedColors.cornflowerblue=f.Rgb.fromInt(6591981));f.NamedColors.byName.set("corn flower blue",
f.NamedColors.cornflowerblue);f.NamedColors.byName.set("cornsilk",f.NamedColors.cornsilk=f.Rgb.fromInt(16775388));f.NamedColors.byName.set("corn silk",f.NamedColors.cornsilk);f.NamedColors.byName.set("crimson",f.NamedColors.crimson=f.Rgb.fromInt(14423100));f.NamedColors.byName.set("cyan",f.NamedColors.cyan=f.Rgb.fromInt(65535));f.NamedColors.byName.set("darkblue",f.NamedColors.darkblue=f.Rgb.fromInt(139));f.NamedColors.byName.set("dark blue",f.NamedColors.darkblue);f.NamedColors.byName.set("darkcyan",
f.NamedColors.darkcyan=f.Rgb.fromInt(35723));f.NamedColors.byName.set("dark cyan",f.NamedColors.darkcyan);f.NamedColors.byName.set("darkgoldenrod",f.NamedColors.darkgoldenrod=f.Rgb.fromInt(12092939));f.NamedColors.byName.set("dark golden rod",f.NamedColors.darkgoldenrod);f.NamedColors.byName.set("darkgray",f.NamedColors.darkgray=f.NamedColors.darkgrey=f.Rgb.fromInt(11119017));f.NamedColors.byName.set("dark gray",f.NamedColors.darkgray);f.NamedColors.byName.set("darkgrey",f.NamedColors.darkgrey);f.NamedColors.byName.set("dark grey",
f.NamedColors.darkgrey);f.NamedColors.byName.set("darkgreen",f.NamedColors.darkgreen=f.Rgb.fromInt(25600));f.NamedColors.byName.set("dark green",f.NamedColors.darkgreen);f.NamedColors.byName.set("darkkhaki",f.NamedColors.darkkhaki=f.Rgb.fromInt(12433259));f.NamedColors.byName.set("dark khaki",f.NamedColors.darkkhaki);f.NamedColors.byName.set("darkmagenta",f.NamedColors.darkmagenta=f.Rgb.fromInt(9109643));f.NamedColors.byName.set("dark magenta",f.NamedColors.darkmagenta);f.NamedColors.byName.set("darkolivegreen",
f.NamedColors.darkolivegreen=f.Rgb.fromInt(5597999));f.NamedColors.byName.set("dark olive green",f.NamedColors.darkolivegreen);f.NamedColors.byName.set("darkorange",f.NamedColors.darkorange=f.Rgb.fromInt(16747520));f.NamedColors.byName.set("dark orange",f.NamedColors.darkorange);f.NamedColors.byName.set("darkorchid",f.NamedColors.darkorchid=f.Rgb.fromInt(10040012));f.NamedColors.byName.set("dark orchid",f.NamedColors.darkorchid);f.NamedColors.byName.set("darkred",f.NamedColors.darkred=f.Rgb.fromInt(9109504));
f.NamedColors.byName.set("dark red",f.NamedColors.darkred);f.NamedColors.byName.set("darksalmon",f.NamedColors.darksalmon=f.Rgb.fromInt(15308410));f.NamedColors.byName.set("dark salmon",f.NamedColors.darksalmon);f.NamedColors.byName.set("darkseagreen",f.NamedColors.darkseagreen=f.Rgb.fromInt(9419919));f.NamedColors.byName.set("dark sea green",f.NamedColors.darkseagreen);f.NamedColors.byName.set("darkslateblue",f.NamedColors.darkslateblue=f.Rgb.fromInt(4734347));f.NamedColors.byName.set("dark slate blue",
f.NamedColors.darkslateblue);f.NamedColors.byName.set("darkslategray",f.NamedColors.darkslategray=f.NamedColors.darkslategrey=f.Rgb.fromInt(3100495));f.NamedColors.byName.set("dark slate gray",f.NamedColors.darkslategray);f.NamedColors.byName.set("darkslategrey",f.NamedColors.darkslategrey);f.NamedColors.byName.set("dark slate grey",f.NamedColors.darkslategrey);f.NamedColors.byName.set("darkturquoise",f.NamedColors.darkturquoise=f.Rgb.fromInt(52945));f.NamedColors.byName.set("dark turquoise",f.NamedColors.darkturquoise);
f.NamedColors.byName.set("darkviolet",f.NamedColors.darkviolet=f.Rgb.fromInt(9699539));f.NamedColors.byName.set("dark violet",f.NamedColors.darkviolet);f.NamedColors.byName.set("deeppink",f.NamedColors.deeppink=f.Rgb.fromInt(16716947));f.NamedColors.byName.set("deep pink",f.NamedColors.deeppink);f.NamedColors.byName.set("deepskyblue",f.NamedColors.deepskyblue=f.Rgb.fromInt(49151));f.NamedColors.byName.set("deep sky blue",f.NamedColors.deepskyblue);f.NamedColors.byName.set("dimgray",f.NamedColors.dimgray=
f.NamedColors.dimgrey=f.Rgb.fromInt(6908265));f.NamedColors.byName.set("dim grey",f.NamedColors.dimgrey);f.NamedColors.byName.set("dimgrey",f.NamedColors.dimgrey);f.NamedColors.byName.set("dim grey",f.NamedColors.dimgrey);f.NamedColors.byName.set("dodgerblue",f.NamedColors.dodgerblue=f.Rgb.fromInt(2003199));f.NamedColors.byName.set("dodger blue",f.NamedColors.dodgerblue);f.NamedColors.byName.set("firebrick",f.NamedColors.firebrick=f.Rgb.fromInt(11674146));f.NamedColors.byName.set("fire brick",f.NamedColors.firebrick);
f.NamedColors.byName.set("floralwhite",f.NamedColors.floralwhite=f.Rgb.fromInt(16775920));f.NamedColors.byName.set("floral white",f.NamedColors.floralwhite);f.NamedColors.byName.set("forestgreen",f.NamedColors.forestgreen=f.Rgb.fromInt(2263842));f.NamedColors.byName.set("forest green",f.NamedColors.forestgreen);f.NamedColors.byName.set("fuchsia",f.NamedColors.fuchsia=f.Rgb.fromInt(16711935));f.NamedColors.byName.set("gainsboro",f.NamedColors.gainsboro=f.Rgb.fromInt(14474460));f.NamedColors.byName.set("ghostwhite",
f.NamedColors.ghostwhite=f.Rgb.fromInt(16316671));f.NamedColors.byName.set("ghost white",f.NamedColors.ghostwhite);f.NamedColors.byName.set("gold",f.NamedColors.gold=f.Rgb.fromInt(16766720));f.NamedColors.byName.set("goldenrod",f.NamedColors.goldenrod=f.Rgb.fromInt(14329120));f.NamedColors.byName.set("golden rod",f.NamedColors.goldenrod);f.NamedColors.byName.set("gray",f.NamedColors.gray=f.NamedColors.grey=f.Rgb.fromInt(8421504));f.NamedColors.byName.set("grey",f.NamedColors.grey);f.NamedColors.byName.set("green",
f.NamedColors.green=f.Rgb.fromInt(32768));f.NamedColors.byName.set("greenyellow",f.NamedColors.greenyellow=f.Rgb.fromInt(11403055));f.NamedColors.byName.set("green yellow",f.NamedColors.greenyellow);f.NamedColors.byName.set("honeydew",f.NamedColors.honeydew=f.Rgb.fromInt(15794160));f.NamedColors.byName.set("honey dew",f.NamedColors.honeydew);f.NamedColors.byName.set("hotpink",f.NamedColors.hotpink=f.Rgb.fromInt(16738740));f.NamedColors.byName.set("hot pink",f.NamedColors.hotpink);f.NamedColors.byName.set("indianred",
f.NamedColors.indianred=f.Rgb.fromInt(13458524));f.NamedColors.byName.set("indian red",f.NamedColors.indianred);f.NamedColors.byName.set("indigo",f.NamedColors.indigo=f.Rgb.fromInt(4915330));f.NamedColors.byName.set("ivory",f.NamedColors.ivory=f.Rgb.fromInt(16777200));f.NamedColors.byName.set("khaki",f.NamedColors.khaki=f.Rgb.fromInt(15787660));f.NamedColors.byName.set("lavender",f.NamedColors.lavender=f.Rgb.fromInt(15132410));f.NamedColors.byName.set("lavenderblush",f.NamedColors.lavenderblush=f.Rgb.fromInt(16773365));
f.NamedColors.byName.set("lavender blush",f.NamedColors.lavenderblush);f.NamedColors.byName.set("lawngreen",f.NamedColors.lawngreen=f.Rgb.fromInt(8190976));f.NamedColors.byName.set("lawn green",f.NamedColors.lawngreen);f.NamedColors.byName.set("lemonchiffon",f.NamedColors.lemonchiffon=f.Rgb.fromInt(16775885));f.NamedColors.byName.set("lemon chiffon",f.NamedColors.lemonchiffon);f.NamedColors.byName.set("lightblue",f.NamedColors.lightblue=f.Rgb.fromInt(11393254));f.NamedColors.byName.set("light blue",
f.NamedColors.lightblue);f.NamedColors.byName.set("lightcoral",f.NamedColors.lightcoral=f.Rgb.fromInt(15761536));f.NamedColors.byName.set("light coral",f.NamedColors.lightcoral);f.NamedColors.byName.set("lightcyan",f.NamedColors.lightcyan=f.Rgb.fromInt(14745599));f.NamedColors.byName.set("light cyan",f.NamedColors.lightcyan);f.NamedColors.byName.set("lightgoldenrodyellow",f.NamedColors.lightgoldenrodyellow=f.Rgb.fromInt(16448210));f.NamedColors.byName.set("light golden rod yellow",f.NamedColors.lightgoldenrodyellow);
f.NamedColors.byName.set("lightgray",f.NamedColors.lightgray=f.NamedColors.lightgrey=f.Rgb.fromInt(13882323));f.NamedColors.byName.set("light gray",f.NamedColors.lightgray);f.NamedColors.byName.set("lightgrey",f.NamedColors.lightgrey);f.NamedColors.byName.set("light grey",f.NamedColors.lightgrey);f.NamedColors.byName.set("lightgreen",f.NamedColors.lightgreen=f.Rgb.fromInt(9498256));f.NamedColors.byName.set("light green",f.NamedColors.lightgreen);f.NamedColors.byName.set("lightpink",f.NamedColors.lightpink=
f.Rgb.fromInt(16758465));f.NamedColors.byName.set("light pink",f.NamedColors.lightpink);f.NamedColors.byName.set("lightsalmon",f.NamedColors.lightsalmon=f.Rgb.fromInt(16752762));f.NamedColors.byName.set("light salmon",f.NamedColors.lightsalmon);f.NamedColors.byName.set("lightseagreen",f.NamedColors.lightseagreen=f.Rgb.fromInt(2142890));f.NamedColors.byName.set("light sea green",f.NamedColors.lightseagreen);f.NamedColors.byName.set("lightskyblue",f.NamedColors.lightskyblue=f.Rgb.fromInt(8900346));
f.NamedColors.byName.set("light sky blue",f.NamedColors.lightskyblue);f.NamedColors.byName.set("lightslategray",f.NamedColors.lightslategray=f.NamedColors.lightslategrey=f.Rgb.fromInt(7833753));f.NamedColors.byName.set("light slate gray",f.NamedColors.lightslategray);f.NamedColors.byName.set("lightslategrey",f.NamedColors.lightslategrey);f.NamedColors.byName.set("light slate grey",f.NamedColors.lightslategrey);f.NamedColors.byName.set("lightsteelblue",f.NamedColors.lightsteelblue=f.Rgb.fromInt(11584734));
f.NamedColors.byName.set("light steel blue",f.NamedColors.lightsteelblue);f.NamedColors.byName.set("lightyellow",f.NamedColors.lightyellow=f.Rgb.fromInt(16777184));f.NamedColors.byName.set("light yellow",f.NamedColors.lightyellow);f.NamedColors.byName.set("lime",f.NamedColors.lime=f.Rgb.fromInt(65280));f.NamedColors.byName.set("limegreen",f.NamedColors.limegreen=f.Rgb.fromInt(3329330));f.NamedColors.byName.set("lime green",f.NamedColors.limegreen);f.NamedColors.byName.set("linen",f.NamedColors.linen=
f.Rgb.fromInt(16445670));f.NamedColors.byName.set("magenta",f.NamedColors.magenta=f.Rgb.fromInt(16711935));f.NamedColors.byName.set("maroon",f.NamedColors.maroon=f.Rgb.fromInt(8388608));f.NamedColors.byName.set("mediumaquamarine",f.NamedColors.mediumaquamarine=f.Rgb.fromInt(6737322));f.NamedColors.byName.set("mediuma quamarine",f.NamedColors.mediumaquamarine);f.NamedColors.byName.set("mediumblue",f.NamedColors.mediumblue=f.Rgb.fromInt(205));f.NamedColors.byName.set("medium blue",f.NamedColors.mediumblue);
f.NamedColors.byName.set("mediumorchid",f.NamedColors.mediumorchid=f.Rgb.fromInt(12211667));f.NamedColors.byName.set("medium orchid",f.NamedColors.mediumorchid);f.NamedColors.byName.set("mediumpurple",f.NamedColors.mediumpurple=f.Rgb.fromInt(9662683));f.NamedColors.byName.set("medium purple",f.NamedColors.mediumpurple);f.NamedColors.byName.set("mediumseagreen",f.NamedColors.mediumseagreen=f.Rgb.fromInt(3978097));f.NamedColors.byName.set("medium sea green",f.NamedColors.mediumseagreen);f.NamedColors.byName.set("mediumslateblue",
f.NamedColors.mediumslateblue=f.Rgb.fromInt(8087790));f.NamedColors.byName.set("medium slate blue",f.NamedColors.mediumslateblue);f.NamedColors.byName.set("mediumspringgreen",f.NamedColors.mediumspringgreen=f.Rgb.fromInt(64154));f.NamedColors.byName.set("medium spring green",f.NamedColors.mediumspringgreen);f.NamedColors.byName.set("mediumturquoise",f.NamedColors.mediumturquoise=f.Rgb.fromInt(4772300));f.NamedColors.byName.set("medium turquoise",f.NamedColors.mediumturquoise);f.NamedColors.byName.set("mediumvioletred",
f.NamedColors.mediumvioletred=f.Rgb.fromInt(13047173));f.NamedColors.byName.set("medium violet red",f.NamedColors.mediumvioletred);f.NamedColors.byName.set("midnightblue",f.NamedColors.midnightblue=f.Rgb.fromInt(1644912));f.NamedColors.byName.set("midnight blue",f.NamedColors.midnightblue);f.NamedColors.byName.set("mintcream",f.NamedColors.mintcream=f.Rgb.fromInt(16121850));f.NamedColors.byName.set("mint cream",f.NamedColors.mintcream);f.NamedColors.byName.set("mistyrose",f.NamedColors.mistyrose=
f.Rgb.fromInt(16770273));f.NamedColors.byName.set("misty rose",f.NamedColors.mistyrose);f.NamedColors.byName.set("moccasin",f.NamedColors.moccasin=f.Rgb.fromInt(16770229));f.NamedColors.byName.set("navajowhite",f.NamedColors.navajowhite=f.Rgb.fromInt(16768685));f.NamedColors.byName.set("navajo white",f.NamedColors.navajowhite);f.NamedColors.byName.set("navy",f.NamedColors.navy=f.Rgb.fromInt(128));f.NamedColors.byName.set("oldlace",f.NamedColors.oldlace=f.Rgb.fromInt(16643558));f.NamedColors.byName.set("old lace",
f.NamedColors.oldlace);f.NamedColors.byName.set("olive",f.NamedColors.olive=f.Rgb.fromInt(8421376));f.NamedColors.byName.set("olivedrab",f.NamedColors.olivedrab=f.Rgb.fromInt(7048739));f.NamedColors.byName.set("olive drab",f.NamedColors.olivedrab);f.NamedColors.byName.set("orange",f.NamedColors.orange=f.Rgb.fromInt(16753920));f.NamedColors.byName.set("orangered",f.NamedColors.orangered=f.Rgb.fromInt(16729344));f.NamedColors.byName.set("orangered",f.NamedColors.orangered);f.NamedColors.byName.set("orchid",
f.NamedColors.orchid=f.Rgb.fromInt(14315734));f.NamedColors.byName.set("palegoldenrod",f.NamedColors.palegoldenrod=f.Rgb.fromInt(15657130));f.NamedColors.byName.set("pale golden rod",f.NamedColors.palegoldenrod);f.NamedColors.byName.set("palegreen",f.NamedColors.palegreen=f.Rgb.fromInt(10025880));f.NamedColors.byName.set("pale green",f.NamedColors.palegreen);f.NamedColors.byName.set("paleturquoise",f.NamedColors.paleturquoise=f.Rgb.fromInt(11529966));f.NamedColors.byName.set("pale turquoise",f.NamedColors.paleturquoise);
f.NamedColors.byName.set("palevioletred",f.NamedColors.palevioletred=f.Rgb.fromInt(14381203));f.NamedColors.byName.set("pale violet red",f.NamedColors.palevioletred);f.NamedColors.byName.set("papayawhip",f.NamedColors.papayawhip=f.Rgb.fromInt(16773077));f.NamedColors.byName.set("papaya whip",f.NamedColors.papayawhip);f.NamedColors.byName.set("peachpuff",f.NamedColors.peachpuff=f.Rgb.fromInt(16767673));f.NamedColors.byName.set("peach puff",f.NamedColors.peachpuff);f.NamedColors.byName.set("peru",f.NamedColors.peru=
f.Rgb.fromInt(13468991));f.NamedColors.byName.set("pink",f.NamedColors.pink=f.Rgb.fromInt(16761035));f.NamedColors.byName.set("plum",f.NamedColors.plum=f.Rgb.fromInt(14524637));f.NamedColors.byName.set("powderblue",f.NamedColors.powderblue=f.Rgb.fromInt(11591910));f.NamedColors.byName.set("powder blue",f.NamedColors.powderblue);f.NamedColors.byName.set("purple",f.NamedColors.purple=f.Rgb.fromInt(8388736));f.NamedColors.byName.set("red",f.NamedColors.red=f.Rgb.fromInt(16711680));f.NamedColors.byName.set("rosybrown",
f.NamedColors.rosybrown=f.Rgb.fromInt(12357519));f.NamedColors.byName.set("rosy brown",f.NamedColors.rosybrown);f.NamedColors.byName.set("royalblue",f.NamedColors.royalblue=f.Rgb.fromInt(4286945));f.NamedColors.byName.set("royal blue",f.NamedColors.royalblue);f.NamedColors.byName.set("saddlebrown",f.NamedColors.saddlebrown=f.Rgb.fromInt(9127187));f.NamedColors.byName.set("saddle brown",f.NamedColors.saddlebrown);f.NamedColors.byName.set("salmon",f.NamedColors.salmon=f.Rgb.fromInt(16416882));f.NamedColors.byName.set("sandybrown",
f.NamedColors.sandybrown=f.Rgb.fromInt(16032864));f.NamedColors.byName.set("sandy brown",f.NamedColors.sandybrown);f.NamedColors.byName.set("seagreen",f.NamedColors.seagreen=f.Rgb.fromInt(3050327));f.NamedColors.byName.set("sea green",f.NamedColors.seagreen);f.NamedColors.byName.set("seashell",f.NamedColors.seashell=f.Rgb.fromInt(16774638));f.NamedColors.byName.set("sea shell",f.NamedColors.seashell);f.NamedColors.byName.set("sienna",f.NamedColors.sienna=f.Rgb.fromInt(10506797));f.NamedColors.byName.set("silver",
f.NamedColors.silver=f.Rgb.fromInt(12632256));f.NamedColors.byName.set("skyblue",f.NamedColors.skyblue=f.Rgb.fromInt(8900331));f.NamedColors.byName.set("sky blue",f.NamedColors.skyblue);f.NamedColors.byName.set("slateblue",f.NamedColors.slateblue=f.Rgb.fromInt(6970061));f.NamedColors.byName.set("slate blue",f.NamedColors.slateblue);f.NamedColors.byName.set("slategray",f.NamedColors.slategray=f.NamedColors.slategrey=f.Rgb.fromInt(7372944));f.NamedColors.byName.set("slate gray",f.NamedColors.slategray);
f.NamedColors.byName.set("slategrey",f.NamedColors.slategrey);f.NamedColors.byName.set("slate grey",f.NamedColors.slategrey);f.NamedColors.byName.set("snow",f.NamedColors.snow=f.Rgb.fromInt(16775930));f.NamedColors.byName.set("springgreen",f.NamedColors.springgreen=f.Rgb.fromInt(65407));f.NamedColors.byName.set("spring green",f.NamedColors.springgreen);f.NamedColors.byName.set("steelblue",f.NamedColors.steelblue=f.Rgb.fromInt(4620980));f.NamedColors.byName.set("steel blue",f.NamedColors.steelblue);
f.NamedColors.byName.set("tan",f.NamedColors.tan=f.Rgb.fromInt(13808780));f.NamedColors.byName.set("teal",f.NamedColors.teal=f.Rgb.fromInt(32896));f.NamedColors.byName.set("thistle",f.NamedColors.thistle=f.Rgb.fromInt(14204888));f.NamedColors.byName.set("tomato",f.NamedColors.tomato=f.Rgb.fromInt(16737095));f.NamedColors.byName.set("turquoise",f.NamedColors.turquoise=f.Rgb.fromInt(4251856));f.NamedColors.byName.set("violet",f.NamedColors.violet=f.Rgb.fromInt(15631086));f.NamedColors.byName.set("wheat",
f.NamedColors.wheat=f.Rgb.fromInt(16113331));f.NamedColors.byName.set("white",f.NamedColors.white=f.Rgb.fromInt(16777215));f.NamedColors.byName.set("whitesmoke",f.NamedColors.whitesmoke=f.Rgb.fromInt(16119285));f.NamedColors.byName.set("white smoke",f.NamedColors.whitesmoke);f.NamedColors.byName.set("yellow",f.NamedColors.yellow=f.Rgb.fromInt(16776960));f.NamedColors.byName.set("yellowgreen",f.NamedColors.yellowgreen=f.Rgb.fromInt(10145074));f.NamedColors.byName.set("yellow green",f.NamedColors.yellowgreen);
gb.En.get_language();Na.EnUS.get_culture();var ke;if(null!=(ke=window.JSON))aa.Json.nativeDecoder=ke.parse,aa.Json.nativeEncoder=ke.stringify;Ud.DAYS_OF_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];ja._reparse=new M("^\\d{4}-\\d\\d-\\d\\d(( |T)\\d\\d:\\d\\d(:\\d\\d(\\.\\d{1,3})?)?)?Z?$","");G._reparse=new M("^[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?","");G._reparseStrict=new M("^[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?$","");P._reparse=new M("^([+-])?\\d+$","");J._reFormat=
new M("{(\\d+)(?::([a-zA-Z]+))?(?:,([^\"',}]+|'[^']+'|\"[^\"]+\"))?(?:,([^\"',}]+|'[^']+'|\"[^\"]+\"))?(?:,([^\"',}]+|'[^']+'|\"[^\"]+\"))?}","m");J._reCollapse=new M("\\s+","g");J.__ucwordsPattern=new M("[^a-zA-Z]([a-z])","");J._reInterpolateNumber=new M("[-+]?(?:\\d+\\.\\d+|\\d+\\.|\\.\\d+|\\d+)(?:[eE][-]?\\d+)?","");Bb.refloat=new M("(\\d+(?:\\.\\d+)?)","");ib._escapePattern=new M("[*+?|{[()^$.# \\\\]","");ia.refloat=new M("(\\d+(?:\\.\\d+)?)","");ea.window="undefined"!=typeof window?window:null;
ea.document="undefined"!=typeof window?window.document:null;O.doc=function(){var a=new la([ea.document]),b=Yb.create([a]);a.parentNode=b.parentNode=ea.document.documentElement;return b}();O.selectionEngine=function(){var a;if(Dc.supported())a=new Dc;else if(Ob.supported())a=new Ob;else throw"no selector engine available";return a}(this);Wb.prefix=function(){var a=new L.StringMap;a.set("svg","http://www.w3.org/2000/svg");a.set("xhtml","http://www.w3.org/1999/xhtml");a.set("xlink","http://www.w3.org/1999/xlink");
a.set("xml","http://www.w3.org/XML/1998/namespace");a.set("xmlns","http://www.w3.org/2000/xmlns/");return a}();Ec._usepage=(new M("WebKit","")).match(ea.window.navigator.userAgent);oa.timeout=0;oa.interval=0;oa._step=oa.step;Ca._id=0;Ca._inheritid=0;Ra.at="@";Ra.bracketMismatch="Bracket mismatch! Inside template, non-paired brackets, '{' or '}', should be replaced by @{'{'} and @{'}'}.";Cb.BASE_URL_GEOJSON="https://api.reportgrid.com/geo/json/";Cb.SERVICE_RENDERING_STATIC="https://api.reportgrid.com/services/viz/charts/up.json";
Cb.LEGACY_RENDERING_STATIC="https://api.reportgrid.com/services/viz/charts/upandsee.{ext}";Pa.lastid=0;Pa.chartsCounter=0;Pa.chartsLoaded=0;Fb.snapping={minute:[{to:10,s:1},{to:20,s:2},{to:30,s:5},{to:60,s:10},{to:120,s:30},{to:240,s:60},{to:960,s:240}],minutetop:480,hour:[{to:12,s:1},{to:24,s:6},{to:60,s:12},{to:240,s:24},{to:480,s:48},{to:960,s:120}],hourtop:240,month:[{to:13,s:1},{to:25,s:2},{to:49,s:4},{to:73,s:6}],monthtop:12,year:[{to:10,s:1},{to:20,s:2},{to:50,s:5}],yeartop:10};Ua.PivotTable.defaultColorStart=
new f.Hsl(210,1,1);Ua.PivotTable.defaultColorEnd=new f.Hsl(210,1,0.5);F.DownloaderMenu.DEFAULT_FORMATS=["png","jpg","pdf"];F.DownloaderMenu.DEFAULT_TITLE="Download";F.Logo.registry=new L.StringMap;F.Logo._id=0;ga.warner=window.console&&window.console.warn?function(a){console.warn(""+t.string(a))}:function(){};qb.defaultStartColor=new f.Hsl(210,1,1);qb.defaultEndColor=new f.Hsl(210,1,0.5);g.TransformerArray.instance=new g.TransformerArray;g.TransformerObject.instance=new g.TransformerObject;g.TransformerString.instance=
new g.TransformerString;g.TransformerBool.instance=new g.TransformerBool;g.TransformerInt.instance=new g.TransformerInt;g.TransformerFloat.instance=new g.TransformerFloat;g.TransformerFunction.instance=new g.TransformerFunction;g.TransformerExpressionToFunction.interp=new ic;g.TransformerExpressionToFunction.pattern=new M("^\\s*=","");Gb.ALLOWED_FORMATS=["pdf","ps","png","jpg","svg"];Ba.FORMAT="jpg";Ba.nextframeid=0;La.ALT_RIGHT=20;La.ALT_LEFT=20;La.ALT_TOP=8;La.ALT_BOTTOM=8;La.REYAXIS=new M("^y(\\d+)$",
"");La.REYINDEX=new M("^y(\\d+)","");La.REYTITLE=new M("^y(\\d+)title$","");Db.ALT_RIGHT=20;Db.ALT_LEFT=20;Db.ALT_TOP=8;Db.ALT_BOTTOM=8;n.Coords.retransform=new M("translate\\(\\s*(\\d+(?:\\.\\d+)?)\\s*(?:[, ]\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)","");n.StreamGraph.vid=0;K.SVGSymbolBuilder.SIZE_PATTERN=new M("^(\\d+)x(\\d+)$","");K.SVGSymbolBuilder.ALIGN_PATTERN=new M("^(center|left|right)\\s+(center|top|bottom)$","i");K.SVGSymbolBuilder.HORIZONTAL_PATTERN=new M("^(center|left|right)$","i");K.SVGSymbolBuilder.VERTICAL_PATTERN=
new M("^(top|bottom)$","i");bc.modulus="00:ca:a7:37:07:b0:26:63:cb:f1:37:9d:e9:cc:c1:bd:f1:57:f5:90:72:4d:74:e2:5f:33:df:6c:c4:e4:7f:95:3c:87:89:ed:3c:60:cc:b0:15:f9:ad:57:77:52:4b:25:9b:c8:f9:d0:8a:b8:0a:ab:17:3d:7c:cf:1d:19:a3:8c:43:9b:ee:5b:2e:9e:45:18:b3:97:2a:91:c2:90:c2:1e:49:a3:5e:b1:48:09:1c:ee:06:b9:6e:ec:22:e6:2d:06:b8:b4:22:5f:4d:5e:81:6a:91:13:30:5d:6c:b5:7c:cc:fa:47:dc:8e:b4:f3:fd:0a:6e:d2:f8:09:3c:b1:c2:90:19";bc.publicExponent="3";X.validGroupValues=["hour","day","week","month","year"];
ka.range=new M("(\\d+(?:\\.\\d+)?|\\.\\d+)?-(\\d+(?:\\.\\d+|\\.\\d+)?)?","");ha.html=["pivottable","leaderboard"];ha.svg="barchart,geo,funnelchart,heatgrid,linechart,piechart,scattergraph,streamgraph,sankey".split(",");ha.visualizations=ha.svg.concat(ha.html);ha.layouts=["simple","cartesian","x"];f.Colors._reParse=new M("^(?:(hsl|rgb|rgba|cmyk)\\(([^)]+)\\))|(?:(?:0x|#)([a-f0-9]{3,6}))$","i");s.DateParser.months=Na.EnUS.get_culture().date.months.slice(0,-1).map(function(a){return a.toLowerCase()});
s.DateParser.shortmonths=Na.EnUS.get_culture().date.abbrMonths.slice(0,-1).map(function(a){return a.toLowerCase()});s.DateParser.days=Na.EnUS.get_culture().date.days.map(function(a){return a.toLowerCase()});s.DateParser.shortdays=Na.EnUS.get_culture().date.abbrDays.map(function(a){return a.toLowerCase()});s.DateParser.sfullmonths=s.DateParser.months.join("|");s.DateParser.sshortmonths=s.DateParser.shortmonths.join("|");s.DateParser.sfulldays=s.DateParser.days.join("|");s.DateParser.sshortdays=s.DateParser.shortdays.join("|");
s.DateParser.day="(0?[0-9]|[1-2][0-9]|3[0-1])(?:st|nd|rd|th)?";s.DateParser.month="(?:0?[1-9]|1[0-2])";s.DateParser.hour="(?:0?[0-9]|1[0-9]|2[0-3])";s.DateParser.hhour="(?:0[0-9]|1[0-2])";s.DateParser.hohour="(?:0?[0-9]|1[0-2])";s.DateParser.fminsec="(?:0[0-9]|[1-5][0-9])";s.DateParser.minsec="(?:0?[0-9]|[1-5][0-9])";s.DateParser.ampm="(?:(?:in\\s+the\\s+)?(am|pm|evening|morning|afternoon))";s.DateParser.daypart="(?:(?:in\\s+the\\s+)?(evening|morning|afternoon|sunsrise|sunset|dawn|dusk|noon|mid-day|midday|mid-night|midnight))";
s.DateParser.period="minute|minutes|hour|hours|day|days|week|weeks|month|months|year|years|second|seconds";s.DateParser.dateexp=new M("(?:(?:\\b("+s.DateParser.sfullmonths+")\\s+"+s.DateParser.day+"(?:\\s*,\\s*(\\d{2,4}))?\\b)|(?:\\b("+s.DateParser.sshortmonths+")\\s+"+s.DateParser.day+"(?:\\s*,?\\s*(\\d{2,4}))?\\b)|(?:\\b"+s.DateParser.day+"\\s+("+s.DateParser.sfullmonths+")(?:\\s+(\\d{2,4}))?\\b)|(?:\\b"+s.DateParser.day+"\\s+("+s.DateParser.sshortmonths+")(?:\\s+(\\d{2,4}))?\\b)|(?:\\b(?:"+s.DateParser.day+
"\\s+)?("+s.DateParser.sfullmonths+")\\s+(\\d{2,4})\\b)|(?:\\b(?:"+s.DateParser.day+"\\s+)?("+s.DateParser.sshortmonths+")\\s+(\\d{2,4})\\b)|(?:\\b("+s.DateParser.month+")/"+s.DateParser.day+"(?:/(\\d{2,4}))?\\b)|(?:\\b"+s.DateParser.day+"/("+s.DateParser.month+")(?:/(\\d{2,4}))?\\b)|(?:\\b(\\d{2,4})-("+s.DateParser.month+")-"+s.DateParser.day+"\\b)|(?:^\\s*"+s.DateParser.day+"\\s*$))","i");s.DateParser.absdateexp=new M("(?:(?:\\b(today|now|this\\s+second|tomorrow|yesterday)\\b)|(?:\\b(?:(next|last|this)\\s+)?("+
s.DateParser.sfullmonths+")\\b)|(?:\\b(?:(next|last|this)\\s+)?("+s.DateParser.sfulldays+")\\b)|(?:\\b(?:(next|last|this)\\s+)?("+s.DateParser.sshortmonths+")\\b)|(?:\\b(?:(next|last|this)\\s+)?("+s.DateParser.sshortdays+")\\b))","i");s.DateParser.relexp=new M("(?:(?:\\b(plus\\s+|minus\\s|\\+|-|in)\\s*(\\d+)?\\s+("+s.DateParser.period+")\\b)|(?:\\b(\\d+)?\\s+("+s.DateParser.period+")\\s+(from|before|hence|after|ago)?\\b))","i");s.DateParser.timeexp=new M("(?:\\bat\\s+)?(?:(?:\\b("+s.DateParser.hohour+
"):("+s.DateParser.minsec+")\\s*"+s.DateParser.ampm+"\\b)|(?:(?:\\b|T)("+s.DateParser.hour+"):("+s.DateParser.minsec+")(?:[:]("+s.DateParser.minsec+")(?:\\.(\\d+))?)?\\b)|(?:(?:^|\\s+)("+s.DateParser.hhour+")("+s.DateParser.fminsec+")\\s*"+s.DateParser.ampm+"?(?:\\s+|$))|(?:\\b("+s.DateParser.hohour+")\\s*"+s.DateParser.ampm+"\\b)|(?:\\b"+s.DateParser.daypart+"\\b))","i");p.LineInternals.arcOffset=-Math.PI/2;p.LineInternals.arcMax=2*Math.PI-1.0E-6;p.LineInternals._lineBasisBezier1=[0,2/3,1/3,0];p.LineInternals._lineBasisBezier2=
[0,1/3,2/3,0];p.LineInternals._lineBasisBezier3=[0,1/6,2/3,1/6];p.Symbol.sqrt3=Math.sqrt(3);p.Symbol.tan30=Math.tan(30*Math.PI/180);fb.ERegs._escapePattern=new M("[*+?|{[()^$.# \\\\]","");Ya.main()})();
